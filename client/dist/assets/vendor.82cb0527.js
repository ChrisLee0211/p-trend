var PT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get Base(){return oc},get Circle(){return PPe},get Ellipse(){return DPe},get Image(){return LPe},get Line(){return NPe},get Marker(){return $Pe},get Path(){return rN},get Polygon(){return qPe},get Polyline(){return ZPe},get Rect(){return tRe},get Text(){return nRe}}),RT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get Base(){return Eu},get Circle(){return fRe},get Dom(){return hRe},get Ellipse(){return pRe},get Image(){return mRe},get Line(){return bRe},get Marker(){return wRe},get Path(){return CRe},get Polygon(){return _Re},get Polyline(){return ARe},get Rect(){return IRe},get Text(){return LRe}});function ZO(r,t){const e=Object.create(null),n=r.split(",");for(let i=0;i<n.length;i++)e[n[i]]=!0;return t?i=>!!e[i.toLowerCase()]:i=>!!e[i]}const _ue="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Tue=ZO(_ue);function lj(r){return!!r||r===""}function QO(r){if(In(r)){const t={};for(let e=0;e<r.length;e++){const n=r[e],i=To(n)?Mue(n):QO(n);if(i)for(const a in i)t[a]=i[a]}return t}else{if(To(r))return r;if(lo(r))return r}}const Aue=/;(?![^(]*\))/g,kue=/:(.+)/;function Mue(r){const t={};return r.split(Aue).forEach(e=>{if(e){const n=e.split(kue);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function JO(r){let t="";if(To(r))t=r;else if(In(r))for(let e=0;e<r.length;e++){const n=JO(r[e]);n&&(t+=n+" ")}else if(lo(r))for(const e in r)r[e]&&(t+=e+" ");return t.trim()}const Tot=r=>To(r)?r:r==null?"":In(r)||lo(r)&&(r.toString===dj||!Un(r.toString))?JSON.stringify(r,uj,2):String(r),uj=(r,t)=>t&&t.__v_isRef?uj(r,t.value):Hy(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[n,i])=>(e[`${n} =>`]=i,e),{})}:cj(t)?{[`Set(${t.size})`]:[...t.values()]}:lo(t)&&!In(t)&&!hj(t)?String(t):t,Xi={},Uy=[],Zu=()=>{},Iue=()=>!1,Pue=/^on[^a-z]/,DT=r=>Pue.test(r),eL=r=>r.startsWith("onUpdate:"),Yo=Object.assign,tL=(r,t)=>{const e=r.indexOf(t);e>-1&&r.splice(e,1)},Rue=Object.prototype.hasOwnProperty,wi=(r,t)=>Rue.call(r,t),In=Array.isArray,Hy=r=>OT(r)==="[object Map]",cj=r=>OT(r)==="[object Set]",Un=r=>typeof r=="function",To=r=>typeof r=="string",rL=r=>typeof r=="symbol",lo=r=>r!==null&&typeof r=="object",fj=r=>lo(r)&&Un(r.then)&&Un(r.catch),dj=Object.prototype.toString,OT=r=>dj.call(r),Due=r=>OT(r).slice(8,-1),hj=r=>OT(r)==="[object Object]",nL=r=>To(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,I2=ZO(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),LT=r=>{const t=Object.create(null);return e=>t[e]||(t[e]=r(e))},Oue=/-(\w)/g,Jc=LT(r=>r.replace(Oue,(t,e)=>e?e.toUpperCase():"")),Lue=/\B([A-Z])/g,D0=LT(r=>r.replace(Lue,"-$1").toLowerCase()),FT=LT(r=>r.charAt(0).toUpperCase()+r.slice(1)),VM=LT(r=>r?`on${FT(r)}`:""),W1=(r,t)=>!Object.is(r,t),WM=(r,t)=>{for(let e=0;e<r.length;e++)r[e](t)},l_=(r,t,e)=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value:e})},vj=r=>{const t=parseFloat(r);return isNaN(t)?r:t};let L3;const Fue=()=>L3||(L3=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let du;class Nue{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&du&&(this.parent=du,this.index=(du.scopes||(du.scopes=[])).push(this)-1)}run(t){if(this.active)try{return du=this,t()}finally{du=this.parent}}on(){du=this}off(){du=this.parent}stop(t){if(this.active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function Bue(r,t=du){t&&t.active&&t.effects.push(r)}function zue(){return du}function $ue(r){du&&du.cleanups.push(r)}const iL=r=>{const t=new Set(r);return t.w=0,t.n=0,t},pj=r=>(r.w&vv)>0,gj=r=>(r.n&vv)>0,Gue=({deps:r})=>{if(r.length)for(let t=0;t<r.length;t++)r[t].w|=vv},Uue=r=>{const{deps:t}=r;if(t.length){let e=0;for(let n=0;n<t.length;n++){const i=t[n];pj(i)&&!gj(i)?i.delete(r):t[e++]=i,i.w&=~vv,i.n&=~vv}t.length=e}},oR=new WeakMap;let Xx=0,vv=1;const sR=30;let Wc;const ng=Symbol(""),lR=Symbol("");class aL{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,Bue(this,n)}run(){if(!this.active)return this.fn();let t=Wc,e=lv;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Wc,Wc=this,lv=!0,vv=1<<++Xx,Xx<=sR?Gue(this):F3(this),this.fn()}finally{Xx<=sR&&Uue(this),vv=1<<--Xx,Wc=this.parent,lv=e,this.parent=void 0}}stop(){this.active&&(F3(this),this.onStop&&this.onStop(),this.active=!1)}}function F3(r){const{deps:t}=r;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(r);t.length=0}}let lv=!0;const mj=[];function O0(){mj.push(lv),lv=!1}function L0(){const r=mj.pop();lv=r===void 0?!0:r}function $l(r,t,e){if(lv&&Wc){let n=oR.get(r);n||oR.set(r,n=new Map);let i=n.get(e);i||n.set(e,i=iL()),yj(i)}}function yj(r,t){let e=!1;Xx<=sR?gj(r)||(r.n|=vv,e=!pj(r)):e=!r.has(Wc),e&&(r.add(Wc),Wc.deps.push(r))}function _d(r,t,e,n,i,a){const o=oR.get(r);if(!o)return;let s=[];if(t==="clear")s=[...o.values()];else if(e==="length"&&In(r))o.forEach((l,u)=>{(u==="length"||u>=n)&&s.push(l)});else switch(e!==void 0&&s.push(o.get(e)),t){case"add":In(r)?nL(e)&&s.push(o.get("length")):(s.push(o.get(ng)),Hy(r)&&s.push(o.get(lR)));break;case"delete":In(r)||(s.push(o.get(ng)),Hy(r)&&s.push(o.get(lR)));break;case"set":Hy(r)&&s.push(o.get(ng));break}if(s.length===1)s[0]&&uR(s[0]);else{const l=[];for(const u of s)u&&l.push(...u);uR(iL(l))}}function uR(r,t){for(const e of In(r)?r:[...r])(e!==Wc||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Hue=ZO("__proto__,__v_isRef,__isVue"),bj=new Set(Object.getOwnPropertyNames(Symbol).map(r=>Symbol[r]).filter(rL)),Vue=oL(),Wue=oL(!1,!0),jue=oL(!0),N3=Yue();function Yue(){const r={};return["includes","indexOf","lastIndexOf"].forEach(t=>{r[t]=function(...e){const n=Ei(this);for(let a=0,o=this.length;a<o;a++)$l(n,"get",a+"");const i=n[t](...e);return i===-1||i===!1?n[t](...e.map(Ei)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{r[t]=function(...e){O0();const n=Ei(this)[t].apply(this,e);return L0(),n}}),r}function oL(r=!1,t=!1){return function(n,i,a){if(i==="__v_isReactive")return!r;if(i==="__v_isReadonly")return r;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&a===(r?t?uce:Ej:t?Cj:Sj).get(n))return n;const o=In(n);if(!r&&o&&wi(N3,i))return Reflect.get(N3,i,a);const s=Reflect.get(n,i,a);return(rL(i)?bj.has(i):Hue(i))||(r||$l(n,"get",i),t)?s:Eo(s)?!o||!nL(i)?s.value:s:lo(s)?r?ef(s):kv(s):s}}const Xue=xj(),que=xj(!0);function xj(r=!1){return function(e,n,i,a){let o=e[n];if(j1(o)&&Eo(o)&&!Eo(i))return!1;if(!r&&!j1(i)&&(_j(i)||(i=Ei(i),o=Ei(o)),!In(e)&&Eo(o)&&!Eo(i)))return o.value=i,!0;const s=In(e)&&nL(n)?Number(n)<e.length:wi(e,n),l=Reflect.set(e,n,i,a);return e===Ei(a)&&(s?W1(i,o)&&_d(e,"set",n,i):_d(e,"add",n,i)),l}}function Kue(r,t){const e=wi(r,t);r[t];const n=Reflect.deleteProperty(r,t);return n&&e&&_d(r,"delete",t,void 0),n}function Zue(r,t){const e=Reflect.has(r,t);return(!rL(t)||!bj.has(t))&&$l(r,"has",t),e}function Que(r){return $l(r,"iterate",In(r)?"length":ng),Reflect.ownKeys(r)}const wj={get:Vue,set:Xue,deleteProperty:Kue,has:Zue,ownKeys:Que},Jue={get:jue,set(r,t){return!0},deleteProperty(r,t){return!0}},ece=Yo({},wj,{get:Wue,set:que}),sL=r=>r,NT=r=>Reflect.getPrototypeOf(r);function GC(r,t,e=!1,n=!1){r=r.__v_raw;const i=Ei(r),a=Ei(t);t!==a&&!e&&$l(i,"get",t),!e&&$l(i,"get",a);const{has:o}=NT(i),s=n?sL:e?fL:Y1;if(o.call(i,t))return s(r.get(t));if(o.call(i,a))return s(r.get(a));r!==i&&r.get(t)}function UC(r,t=!1){const e=this.__v_raw,n=Ei(e),i=Ei(r);return r!==i&&!t&&$l(n,"has",r),!t&&$l(n,"has",i),r===i?e.has(r):e.has(r)||e.has(i)}function HC(r,t=!1){return r=r.__v_raw,!t&&$l(Ei(r),"iterate",ng),Reflect.get(r,"size",r)}function B3(r){r=Ei(r);const t=Ei(this);return NT(t).has.call(t,r)||(t.add(r),_d(t,"add",r,r)),this}function z3(r,t){t=Ei(t);const e=Ei(this),{has:n,get:i}=NT(e);let a=n.call(e,r);a||(r=Ei(r),a=n.call(e,r));const o=i.call(e,r);return e.set(r,t),a?W1(t,o)&&_d(e,"set",r,t):_d(e,"add",r,t),this}function $3(r){const t=Ei(this),{has:e,get:n}=NT(t);let i=e.call(t,r);i||(r=Ei(r),i=e.call(t,r)),n&&n.call(t,r);const a=t.delete(r);return i&&_d(t,"delete",r,void 0),a}function G3(){const r=Ei(this),t=r.size!==0,e=r.clear();return t&&_d(r,"clear",void 0,void 0),e}function VC(r,t){return function(n,i){const a=this,o=a.__v_raw,s=Ei(o),l=t?sL:r?fL:Y1;return!r&&$l(s,"iterate",ng),o.forEach((u,c)=>n.call(i,l(u),l(c),a))}}function WC(r,t,e){return function(...n){const i=this.__v_raw,a=Ei(i),o=Hy(a),s=r==="entries"||r===Symbol.iterator&&o,l=r==="keys"&&o,u=i[r](...n),c=e?sL:t?fL:Y1;return!t&&$l(a,"iterate",l?lR:ng),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:s?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function Eh(r){return function(...t){return r==="delete"?!1:this}}function tce(){const r={get(a){return GC(this,a)},get size(){return HC(this)},has:UC,add:B3,set:z3,delete:$3,clear:G3,forEach:VC(!1,!1)},t={get(a){return GC(this,a,!1,!0)},get size(){return HC(this)},has:UC,add:B3,set:z3,delete:$3,clear:G3,forEach:VC(!1,!0)},e={get(a){return GC(this,a,!0)},get size(){return HC(this,!0)},has(a){return UC.call(this,a,!0)},add:Eh("add"),set:Eh("set"),delete:Eh("delete"),clear:Eh("clear"),forEach:VC(!0,!1)},n={get(a){return GC(this,a,!0,!0)},get size(){return HC(this,!0)},has(a){return UC.call(this,a,!0)},add:Eh("add"),set:Eh("set"),delete:Eh("delete"),clear:Eh("clear"),forEach:VC(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{r[a]=WC(a,!1,!1),e[a]=WC(a,!0,!1),t[a]=WC(a,!1,!0),n[a]=WC(a,!0,!0)}),[r,e,t,n]}const[rce,nce,ice,ace]=tce();function lL(r,t){const e=t?r?ace:ice:r?nce:rce;return(n,i,a)=>i==="__v_isReactive"?!r:i==="__v_isReadonly"?r:i==="__v_raw"?n:Reflect.get(wi(e,i)&&i in n?e:n,i,a)}const oce={get:lL(!1,!1)},sce={get:lL(!1,!0)},lce={get:lL(!0,!1)},Sj=new WeakMap,Cj=new WeakMap,Ej=new WeakMap,uce=new WeakMap;function cce(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fce(r){return r.__v_skip||!Object.isExtensible(r)?0:cce(Due(r))}function kv(r){return j1(r)?r:uL(r,!1,wj,oce,Sj)}function dce(r){return uL(r,!1,ece,sce,Cj)}function ef(r){return uL(r,!0,Jue,lce,Ej)}function uL(r,t,e,n,i){if(!lo(r)||r.__v_raw&&!(t&&r.__v_isReactive))return r;const a=i.get(r);if(a)return a;const o=fce(r);if(o===0)return r;const s=new Proxy(r,o===2?n:e);return i.set(r,s),s}function Vy(r){return j1(r)?Vy(r.__v_raw):!!(r&&r.__v_isReactive)}function j1(r){return!!(r&&r.__v_isReadonly)}function _j(r){return!!(r&&r.__v_isShallow)}function Tj(r){return Vy(r)||j1(r)}function Ei(r){const t=r&&r.__v_raw;return t?Ei(t):r}function cL(r){return l_(r,"__v_skip",!0),r}const Y1=r=>lo(r)?kv(r):r,fL=r=>lo(r)?ef(r):r;function Aj(r){lv&&Wc&&(r=Ei(r),yj(r.dep||(r.dep=iL())))}function kj(r,t){r=Ei(r),r.dep&&uR(r.dep)}function Eo(r){return!!(r&&r.__v_isRef===!0)}function Re(r){return Mj(r,!1)}function cR(r){return Mj(r,!0)}function Mj(r,t){return Eo(r)?r:new hce(r,t)}class hce{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Ei(t),this._value=e?t:Y1(t)}get value(){return Aj(this),this._value}set value(t){t=this.__v_isShallow?t:Ei(t),W1(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:Y1(t),kj(this))}}function so(r){return Eo(r)?r.value:r}const vce={get:(r,t,e)=>so(Reflect.get(r,t,e)),set:(r,t,e,n)=>{const i=r[t];return Eo(i)&&!Eo(e)?(i.value=e,!0):Reflect.set(r,t,e,n)}};function Ij(r){return Vy(r)?r:new Proxy(r,vce)}class pce{constructor(t,e,n){this._object=t,this._key=e,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function tr(r,t,e){const n=r[t];return Eo(n)?n:new pce(r,t,e)}class gce{constructor(t,e,n,i){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new aL(t,()=>{this._dirty||(this._dirty=!0,kj(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=Ei(this);return Aj(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function mce(r,t,e=!1){let n,i;const a=Un(r);return a?(n=r,i=Zu):(n=r.get,i=r.set),new gce(n,i,a||!i,e)}Promise.resolve();function uv(r,t,e,n){let i;try{i=n?r(...n):r()}catch(a){BT(a,t,e)}return i}function yu(r,t,e,n){if(Un(r)){const a=uv(r,t,e,n);return a&&fj(a)&&a.catch(o=>{BT(o,t,e)}),a}const i=[];for(let a=0;a<r.length;a++)i.push(yu(r[a],t,e,n));return i}function BT(r,t,e,n=!0){const i=t?t.vnode:null;if(t){let a=t.parent;const o=t.proxy,s=e;for(;a;){const u=a.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](r,o,s)===!1)return}a=a.parent}const l=t.appContext.config.errorHandler;if(l){uv(l,null,10,[r,o,s]);return}}yce(r,e,i,n)}function yce(r,t,e,n=!0){console.error(r)}let u_=!1,fR=!1;const Dl=[];let fd=0;const m1=[];let qx=null,Sy=0;const y1=[];let Nh=null,Cy=0;const Pj=Promise.resolve();let dL=null,dR=null;function Ja(r){const t=dL||Pj;return r?t.then(this?r.bind(this):r):t}function bce(r){let t=fd+1,e=Dl.length;for(;t<e;){const n=t+e>>>1;X1(Dl[n])<r?t=n+1:e=n}return t}function Rj(r){(!Dl.length||!Dl.includes(r,u_&&r.allowRecurse?fd+1:fd))&&r!==dR&&(r.id==null?Dl.push(r):Dl.splice(bce(r.id),0,r),Dj())}function Dj(){!u_&&!fR&&(fR=!0,dL=Pj.then(Fj))}function xce(r){const t=Dl.indexOf(r);t>fd&&Dl.splice(t,1)}function Oj(r,t,e,n){In(r)?e.push(...r):(!t||!t.includes(r,r.allowRecurse?n+1:n))&&e.push(r),Dj()}function wce(r){Oj(r,qx,m1,Sy)}function Sce(r){Oj(r,Nh,y1,Cy)}function hL(r,t=null){if(m1.length){for(dR=t,qx=[...new Set(m1)],m1.length=0,Sy=0;Sy<qx.length;Sy++)qx[Sy]();qx=null,Sy=0,dR=null,hL(r,t)}}function Lj(r){if(y1.length){const t=[...new Set(y1)];if(y1.length=0,Nh){Nh.push(...t);return}for(Nh=t,Nh.sort((e,n)=>X1(e)-X1(n)),Cy=0;Cy<Nh.length;Cy++)Nh[Cy]();Nh=null,Cy=0}}const X1=r=>r.id==null?1/0:r.id;function Fj(r){fR=!1,u_=!0,hL(r),Dl.sort((e,n)=>X1(e)-X1(n));const t=Zu;try{for(fd=0;fd<Dl.length;fd++){const e=Dl[fd];e&&e.active!==!1&&uv(e,null,14)}}finally{fd=0,Dl.length=0,Lj(),u_=!1,dL=null,(Dl.length||m1.length||y1.length)&&Fj(r)}}function Cce(r,t,...e){const n=r.vnode.props||Xi;let i=e;const a=t.startsWith("update:"),o=a&&t.slice(7);if(o&&o in n){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=n[c]||Xi;d?i=e.map(h=>h.trim()):f&&(i=e.map(vj))}let s,l=n[s=VM(t)]||n[s=VM(Jc(t))];!l&&a&&(l=n[s=VM(D0(t))]),l&&yu(l,r,6,i);const u=n[s+"Once"];if(u){if(!r.emitted)r.emitted={};else if(r.emitted[s])return;r.emitted[s]=!0,yu(u,r,6,i)}}function Nj(r,t,e=!1){const n=t.emitsCache,i=n.get(r);if(i!==void 0)return i;const a=r.emits;let o={},s=!1;if(!Un(r)){const l=u=>{const c=Nj(u,t,!0);c&&(s=!0,Yo(o,c))};!e&&t.mixins.length&&t.mixins.forEach(l),r.extends&&l(r.extends),r.mixins&&r.mixins.forEach(l)}return!a&&!s?(n.set(r,null),null):(In(a)?a.forEach(l=>o[l]=null):Yo(o,a),n.set(r,o),o)}function vL(r,t){return!r||!DT(t)?!1:(t=t.slice(2).replace(/Once$/,""),wi(r,t[0].toLowerCase()+t.slice(1))||wi(r,D0(t))||wi(r,t))}let Fl=null,zT=null;function c_(r){const t=Fl;return Fl=r,zT=r&&r.type.__scopeId||null,t}function Aot(r){zT=r}function kot(){zT=null}function Ece(r,t=Fl,e){if(!t||r._n)return r;const n=(...i)=>{n._d&&J3(-1);const a=c_(t),o=r(...i);return c_(a),n._d&&J3(1),o};return n._n=!0,n._c=!0,n._d=!0,n}function jM(r){const{type:t,vnode:e,proxy:n,withProxy:i,props:a,propsOptions:[o],slots:s,attrs:l,emit:u,render:c,renderCache:f,data:d,setupState:h,ctx:v,inheritAttrs:p}=r;let g,m;const y=c_(r);try{if(e.shapeFlag&4){const w=i||n;g=$c(c.call(w,w,f,a,h,d,v)),m=l}else{const w=t;g=$c(w.length>1?w(a,{attrs:l,slots:s,emit:u}):w(a,null)),m=t.props?l:_ce(l)}}catch(w){x1.length=0,BT(w,r,1),g=vi(ul)}let b=g;if(m&&p!==!1){const w=Object.keys(m),{shapeFlag:S}=b;w.length&&S&7&&(o&&w.some(eL)&&(m=Tce(m,o)),b=pv(b,m))}return e.dirs&&(b.dirs=b.dirs?b.dirs.concat(e.dirs):e.dirs),e.transition&&(b.transition=e.transition),g=b,c_(y),g}const _ce=r=>{let t;for(const e in r)(e==="class"||e==="style"||DT(e))&&((t||(t={}))[e]=r[e]);return t},Tce=(r,t)=>{const e={};for(const n in r)(!eL(n)||!(n.slice(9)in t))&&(e[n]=r[n]);return e};function Ace(r,t,e){const{props:n,children:i,component:a}=r,{props:o,children:s,patchFlag:l}=t,u=a.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&l>=0){if(l&1024)return!0;if(l&16)return n?U3(n,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(o[d]!==n[d]&&!vL(u,d))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===o?!1:n?o?U3(n,o,u):!0:!!o;return!1}function U3(r,t,e){const n=Object.keys(t);if(n.length!==Object.keys(r).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(t[a]!==r[a]&&!vL(e,a))return!0}return!1}function kce({vnode:r,parent:t},e){for(;t&&t.subTree===r;)(r=t.vnode).el=e,t=t.parent}const Mce=r=>r.__isSuspense;function Ice(r,t){t&&t.pendingBranch?In(r)?t.effects.push(...r):t.effects.push(r):Sce(r)}function Tn(r,t){if(Uo){let e=Uo.provides;const n=Uo.parent&&Uo.parent.provides;n===e&&(e=Uo.provides=Object.create(n)),e[r]=t}}function Sr(r,t,e=!1){const n=Uo||Fl;if(n){const i=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&r in i)return i[r];if(arguments.length>1)return e&&Un(t)?t.call(n.proxy):t}}function Go(r,t){return pL(r,null,t)}const H3={};function hn(r,t,e){return pL(r,t,e)}function pL(r,t,{immediate:e,deep:n,flush:i,onTrack:a,onTrigger:o}=Xi){const s=Uo;let l,u=!1,c=!1;if(Eo(r)?(l=()=>r.value,u=_j(r)):Vy(r)?(l=()=>r,n=!0):In(r)?(c=!0,u=r.some(Vy),l=()=>r.map(m=>{if(Eo(m))return m.value;if(Vy(m))return Vp(m);if(Un(m))return uv(m,s,2)})):Un(r)?t?l=()=>uv(r,s,2):l=()=>{if(!(s&&s.isUnmounted))return f&&f(),yu(r,s,3,[d])}:l=Zu,t&&n){const m=l;l=()=>Vp(m())}let f,d=m=>{f=g.onStop=()=>{uv(m,s,4)}};if(Q1)return d=Zu,t?e&&yu(t,s,3,[l(),c?[]:void 0,d]):l(),Zu;let h=c?[]:H3;const v=()=>{if(!!g.active)if(t){const m=g.run();(n||u||(c?m.some((y,b)=>W1(y,h[b])):W1(m,h)))&&(f&&f(),yu(t,s,3,[m,h===H3?void 0:h,d]),h=m)}else g.run()};v.allowRecurse=!!t;let p;i==="sync"?p=v:i==="post"?p=()=>Qs(v,s&&s.suspense):p=()=>{!s||s.isMounted?wce(v):v()};const g=new aL(l,p);return t?e?v():h=g.run():i==="post"?Qs(g.run.bind(g),s&&s.suspense):g.run(),()=>{g.stop(),s&&s.scope&&tL(s.scope.effects,g)}}function Pce(r,t,e){const n=this.proxy,i=To(r)?r.includes(".")?Bj(n,r):()=>n[r]:r.bind(n,n);let a;Un(t)?a=t:(a=t.handler,e=t);const o=Uo;a0(this);const s=pL(i,a.bind(n),e);return o?a0(o):ag(),s}function Bj(r,t){const e=t.split(".");return()=>{let n=r;for(let i=0;i<e.length&&n;i++)n=n[e[i]];return n}}function Vp(r,t){if(!lo(r)||r.__v_skip||(t=t||new Set,t.has(r)))return r;if(t.add(r),Eo(r))Vp(r.value,t);else if(In(r))for(let e=0;e<r.length;e++)Vp(r[e],t);else if(cj(r)||Hy(r))r.forEach(e=>{Vp(e,t)});else if(hj(r))for(const e in r)Vp(r[e],t);return r}function zj(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Io(()=>{r.isMounted=!0}),hl(()=>{r.isUnmounting=!0}),r}const su=[Function,Array],Rce={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:su,onEnter:su,onAfterEnter:su,onEnterCancelled:su,onBeforeLeave:su,onLeave:su,onAfterLeave:su,onLeaveCancelled:su,onBeforeAppear:su,onAppear:su,onAfterAppear:su,onAppearCancelled:su},setup(r,{slots:t}){const e=B0(),n=zj();let i;return()=>{const a=t.default&&gL(t.default(),!0);if(!a||!a.length)return;const o=Ei(r),{mode:s}=o,l=a[0];if(n.isLeaving)return YM(l);const u=V3(l);if(!u)return YM(l);const c=q1(u,o,n,e);K1(u,c);const f=e.subTree,d=f&&V3(f);let h=!1;const{getTransitionKey:v}=u.type;if(v){const p=v();i===void 0?i=p:p!==i&&(i=p,h=!0)}if(d&&d.type!==ul&&(!$p(u,d)||h)){const p=q1(d,o,n,e);if(K1(d,p),s==="out-in")return n.isLeaving=!0,p.afterLeave=()=>{n.isLeaving=!1,e.update()},YM(l);s==="in-out"&&u.type!==ul&&(p.delayLeave=(g,m,y)=>{const b=Gj(n,d);b[String(d.key)]=d,g._leaveCb=()=>{m(),g._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=y})}return l}}},$j=Rce;function Gj(r,t){const{leavingVNodes:e}=r;let n=e.get(t.type);return n||(n=Object.create(null),e.set(t.type,n)),n}function q1(r,t,e,n){const{appear:i,mode:a,persisted:o=!1,onBeforeEnter:s,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:f,onLeave:d,onAfterLeave:h,onLeaveCancelled:v,onBeforeAppear:p,onAppear:g,onAfterAppear:m,onAppearCancelled:y}=t,b=String(r.key),w=Gj(e,r),S=(_,A)=>{_&&yu(_,n,9,A)},E={mode:a,persisted:o,beforeEnter(_){let A=s;if(!e.isMounted)if(i)A=p||s;else return;_._leaveCb&&_._leaveCb(!0);const k=w[b];k&&$p(r,k)&&k.el._leaveCb&&k.el._leaveCb(),S(A,[_])},enter(_){let A=l,k=u,T=c;if(!e.isMounted)if(i)A=g||l,k=m||u,T=y||c;else return;let I=!1;const D=_._enterCb=O=>{I||(I=!0,O?S(T,[_]):S(k,[_]),E.delayedLeave&&E.delayedLeave(),_._enterCb=void 0)};A?(A(_,D),A.length<=1&&D()):D()},leave(_,A){const k=String(r.key);if(_._enterCb&&_._enterCb(!0),e.isUnmounting)return A();S(f,[_]);let T=!1;const I=_._leaveCb=D=>{T||(T=!0,A(),D?S(v,[_]):S(h,[_]),_._leaveCb=void 0,w[k]===r&&delete w[k])};w[k]=r,d?(d(_,I),d.length<=1&&I()):I()},clone(_){return q1(_,t,e,n)}};return E}function YM(r){if($T(r))return r=pv(r),r.children=null,r}function V3(r){return $T(r)?r.children?r.children[0]:void 0:r}function K1(r,t){r.shapeFlag&6&&r.component?K1(r.component.subTree,t):r.shapeFlag&128?(r.ssContent.transition=t.clone(r.ssContent),r.ssFallback.transition=t.clone(r.ssFallback)):r.transition=t}function gL(r,t=!1){let e=[],n=0;for(let i=0;i<r.length;i++){const a=r[i];a.type===qi?(a.patchFlag&128&&n++,e=e.concat(gL(a.children,t))):(t||a.type!==ul)&&e.push(a)}if(n>1)for(let i=0;i<e.length;i++)e[i].patchFlag=-2;return e}function It(r){return Un(r)?{setup:r,name:r.name}:r}const hR=r=>!!r.type.__asyncLoader,$T=r=>r.type.__isKeepAlive;function Uj(r,t){Hj(r,"a",t)}function Dce(r,t){Hj(r,"da",t)}function Hj(r,t,e=Uo){const n=r.__wdc||(r.__wdc=()=>{let i=e;for(;i;){if(i.isDeactivated)return;i=i.parent}return r()});if(GT(t,n,e),e){let i=e.parent;for(;i&&i.parent;)$T(i.parent.vnode)&&Oce(n,t,e,i),i=i.parent}}function Oce(r,t,e,n){const i=GT(t,r,n,!0);mL(()=>{tL(n[t],i)},e)}function GT(r,t,e=Uo,n=!1){if(e){const i=e[r]||(e[r]=[]),a=t.__weh||(t.__weh=(...o)=>{if(e.isUnmounted)return;O0(),a0(e);const s=yu(t,e,r,o);return ag(),L0(),s});return n?i.unshift(a):i.push(a),a}}const Fd=r=>(t,e=Uo)=>(!Q1||r==="sp")&&GT(r,t,e),$g=Fd("bm"),Io=Fd("m"),Lce=Fd("bu"),Vj=Fd("u"),hl=Fd("bum"),mL=Fd("um"),Fce=Fd("sp"),Nce=Fd("rtg"),Bce=Fd("rtc");function zce(r,t=Uo){GT("ec",r,t)}let vR=!0;function $ce(r){const t=jj(r),e=r.proxy,n=r.ctx;vR=!1,t.beforeCreate&&W3(t.beforeCreate,r,"bc");const{data:i,computed:a,methods:o,watch:s,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:v,activated:p,deactivated:g,beforeDestroy:m,beforeUnmount:y,destroyed:b,unmounted:w,render:S,renderTracked:E,renderTriggered:_,errorCaptured:A,serverPrefetch:k,expose:T,inheritAttrs:I,components:D,directives:O,filters:B}=t;if(u&&Gce(u,n,null,r.appContext.config.unwrapInjectedRef),o)for(const G in o){const L=o[G];Un(L)&&(n[G]=L.bind(e))}if(i){const G=i.call(e,e);lo(G)&&(r.data=kv(G))}if(vR=!0,a)for(const G in a){const L=a[G],F=Un(L)?L.bind(e,e):Un(L.get)?L.get.bind(e,e):Zu,W=!Un(L)&&Un(L.set)?L.set.bind(e):Zu,H=re({get:F,set:W});Object.defineProperty(n,G,{enumerable:!0,configurable:!0,get:()=>H.value,set:K=>H.value=K})}if(s)for(const G in s)Wj(s[G],n,e,G);if(l){const G=Un(l)?l.call(e):l;Reflect.ownKeys(G).forEach(L=>{Tn(L,G[L])})}c&&W3(c,r,"c");function N(G,L){In(L)?L.forEach(F=>G(F.bind(e))):L&&G(L.bind(e))}if(N($g,f),N(Io,d),N(Lce,h),N(Vj,v),N(Uj,p),N(Dce,g),N(zce,A),N(Bce,E),N(Nce,_),N(hl,y),N(mL,w),N(Fce,k),In(T))if(T.length){const G=r.exposed||(r.exposed={});T.forEach(L=>{Object.defineProperty(G,L,{get:()=>e[L],set:F=>e[L]=F})})}else r.exposed||(r.exposed={});S&&r.render===Zu&&(r.render=S),I!=null&&(r.inheritAttrs=I),D&&(r.components=D),O&&(r.directives=O)}function Gce(r,t,e=Zu,n=!1){In(r)&&(r=pR(r));for(const i in r){const a=r[i];let o;lo(a)?"default"in a?o=Sr(a.from||i,a.default,!0):o=Sr(a.from||i):o=Sr(a),Eo(o)&&n?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[i]=o}}function W3(r,t,e){yu(In(r)?r.map(n=>n.bind(t.proxy)):r.bind(t.proxy),t,e)}function Wj(r,t,e,n){const i=n.includes(".")?Bj(e,n):()=>e[n];if(To(r)){const a=t[r];Un(a)&&hn(i,a)}else if(Un(r))hn(i,r.bind(e));else if(lo(r))if(In(r))r.forEach(a=>Wj(a,t,e,n));else{const a=Un(r.handler)?r.handler.bind(e):t[r.handler];Un(a)&&hn(i,a,r)}}function jj(r){const t=r.type,{mixins:e,extends:n}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=r.appContext,s=a.get(t);let l;return s?l=s:!i.length&&!e&&!n?l=t:(l={},i.length&&i.forEach(u=>f_(l,u,o,!0)),f_(l,t,o)),a.set(t,l),l}function f_(r,t,e,n=!1){const{mixins:i,extends:a}=t;a&&f_(r,a,e,!0),i&&i.forEach(o=>f_(r,o,e,!0));for(const o in t)if(!(n&&o==="expose")){const s=Uce[o]||e&&e[o];r[o]=s?s(r[o],t[o]):t[o]}return r}const Uce={data:j3,props:Op,emits:Op,methods:Op,computed:Op,beforeCreate:Is,created:Is,beforeMount:Is,mounted:Is,beforeUpdate:Is,updated:Is,beforeDestroy:Is,beforeUnmount:Is,destroyed:Is,unmounted:Is,activated:Is,deactivated:Is,errorCaptured:Is,serverPrefetch:Is,components:Op,directives:Op,watch:Vce,provide:j3,inject:Hce};function j3(r,t){return t?r?function(){return Yo(Un(r)?r.call(this,this):r,Un(t)?t.call(this,this):t)}:t:r}function Hce(r,t){return Op(pR(r),pR(t))}function pR(r){if(In(r)){const t={};for(let e=0;e<r.length;e++)t[r[e]]=r[e];return t}return r}function Is(r,t){return r?[...new Set([].concat(r,t))]:t}function Op(r,t){return r?Yo(Yo(Object.create(null),r),t):t}function Vce(r,t){if(!r)return t;if(!t)return r;const e=Yo(Object.create(null),r);for(const n in t)e[n]=Is(r[n],t[n]);return e}function Wce(r,t,e,n=!1){const i={},a={};l_(a,UT,1),r.propsDefaults=Object.create(null),Yj(r,t,i,a);for(const o in r.propsOptions[0])o in i||(i[o]=void 0);e?r.props=n?i:dce(i):r.type.props?r.props=i:r.props=a,r.attrs=a}function jce(r,t,e,n){const{props:i,attrs:a,vnode:{patchFlag:o}}=r,s=Ei(i),[l]=r.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=r.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];const h=t[d];if(l)if(wi(a,d))h!==a[d]&&(a[d]=h,u=!0);else{const v=Jc(d);i[v]=gR(l,s,v,h,r,!1)}else h!==a[d]&&(a[d]=h,u=!0)}}}else{Yj(r,t,i,a)&&(u=!0);let c;for(const f in s)(!t||!wi(t,f)&&((c=D0(f))===f||!wi(t,c)))&&(l?e&&(e[f]!==void 0||e[c]!==void 0)&&(i[f]=gR(l,s,f,void 0,r,!0)):delete i[f]);if(a!==s)for(const f in a)(!t||!wi(t,f)&&!0)&&(delete a[f],u=!0)}u&&_d(r,"set","$attrs")}function Yj(r,t,e,n){const[i,a]=r.propsOptions;let o=!1,s;if(t)for(let l in t){if(I2(l))continue;const u=t[l];let c;i&&wi(i,c=Jc(l))?!a||!a.includes(c)?e[c]=u:(s||(s={}))[c]=u:vL(r.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(a){const l=Ei(e),u=s||Xi;for(let c=0;c<a.length;c++){const f=a[c];e[f]=gR(i,l,f,u[f],r,!wi(u,f))}}return o}function gR(r,t,e,n,i,a){const o=r[e];if(o!=null){const s=wi(o,"default");if(s&&n===void 0){const l=o.default;if(o.type!==Function&&Un(l)){const{propsDefaults:u}=i;e in u?n=u[e]:(a0(i),n=u[e]=l.call(null,t),ag())}else n=l}o[0]&&(a&&!s?n=!1:o[1]&&(n===""||n===D0(e))&&(n=!0))}return n}function Xj(r,t,e=!1){const n=t.propsCache,i=n.get(r);if(i)return i;const a=r.props,o={},s=[];let l=!1;if(!Un(r)){const c=f=>{l=!0;const[d,h]=Xj(f,t,!0);Yo(o,d),h&&s.push(...h)};!e&&t.mixins.length&&t.mixins.forEach(c),r.extends&&c(r.extends),r.mixins&&r.mixins.forEach(c)}if(!a&&!l)return n.set(r,Uy),Uy;if(In(a))for(let c=0;c<a.length;c++){const f=Jc(a[c]);Y3(f)&&(o[f]=Xi)}else if(a)for(const c in a){const f=Jc(c);if(Y3(f)){const d=a[c],h=o[f]=In(d)||Un(d)?{type:d}:d;if(h){const v=K3(Boolean,h.type),p=K3(String,h.type);h[0]=v>-1,h[1]=p<0||v<p,(v>-1||wi(h,"default"))&&s.push(f)}}}const u=[o,s];return n.set(r,u),u}function Y3(r){return r[0]!=="$"}function X3(r){const t=r&&r.toString().match(/^\s*function (\w+)/);return t?t[1]:r===null?"null":""}function q3(r,t){return X3(r)===X3(t)}function K3(r,t){return In(t)?t.findIndex(e=>q3(e,r)):Un(t)&&q3(t,r)?0:-1}const qj=r=>r[0]==="_"||r==="$stable",yL=r=>In(r)?r.map($c):[$c(r)],Yce=(r,t,e)=>{const n=Ece((...i)=>yL(t(...i)),e);return n._c=!1,n},Kj=(r,t,e)=>{const n=r._ctx;for(const i in r){if(qj(i))continue;const a=r[i];if(Un(a))t[i]=Yce(i,a,n);else if(a!=null){const o=yL(a);t[i]=()=>o}}},Zj=(r,t)=>{const e=yL(t);r.slots.default=()=>e},Xce=(r,t)=>{if(r.vnode.shapeFlag&32){const e=t._;e?(r.slots=Ei(t),l_(t,"_",e)):Kj(t,r.slots={})}else r.slots={},t&&Zj(r,t);l_(r.slots,UT,1)},qce=(r,t,e)=>{const{vnode:n,slots:i}=r;let a=!0,o=Xi;if(n.shapeFlag&32){const s=t._;s?e&&s===1?a=!1:(Yo(i,t),!e&&s===1&&delete i._):(a=!t.$stable,Kj(t,i)),o=t}else t&&(Zj(r,t),o={default:1});if(a)for(const s in i)!qj(s)&&!(s in o)&&delete i[s]};function Gl(r,t){const e=Fl;if(e===null)return r;const n=e.proxy,i=r.dirs||(r.dirs=[]);for(let a=0;a<t.length;a++){let[o,s,l,u=Xi]=t[a];Un(o)&&(o={mounted:o,updated:o}),o.deep&&Vp(s),i.push({dir:o,instance:n,value:s,oldValue:void 0,arg:l,modifiers:u})}return r}function gp(r,t,e,n){const i=r.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){const s=i[o];a&&(s.oldValue=a[o].value);let l=s.dir[n];l&&(O0(),yu(l,e,8,[r.el,s,r,t]),L0())}}function Qj(){return{app:null,config:{isNativeTag:Iue,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Kce=0;function Zce(r,t){return function(n,i=null){i!=null&&!lo(i)&&(i=null);const a=Qj(),o=new Set;let s=!1;const l=a.app={_uid:Kce++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:bfe,get config(){return a.config},set config(u){},use(u,...c){return o.has(u)||(u&&Un(u.install)?(o.add(u),u.install(l,...c)):Un(u)&&(o.add(u),u(l,...c))),l},mixin(u){return a.mixins.includes(u)||a.mixins.push(u),l},component(u,c){return c?(a.components[u]=c,l):a.components[u]},directive(u,c){return c?(a.directives[u]=c,l):a.directives[u]},mount(u,c,f){if(!s){const d=vi(n,i);return d.appContext=a,c&&t?t(d,u):r(d,u,f),s=!0,l._container=u,u.__vue_app__=l,SL(d.component)||d.component.proxy}},unmount(){s&&(r(null,l._container),delete l._container.__vue_app__)},provide(u,c){return a.provides[u]=c,l}};return l}}function mR(r,t,e,n,i=!1){if(In(r)){r.forEach((d,h)=>mR(d,t&&(In(t)?t[h]:t),e,n,i));return}if(hR(n)&&!i)return;const a=n.shapeFlag&4?SL(n.component)||n.component.proxy:n.el,o=i?null:a,{i:s,r:l}=r,u=t&&t.r,c=s.refs===Xi?s.refs={}:s.refs,f=s.setupState;if(u!=null&&u!==l&&(To(u)?(c[u]=null,wi(f,u)&&(f[u]=null)):Eo(u)&&(u.value=null)),Un(l))uv(l,s,12,[o,c]);else{const d=To(l),h=Eo(l);if(d||h){const v=()=>{if(r.f){const p=d?c[l]:l.value;i?In(p)&&tL(p,a):In(p)?p.includes(a)||p.push(a):d?c[l]=[a]:(l.value=[a],r.k&&(c[r.k]=l.value))}else d?(c[l]=o,wi(f,l)&&(f[l]=o)):Eo(l)&&(l.value=o,r.k&&(c[r.k]=o))};o?(v.id=-1,Qs(v,e)):v()}}}const Qs=Ice;function Qce(r){return Jce(r)}function Jce(r,t){const e=Fue();e.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:o,createText:s,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=Zu,cloneNode:v,insertStaticContent:p}=r,g=(z,j,X,ae=null,ue=null,Be=null,Ze=!1,Le=null,se=!!j.dynamicChildren)=>{if(z===j)return;z&&!$p(z,j)&&(ae=he(z),ie(z,ue,Be,!0),z=null),j.patchFlag===-2&&(se=!1,j.dynamicChildren=null);const{type:Se,ref:Y,shapeFlag:ve}=j;switch(Se){case xL:m(z,j,X,ae);break;case ul:y(z,j,X,ae);break;case XM:z==null&&b(j,X,ae,Ze);break;case qi:O(z,j,X,ae,ue,Be,Ze,Le,se);break;default:ve&1?E(z,j,X,ae,ue,Be,Ze,Le,se):ve&6?B(z,j,X,ae,ue,Be,Ze,Le,se):(ve&64||ve&128)&&Se.process(z,j,X,ae,ue,Be,Ze,Le,se,He)}Y!=null&&ue&&mR(Y,z&&z.ref,Be,j||z,!j)},m=(z,j,X,ae)=>{if(z==null)n(j.el=s(j.children),X,ae);else{const ue=j.el=z.el;j.children!==z.children&&u(ue,j.children)}},y=(z,j,X,ae)=>{z==null?n(j.el=l(j.children||""),X,ae):j.el=z.el},b=(z,j,X,ae)=>{[z.el,z.anchor]=p(z.children,j,X,ae,z.el,z.anchor)},w=({el:z,anchor:j},X,ae)=>{let ue;for(;z&&z!==j;)ue=d(z),n(z,X,ae),z=ue;n(j,X,ae)},S=({el:z,anchor:j})=>{let X;for(;z&&z!==j;)X=d(z),i(z),z=X;i(j)},E=(z,j,X,ae,ue,Be,Ze,Le,se)=>{Ze=Ze||j.type==="svg",z==null?_(j,X,ae,ue,Be,Ze,Le,se):T(z,j,ue,Be,Ze,Le,se)},_=(z,j,X,ae,ue,Be,Ze,Le)=>{let se,Se;const{type:Y,props:ve,shapeFlag:ce,transition:de,patchFlag:Fe,dirs:Ue}=z;if(z.el&&v!==void 0&&Fe===-1)se=z.el=v(z.el);else{if(se=z.el=o(z.type,Be,ve&&ve.is,ve),ce&8?c(se,z.children):ce&16&&k(z.children,se,null,ae,ue,Be&&Y!=="foreignObject",Ze,Le),Ue&&gp(z,null,ae,"created"),ve){for(const ut in ve)ut!=="value"&&!I2(ut)&&a(se,ut,null,ve[ut],Be,z.children,ae,ue,fe);"value"in ve&&a(se,"value",null,ve.value),(Se=ve.onVnodeBeforeMount)&&_c(Se,ae,z)}A(se,z,z.scopeId,Ze,ae)}Ue&&gp(z,null,ae,"beforeMount");const lt=(!ue||ue&&!ue.pendingBranch)&&de&&!de.persisted;lt&&de.beforeEnter(se),n(se,j,X),((Se=ve&&ve.onVnodeMounted)||lt||Ue)&&Qs(()=>{Se&&_c(Se,ae,z),lt&&de.enter(se),Ue&&gp(z,null,ae,"mounted")},ue)},A=(z,j,X,ae,ue)=>{if(X&&h(z,X),ae)for(let Be=0;Be<ae.length;Be++)h(z,ae[Be]);if(ue){let Be=ue.subTree;if(j===Be){const Ze=ue.vnode;A(z,Ze,Ze.scopeId,Ze.slotScopeIds,ue.parent)}}},k=(z,j,X,ae,ue,Be,Ze,Le,se=0)=>{for(let Se=se;Se<z.length;Se++){const Y=z[Se]=Le?$h(z[Se]):$c(z[Se]);g(null,Y,j,X,ae,ue,Be,Ze,Le)}},T=(z,j,X,ae,ue,Be,Ze)=>{const Le=j.el=z.el;let{patchFlag:se,dynamicChildren:Se,dirs:Y}=j;se|=z.patchFlag&16;const ve=z.props||Xi,ce=j.props||Xi;let de;X&&mp(X,!1),(de=ce.onVnodeBeforeUpdate)&&_c(de,X,j,z),Y&&gp(j,z,X,"beforeUpdate"),X&&mp(X,!0);const Fe=ue&&j.type!=="foreignObject";if(Se?I(z.dynamicChildren,Se,Le,X,ae,Fe,Be):Ze||F(z,j,Le,null,X,ae,Fe,Be,!1),se>0){if(se&16)D(Le,j,ve,ce,X,ae,ue);else if(se&2&&ve.class!==ce.class&&a(Le,"class",null,ce.class,ue),se&4&&a(Le,"style",ve.style,ce.style,ue),se&8){const Ue=j.dynamicProps;for(let lt=0;lt<Ue.length;lt++){const ut=Ue[lt],We=ve[ut],J=ce[ut];(J!==We||ut==="value")&&a(Le,ut,We,J,ue,z.children,X,ae,fe)}}se&1&&z.children!==j.children&&c(Le,j.children)}else!Ze&&Se==null&&D(Le,j,ve,ce,X,ae,ue);((de=ce.onVnodeUpdated)||Y)&&Qs(()=>{de&&_c(de,X,j,z),Y&&gp(j,z,X,"updated")},ae)},I=(z,j,X,ae,ue,Be,Ze)=>{for(let Le=0;Le<j.length;Le++){const se=z[Le],Se=j[Le],Y=se.el&&(se.type===qi||!$p(se,Se)||se.shapeFlag&70)?f(se.el):X;g(se,Se,Y,null,ae,ue,Be,Ze,!0)}},D=(z,j,X,ae,ue,Be,Ze)=>{if(X!==ae){for(const Le in ae){if(I2(Le))continue;const se=ae[Le],Se=X[Le];se!==Se&&Le!=="value"&&a(z,Le,Se,se,Ze,j.children,ue,Be,fe)}if(X!==Xi)for(const Le in X)!I2(Le)&&!(Le in ae)&&a(z,Le,X[Le],null,Ze,j.children,ue,Be,fe);"value"in ae&&a(z,"value",X.value,ae.value)}},O=(z,j,X,ae,ue,Be,Ze,Le,se)=>{const Se=j.el=z?z.el:s(""),Y=j.anchor=z?z.anchor:s("");let{patchFlag:ve,dynamicChildren:ce,slotScopeIds:de}=j;de&&(Le=Le?Le.concat(de):de),z==null?(n(Se,X,ae),n(Y,X,ae),k(j.children,X,Y,ue,Be,Ze,Le,se)):ve>0&&ve&64&&ce&&z.dynamicChildren?(I(z.dynamicChildren,ce,X,ue,Be,Ze,Le),(j.key!=null||ue&&j===ue.subTree)&&bL(z,j,!0)):F(z,j,X,Y,ue,Be,Ze,Le,se)},B=(z,j,X,ae,ue,Be,Ze,Le,se)=>{j.slotScopeIds=Le,z==null?j.shapeFlag&512?ue.ctx.activate(j,X,ae,Ze,se):U(j,X,ae,ue,Be,Ze,se):N(z,j,se)},U=(z,j,X,ae,ue,Be,Ze)=>{const Le=z.component=dfe(z,ae,ue);if($T(z)&&(Le.ctx.renderer=He),hfe(Le),Le.asyncDep){if(ue&&ue.registerDep(Le,G),!z.el){const se=Le.subTree=vi(ul);y(null,se,j,X)}return}G(Le,z,j,X,ue,Be,Ze)},N=(z,j,X)=>{const ae=j.component=z.component;if(Ace(z,j,X))if(ae.asyncDep&&!ae.asyncResolved){L(ae,j,X);return}else ae.next=j,xce(ae.update),ae.update();else j.component=z.component,j.el=z.el,ae.vnode=j},G=(z,j,X,ae,ue,Be,Ze)=>{const Le=()=>{if(z.isMounted){let{next:Y,bu:ve,u:ce,parent:de,vnode:Fe}=z,Ue=Y,lt;mp(z,!1),Y?(Y.el=Fe.el,L(z,Y,Ze)):Y=Fe,ve&&WM(ve),(lt=Y.props&&Y.props.onVnodeBeforeUpdate)&&_c(lt,de,Y,Fe),mp(z,!0);const ut=jM(z),We=z.subTree;z.subTree=ut,g(We,ut,f(We.el),he(We),z,ue,Be),Y.el=ut.el,Ue===null&&kce(z,ut.el),ce&&Qs(ce,ue),(lt=Y.props&&Y.props.onVnodeUpdated)&&Qs(()=>_c(lt,de,Y,Fe),ue)}else{let Y;const{el:ve,props:ce}=j,{bm:de,m:Fe,parent:Ue}=z,lt=hR(j);if(mp(z,!1),de&&WM(de),!lt&&(Y=ce&&ce.onVnodeBeforeMount)&&_c(Y,Ue,j),mp(z,!0),ve&&st){const ut=()=>{z.subTree=jM(z),st(ve,z.subTree,z,ue,null)};lt?j.type.__asyncLoader().then(()=>!z.isUnmounted&&ut()):ut()}else{const ut=z.subTree=jM(z);g(null,ut,X,ae,z,ue,Be),j.el=ut.el}if(Fe&&Qs(Fe,ue),!lt&&(Y=ce&&ce.onVnodeMounted)){const ut=j;Qs(()=>_c(Y,Ue,ut),ue)}j.shapeFlag&256&&z.a&&Qs(z.a,ue),z.isMounted=!0,j=X=ae=null}},se=z.effect=new aL(Le,()=>Rj(z.update),z.scope),Se=z.update=se.run.bind(se);Se.id=z.uid,mp(z,!0),Se()},L=(z,j,X)=>{j.component=z;const ae=z.vnode.props;z.vnode=j,z.next=null,jce(z,j.props,ae,X),qce(z,j.children,X),O0(),hL(void 0,z.update),L0()},F=(z,j,X,ae,ue,Be,Ze,Le,se=!1)=>{const Se=z&&z.children,Y=z?z.shapeFlag:0,ve=j.children,{patchFlag:ce,shapeFlag:de}=j;if(ce>0){if(ce&128){H(Se,ve,X,ae,ue,Be,Ze,Le,se);return}else if(ce&256){W(Se,ve,X,ae,ue,Be,Ze,Le,se);return}}de&8?(Y&16&&fe(Se,ue,Be),ve!==Se&&c(X,ve)):Y&16?de&16?H(Se,ve,X,ae,ue,Be,Ze,Le,se):fe(Se,ue,Be,!0):(Y&8&&c(X,""),de&16&&k(ve,X,ae,ue,Be,Ze,Le,se))},W=(z,j,X,ae,ue,Be,Ze,Le,se)=>{z=z||Uy,j=j||Uy;const Se=z.length,Y=j.length,ve=Math.min(Se,Y);let ce;for(ce=0;ce<ve;ce++){const de=j[ce]=se?$h(j[ce]):$c(j[ce]);g(z[ce],de,X,null,ue,Be,Ze,Le,se)}Se>Y?fe(z,ue,Be,!0,!1,ve):k(j,X,ae,ue,Be,Ze,Le,se,ve)},H=(z,j,X,ae,ue,Be,Ze,Le,se)=>{let Se=0;const Y=j.length;let ve=z.length-1,ce=Y-1;for(;Se<=ve&&Se<=ce;){const de=z[Se],Fe=j[Se]=se?$h(j[Se]):$c(j[Se]);if($p(de,Fe))g(de,Fe,X,null,ue,Be,Ze,Le,se);else break;Se++}for(;Se<=ve&&Se<=ce;){const de=z[ve],Fe=j[ce]=se?$h(j[ce]):$c(j[ce]);if($p(de,Fe))g(de,Fe,X,null,ue,Be,Ze,Le,se);else break;ve--,ce--}if(Se>ve){if(Se<=ce){const de=ce+1,Fe=de<Y?j[de].el:ae;for(;Se<=ce;)g(null,j[Se]=se?$h(j[Se]):$c(j[Se]),X,Fe,ue,Be,Ze,Le,se),Se++}}else if(Se>ce)for(;Se<=ve;)ie(z[Se],ue,Be,!0),Se++;else{const de=Se,Fe=Se,Ue=new Map;for(Se=Fe;Se<=ce;Se++){const mt=j[Se]=se?$h(j[Se]):$c(j[Se]);mt.key!=null&&Ue.set(mt.key,Se)}let lt,ut=0;const We=ce-Fe+1;let J=!1,Pe=0;const Ce=new Array(We);for(Se=0;Se<We;Se++)Ce[Se]=0;for(Se=de;Se<=ve;Se++){const mt=z[Se];if(ut>=We){ie(mt,ue,Be,!0);continue}let Me;if(mt.key!=null)Me=Ue.get(mt.key);else for(lt=Fe;lt<=ce;lt++)if(Ce[lt-Fe]===0&&$p(mt,j[lt])){Me=lt;break}Me===void 0?ie(mt,ue,Be,!0):(Ce[Me-Fe]=Se+1,Me>=Pe?Pe=Me:J=!0,g(mt,j[Me],X,null,ue,Be,Ze,Le,se),ut++)}const ct=J?efe(Ce):Uy;for(lt=ct.length-1,Se=We-1;Se>=0;Se--){const mt=Fe+Se,Me=j[mt],ht=mt+1<Y?j[mt+1].el:ae;Ce[Se]===0?g(null,Me,X,ht,ue,Be,Ze,Le,se):J&&(lt<0||Se!==ct[lt]?K(Me,X,ht,2):lt--)}}},K=(z,j,X,ae,ue=null)=>{const{el:Be,type:Ze,transition:Le,children:se,shapeFlag:Se}=z;if(Se&6){K(z.component.subTree,j,X,ae);return}if(Se&128){z.suspense.move(j,X,ae);return}if(Se&64){Ze.move(z,j,X,He);return}if(Ze===qi){n(Be,j,X);for(let ve=0;ve<se.length;ve++)K(se[ve],j,X,ae);n(z.anchor,j,X);return}if(Ze===XM){w(z,j,X);return}if(ae!==2&&Se&1&&Le)if(ae===0)Le.beforeEnter(Be),n(Be,j,X),Qs(()=>Le.enter(Be),ue);else{const{leave:ve,delayLeave:ce,afterLeave:de}=Le,Fe=()=>n(Be,j,X),Ue=()=>{ve(Be,()=>{Fe(),de&&de()})};ce?ce(Be,Fe,Ue):Ue()}else n(Be,j,X)},ie=(z,j,X,ae=!1,ue=!1)=>{const{type:Be,props:Ze,ref:Le,children:se,dynamicChildren:Se,shapeFlag:Y,patchFlag:ve,dirs:ce}=z;if(Le!=null&&mR(Le,null,X,z,!0),Y&256){j.ctx.deactivate(z);return}const de=Y&1&&ce,Fe=!hR(z);let Ue;if(Fe&&(Ue=Ze&&Ze.onVnodeBeforeUnmount)&&_c(Ue,j,z),Y&6)be(z.component,X,ae);else{if(Y&128){z.suspense.unmount(X,ae);return}de&&gp(z,null,j,"beforeUnmount"),Y&64?z.type.remove(z,j,X,ue,He,ae):Se&&(Be!==qi||ve>0&&ve&64)?fe(Se,j,X,!1,!0):(Be===qi&&ve&384||!ue&&Y&16)&&fe(se,j,X),ae&&ee(z)}(Fe&&(Ue=Ze&&Ze.onVnodeUnmounted)||de)&&Qs(()=>{Ue&&_c(Ue,j,z),de&&gp(z,null,j,"unmounted")},X)},ee=z=>{const{type:j,el:X,anchor:ae,transition:ue}=z;if(j===qi){Q(X,ae);return}if(j===XM){S(z);return}const Be=()=>{i(X),ue&&!ue.persisted&&ue.afterLeave&&ue.afterLeave()};if(z.shapeFlag&1&&ue&&!ue.persisted){const{leave:Ze,delayLeave:Le}=ue,se=()=>Ze(X,Be);Le?Le(z.el,Be,se):se()}else Be()},Q=(z,j)=>{let X;for(;z!==j;)X=d(z),i(z),z=X;i(j)},be=(z,j,X)=>{const{bum:ae,scope:ue,update:Be,subTree:Ze,um:Le}=z;ae&&WM(ae),ue.stop(),Be&&(Be.active=!1,ie(Ze,z,j,X)),Le&&Qs(Le,j),Qs(()=>{z.isUnmounted=!0},j),j&&j.pendingBranch&&!j.isUnmounted&&z.asyncDep&&!z.asyncResolved&&z.suspenseId===j.pendingId&&(j.deps--,j.deps===0&&j.resolve())},fe=(z,j,X,ae=!1,ue=!1,Be=0)=>{for(let Ze=Be;Ze<z.length;Ze++)ie(z[Ze],j,X,ae,ue)},he=z=>z.shapeFlag&6?he(z.component.subTree):z.shapeFlag&128?z.suspense.next():d(z.anchor||z.el),Ee=(z,j,X)=>{z==null?j._vnode&&ie(j._vnode,null,null,!0):g(j._vnode||null,z,j,null,null,null,X),Lj(),j._vnode=z},He={p:g,um:ie,m:K,r:ee,mt:U,mc:k,pc:F,pbc:I,n:he,o:r};let nt,st;return t&&([nt,st]=t(He)),{render:Ee,hydrate:nt,createApp:Zce(Ee,nt)}}function mp({effect:r,update:t},e){r.allowRecurse=t.allowRecurse=e}function bL(r,t,e=!1){const n=r.children,i=t.children;if(In(n)&&In(i))for(let a=0;a<n.length;a++){const o=n[a];let s=i[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[a]=$h(i[a]),s.el=o.el),e||bL(o,s))}}function efe(r){const t=r.slice(),e=[0];let n,i,a,o,s;const l=r.length;for(n=0;n<l;n++){const u=r[n];if(u!==0){if(i=e[e.length-1],r[i]<u){t[n]=i,e.push(n);continue}for(a=0,o=e.length-1;a<o;)s=a+o>>1,r[e[s]]<u?a=s+1:o=s;u<r[e[a]]&&(a>0&&(t[n]=e[a-1]),e[a]=n)}}for(a=e.length,o=e[a-1];a-- >0;)e[a]=o,o=t[o];return e}const tfe=r=>r.__isTeleport,b1=r=>r&&(r.disabled||r.disabled===""),Z3=r=>typeof SVGElement!="undefined"&&r instanceof SVGElement,yR=(r,t)=>{const e=r&&r.to;return To(e)?t?t(e):null:e},rfe={__isTeleport:!0,process(r,t,e,n,i,a,o,s,l,u){const{mc:c,pc:f,pbc:d,o:{insert:h,querySelector:v,createText:p,createComment:g}}=u,m=b1(t.props);let{shapeFlag:y,children:b,dynamicChildren:w}=t;if(r==null){const S=t.el=p(""),E=t.anchor=p("");h(S,e,n),h(E,e,n);const _=t.target=yR(t.props,v),A=t.targetAnchor=p("");_&&(h(A,_),o=o||Z3(_));const k=(T,I)=>{y&16&&c(b,T,I,i,a,o,s,l)};m?k(e,E):_&&k(_,A)}else{t.el=r.el;const S=t.anchor=r.anchor,E=t.target=r.target,_=t.targetAnchor=r.targetAnchor,A=b1(r.props),k=A?e:E,T=A?S:_;if(o=o||Z3(E),w?(d(r.dynamicChildren,w,k,i,a,o,s),bL(r,t,!0)):l||f(r,t,k,T,i,a,o,s,!1),m)A||jC(t,e,S,u,1);else if((t.props&&t.props.to)!==(r.props&&r.props.to)){const I=t.target=yR(t.props,v);I&&jC(t,I,null,u,0)}else A&&jC(t,E,_,u,1)}},remove(r,t,e,n,{um:i,o:{remove:a}},o){const{shapeFlag:s,children:l,anchor:u,targetAnchor:c,target:f,props:d}=r;if(f&&a(c),(o||!b1(d))&&(a(u),s&16))for(let h=0;h<l.length;h++){const v=l[h];i(v,t,e,!0,!!v.dynamicChildren)}},move:jC,hydrate:nfe};function jC(r,t,e,{o:{insert:n},m:i},a=2){a===0&&n(r.targetAnchor,t,e);const{el:o,anchor:s,shapeFlag:l,children:u,props:c}=r,f=a===2;if(f&&n(o,t,e),(!f||b1(c))&&l&16)for(let d=0;d<u.length;d++)i(u[d],t,e,2);f&&n(s,t,e)}function nfe(r,t,e,n,i,a,{o:{nextSibling:o,parentNode:s,querySelector:l}},u){const c=t.target=yR(t.props,l);if(c){const f=c._lpa||c.firstChild;t.shapeFlag&16&&(b1(t.props)?(t.anchor=u(o(r),t,s(r),e,n,i,a),t.targetAnchor=f):(t.anchor=o(r),t.targetAnchor=u(f,t,c,e,n,i,a)),c._lpa=t.targetAnchor&&o(t.targetAnchor))}return t.anchor&&o(t.anchor)}const Jj=rfe,eY="components";function Mot(r,t){return afe(eY,r,!0,t)||r}const ife=Symbol();function afe(r,t,e=!0,n=!1){const i=Fl||Uo;if(i){const a=i.type;if(r===eY){const s=mfe(a);if(s&&(s===t||s===Jc(t)||s===FT(Jc(t))))return a}const o=Q3(i[r]||a[r],t)||Q3(i.appContext[r],t);return!o&&n?a:o}}function Q3(r,t){return r&&(r[t]||r[Jc(t)]||r[FT(Jc(t))])}const qi=Symbol(void 0),xL=Symbol(void 0),ul=Symbol(void 0),XM=Symbol(void 0),x1=[];let ig=null;function F0(r=!1){x1.push(ig=r?null:[])}function ofe(){x1.pop(),ig=x1[x1.length-1]||null}let d_=1;function J3(r){d_+=r}function tY(r){return r.dynamicChildren=d_>0?ig||Uy:null,ofe(),d_>0&&ig&&ig.push(r),r}function Iot(r,t,e,n,i,a){return tY(nY(r,t,e,n,i,a,!0))}function N0(r,t,e,n,i){return tY(vi(r,t,e,n,i,!0))}function Z1(r){return r?r.__v_isVNode===!0:!1}function $p(r,t){return r.type===t.type&&r.key===t.key}const UT="__vInternal",rY=({key:r})=>r!=null?r:null,P2=({ref:r,ref_key:t,ref_for:e})=>r!=null?To(r)||Eo(r)||Un(r)?{i:Fl,r,k:t,f:!!e}:r:null;function nY(r,t=null,e=null,n=0,i=null,a=r===qi?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:r,props:t,key:t&&rY(t),ref:t&&P2(t),scopeId:zT,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null};return s?(wL(l,e),a&128&&r.normalize(l)):e&&(l.shapeFlag|=To(e)?8:16),d_>0&&!o&&ig&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&ig.push(l),l}const vi=sfe;function sfe(r,t=null,e=null,n=0,i=null,a=!1){if((!r||r===ife)&&(r=ul),Z1(r)){const s=pv(r,t,!0);return e&&wL(s,e),s}if(yfe(r)&&(r=r.__vccOpts),t){t=lfe(t);let{class:s,style:l}=t;s&&!To(s)&&(t.class=JO(s)),lo(l)&&(Tj(l)&&!In(l)&&(l=Yo({},l)),t.style=QO(l))}const o=To(r)?1:Mce(r)?128:tfe(r)?64:lo(r)?4:Un(r)?2:0;return nY(r,t,e,n,i,o,a,!0)}function lfe(r){return r?Tj(r)||UT in r?Yo({},r):r:null}function pv(r,t,e=!1){const{props:n,ref:i,patchFlag:a,children:o}=r,s=t?cf(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:s,key:s&&rY(s),ref:t&&t.ref?e&&i?In(i)?i.concat(P2(t)):[i,P2(t)]:P2(t):i,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:o,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:t&&r.type!==qi?a===-1?16:a|16:a,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&pv(r.ssContent),ssFallback:r.ssFallback&&pv(r.ssFallback),el:r.el,anchor:r.anchor}}function i0(r=" ",t=0){return vi(xL,null,r,t)}function Pot(r="",t=!1){return t?(F0(),N0(ul,null,r)):vi(ul,null,r)}function $c(r){return r==null||typeof r=="boolean"?vi(ul):In(r)?vi(qi,null,r.slice()):typeof r=="object"?$h(r):vi(xL,null,String(r))}function $h(r){return r.el===null||r.memo?r:pv(r)}function wL(r,t){let e=0;const{shapeFlag:n}=r;if(t==null)t=null;else if(In(t))e=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),wL(r,i()),i._c&&(i._d=!0));return}else{e=32;const i=t._;!i&&!(UT in t)?t._ctx=Fl:i===3&&Fl&&(Fl.slots._===1?t._=1:(t._=2,r.patchFlag|=1024))}else Un(t)?(t={default:t,_ctx:Fl},e=32):(t=String(t),n&64?(e=16,t=[i0(t)]):e=8);r.children=t,r.shapeFlag|=e}function cf(...r){const t={};for(let e=0;e<r.length;e++){const n=r[e];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=JO([t.class,n.class]));else if(i==="style")t.style=QO([t.style,n.style]);else if(DT(i)){const a=t[i],o=n[i];o&&a!==o&&!(In(a)&&a.includes(o))&&(t[i]=a?[].concat(a,o):o)}else i!==""&&(t[i]=n[i])}return t}function _c(r,t,e,n=null){yu(r,t,7,[e,n])}function Rot(r,t,e,n){let i;const a=e&&e[n];if(In(r)||To(r)){i=new Array(r.length);for(let o=0,s=r.length;o<s;o++)i[o]=t(r[o],o,void 0,a&&a[o])}else if(typeof r=="number"){i=new Array(r);for(let o=0;o<r;o++)i[o]=t(o+1,o,void 0,a&&a[o])}else if(lo(r))if(r[Symbol.iterator])i=Array.from(r,(o,s)=>t(o,s,void 0,a&&a[s]));else{const o=Object.keys(r);i=new Array(o.length);for(let s=0,l=o.length;s<l;s++){const u=o[s];i[s]=t(r[u],u,s,a&&a[s])}}else i=[];return e&&(e[n]=i),i}function iY(r,t,e={},n,i){if(Fl.isCE)return vi("slot",t==="default"?null:{name:t},n&&n());let a=r[t];a&&a._c&&(a._d=!1),F0();const o=a&&aY(a(e)),s=N0(qi,{key:e.key||`_${t}`},o||(n?n():[]),o&&r._===1?64:-2);return!i&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),a&&a._c&&(a._d=!0),s}function aY(r){return r.some(t=>Z1(t)?!(t.type===ul||t.type===qi&&!aY(t.children)):!0)?r:null}const bR=r=>r?oY(r)?SL(r)||r.proxy:bR(r.parent):null,h_=Yo(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>bR(r.parent),$root:r=>bR(r.root),$emit:r=>r.emit,$options:r=>jj(r),$forceUpdate:r=>()=>Rj(r.update),$nextTick:r=>Ja.bind(r.proxy),$watch:r=>Pce.bind(r)}),ufe={get({_:r},t){const{ctx:e,setupState:n,data:i,props:a,accessCache:o,type:s,appContext:l}=r;let u;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return n[t];case 2:return i[t];case 4:return e[t];case 3:return a[t]}else{if(n!==Xi&&wi(n,t))return o[t]=1,n[t];if(i!==Xi&&wi(i,t))return o[t]=2,i[t];if((u=r.propsOptions[0])&&wi(u,t))return o[t]=3,a[t];if(e!==Xi&&wi(e,t))return o[t]=4,e[t];vR&&(o[t]=0)}}const c=h_[t];let f,d;if(c)return t==="$attrs"&&$l(r,"get",t),c(r);if((f=s.__cssModules)&&(f=f[t]))return f;if(e!==Xi&&wi(e,t))return o[t]=4,e[t];if(d=l.config.globalProperties,wi(d,t))return d[t]},set({_:r},t,e){const{data:n,setupState:i,ctx:a}=r;return i!==Xi&&wi(i,t)?(i[t]=e,!0):n!==Xi&&wi(n,t)?(n[t]=e,!0):wi(r.props,t)||t[0]==="$"&&t.slice(1)in r?!1:(a[t]=e,!0)},has({_:{data:r,setupState:t,accessCache:e,ctx:n,appContext:i,propsOptions:a}},o){let s;return!!e[o]||r!==Xi&&wi(r,o)||t!==Xi&&wi(t,o)||(s=a[0])&&wi(s,o)||wi(n,o)||wi(h_,o)||wi(i.config.globalProperties,o)},defineProperty(r,t,e){return e.get!=null?this.set(r,t,e.get(),null):e.value!=null&&this.set(r,t,e.value,null),Reflect.defineProperty(r,t,e)}},cfe=Qj();let ffe=0;function dfe(r,t,e){const n=r.type,i=(t?t.appContext:r.appContext)||cfe,a={uid:ffe++,vnode:r,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Nue(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xj(n,i),emitsOptions:Nj(n,i),emit:null,emitted:null,propsDefaults:Xi,inheritAttrs:n.inheritAttrs,ctx:Xi,data:Xi,props:Xi,attrs:Xi,slots:Xi,refs:Xi,setupState:Xi,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=Cce.bind(null,a),r.ce&&r.ce(a),a}let Uo=null;const B0=()=>Uo||Fl,a0=r=>{Uo=r,r.scope.on()},ag=()=>{Uo&&Uo.scope.off(),Uo=null};function oY(r){return r.vnode.shapeFlag&4}let Q1=!1;function hfe(r,t=!1){Q1=t;const{props:e,children:n}=r.vnode,i=oY(r);Wce(r,e,i,t),Xce(r,n);const a=i?vfe(r,t):void 0;return Q1=!1,a}function vfe(r,t){const e=r.type;r.accessCache=Object.create(null),r.proxy=cL(new Proxy(r.ctx,ufe));const{setup:n}=e;if(n){const i=r.setupContext=n.length>1?gfe(r):null;a0(r),O0();const a=uv(n,r,0,[r.props,i]);if(L0(),ag(),fj(a)){if(a.then(ag,ag),t)return a.then(o=>{e5(r,o,t)}).catch(o=>{BT(o,r,0)});r.asyncDep=a}else e5(r,a,t)}else sY(r,t)}function e5(r,t,e){Un(t)?r.type.__ssrInlineRender?r.ssrRender=t:r.render=t:lo(t)&&(r.setupState=Ij(t)),sY(r,e)}let t5;function sY(r,t,e){const n=r.type;if(!r.render){if(!t&&t5&&!n.render){const i=n.template;if(i){const{isCustomElement:a,compilerOptions:o}=r.appContext.config,{delimiters:s,compilerOptions:l}=n,u=Yo(Yo({isCustomElement:a,delimiters:s},o),l);n.render=t5(i,u)}}r.render=n.render||Zu}a0(r),O0(),$ce(r),L0(),ag()}function pfe(r){return new Proxy(r.attrs,{get(t,e){return $l(r,"get","$attrs"),t[e]}})}function gfe(r){const t=n=>{r.exposed=n||{}};let e;return{get attrs(){return e||(e=pfe(r))},slots:r.slots,emit:r.emit,expose:t}}function SL(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(Ij(cL(r.exposed)),{get(t,e){if(e in t)return t[e];if(e in h_)return h_[e](r)}}))}function mfe(r){return Un(r)&&r.displayName||r.name}function yfe(r){return Un(r)&&"__vccOpts"in r}const re=(r,t)=>mce(r,t,Q1);function R(r,t,e){const n=arguments.length;return n===2?lo(t)&&!In(t)?Z1(t)?vi(r,null,[t]):vi(r,t):vi(r,null,t):(n>3?e=Array.prototype.slice.call(arguments,2):n===3&&Z1(e)&&(e=[e]),vi(r,t,e))}const bfe="3.2.31",xfe="http://www.w3.org/2000/svg",Gp=typeof document!="undefined"?document:null,r5=Gp&&Gp.createElement("template"),wfe={insert:(r,t,e)=>{t.insertBefore(r,e||null)},remove:r=>{const t=r.parentNode;t&&t.removeChild(r)},createElement:(r,t,e,n)=>{const i=t?Gp.createElementNS(xfe,r):Gp.createElement(r,e?{is:e}:void 0);return r==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:r=>Gp.createTextNode(r),createComment:r=>Gp.createComment(r),setText:(r,t)=>{r.nodeValue=t},setElementText:(r,t)=>{r.textContent=t},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>Gp.querySelector(r),setScopeId(r,t){r.setAttribute(t,"")},cloneNode(r){const t=r.cloneNode(!0);return"_value"in r&&(t._value=r._value),t},insertStaticContent(r,t,e,n,i,a){const o=e?e.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),e),!(i===a||!(i=i.nextSibling)););else{r5.innerHTML=n?`<svg>${r}</svg>`:r;const s=r5.content;if(n){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}};function Sfe(r,t,e){const n=r._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?r.removeAttribute("class"):e?r.setAttribute("class",t):r.className=t}function Cfe(r,t,e){const n=r.style,i=To(e);if(e&&!i){for(const a in e)xR(n,a,e[a]);if(t&&!To(t))for(const a in t)e[a]==null&&xR(n,a,"")}else{const a=n.display;i?t!==e&&(n.cssText=e):t&&r.removeAttribute("style"),"_vod"in r&&(n.display=a)}}const n5=/\s*!important$/;function xR(r,t,e){if(In(e))e.forEach(n=>xR(r,t,n));else if(t.startsWith("--"))r.setProperty(t,e);else{const n=Efe(r,t);n5.test(e)?r.setProperty(D0(n),e.replace(n5,""),"important"):r[n]=e}}const i5=["Webkit","Moz","ms"],qM={};function Efe(r,t){const e=qM[t];if(e)return e;let n=Jc(t);if(n!=="filter"&&n in r)return qM[t]=n;n=FT(n);for(let i=0;i<i5.length;i++){const a=i5[i]+n;if(a in r)return qM[t]=a}return t}const a5="http://www.w3.org/1999/xlink";function _fe(r,t,e,n,i){if(n&&t.startsWith("xlink:"))e==null?r.removeAttributeNS(a5,t.slice(6,t.length)):r.setAttributeNS(a5,t,e);else{const a=Tue(t);e==null||a&&!lj(e)?r.removeAttribute(t):r.setAttribute(t,a?"":e)}}function Tfe(r,t,e,n,i,a,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,i,a),r[t]=e==null?"":e;return}if(t==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=e;const s=e==null?"":e;(r.value!==s||r.tagName==="OPTION")&&(r.value=s),e==null&&r.removeAttribute(t);return}if(e===""||e==null){const s=typeof r[t];if(s==="boolean"){r[t]=lj(e);return}else if(e==null&&s==="string"){r[t]="",r.removeAttribute(t);return}else if(s==="number"){try{r[t]=0}catch{}r.removeAttribute(t);return}}try{r[t]=e}catch{}}let v_=Date.now,lY=!1;if(typeof window!="undefined"){v_()>document.createEvent("Event").timeStamp&&(v_=()=>performance.now());const r=navigator.userAgent.match(/firefox\/(\d+)/i);lY=!!(r&&Number(r[1])<=53)}let wR=0;const Afe=Promise.resolve(),kfe=()=>{wR=0},Mfe=()=>wR||(Afe.then(kfe),wR=v_());function Ife(r,t,e,n){r.addEventListener(t,e,n)}function Pfe(r,t,e,n){r.removeEventListener(t,e,n)}function Rfe(r,t,e,n,i=null){const a=r._vei||(r._vei={}),o=a[t];if(n&&o)o.value=n;else{const[s,l]=Dfe(t);if(n){const u=a[t]=Ofe(n,i);Ife(r,s,u,l)}else o&&(Pfe(r,s,o,l),a[t]=void 0)}}const o5=/(?:Once|Passive|Capture)$/;function Dfe(r){let t;if(o5.test(r)){t={};let e;for(;e=r.match(o5);)r=r.slice(0,r.length-e[0].length),t[e[0].toLowerCase()]=!0}return[D0(r.slice(2)),t]}function Ofe(r,t){const e=n=>{const i=n.timeStamp||v_();(lY||i>=e.attached-1)&&yu(Lfe(n,e.value),t,5,[n])};return e.value=r,e.attached=Mfe(),e}function Lfe(r,t){if(In(t)){const e=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{e.call(r),r._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const s5=/^on[a-z]/,Ffe=(r,t,e,n,i=!1,a,o,s,l)=>{t==="class"?Sfe(r,n,i):t==="style"?Cfe(r,e,n):DT(t)?eL(t)||Rfe(r,t,e,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Nfe(r,t,n,i))?Tfe(r,t,n,a,o,s,l):(t==="true-value"?r._trueValue=n:t==="false-value"&&(r._falseValue=n),_fe(r,t,n,i))};function Nfe(r,t,e,n){return n?!!(t==="innerHTML"||t==="textContent"||t in r&&s5.test(t)&&Un(e)):t==="spellcheck"||t==="draggable"||t==="form"||t==="list"&&r.tagName==="INPUT"||t==="type"&&r.tagName==="TEXTAREA"||s5.test(t)&&To(e)?!1:t in r}const _h="transition",nx="animation",uo=(r,{slots:t})=>R($j,cY(r),t);uo.displayName="Transition";const uY={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Bfe=uo.props=Yo({},$j.props,uY),yp=(r,t=[])=>{In(r)?r.forEach(e=>e(...t)):r&&r(...t)},l5=r=>r?In(r)?r.some(t=>t.length>1):r.length>1:!1;function cY(r){const t={};for(const D in r)D in uY||(t[D]=r[D]);if(r.css===!1)return t;const{name:e="v",type:n,duration:i,enterFromClass:a=`${e}-enter-from`,enterActiveClass:o=`${e}-enter-active`,enterToClass:s=`${e}-enter-to`,appearFromClass:l=a,appearActiveClass:u=o,appearToClass:c=s,leaveFromClass:f=`${e}-leave-from`,leaveActiveClass:d=`${e}-leave-active`,leaveToClass:h=`${e}-leave-to`}=r,v=zfe(i),p=v&&v[0],g=v&&v[1],{onBeforeEnter:m,onEnter:y,onEnterCancelled:b,onLeave:w,onLeaveCancelled:S,onBeforeAppear:E=m,onAppear:_=y,onAppearCancelled:A=b}=t,k=(D,O,B)=>{Lp(D,O?c:s),Lp(D,O?u:o),B&&B()},T=(D,O)=>{Lp(D,h),Lp(D,d),O&&O()},I=D=>(O,B)=>{const U=D?_:y,N=()=>k(O,D,B);yp(U,[O,N]),u5(()=>{Lp(O,D?l:a),ad(O,D?c:s),l5(U)||c5(O,n,p,N)})};return Yo(t,{onBeforeEnter(D){yp(m,[D]),ad(D,a),ad(D,o)},onBeforeAppear(D){yp(E,[D]),ad(D,l),ad(D,u)},onEnter:I(!1),onAppear:I(!0),onLeave(D,O){const B=()=>T(D,O);ad(D,f),dY(),ad(D,d),u5(()=>{Lp(D,f),ad(D,h),l5(w)||c5(D,n,g,B)}),yp(w,[D,B])},onEnterCancelled(D){k(D,!1),yp(b,[D])},onAppearCancelled(D){k(D,!0),yp(A,[D])},onLeaveCancelled(D){T(D),yp(S,[D])}})}function zfe(r){if(r==null)return null;if(lo(r))return[KM(r.enter),KM(r.leave)];{const t=KM(r);return[t,t]}}function KM(r){return vj(r)}function ad(r,t){t.split(/\s+/).forEach(e=>e&&r.classList.add(e)),(r._vtc||(r._vtc=new Set)).add(t)}function Lp(r,t){t.split(/\s+/).forEach(n=>n&&r.classList.remove(n));const{_vtc:e}=r;e&&(e.delete(t),e.size||(r._vtc=void 0))}function u5(r){requestAnimationFrame(()=>{requestAnimationFrame(r)})}let $fe=0;function c5(r,t,e,n){const i=r._endId=++$fe,a=()=>{i===r._endId&&n()};if(e)return setTimeout(a,e);const{type:o,timeout:s,propCount:l}=fY(r,t);if(!o)return n();const u=o+"end";let c=0;const f=()=>{r.removeEventListener(u,d),a()},d=h=>{h.target===r&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},s+1),r.addEventListener(u,d)}function fY(r,t){const e=window.getComputedStyle(r),n=v=>(e[v]||"").split(", "),i=n(_h+"Delay"),a=n(_h+"Duration"),o=f5(i,a),s=n(nx+"Delay"),l=n(nx+"Duration"),u=f5(s,l);let c=null,f=0,d=0;t===_h?o>0&&(c=_h,f=o,d=a.length):t===nx?u>0&&(c=nx,f=u,d=l.length):(f=Math.max(o,u),c=f>0?o>u?_h:nx:null,d=c?c===_h?a.length:l.length:0);const h=c===_h&&/\b(transform|all)(,|$)/.test(e[_h+"Property"]);return{type:c,timeout:f,propCount:d,hasTransform:h}}function f5(r,t){for(;r.length<t.length;)r=r.concat(r);return Math.max(...t.map((e,n)=>d5(e)+d5(r[n])))}function d5(r){return Number(r.slice(0,-1).replace(",","."))*1e3}function dY(){return document.body.offsetHeight}const hY=new WeakMap,vY=new WeakMap,Gfe={name:"TransitionGroup",props:Yo({},Bfe,{tag:String,moveClass:String}),setup(r,{slots:t}){const e=B0(),n=zj();let i,a;return Vj(()=>{if(!i.length)return;const o=r.moveClass||`${r.name||"v"}-move`;if(!jfe(i[0].el,e.vnode.el,o))return;i.forEach(Hfe),i.forEach(Vfe);const s=i.filter(Wfe);dY(),s.forEach(l=>{const u=l.el,c=u.style;ad(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const f=u._moveCb=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",f),u._moveCb=null,Lp(u,o))};u.addEventListener("transitionend",f)})}),()=>{const o=Ei(r),s=cY(o);let l=o.tag||qi;i=a,a=t.default?gL(t.default()):[];for(let u=0;u<a.length;u++){const c=a[u];c.key!=null&&K1(c,q1(c,s,n,e))}if(i)for(let u=0;u<i.length;u++){const c=i[u];K1(c,q1(c,s,n,e)),hY.set(c,c.el.getBoundingClientRect())}return vi(l,null,a)}}},Ufe=Gfe;function Hfe(r){const t=r.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Vfe(r){vY.set(r,r.el.getBoundingClientRect())}function Wfe(r){const t=hY.get(r),e=vY.get(r),n=t.left-e.left,i=t.top-e.top;if(n||i){const a=r.el.style;return a.transform=a.webkitTransform=`translate(${n}px,${i}px)`,a.transitionDuration="0s",r}}function jfe(r,t,e){const n=r.cloneNode();r._vtc&&r._vtc.forEach(o=>{o.split(/\s+/).forEach(s=>s&&n.classList.remove(s))}),e.split(/\s+/).forEach(o=>o&&n.classList.add(o)),n.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(n);const{hasTransform:a}=fY(n);return i.removeChild(n),a}const J1={beforeMount(r,{value:t},{transition:e}){r._vod=r.style.display==="none"?"":r.style.display,e&&t?e.beforeEnter(r):ix(r,t)},mounted(r,{value:t},{transition:e}){e&&t&&e.enter(r)},updated(r,{value:t,oldValue:e},{transition:n}){!t!=!e&&(n?t?(n.beforeEnter(r),ix(r,!0),n.enter(r)):n.leave(r,()=>{ix(r,!1)}):ix(r,t))},beforeUnmount(r,{value:t}){ix(r,t)}};function ix(r,t){r.style.display=t?r._vod:"none"}const Yfe=Yo({patchProp:Ffe},wfe);let h5;function Xfe(){return h5||(h5=Qce(Yfe))}const Dot=(...r)=>{const t=Xfe().createApp(...r),{mount:e}=t;return t.mount=n=>{const i=qfe(n);if(!i)return;const a=t._component;!Un(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.innerHTML="";const o=e(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function qfe(r){return To(r)?document.querySelector(r):r}/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const pY=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",z0=r=>pY?Symbol(r):"_vr_"+r,Kfe=z0("rvlm"),v5=z0("rvd"),HT=z0("r"),gY=z0("rl"),SR=z0("rvl"),Ey=typeof window!="undefined";function Zfe(r){return r.__esModule||pY&&r[Symbol.toStringTag]==="Module"}const Yi=Object.assign;function ZM(r,t){const e={};for(const n in t){const i=t[n];e[n]=Array.isArray(i)?i.map(r):r(i)}return e}const w1=()=>{},Qfe=/\/$/,Jfe=r=>r.replace(Qfe,"");function QM(r,t,e="/"){let n,i={},a="",o="";const s=t.indexOf("?"),l=t.indexOf("#",s>-1?s:0);return s>-1&&(n=t.slice(0,s),a=t.slice(s+1,l>-1?l:t.length),i=r(a)),l>-1&&(n=n||t.slice(0,l),o=t.slice(l,t.length)),n=nde(n!=null?n:t,e),{fullPath:n+(a&&"?")+a+o,path:n,query:i,hash:o}}function ede(r,t){const e=t.query?r(t.query):"";return t.path+(e&&"?")+e+(t.hash||"")}function p5(r,t){return!t||!r.toLowerCase().startsWith(t.toLowerCase())?r:r.slice(t.length)||"/"}function tde(r,t,e){const n=t.matched.length-1,i=e.matched.length-1;return n>-1&&n===i&&o0(t.matched[n],e.matched[i])&&mY(t.params,e.params)&&r(t.query)===r(e.query)&&t.hash===e.hash}function o0(r,t){return(r.aliasOf||r)===(t.aliasOf||t)}function mY(r,t){if(Object.keys(r).length!==Object.keys(t).length)return!1;for(const e in r)if(!rde(r[e],t[e]))return!1;return!0}function rde(r,t){return Array.isArray(r)?g5(r,t):Array.isArray(t)?g5(t,r):r===t}function g5(r,t){return Array.isArray(t)?r.length===t.length&&r.every((e,n)=>e===t[n]):r.length===1&&r[0]===t}function nde(r,t){if(r.startsWith("/"))return r;if(!r)return t;const e=t.split("/"),n=r.split("/");let i=e.length-1,a,o;for(a=0;a<n.length;a++)if(o=n[a],!(i===1||o==="."))if(o==="..")i--;else break;return e.slice(0,i).join("/")+"/"+n.slice(a-(a===n.length?1:0)).join("/")}var ew;(function(r){r.pop="pop",r.push="push"})(ew||(ew={}));var S1;(function(r){r.back="back",r.forward="forward",r.unknown=""})(S1||(S1={}));function ide(r){if(!r)if(Ey){const t=document.querySelector("base");r=t&&t.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),Jfe(r)}const ade=/^[^#]+#/;function ode(r,t){return r.replace(ade,"#")+t}function sde(r,t){const e=document.documentElement.getBoundingClientRect(),n=r.getBoundingClientRect();return{behavior:t.behavior,left:n.left-e.left-(t.left||0),top:n.top-e.top-(t.top||0)}}const VT=()=>({left:window.pageXOffset,top:window.pageYOffset});function lde(r){let t;if("el"in r){const e=r.el,n=typeof e=="string"&&e.startsWith("#"),i=typeof e=="string"?n?document.getElementById(e.slice(1)):document.querySelector(e):e;if(!i)return;t=sde(i,r)}else t=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function m5(r,t){return(history.state?history.state.position-t:-1)+r}const CR=new Map;function ude(r,t){CR.set(r,t)}function cde(r){const t=CR.get(r);return CR.delete(r),t}let fde=()=>location.protocol+"//"+location.host;function yY(r,t){const{pathname:e,search:n,hash:i}=t,a=r.indexOf("#");if(a>-1){let s=i.includes(r.slice(a))?r.slice(a).length:1,l=i.slice(s);return l[0]!=="/"&&(l="/"+l),p5(l,"")}return p5(e,r)+n+i}function dde(r,t,e,n){let i=[],a=[],o=null;const s=({state:d})=>{const h=yY(r,location),v=e.value,p=t.value;let g=0;if(d){if(e.value=h,t.value=d,o&&o===v){o=null;return}g=p?d.position-p.position:0}else n(h);i.forEach(m=>{m(e.value,v,{delta:g,type:ew.pop,direction:g?g>0?S1.forward:S1.back:S1.unknown})})};function l(){o=e.value}function u(d){i.push(d);const h=()=>{const v=i.indexOf(d);v>-1&&i.splice(v,1)};return a.push(h),h}function c(){const{history:d}=window;!d.state||d.replaceState(Yi({},d.state,{scroll:VT()}),"")}function f(){for(const d of a)d();a=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:u,destroy:f}}function y5(r,t,e,n=!1,i=!1){return{back:r,current:t,forward:e,replaced:n,position:window.history.length,scroll:i?VT():null}}function hde(r){const{history:t,location:e}=window,n={value:yY(r,e)},i={value:t.state};i.value||a(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(l,u,c){const f=r.indexOf("#"),d=f>-1?(e.host&&document.querySelector("base")?r:r.slice(f))+l:fde()+r+l;try{t[c?"replaceState":"pushState"](u,"",d),i.value=u}catch(h){console.error(h),e[c?"replace":"assign"](d)}}function o(l,u){const c=Yi({},t.state,y5(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});a(l,c,!0),n.value=l}function s(l,u){const c=Yi({},i.value,t.state,{forward:l,scroll:VT()});a(c.current,c,!0);const f=Yi({},y5(n.value,l,null),{position:c.position+1},u);a(l,f,!1),n.value=l}return{location:n,state:i,push:s,replace:o}}function vde(r){r=ide(r);const t=hde(r),e=dde(r,t.state,t.location,t.replace);function n(a,o=!0){o||e.pauseListeners(),history.go(a)}const i=Yi({location:"",base:r,go:n,createHref:ode.bind(null,r)},t,e);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function Oot(r){return r=location.host?r||location.pathname+location.search:"",r.includes("#")||(r+="#"),vde(r)}function pde(r){return typeof r=="string"||r&&typeof r=="object"}function bY(r){return typeof r=="string"||typeof r=="symbol"}const Th={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},xY=z0("nf");var b5;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(b5||(b5={}));function s0(r,t){return Yi(new Error,{type:r,[xY]:!0},t)}function bp(r,t){return r instanceof Error&&xY in r&&(t==null||!!(r.type&t))}const x5="[^/]+?",gde={sensitive:!1,strict:!1,start:!0,end:!0},mde=/[.+*?^${}()[\]/\\]/g;function yde(r,t){const e=Yi({},gde,t),n=[];let i=e.start?"^":"";const a=[];for(const u of r){const c=u.length?[]:[90];e.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const d=u[f];let h=40+(e.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(mde,"\\$&"),h+=40;else if(d.type===1){const{value:v,repeatable:p,optional:g,regexp:m}=d;a.push({name:v,repeatable:p,optional:g});const y=m||x5;if(y!==x5){h+=10;try{new RegExp(`(${y})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${v}" (${y}): `+w.message)}}let b=p?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(b=g&&u.length<2?`(?:/${b})`:"/"+b),g&&(b+="?"),i+=b,h+=20,g&&(h+=-8),p&&(h+=-20),y===".*"&&(h+=-50)}c.push(h)}n.push(c)}if(e.strict&&e.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}e.strict||(i+="/?"),e.end?i+="$":e.strict&&(i+="(?:/|$)");const o=new RegExp(i,e.sensitive?"":"i");function s(u){const c=u.match(o),f={};if(!c)return null;for(let d=1;d<c.length;d++){const h=c[d]||"",v=a[d-1];f[v.name]=h&&v.repeatable?h.split("/"):h}return f}function l(u){let c="",f=!1;for(const d of r){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const h of d)if(h.type===0)c+=h.value;else if(h.type===1){const{value:v,repeatable:p,optional:g}=h,m=v in u?u[v]:"";if(Array.isArray(m)&&!p)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const y=Array.isArray(m)?m.join("/"):m;if(!y)if(g)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);c+=y}}return c}return{re:o,score:n,keys:a,parse:s,stringify:l}}function bde(r,t){let e=0;for(;e<r.length&&e<t.length;){const n=t[e]-r[e];if(n)return n;e++}return r.length<t.length?r.length===1&&r[0]===40+40?-1:1:r.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function xde(r,t){let e=0;const n=r.score,i=t.score;for(;e<n.length&&e<i.length;){const a=bde(n[e],i[e]);if(a)return a;e++}return i.length-n.length}const wde={type:0,value:""},Sde=/[a-zA-Z0-9_]/;function Cde(r){if(!r)return[[]];if(r==="/")return[[wde]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function t(h){throw new Error(`ERR (${e})/"${u}": ${h}`)}let e=0,n=e;const i=[];let a;function o(){a&&i.push(a),a=[]}let s=0,l,u="",c="";function f(){!u||(e===0?a.push({type:0,value:u}):e===1||e===2||e===3?(a.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;s<r.length;){if(l=r[s++],l==="\\"&&e!==2){n=e,e=4;continue}switch(e){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),e=1):d();break;case 4:d(),e=n;break;case 1:l==="("?e=2:Sde.test(l)?d():(f(),e=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:e=3:c+=l;break;case 3:f(),e=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,c="";break;default:t("Unknown state");break}}return e===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),o(),i}function Ede(r,t,e){const n=yde(Cde(r.path),e),i=Yi(n,{record:r,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function _de(r,t){const e=[],n=new Map;t=S5({strict:!1,end:!0,sensitive:!1},t);function i(c){return n.get(c)}function a(c,f,d){const h=!d,v=Ade(c);v.aliasOf=d&&d.record;const p=S5(t,c),g=[v];if("alias"in c){const b=typeof c.alias=="string"?[c.alias]:c.alias;for(const w of b)g.push(Yi({},v,{components:d?d.record.components:v.components,path:w,aliasOf:d?d.record:v}))}let m,y;for(const b of g){const{path:w}=b;if(f&&w[0]!=="/"){const S=f.record.path,E=S[S.length-1]==="/"?"":"/";b.path=f.record.path+(w&&E+w)}if(m=Ede(b,f,p),d?d.alias.push(m):(y=y||m,y!==m&&y.alias.push(m),h&&c.name&&!w5(m)&&o(c.name)),"children"in v){const S=v.children;for(let E=0;E<S.length;E++)a(S[E],m,d&&d.children[E])}d=d||m,l(m)}return y?()=>{o(y)}:w1}function o(c){if(bY(c)){const f=n.get(c);f&&(n.delete(c),e.splice(e.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=e.indexOf(c);f>-1&&(e.splice(f,1),c.record.name&&n.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function s(){return e}function l(c){let f=0;for(;f<e.length&&xde(c,e[f])>=0;)f++;e.splice(f,0,c),c.record.name&&!w5(c)&&n.set(c.record.name,c)}function u(c,f){let d,h={},v,p;if("name"in c&&c.name){if(d=n.get(c.name),!d)throw s0(1,{location:c});p=d.record.name,h=Yi(Tde(f.params,d.keys.filter(y=>!y.optional).map(y=>y.name)),c.params),v=d.stringify(h)}else if("path"in c)v=c.path,d=e.find(y=>y.re.test(v)),d&&(h=d.parse(v),p=d.record.name);else{if(d=f.name?n.get(f.name):e.find(y=>y.re.test(f.path)),!d)throw s0(1,{location:c,currentLocation:f});p=d.record.name,h=Yi({},f.params,c.params),v=d.stringify(h)}const g=[];let m=d;for(;m;)g.unshift(m.record),m=m.parent;return{name:p,path:v,params:h,matched:g,meta:Mde(g)}}return r.forEach(c=>a(c)),{addRoute:a,resolve:u,removeRoute:o,getRoutes:s,getRecordMatcher:i}}function Tde(r,t){const e={};for(const n of t)n in r&&(e[n]=r[n]);return e}function Ade(r){return{path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:void 0,beforeEnter:r.beforeEnter,props:kde(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||{}:{default:r.component}}}function kde(r){const t={},e=r.props||!1;if("component"in r)t.default=e;else for(const n in r.components)t[n]=typeof e=="boolean"?e:e[n];return t}function w5(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function Mde(r){return r.reduce((t,e)=>Yi(t,e.meta),{})}function S5(r,t){const e={};for(const n in r)e[n]=n in t?t[n]:r[n];return e}const wY=/#/g,Ide=/&/g,Pde=/\//g,Rde=/=/g,Dde=/\?/g,SY=/\+/g,Ode=/%5B/g,Lde=/%5D/g,CY=/%5E/g,Fde=/%60/g,EY=/%7B/g,Nde=/%7C/g,_Y=/%7D/g,Bde=/%20/g;function CL(r){return encodeURI(""+r).replace(Nde,"|").replace(Ode,"[").replace(Lde,"]")}function zde(r){return CL(r).replace(EY,"{").replace(_Y,"}").replace(CY,"^")}function ER(r){return CL(r).replace(SY,"%2B").replace(Bde,"+").replace(wY,"%23").replace(Ide,"%26").replace(Fde,"`").replace(EY,"{").replace(_Y,"}").replace(CY,"^")}function $de(r){return ER(r).replace(Rde,"%3D")}function Gde(r){return CL(r).replace(wY,"%23").replace(Dde,"%3F")}function Ude(r){return r==null?"":Gde(r).replace(Pde,"%2F")}function p_(r){try{return decodeURIComponent(""+r)}catch{}return""+r}function Hde(r){const t={};if(r===""||r==="?")return t;const n=(r[0]==="?"?r.slice(1):r).split("&");for(let i=0;i<n.length;++i){const a=n[i].replace(SY," "),o=a.indexOf("="),s=p_(o<0?a:a.slice(0,o)),l=o<0?null:p_(a.slice(o+1));if(s in t){let u=t[s];Array.isArray(u)||(u=t[s]=[u]),u.push(l)}else t[s]=l}return t}function C5(r){let t="";for(let e in r){const n=r[e];if(e=$de(e),n==null){n!==void 0&&(t+=(t.length?"&":"")+e);continue}(Array.isArray(n)?n.map(a=>a&&ER(a)):[n&&ER(n)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+e,a!=null&&(t+="="+a))})}return t}function Vde(r){const t={};for(const e in r){const n=r[e];n!==void 0&&(t[e]=Array.isArray(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}function ax(){let r=[];function t(n){return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}function e(){r=[]}return{add:t,list:()=>r,reset:e}}function Gh(r,t,e,n,i){const a=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((o,s)=>{const l=f=>{f===!1?s(s0(4,{from:e,to:t})):f instanceof Error?s(f):pde(f)?s(s0(2,{from:t,to:f})):(a&&n.enterCallbacks[i]===a&&typeof f=="function"&&a.push(f),o())},u=r.call(n&&n.instances[i],t,e,l);let c=Promise.resolve(u);r.length<3&&(c=c.then(l)),c.catch(f=>s(f))})}function JM(r,t,e,n){const i=[];for(const a of r)for(const o in a.components){let s=a.components[o];if(!(t!=="beforeRouteEnter"&&!a.instances[o]))if(Wde(s)){const u=(s.__vccOpts||s)[t];u&&i.push(Gh(u,e,n,a,o))}else{let l=s();i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${a.path}"`));const c=Zfe(u)?u.default:u;a.components[o]=c;const d=(c.__vccOpts||c)[t];return d&&Gh(d,e,n,a,o)()}))}}return i}function Wde(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function E5(r){const t=Sr(HT),e=Sr(gY),n=re(()=>t.resolve(so(r.to))),i=re(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],f=e.matched;if(!c||!f.length)return-1;const d=f.findIndex(o0.bind(null,c));if(d>-1)return d;const h=_5(l[u-2]);return u>1&&_5(c)===h&&f[f.length-1].path!==h?f.findIndex(o0.bind(null,l[u-2])):d}),a=re(()=>i.value>-1&&qde(e.params,n.value.params)),o=re(()=>i.value>-1&&i.value===e.matched.length-1&&mY(e.params,n.value.params));function s(l={}){return Xde(l)?t[so(r.replace)?"replace":"push"](so(r.to)).catch(w1):Promise.resolve()}return{route:n,href:re(()=>n.value.href),isActive:a,isExactActive:o,navigate:s}}const jde=It({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:E5,setup(r,{slots:t}){const e=kv(E5(r)),{options:n}=Sr(HT),i=re(()=>({[T5(r.activeClass,n.linkActiveClass,"router-link-active")]:e.isActive,[T5(r.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:e.isExactActive}));return()=>{const a=t.default&&t.default(e);return r.custom?a:R("a",{"aria-current":e.isExactActive?r.ariaCurrentValue:null,href:e.href,onClick:e.navigate,class:i.value},a)}}}),Yde=jde;function Xde(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const t=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return r.preventDefault&&r.preventDefault(),!0}}function qde(r,t){for(const e in t){const n=t[e],i=r[e];if(typeof n=="string"){if(n!==i)return!1}else if(!Array.isArray(i)||i.length!==n.length||n.some((a,o)=>a!==i[o]))return!1}return!0}function _5(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const T5=(r,t,e)=>r!=null?r:t!=null?t:e,Kde=It({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(r,{attrs:t,slots:e}){const n=Sr(SR),i=re(()=>r.route||n.value),a=Sr(v5,0),o=re(()=>i.value.matched[a]);Tn(v5,a+1),Tn(Kfe,o),Tn(SR,i);const s=Re();return hn(()=>[s.value,o.value,r.name],([l,u,c],[f,d,h])=>{u&&(u.instances[c]=l,d&&d!==u&&l&&l===f&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),l&&u&&(!d||!o0(u,d)||!f)&&(u.enterCallbacks[c]||[]).forEach(v=>v(l))},{flush:"post"}),()=>{const l=i.value,u=o.value,c=u&&u.components[r.name],f=r.name;if(!c)return A5(e.default,{Component:c,route:l});const d=u.props[r.name],h=d?d===!0?l.params:typeof d=="function"?d(l):d:null,p=R(c,Yi({},h,t,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(u.instances[f]=null)},ref:s}));return A5(e.default,{Component:p,route:l})||p}}});function A5(r,t){if(!r)return null;const e=r(t);return e.length===1?e[0]:e}const Zde=Kde;function Lot(r){const t=_de(r.routes,r),e=r.parseQuery||Hde,n=r.stringifyQuery||C5,i=r.history,a=ax(),o=ax(),s=ax(),l=cR(Th);let u=Th;Ey&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=ZM.bind(null,Q=>""+Q),f=ZM.bind(null,Ude),d=ZM.bind(null,p_);function h(Q,be){let fe,he;return bY(Q)?(fe=t.getRecordMatcher(Q),he=be):he=Q,t.addRoute(he,fe)}function v(Q){const be=t.getRecordMatcher(Q);be&&t.removeRoute(be)}function p(){return t.getRoutes().map(Q=>Q.record)}function g(Q){return!!t.getRecordMatcher(Q)}function m(Q,be){if(be=Yi({},be||l.value),typeof Q=="string"){const st=QM(e,Q,be.path),z=t.resolve({path:st.path},be),j=i.createHref(st.fullPath);return Yi(st,z,{params:d(z.params),hash:p_(st.hash),redirectedFrom:void 0,href:j})}let fe;if("path"in Q)fe=Yi({},Q,{path:QM(e,Q.path,be.path).path});else{const st=Yi({},Q.params);for(const z in st)st[z]==null&&delete st[z];fe=Yi({},Q,{params:f(Q.params)}),be.params=f(be.params)}const he=t.resolve(fe,be),Ee=Q.hash||"";he.params=c(d(he.params));const He=ede(n,Yi({},Q,{hash:zde(Ee),path:he.path})),nt=i.createHref(He);return Yi({fullPath:He,hash:Ee,query:n===C5?Vde(Q.query):Q.query||{}},he,{redirectedFrom:void 0,href:nt})}function y(Q){return typeof Q=="string"?QM(e,Q,l.value.path):Yi({},Q)}function b(Q,be){if(u!==Q)return s0(8,{from:be,to:Q})}function w(Q){return _(Q)}function S(Q){return w(Yi(y(Q),{replace:!0}))}function E(Q){const be=Q.matched[Q.matched.length-1];if(be&&be.redirect){const{redirect:fe}=be;let he=typeof fe=="function"?fe(Q):fe;return typeof he=="string"&&(he=he.includes("?")||he.includes("#")?he=y(he):{path:he},he.params={}),Yi({query:Q.query,hash:Q.hash,params:Q.params},he)}}function _(Q,be){const fe=u=m(Q),he=l.value,Ee=Q.state,He=Q.force,nt=Q.replace===!0,st=E(fe);if(st)return _(Yi(y(st),{state:Ee,force:He,replace:nt}),be||fe);const z=fe;z.redirectedFrom=be;let j;return!He&&tde(n,he,fe)&&(j=s0(16,{to:z,from:he}),W(he,he,!0,!1)),(j?Promise.resolve(j):k(z,he)).catch(X=>bp(X)?X:G(X,z,he)).then(X=>{if(X){if(bp(X,2))return _(Yi(y(X.to),{state:Ee,force:He,replace:nt}),be||z)}else X=I(z,he,!0,nt,Ee);return T(z,he,X),X})}function A(Q,be){const fe=b(Q,be);return fe?Promise.reject(fe):Promise.resolve()}function k(Q,be){let fe;const[he,Ee,He]=Qde(Q,be);fe=JM(he.reverse(),"beforeRouteLeave",Q,be);for(const st of he)st.leaveGuards.forEach(z=>{fe.push(Gh(z,Q,be))});const nt=A.bind(null,Q,be);return fe.push(nt),Xm(fe).then(()=>{fe=[];for(const st of a.list())fe.push(Gh(st,Q,be));return fe.push(nt),Xm(fe)}).then(()=>{fe=JM(Ee,"beforeRouteUpdate",Q,be);for(const st of Ee)st.updateGuards.forEach(z=>{fe.push(Gh(z,Q,be))});return fe.push(nt),Xm(fe)}).then(()=>{fe=[];for(const st of Q.matched)if(st.beforeEnter&&!be.matched.includes(st))if(Array.isArray(st.beforeEnter))for(const z of st.beforeEnter)fe.push(Gh(z,Q,be));else fe.push(Gh(st.beforeEnter,Q,be));return fe.push(nt),Xm(fe)}).then(()=>(Q.matched.forEach(st=>st.enterCallbacks={}),fe=JM(He,"beforeRouteEnter",Q,be),fe.push(nt),Xm(fe))).then(()=>{fe=[];for(const st of o.list())fe.push(Gh(st,Q,be));return fe.push(nt),Xm(fe)}).catch(st=>bp(st,8)?st:Promise.reject(st))}function T(Q,be,fe){for(const he of s.list())he(Q,be,fe)}function I(Q,be,fe,he,Ee){const He=b(Q,be);if(He)return He;const nt=be===Th,st=Ey?history.state:{};fe&&(he||nt?i.replace(Q.fullPath,Yi({scroll:nt&&st&&st.scroll},Ee)):i.push(Q.fullPath,Ee)),l.value=Q,W(Q,be,fe,nt),F()}let D;function O(){D=i.listen((Q,be,fe)=>{const he=m(Q),Ee=E(he);if(Ee){_(Yi(Ee,{replace:!0}),he).catch(w1);return}u=he;const He=l.value;Ey&&ude(m5(He.fullPath,fe.delta),VT()),k(he,He).catch(nt=>bp(nt,12)?nt:bp(nt,2)?(_(nt.to,he).then(st=>{bp(st,20)&&!fe.delta&&fe.type===ew.pop&&i.go(-1,!1)}).catch(w1),Promise.reject()):(fe.delta&&i.go(-fe.delta,!1),G(nt,he,He))).then(nt=>{nt=nt||I(he,He,!1),nt&&(fe.delta?i.go(-fe.delta,!1):fe.type===ew.pop&&bp(nt,20)&&i.go(-1,!1)),T(he,He,nt)}).catch(w1)})}let B=ax(),U=ax(),N;function G(Q,be,fe){F(Q);const he=U.list();return he.length?he.forEach(Ee=>Ee(Q,be,fe)):console.error(Q),Promise.reject(Q)}function L(){return N&&l.value!==Th?Promise.resolve():new Promise((Q,be)=>{B.add([Q,be])})}function F(Q){N||(N=!0,O(),B.list().forEach(([be,fe])=>Q?fe(Q):be()),B.reset())}function W(Q,be,fe,he){const{scrollBehavior:Ee}=r;if(!Ey||!Ee)return Promise.resolve();const He=!fe&&cde(m5(Q.fullPath,0))||(he||!fe)&&history.state&&history.state.scroll||null;return Ja().then(()=>Ee(Q,be,He)).then(nt=>nt&&lde(nt)).catch(nt=>G(nt,Q,be))}const H=Q=>i.go(Q);let K;const ie=new Set;return{currentRoute:l,addRoute:h,removeRoute:v,hasRoute:g,getRoutes:p,resolve:m,options:r,push:w,replace:S,go:H,back:()=>H(-1),forward:()=>H(1),beforeEach:a.add,beforeResolve:o.add,afterEach:s.add,onError:U.add,isReady:L,install(Q){const be=this;Q.component("RouterLink",Yde),Q.component("RouterView",Zde),Q.config.globalProperties.$router=be,Object.defineProperty(Q.config.globalProperties,"$route",{enumerable:!0,get:()=>so(l)}),Ey&&!K&&l.value===Th&&(K=!0,w(i.location).catch(Ee=>{}));const fe={};for(const Ee in Th)fe[Ee]=re(()=>l.value[Ee]);Q.provide(HT,be),Q.provide(gY,kv(fe)),Q.provide(SR,l);const he=Q.unmount;ie.add(Q),Q.unmount=function(){ie.delete(Q),ie.size<1&&(u=Th,D&&D(),l.value=Th,K=!1,N=!1),he()}}}}function Xm(r){return r.reduce((t,e)=>t.then(()=>e()),Promise.resolve())}function Qde(r,t){const e=[],n=[],i=[],a=Math.max(t.matched.length,r.matched.length);for(let o=0;o<a;o++){const s=t.matched[o];s&&(r.matched.find(u=>o0(u,s))?n.push(s):e.push(s));const l=r.matched[o];l&&(t.matched.find(u=>o0(u,l))||i.push(l))}return[e,n,i]}function Fot(){return Sr(HT)}function eI(){const r=[],t=i=>{const a=r.indexOf(i);a!==-1&&r.splice(a,1)};return{on:i=>(r.push(i),{off:()=>t(i)}),off:t,trigger:i=>{r.forEach(a=>a(i))}}}function TY(r){return zue()?($ue(r),!0):!1}const WT=typeof window!="undefined";function Jde(r,t){function e(...n){r(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})}return e}function ehe(r,t={}){let e,n;return a=>{const o=so(r),s=so(t.maxWait);if(e&&clearTimeout(e),o<=0||s!==void 0&&s<=0)return n&&(clearTimeout(n),n=null),a();s&&!n&&(n=setTimeout(()=>{e&&clearTimeout(e),n=null,a()},s)),e=setTimeout(()=>{n&&clearTimeout(n),n=null,a()},o)}}function the(r,...t){return t.some(e=>e in r)}function Not(r,t=200,e={}){return Jde(ehe(t,e),r)}function rhe(r,t,e={}){const{immediate:n=!0}=e,i=Re(!1);let a=null;function o(){a&&(clearTimeout(a),a=null)}function s(){i.value=!1,o()}function l(...u){o(),i.value=!0,a=setTimeout(()=>{i.value=!1,a=null,r(...u)},so(t))}return n&&(i.value=!0,WT&&l()),TY(s),{isPending:i,start:l,stop:s}}function nhe(r){var t;const e=so(r);return(t=e==null?void 0:e.$el)!=null?t:e}const AY=WT?window:void 0;WT&&window.document;WT&&window.navigator;var k5=Object.getOwnPropertySymbols,ihe=Object.prototype.hasOwnProperty,ahe=Object.prototype.propertyIsEnumerable,ohe=(r,t)=>{var e={};for(var n in r)ihe.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&k5)for(var n of k5(r))t.indexOf(n)<0&&ahe.call(r,n)&&(e[n]=r[n]);return e};function Bot(r,t,e={}){const n=e,{window:i=AY}=n,a=ohe(n,["window"]);let o;const s=i&&"ResizeObserver"in i,l=()=>{o&&(o.disconnect(),o=void 0)},u=hn(()=>nhe(r),f=>{l(),s&&i&&f&&(o=new i.ResizeObserver(t),o.observe(f,a))},{immediate:!0,flush:"post"}),c=()=>{l(),u()};return TY(c),{isSupported:s,stop:c}}var she=Object.defineProperty,lhe=Object.defineProperties,uhe=Object.getOwnPropertyDescriptors,M5=Object.getOwnPropertySymbols,che=Object.prototype.hasOwnProperty,fhe=Object.prototype.propertyIsEnumerable,I5=(r,t,e)=>t in r?she(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,Zf=(r,t)=>{for(var e in t||(t={}))che.call(t,e)&&I5(r,e,t[e]);if(M5)for(var e of M5(t))fhe.call(t,e)&&I5(r,e,t[e]);return r},P5=(r,t)=>lhe(r,uhe(t));const dhe={json:"application/json",text:"text/plain",formData:"multipart/form-data"};function R5(r){return the(r,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError")}function tI(r){return r instanceof Headers?Object.fromEntries([...r.entries()]):r}function zot(r,...t){var e;const n=typeof AbortController=="function";let i={},a={immediate:!0,refetch:!1,timeout:0};const o={method:"get",type:"text",payload:void 0};t.length>0&&(R5(t[0])?a=Zf(Zf({},a),t[0]):i=t[0]),t.length>1&&R5(t[1])&&(a=Zf(Zf({},a),t[1]));const{fetch:s=(e=AY)==null?void 0:e.fetch,initialData:l,timeout:u}=a,c=eI(),f=eI(),d=eI(),h=Re(!1),v=Re(!1),p=Re(!1),g=Re(null),m=cR(null),y=Re(null),b=cR(l),w=re(()=>n&&v.value);let S,E;const _=()=>{n&&S&&S.abort()},A=O=>{v.value=O,h.value=!O};u&&(E=rhe(_,u,{immediate:!1}));const k=async(O=!1)=>{var B;A(!0),y.value=null,g.value=null,p.value=!1,S=void 0,n&&(S=new AbortController,S.signal.onabort=()=>p.value=!0,i=P5(Zf({},i),{signal:S.signal}));const U={method:o.method,headers:{}};if(o.payload){const F=tI(U.headers);o.payloadType&&(F["Content-Type"]=(B=dhe[o.payloadType])!=null?B:o.payloadType),U.body=o.payloadType==="json"?JSON.stringify(so(o.payload)):so(o.payload)}let N=!1;const G={url:so(r),options:i,cancel:()=>{N=!0}};if(a.beforeFetch&&Object.assign(G,await a.beforeFetch(G)),N||!s)return A(!1),Promise.resolve();let L=null;return E&&E.start(),new Promise((F,W)=>{var H;s(G.url,P5(Zf(Zf({},U),G.options),{headers:Zf(Zf({},tI(U.headers)),tI((H=G.options)==null?void 0:H.headers))})).then(async K=>{if(m.value=K,g.value=K.status,L=await K[o.type](),a.afterFetch&&({data:L}=await a.afterFetch({data:L,response:K})),b.value=L,!K.ok)throw new Error(K.statusText);c.trigger(K),F(K)}).catch(async K=>{let ie=K.message||K.name;a.onFetchError&&({data:L,error:ie}=await a.onFetchError({data:L,error:K})),b.value=L,y.value=ie,f.trigger(K),O?W(K):F(void 0)}).finally(()=>{A(!1),E&&E.stop(),d.trigger(null)})})};hn(()=>[so(r),so(a.refetch)],()=>so(a.refetch)&&k(),{deep:!0});const T={isFinished:h,statusCode:g,response:m,error:y,data:b,isFetching:v,canAbort:w,aborted:p,abort:_,execute:k,onFetchResponse:c.on,onFetchError:f.on,onFetchFinally:d.on,get:I("get"),put:I("put"),post:I("post"),delete:I("delete"),json:D("json"),text:D("text"),blob:D("blob"),arrayBuffer:D("arrayBuffer"),formData:D("formData")};function I(O){return(B,U)=>{if(!v.value)return o.method=O,o.payload=B,o.payloadType=U,Eo(o.payload)&&hn(()=>[so(o.payload),so(a.refetch)],()=>so(a.refetch)&&k(),{deep:!0}),!U&&so(B)&&Object.getPrototypeOf(so(B))===Object.prototype&&(o.payloadType="json"),T}}function D(O){return()=>{if(!v.value)return o.type=O,T}}return a.immediate&&setTimeout(k,0),T}var D5;(function(r){r.UP="UP",r.RIGHT="RIGHT",r.DOWN="DOWN",r.LEFT="LEFT",r.NONE="NONE"})(D5||(D5={}));let g_=[];const kY=new WeakMap;function hhe(){g_.forEach(r=>r(...kY.get(r))),g_=[]}function m_(r,...t){kY.set(r,t),!g_.includes(r)&&g_.push(r)===1&&requestAnimationFrame(hhe)}function tf(r,t){let{target:e}=r;for(;e;){if(e.dataset&&e.dataset[t]!==void 0)return!0;e=e.parentElement}return!1}function Rs(r){return typeof r=="string"?r.endsWith("px")?Number(r.slice(0,r.length-2)):Number(r):r}function ys(r){if(r!=null)return typeof r=="number"?`${r}px`:r.endsWith("px")?r:`${r}px`}function l0(r,t){const e=r.trim().split(/\s+/g),n={top:e[0]};switch(e.length){case 1:n.right=e[0],n.bottom=e[0],n.left=e[0];break;case 2:n.right=e[1],n.left=e[1],n.bottom=e[0];break;case 3:n.right=e[1],n.bottom=e[2],n.left=e[1];break;case 4:n.right=e[1],n.bottom=e[2],n.left=e[3];break;default:throw new Error("[seemly/getMargin]:"+r+" is not a valid value.")}return t===void 0?n:n[t]}function vhe(r,t){const[e,n]=r.split(" ");return t?t==="row"?e:n:{row:e,col:n||e}}var O5={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"};const $0="^\\s*",G0="\\s*$",Wp="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",jp="([0-9A-Fa-f])",Yp="([0-9A-Fa-f]{2})",phe=new RegExp(`${$0}rgb\\s*\\(${Wp},${Wp},${Wp}\\)${G0}`),ghe=new RegExp(`${$0}rgba\\s*\\(${Wp},${Wp},${Wp},${Wp}\\)${G0}`),mhe=new RegExp(`${$0}#${jp}${jp}${jp}${G0}`),yhe=new RegExp(`${$0}#${Yp}${Yp}${Yp}${G0}`),bhe=new RegExp(`${$0}#${jp}${jp}${jp}${jp}${G0}`),xhe=new RegExp(`${$0}#${Yp}${Yp}${Yp}${Yp}${G0}`);function qs(r){return parseInt(r,16)}function mg(r){try{let t;if(t=yhe.exec(r))return[qs(t[1]),qs(t[2]),qs(t[3]),1];if(t=phe.exec(r))return[ms(t[1]),ms(t[5]),ms(t[9]),1];if(t=ghe.exec(r))return[ms(t[1]),ms(t[5]),ms(t[9]),C1(t[13])];if(t=mhe.exec(r))return[qs(t[1]+t[1]),qs(t[2]+t[2]),qs(t[3]+t[3]),1];if(t=xhe.exec(r))return[qs(t[1]),qs(t[2]),qs(t[3]),C1(qs(t[4])/255)];if(t=bhe.exec(r))return[qs(t[1]+t[1]),qs(t[2]+t[2]),qs(t[3]+t[3]),C1(qs(t[4]+t[4])/255)];if(r in O5)return mg(O5[r]);throw new Error(`[seemly/rgba]: Invalid color value ${r}.`)}catch(t){throw t}}function whe(r){return r>1?1:r<0?0:r}function _R(r,t,e,n){return`rgba(${ms(r)}, ${ms(t)}, ${ms(e)}, ${whe(n)})`}function rI(r,t,e,n,i){return ms((r*t*(1-n)+e*n)/i)}function ua(r,t){Array.isArray(r)||(r=mg(r)),Array.isArray(t)||(t=mg(t));const e=r[3],n=t[3],i=C1(e+n-e*n);return _R(rI(r[0],e,t[0],n,i),rI(r[1],e,t[1],n,i),rI(r[2],e,t[2],n,i),i)}function _n(r,t){const[e,n,i,a=1]=Array.isArray(r)?r:mg(r);return t.alpha?_R(e,n,i,t.alpha):_R(e,n,i,a)}function YC(r,t){const[e,n,i,a=1]=Array.isArray(r)?r:mg(r),{lightness:o=1,alpha:s=1}=t;return She([e*o,n*o,i*o,a*s])}function C1(r){const t=Math.round(Number(r)*100)/100;return t>1?1:t<0?0:t}function ms(r){const t=Math.round(Number(r));return t>255?255:t<0?0:t}function She(r){const[t,e,n]=r;return 3 in r?`rgba(${ms(t)}, ${ms(e)}, ${ms(n)}, ${C1(r[3])})`:`rgba(${ms(t)}, ${ms(e)}, ${ms(n)}, 1)`}globalThis&&globalThis.__awaiter;function gv(r=8){return Math.random().toString(16).slice(2,2+r)}function MY(r,t){const e=[];for(let n=0;n<r;++n)e.push(t);return e}function IY(r,t="default",e=[]){const i=r.$slots[t];return i===void 0?e:i()}function Kc(r,t=[],e){const n={};return t.forEach(i=>{n[i]=r[i]}),Object.assign(n,e)}function PY(r,t=[],e){const n={};return Object.getOwnPropertyNames(r).forEach(a=>{t.includes(a)||(n[a]=r[a])}),Object.assign(n,e)}function tw(r,t=!0,e=[]){return r.forEach(n=>{if(n!==null){if(typeof n!="object"){(typeof n=="string"||typeof n=="number")&&e.push(i0(String(n)));return}if(Array.isArray(n)){tw(n,t,e);return}if(n.type===qi){if(n.children===null)return;Array.isArray(n.children)&&tw(n.children,t,e)}else n.type!==ul&&e.push(n)}}),e}function Tt(r,...t){if(Array.isArray(r))r.forEach(e=>Tt(e,...t));else return r(...t)}function Td(r){return Object.keys(r)}const Ti=(r,...t)=>typeof r=="function"?r(...t):typeof r=="string"?i0(r):typeof r=="number"?i0(String(r)):null;function rf(r,t){console.error(`[naive/${r}]: ${t}`)}function U0(r,t){throw new Error(`[naive/${r}]: ${t}`)}function Che(r){switch(typeof r){case"string":return r||void 0;case"number":return String(r);default:return}}function TR(r,t="default",e=void 0){const n=r[t];if(!n)return rf("getFirstSlotVNode",`slot[${t}] is empty`),null;const i=tw(n(e));return i.length===1?i[0]:(rf("getFirstSlotVNode",`slot[${t}] should have exactly one child`),null)}function RY(r){return typeof r=="string"?`s-${r}`:`n-${r}`}function Ehe(r){return t=>{t?r.value=t.$el:r.value=null}}function Xw(r){return r.some(t=>Z1(t)?!(t.type===ul||t.type===qi&&!Xw(t.children)):!0)?r:null}function u0(r,t){return r&&Xw(r())||t()}function _he(r,t,e){return r&&Xw(r(t))||e(t)}function ba(r,t){const e=r&&Xw(r());return t(e||null)}function E1(r){return!(r&&Xw(r()))}const The=/^(\d|\.)+$/,L5=/(\d|\.)+/;function va(r,{c:t=1,offset:e=0,attachPx:n=!0}={}){if(typeof r=="number"){const i=(r+e)*t;return i===0?"0":`${i}px`}else if(typeof r=="string")if(The.test(r)){const i=(Number(r)+e)*t;return n?i===0?"0":`${i}px`:`${i}`}else{const i=L5.exec(r);return i?r.replace(L5,String((Number(i[0])+e)*t)):r}return r}function y_(r){return r.replace(/#|\(|\)|,|\s/g,"_")}function Ahe(r){let t=0;for(let e=0;e<r.length;++e)r[e]==="&"&&++t;return t}const DY=/\s*,(?![^(]*\))\s*/g,khe=/\s+/g;function Mhe(r,t){const e=[];return t.split(DY).forEach(n=>{let i=Ahe(n);if(i){if(i===1){r.forEach(o=>{e.push(n.replace("&",o))});return}}else{r.forEach(o=>{e.push((o&&o+" ")+n)});return}let a=[n];for(;i--;){const o=[];a.forEach(s=>{r.forEach(l=>{o.push(s.replace("&",l))})}),a=o}a.forEach(o=>e.push(o))}),e}function Ihe(r,t){const e=[];return t.split(DY).forEach(n=>{r.forEach(i=>{e.push((i&&i+" ")+n)})}),e}function Phe(r){let t=[""];return r.forEach(e=>{e=e&&e.trim(),!!e&&(e.includes("&")?t=Mhe(t,e):t=Ihe(t,e))}),t.join(", ").replace(khe," ")}const Rhe=/[A-Z]/g;function OY(r){return r.replace(Rhe,t=>"-"+t.toLowerCase())}function Dhe(r,t="  "){return typeof r=="object"&&r!==null?` {
`+Object.entries(r).map(e=>t+`  ${OY(e[0])}: ${e[1]};`).join(`
`)+`
`+t+"}":`: ${r};`}function Ohe(r,t,e){return typeof r=="function"?r({context:t.context,props:e}):r}function F5(r,t,e,n){if(!t)return"";const i=Ohe(t,e,n);if(!i)return"";if(typeof i=="string")return`${r} {
${i}
}`;const a=Object.keys(i);if(a.length===0)return e.config.keepEmptyBlock?r+` {
}`:"";const o=r?[r+" {"]:[];return a.forEach(s=>{const l=i[s];if(s==="raw"){o.push(`
`+l+`
`);return}s=OY(s),l!=null&&o.push(`  ${s}${Dhe(l)}`)}),r&&o.push("}"),o.join(`
`)}function AR(r,t,e){!r||r.forEach(n=>{if(Array.isArray(n))AR(n,t,e);else if(typeof n=="function"){const i=n(t);Array.isArray(i)?AR(i,t,e):i&&e(i)}else n&&e(n)})}function LY(r,t,e,n,i,a){const o=r.$;!o||typeof o=="string"?t.push(o):typeof o=="function"?t.push(o({context:n.context,props:i})):(o.before&&o.before(n.context),!o.$||typeof o.$=="string"?t.push(o.$):o.$&&t.push(o.$({context:n.context,props:i})));const s=Phe(t),l=F5(s,r.props,n,i);a&&l&&a.insertRule(l),!a&&l.length&&e.push(l),r.children&&AR(r.children,{context:n.context,props:i},u=>{if(typeof u=="string"){const c=F5(s,{raw:u},n,i);a?a.insertRule(c):e.push(c)}else LY(u,t,e,n,i,a)}),t.pop(),o&&o.after&&o.after(n.context)}function FY(r,t,e,n=!1){const i=[];return LY(r,[],i,t,e,n?r.instance.__styleSheet:void 0),n?"":i.join(`

`)}function rw(r){for(var t=0,e,n=0,i=r.length;i>=4;++n,i-=4)e=r.charCodeAt(n)&255|(r.charCodeAt(++n)&255)<<8|(r.charCodeAt(++n)&255)<<16|(r.charCodeAt(++n)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,t=(e&65535)*1540483477+((e>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(r.charCodeAt(n+2)&255)<<16;case 2:t^=(r.charCodeAt(n+1)&255)<<8;case 1:t^=r.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}function N5(r){if(!r)return;const t=r.parentElement;t&&t.removeChild(r)}function jT(r){return document.querySelector(`style[cssr-id="${r}"]`)}function Lhe(r){const t=document.createElement("style");return t.setAttribute("cssr-id",r),t}typeof window!="undefined"&&(window.__cssrContext={});function Fhe(r,t,e){const{els:n}=t;if(e===void 0)n.forEach(N5),t.els=[];else{const i=jT(e);i&&n.includes(i)&&(N5(i),t.els=n.filter(a=>a!==i))}}function B5(r,t){r.push(t)}function Nhe(r,t,e,n,i,a,o,s,l){if(a&&!l){if(e===void 0){console.error("[css-render/mount]: `id` is required in `slient` mode.");return}const d=window.__cssrContext;d[e]||(d[e]=!0,FY(t,r,n,a));return}let u;if(e===void 0&&(u=t.render(n),e=rw(u)),l){l.adapter(e,u!=null?u:t.render(n));return}const c=jT(e);if(c!==null&&!o)return c;const f=c!=null?c:Lhe(e);if(u===void 0&&(u=t.render(n)),f.textContent=u,c!==null)return c;if(s){const d=document.head.querySelector(`meta[name="${s}"]`);if(d)return document.head.insertBefore(f,d),B5(t.els,f),f}return i?document.head.insertBefore(f,document.head.querySelector("style, link")):document.head.appendChild(f),B5(t.els,f),f}function Bhe(r){return FY(this,this.instance,r)}function zhe(r={}){const{id:t,ssr:e,props:n,head:i=!1,slient:a=!1,force:o=!1,anchorMetaName:s}=r;return Nhe(this.instance,this,t,n,i,a,o,s,e)}function $he(r={}){const{id:t}=r;Fhe(this.instance,this,t)}const XC=function(r,t,e,n){return{instance:r,$:t,props:e,children:n,els:[],render:Bhe,mount:zhe,unmount:$he}},Ghe=function(r,t,e,n){return Array.isArray(t)?XC(r,{$:null},null,t):Array.isArray(e)?XC(r,t,null,e):Array.isArray(n)?XC(r,t,e,n):XC(r,t,e,null)};function NY(r={}){let t=null;const e={c:(...n)=>Ghe(e,...n),use:(n,...i)=>n.install(e,...i),find:jT,context:{},config:r,get __styleSheet(){if(!t){const n=document.createElement("style");return document.head.appendChild(n),t=document.styleSheets[document.styleSheets.length-1],t}return t}};return e}function Uhe(r,t){if(r===void 0)return!1;if(t){const{context:{ids:e}}=t;return e.has(r)}return jT(r)!==null}function Hhe(r){let t=".",e="__",n="--",i;if(r){let v=r.blockPrefix;v&&(t=v),v=r.elementPrefix,v&&(e=v),v=r.modifierPrefix,v&&(n=v)}const a={install(v){i=v.c;const p=v.context;p.bem={},p.bem.b=null,p.bem.els=null}};function o(v){let p,g;return{before(m){p=m.bem.b,g=m.bem.els,m.bem.els=null},after(m){m.bem.b=p,m.bem.els=g},$({context:m,props:y}){return v=typeof v=="string"?v:v({context:m,props:y}),m.bem.b=v,`${(y==null?void 0:y.bPrefix)||t}${m.bem.b}`}}}function s(v){let p;return{before(g){p=g.bem.els},after(g){g.bem.els=p},$({context:g,props:m}){return v=typeof v=="string"?v:v({context:g,props:m}),g.bem.els=v.split(",").map(y=>y.trim()),g.bem.els.map(y=>`${(m==null?void 0:m.bPrefix)||t}${g.bem.b}__${y}`).join(", ")}}}function l(v){return{$({context:p,props:g}){v=typeof v=="string"?v:v({context:p,props:g});const m=v.split(",").map(w=>w.trim());function y(w){return m.map(S=>`&${(g==null?void 0:g.bPrefix)||t}${p.bem.b}${w!==void 0?`${e}${w}`:""}${n}${S}`).join(", ")}const b=p.bem.els;return b!==null?y(b[0]):y()}}}function u(v){return{$({context:p,props:g}){v=typeof v=="string"?v:v({context:p,props:g});const m=p.bem.els;return`&:not(${(g==null?void 0:g.bPrefix)||t}${p.bem.b}${m!==null&&m.length>0?`${e}${m[0]}`:""}${n}${v})`}}}return Object.assign(a,{cB:(...v)=>i(o(v[0]),v[1],v[2]),cE:(...v)=>i(s(v[0]),v[1],v[2]),cM:(...v)=>i(l(v[0]),v[1],v[2]),cNotM:(...v)=>i(u(v[0]),v[1],v[2])}),a}function lr(r,t){return r+(t==="default"?"":t.replace(/^[a-z]/,e=>e.toUpperCase()))}lr("abc","def");const Vhe="n",c0=`.${Vhe}-`,Whe="__",jhe="--",BY=NY(),zY=Hhe({blockPrefix:c0,elementPrefix:Whe,modifierPrefix:jhe});BY.use(zY);const{c:ke,find:$ot}=BY,{cB:le,cE:Ae,cM:Ge,cNotM:Nn}=zY;function qw(r){return ke(({props:{bPrefix:t}})=>`${t||c0}modal, ${t||c0}drawer`,[r])}function YT(r){return ke(({props:{bPrefix:t}})=>`${t||c0}popover:not(${t||c0}tooltip)`,[r])}function $Y(r){return ke(({props:{bPrefix:t}})=>`&${t||c0}modal`,r)}const Yhe=(...r)=>ke(">",[le(...r)]);function GY(r){const t=Re(!!r.value);if(t.value)return ef(t);const e=hn(r,n=>{n&&(t.value=!0,e())});return ef(t)}function Kn(r){const t=re(r),e=Re(t.value);return hn(t,n=>{e.value=n}),typeof r=="function"?e:{__v_isRef:!0,get value(){return e.value},set value(n){r.set(n)}}}function EL(){return B0()!==null}const _L=typeof window!="undefined";let Wy,_1;const Xhe=()=>{var r,t;Wy=_L?(t=(r=document)===null||r===void 0?void 0:r.fonts)===null||t===void 0?void 0:t.ready:void 0,_1=!1,Wy!==void 0?Wy.then(()=>{_1=!0}):_1=!0};Xhe();function qhe(r){if(_1)return;let t=!1;Io(()=>{_1||Wy==null||Wy.then(()=>{t||r()})}),hl(()=>{t=!0})}const Khe={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function Zhe(r,t,e){if(r==="mousemoveoutside"){const n=i=>{t.contains(i.target)||e(i)};return{mousemove:n,touchstart:n}}else if(r==="clickoutside"){let n=!1;const i=o=>{n=!t.contains(o.target)},a=o=>{!n||t.contains(o.target)||e(o)};return{mousedown:i,mouseup:a,touchstart:i,touchend:a}}return console.error(`[evtd/create-trap-handler]: name \`${r}\` is invalid. This could be a bug of evtd.`),{}}function UY(r,t,e){const n=Khe[r];let i=n.get(t);i===void 0&&n.set(t,i=new WeakMap);let a=i.get(e);return a===void 0&&i.set(e,a=Zhe(r,t,e)),a}function Qhe(r,t,e,n){if(r==="mousemoveoutside"||r==="clickoutside"){const i=UY(r,t,e);return Object.keys(i).forEach(a=>{xa(a,document,i[a],n)}),!0}return!1}function Jhe(r,t,e,n){if(r==="mousemoveoutside"||r==="clickoutside"){const i=UY(r,t,e);return Object.keys(i).forEach(a=>{Ki(a,document,i[a],n)}),!0}return!1}function eve(){if(typeof window=="undefined")return{on:()=>{},off:()=>{}};const r=new WeakMap,t=new WeakMap;function e(){r.set(this,!0)}function n(){r.set(this,!0),t.set(this,!0)}function i(_,A,k){const T=_[A];return _[A]=function(){return k.apply(_,arguments),T.apply(_,arguments)},_}function a(_,A){_[A]=Event.prototype[A]}const o=new WeakMap,s=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function l(){var _;return(_=o.get(this))!==null&&_!==void 0?_:null}function u(_,A){s!==void 0&&Object.defineProperty(_,"currentTarget",{configurable:!0,enumerable:!0,get:A!=null?A:s.get})}const c={bubble:{},capture:{}},f={};function d(){const _=function(A){const{type:k,eventPhase:T,target:I,bubbles:D}=A;if(T===2)return;const O=T===1?"capture":"bubble";let B=I;const U=[];for(;B===null&&(B=window),U.push(B),B!==window;)B=B.parentNode||null;const N=c.capture[k],G=c.bubble[k];if(i(A,"stopPropagation",e),i(A,"stopImmediatePropagation",n),u(A,l),O==="capture"){if(N===void 0)return;for(let L=U.length-1;L>=0&&!r.has(A);--L){const F=U[L],W=N.get(F);if(W!==void 0){o.set(A,F);for(const H of W){if(t.has(A))break;H(A)}}if(L===0&&!D&&G!==void 0){const H=G.get(F);if(H!==void 0)for(const K of H){if(t.has(A))break;K(A)}}}}else if(O==="bubble"){if(G===void 0)return;for(let L=0;L<U.length&&!r.has(A);++L){const F=U[L],W=G.get(F);if(W!==void 0){o.set(A,F);for(const H of W){if(t.has(A))break;H(A)}}}}a(A,"stopPropagation"),a(A,"stopImmediatePropagation"),u(A)};return _.displayName="evtdUnifiedHandler",_}function h(){const _=function(A){const{type:k,eventPhase:T}=A;if(T!==2)return;const I=f[k];I!==void 0&&I.forEach(D=>D(A))};return _.displayName="evtdUnifiedWindowEventHandler",_}const v=d(),p=h();function g(_,A){const k=c[_];return k[A]===void 0&&(k[A]=new Map,window.addEventListener(A,v,_==="capture")),k[A]}function m(_){return f[_]===void 0&&(f[_]=new Set,window.addEventListener(_,p)),f[_]}function y(_,A){let k=_.get(A);return k===void 0&&_.set(A,k=new Set),k}function b(_,A,k,T){const I=c[A][k];if(I!==void 0){const D=I.get(_);if(D!==void 0&&D.has(T))return!0}return!1}function w(_,A){const k=f[_];return!!(k!==void 0&&k.has(A))}function S(_,A,k,T){let I;if(typeof T=="object"&&T.once===!0?I=N=>{E(_,A,I,T),k(N)}:I=k,Qhe(_,A,I,T))return;const O=T===!0||typeof T=="object"&&T.capture===!0?"capture":"bubble",B=g(O,_),U=y(B,A);if(U.has(I)||U.add(I),A===window){const N=m(_);N.has(I)||N.add(I)}}function E(_,A,k,T){if(Jhe(_,A,k,T))return;const D=T===!0||typeof T=="object"&&T.capture===!0,O=D?"capture":"bubble",B=g(O,_),U=y(B,A);if(A===window&&!b(A,D?"bubble":"capture",_,k)&&w(_,k)){const G=f[_];G.delete(k),G.size===0&&(window.removeEventListener(_,p),f[_]=void 0)}U.has(k)&&U.delete(k),U.size===0&&B.delete(A),B.size===0&&(window.removeEventListener(_,v,O==="capture"),c[O][_]=void 0)}return{on:S,off:E}}const{on:xa,off:Ki}=eve(),Kx=Re(null);function z5(r){if(r.clientX>0||r.clientY>0)Kx.value={x:r.clientX,y:r.clientY};else{const{target:t}=r;if(t instanceof Element){const{left:e,top:n,width:i,height:a}=t.getBoundingClientRect();e>0||n>0?Kx.value={x:e+i/2,y:n+a/2}:Kx.value={x:0,y:0}}else Kx.value=null}}let qC=0,$5=!0;function HY(){if(!_L)return ef(Re(null));qC===0&&xa("click",document,z5,!0);const r=()=>{qC+=1};return $5&&($5=EL())?($g(r),hl(()=>{qC-=1,qC===0&&Ki("click",document,z5,!0)})):r(),ef(Kx)}const tve=Re(void 0);let KC=0;function G5(){tve.value=Date.now()}let U5=!0;function VY(r){if(!_L)return ef(Re(!1));const t=Re(!1);let e=null;function n(){e!==null&&window.clearTimeout(e)}function i(){n(),t.value=!0,e=window.setTimeout(()=>{t.value=!1},r)}KC===0&&xa("click",window,G5,!0);const a=()=>{KC+=1,xa("click",window,i,!0)};return U5&&(U5=EL())?($g(a),hl(()=>{KC-=1,KC===0&&Ki("click",window,G5,!0),Ki("click",window,i,!0),n()})):a(),ef(t)}function zi(r,t){return hn(r,e=>{e!==void 0&&(t.value=e)}),re(()=>r.value===void 0?t.value:r.value)}function Mv(){const r=Re(!1);return Io(()=>{r.value=!0}),ef(r)}function XT(r,t){return re(()=>{for(const e of t)if(r[e]!==void 0)return r[e];return r[t[t.length-1]]})}const rve=(typeof window=="undefined"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function nve(){return rve}function TL(r={},t){const e=kv({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:n,keyup:i}=r,a=l=>{switch(l.key){case"Control":e.ctrl=!0;break;case"Meta":e.command=!0,e.win=!0;break;case"Shift":e.shift=!0;break;case"Tab":e.tab=!0;break}n!==void 0&&Object.keys(n).forEach(u=>{if(u!==l.key)return;const c=n[u];if(typeof c=="function")c(l);else{const{stop:f=!1,prevent:d=!1}=c;f&&l.stopPropagation(),d&&l.preventDefault(),c.handler(l)}})},o=l=>{switch(l.key){case"Control":e.ctrl=!1;break;case"Meta":e.command=!1,e.win=!1;break;case"Shift":e.shift=!1;break;case"Tab":e.tab=!1;break}i!==void 0&&Object.keys(i).forEach(u=>{if(u!==l.key)return;const c=i[u];if(typeof c=="function")c(l);else{const{stop:f=!1,prevent:d=!1}=c;f&&l.stopPropagation(),d&&l.preventDefault(),c.handler(l)}})},s=()=>{(t===void 0||t.value)&&(xa("keydown",document,a),xa("keyup",document,o)),t!==void 0&&hn(t,l=>{l?(xa("keydown",document,a),xa("keyup",document,o)):(Ki("keydown",document,a),Ki("keyup",document,o))})};return EL()?($g(s),hl(()=>{(t===void 0||t.value)&&(Ki("keydown",document,a),Ki("keyup",document,o))})):s(),ef(e)}const AL="n-modal-body",WY="n-modal",kL="n-drawer-body",ML="n-popover-body",IL="n-internal-select-menu",jY="n-internal-select-menu-body",YY="__disabled__";function Xo(r){const t=Sr(AL,null),e=Sr(kL,null),n=Sr(ML,null),i=Sr(jY,null);return Kn(()=>{var a;const{to:o}=r;return o!==void 0?o===!1?YY:o===!0?"body":o:(t==null?void 0:t.value)?(a=t.value.$el)!==null&&a!==void 0?a:t.value:(e==null?void 0:e.value)?e.value:(n==null?void 0:n.value)?n.value:(i==null?void 0:i.value)?i.value:o!=null?o:"body"})}Xo.tdkey=YY;Xo.propTo={type:[String,Object,Boolean],default:void 0};let H5=!1;function ive(){if(typeof window!="undefined"&&!!window.CSS&&!H5&&(H5=!0,"registerProperty"in(window==null?void 0:window.CSS)))try{CSS.registerProperty({name:"--n-color-start",syntax:"<color>",inherits:!1,initialValue:"#0000"}),CSS.registerProperty({name:"--n-color-end",syntax:"<color>",inherits:!1,initialValue:"#0000"})}catch{}}function ave(r,t,e){var n;const i=Sr(r,null);if(i===null)return;const a=(n=B0())===null||n===void 0?void 0:n.proxy;hn(e,o),o(e.value),hl(()=>{o(void 0,e.value)});function o(u,c){const f=i[t];c!==void 0&&s(f,c),u!==void 0&&l(f,u)}function s(u,c){u[c]||(u[c]=[]),u[c].splice(u[c].findIndex(f=>f===a),1)}function l(u,c){u[c]||(u[c]=[]),~u[c].findIndex(f=>f===a)||u[c].push(a)}}function ove(r,t,e){if(!t)return r;const n=Re(r.value);let i=null;return hn(r,a=>{i!==null&&window.clearTimeout(i),a===!0?e&&!e.value?n.value=!0:i=window.setTimeout(()=>{n.value=!0},t):n.value=!1}),n}const kR="n-form-item";function ic(r,{defaultSize:t="medium",mergedSize:e,mergedDisabled:n}={}){const i=Sr(kR,null);Tn(kR,null);const a=re(e?()=>e(i):()=>{const{size:l}=r;if(l)return l;if(i){const{mergedSize:u}=i;if(u.value!==void 0)return u.value}return t}),o=re(n?()=>n(i):()=>{const{disabled:l}=r;return l!==void 0?l:i?i.disabled.value:!1}),s=re(()=>{const{status:l}=r;return l||(i==null?void 0:i.mergedValidationStatus.value)});return hl(()=>{i&&i.restoreValidation()}),{mergedSizeRef:a,mergedDisabledRef:o,mergedStatusRef:s,nTriggerFormBlur(){i&&i.handleContentBlur()},nTriggerFormChange(){i&&i.handleContentChange()},nTriggerFormFocus(){i&&i.handleContentFocus()},nTriggerFormInput(){i&&i.handleContentInput()}}}var sve=typeof global=="object"&&global&&global.Object===Object&&global,XY=sve,lve=typeof self=="object"&&self&&self.Object===Object&&self,uve=XY||lve||Function("return this")(),Gg=uve,cve=Gg.Symbol,f0=cve,qY=Object.prototype,fve=qY.hasOwnProperty,dve=qY.toString,ox=f0?f0.toStringTag:void 0;function hve(r){var t=fve.call(r,ox),e=r[ox];try{r[ox]=void 0;var n=!0}catch{}var i=dve.call(r);return n&&(t?r[ox]=e:delete r[ox]),i}var vve=Object.prototype,pve=vve.toString;function gve(r){return pve.call(r)}var mve="[object Null]",yve="[object Undefined]",V5=f0?f0.toStringTag:void 0;function Kw(r){return r==null?r===void 0?yve:mve:V5&&V5 in Object(r)?hve(r):gve(r)}function H0(r){return r!=null&&typeof r=="object"}var bve="[object Symbol]";function qT(r){return typeof r=="symbol"||H0(r)&&Kw(r)==bve}function xve(r,t){for(var e=-1,n=r==null?0:r.length,i=Array(n);++e<n;)i[e]=t(r[e],e,r);return i}var wve=Array.isArray,d0=wve,Sve=1/0,W5=f0?f0.prototype:void 0,j5=W5?W5.toString:void 0;function KY(r){if(typeof r=="string")return r;if(d0(r))return xve(r,KY)+"";if(qT(r))return j5?j5.call(r):"";var t=r+"";return t=="0"&&1/r==-Sve?"-0":t}var Cve=/\s/;function Eve(r){for(var t=r.length;t--&&Cve.test(r.charAt(t)););return t}var _ve=/^\s+/;function Tve(r){return r&&r.slice(0,Eve(r)+1).replace(_ve,"")}function Ad(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}var Y5=0/0,Ave=/^[-+]0x[0-9a-f]+$/i,kve=/^0b[01]+$/i,Mve=/^0o[0-7]+$/i,Ive=parseInt;function ZY(r){if(typeof r=="number")return r;if(qT(r))return Y5;if(Ad(r)){var t=typeof r.valueOf=="function"?r.valueOf():r;r=Ad(t)?t+"":t}if(typeof r!="string")return r===0?r:+r;r=Tve(r);var e=kve.test(r);return e||Mve.test(r)?Ive(r.slice(2),e?2:8):Ave.test(r)?Y5:+r}var X5=1/0,Pve=17976931348623157e292;function Rve(r){if(!r)return r===0?r:0;if(r=ZY(r),r===X5||r===-X5){var t=r<0?-1:1;return t*Pve}return r===r?r:0}function Dve(r){var t=Rve(r),e=t%1;return t===t?e?t-e:t:0}function QY(r){return r}var Ove="[object AsyncFunction]",Lve="[object Function]",Fve="[object GeneratorFunction]",Nve="[object Proxy]";function PL(r){if(!Ad(r))return!1;var t=Kw(r);return t==Lve||t==Fve||t==Ove||t==Nve}var Bve=Gg["__core-js_shared__"],nI=Bve,q5=function(){var r=/[^.]+$/.exec(nI&&nI.keys&&nI.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function zve(r){return!!q5&&q5 in r}var $ve=Function.prototype,Gve=$ve.toString;function Uve(r){if(r!=null){try{return Gve.call(r)}catch{}try{return r+""}catch{}}return""}var Hve=/[\\^$.*+?()[\]{}|]/g,Vve=/^\[object .+?Constructor\]$/,Wve=Function.prototype,jve=Object.prototype,Yve=Wve.toString,Xve=jve.hasOwnProperty,qve=RegExp("^"+Yve.call(Xve).replace(Hve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Kve(r){if(!Ad(r)||zve(r))return!1;var t=PL(r)?qve:Vve;return t.test(Uve(r))}function Zve(r,t){return r==null?void 0:r[t]}function RL(r,t){var e=Zve(r,t);return Kve(e)?e:void 0}var K5=Object.create,Qve=function(){function r(){}return function(t){if(!Ad(t))return{};if(K5)return K5(t);r.prototype=t;var e=new r;return r.prototype=void 0,e}}(),Jve=Qve;function epe(r,t,e){switch(e.length){case 0:return r.call(t);case 1:return r.call(t,e[0]);case 2:return r.call(t,e[0],e[1]);case 3:return r.call(t,e[0],e[1],e[2])}return r.apply(t,e)}function tpe(r,t){var e=-1,n=r.length;for(t||(t=Array(n));++e<n;)t[e]=r[e];return t}var rpe=800,npe=16,ipe=Date.now;function ape(r){var t=0,e=0;return function(){var n=ipe(),i=npe-(n-e);if(e=n,i>0){if(++t>=rpe)return arguments[0]}else t=0;return r.apply(void 0,arguments)}}function ope(r){return function(){return r}}var spe=function(){try{var r=RL(Object,"defineProperty");return r({},"",{}),r}catch{}}(),b_=spe,lpe=b_?function(r,t){return b_(r,"toString",{configurable:!0,enumerable:!1,value:ope(t),writable:!0})}:QY,upe=lpe,cpe=ape(upe),fpe=cpe,dpe=9007199254740991,hpe=/^(?:0|[1-9]\d*)$/;function JY(r,t){var e=typeof r;return t=t==null?dpe:t,!!t&&(e=="number"||e!="symbol"&&hpe.test(r))&&r>-1&&r%1==0&&r<t}function DL(r,t,e){t=="__proto__"&&b_?b_(r,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):r[t]=e}function KT(r,t){return r===t||r!==r&&t!==t}var vpe=Object.prototype,ppe=vpe.hasOwnProperty;function gpe(r,t,e){var n=r[t];(!(ppe.call(r,t)&&KT(n,e))||e===void 0&&!(t in r))&&DL(r,t,e)}function mpe(r,t,e,n){var i=!e;e||(e={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=n?n(e[s],r[s],s,e,r):void 0;l===void 0&&(l=r[s]),i?DL(e,s,l):gpe(e,s,l)}return e}var Z5=Math.max;function ype(r,t,e){return t=Z5(t===void 0?r.length-1:t,0),function(){for(var n=arguments,i=-1,a=Z5(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=e(o),epe(r,this,s)}}function bpe(r,t){return fpe(ype(r,t,QY),r+"")}var xpe=9007199254740991;function eX(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=xpe}function OL(r){return r!=null&&eX(r.length)&&!PL(r)}function wpe(r,t,e){if(!Ad(e))return!1;var n=typeof t;return(n=="number"?OL(e)&&JY(t,e.length):n=="string"&&t in e)?KT(e[t],r):!1}function Spe(r){return bpe(function(t,e){var n=-1,i=e.length,a=i>1?e[i-1]:void 0,o=i>2?e[2]:void 0;for(a=r.length>3&&typeof a=="function"?(i--,a):void 0,o&&wpe(e[0],e[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var s=e[n];s&&r(t,s,n,a)}return t})}var Cpe=Object.prototype;function tX(r){var t=r&&r.constructor,e=typeof t=="function"&&t.prototype||Cpe;return r===e}function Epe(r,t){for(var e=-1,n=Array(r);++e<r;)n[e]=t(e);return n}var _pe="[object Arguments]";function Q5(r){return H0(r)&&Kw(r)==_pe}var rX=Object.prototype,Tpe=rX.hasOwnProperty,Ape=rX.propertyIsEnumerable,kpe=Q5(function(){return arguments}())?Q5:function(r){return H0(r)&&Tpe.call(r,"callee")&&!Ape.call(r,"callee")},MR=kpe;function Mpe(){return!1}var nX=typeof exports=="object"&&exports&&!exports.nodeType&&exports,J5=nX&&typeof module=="object"&&module&&!module.nodeType&&module,Ipe=J5&&J5.exports===nX,ez=Ipe?Gg.Buffer:void 0,Ppe=ez?ez.isBuffer:void 0,Rpe=Ppe||Mpe,iX=Rpe,Dpe="[object Arguments]",Ope="[object Array]",Lpe="[object Boolean]",Fpe="[object Date]",Npe="[object Error]",Bpe="[object Function]",zpe="[object Map]",$pe="[object Number]",Gpe="[object Object]",Upe="[object RegExp]",Hpe="[object Set]",Vpe="[object String]",Wpe="[object WeakMap]",jpe="[object ArrayBuffer]",Ype="[object DataView]",Xpe="[object Float32Array]",qpe="[object Float64Array]",Kpe="[object Int8Array]",Zpe="[object Int16Array]",Qpe="[object Int32Array]",Jpe="[object Uint8Array]",ege="[object Uint8ClampedArray]",tge="[object Uint16Array]",rge="[object Uint32Array]",ca={};ca[Xpe]=ca[qpe]=ca[Kpe]=ca[Zpe]=ca[Qpe]=ca[Jpe]=ca[ege]=ca[tge]=ca[rge]=!0;ca[Dpe]=ca[Ope]=ca[jpe]=ca[Lpe]=ca[Ype]=ca[Fpe]=ca[Npe]=ca[Bpe]=ca[zpe]=ca[$pe]=ca[Gpe]=ca[Upe]=ca[Hpe]=ca[Vpe]=ca[Wpe]=!1;function nge(r){return H0(r)&&eX(r.length)&&!!ca[Kw(r)]}function ige(r){return function(t){return r(t)}}var aX=typeof exports=="object"&&exports&&!exports.nodeType&&exports,T1=aX&&typeof module=="object"&&module&&!module.nodeType&&module,age=T1&&T1.exports===aX,iI=age&&XY.process,oge=function(){try{var r=T1&&T1.require&&T1.require("util").types;return r||iI&&iI.binding&&iI.binding("util")}catch{}}(),tz=oge,rz=tz&&tz.isTypedArray,sge=rz?ige(rz):nge,oX=sge,lge=Object.prototype,uge=lge.hasOwnProperty;function cge(r,t){var e=d0(r),n=!e&&MR(r),i=!e&&!n&&iX(r),a=!e&&!n&&!i&&oX(r),o=e||n||i||a,s=o?Epe(r.length,String):[],l=s.length;for(var u in r)(t||uge.call(r,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||JY(u,l)))&&s.push(u);return s}function fge(r,t){return function(e){return r(t(e))}}function dge(r){var t=[];if(r!=null)for(var e in Object(r))t.push(e);return t}var hge=Object.prototype,vge=hge.hasOwnProperty;function pge(r){if(!Ad(r))return dge(r);var t=tX(r),e=[];for(var n in r)n=="constructor"&&(t||!vge.call(r,n))||e.push(n);return e}function sX(r){return OL(r)?cge(r,!0):pge(r)}var gge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mge=/^\w*$/;function yge(r,t){if(d0(r))return!1;var e=typeof r;return e=="number"||e=="symbol"||e=="boolean"||r==null||qT(r)?!0:mge.test(r)||!gge.test(r)||t!=null&&r in Object(t)}var bge=RL(Object,"create"),nw=bge;function xge(){this.__data__=nw?nw(null):{},this.size=0}function wge(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t}var Sge="__lodash_hash_undefined__",Cge=Object.prototype,Ege=Cge.hasOwnProperty;function _ge(r){var t=this.__data__;if(nw){var e=t[r];return e===Sge?void 0:e}return Ege.call(t,r)?t[r]:void 0}var Tge=Object.prototype,Age=Tge.hasOwnProperty;function kge(r){var t=this.__data__;return nw?t[r]!==void 0:Age.call(t,r)}var Mge="__lodash_hash_undefined__";function Ige(r,t){var e=this.__data__;return this.size+=this.has(r)?0:1,e[r]=nw&&t===void 0?Mge:t,this}function yg(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}yg.prototype.clear=xge;yg.prototype.delete=wge;yg.prototype.get=_ge;yg.prototype.has=kge;yg.prototype.set=Ige;function Pge(){this.__data__=[],this.size=0}function ZT(r,t){for(var e=r.length;e--;)if(KT(r[e][0],t))return e;return-1}var Rge=Array.prototype,Dge=Rge.splice;function Oge(r){var t=this.__data__,e=ZT(t,r);if(e<0)return!1;var n=t.length-1;return e==n?t.pop():Dge.call(t,e,1),--this.size,!0}function Lge(r){var t=this.__data__,e=ZT(t,r);return e<0?void 0:t[e][1]}function Fge(r){return ZT(this.__data__,r)>-1}function Nge(r,t){var e=this.__data__,n=ZT(e,r);return n<0?(++this.size,e.push([r,t])):e[n][1]=t,this}function Nd(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}Nd.prototype.clear=Pge;Nd.prototype.delete=Oge;Nd.prototype.get=Lge;Nd.prototype.has=Fge;Nd.prototype.set=Nge;var Bge=RL(Gg,"Map"),lX=Bge;function zge(){this.size=0,this.__data__={hash:new yg,map:new(lX||Nd),string:new yg}}function $ge(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null}function QT(r,t){var e=r.__data__;return $ge(t)?e[typeof t=="string"?"string":"hash"]:e.map}function Gge(r){var t=QT(this,r).delete(r);return this.size-=t?1:0,t}function Uge(r){return QT(this,r).get(r)}function Hge(r){return QT(this,r).has(r)}function Vge(r,t){var e=QT(this,r),n=e.size;return e.set(r,t),this.size+=e.size==n?0:1,this}function Iv(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}Iv.prototype.clear=zge;Iv.prototype.delete=Gge;Iv.prototype.get=Uge;Iv.prototype.has=Hge;Iv.prototype.set=Vge;var Wge="Expected a function";function LL(r,t){if(typeof r!="function"||t!=null&&typeof t!="function")throw new TypeError(Wge);var e=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=e.cache;if(a.has(i))return a.get(i);var o=r.apply(this,n);return e.cache=a.set(i,o)||a,o};return e.cache=new(LL.Cache||Iv),e}LL.Cache=Iv;var jge=500;function Yge(r){var t=LL(r,function(n){return e.size===jge&&e.clear(),n}),e=t.cache;return t}var Xge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qge=/\\(\\)?/g,Kge=Yge(function(r){var t=[];return r.charCodeAt(0)===46&&t.push(""),r.replace(Xge,function(e,n,i,a){t.push(i?a.replace(qge,"$1"):n||e)}),t}),Zge=Kge;function x_(r){return r==null?"":KY(r)}function Qge(r,t){return d0(r)?r:yge(r,t)?[r]:Zge(x_(r))}var Jge=1/0;function eme(r){if(typeof r=="string"||qT(r))return r;var t=r+"";return t=="0"&&1/r==-Jge?"-0":t}function tme(r,t){t=Qge(t,r);for(var e=0,n=t.length;r!=null&&e<n;)r=r[eme(t[e++])];return e&&e==n?r:void 0}function FL(r,t,e){var n=r==null?void 0:tme(r,t);return n===void 0?e:n}var rme=fge(Object.getPrototypeOf,Object),uX=rme,nme="[object Object]",ime=Function.prototype,ame=Object.prototype,cX=ime.toString,ome=ame.hasOwnProperty,sme=cX.call(Object);function lme(r){if(!H0(r)||Kw(r)!=nme)return!1;var t=uX(r);if(t===null)return!0;var e=ome.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&cX.call(e)==sme}function ume(r,t,e){var n=-1,i=r.length;t<0&&(t=-t>i?0:i+t),e=e>i?i:e,e<0&&(e+=i),i=t>e?0:e-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=r[n+t];return a}function cme(r,t,e){var n=r.length;return e=e===void 0?n:e,!t&&e>=n?r:ume(r,t,e)}var fme="\\ud800-\\udfff",dme="\\u0300-\\u036f",hme="\\ufe20-\\ufe2f",vme="\\u20d0-\\u20ff",pme=dme+hme+vme,gme="\\ufe0e\\ufe0f",mme="\\u200d",yme=RegExp("["+mme+fme+pme+gme+"]");function fX(r){return yme.test(r)}function bme(r){return r.split("")}var dX="\\ud800-\\udfff",xme="\\u0300-\\u036f",wme="\\ufe20-\\ufe2f",Sme="\\u20d0-\\u20ff",Cme=xme+wme+Sme,Eme="\\ufe0e\\ufe0f",_me="["+dX+"]",IR="["+Cme+"]",PR="\\ud83c[\\udffb-\\udfff]",Tme="(?:"+IR+"|"+PR+")",hX="[^"+dX+"]",vX="(?:\\ud83c[\\udde6-\\uddff]){2}",pX="[\\ud800-\\udbff][\\udc00-\\udfff]",Ame="\\u200d",gX=Tme+"?",mX="["+Eme+"]?",kme="(?:"+Ame+"(?:"+[hX,vX,pX].join("|")+")"+mX+gX+")*",Mme=mX+gX+kme,Ime="(?:"+[hX+IR+"?",IR,vX,pX,_me].join("|")+")",Pme=RegExp(PR+"(?="+PR+")|"+Ime+Mme,"g");function Rme(r){return r.match(Pme)||[]}function Dme(r){return fX(r)?Rme(r):bme(r)}function Ome(r){return function(t){t=x_(t);var e=fX(t)?Dme(t):void 0,n=e?e[0]:t.charAt(0),i=e?cme(e,1).join(""):t.slice(1);return n[r]()+i}}var Lme=Ome("toUpperCase"),Fme=Lme,Nme=Gg.isFinite,Bme=Math.min;function zme(r){var t=Math[r];return function(e,n){if(e=ZY(e),n=n==null?0:Bme(Dve(n),292),n&&Nme(e)){var i=(x_(e)+"e").split("e"),a=t(i[0]+"e"+(+i[1]+n));return i=(x_(a)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return t(e)}}function $me(){this.__data__=new Nd,this.size=0}function Gme(r){var t=this.__data__,e=t.delete(r);return this.size=t.size,e}function Ume(r){return this.__data__.get(r)}function Hme(r){return this.__data__.has(r)}var Vme=200;function Wme(r,t){var e=this.__data__;if(e instanceof Nd){var n=e.__data__;if(!lX||n.length<Vme-1)return n.push([r,t]),this.size=++e.size,this;e=this.__data__=new Iv(n)}return e.set(r,t),this.size=e.size,this}function V0(r){var t=this.__data__=new Nd(r);this.size=t.size}V0.prototype.clear=$me;V0.prototype.delete=Gme;V0.prototype.get=Ume;V0.prototype.has=Hme;V0.prototype.set=Wme;var yX=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nz=yX&&typeof module=="object"&&module&&!module.nodeType&&module,jme=nz&&nz.exports===yX,iz=jme?Gg.Buffer:void 0,az=iz?iz.allocUnsafe:void 0;function Yme(r,t){if(t)return r.slice();var e=r.length,n=az?az(e):new r.constructor(e);return r.copy(n),n}var Xme=Gg.Uint8Array,oz=Xme;function qme(r){var t=new r.constructor(r.byteLength);return new oz(t).set(new oz(r)),t}function Kme(r,t){var e=t?qme(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.length)}function Zme(r){return typeof r.constructor=="function"&&!tX(r)?Jve(uX(r)):{}}function Qme(r){return function(t,e,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var l=o[r?s:++i];if(e(a[l],l,a)===!1)break}return t}}var Jme=Qme(),eye=Jme;function RR(r,t,e){(e!==void 0&&!KT(r[t],e)||e===void 0&&!(t in r))&&DL(r,t,e)}function tye(r){return H0(r)&&OL(r)}function DR(r,t){if(!(t==="constructor"&&typeof r[t]=="function")&&t!="__proto__")return r[t]}function rye(r){return mpe(r,sX(r))}function nye(r,t,e,n,i,a,o){var s=DR(r,e),l=DR(t,e),u=o.get(l);if(u){RR(r,e,u);return}var c=a?a(s,l,e+"",r,t,o):void 0,f=c===void 0;if(f){var d=d0(l),h=!d&&iX(l),v=!d&&!h&&oX(l);c=l,d||h||v?d0(s)?c=s:tye(s)?c=tpe(s):h?(f=!1,c=Yme(l,!0)):v?(f=!1,c=Kme(l,!0)):c=[]:lme(l)||MR(l)?(c=s,MR(s)?c=rye(s):(!Ad(s)||PL(s))&&(c=Zme(l))):f=!1}f&&(o.set(l,c),i(c,l,n,a,o),o.delete(l)),RR(r,e,c)}function bX(r,t,e,n,i){r!==t&&eye(t,function(a,o){if(i||(i=new V0),Ad(a))nye(r,t,o,e,bX,n,i);else{var s=n?n(DR(r,o),a,o+"",r,t,i):void 0;s===void 0&&(s=a),RR(r,o,s)}},sX)}var iye=Spe(function(r,t,e){bX(r,t,e)}),Zx=iye,aye=zme("round"),oye=aye;const xX=Symbol("@css-render/vue3-ssr");function sye(r,t){return`<style cssr-id="${r}">
${t}
</style>`}function lye(r,t){const e=Sr(xX,null);if(e===null){console.error("[css-render/vue3-ssr]: no ssr context found.");return}const{styles:n,ids:i}=e;i.has(r)||n!==null&&(i.add(r),n.push(sye(r,t)))}function Ug(){const r=Sr(xX,null);if(r!==null)return{adapter:lye,context:r}}var Pv={fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontFamilyMono:"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace",fontWeight:"400",fontWeightStrong:"500",cubicBezierEaseInOut:"cubic-bezier(.4, 0, .2, 1)",cubicBezierEaseOut:"cubic-bezier(0, 0, .2, 1)",cubicBezierEaseIn:"cubic-bezier(.4, 0, 1, 1)",borderRadius:"3px",borderRadiusSmall:"2px",fontSize:"14px",fontSizeTiny:"12px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",lineHeight:"1.6",heightTiny:"22px",heightSmall:"28px",heightMedium:"34px",heightLarge:"40px",heightHuge:"46px",transformDebounceScale:"scale(1)"};const{fontSize:uye,fontFamily:cye,lineHeight:fye}=Pv;var wX=ke("body",`
 margin: 0;
 font-size: ${uye};
 font-family: ${cye};
 line-height: ${fye};
 -webkit-text-size-adjust: 100%;
 -webkit-tap-highlight-color: transparent;
`,[ke("input",`
 font-family: inherit;
 font-size: inherit;
 `)]);const kd="n-config-provider",h0="naive-ui-style";function wr(r,t,e,n,i,a){const o=Ug();if(e){const u=()=>{const c=a==null?void 0:a.value;e.mount({id:c===void 0?t:c+t,head:!0,props:{bPrefix:c?`.${c}-`:void 0},anchorMetaName:h0,ssr:o}),wX.mount({id:"n-global",head:!0,anchorMetaName:h0,ssr:o})};o?u():$g(u)}const s=Sr(kd,null);return re(()=>{var u;const{theme:{common:c,self:f,peers:d={}}={},themeOverrides:h={},builtinThemeOverrides:v={}}=i,{common:p,peers:g}=h,{common:m=void 0,[r]:{common:y=void 0,self:b=void 0,peers:w={}}={}}=(s==null?void 0:s.mergedThemeRef.value)||{},{common:S=void 0,[r]:E={}}=(s==null?void 0:s.mergedThemeOverridesRef.value)||{},{common:_,peers:A={}}=E,k=Zx({},c||y||m||n.common,S,_,p),T=Zx((u=f||b||n.self)===null||u===void 0?void 0:u(k),v,E,h);return{common:k,self:T,peers:Zx({},n.peers,w,d),peerOverrides:Zx({},A,g)}})}wr.props={theme:Object,themeOverrides:Object,builtinThemeOverrides:Object};const SX="n";function Bn(r={},t={defaultBordered:!0}){const e=Sr(kd,null);return{inlineThemeDisabled:e==null?void 0:e.inlineThemeDisabled,mergedRtlRef:e==null?void 0:e.mergedRtlRef,mergedComponentPropsRef:e==null?void 0:e.mergedComponentPropsRef,mergedBreakpointsRef:e==null?void 0:e.mergedBreakpointsRef,mergedBorderedRef:re(()=>{var n,i;const{bordered:a}=r;return a!==void 0?a:(i=(n=e==null?void 0:e.mergedBorderedRef.value)!==null&&n!==void 0?n:t.defaultBordered)!==null&&i!==void 0?i:!0}),mergedClsPrefixRef:re(()=>(e==null?void 0:e.mergedClsPrefixRef.value)||SX),namespaceRef:re(()=>e==null?void 0:e.mergedNamespaceRef.value)}}const dye={name:"en-US",global:{undo:"Undo",redo:"Redo",confirm:"Confirm"},Popconfirm:{positiveText:"Confirm",negativeText:"Cancel"},Cascader:{placeholder:"Please Select",loading:"Loading",loadingRequiredMessage:r=>`Please load all ${r}'s descendants before checking it.`},Time:{dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss"},DatePicker:{yearFormat:"yyyy",monthFormat:"MMM",dayFormat:"eeeeee",yearTypeFormat:"yyyy",monthTypeFormat:"yyyy-MM",dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss",quarterFormat:"yyyy-qqq",clear:"Clear",now:"Now",confirm:"Confirm",selectTime:"Select Time",selectDate:"Select Date",datePlaceholder:"Select Date",datetimePlaceholder:"Select Date and Time",monthPlaceholder:"Select Month",yearPlaceholder:"Select Year",quarterPlaceholder:"Select Quarter",startDatePlaceholder:"Start Date",endDatePlaceholder:"End Date",startDatetimePlaceholder:"Start Date and Time",endDatetimePlaceholder:"End Date and Time",monthBeforeYear:!0,firstDayOfWeek:6,today:"Today"},DataTable:{checkTableAll:"Select all in the table",uncheckTableAll:"Unselect all in the table",confirm:"Confirm",clear:"Clear"},Transfer:{sourceTitle:"Source",targetTitle:"Target"},Empty:{description:"No Data"},Select:{placeholder:"Please Select"},TimePicker:{placeholder:"Select Time",positiveText:"OK",negativeText:"Cancel",now:"Now"},Pagination:{goto:"Goto",selectionSuffix:"page"},DynamicTags:{add:"Add"},Log:{loading:"Loading"},Input:{placeholder:"Please Input"},InputNumber:{placeholder:"Please Input"},DynamicInput:{create:"Create"},ThemeEditor:{title:"Theme Editor",clearAllVars:"Clear All Variables",clearSearch:"Clear Search",filterCompName:"Filter Component Name",filterVarName:"Filter Variable Name",import:"Import",export:"Export",restore:"Reset to Default"},Image:{tipPrevious:"Previous picture (\u2190)",tipNext:"Next picture (\u2192)",tipCounterclockwise:"Counterclockwise",tipClockwise:"Clockwise",tipZoomOut:"Zoom out",tipZoomIn:"Zoom in",tipClose:"Close (Esc)"}};var hye=dye;function aI(r){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):r.defaultWidth,n=r.formats[e]||r.formats[r.defaultWidth];return n}}function an(r,t){if(t.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+t.length+" present")}function An(r){an(1,arguments);var t=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&t==="[object Date]"?new Date(r.getTime()):typeof r=="number"||t==="[object Number]"?new Date(r):((typeof r=="string"||t==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function ei(r){if(r===null||r===!0||r===!1)return NaN;var t=Number(r);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function og(r,t){an(1,arguments);var e=t||{},n=e.locale,i=n&&n.options&&n.options.weekStartsOn,a=i==null?0:ei(i),o=e.weekStartsOn==null?a:ei(e.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=An(r),l=s.getUTCDay(),u=(l<o?7:0)+l-o;return s.setUTCDate(s.getUTCDate()-u),s.setUTCHours(0,0,0,0),s}function sx(r){return function(t,e){var n=e||{},i=n.context?String(n.context):"standalone",a;if(i==="formatting"&&r.formattingValues){var o=r.defaultFormattingWidth||r.defaultWidth,s=n.width?String(n.width):o;a=r.formattingValues[s]||r.formattingValues[o]}else{var l=r.defaultWidth,u=n.width?String(n.width):r.defaultWidth;a=r.values[u]||r.values[l]}var c=r.argumentCallback?r.argumentCallback(t):t;return a[c]}}function vye(r){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(r.matchPattern);if(!n)return null;var i=n[0],a=t.match(r.parsePattern);if(!a)return null;var o=r.valueCallback?r.valueCallback(a[0]):a[0];o=e.valueCallback?e.valueCallback(o):o;var s=t.slice(i.length);return{value:o,rest:s}}}function lx(r){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],a=t.match(i);if(!a)return null;var o=a[0],s=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(s)?gye(s,function(f){return f.test(o)}):pye(s,function(f){return f.test(o)}),u;u=r.valueCallback?r.valueCallback(l):l,u=e.valueCallback?e.valueCallback(u):u;var c=t.slice(o.length);return{value:u,rest:c}}}function pye(r,t){for(var e in r)if(r.hasOwnProperty(e)&&t(r[e]))return e}function gye(r,t){for(var e=0;e<r.length;e++)if(t(r[e]))return e}var mye={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yye=function(r,t,e){var n,i=mye[r];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+n:n+" ago":n},bye=yye,xye={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wye={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Sye={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cye={date:aI({formats:xye,defaultWidth:"full"}),time:aI({formats:wye,defaultWidth:"full"}),dateTime:aI({formats:Sye,defaultWidth:"full"})},Eye=Cye,_ye={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Tye=function(r,t,e,n){return _ye[r]},Aye=Tye,kye={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mye={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Iye={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Pye={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Rye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Dye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Oye=function(r,t){var e=Number(r),n=e%100;if(n>20||n<10)switch(n%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},Lye={ordinalNumber:Oye,era:sx({values:kye,defaultWidth:"wide"}),quarter:sx({values:Mye,defaultWidth:"wide",argumentCallback:function(r){return r-1}}),month:sx({values:Iye,defaultWidth:"wide"}),day:sx({values:Pye,defaultWidth:"wide"}),dayPeriod:sx({values:Rye,defaultWidth:"wide",formattingValues:Dye,defaultFormattingWidth:"wide"})},Fye=Lye,Nye=/^(\d+)(th|st|nd|rd)?/i,Bye=/\d+/i,zye={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$ye={any:[/^b/i,/^(a|c)/i]},Gye={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Uye={any:[/1/i,/2/i,/3/i,/4/i]},Hye={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Vye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wye={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jye={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Yye={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xye={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qye={ordinalNumber:vye({matchPattern:Nye,parsePattern:Bye,valueCallback:function(r){return parseInt(r,10)}}),era:lx({matchPatterns:zye,defaultMatchWidth:"wide",parsePatterns:$ye,defaultParseWidth:"any"}),quarter:lx({matchPatterns:Gye,defaultMatchWidth:"wide",parsePatterns:Uye,defaultParseWidth:"any",valueCallback:function(r){return r+1}}),month:lx({matchPatterns:Hye,defaultMatchWidth:"wide",parsePatterns:Vye,defaultParseWidth:"any"}),day:lx({matchPatterns:Wye,defaultMatchWidth:"wide",parsePatterns:jye,defaultParseWidth:"any"}),dayPeriod:lx({matchPatterns:Yye,defaultMatchWidth:"any",parsePatterns:Xye,defaultParseWidth:"any"})},Kye=qye,Zye={code:"en-US",formatDistance:bye,formatLong:Eye,formatRelative:Aye,localize:Fye,match:Kye,options:{weekStartsOn:0,firstWeekContainsDate:1}},NL=Zye;const Qye={name:"en-US",locale:NL};var Jye=Qye;function Bd(r){const{mergedLocaleRef:t,mergedDateLocaleRef:e}=Sr(kd,null)||{},n=re(()=>{var a,o;return(o=(a=t==null?void 0:t.value)===null||a===void 0?void 0:a[r])!==null&&o!==void 0?o:hye[r]});return{dateLocaleRef:re(()=>{var a;return(a=e==null?void 0:e.value)!==null&&a!==void 0?a:Jye}),localeRef:n}}function W0(r,t,e){if(!t)return;const n=Ug(),i=()=>{const a=e==null?void 0:e.value;t.mount({id:a===void 0?r:a+r,head:!0,anchorMetaName:h0,props:{bPrefix:a?`.${a}-`:void 0},ssr:n}),wX.mount({id:"n-global",head:!0,anchorMetaName:h0,ssr:n})};n?i():$g(i)}function e0e(r,t){const e=Sr(kd,null);return re(()=>r.hljs||(e==null?void 0:e.mergedHljsRef.value))}function Ea(r,t,e,n){var i;e||U0("useThemeClass","cssVarsRef is not passed");const a=(i=Sr(kd,null))===null||i===void 0?void 0:i.mergedThemeHashRef,o=Re(""),s=Ug();let l;const u=`__${r}`,c=()=>{let f=u;const d=t?t.value:void 0,h=a==null?void 0:a.value;h&&(f+="-"+h),d&&(f+="-"+d);const{themeOverrides:v,builtinThemeOverrides:p}=n;v&&(f+="-"+rw(JSON.stringify(v))),p&&(f+="-"+rw(JSON.stringify(p))),o.value=f,l=()=>{const g=e.value;let m="";for(const y in g)m+=`${y}: ${g[y]};`;ke(`.${f}`,m).mount({id:f,ssr:s}),l=void 0}};return Go(()=>{c()}),{themeClass:o,onRender:()=>{l==null||l()}}}var t0e=It({name:"ArrowDown",render(){return R("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},R("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},R("g",{"fill-rule":"nonzero"},R("path",{d:"M23.7916,15.2664 C24.0788,14.9679 24.0696,14.4931 23.7711,14.206 C23.4726,13.9188 22.9978,13.928 22.7106,14.2265 L14.7511,22.5007 L14.7511,3.74792 C14.7511,3.33371 14.4153,2.99792 14.0011,2.99792 C13.5869,2.99792 13.2511,3.33371 13.2511,3.74793 L13.2511,22.4998 L5.29259,14.2265 C5.00543,13.928 4.53064,13.9188 4.23213,14.206 C3.93361,14.4931 3.9244,14.9679 4.21157,15.2664 L13.2809,24.6944 C13.6743,25.1034 14.3289,25.1034 14.7223,24.6944 L23.7916,15.2664 Z"}))))}});function zd(r,t){return It({name:Fme(r),setup(){var e;const n=(e=Sr(kd,null))===null||e===void 0?void 0:e.mergedIconsRef;return()=>{var i;const a=(i=n==null?void 0:n.value)===null||i===void 0?void 0:i[r];return a?a():t}}})}var bg=It({name:"Backward",render(){return R("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},R("path",{d:"M12.2674 15.793C11.9675 16.0787 11.4927 16.0672 11.2071 15.7673L6.20572 10.5168C5.9298 10.2271 5.9298 9.7719 6.20572 9.48223L11.2071 4.23177C11.4927 3.93184 11.9675 3.92031 12.2674 4.206C12.5673 4.49169 12.5789 4.96642 12.2932 5.26634L7.78458 9.99952L12.2932 14.7327C12.5789 15.0326 12.5673 15.5074 12.2674 15.793Z",fill:"currentColor"}))}}),sz=zd("date",R("svg",{width:"28px",height:"28px",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},R("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},R("g",{"fill-rule":"nonzero"},R("path",{d:"M21.75,3 C23.5449254,3 25,4.45507456 25,6.25 L25,21.75 C25,23.5449254 23.5449254,25 21.75,25 L6.25,25 C4.45507456,25 3,23.5449254 3,21.75 L3,6.25 C3,4.45507456 4.45507456,3 6.25,3 L21.75,3 Z M23.5,9.503 L4.5,9.503 L4.5,21.75 C4.5,22.7164983 5.28350169,23.5 6.25,23.5 L21.75,23.5 C22.7164983,23.5 23.5,22.7164983 23.5,21.75 L23.5,9.503 Z M21.75,4.5 L6.25,4.5 C5.28350169,4.5 4.5,5.28350169 4.5,6.25 L4.5,8.003 L23.5,8.003 L23.5,6.25 C23.5,5.28350169 22.7164983,4.5 21.75,4.5 Z"}))))),r0e=It({name:"Checkmark",render(){return R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},R("g",{fill:"none"},R("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),JT=It({name:"ChevronRight",render(){return R("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},R("path",{d:"M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z",fill:"currentColor"}))}}),n0e=zd("close",R("svg",{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0},R("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},R("g",{fill:"currentColor","fill-rule":"nonzero"},R("path",{d:"M2.08859116,2.2156945 L2.14644661,2.14644661 C2.32001296,1.97288026 2.58943736,1.95359511 2.7843055,2.08859116 L2.85355339,2.14644661 L6,5.293 L9.14644661,2.14644661 C9.34170876,1.95118446 9.65829124,1.95118446 9.85355339,2.14644661 C10.0488155,2.34170876 10.0488155,2.65829124 9.85355339,2.85355339 L6.707,6 L9.85355339,9.14644661 C10.0271197,9.32001296 10.0464049,9.58943736 9.91140884,9.7843055 L9.85355339,9.85355339 C9.67998704,10.0271197 9.41056264,10.0464049 9.2156945,9.91140884 L9.14644661,9.85355339 L6,6.707 L2.85355339,9.85355339 C2.65829124,10.0488155 2.34170876,10.0488155 2.14644661,9.85355339 C1.95118446,9.65829124 1.95118446,9.34170876 2.14644661,9.14644661 L5.293,6 L2.14644661,2.85355339 C1.97288026,2.67998704 1.95359511,2.41056264 2.08859116,2.2156945 L2.14644661,2.14644661 L2.08859116,2.2156945 Z"}))))),i0e=It({name:"Eye",render(){return R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},R("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),R("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),a0e=It({name:"EyeOff",render(){return R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},R("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),R("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),R("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),R("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),R("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),o0e=It({name:"Empty",render(){return R("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},R("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),R("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),eA=zd("error",R("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},R("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},R("g",{"fill-rule":"nonzero"},R("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M17.8838835,16.1161165 L17.7823881,16.0249942 C17.3266086,15.6583353 16.6733914,15.6583353 16.2176119,16.0249942 L16.1161165,16.1161165 L16.0249942,16.2176119 C15.6583353,16.6733914 15.6583353,17.3266086 16.0249942,17.7823881 L16.1161165,17.8838835 L22.233,24 L16.1161165,30.1161165 L16.0249942,30.2176119 C15.6583353,30.6733914 15.6583353,31.3266086 16.0249942,31.7823881 L16.1161165,31.8838835 L16.2176119,31.9750058 C16.6733914,32.3416647 17.3266086,32.3416647 17.7823881,31.9750058 L17.8838835,31.8838835 L24,25.767 L30.1161165,31.8838835 L30.2176119,31.9750058 C30.6733914,32.3416647 31.3266086,32.3416647 31.7823881,31.9750058 L31.8838835,31.8838835 L31.9750058,31.7823881 C32.3416647,31.3266086 32.3416647,30.6733914 31.9750058,30.2176119 L31.8838835,30.1161165 L25.767,24 L31.8838835,17.8838835 L31.9750058,17.7823881 C32.3416647,17.3266086 32.3416647,16.6733914 31.9750058,16.2176119 L31.8838835,16.1161165 L31.7823881,16.0249942 C31.3266086,15.6583353 30.6733914,15.6583353 30.2176119,16.0249942 L30.1161165,16.1161165 L24,22.233 L17.8838835,16.1161165 L17.7823881,16.0249942 L17.8838835,16.1161165 Z"}))))),xg=It({name:"FastBackward",render(){return R("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},R("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},R("g",{fill:"currentColor","fill-rule":"nonzero"},R("path",{d:"M8.73171,16.7949 C9.03264,17.0795 9.50733,17.0663 9.79196,16.7654 C10.0766,16.4644 10.0634,15.9897 9.76243,15.7051 L4.52339,10.75 L17.2471,10.75 C17.6613,10.75 17.9971,10.4142 17.9971,10 C17.9971,9.58579 17.6613,9.25 17.2471,9.25 L4.52112,9.25 L9.76243,4.29275 C10.0634,4.00812 10.0766,3.53343 9.79196,3.2325 C9.50733,2.93156 9.03264,2.91834 8.73171,3.20297 L2.31449,9.27241 C2.14819,9.4297 2.04819,9.62981 2.01448,9.8386 C2.00308,9.89058 1.99707,9.94459 1.99707,10 C1.99707,10.0576 2.00356,10.1137 2.01585,10.1675 C2.05084,10.3733 2.15039,10.5702 2.31449,10.7254 L8.73171,16.7949 Z"}))))}}),wg=It({name:"FastForward",render(){return R("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},R("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},R("g",{fill:"currentColor","fill-rule":"nonzero"},R("path",{d:"M11.2654,3.20511 C10.9644,2.92049 10.4897,2.93371 10.2051,3.23464 C9.92049,3.53558 9.93371,4.01027 10.2346,4.29489 L15.4737,9.25 L2.75,9.25 C2.33579,9.25 2,9.58579 2,10.0000012 C2,10.4142 2.33579,10.75 2.75,10.75 L15.476,10.75 L10.2346,15.7073 C9.93371,15.9919 9.92049,16.4666 10.2051,16.7675 C10.4897,17.0684 10.9644,17.0817 11.2654,16.797 L17.6826,10.7276 C17.8489,10.5703 17.9489,10.3702 17.9826,10.1614 C17.994,10.1094 18,10.0554 18,10.0000012 C18,9.94241 17.9935,9.88633 17.9812,9.83246 C17.9462,9.62667 17.8467,9.42976 17.6826,9.27455 L11.2654,3.20511 Z"}))))}}),s0e=It({name:"Filter",render(){return R("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},R("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},R("g",{"fill-rule":"nonzero"},R("path",{d:"M17,19 C17.5522847,19 18,19.4477153 18,20 C18,20.5522847 17.5522847,21 17,21 L11,21 C10.4477153,21 10,20.5522847 10,20 C10,19.4477153 10.4477153,19 11,19 L17,19 Z M21,13 C21.5522847,13 22,13.4477153 22,14 C22,14.5522847 21.5522847,15 21,15 L7,15 C6.44771525,15 6,14.5522847 6,14 C6,13.4477153 6.44771525,13 7,13 L21,13 Z M24,7 C24.5522847,7 25,7.44771525 25,8 C25,8.55228475 24.5522847,9 24,9 L4,9 C3.44771525,9 3,8.55228475 3,8 C3,7.44771525 3.44771525,7 4,7 L24,7 Z"}))))}}),Sg=It({name:"Forward",render(){return R("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},R("path",{d:"M7.73271 4.20694C8.03263 3.92125 8.50737 3.93279 8.79306 4.23271L13.7944 9.48318C14.0703 9.77285 14.0703 10.2281 13.7944 10.5178L8.79306 15.7682C8.50737 16.0681 8.03263 16.0797 7.73271 15.794C7.43279 15.5083 7.42125 15.0336 7.70694 14.7336L12.2155 10.0005L7.70694 5.26729C7.42125 4.96737 7.43279 4.49264 7.73271 4.20694Z",fill:"currentColor"}))}}),tA=zd("info",R("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},R("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},R("g",{"fill-rule":"nonzero"},R("path",{d:"M14,2 C20.6274,2 26,7.37258 26,14 C26,20.6274 20.6274,26 14,26 C7.37258,26 2,20.6274 2,14 C2,7.37258 7.37258,2 14,2 Z M14,11 C13.4477,11 13,11.4477 13,12 L13,12 L13,20 C13,20.5523 13.4477,21 14,21 C14.5523,21 15,20.5523 15,20 L15,20 L15,12 C15,11.4477 14.5523,11 14,11 Z M14,6.75 C13.3096,6.75 12.75,7.30964 12.75,8 C12.75,8.69036 13.3096,9.25 14,9.25 C14.6904,9.25 15.25,8.69036 15.25,8 C15.25,7.30964 14.6904,6.75 14,6.75 Z"}))))),lz=It({name:"More",render(){return R("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},R("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},R("g",{fill:"currentColor","fill-rule":"nonzero"},R("path",{d:"M4,7 C4.55228,7 5,7.44772 5,8 C5,8.55229 4.55228,9 4,9 C3.44772,9 3,8.55229 3,8 C3,7.44772 3.44772,7 4,7 Z M8,7 C8.55229,7 9,7.44772 9,8 C9,8.55229 8.55229,9 8,9 C7.44772,9 7,8.55229 7,8 C7,7.44772 7.44772,7 8,7 Z M12,7 C12.5523,7 13,7.44772 13,8 C13,8.55229 12.5523,9 12,9 C11.4477,9 11,8.55229 11,8 C11,7.44772 11.4477,7 12,7 Z"}))))}}),rA=zd("success",R("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},R("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},R("g",{"fill-rule":"nonzero"},R("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M32.6338835,17.6161165 C32.1782718,17.1605048 31.4584514,17.1301307 30.9676119,17.5249942 L30.8661165,17.6161165 L20.75,27.732233 L17.1338835,24.1161165 C16.6457281,23.6279612 15.8542719,23.6279612 15.3661165,24.1161165 C14.9105048,24.5717282 14.8801307,25.2915486 15.2749942,25.7823881 L15.3661165,25.8838835 L19.8661165,30.3838835 C20.3217282,30.8394952 21.0415486,30.8698693 21.5323881,30.4750058 L21.6338835,30.3838835 L32.6338835,19.3838835 C33.1220388,18.8957281 33.1220388,18.1042719 32.6338835,17.6161165 Z"}))))),l0e=It({name:"Switcher",render(){return R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},R("path",{d:"M12 8l10 8l-10 8z"}))}}),u0e=zd("time",R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},R("path",{d:"M256,64C150,64,64,150,64,256s86,192,192,192,192-86,192-192S362,64,256,64Z",style:`
        fill: none;
        stroke: currentColor;
        stroke-miterlimit: 10;
        stroke-width: 32px;
      `}),R("polyline",{points:"256 128 256 272 352 272",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))),nA=zd("warning",R("svg",{viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},R("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},R("g",{"fill-rule":"nonzero"},R("path",{d:"M12,2 C17.523,2 22,6.478 22,12 C22,17.522 17.523,22 12,22 C6.477,22 2,17.522 2,12 C2,6.478 6.477,2 12,2 Z M12.0018002,15.0037242 C11.450254,15.0037242 11.0031376,15.4508407 11.0031376,16.0023869 C11.0031376,16.553933 11.450254,17.0010495 12.0018002,17.0010495 C12.5533463,17.0010495 13.0004628,16.553933 13.0004628,16.0023869 C13.0004628,15.4508407 12.5533463,15.0037242 12.0018002,15.0037242 Z M11.99964,7 C11.4868042,7.00018474 11.0642719,7.38637706 11.0066858,7.8837365 L11,8.00036004 L11.0018003,13.0012393 L11.00857,13.117858 C11.0665141,13.6151758 11.4893244,14.0010638 12.0021602,14.0008793 C12.514996,14.0006946 12.9375283,13.6145023 12.9951144,13.1171428 L13.0018002,13.0005193 L13,7.99964009 L12.9932303,7.8830214 C12.9352861,7.38570354 12.5124758,6.99981552 11.99964,7 Z"}))))),CX=It({name:"ChevronDown",render(){return R("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},R("path",{d:"M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z",fill:"currentColor"}))}}),c0e=zd("clear",R("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},R("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},R("g",{fill:"currentColor","fill-rule":"nonzero"},R("path",{d:"M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z"}))))),f0e=It({name:"ChevronDownFilled",render(){return R("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},R("path",{d:"M3.20041 5.73966C3.48226 5.43613 3.95681 5.41856 4.26034 5.70041L8 9.22652L11.7397 5.70041C12.0432 5.41856 12.5177 5.43613 12.7996 5.73966C13.0815 6.0432 13.0639 6.51775 12.7603 6.7996L8.51034 10.7996C8.22258 11.0668 7.77743 11.0668 7.48967 10.7996L3.23966 6.7996C2.93613 6.51775 2.91856 6.0432 3.20041 5.73966Z",fill:"currentColor"}))}}),d0e=zd("to",R("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},R("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},R("g",{fill:"currentColor","fill-rule":"nonzero"},R("path",{d:"M11.2654,3.20511 C10.9644,2.92049 10.4897,2.93371 10.2051,3.23464 C9.92049,3.53558 9.93371,4.01027 10.2346,4.29489 L15.4737,9.25 L2.75,9.25 C2.33579,9.25 2,9.58579 2,10.0000012 C2,10.4142 2.33579,10.75 2.75,10.75 L15.476,10.75 L10.2346,15.7073 C9.93371,15.9919 9.92049,16.4666 10.2051,16.7675 C10.4897,17.0684 10.9644,17.0817 11.2654,16.797 L17.6826,10.7276 C17.8489,10.5703 17.9489,10.3702 17.9826,10.1614 C17.994,10.1094 18,10.0554 18,10.0000012 C18,9.94241 17.9935,9.88633 17.9812,9.83246 C17.9462,9.62667 17.8467,9.42976 17.6826,9.27455 L11.2654,3.20511 Z"}))))),j0=It({name:"BaseIconSwitchTransition",setup(r,{slots:t}){const e=Mv();return()=>R(uo,{name:"icon-switch-transition",appear:e.value},t)}}),iA=It({name:"FadeInExpandTransition",props:{appear:Boolean,group:Boolean,mode:String,onLeave:Function,onAfterLeave:Function,onAfterEnter:Function,width:Boolean,reverse:Boolean},setup(r,{slots:t}){function e(s){r.width?s.style.maxWidth=`${s.offsetWidth}px`:s.style.maxHeight=`${s.offsetHeight}px`,s.offsetWidth}function n(s){r.width?s.style.maxWidth="0":s.style.maxHeight="0",s.offsetWidth;const{onLeave:l}=r;l&&l()}function i(s){r.width?s.style.maxWidth="":s.style.maxHeight="";const{onAfterLeave:l}=r;l&&l()}function a(s){if(s.style.transition="none",r.width){const l=s.offsetWidth;s.style.maxWidth="0",s.offsetWidth,s.style.transition="",s.style.maxWidth=`${l}px`}else if(r.reverse)s.style.maxHeight=`${s.offsetHeight}px`,s.offsetHeight,s.style.transition="",s.style.maxHeight="0";else{const l=s.offsetHeight;s.style.maxHeight="0",s.offsetWidth,s.style.transition="",s.style.maxHeight=`${l}px`}s.offsetWidth}function o(s){var l;r.width?s.style.maxWidth="":r.reverse||(s.style.maxHeight=""),(l=r.onAfterEnter)===null||l===void 0||l.call(r)}return()=>{const s=r.group?Ufe:uo;return R(s,{name:r.width?"fade-in-width-expand-transition":"fade-in-height-expand-transition",mode:r.mode,appear:r.appear,onEnter:a,onAfterEnter:o,onBeforeLeave:e,onLeave:n,onAfterLeave:i},t)}}}),h0e=le("base-icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[ke("svg",{height:"1em",width:"1em"})]),Hi=It({name:"BaseIcon",props:{role:String,ariaLabel:String,ariaDisabled:{type:Boolean,default:void 0},ariaHidden:{type:Boolean,default:void 0},clsPrefix:{type:String,required:!0},onClick:Function,onMousedown:Function,onMouseup:Function},setup(r){W0("-base-icon",h0e,tr(r,"clsPrefix"))},render(){return R("i",{class:`${this.clsPrefix}-base-icon`,onClick:this.onClick,onMousedown:this.onMousedown,onMouseup:this.onMouseup,role:this.role,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,"aria-disabled":this.ariaDisabled},this.$slots)}}),v0e=le("base-close",`
 cursor: pointer;
 color: var(--n-close-color);
`,[ke("&:hover",{color:"var(--n-close-color-hover)"}),ke("&:active",{color:"var(--n-close-color-pressed)"}),Ge("disabled",{cursor:"not-allowed!important",color:"var(--n-close-color-disabled)"})]),aA=It({name:"BaseClose",props:{clsPrefix:{type:String,required:!0},disabled:{type:Boolean,default:void 0},onClick:Function},setup(r){return W0("-base-close",v0e,tr(r,"clsPrefix")),()=>{const{clsPrefix:t,disabled:e}=r;return R(Hi,{role:"button",ariaDisabled:e,ariaLabel:"close",clsPrefix:t,class:[`${t}-base-close`,e&&`${t}-base-close--disabled`],onClick:e?void 0:r.onClick},{default:()=>R(n0e,null)})}}}),Rv=It({props:{onFocus:Function,onBlur:Function},setup(r){return()=>R("div",{style:"width: 0; height: 0",tabindex:0,onFocus:r.onFocus,onBlur:r.onBlur})}});const{cubicBezierEaseInOut:p0e,transformDebounceScale:g0e}=Pv;function Md({originalTransform:r="",left:t=0,top:e=0,transition:n=`all .3s ${p0e} !important`}={}){return[ke("&.icon-switch-transition-enter-from, &.icon-switch-transition-leave-to",{transform:r+" scale(0.75)",left:t,top:e,opacity:0}),ke("&.icon-switch-transition-enter-to, &.icon-switch-transition-leave-from",{transform:`${g0e} ${r}`,left:t,top:e,opacity:1}),ke("&.icon-switch-transition-enter-active, &.icon-switch-transition-leave-active",{transformOrigin:"center",position:"absolute",left:t,top:e,transition:n})]}var m0e=le("base-loading",`
 position: relative;
 line-height: 0;
 width: 1em;
 height: 1em;
`,[Ae("placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Md({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),Ae("icon",`
 height: 1em;
 width: 1em;
 `,[Md()])]);const oI="1.6s";var Hg=It({name:"BaseLoading",props:{clsPrefix:{type:String,required:!0},scale:{type:Number,default:1},radius:{type:Number,default:100},strokeWidth:{type:Number,default:28},stroke:{type:String,default:void 0},show:{type:Boolean,default:!0}},setup(r){W0("-base-loading",m0e,tr(r,"clsPrefix"))},render(){const{clsPrefix:r,radius:t,strokeWidth:e,stroke:n,scale:i}=this,a=t/i;return R("div",{class:`${r}-base-loading`,role:"img","aria-label":"loading"},R(j0,null,{default:()=>this.show?R("svg",{class:`${r}-base-loading__icon`,viewBox:`0 0 ${2*a} ${2*a}`,xmlns:"http://www.w3.org/2000/svg",style:{color:n}},R("g",null,R("animateTransform",{attributeName:"transform",type:"rotate",values:`0 ${a} ${a};270 ${a} ${a}`,begin:"0s",dur:oI,fill:"freeze",repeatCount:"indefinite"}),R("circle",{fill:"none",stroke:"currentColor","stroke-width":e,"stroke-linecap":"round",cx:a,cy:a,r:t-e/2,"stroke-dasharray":5.67*t,"stroke-dashoffset":18.48*t},R("animateTransform",{attributeName:"transform",type:"rotate",values:`0 ${a} ${a};135 ${a} ${a};450 ${a} ${a}`,begin:"0s",dur:oI,fill:"freeze",repeatCount:"indefinite"}),R("animate",{attributeName:"stroke-dashoffset",values:`${5.67*t};${1.42*t};${5.67*t}`,begin:"0s",dur:oI,fill:"freeze",repeatCount:"indefinite"})))):R("div",{key:"placeholder",class:`${r}-base-loading__placeholder`},this.$slots)}))}});function uz(r){return Array.isArray(r)?r:[r]}const OR={STOP:"STOP"};function EX(r,t){const e=t(r);r.children!==void 0&&e!==OR.STOP&&r.children.forEach(n=>EX(n,t))}function y0e(r,t={}){const{preserveGroup:e=!1}=t,n=[],i=e?o=>{o.isLeaf||(n.push(o.key),a(o.children))}:o=>{o.isLeaf||(o.isGroup||n.push(o.key),a(o.children))};function a(o){o.forEach(i)}return a(r),n}function b0e(r,t){const{isLeaf:e}=r;return e!==void 0?e:!t(r)}function x0e(r){return r.children}function w0e(r){return r.key}function S0e(){return!1}function C0e(r,t){const{isLeaf:e}=r;return!(e===!1&&!Array.isArray(t(r)))}function E0e(r){return r.disabled===!0}function _0e(r,t){return r.isLeaf===!1&&!Array.isArray(t(r))}function sI(r){var t;return r==null?[]:Array.isArray(r)?r:(t=r.checkedKeys)!==null&&t!==void 0?t:[]}function lI(r){var t;return r==null||Array.isArray(r)?[]:(t=r.indeterminateKeys)!==null&&t!==void 0?t:[]}function T0e(r,t){const e=new Set(r);return t.forEach(n=>{e.has(n)||e.add(n)}),Array.from(e)}function A0e(r,t){const e=new Set(r);return t.forEach(n=>{e.has(n)&&e.delete(n)}),Array.from(e)}function k0e(r){return(r==null?void 0:r.type)==="group"}function _X(r){const t=new Map;return r.forEach((e,n)=>{t.set(e.key,n)}),e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:null}}class M0e extends Error{constructor(){super();this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function I0e(r,t,e){return w_(t.concat(r),e)}function P0e(r,t){const e=new Set;return r.forEach(n=>{const i=t.treeNodeMap.get(n);if(i!==void 0){let a=i.parent;for(;a!==null&&!(a.disabled||e.has(a.key));)e.add(a.key),a=a.parent}}),e}function R0e(r,t,e){const n=w_(t,e),i=w_(r,e,!0),a=P0e(r,e),o=[];return n.forEach(s=>{(i.has(s)||a.has(s))&&o.push(s)}),o.forEach(s=>n.delete(s)),n}function uI(r,t){const{checkedKeys:e,keysToCheck:n,keysToUncheck:i,indeterminateKeys:a,cascade:o,leafOnly:s,checkStrategy:l}=r;if(!o)return n!==void 0?{checkedKeys:T0e(e,n),indeterminateKeys:Array.from(a)}:i!==void 0?{checkedKeys:A0e(e,i),indeterminateKeys:Array.from(a)}:{checkedKeys:Array.from(e),indeterminateKeys:Array.from(a)};const{levelTreeNodeMap:u}=t;let c;i!==void 0?c=R0e(i,e,t):n!==void 0?c=I0e(n,e,t):c=w_(e,t);const f=l==="parent",d=l==="child"||s,h=c,v=new Set,p=Math.max.apply(null,Array.from(u.keys()));for(let g=p;g>=0;g-=1){const m=g===0,y=u.get(g);for(const b of y){if(b.isLeaf)continue;const{key:w,shallowLoaded:S}=b;if(d&&S&&b.children.forEach(k=>{!k.disabled&&!k.isLeaf&&k.shallowLoaded&&h.has(k.key)&&h.delete(k.key)}),b.disabled||!S)continue;let E=!0,_=!1,A=!0;for(const k of b.children){const T=k.key;if(!k.disabled){if(A&&(A=!1),h.has(T))_=!0;else if(v.has(T)){_=!0,E=!1;break}else if(E=!1,_)break}}E&&!A?(f&&b.children.forEach(k=>{!k.disabled&&h.has(k.key)&&h.delete(k.key)}),h.add(w)):_&&v.add(w),m&&d&&h.has(w)&&h.delete(w)}}return{checkedKeys:Array.from(h),indeterminateKeys:Array.from(v)}}function w_(r,t,e=!1){const{treeNodeMap:n,getChildren:i}=t,a=new Set,o=new Set(r);return r.forEach(s=>{const l=n.get(s);l!==void 0&&EX(l,u=>{if(u.disabled)return OR.STOP;const{key:c}=u;if(!a.has(c)&&(a.add(c),o.add(c),_0e(u.rawNode,i))){if(e)return OR.STOP;throw new M0e}})}),o}function D0e(r,{includeGroup:t=!1,includeSelf:e=!0},n){var i;const a=n.treeNodeMap;let o=r==null?null:(i=a.get(r))!==null&&i!==void 0?i:null;const s={keyPath:[],treeNodePath:[],treeNode:o};if(o==null?void 0:o.ignored)return s.treeNode=null,s;for(;o;)!o.ignored&&(t||!o.isGroup)&&s.treeNodePath.push(o),o=o.parent;return s.treeNodePath.reverse(),e||s.treeNodePath.pop(),s.keyPath=s.treeNodePath.map(l=>l.key),s}function O0e(r){if(r.length===0)return null;const t=r[0];return t.isGroup||t.ignored||t.disabled?t.getNext():t}function L0e(r,t){const e=r.siblings,n=e.length,{index:i}=r;return t?e[(i+1)%n]:i===e.length-1?null:e[i+1]}function cz(r,t,{loop:e=!1,includeDisabled:n=!1}={}){const i=t==="prev"?F0e:L0e,a={reverse:t==="prev"};let o=!1,s=null;function l(u){if(u!==null){if(u===r){if(!o)o=!0;else if(!r.disabled&&!r.isGroup){s=r;return}}else if((!u.disabled||n)&&!u.ignored&&!u.isGroup){s=u;return}if(u.isGroup){const c=BL(u,a);c!==null?s=c:l(i(u,e))}else{const c=i(u,!1);if(c!==null)l(c);else{const f=N0e(u);(f==null?void 0:f.isGroup)?l(i(f,e)):e&&l(i(u,!0))}}}}return l(r),s}function F0e(r,t){const e=r.siblings,n=e.length,{index:i}=r;return t?e[(i-1+n)%n]:i===0?null:e[i-1]}function N0e(r){return r.parent}function BL(r,t={}){const{reverse:e=!1}=t,{children:n}=r;if(n){const{length:i}=n,a=e?i-1:0,o=e?-1:i,s=e?-1:1;for(let l=a;l!==o;l+=s){const u=n[l];if(!u.disabled&&!u.ignored)if(u.isGroup){const c=BL(u,t);if(c!==null)return c}else return u}}return null}const B0e={getChild(){return this.ignored?null:BL(this)},getParent(){const{parent:r}=this;return(r==null?void 0:r.isGroup)?r.getParent():r},getNext(r={}){return cz(this,"next",r)},getPrev(r={}){return cz(this,"prev",r)}};function LR(r,t){const e=t?new Set(t):void 0,n=[];function i(a){a.forEach(o=>{n.push(o),!(o.isLeaf||!o.children||o.ignored)&&(o.isGroup||e===void 0||e.has(o.key))&&i(o.children)})}return i(r),n}function z0e(r,t){const e=r.key;for(;t;){if(t.key===e)return!0;t=t.parent}return!1}function TX(r,t,e,n,i,a=null,o=0){const s=[];return r.forEach((l,u)=>{var c;const f=Object.create(n);if(f.rawNode=l,f.siblings=s,f.level=o,f.index=u,f.isFirstChild=u===0,f.isLastChild=u+1===r.length,f.parent=a,!f.ignored){const d=i(l);Array.isArray(d)&&(f.children=TX(d,t,e,n,i,f,o+1))}s.push(f),t.set(f.key,f),e.has(o)||e.set(o,[]),(c=e.get(o))===null||c===void 0||c.push(f)}),s}function Cg(r,t={}){var e;const n=new Map,i=new Map,{getDisabled:a=E0e,getIgnored:o=S0e,getIsGroup:s=k0e,getKey:l=w0e}=t,u=(e=t.getChildren)!==null&&e!==void 0?e:x0e,c=t.ignoreEmptyChildren?w=>{const S=u(w);return Array.isArray(S)?S.length?S:null:S}:u,f=Object.assign({get key(){return l(this.rawNode)},get disabled(){return a(this.rawNode)},get isGroup(){return s(this.rawNode)},get isLeaf(){return b0e(this.rawNode,c)},get shallowLoaded(){return C0e(this.rawNode,c)},get ignored(){return o(this.rawNode)},contains(w){return z0e(this,w)}},B0e),d=TX(r,n,i,f,c);function h(w){if(w==null)return null;const S=n.get(w);return S&&!S.isGroup&&!S.ignored?S:null}function v(w){if(w==null)return null;const S=n.get(w);return S&&!S.ignored?S:null}function p(w,S){const E=v(w);return E?E.getPrev(S):null}function g(w,S){const E=v(w);return E?E.getNext(S):null}function m(w){const S=v(w);return S?S.getParent():null}function y(w){const S=v(w);return S?S.getChild():null}const b={treeNodes:d,treeNodeMap:n,levelTreeNodeMap:i,maxLevel:Math.max(...i.keys()),getChildren:c,getFlattenedNodes(w){return LR(d,w)},getNode:h,getPrev:p,getNext:g,getParent:m,getChild:y,getFirstAvailableNode(){return O0e(d)},getPath(w,S={}){return D0e(w,S,b)},getCheckedKeys(w,S={}){const{cascade:E=!0,leafOnly:_=!1,checkStrategy:A="all"}=S;return uI({checkedKeys:sI(w),indeterminateKeys:lI(w),cascade:E,leafOnly:_,checkStrategy:A},b)},check(w,S,E={}){const{cascade:_=!0,leafOnly:A=!1,checkStrategy:k="all"}=E;return uI({checkedKeys:sI(S),indeterminateKeys:lI(S),keysToCheck:w==null?[]:uz(w),cascade:_,leafOnly:A,checkStrategy:k},b)},uncheck(w,S,E={}){const{cascade:_=!0,leafOnly:A=!1,checkStrategy:k="all"}=E;return uI({checkedKeys:sI(S),indeterminateKeys:lI(S),keysToUncheck:w==null?[]:uz(w),cascade:_,leafOnly:A,checkStrategy:k},b)},getNonLeafKeys(w={}){return y0e(d,w)}};return b}function FR(r,t,e="default"){const n=t[e];if(n===void 0)throw new Error(`[vueuc/${r}]: slot[${e}] is empty.`);return n()}function NR(r,t=!0,e=[]){return r.forEach(n=>{if(n!==null){if(typeof n!="object"){(typeof n=="string"||typeof n=="number")&&e.push(i0(String(n)));return}if(Array.isArray(n)){NR(n,t,e);return}if(n.type===qi){if(n.children===null)return;Array.isArray(n.children)&&NR(n.children,t,e)}else n.type!==ul&&e.push(n)}}),e}function fz(r,t,e="default"){const n=t[e];if(n===void 0)throw new Error(`[vueuc/${r}]: slot[${e}] is empty.`);const i=NR(n());if(i.length===1)return i[0];throw new Error(`[vueuc/${r}]: slot[${e}] should have exactly one child.`)}let Ah=null;function AX(){if(Ah===null&&(Ah=document.getElementById("v-binder-view-measurer"),Ah===null)){Ah=document.createElement("div"),Ah.id="v-binder-view-measurer";const{style:r}=Ah;r.position="fixed",r.left="0",r.right="0",r.top="0",r.bottom="0",r.pointerEvents="none",r.visibility="hidden",document.body.appendChild(Ah)}return Ah.getBoundingClientRect()}function $0e(r,t){const e=AX();return{top:t,left:r,height:0,width:0,right:e.width-r,bottom:e.height-t}}function cI(r){const t=r.getBoundingClientRect(),e=AX();return{left:t.left-e.left,top:t.top-e.top,bottom:e.height+e.top-t.bottom,right:e.width+e.left-t.right,width:t.width,height:t.height}}function G0e(r){return r.nodeType===9?null:r.parentNode}function kX(r){if(r===null)return null;const t=G0e(r);if(t===null)return null;if(t.nodeType===9)return document;if(t.nodeType===1){const{overflow:e,overflowX:n,overflowY:i}=getComputedStyle(t);if(/(auto|scroll|overlay)/.test(e+i+n))return t}return kX(t)}const U0e=It({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(r){var t;Tn("VBinder",(t=B0())===null||t===void 0?void 0:t.proxy);const e=Sr("VBinder",null),n=Re(null),i=m=>{n.value=m,e&&r.syncTargetWithParent&&e.setTargetRef(m)};let a=[];const o=()=>{let m=n.value;for(;m=kX(m),m!==null;)a.push(m);for(const y of a)xa("scroll",y,f,!0)},s=()=>{for(const m of a)Ki("scroll",m,f,!0);a=[]},l=new Set,u=m=>{l.size===0&&o(),l.has(m)||l.add(m)},c=m=>{l.has(m)&&l.delete(m),l.size===0&&s()},f=()=>{m_(d)},d=()=>{l.forEach(m=>m())},h=new Set,v=m=>{h.size===0&&xa("resize",window,g),h.has(m)||h.add(m)},p=m=>{h.has(m)&&h.delete(m),h.size===0&&Ki("resize",window,g)},g=()=>{h.forEach(m=>m())};return hl(()=>{Ki("resize",window,g),s()}),{targetRef:n,setTargetRef:i,addScrollListener:u,removeScrollListener:c,addResizeListener:v,removeResizeListener:p}},render(){return FR("binder",this.$slots)}});var Vg=U0e,Wg=It({name:"Target",setup(){const{setTargetRef:r,syncTarget:t}=Sr("VBinder");return{syncTarget:t,setTargetDirective:{mounted:r,updated:r}}},render(){const{syncTarget:r,setTargetDirective:t}=this;return r?Gl(fz("follower",this.$slots),[[t]]):fz("follower",this.$slots)}});const qm="@@mmoContext",H0e={mounted(r,{value:t}){r[qm]={handler:void 0},typeof t=="function"&&(r[qm].handler=t,xa("mousemoveoutside",r,t))},updated(r,{value:t}){const e=r[qm];typeof t=="function"?e.handler?e.handler!==t&&(Ki("mousemoveoutside",r,e.handler),e.handler=t,xa("mousemoveoutside",r,t)):(r[qm].handler=t,xa("mousemoveoutside",r,t)):e.handler&&(Ki("mousemoveoutside",r,e.handler),e.handler=void 0)},unmounted(r){const{handler:t}=r[qm];t&&Ki("mousemoveoutside",r,t),r[qm].handler=void 0}};var V0e=H0e;const Km="@@coContext",W0e={mounted(r,{value:t}){r[Km]={handler:void 0},typeof t=="function"&&(r[Km].handler=t,xa("clickoutside",r,t))},updated(r,{value:t}){const e=r[Km];typeof t=="function"?e.handler?e.handler!==t&&(Ki("clickoutside",r,e.handler),e.handler=t,xa("clickoutside",r,t)):(r[Km].handler=t,xa("clickoutside",r,t)):e.handler&&(Ki("clickoutside",r,e.handler),e.handler=void 0)},unmounted(r){const{handler:t}=r[Km];t&&Ki("clickoutside",r,t),r[Km].handler=void 0}};var Id=W0e;function j0e(r,t){console.error(`[vdirs/${r}]: ${t}`)}class Y0e{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(t,e){const{elementZIndex:n}=this;if(e!==void 0){t.style.zIndex=`${e}`,n.delete(t);return}const{nextZIndex:i}=this;n.has(t)&&n.get(t)+1===this.nextZIndex||(t.style.zIndex=`${i}`,n.set(t,i),this.nextZIndex=i+1,this.squashState())}unregister(t,e){const{elementZIndex:n}=this;n.has(t)?n.delete(t):e===void 0&&j0e("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:t}=this;t||(this.nextZIndex=2e3),this.nextZIndex-t>2500&&this.rearrange()}rearrange(){const t=Array.from(this.elementZIndex.entries());t.sort((e,n)=>e[1]-n[1]),this.nextZIndex=2e3,t.forEach(e=>{const n=e[0],i=this.nextZIndex++;`${i}`!==n.style.zIndex&&(n.style.zIndex=`${i}`)})}}var fI=new Y0e;const Zm="@@ziContext",X0e={mounted(r,t){const{value:e={}}=t,{zIndex:n,enabled:i}=e;r[Zm]={enabled:!!i,initialized:!1},i&&(fI.ensureZIndex(r,n),r[Zm].initialized=!0)},updated(r,t){const{value:e={}}=t,{zIndex:n,enabled:i}=e,a=r[Zm].enabled;i&&!a&&(fI.ensureZIndex(r,n),r[Zm].initialized=!0),r[Zm].enabled=!!i},unmounted(r,t){if(!r[Zm].initialized)return;const{value:e={}}=t,{zIndex:n}=e;fI.unregister(r,n)}};var zL=X0e;function dz(r,t){console.error(`[vueuc/${r}]: ${t}`)}const{c:Qh}=NY(),$L="vueuc-style";function hz(r){return r&-r}class q0e{constructor(t,e){this.l=t,this.min=e;const n=new Array(t+1);for(let i=0;i<t+1;++i)n[i]=0;this.ft=n}add(t,e){if(e===0)return;const{l:n,ft:i}=this;for(t+=1;t<=n;)i[t]+=e,t+=hz(t)}get(t){return this.sum(t+1)-this.sum(t)}sum(t){if(t===0)return 0;const{ft:e,min:n,l:i}=this;if(t===void 0&&(t=i),t>i)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let a=t*n;for(;t>0;)a+=e[t],t-=hz(t);return a}getBound(t){let e=0,n=this.l;for(;n>e;){const i=Math.floor((e+n)/2),a=this.sum(i);if(a>t){n=i;continue}else if(a<t){if(e===i)return this.sum(e+1)<=t?e+1:i;e=i}else return i}return e}}function vz(r){return typeof r=="string"?document.querySelector(r):r()}var MX=It({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup(r){return{showTeleport:GY(tr(r,"show")),mergedTo:re(()=>{const{to:t}=r;return t!=null?t:"body"})}},render(){return this.showTeleport?this.disabled?FR("lazy-teleport",this.$slots):R(Jj,{disabled:this.disabled,to:this.mergedTo},FR("lazy-teleport",this.$slots)):null}});const ZC={top:"bottom",bottom:"top",left:"right",right:"left"},pz={start:"end",center:"center",end:"start"},dI={top:"height",bottom:"height",left:"width",right:"width"},K0e={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},Z0e={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},Q0e={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},gz={top:!0,bottom:!1,left:!0,right:!1},mz={top:"end",bottom:"start",left:"end",right:"start"};function J0e(r,t,e,n,i,a){if(!i||a)return{placement:r,top:0,left:0};const[o,s]=r.split("-");let l=s!=null?s:"center",u={top:0,left:0};const c=(h,v,p)=>{let g=0,m=0;const y=e[h]-t[v]-t[h];return y>0&&n&&(p?m=gz[v]?y:-y:g=gz[v]?y:-y),{left:g,top:m}},f=o==="left"||o==="right";if(l!=="center"){const h=Q0e[r],v=ZC[h],p=dI[h];if(e[p]>t[p]){if(t[h]+t[p]<e[p]){const g=(e[p]-t[p])/2;t[h]<g||t[v]<g?t[h]<t[v]?(l=pz[s],u=c(p,v,f)):u=c(p,h,f):l="center"}}else e[p]<t[p]&&t[v]<0&&t[h]>t[v]&&(l=pz[s])}else{const h=o==="bottom"||o==="top"?"left":"top",v=ZC[h],p=dI[h],g=(e[p]-t[p])/2;(t[h]<g||t[v]<g)&&(t[h]>t[v]?(l=mz[h],u=c(p,h,f)):(l=mz[v],u=c(p,v,f)))}let d=o;return t[o]<e[dI[o]]&&t[o]<t[ZC[o]]&&(d=ZC[o]),{placement:l!=="center"?`${d}-${l}`:d,left:u.left,top:u.top}}function ebe(r,t){return t?Z0e[r]:K0e[r]}function tbe(r,t,e,n,i,a){if(a)switch(r){case"bottom-start":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left)}px`,transform:""};case"top-end":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left)}px`,transform:""};case"left-end":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left+e.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(e.top-t.top+e.height/2)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(e.top-t.top+e.height/2)}px`,left:`${Math.round(e.left-t.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left+e.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(r){case"bottom-start":return{top:`${Math.round(e.top-t.top+e.height+n)}px`,left:`${Math.round(e.left-t.left+i)}px`,transform:""};case"bottom-end":return{top:`${Math.round(e.top-t.top+e.height+n)}px`,left:`${Math.round(e.left-t.left+e.width+i)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(e.top-t.top+n)}px`,left:`${Math.round(e.left-t.left+i)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(e.top-t.top+n)}px`,left:`${Math.round(e.left-t.left+e.width+i)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(e.top-t.top+n)}px`,left:`${Math.round(e.left-t.left+e.width+i)}px`,transform:""};case"right-end":return{top:`${Math.round(e.top-t.top+e.height+n)}px`,left:`${Math.round(e.left-t.left+e.width+i)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(e.top-t.top+n)}px`,left:`${Math.round(e.left-t.left+i)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(e.top-t.top+e.height+n)}px`,left:`${Math.round(e.left-t.left+i)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(e.top-t.top+n)}px`,left:`${Math.round(e.left-t.left+e.width/2+i)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(e.top-t.top+e.height/2+n)}px`,left:`${Math.round(e.left-t.left+e.width+i)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(e.top-t.top+e.height/2+n)}px`,left:`${Math.round(e.left-t.left+i)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(e.top-t.top+e.height+n)}px`,left:`${Math.round(e.left-t.left+e.width/2+i)}px`,transform:"translateX(-50%)"}}}const rbe=Qh([Qh(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),Qh(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[Qh("> *",{pointerEvents:"all"})])]);var jg=It({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(r){const t=Sr("VBinder"),e=Kn(()=>r.enabled!==void 0?r.enabled:r.show),n=Re(null),i=Re(null),a=()=>{const{syncTrigger:d}=r;d.includes("scroll")&&t.addScrollListener(l),d.includes("resize")&&t.addResizeListener(l)},o=()=>{t.removeScrollListener(l),t.removeResizeListener(l)};Io(()=>{e.value&&(l(),a())});const s=Ug();rbe.mount({id:"vueuc/binder",head:!0,anchorMetaName:$L,ssr:s}),hl(()=>{o()}),qhe(()=>{e.value&&l()});const l=()=>{if(!e.value)return;const d=n.value;if(d===null)return;const h=t.targetRef,{x:v,y:p,overlap:g}=r,m=v!==void 0&&p!==void 0?$0e(v,p):cI(h),{width:y,minWidth:b,placement:w,internalShift:S,flip:E}=r;d.setAttribute("v-placement",w),g?d.setAttribute("v-overlap",""):d.removeAttribute("v-overlap");const{style:_}=d;y==="target"?_.width=`${m.width}px`:y!==void 0?_.width=y:_.width="",b==="target"?_.minWidth=`${m.width}px`:b!==void 0?_.minWidth=b:_.minWidth="";const A=cI(d),k=cI(i.value),{left:T,top:I,placement:D}=J0e(w,m,A,S,E,g),O=ebe(D,g),{left:B,top:U,transform:N}=tbe(D,k,m,I,T,g);d.setAttribute("v-placement",D),d.style.setProperty("--v-offset-left",`${Math.round(T)}px`),d.style.setProperty("--v-offset-top",`${Math.round(I)}px`),d.style.transform=`translateX(${B}) translateY(${U}) ${N}`,d.style.transformOrigin=O};hn(e,d=>{d?(a(),u()):o()});const u=()=>{Ja().then(l).catch(d=>console.error(d))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(d=>{hn(tr(r,d),l)}),["teleportDisabled"].forEach(d=>{hn(tr(r,d),u)}),hn(tr(r,"syncTrigger"),d=>{d.includes("resize")?t.addResizeListener(l):t.removeResizeListener(l),d.includes("scroll")?t.addScrollListener(l):t.removeScrollListener(l)});const c=Mv(),f=Kn(()=>{const{to:d}=r;if(d!==void 0)return d;!c.value});return{VBinder:t,mergedEnabled:e,offsetContainerRef:i,followerRef:n,mergedTo:f,syncPosition:l}},render(){return R(MX,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var r,t;const e=R("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[R("div",{class:"v-binder-follower-content",ref:"followerRef"},(t=(r=this.$slots).default)===null||t===void 0?void 0:t.call(r))]);return this.zindexable?Gl(e,[[zL,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):e}})}}),IX=function(){if(typeof Map!="undefined")return Map;function r(t,e){var n=-1;return t.some(function(i,a){return i[0]===e?(n=a,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(e){var n=r(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(e,n){var i=r(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},t.prototype.delete=function(e){var n=this.__entries__,i=r(n,e);~i&&n.splice(i,1)},t.prototype.has=function(e){return!!~r(this.__entries__,e)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,n){n===void 0&&(n=null);for(var i=0,a=this.__entries__;i<a.length;i++){var o=a[i];e.call(n,o[1],o[0])}},t}()}(),BR=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,S_=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),nbe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(S_):function(r){return setTimeout(function(){return r(Date.now())},1e3/60)}}(),ibe=2;function abe(r,t){var e=!1,n=!1,i=0;function a(){e&&(e=!1,r()),n&&s()}function o(){nbe(a)}function s(){var l=Date.now();if(e){if(l-i<ibe)return;n=!0}else e=!0,n=!1,setTimeout(o,t);i=l}return s}var obe=20,sbe=["top","right","bottom","left","width","height","size","weight"],lbe=typeof MutationObserver!="undefined",ube=function(){function r(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=abe(this.refresh.bind(this),obe)}return r.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},r.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},r.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},r.prototype.updateObservers_=function(){var t=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return t.forEach(function(e){return e.broadcastActive()}),t.length>0},r.prototype.connect_=function(){!BR||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),lbe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},r.prototype.disconnect_=function(){!BR||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},r.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=e===void 0?"":e,i=sbe.some(function(a){return!!~n.indexOf(a)});i&&this.refresh()},r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_},r.instance_=null,r}(),PX=function(r,t){for(var e=0,n=Object.keys(t);e<n.length;e++){var i=n[e];Object.defineProperty(r,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return r},v0=function(r){var t=r&&r.ownerDocument&&r.ownerDocument.defaultView;return t||S_},RX=oA(0,0,0,0);function C_(r){return parseFloat(r)||0}function yz(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.reduce(function(n,i){var a=r["border-"+i+"-width"];return n+C_(a)},0)}function cbe(r){for(var t=["top","right","bottom","left"],e={},n=0,i=t;n<i.length;n++){var a=i[n],o=r["padding-"+a];e[a]=C_(o)}return e}function fbe(r){var t=r.getBBox();return oA(0,0,t.width,t.height)}function dbe(r){var t=r.clientWidth,e=r.clientHeight;if(!t&&!e)return RX;var n=v0(r).getComputedStyle(r),i=cbe(n),a=i.left+i.right,o=i.top+i.bottom,s=C_(n.width),l=C_(n.height);if(n.boxSizing==="border-box"&&(Math.round(s+a)!==t&&(s-=yz(n,"left","right")+a),Math.round(l+o)!==e&&(l-=yz(n,"top","bottom")+o)),!vbe(r)){var u=Math.round(s+a)-t,c=Math.round(l+o)-e;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return oA(i.left,i.top,s,l)}var hbe=function(){return typeof SVGGraphicsElement!="undefined"?function(r){return r instanceof v0(r).SVGGraphicsElement}:function(r){return r instanceof v0(r).SVGElement&&typeof r.getBBox=="function"}}();function vbe(r){return r===v0(r).document.documentElement}function pbe(r){return BR?hbe(r)?fbe(r):dbe(r):RX}function gbe(r){var t=r.x,e=r.y,n=r.width,i=r.height,a=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return PX(o,{x:t,y:e,width:n,height:i,top:e,right:t+n,bottom:i+e,left:t}),o}function oA(r,t,e,n){return{x:r,y:t,width:e,height:n}}var mbe=function(){function r(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=oA(0,0,0,0),this.target=t}return r.prototype.isActive=function(){var t=pbe(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},r.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},r}(),ybe=function(){function r(t,e){var n=gbe(e);PX(this,{target:t,contentRect:n})}return r}(),bbe=function(){function r(t,e,n){if(this.activeObservations_=[],this.observations_=new IX,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return r.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof v0(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new mbe(t)),this.controller_.addObserver(this),this.controller_.refresh())}},r.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof v0(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;!e.has(t)||(e.delete(t),e.size||this.controller_.removeObserver(this))}},r.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},r.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},r.prototype.broadcastActive=function(){if(!!this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(n){return new ybe(n.target,n.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},r.prototype.clearActive=function(){this.activeObservations_.splice(0)},r.prototype.hasActive=function(){return this.activeObservations_.length>0},r}(),DX=typeof WeakMap!="undefined"?new WeakMap:new IX,OX=function(){function r(t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=ube.getInstance(),n=new bbe(t,e,this);DX.set(this,n)}return r}();["observe","unobserve","disconnect"].forEach(function(r){OX.prototype[r]=function(){var t;return(t=DX.get(this))[r].apply(t,arguments)}});var xbe=function(){return typeof S_.ResizeObserver!="undefined"?S_.ResizeObserver:OX}();class wbe{constructor(){this.handleResize=this.handleResize.bind(this),this.observer=new xbe(this.handleResize),this.elHandlersMap=new Map}handleResize(t){for(const e of t){const n=this.elHandlersMap.get(e.target);n!==void 0&&n(e)}}registerHandler(t,e){this.elHandlersMap.set(t,e),this.observer.observe(t)}unregisterHandler(t){!this.elHandlersMap.has(t)||(this.elHandlersMap.delete(t),this.observer.unobserve(t))}}var bz=new wbe,p0=It({name:"ResizeObserver",props:{onResize:Function},setup(r){return{registered:!1,handleResize(t){const{onResize:e}=r;e!==void 0&&e(t)}}},mounted(){const r=this.$el;if(r===void 0){dz("resize-observer","$el does not exist.");return}if(r.nextElementSibling!==r.nextSibling&&r.nodeType===3&&r.nodeValue!==""){dz("resize-observer","$el can not be observed (it may be a text node).");return}r.nextElementSibling!==null&&(bz.registerHandler(r.nextElementSibling,this.handleResize),this.registered=!0)},beforeUnmount(){this.registered&&bz.unregisterHandler(this.$el.nextElementSibling)},render(){return iY(this.$slots,"default")}});const Sbe=Qh(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[Qh("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[Qh("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]);var sA=It({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(r){const t=Ug();Sbe.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:$L,ssr:t}),Io(()=>{const{defaultScrollIndex:S,defaultScrollKey:E}=r;S!=null?f({index:S}):E!=null&&f({key:E})}),Uj(()=>{f({top:l.value})});const e=re(()=>{const S=new Map,{keyField:E}=r;return r.items.forEach((_,A)=>{S.set(_[E],A)}),S}),n=Re(null),i=Re(void 0),a=new Map,o=re(()=>{const{items:S,itemSize:E,keyField:_}=r,A=new q0e(S.length,E);return S.forEach((k,T)=>{const I=k[_],D=a.get(I);D!==void 0&&A.add(T,D)}),A}),s=Re(0),l=Re(0),u=Kn(()=>Math.max(o.value.getBound(l.value-Rs(r.paddingTop))-1,0)),c=re(()=>{const{value:S}=i;if(S===void 0)return[];const{items:E,itemSize:_}=r,A=u.value,k=Math.min(A+Math.ceil(S/_+1),E.length-1),T=[];for(let I=A;I<=k;++I)T.push(E[I]);return T}),f=S=>{const{left:E,top:_,index:A,key:k,position:T,behavior:I,debounce:D=!0}=S;if(E!==void 0||_!==void 0)h(E,_,I);else if(A!==void 0)d(A,I,D);else if(k!==void 0){const O=e.value.get(k);O!==void 0&&d(O,I,D)}else T==="bottom"?h(0,Number.MAX_SAFE_INTEGER,I):T==="top"&&h(0,0,I)};function d(S,E,_){const{value:A}=o,k=A.sum(S)+Rs(r.paddingTop);if(!_)n.value.scrollTo({left:0,top:k,behavior:E});else{const{scrollTop:T,offsetHeight:I}=n.value;if(k>T){const D=A.get(S);k+D<=T+I||n.value.scrollTo({left:0,top:k+D-I,behavior:E})}else n.value.scrollTo({left:0,top:k,behavior:E})}m=S}function h(S,E,_){n.value.scrollTo({left:S,top:E,behavior:_})}function v(S,E){var _;if(r.ignoreItemResize||w(E.target))return;const{value:A}=o,k=e.value.get(S),T=A.get(k),I=E.contentRect.height;if(I===T)return;I-r.itemSize===0?a.delete(S):a.set(S,I-r.itemSize);const O=I-T;O!==0&&(y!==void 0&&k<=y&&((_=n.value)===null||_===void 0||_.scrollBy(0,O)),A.add(k,O),s.value++)}function p(S){m_(b);const{onScroll:E}=r;E!==void 0&&E(S)}function g(S){if(w(S.target)||S.contentRect.height===i.value)return;i.value=S.contentRect.height;const{onResize:E}=r;E!==void 0&&E(S)}let m,y;function b(){const{value:S}=n;S!=null&&(y=m!=null?m:u.value,m=void 0,l.value=n.value.scrollTop)}function w(S){let E=S;for(;E!==null;){if(E.style.display==="none")return!0;E=E.parentElement}return!1}return{listHeight:i,listStyle:{overflow:"auto"},keyToIndex:e,itemsStyle:re(()=>{const{itemResizable:S}=r,E=ys(o.value.sum());return s.value,[r.itemsStyle,{boxSizing:"content-box",height:S?"":E,minHeight:S?E:"",paddingTop:ys(r.paddingTop),paddingBottom:ys(r.paddingBottom)}]}),visibleItemsStyle:re(()=>(s.value,{transform:`translateY(${ys(o.value.sum(u.value))})`})),viewportItems:c,listElRef:n,itemsElRef:Re(null),scrollTo:f,handleListResize:g,handleListScroll:p,handleItemResize:v}},render(){const{itemResizable:r,keyField:t,keyToIndex:e,visibleItemsTag:n}=this;return R(p0,{onResize:this.handleListResize},{default:()=>{var i,a;return R("div",cf(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.onWheel,ref:"listElRef"}),[this.items.length!==0?R("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[R(n,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>this.viewportItems.map(o=>{const s=o[t],l=e.get(s),u=this.$slots.default({item:o,index:l})[0];return r?R(p0,{key:s,onResize:c=>this.handleItemResize(s,c)},{default:()=>u}):(u.key=s,u)})})]):(a=(i=this.$slots).empty)===null||a===void 0?void 0:a.call(i)])}})}});const xp="v-hidden",Cbe=Qh("[v-hidden]",{display:"none!important"});var xz=It({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateOverflow:Function},setup(r,{slots:t}){const e=Re(null),n=Re(null);function i(){const{value:o}=e,{getCounter:s,getTail:l}=r;let u;if(s!==void 0?u=s():u=n.value,!o||!u)return;u.hasAttribute(xp)&&u.removeAttribute(xp);const{children:c}=o,f=o.offsetWidth,d=[],h=t.tail?l==null?void 0:l():null;let v=h?h.offsetWidth:0,p=!1;const g=o.children.length-(t.tail?1:0);for(let y=0;y<g-1;++y){if(y<0)continue;const b=c[y];if(p){b.hasAttribute(xp)||b.setAttribute(xp,"");continue}else b.hasAttribute(xp)&&b.removeAttribute(xp);const w=b.offsetWidth;if(v+=w,d[y]=w,v>f){const{updateCounter:S}=r;for(let E=y;E>=0;--E){const _=g-1-E;S!==void 0?S(_):u.textContent=`${_}`;const A=u.offsetWidth;if(v-=d[E],v+A<=f||E===0){p=!0,y=E-1,h&&(y===-1?(h.style.maxWidth=`${f-A}px`,h.style.boxSizing="border-box"):h.style.maxWidth="");break}}}}const{onUpdateOverflow:m}=r;p?m!==void 0&&m(!0):(m!==void 0&&m(!1),u.setAttribute(xp,""))}const a=Ug();return Cbe.mount({id:"vueuc/overflow",head:!0,anchorMetaName:$L,ssr:a}),Io(i),{selfRef:e,counterRef:n,sync:i}},render(){const{$slots:r}=this;return Ja(this.sync),R("div",{class:"v-overflow",ref:"selfRef"},[iY(r,"default"),r.counter?r.counter():R("span",{style:{display:"inline-block"},ref:"counterRef"}),r.tail?r.tail():null])}});function LX(r){return r instanceof HTMLElement}function FX(r){for(let t=0;t<r.childNodes.length;t++){const e=r.childNodes[t];if(LX(e)&&(BX(e)||FX(e)))return!0}return!1}function NX(r){for(let t=r.childNodes.length-1;t>=0;t--){const e=r.childNodes[t];if(LX(e)&&(BX(e)||NX(e)))return!0}return!1}function BX(r){if(!Ebe(r))return!1;try{r.focus()}catch{}return document.activeElement===r}function Ebe(r){if(r.tabIndex>0||r.tabIndex===0&&r.getAttribute("tabIndex")!==null)return!0;if(r.getAttribute("disabled"))return!1;switch(r.nodeName){case"A":return!!r.href&&r.rel!=="ignore";case"INPUT":return r.type!=="hidden"&&r.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}let ux=[];const zX=It({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:String,finalFocusTo:String,returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(r){const t=gv(),e=Re(null),n=Re(null);let i=!1,a=!1;const o=document.activeElement;function s(){return ux[ux.length-1]===t}function l(g){var m;g.code==="Escape"&&s()&&((m=r.onEsc)===null||m===void 0||m.call(r))}Io(()=>{hn(()=>r.active,g=>{g?(f(),xa("keydown",document,l)):(Ki("keydown",document,l),i&&d())},{immediate:!0})}),hl(()=>{Ki("keydown",document,l),i&&d()});function u(g){if(!a&&s()){const m=c();if(m===null||m.contains(g.target))return;h("first")}}function c(){const g=e.value;if(g===null)return null;let m=g;for(;m=m.nextSibling,!(m===null||m instanceof Element&&m.tagName==="DIV"););return m}function f(){var g;if(!r.disabled){if(ux.push(t),r.autoFocus){const{initialFocusTo:m}=r;m===void 0?h("first"):(g=vz(m))===null||g===void 0||g.focus()}i=!0,document.addEventListener("focus",u,!0)}}function d(){var g;if(r.disabled||(document.removeEventListener("focus",u,!0),ux=ux.filter(y=>y!==t),s()))return;const{finalFocusTo:m}=r;m!==void 0?(g=vz(m))===null||g===void 0||g.focus():r.returnFocusOnDeactivated&&o instanceof HTMLElement&&(a=!0,o.focus({preventScroll:!0}),a=!1)}function h(g){if(!!s()&&r.active){const m=e.value,y=n.value;if(m!==null&&y!==null){const b=c();if(b==null||b===y){a=!0,m.focus({preventScroll:!0}),a=!1;return}a=!0;const w=g==="first"?FX(b):NX(b);a=!1,w||(a=!0,m.focus({preventScroll:!0}),a=!1)}}}function v(g){if(a)return;const m=c();m!==null&&(g.relatedTarget!==null&&m.contains(g.relatedTarget)?h("last"):h("first"))}function p(g){a||(g.relatedTarget!==null&&g.relatedTarget===e.value?h("last"):h("first"))}return{focusableStartRef:e,focusableEndRef:n,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:v,handleEndFocus:p}},render(){const{default:r}=this.$slots;if(r===void 0)return null;if(this.disabled)return r();const{active:t,focusableStyle:e}=this;return R(qi,null,[R("div",{"aria-hidden":"true",tabindex:t?"0":"-1",ref:"focusableStartRef",style:e,onFocus:this.handleStartFocus}),r(),R("div",{"aria-hidden":"true",style:e,ref:"focusableEndRef",tabindex:t?"0":"-1",onFocus:this.handleEndFocus})])}}),Kr={neutralBase:"#FFF",neutralInvertBase:"#000",neutralTextBase:"#000",neutralPopover:"#fff",neutralCard:"#fff",neutralModal:"#fff",neutralBody:"#fff",alpha1:"0.82",alpha2:"0.72",alpha3:"0.38",alpha4:"0.24",alpha5:"0.18",alphaClose:"0.52",alphaDisabled:"0.5",alphaDisabledInput:"0.02",alphaPending:"0.05",alphaTablePending:"0.02",alphaPressed:"0.07",alphaAvatar:"0.2",alphaRail:"0.14",alphaProgressRail:".08",alphaBorder:"0.12",alphaDivider:"0.06",alphaInput:"0",alphaAction:"0.02",alphaTab:"0.04",alphaScrollbar:"0.25",alphaScrollbarHover:"0.4",alphaCode:"0.05",alphaTag:"0.02",primaryHover:"#36ad6a",primaryDefault:"#18a058",primaryActive:"#0c7a43",primarySuppl:"#36ad6a",infoHover:"#4098fc",infoDefault:"#2080f0",infoActive:"#1060c9",infoSuppl:"#4098fc",errorHover:"#de576d",errorDefault:"#d03050",errorActive:"#ab1f3f",errorSuppl:"#de576d",warningHover:"#fcb040",warningDefault:"#f0a020",warningActive:"#c97c10",warningSuppl:"#fcb040",successHover:"#36ad6a",successDefault:"#18a058",successActive:"#0c7a43",successSuppl:"#36ad6a"},_be=mg(Kr.neutralBase),$X=mg(Kr.neutralInvertBase),Tbe="rgba("+$X.slice(0,3).join(", ")+", ";function wz(r){return Tbe+String(r)+")"}function Jo(r){const t=Array.from($X);return t[3]=Number(r),ua(_be,t)}const Abe=Object.assign(Object.assign({name:"common"},Pv),{baseColor:Kr.neutralBase,primaryColor:Kr.primaryDefault,primaryColorHover:Kr.primaryHover,primaryColorPressed:Kr.primaryActive,primaryColorSuppl:Kr.primarySuppl,infoColor:Kr.infoDefault,infoColorHover:Kr.infoHover,infoColorPressed:Kr.infoActive,infoColorSuppl:Kr.infoSuppl,successColor:Kr.successDefault,successColorHover:Kr.successHover,successColorPressed:Kr.successActive,successColorSuppl:Kr.successSuppl,warningColor:Kr.warningDefault,warningColorHover:Kr.warningHover,warningColorPressed:Kr.warningActive,warningColorSuppl:Kr.warningSuppl,errorColor:Kr.errorDefault,errorColorHover:Kr.errorHover,errorColorPressed:Kr.errorActive,errorColorSuppl:Kr.errorSuppl,textColorBase:Kr.neutralTextBase,textColor1:"rgb(31, 34, 37)",textColor2:"rgb(51, 54, 57)",textColor3:"rgb(118, 124, 130)",textColorDisabled:Jo(Kr.alpha4),placeholderColor:Jo(Kr.alpha4),placeholderColorDisabled:Jo(Kr.alpha5),iconColor:Jo(Kr.alpha4),iconColorHover:YC(Jo(Kr.alpha4),{lightness:.75}),iconColorPressed:YC(Jo(Kr.alpha4),{lightness:.9}),iconColorDisabled:Jo(Kr.alpha5),opacity1:Kr.alpha1,opacity2:Kr.alpha2,opacity3:Kr.alpha3,opacity4:Kr.alpha4,opacity5:Kr.alpha5,dividerColor:"rgb(239, 239, 245)",borderColor:"rgb(224, 224, 230)",closeColor:Jo(Number(Kr.alphaClose)),closeColorHover:Jo(Number(Kr.alphaClose)*1.25),closeColorPressed:Jo(Number(Kr.alphaClose)*.8),closeColorDisabled:Jo(Kr.alpha4),clearColor:Jo(Kr.alpha4),clearColorHover:YC(Jo(Kr.alpha4),{lightness:.75}),clearColorPressed:YC(Jo(Kr.alpha4),{lightness:.9}),scrollbarColor:wz(Kr.alphaScrollbar),scrollbarColorHover:wz(Kr.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:Jo(Kr.alphaProgressRail),railColor:"rgb(219, 219, 223)",popoverColor:Kr.neutralPopover,tableColor:Kr.neutralCard,cardColor:Kr.neutralCard,modalColor:Kr.neutralModal,bodyColor:Kr.neutralBody,tagColor:"rgb(250, 250, 252)",avatarColor:Jo(Kr.alphaAvatar),invertedColor:"rgb(0, 20, 40)",inputColor:Jo(Kr.alphaInput),codeColor:"rgb(244, 244, 248)",tabColor:"rgb(247, 247, 250)",actionColor:"rgb(250, 250, 252)",tableHeaderColor:"rgb(250, 250, 252)",hoverColor:"rgb(243, 243, 245)",tableColorHover:"rgba(0, 0, 100, 0.03)",tableColorStriped:"rgba(0, 0, 100, 0.02)",pressedColor:"rgb(237, 237, 239)",opacityDisabled:Kr.alphaDisabled,inputColorDisabled:"rgb(250, 250, 252)",buttonColor2:"rgba(46, 51, 56, .05)",buttonColor2Hover:"rgba(46, 51, 56, .09)",buttonColor2Pressed:"rgba(46, 51, 56, .13)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .08), 0 3px 6px 0 rgba(0, 0, 0, .06), 0 5px 12px 4px rgba(0, 0, 0, .04)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .12), 0 6px 16px 0 rgba(0, 0, 0, .08), 0 9px 28px 8px rgba(0, 0, 0, .05)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"});var ci=Abe,kbe={iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"};const Mbe=r=>{const{textColorDisabled:t,iconColor:e,textColor2:n,fontSizeSmall:i,fontSizeMedium:a,fontSizeLarge:o,fontSizeHuge:s}=r;return Object.assign(Object.assign({},kbe),{fontSizeSmall:i,fontSizeMedium:a,fontSizeLarge:o,fontSizeHuge:s,textColor:t,iconColor:e,extraTextColor:n})},Ibe={name:"Empty",common:ci,self:Mbe};var lA=Ibe,Pbe=le("empty",`
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`,[Ae("icon",`
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `,[ke("+",[Ae("description",`
 margin-top: 8px;
 `)])]),Ae("description",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),Ae("extra",`
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]);const Rbe=Object.assign(Object.assign({},wr.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function});var GL=It({name:"Empty",props:Rbe,setup(r){const{mergedClsPrefixRef:t,inlineThemeDisabled:e}=Bn(r),n=wr("Empty","-empty",Pbe,lA,r,t),{localeRef:i}=Bd("Empty"),a=Sr(kd,null),o=re(()=>{var c,f,d;return(c=r.description)!==null&&c!==void 0?c:(d=(f=a==null?void 0:a.mergedComponentPropsRef.value)===null||f===void 0?void 0:f.Empty)===null||d===void 0?void 0:d.description}),s=re(()=>{var c,f;return((f=(c=a==null?void 0:a.mergedComponentPropsRef.value)===null||c===void 0?void 0:c.Empty)===null||f===void 0?void 0:f.renderIcon)||(()=>R(o0e,null))}),l=re(()=>{const{size:c}=r,{common:{cubicBezierEaseInOut:f},self:{[lr("iconSize",c)]:d,[lr("fontSize",c)]:h,textColor:v,iconColor:p,extraTextColor:g}}=n.value;return{"--n-icon-size":d,"--n-font-size":h,"--n-bezier":f,"--n-text-color":v,"--n-icon-color":p,"--n-extra-text-color":g}}),u=e?Ea("empty",re(()=>{let c="";const{size:f}=r;return c+=f[0],c}),l,r):void 0;return{mergedClsPrefix:t,mergedRenderIcon:s,localizedDescription:re(()=>o.value||i.value.description),cssVars:e?void 0:l,themeClass:u==null?void 0:u.themeClass,onRender:u==null?void 0:u.onRender}},render(){const{$slots:r,mergedClsPrefix:t,onRender:e}=this;return e==null||e(),R("div",{class:[`${t}-empty`,this.themeClass],style:this.cssVars},this.showIcon?R("div",{class:`${t}-empty__icon`},r.icon?r.icon():R(Hi,{clsPrefix:t},{default:this.mergedRenderIcon})):null,this.showDescription?R("div",{class:`${t}-empty__description`},r.default?r.default():this.localizedDescription):null,r.extra?R("div",{class:`${t}-empty__extra`},r.extra()):null)}});const Dbe=r=>{const{scrollbarColor:t,scrollbarColorHover:e}=r;return{color:t,colorHover:e}},Obe={name:"Scrollbar",common:ci,self:Dbe};var $d=Obe;const{cubicBezierEaseInOut:Sz}=Pv;function UL({name:r="fade-in",enterDuration:t="0.2s",leaveDuration:e="0.2s",enterCubicBezier:n=Sz,leaveCubicBezier:i=Sz}={}){return[ke(`&.${r}-transition-enter-active`,{transition:`all ${t} ${n}!important`}),ke(`&.${r}-transition-leave-active`,{transition:`all ${e} ${i}!important`}),ke(`&.${r}-transition-enter-from, &.${r}-transition-leave-to`,{opacity:0}),ke(`&.${r}-transition-leave-from, &.${r}-transition-enter-to`,{opacity:1})]}var Lbe=le("scrollbar",`
 overflow: hidden;
 position: relative;
 z-index: auto;
 height: 100%;
 width: 100%;
`,[ke(">",[le("scrollbar-container",`
 width: 100%;
 overflow: scroll;
 height: 100%;
 max-height: inherit;
 scrollbar-width: none;
 `,[ke("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),ke(">",[le("scrollbar-content",`
 box-sizing: border-box;
 min-width: 100%;
 `)])]),le("scrollbar-rail",`
 position: absolute;
 pointer-events: none;
 user-select: none;
 `,[Ge("horizontal",`
 left: 2px;
 right: 2px;
 bottom: 4px;
 height: var(--n-scrollbar-height);
 `,[ke(">",[Ae("scrollbar",`
 height: var(--n-scrollbar-height);
 border-radius: var(--n-scrollbar-border-radius);
 right: 0;
 `)])]),Ge("vertical",`
 right: 4px;
 top: 2px;
 bottom: 2px;
 width: var(--n-scrollbar-width);
 `,[ke(">",[Ae("scrollbar",`
 width: var(--n-scrollbar-width);
 border-radius: var(--n-scrollbar-border-radius);
 bottom: 0;
 `)])]),Ge("disabled",[ke(">",[Ae("scrollbar",{pointerEvents:"none"})])]),ke(">",[Ae("scrollbar",`
 position: absolute;
 cursor: pointer;
 pointer-events: all;
 background-color: var(--n-scrollbar-color);
 transition: background-color .2s var(--n-scrollbar-bezier);
 `,[UL(),ke("&:hover",{backgroundColor:"var(--n-scrollbar-color-hover)"})])])])])]);const Fbe=Object.assign(Object.assign({},wr.props),{size:{type:Number,default:5},duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:String,contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function}),GX=It({name:"Scrollbar",props:Fbe,inheritAttrs:!1,setup(r){const{mergedClsPrefixRef:t,inlineThemeDisabled:e}=Bn(r),n=Re(null),i=Re(null),a=Re(null),o=Re(null),s=Re(null),l=Re(null),u=Re(null),c=Re(null),f=Re(null),d=Re(null),h=Re(null),v=Re(0),p=Re(0),g=Re(!1),m=Re(!1);let y=!1,b=!1,w,S,E=0,_=0,A=0,k=0;const T=nve(),I=re(()=>{const{value:We}=c,{value:J}=l,{value:Pe}=d;return We===null||J===null||Pe===null?0:Math.min(We,Pe*We/J+r.size*1.5)}),D=re(()=>`${I.value}px`),O=re(()=>{const{value:We}=f,{value:J}=u,{value:Pe}=h;return We===null||J===null||Pe===null?0:Pe*We/J+r.size*1.5}),B=re(()=>`${O.value}px`),U=re(()=>{const{value:We}=c,{value:J}=v,{value:Pe}=l,{value:Ce}=d;return We===null||Pe===null||Ce===null?0:J/(Pe-We)*(Ce-I.value)}),N=re(()=>`${U.value}px`),G=re(()=>{const{value:We}=f,{value:J}=p,{value:Pe}=u,{value:Ce}=h;return We===null||Pe===null||Ce===null?0:J/(Pe-We)*(Ce-O.value)}),L=re(()=>`${G.value}px`),F=re(()=>{const{value:We}=c,{value:J}=l;return We!==null&&J!==null&&J>We}),W=re(()=>{const{value:We}=f,{value:J}=u;return We!==null&&J!==null&&J>We}),H=re(()=>{const{container:We}=r;return We?We():i.value}),K=re(()=>{const{content:We}=r;return We?We():a.value}),ie=Ze,ee=We=>{const{onResize:J}=r;J&&J(We),Ze()},Q=(We,J)=>{if(!r.scrollable)return;if(typeof We=="number"){fe(We,J!=null?J:0,0,!1,"auto");return}const{left:Pe,top:Ce,index:ct,elSize:mt,position:Me,behavior:ht,el:ar,debounce:Ht=!0}=We;(Pe!==void 0||Ce!==void 0)&&fe(Pe!=null?Pe:0,Ce!=null?Ce:0,0,!1,ht),ar!==void 0?fe(0,ar.offsetTop,ar.offsetHeight,Ht,ht):ct!==void 0&&mt!==void 0?fe(0,ct*mt,mt,Ht,ht):Me==="bottom"?fe(0,Number.MAX_SAFE_INTEGER,0,!1,ht):Me==="top"&&fe(0,0,0,!1,ht)},be=(We,J)=>{if(!r.scrollable)return;const{value:Pe}=H;!Pe||(typeof We=="object"?Pe.scrollBy(We):Pe.scrollBy(We,J||0))};function fe(We,J,Pe,Ce,ct){const{value:mt}=H;if(!!mt){if(Ce){const{scrollTop:Me,offsetHeight:ht}=mt;if(J>Me){J+Pe<=Me+ht||mt.scrollTo({left:We,top:J+Pe-ht,behavior:ct});return}}mt.scrollTo({left:We,top:J,behavior:ct})}}function he(){z(),j(),Ze()}function Ee(){He()}function He(){nt(),st()}function nt(){S!==void 0&&window.clearTimeout(S),S=window.setTimeout(()=>{m.value=!1},r.duration)}function st(){w!==void 0&&window.clearTimeout(w),w=window.setTimeout(()=>{g.value=!1},r.duration)}function z(){w!==void 0&&window.clearTimeout(w),g.value=!0}function j(){S!==void 0&&window.clearTimeout(S),m.value=!0}function X(We){const{onScroll:J}=r;J&&J(We),ae()}function ae(){const{value:We}=H;We&&(v.value=We.scrollTop,p.value=We.scrollLeft)}function ue(){const{value:We}=K;We&&(l.value=We.offsetHeight,u.value=We.offsetWidth);const{value:J}=H;J&&(c.value=J.offsetHeight,f.value=J.offsetWidth);const{value:Pe}=s,{value:Ce}=o;Pe&&(h.value=Pe.offsetWidth),Ce&&(d.value=Ce.offsetHeight)}function Be(){const{value:We}=H;We&&(v.value=We.scrollTop,p.value=We.scrollLeft,c.value=We.offsetHeight,f.value=We.offsetWidth,l.value=We.scrollHeight,u.value=We.scrollWidth);const{value:J}=s,{value:Pe}=o;J&&(h.value=J.offsetWidth),Pe&&(d.value=Pe.offsetHeight)}function Ze(){!r.scrollable||(r.useUnifiedContainer?Be():(ue(),ae()))}function Le(We){var J;return!((J=n.value)===null||J===void 0?void 0:J.contains(We.target))}function se(We){We.preventDefault(),We.stopPropagation(),b=!0,xa("mousemove",window,Se,!0),xa("mouseup",window,Y,!0),_=p.value,A=We.clientX}function Se(We){if(!b)return;w!==void 0&&window.clearTimeout(w),S!==void 0&&window.clearTimeout(S);const{value:J}=f,{value:Pe}=u,{value:Ce}=O;if(J===null||Pe===null)return;const mt=(We.clientX-A)*(Pe-J)/(J-Ce),Me=Pe-J;let ht=_+mt;ht=Math.min(Me,ht),ht=Math.max(ht,0);const{value:ar}=H;if(ar){ar.scrollLeft=ht;const{internalOnUpdateScrollLeft:Ht}=r;Ht&&Ht(ht)}}function Y(We){We.preventDefault(),We.stopPropagation(),Ki("mousemove",window,Se,!0),Ki("mouseup",window,Y,!0),b=!1,Ze(),Le(We)&&He()}function ve(We){We.preventDefault(),We.stopPropagation(),y=!0,xa("mousemove",window,ce,!0),xa("mouseup",window,de,!0),E=v.value,k=We.clientY}function ce(We){if(!y)return;w!==void 0&&window.clearTimeout(w),S!==void 0&&window.clearTimeout(S);const{value:J}=c,{value:Pe}=l,{value:Ce}=I;if(J===null||Pe===null)return;const mt=(We.clientY-k)*(Pe-J)/(J-Ce),Me=Pe-J;let ht=E+mt;ht=Math.min(Me,ht),ht=Math.max(ht,0);const{value:ar}=H;ar&&(ar.scrollTop=ht)}function de(We){We.preventDefault(),We.stopPropagation(),Ki("mousemove",window,ce,!0),Ki("mouseup",window,de,!0),y=!1,Ze(),Le(We)&&He()}Go(()=>{const{value:We}=W,{value:J}=F,{value:Pe}=t,{value:Ce}=s,{value:ct}=o;Ce&&(We?Ce.classList.remove(`${Pe}-scrollbar-rail--disabled`):Ce.classList.add(`${Pe}-scrollbar-rail--disabled`)),ct&&(J?ct.classList.remove(`${Pe}-scrollbar-rail--disabled`):ct.classList.add(`${Pe}-scrollbar-rail--disabled`))}),Io(()=>{r.container||Ze()}),hl(()=>{w!==void 0&&window.clearTimeout(w),S!==void 0&&window.clearTimeout(S),Ki("mousemove",window,ce,!0),Ki("mouseup",window,de,!0)});const Fe=wr("Scrollbar","-scrollbar",Lbe,$d,r,t),Ue=re(()=>{const{common:{cubicBezierEaseInOut:We,scrollbarBorderRadius:J,scrollbarHeight:Pe,scrollbarWidth:Ce},self:{color:ct,colorHover:mt}}=Fe.value;return{"--n-scrollbar-bezier":We,"--n-scrollbar-color":ct,"--n-scrollbar-color-hover":mt,"--n-scrollbar-border-radius":J,"--n-scrollbar-width":Ce,"--n-scrollbar-height":Pe}}),lt=e?Ea("scrollbar",void 0,Ue,r):void 0;return Object.assign(Object.assign({},{scrollTo:Q,scrollBy:be,sync:Ze,syncUnifiedContainer:Be,handleMouseEnterWrapper:he,handleMouseLeaveWrapper:Ee}),{mergedClsPrefix:t,containerScrollTop:v,wrapperRef:n,containerRef:i,contentRef:a,yRailRef:o,xRailRef:s,needYBar:F,needXBar:W,yBarSizePx:D,xBarSizePx:B,yBarTopPx:N,xBarLeftPx:L,isShowXBar:g,isShowYBar:m,isIos:T,handleScroll:X,handleContentResize:ie,handleContainerResize:ee,handleYScrollMouseDown:ve,handleXScrollMouseDown:se,cssVars:e?void 0:Ue,themeClass:lt==null?void 0:lt.themeClass,onRender:lt==null?void 0:lt.onRender})},render(){var r;const{$slots:t,mergedClsPrefix:e,triggerDisplayManually:n}=this;if(!this.scrollable)return(r=t.default)===null||r===void 0?void 0:r.call(t);const i=()=>{var a,o;return(a=this.onRender)===null||a===void 0||a.call(this),R("div",cf(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${e}-scrollbar`,this.themeClass],style:this.cssVars,onMouseenter:n?void 0:this.handleMouseEnterWrapper,onMouseleave:n?void 0:this.handleMouseLeaveWrapper}),[this.container?(o=t.default)===null||o===void 0?void 0:o.call(t):R("div",{role:"none",ref:"containerRef",class:[`${e}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},R(p0,{onResize:this.handleContentResize},{default:()=>R("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${e}-scrollbar-content`,this.contentClass]},t)})),R("div",{ref:"yRailRef",class:`${e}-scrollbar-rail ${e}-scrollbar-rail--vertical`,style:this.horizontalRailStyle,"aria-hidden":!0},R(uo,{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?R("div",{class:`${e}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),R("div",{ref:"xRailRef",class:`${e}-scrollbar-rail ${e}-scrollbar-rail--horizontal`,style:this.verticalRailStyle,"aria-hidden":!0},R(uo,{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?R("div",{class:`${e}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,left:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])};return this.container?i():R(p0,{onResize:this.handleContainerResize},{default:i})}});var ll=GX;const Cz=GX;var Nbe={height:"calc(var(--n-option-height) * 7.6)",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"};const Bbe=r=>{const{borderRadius:t,popoverColor:e,textColor3:n,dividerColor:i,textColor2:a,primaryColorPressed:o,textColorDisabled:s,primaryColor:l,opacityDisabled:u,hoverColor:c,fontSizeSmall:f,fontSizeMedium:d,fontSizeLarge:h,fontSizeHuge:v,heightSmall:p,heightMedium:g,heightLarge:m,heightHuge:y}=r;return Object.assign(Object.assign({},Nbe),{optionFontSizeSmall:f,optionFontSizeMedium:d,optionFontSizeLarge:h,optionFontSizeHuge:v,optionHeightSmall:p,optionHeightMedium:g,optionHeightLarge:m,optionHeightHuge:y,borderRadius:t,color:e,groupHeaderTextColor:n,actionDividerColor:i,optionTextColor:a,optionTextColorPressed:o,optionTextColorDisabled:s,optionTextColorActive:l,optionOpacityDisabled:u,optionCheckColor:l,optionColorPending:c,optionColorActive:c,actionTextColor:a,loadingColor:l})},zbe={name:"InternalSelectMenu",common:ci,peers:{Scrollbar:$d,Empty:lA},self:Bbe};var UX=zbe;const $be=R(r0e);function Gbe(r,t){return R(uo,{name:"fade-in-scale-up-transition"},{default:()=>r?R(Hi,{clsPrefix:t,class:`${t}-base-select-option__check`},{default:()=>$be}):null})}var Ez=It({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(r){const{valueRef:t,pendingTmNodeRef:e,multipleRef:n,valueSetRef:i,renderLabelRef:a,renderOptionRef:o,handleOptionClick:s,handleOptionMouseEnter:l}=Sr(IL),u=Kn(()=>{const{value:h}=e;return h?r.tmNode.key===h.key:!1});function c(h){const{tmNode:v}=r;v.disabled||s(h,v)}function f(h){const{tmNode:v}=r;v.disabled||l(h,v)}function d(h){const{tmNode:v}=r,{value:p}=u;v.disabled||p||l(h,v)}return{multiple:n,isGrouped:Kn(()=>{const{tmNode:h}=r,{parent:v}=h;return v&&v.rawNode.type==="group"}),isPending:u,isSelected:Kn(()=>{const{value:h}=t,{value:v}=n;if(h===null)return!1;const p=r.tmNode.rawNode.value;if(v){const{value:g}=i;return g.has(p)}else return h===p}),renderLabel:a,renderOption:o,handleMouseMove:d,handleMouseEnter:f,handleClick:c}},render(){const{clsPrefix:r,tmNode:{rawNode:t},isSelected:e,isPending:n,isGrouped:i,multiple:a,renderOption:o,renderLabel:s,handleClick:l,handleMouseEnter:u,handleMouseMove:c}=this,d=Gbe(a&&e,r),h=s?[s(t,e),d]:[Ti(t.label,t,e),d],v=R("div",{class:[`${r}-base-select-option`,t.class,{[`${r}-base-select-option--disabled`]:t.disabled,[`${r}-base-select-option--selected`]:e,[`${r}-base-select-option--grouped`]:i,[`${r}-base-select-option--pending`]:n}],style:t.style,onClick:l,onMouseenter:u,onMousemove:c},R("div",{class:`${r}-base-select-option__content`},h));return t.render?t.render({node:v,option:t,selected:e}):o?o({node:v,option:t,selected:e}):v}}),_z=It({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:r,renderOptionRef:t}=Sr(IL);return{renderLabel:r,renderOption:t}},render(){const{clsPrefix:r,renderLabel:t,renderOption:e,tmNode:{rawNode:n}}=this,i=t?t(n,!1):Ti(n.label,n,!1),a=R("div",{class:`${r}-base-select-group-header`},i);return n.render?n.render({node:a,option:n}):e?e({node:a,option:n,selected:!1}):a}});const{cubicBezierEaseIn:Tz,cubicBezierEaseOut:Az,transformDebounceScale:Ube}=Pv;function Dv({transformOrigin:r="inherit",duration:t=".2s",enterScale:e=".9",originalTransform:n="",originalTransition:i=""}={}){return[ke("&.fade-in-scale-up-transition-leave-active",{transformOrigin:r,transition:`opacity ${t} ${Tz}, transform ${t} ${Tz} ${i&&","+i}`}),ke("&.fade-in-scale-up-transition-enter-active",{transformOrigin:r,transition:`opacity ${t} ${Az}, transform ${t} ${Az} ${i&&","+i}`}),ke("&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to",{opacity:0,transform:`${n} scale(${e})`}),ke("&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to",{opacity:1,transform:`${n} scale(${Ube})`})]}var Hbe=le("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[Ge("multiple",[le("base-select-option",`
 padding-right: 28px;
 `)]),le("scrollbar",`
 max-height: var(--n-height);
 `),le("virtual-list",`
 max-height: var(--n-height);
 `),le("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[Ae("content",`
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),le("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),le("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),Ae("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),Ae("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),Ae("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier);
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),le("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),le("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[ke("&:active",`
 color: var(--n-option-text-color-pressed);
 `),Ge("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),Ge("pending",`
 background-color: var(--n-option-color-pending);
 `),Ge("selected",`
 color: var(--n-option-text-color-active);
 background-color: var(--n-option-color-active);
 `),Ge("disabled",`
 cursor: not-allowed;
 `,[Nn("selected",`
 color: var(--n-option-text-color-disabled);
 `),Ge("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),Ae("check",`
 font-size: 16px;
 position: absolute;
 right: 8px;
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[Dv({enterScale:"0.5"})])])]),Vbe=It({name:"InternalSelectMenu",props:Object.assign(Object.assign({},wr.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},width:[Number,String],autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(r){const t=wr("InternalSelectMenu","-internal-select-menu",Hbe,UX,r,tr(r,"clsPrefix")),e=Re(null),n=Re(null),i=Re(null),a=re(()=>r.treeMate.getFlattenedNodes()),o=re(()=>_X(a.value)),s=Re(null);function l(){const{treeMate:L}=r;let F=null;if(r.autoPending){const{value:W}=r;W===null?F=L.getFirstAvailableNode():(r.multiple?F=L.getNode((W||[])[(W||[]).length-1]):F=L.getNode(W),(!F||F.disabled)&&(F=L.getFirstAvailableNode())),F&&T(F)}}let u;hn(tr(r,"show"),L=>{L?u=hn(r.resetMenuOnOptionsChange?[tr(r,"treeMate"),tr(r,"multiple")]:[tr(r,"multiple")],()=>{l(),Ja(I)},{immediate:!0}):u==null||u()},{immediate:!0});const c=re(()=>Rs(t.value.self[lr("optionHeight",r.size)])),f=re(()=>l0(t.value.self[lr("padding",r.size)])),d=re(()=>r.multiple&&Array.isArray(r.value)?new Set(r.value):new Set),h=re(()=>{const L=a.value;return L&&L.length===0});function v(L){const{onToggle:F}=r;F&&F(L)}function p(L){const{onScroll:F}=r;F&&F(L)}function g(L){var F;(F=i.value)===null||F===void 0||F.sync(),p(L)}function m(){var L;(L=i.value)===null||L===void 0||L.sync()}function y(){const{value:L}=s;return L||null}function b(L,F){F.disabled||T(F,!1)}function w(L,F){F.disabled||v(F)}function S(L){var F;tf(L,"action")||(F=r.onKeyup)===null||F===void 0||F.call(r,L)}function E(L){var F;tf(L,"action")||(F=r.onKeydown)===null||F===void 0||F.call(r,L)}function _(L){var F;(F=r.onMousedown)===null||F===void 0||F.call(r,L),!r.focusable&&L.preventDefault()}function A(){const{value:L}=s;L&&T(L.getNext({loop:!0}),!0)}function k(){const{value:L}=s;L&&T(L.getPrev({loop:!0}),!0)}function T(L,F=!1){s.value=L,F&&I()}function I(){var L,F;const W=s.value;if(!W)return;const H=o.value(W.key);H!==null&&(r.virtualScroll?(L=n.value)===null||L===void 0||L.scrollTo({index:H}):(F=i.value)===null||F===void 0||F.scrollTo({index:H,elSize:c.value}))}function D(L){var F,W;((F=e.value)===null||F===void 0?void 0:F.contains(L.target))&&((W=r.onFocus)===null||W===void 0||W.call(r,L))}function O(L){var F,W;((F=e.value)===null||F===void 0?void 0:F.contains(L.relatedTarget))||(W=r.onBlur)===null||W===void 0||W.call(r,L)}Tn(IL,{handleOptionMouseEnter:b,handleOptionClick:w,valueSetRef:d,multipleRef:tr(r,"multiple"),valueRef:tr(r,"value"),renderLabelRef:tr(r,"renderLabel"),renderOptionRef:tr(r,"renderOption"),pendingTmNodeRef:s}),Tn(jY,e),Io(()=>{const{value:L}=i;L&&L.sync()});const B=re(()=>{const{size:L}=r,{common:{cubicBezierEaseInOut:F},self:{height:W,borderRadius:H,color:K,groupHeaderTextColor:ie,actionDividerColor:ee,optionTextColorPressed:Q,optionTextColor:be,optionTextColorDisabled:fe,optionTextColorActive:he,optionOpacityDisabled:Ee,optionCheckColor:He,actionTextColor:nt,optionColorPending:st,optionColorActive:z,loadingColor:j,loadingSize:X,[lr("optionFontSize",L)]:ae,[lr("optionHeight",L)]:ue,[lr("optionPadding",L)]:Be}}=t.value;return{"--n-height":W,"--n-action-divider-color":ee,"--n-action-text-color":nt,"--n-bezier":F,"--n-border-radius":H,"--n-color":K,"--n-option-font-size":ae,"--n-group-header-text-color":ie,"--n-option-check-color":He,"--n-option-color-pending":st,"--n-option-color-active":z,"--n-option-height":ue,"--n-option-opacity-disabled":Ee,"--n-option-text-color":be,"--n-option-text-color-active":he,"--n-option-text-color-disabled":fe,"--n-option-text-color-pressed":Q,"--n-option-padding":Be,"--n-option-padding-left":l0(Be,"left"),"--n-loading-color":j,"--n-loading-size":X}}),{inlineThemeDisabled:U}=r,N=U?Ea("internal-select-menu",re(()=>r.size[0]),B,r):void 0,G={selfRef:e,next:A,prev:k,getPendingTmNode:y};return Object.assign({mergedTheme:t,virtualListRef:n,scrollbarRef:i,itemSize:c,padding:f,flattenedNodes:a,empty:h,virtualListContainer(){const{value:L}=n;return L==null?void 0:L.listElRef},virtualListContent(){const{value:L}=n;return L==null?void 0:L.itemsElRef},doScroll:p,handleFocusin:D,handleFocusout:O,handleKeyUp:S,handleKeyDown:E,handleMouseDown:_,handleVirtualListResize:m,handleVirtualListScroll:g,cssVars:U?void 0:B.value,themeClass:N==null?void 0:N.themeClass,onRender:N==null?void 0:N.onRender},G)},render(){const{$slots:r,virtualScroll:t,clsPrefix:e,mergedTheme:n,themeClass:i,onRender:a}=this;return a==null||a(),R("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${e}-base-select-menu`,i,this.multiple&&`${e}-base-select-menu--multiple`],style:[{width:va(this.width)},this.cssVars],onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},this.loading?R("div",{class:`${e}-base-select-menu__loading`},R(Hg,{clsPrefix:e,strokeWidth:20})):this.empty?R("div",{class:`${e}-base-select-menu__empty`},u0(r.empty,()=>[R(GL,{theme:n.peers.Empty,themeOverrides:n.peerOverrides.Empty})])):R(ll,{ref:"scrollbarRef",theme:n.peers.Scrollbar,themeOverrides:n.peerOverrides.Scrollbar,scrollable:this.scrollable,container:t?this.virtualListContainer:void 0,content:t?this.virtualListContent:void 0,onScroll:t?void 0:this.doScroll},{default:()=>t?R(sA,{ref:"virtualListRef",class:`${e}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:o})=>o.isGroup?R(_z,{key:o.key,clsPrefix:e,tmNode:o}):o.ignored?null:R(Ez,{clsPrefix:e,key:o.key,tmNode:o})}):R("div",{class:`${e}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(o=>o.isGroup?R(_z,{key:o.key,clsPrefix:e,tmNode:o}):R(Ez,{clsPrefix:e,key:o.key,tmNode:o})))}),ba(r.action,o=>o&&[R("div",{class:`${e}-base-select-menu__action`,"data-action":!0,key:"action"},o),R(Rv,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),Wbe=le("base-wave",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
`),jbe=It({name:"BaseWave",props:{clsPrefix:{type:String,required:!0}},setup(r){W0("-base-wave",Wbe,tr(r,"clsPrefix"));const t=Re(null),e=Re(!1);let n=null;return hl(()=>{n!==null&&window.clearTimeout(n)}),{active:e,selfRef:t,play(){n!==null&&(window.clearTimeout(n),e.value=!1,n=null),Ja(()=>{var i;(i=t.value)===null||i===void 0||i.offsetHeight,e.value=!0,n=window.setTimeout(()=>{e.value=!1,n=null},1e3)})}}},render(){const{clsPrefix:r}=this;return R("div",{ref:"selfRef","aria-hidden":!0,class:[`${r}-base-wave`,this.active&&`${r}-base-wave--active`]})}}),Ybe={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"};const Xbe=r=>{const{boxShadow2:t,popoverColor:e,textColor2:n,borderRadius:i,fontSize:a,dividerColor:o}=r;return Object.assign(Object.assign({},Ybe),{fontSize:a,borderRadius:i,color:e,dividerColor:o,textColor:n,boxShadow:t})},qbe={name:"Popover",common:ci,self:Xbe};var Zw=qbe;const hI={top:"bottom",bottom:"top",left:"right",right:"left"};var Kbe=ke([le("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 transform-origin: inherit;
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 `,[ke("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),ke("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),ke("&.popover-transition-enter-active",`
 transition:
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),ke("&.popover-transition-leave-active",`
 transition:
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `),Nn("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[Nn("show-header","padding: var(--n-padding);")]),Ae("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),Ae("content",`
 padding: var(--n-padding);
 `),le("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[le("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(var(--n-arrow-height) * 1.414);
 height: calc(var(--n-arrow-height) * 1.414);
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)])]),lu("top-start",`
 top: calc(-0.707 * var(--n-arrow-height));
 left: calc(var(--n-arrow-offset) - var(--v-offset-left));
 `),lu("top",`
 top: calc(-0.707 * var(--n-arrow-height));
 transform: translateX(calc(-0.707 * var(--n-arrow-height))) rotate(45deg);
 left: 50%;
 `),lu("top-end",`
 top: calc(-0.707 * var(--n-arrow-height));
 right: calc(var(--n-arrow-offset) + var(--v-offset-left));
 `),lu("bottom-start",`
 bottom: calc(-0.707 * var(--n-arrow-height));
 left: calc(var(--n-arrow-offset) - var(--v-offset-left));
 `),lu("bottom",`
 bottom: calc(-0.707 * var(--n-arrow-height));
 transform: translateX(calc(-0.707 * var(--n-arrow-height))) rotate(45deg);
 left: 50%;
 `),lu("bottom-end",`
 bottom: calc(-0.707 * var(--n-arrow-height));
 right: calc(var(--n-arrow-offset) + var(--v-offset-left));
 `),lu("left-start",`
 left: calc(-0.707 * var(--n-arrow-height));
 top: calc(var(--n-arrow-offset-vertical) - var(--v-offset-top));
 `),lu("left",`
 left: calc(-0.707 * var(--n-arrow-height));
 transform: translateY(calc(-0.707 * var(--n-arrow-height))) rotate(45deg);
 top: 50%;
 `),lu("left-end",`
 left: calc(-0.707 * var(--n-arrow-height));
 bottom: calc(var(--n-arrow-offset-vertical) + var(--v-offset-top));
 
 `),lu("right-start",`
 right: calc(-0.707 * var(--n-arrow-height));
 top: calc(var(--n-arrow-offset-vertical) - var(--v-offset-top));
 `),lu("right",`
 right: calc(-0.707 * var(--n-arrow-height));
 transform: translateY(calc(-0.707 * var(--n-arrow-height))) rotate(45deg);
 top: 50%;
 `),lu("right-end",`
 right: calc(-0.707 * var(--n-arrow-height));
 bottom: calc(var(--n-arrow-offset-vertical) + var(--v-offset-top));
 `)]);function lu(r,t){const e=r.split("-")[0],n=["top","bottom"].includes(e)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return ke(`[v-placement="${r}"] >`,[le("popover",[Nn("manual-trigger",`
 margin-${hI[e]}: var(--n-space);
 `),Ge("show-arrow",`
 margin-${hI[e]}: var(--n-space-arrow);
 `),Ge("overlap",`
 margin: 0;
 `),Yhe("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${e}: 100%;
 ${hI[e]}: auto;
 ${n}
 `,[le("popover-arrow",t)])])])}const HX=Object.assign(Object.assign({},wr.props),{to:Xo.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,internalTrapFocus:Boolean,animated:Boolean,onClickoutside:Function,minWidth:Number,maxWidth:Number}),VX=({arrowStyle:r,clsPrefix:t})=>R("div",{key:"__popover-arrow__",class:`${t}-popover-arrow-wrapper`},R("div",{class:`${t}-popover-arrow`,style:r}));var Zbe=It({name:"PopoverBody",inheritAttrs:!1,props:HX,setup(r,{slots:t,attrs:e}){const{namespaceRef:n,mergedClsPrefixRef:i,inlineThemeDisabled:a}=Bn(r),o=wr("Popover","-popover",Kbe,Zw,r,i),s=Re(null),l=Sr("NPopover"),u=Re(null),c=Re(r.show),f=re(()=>{const{trigger:E,onClickoutside:_}=r,A=[],{positionManuallyRef:{value:k}}=l;return k||(E==="click"&&!_&&A.push([Id,b]),E==="hover"&&A.push([V0e,y])),_&&A.push([Id,b]),r.displayDirective==="show"&&A.push([J1,r.show]),A}),d=re(()=>[{width:r.width==="trigger"?"":va(r.width)},r.maxWidth?{maxWidth:va(r.maxWidth)}:{},r.minWidth?{minWidth:va(r.minWidth)}:{},a?void 0:h.value]),h=re(()=>{const{common:{cubicBezierEaseInOut:E,cubicBezierEaseIn:_,cubicBezierEaseOut:A},self:{space:k,spaceArrow:T,padding:I,fontSize:D,textColor:O,dividerColor:B,color:U,boxShadow:N,borderRadius:G,arrowHeight:L,arrowOffset:F,arrowOffsetVertical:W}}=o.value;return{"--n-box-shadow":N,"--n-bezier":E,"--n-bezier-ease-in":_,"--n-bezier-ease-out":A,"--n-font-size":D,"--n-text-color":O,"--n-color":U,"--n-divider-color":B,"--n-border-radius":G,"--n-arrow-height":L,"--n-arrow-offset":F,"--n-arrow-offset-vertical":W,"--n-padding":I,"--n-space":k,"--n-space-arrow":T}}),v=a?Ea("popover",void 0,h,r):void 0;l.setBodyInstance({syncPosition:p}),hl(()=>{l.setBodyInstance(null)}),hn(tr(r,"show"),E=>{r.animated||(E?c.value=!0:c.value=!1)});function p(){var E;(E=s.value)===null||E===void 0||E.syncPosition()}function g(E){r.trigger==="hover"&&r.keepAliveOnHover&&l.handleMouseEnter(E)}function m(E){r.trigger==="hover"&&r.keepAliveOnHover&&l.handleMouseLeave(E)}function y(E){r.trigger==="hover"&&!w().contains(E.target)&&l.handleMouseMoveOutside(E)}function b(E){(r.trigger==="click"&&!w().contains(E.target)||r.onClickoutside)&&l.handleClickOutside(E)}function w(){return l.getTriggerElement()}Tn(ML,u),Tn(kL,null),Tn(AL,null);function S(){v==null||v.onRender();let E;const{internalRenderBodyRef:{value:_}}=l,{value:A}=i;if(_)E=_([`${A}-popover`,v==null?void 0:v.themeClass.value,r.overlap&&`${A}-popover--overlap`],u,d.value,g,m);else{const{value:k}=l.extraClassRef,{internalTrapFocus:T}=r,I=()=>{var D;return[ba(t.header,O=>O&&[R("div",{class:`${A}-popover__header`},O),R("div",{class:`${A}-popover__content`},t)])||((D=t.default)===null||D===void 0?void 0:D.call(t)),r.showArrow?VX({arrowStyle:r.arrowStyle,clsPrefix:A}):null]};E=R("div",cf({class:[`${A}-popover`,v==null?void 0:v.themeClass.value,k.map(D=>`${A}-${D}`),{[`${A}-popover--overlap`]:r.overlap,[`${A}-popover--show-arrow`]:r.showArrow,[`${A}-popover--show-header`]:!E1(t.header),[`${A}-popover--raw`]:r.raw,[`${A}-popover--manual-trigger`]:r.trigger==="manual"}],ref:u,style:d.value,onKeydown:l.handleKeydown,onMouseenter:g,onMouseleave:m},e),T?R(zX,{active:r.show,autoFocus:!0},{default:I}):I())}return r.displayDirective==="show"||r.show?Gl(E,f.value):null}return{namespace:n,isMounted:l.isMountedRef,zIndex:l.zIndexRef,followerRef:s,adjustedTo:Xo(r),followerEnabled:c,renderContentNode:S}},render(){return R(jg,{zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,ref:"followerRef",overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===Xo.tdkey},{default:()=>this.animated?R(uo,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{this.followerEnabled=!1}},{default:this.renderContentNode}):this.renderContentNode()})}});const Qbe=Object.keys(HX),Jbe={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function exe(r,t,e){Jbe[t].forEach(n=>{r.props?r.props=Object.assign({},r.props):r.props={};const i=r.props[n],a=e[n];i?r.props[n]=(...o)=>{i(...o),a(...o)}:r.props[n]=a})}const txe=i0("").type,uA={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},onClickoutside:Function,internalExtraClass:{type:Array,default:()=>[]},"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],zIndex:Number,to:Xo.propTo,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},rxe=Object.assign(Object.assign(Object.assign({},wr.props),uA),{internalRenderBody:Function});var iw=It({name:"Popover",inheritAttrs:!1,props:rxe,__popover__:!0,setup(r){const t=Mv(),e=Re(null),n=re(()=>r.show),i=Re(r.defaultShow),a=zi(n,i),o=Kn(()=>r.disabled?!1:a.value),s=()=>{if(r.disabled)return!0;const{getDisabled:B}=r;return!!(B==null?void 0:B())},l=()=>s()?!1:a.value,u=XT(r,["arrow","showArrow"]),c=re(()=>r.overlap?!1:u.value);let f=null;const d=Re(null),h=Re(null),v=Kn(()=>r.x!==void 0&&r.y!==void 0);function p(B){const{"onUpdate:show":U,onUpdateShow:N,onShow:G,onHide:L}=r;i.value=B,U&&Tt(U,B),N&&Tt(N,B),B&&G&&Tt(G,!0),B&&L&&Tt(L,!1)}function g(){f&&f.syncPosition()}function m(){const{value:B}=d;B&&(window.clearTimeout(B),d.value=null)}function y(){const{value:B}=h;B&&(window.clearTimeout(B),h.value=null)}function b(){const B=s();if(r.trigger==="focus"&&!B){if(l())return;p(!0)}}function w(){const B=s();if(r.trigger==="focus"&&!B){if(!l())return;p(!1)}}function S(){const B=s();if(r.trigger==="hover"&&!B){if(y(),d.value!==null||l())return;const U=()=>{p(!0),d.value=null},{delay:N}=r;N===0?U():d.value=window.setTimeout(U,N)}}function E(){const B=s();if(r.trigger==="hover"&&!B){if(m(),h.value!==null||!l())return;const U=()=>{p(!1),h.value=null},{duration:N}=r;N===0?U():h.value=window.setTimeout(U,N)}}function _(){E()}function A(B){var U;!l()||(r.trigger==="click"&&(m(),y(),p(!1)),(U=r.onClickoutside)===null||U===void 0||U.call(r,B))}function k(){if(r.trigger==="click"&&!s()){m(),y();const B=!l();p(B)}}function T(B){!r.internalTrapFocus||B.code==="Escape"&&(m(),y(),p(!1))}function I(B){i.value=B}function D(){var B;return(B=e.value)===null||B===void 0?void 0:B.targetRef}function O(B){f=B}return Tn("NPopover",{getTriggerElement:D,handleKeydown:T,handleMouseEnter:S,handleMouseLeave:E,handleClickOutside:A,handleMouseMoveOutside:_,setBodyInstance:O,positionManuallyRef:v,isMountedRef:t,zIndexRef:tr(r,"zIndex"),extraClassRef:tr(r,"internalExtraClass"),internalRenderBodyRef:tr(r,"internalRenderBody")}),{binderInstRef:e,positionManually:v,mergedShowConsideringDisabledProp:o,uncontrolledShow:i,mergedShowArrow:c,getMergedShow:l,setShow:I,handleClick:k,handleMouseEnter:S,handleMouseLeave:E,handleFocus:b,handleBlur:w,syncPosition:g}},render(){var r;const{positionManually:t,$slots:e}=this;let n,i=!1;if(!t&&(e.activator?n=TR(e,"activator"):n=TR(e,"trigger"),n)){n=pv(n),n=n.type===txe?R("span",[n]):n;const a={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if((r=n.type)===null||r===void 0?void 0:r.__popover__)i=!0,n.props||(n.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),n.props.internalSyncTargetWithParent=!0,n.props.internalInheritedEventHandlers?n.props.internalInheritedEventHandlers=[a,...n.props.internalInheritedEventHandlers]:n.props.internalInheritedEventHandlers=[a];else{const{internalInheritedEventHandlers:o}=this,s=[a,...o],l={onBlur:u=>{s.forEach(c=>{c.onBlur(u)})},onFocus:u=>{s.forEach(c=>{c.onFocus(u)})},onClick:u=>{s.forEach(c=>{c.onClick(u)})},onMouseenter:u=>{s.forEach(c=>{c.onMouseenter(u)})},onMouseleave:u=>{s.forEach(c=>{c.onMouseleave(u)})}};exe(n,o?"nested":t?"manual":this.trigger,l)}}return R(Vg,{ref:"binderInstRef",syncTarget:!i,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const a=this.getMergedShow();return[this.internalTrapFocus&&a?Gl(R("div",{style:{position:"fixed",inset:0}}),[[zL,{enabled:a,zIndex:this.zIndex}]]):null,t?null:R(Wg,null,{default:()=>n}),R(Zbe,Kc(this.$props,Qbe,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:a})),{default:()=>{var o,s;return(s=(o=this.$slots).default)===null||s===void 0?void 0:s.call(o)},header:()=>{var o,s;return(s=(o=this.$slots).header)===null||s===void 0?void 0:s.call(o)}})]}})}}),nxe={closeSizeSmall:"14px",closeSizeMedium:"14px",closeSizeLarge:"14px",padding:"0 7px",closeMargin:"0 0 0 3px",closeMarginRtl:"0 3px 0 0"};const ixe=r=>{const{textColor2:t,primaryColorHover:e,primaryColorPressed:n,primaryColor:i,infoColor:a,successColor:o,warningColor:s,errorColor:l,baseColor:u,borderColor:c,opacityDisabled:f,tagColor:d,closeColor:h,closeColorHover:v,closeColorPressed:p,borderRadiusSmall:g,fontSizeTiny:m,fontSizeSmall:y,fontSizeMedium:b,heightTiny:w,heightSmall:S,heightMedium:E}=r;return Object.assign(Object.assign({},nxe),{heightSmall:w,heightMedium:S,heightLarge:E,borderRadius:g,opacityDisabled:f,fontSizeSmall:m,fontSizeMedium:y,fontSizeLarge:b,textColorCheckable:t,textColorHoverCheckable:e,textColorPressedCheckable:n,textColorChecked:u,colorCheckable:"#0000",colorHoverCheckable:"#0000",colorPressedCheckable:"#0000",colorChecked:i,colorCheckedHover:e,colorCheckedPressed:n,border:`1px solid ${c}`,textColor:t,color:d,closeColor:h,closeColorHover:v,closeColorPressed:p,borderPrimary:`1px solid ${_n(i,{alpha:.3})}`,textColorPrimary:i,colorPrimary:_n(i,{alpha:.1}),closeColorPrimary:_n(i,{alpha:.75}),closeColorHoverPrimary:_n(i,{alpha:.6}),closeColorPressedPrimary:_n(i,{alpha:.9}),borderInfo:`1px solid ${_n(a,{alpha:.3})}`,textColorInfo:a,colorInfo:_n(a,{alpha:.1}),closeColorInfo:_n(a,{alpha:.75}),closeColorHoverInfo:_n(a,{alpha:.6}),closeColorPressedInfo:_n(a,{alpha:.9}),borderSuccess:`1px solid ${_n(o,{alpha:.3})}`,textColorSuccess:o,colorSuccess:_n(o,{alpha:.1}),closeColorSuccess:_n(o,{alpha:.75}),closeColorHoverSuccess:_n(o,{alpha:.6}),closeColorPressedSuccess:_n(o,{alpha:.9}),borderWarning:`1px solid ${_n(s,{alpha:.35})}`,textColorWarning:s,colorWarning:_n(s,{alpha:.12}),closeColorWarning:_n(s,{alpha:.75}),closeColorHoverWarning:_n(s,{alpha:.6}),closeColorPressedWarning:_n(s,{alpha:.9}),borderError:`1px solid ${_n(l,{alpha:.23})}`,textColorError:l,colorError:_n(l,{alpha:.08}),closeColorError:_n(l,{alpha:.65}),closeColorHoverError:_n(l,{alpha:.5}),closeColorPressedError:_n(l,{alpha:.8})})},axe={name:"Tag",common:ci,self:ixe};var oxe=axe,sxe={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},lxe=le("tag",`
 white-space: nowrap;
 position: relative;
 box-sizing: border-box;
 cursor: default;
 display: inline-flex;
 align-items: center;
 flex-wrap: nowrap;
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 line-height: 1;
 height: var(--n-height);
 font-size: var(--n-font-size);
`,[Ae("border",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-border);
 transition: border-color .3s var(--n-bezier);
 `),Ae("avatar",`
 display: flex;
 margin-right: 6px;
 `),Ae("close",`
 font-size: var(--n-close-size);
 margin: var(--n-close-margin);
 transition: color .3s var(--n-bezier);
 cursor: pointer;
 `),Ge("round",`
 padding: 0 calc(var(--n-height) / 2);
 border-radius: calc(var(--n-height) / 2);
 `,[Ae("avatar",`
 margin-left: calc((var(--n-height) - 8px) / -2);
 `)]),Ge("disabled",`
 cursor: not-allowed !important;
 opacity: var(--n-opacity-disabled);
 `),Ge("checkable",`
 cursor: pointer;
 box-shadow: none;
 color: var(--n-text-color-checkable);
 background-color: var(--n-color-checkable);
 `,[Nn("disabled",[ke("&:hover","background-color: var(--n-color-hover-checkable);",[Nn("checked","color: var(--n-text-color-hover-checkable);")]),ke("&:active","background-color: var(--n-color-pressed-checkable);",[Nn("checked","color: var(--n-text-color-pressed-checkable);")])]),Ge("checked",`
 color: var(--n-text-color-checked);
 background-color: var(--n-color-checked);
 `,[Nn("disabled",[ke("&:hover","background-color: var(--n-color-checked-hover);"),ke("&:active","background-color: var(--n-color-checked-pressed);")])])])]);function HL(r,t,e){if(!t)return;const n=Ug(),i=re(()=>{const{value:o}=t;if(!o)return;const s=o[r];if(!!s)return s}),a=()=>{Go(()=>{const{value:o}=e,s=`${o}${r}Rtl`;if(Uhe(s,n))return;const{value:l}=i;!l||l.style.mount({id:s,head:!0,anchorMetaName:h0,props:{bPrefix:o?`.${o}-`:void 0},ssr:n})})};return n?a():$g(a),i}const uxe=Object.assign(Object.assign(Object.assign({},wr.props),sxe),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalStopClickPropagation:Boolean,onCheckedChange:{type:Function,validator:()=>!0,default:void 0}}),cxe="n-tag";var vI=It({name:"Tag",props:uxe,setup(r){const t=Re(null),{mergedBorderedRef:e,mergedClsPrefixRef:n,inlineThemeDisabled:i,mergedRtlRef:a}=Bn(r),o=wr("Tag","-tag",lxe,oxe,r,n);Tn(cxe,{roundRef:tr(r,"round")});function s(h){if(!r.disabled&&r.checkable){const{checked:v,onCheckedChange:p,onUpdateChecked:g,"onUpdate:checked":m}=r;g&&g(!v),m&&m(!v),p&&p(!v)}}function l(h){if(r.internalStopClickPropagation&&h.stopPropagation(),!r.disabled){const{onClose:v}=r;v&&Tt(v,h)}}const u={setTextContent(h){const{value:v}=t;v&&(v.textContent=h)}},c=HL("Tag",a,n),f=re(()=>{const{type:h,size:v,color:{color:p,textColor:g}={}}=r,{common:{cubicBezierEaseInOut:m},self:{padding:y,closeMargin:b,closeMarginRtl:w,borderRadius:S,opacityDisabled:E,textColorCheckable:_,textColorHoverCheckable:A,textColorPressedCheckable:k,textColorChecked:T,colorCheckable:I,colorHoverCheckable:D,colorPressedCheckable:O,colorChecked:B,colorCheckedHover:U,colorCheckedPressed:N,[lr("closeSize",v)]:G,[lr("fontSize",v)]:L,[lr("height",v)]:F,[lr("color",h)]:W,[lr("textColor",h)]:H,[lr("border",h)]:K,[lr("closeColor",h)]:ie,[lr("closeColorHover",h)]:ee,[lr("closeColorPressed",h)]:Q}}=o.value;return{"--n-avatar-size-override":`calc(${F} - 8px)`,"--n-bezier":m,"--n-border-radius":S,"--n-border":K,"--n-close-color":ie,"--n-close-color-hover":ee,"--n-close-color-pressed":Q,"--n-close-color-disabled":ie,"--n-close-margin":b,"--n-close-margin-rtl":w,"--n-close-size":G,"--n-color":p||W,"--n-color-checkable":I,"--n-color-checked":B,"--n-color-checked-hover":U,"--n-color-checked-pressed":N,"--n-color-hover-checkable":D,"--n-color-pressed-checkable":O,"--n-font-size":L,"--n-height":F,"--n-opacity-disabled":E,"--n-padding":y,"--n-text-color":g||H,"--n-text-color-checkable":_,"--n-text-color-checked":T,"--n-text-color-hover-checkable":A,"--n-text-color-pressed-checkable":k}}),d=i?Ea("tag",re(()=>{let h="";const{type:v,size:p,color:{color:g,textColor:m}={}}=r;return h+=v[0],h+=p[0],g&&(h+=`a${y_(g)}`),m&&(h+=`b${y_(m)}`),h}),f,r):void 0;return Object.assign(Object.assign({},u),{rtlEnabled:c,mergedClsPrefix:n,contentRef:t,mergedBordered:e,handleClick:s,handleCloseClick:l,cssVars:i?void 0:f,themeClass:d==null?void 0:d.themeClass,onRender:d==null?void 0:d.onRender})},render(){var r,t;const{mergedClsPrefix:e,rtlEnabled:n,color:{borderColor:i}={},onRender:a,$slots:o}=this;return a==null||a(),R("div",{class:[`${e}-tag`,this.themeClass,{[`${e}-tag--rtl`]:n,[`${e}-tag--disabled`]:this.disabled,[`${e}-tag--checkable`]:this.checkable,[`${e}-tag--checked`]:this.checkable&&this.checked,[`${e}-tag--round`]:this.round}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},ba(o.avatar,s=>s&&R("div",{class:`${e}-tag__avatar`},s)),R("span",{class:`${e}-tag__content`,ref:"contentRef"},(t=(r=this.$slots).default)===null||t===void 0?void 0:t.call(r)),!this.checkable&&this.closable?R(aA,{clsPrefix:e,class:`${e}-tag__close`,disabled:this.disabled,onClick:this.handleCloseClick}):null,!this.checkable&&this.mergedBordered?R("div",{class:`${e}-tag__border`,style:{borderColor:i}}):null)}}),fxe=le("base-clear",`
 flex-shrink: 0;
 height: 1em;
 width: 1em;
 position: relative;
`,[ke(">",[Ae("clear",`
 font-size: var(--n-clear-size);
 cursor: pointer;
 color: var(--n-clear-color);
 transition: color .3s var(--n-bezier);
 `,[ke("&:hover",`
 color: var(--n-clear-color-hover)!important;
 `),ke("&:active",`
 color: var(--n-clear-color-pressed)!important;
 `)]),Ae("placeholder",`
 display: flex;
 `),Ae("clear, placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Md({originalTransform:"translateX(-50%) translateY(-50%)",left:"50%",top:"50%"})])])]),zR=It({name:"BaseClear",props:{clsPrefix:{type:String,required:!0},show:Boolean,onClear:Function},setup(r){return W0("-base-clear",fxe,tr(r,"clsPrefix")),{handleMouseDown(t){t.preventDefault()}}},render(){const{clsPrefix:r}=this;return R("div",{class:`${r}-base-clear`},R(j0,null,{default:()=>{var t,e;return this.show?R(Hi,{clsPrefix:r,key:"dismiss",class:`${r}-base-clear__clear`,onClick:this.onClear,onMousedown:this.handleMouseDown,"data-clear":!0},{default:()=>R(c0e,null)}):R("div",{key:"icon",class:`${r}-base-clear__placeholder`},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))}}))}}),WX=It({name:"InternalSelectionSuffix",props:{clsPrefix:{type:String,required:!0},showArrow:{type:Boolean,default:void 0},showClear:{type:Boolean,default:void 0},loading:{type:Boolean,default:!1},onClear:Function},setup(r,{slots:t}){return()=>{const{clsPrefix:e}=r;return R(Hg,{clsPrefix:e,class:`${e}-base-suffix`,strokeWidth:24,scale:.85,show:r.loading},{default:()=>r.showArrow?R(zR,{clsPrefix:e,show:r.showClear,onClear:r.onClear},{default:()=>R(Hi,{clsPrefix:e,class:`${e}-base-suffix__arrow`},{default:()=>u0(t.default,()=>[R(CX,null)])})}):null})}}}),dxe={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"};const hxe=r=>{const{borderRadius:t,textColor2:e,textColorDisabled:n,inputColor:i,inputColorDisabled:a,primaryColor:o,primaryColorHover:s,warningColor:l,warningColorHover:u,errorColor:c,errorColorHover:f,borderColor:d,iconColor:h,iconColorDisabled:v,clearColor:p,clearColorHover:g,clearColorPressed:m,placeholderColor:y,placeholderColorDisabled:b,fontSizeTiny:w,fontSizeSmall:S,fontSizeMedium:E,fontSizeLarge:_,heightTiny:A,heightSmall:k,heightMedium:T,heightLarge:I}=r;return Object.assign(Object.assign({},dxe),{fontSizeTiny:w,fontSizeSmall:S,fontSizeMedium:E,fontSizeLarge:_,heightTiny:A,heightSmall:k,heightMedium:T,heightLarge:I,borderRadius:t,textColor:e,textColorDisabled:n,placeholderColor:y,placeholderColorDisabled:b,color:i,colorDisabled:a,colorActive:i,border:`1px solid ${d}`,borderHover:`1px solid ${s}`,borderActive:`1px solid ${o}`,borderFocus:`1px solid ${s}`,boxShadowHover:"none",boxShadowActive:`0 0 0 2px ${_n(o,{alpha:.2})}`,boxShadowFocus:`0 0 0 2px ${_n(o,{alpha:.2})}`,caretColor:o,arrowColor:h,arrowColorDisabled:v,loadingColor:o,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${u}`,borderActiveWarning:`1px solid ${l}`,borderFocusWarning:`1px solid ${u}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 0 2px ${_n(l,{alpha:.2})}`,boxShadowFocusWarning:`0 0 0 2px ${_n(l,{alpha:.2})}`,colorActiveWarning:i,caretColorWarning:l,borderError:`1px solid ${c}`,borderHoverError:`1px solid ${f}`,borderActiveError:`1px solid ${c}`,borderFocusError:`1px solid ${f}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 0 2px ${_n(c,{alpha:.2})}`,boxShadowFocusError:`0 0 0 2px ${_n(c,{alpha:.2})}`,colorActiveError:i,caretColorError:c,clearColor:p,clearColorHover:g,clearColorPressed:m})},vxe={name:"InternalSelection",common:ci,peers:{Popover:Zw},self:hxe};var VL=vxe,pxe=ke([le("base-selection",`
 position: relative;
 z-index: auto;
 box-shadow: none;
 width: 100%;
 max-width: 100%;
 display: inline-block;
 vertical-align: bottom;
 border-radius: var(--n-border-radius);
 min-height: var(--n-height);
 line-height: 1.5;
 font-size: var(--n-font-size);
 `,[le("base-loading",`
 color: var(--n-loading-color);
 `),le("base-selection-tags","min-height: var(--n-height);"),Ae("border, state-border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border: var(--n-border);
 border-radius: inherit;
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),Ae("state-border",`
 z-index: 1;
 border-color: #0000;
 `),le("base-suffix",`
 cursor: pointer;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 right: 10px;
 `,[Ae("arrow",`
 font-size: var(--n-arrow-size);
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 `)]),le("base-selection-overlay",`
 display: flex;
 align-items: center;
 white-space: nowrap;
 pointer-events: none;
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 padding: var(--n-padding-single);
 transition: color .3s var(--n-bezier);
 `,[Ae("wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 overflow: hidden;
 text-overflow: ellipsis;
 `)]),le("base-selection-placeholder",`
 color: var(--n-placeholder-color);
 `),le("base-selection-tags",`
 cursor: pointer;
 outline: none;
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 display: flex;
 padding: var(--n-padding-multiple);
 flex-wrap: wrap;
 align-items: center;
 width: 100%;
 vertical-align: bottom;
 background-color: var(--n-color);
 border-radius: inherit;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),le("base-selection-label",`
 height: var(--n-height);
 display: inline-flex;
 width: 100%;
 vertical-align: bottom;
 cursor: pointer;
 outline: none;
 z-index: auto;
 box-sizing: border-box;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: inherit;
 background-color: var(--n-color);
 align-items: center;
 `,[le("base-selection-input",`
 line-height: inherit;
 outline: none;
 cursor: pointer;
 box-sizing: border-box;
 border:none;
 width: 100%;
 padding: var(--n-padding-single);
 background-color: #0000;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 caret-color: var(--n-caret-color);
 `,[Ae("content",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap; 
 `)]),Ae("render-label",`
 color: var(--n-text-color);
 `)]),Nn("disabled",[ke("&:hover",[Ae("state-border",`
 box-shadow: var(--n-box-shadow-hover);
 border: var(--n-border-hover);
 `)]),Ge("focus",[Ae("state-border",`
 box-shadow: var(--n-box-shadow-focus);
 border: var(--n-border-focus);
 `)]),Ge("active",[Ae("state-border",`
 box-shadow: var(--n-box-shadow-active);
 border: var(--n-border-active);
 `),le("base-selection-label","background-color: var(--n-color-active);"),le("base-selection-tags","background-color: var(--n-color-active);")])]),Ge("disabled","cursor: not-allowed;",[Ae("arrow",`
 color: var(--n-arrow-color-disabled);
 `),le("base-selection-label",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[le("base-selection-input",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 `),Ae("render-label",`
 color: var(--n-text-color-disabled);
 `)]),le("base-selection-tags",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `),le("base-selection-placeholder",`
 cursor: not-allowed;
 color: var(--n-placeholder-color-disabled);
 `)]),le("base-selection-input-tag",`
 height: calc(var(--n-height) - 6px);
 line-height: calc(var(--n-height) - 6px);
 outline: none;
 display: none;
 position: relative;
 margin-bottom: 3px;
 max-width: 100%;
 vertical-align: bottom;
 `,[Ae("input",`
 min-width: 1px;
 padding: 0;
 background-color: #0000;
 outline: none;
 border: none;
 max-width: 100%;
 overflow: hidden;
 width: 1em;
 line-height: inherit;
 cursor: pointer;
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 `),Ae("mirror",`
 position: absolute;
 left: 0;
 top: 0;
 white-space: pre;
 visibility: hidden;
 user-select: none;
 opacity: 0;
 `)]),["warning","error"].map(r=>Ge(`${r}-status`,[Ae("state-border",`border: var(--n-border-${r});`),Nn("disabled",[ke("&:hover",[Ae("state-border",`
 box-shadow: var(--n-box-shadow-hover-${r});
 border: var(--n-border-hover-${r});
 `)]),Ge("active",[Ae("state-border",`
 box-shadow: var(--n-box-shadow-active-${r});
 border: var(--n-border-active-${r});
 `),le("base-selection-label",`background-color: var(--n-color-active-${r});`),le("base-selection-tags",`background-color: var(--n-color-active-${r});`)]),Ge("focus",[Ae("state-border",`
 box-shadow: var(--n-box-shadow-focus-${r});
 border: var(--n-border-focus-${r});
 `)])])]))]),le("base-selection-popover",`
 margin-bottom: -3px;
 display: flex;
 flex-wrap: wrap;
 `),le("base-selection-tag-wrapper",`
 max-width: 100%;
 display: inline-flex;
 padding: 0 7px 3px 0;
 `,[ke("&:last-child","padding-right: 0;"),le("tag",`
 font-size: 14px;
 max-width: 100%;
 `,[Ae("content",`
 line-height: 1.25;
 text-overflow: ellipsis;
 overflow: hidden;
 `)])])]),jX=It({name:"InternalSelection",props:Object.assign(Object.assign({},wr.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeyup:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean}),setup(r){const t=Re(null),e=Re(null),n=Re(null),i=Re(null),a=Re(null),o=Re(null),s=Re(null),l=Re(null),u=Re(null),c=Re(null),f=Re(!1),d=Re(!1),h=Re(!1),v=wr("InternalSelection","-internal-selection",pxe,VL,r,tr(r,"clsPrefix")),p=re(()=>r.clearable&&!r.disabled&&(h.value||r.active)),g=re(()=>r.selectedOption?r.renderTag?r.renderTag({option:r.selectedOption,handleClose:()=>{}}):r.renderLabel?r.renderLabel(r.selectedOption,!0):Ti(r.selectedOption.label,r.selectedOption,!0):r.placeholder),m=re(()=>{const se=r.selectedOption;if(!!se)return se.label}),y=re(()=>r.multiple?!!(Array.isArray(r.selectedOptions)&&r.selectedOptions.length):r.selectedOption!==null);function b(){var se;const{value:Se}=t;if(Se){const{value:Y}=e;Y&&(Y.style.width=`${Se.offsetWidth}px`,r.maxTagCount!=="responsive"&&((se=u.value)===null||se===void 0||se.sync()))}}function w(){const{value:se}=c;se&&(se.style.display="none")}function S(){const{value:se}=c;se&&(se.style.display="inline-block")}hn(tr(r,"active"),se=>{se||w()}),hn(tr(r,"pattern"),()=>{r.multiple&&Ja(b)});function E(se){const{onFocus:Se}=r;Se&&Se(se)}function _(se){const{onBlur:Se}=r;Se&&Se(se)}function A(se){const{onDeleteOption:Se}=r;Se&&Se(se)}function k(se){const{onClear:Se}=r;Se&&Se(se)}function T(se){const{onPatternInput:Se}=r;Se&&Se(se)}function I(se){var Se;(!se.relatedTarget||!((Se=n.value)===null||Se===void 0?void 0:Se.contains(se.relatedTarget)))&&E(se)}function D(se){var Se;((Se=n.value)===null||Se===void 0?void 0:Se.contains(se.relatedTarget))||_(se)}function O(se){k(se)}function B(){h.value=!0}function U(){h.value=!1}function N(se){!r.active||!r.filterable||se.target!==e.value&&se.preventDefault()}function G(se){A(se)}function L(se){if(se.code==="Backspace"&&!F.value&&!r.pattern.length){const{selectedOptions:Se}=r;(Se==null?void 0:Se.length)&&G(Se[Se.length-1])}}const F=Re(!1);let W=null;function H(se){const{value:Se}=t;if(Se){const Y=se.target.value;Se.textContent=Y,b()}F.value?W=se:T(se)}function K(){F.value=!0}function ie(){F.value=!1,T(W),W=null}function ee(se){var Se;d.value=!0,(Se=r.onPatternFocus)===null||Se===void 0||Se.call(r,se)}function Q(se){var Se;d.value=!1,(Se=r.onPatternBlur)===null||Se===void 0||Se.call(r,se)}function be(){var se,Se;if(r.filterable)d.value=!1,(se=o.value)===null||se===void 0||se.blur(),(Se=e.value)===null||Se===void 0||Se.blur();else if(r.multiple){const{value:Y}=i;Y==null||Y.blur()}else{const{value:Y}=a;Y==null||Y.blur()}}function fe(){var se,Se,Y;r.filterable?(d.value=!1,(se=o.value)===null||se===void 0||se.focus()):r.multiple?(Se=i.value)===null||Se===void 0||Se.focus():(Y=a.value)===null||Y===void 0||Y.focus()}function he(){const{value:se}=e;se&&(S(),se.focus())}function Ee(){const{value:se}=e;se&&se.blur()}function He(se){const{value:Se}=s;Se&&Se.setTextContent(`+${se}`)}function nt(){const{value:se}=l;return se}function st(){return e.value}let z=null;function j(){z!==null&&window.clearTimeout(z)}function X(){r.disabled||r.active||(j(),z=window.setTimeout(()=>{f.value=!0},100))}function ae(){j()}function ue(se){se||(j(),f.value=!1)}Io(()=>{Go(()=>{const se=o.value;!se||(se.tabIndex=r.disabled||d.value?-1:0)})});const{inlineThemeDisabled:Be}=r,Ze=re(()=>{const{size:se}=r,{common:{cubicBezierEaseInOut:Se},self:{borderRadius:Y,color:ve,placeholderColor:ce,textColor:de,paddingSingle:Fe,paddingMultiple:Ue,caretColor:lt,colorDisabled:ut,textColorDisabled:We,placeholderColorDisabled:J,colorActive:Pe,boxShadowFocus:Ce,boxShadowActive:ct,boxShadowHover:mt,border:Me,borderFocus:ht,borderHover:ar,borderActive:Ht,arrowColor:Er,arrowColorDisabled:it,loadingColor:At,colorActiveWarning:vr,boxShadowFocusWarning:ze,boxShadowActiveWarning:_e,boxShadowHoverWarning:Ke,borderWarning:Ot,borderFocusWarning:Nt,borderHoverWarning:fr,borderActiveWarning:sn,colorActiveError:en,boxShadowFocusError:Zr,boxShadowActiveError:Wn,boxShadowHoverError:gn,borderError:Pr,borderFocusError:vn,borderHoverError:Lr,borderActiveError:Dn,clearColor:Xr,clearColorHover:fi,clearColorPressed:Ui,clearSize:Va,arrowSize:fo,[lr("height",se)]:ho,[lr("fontSize",se)]:Po}}=v.value;return{"--n-bezier":Se,"--n-border":Me,"--n-border-active":Ht,"--n-border-focus":ht,"--n-border-hover":ar,"--n-border-radius":Y,"--n-box-shadow-active":ct,"--n-box-shadow-focus":Ce,"--n-box-shadow-hover":mt,"--n-caret-color":lt,"--n-color":ve,"--n-color-active":Pe,"--n-color-disabled":ut,"--n-font-size":Po,"--n-height":ho,"--n-padding-single":Fe,"--n-padding-multiple":Ue,"--n-placeholder-color":ce,"--n-placeholder-color-disabled":J,"--n-text-color":de,"--n-text-color-disabled":We,"--n-arrow-color":Er,"--n-arrow-color-disabled":it,"--n-loading-color":At,"--n-color-active-warning":vr,"--n-box-shadow-focus-warning":ze,"--n-box-shadow-active-warning":_e,"--n-box-shadow-hover-warning":Ke,"--n-border-warning":Ot,"--n-border-focus-warning":Nt,"--n-border-hover-warning":fr,"--n-border-active-warning":sn,"--n-color-active-error":en,"--n-box-shadow-focus-error":Zr,"--n-box-shadow-active-error":Wn,"--n-box-shadow-hover-error":gn,"--n-border-error":Pr,"--n-border-focus-error":vn,"--n-border-hover-error":Lr,"--n-border-active-error":Dn,"--n-clear-size":Va,"--n-clear-color":Xr,"--n-clear-color-hover":fi,"--n-clear-color-pressed":Ui,"--n-arrow-size":fo}}),Le=Be?Ea("internal-selection",re(()=>r.size[0]),Ze,r):void 0;return{mergedTheme:v,mergedClearable:p,patternInputFocused:d,filterablePlaceholder:g,label:m,selected:y,showTagsPanel:f,isCompositing:F,counterRef:s,counterWrapperRef:l,patternInputMirrorRef:t,patternInputRef:e,selfRef:n,multipleElRef:i,singleElRef:a,patternInputWrapperRef:o,overflowRef:u,inputTagElRef:c,handleMouseDown:N,handleFocusin:I,handleClear:O,handleMouseEnter:B,handleMouseLeave:U,handleDeleteOption:G,handlePatternKeyDown:L,handlePatternInputInput:H,handlePatternInputBlur:Q,handlePatternInputFocus:ee,handleMouseEnterCounter:X,handleMouseLeaveCounter:ae,handleFocusout:D,handleCompositionEnd:ie,handleCompositionStart:K,onPopoverUpdateShow:ue,focus:fe,focusInput:he,blur:be,blurInput:Ee,updateCounter:He,getCounter:nt,getTail:st,renderLabel:r.renderLabel,cssVars:Be?void 0:Ze,themeClass:Le==null?void 0:Le.themeClass,onRender:Le==null?void 0:Le.onRender}},render(){const{status:r,multiple:t,size:e,disabled:n,filterable:i,maxTagCount:a,bordered:o,clsPrefix:s,onRender:l,renderTag:u,renderLabel:c}=this;l==null||l();const f=a==="responsive",d=typeof a=="number",h=f||d,v=R(WX,{clsPrefix:s,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var g,m;return(m=(g=this.$slots).arrow)===null||m===void 0?void 0:m.call(g)}});let p;if(t){const g=T=>R("div",{class:`${s}-base-selection-tag-wrapper`,key:T.value},u?u({option:T,handleClose:()=>this.handleDeleteOption(T)}):R(vI,{size:e,closable:!T.disabled,disabled:n,internalStopClickPropagation:!0,onClose:()=>this.handleDeleteOption(T)},{default:()=>c?c(T,!0):Ti(T.label,T,!0)})),m=(d?this.selectedOptions.slice(0,a):this.selectedOptions).map(g),y=i?R("div",{class:`${s}-base-selection-input-tag`,ref:"inputTagElRef",key:"__input-tag__"},R("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:n,value:this.pattern,autofocus:this.autofocus,class:`${s}-base-selection-input-tag__input`,onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),R("span",{ref:"patternInputMirrorRef",class:`${s}-base-selection-input-tag__mirror`},this.pattern)):null,b=f?()=>R("div",{class:`${s}-base-selection-tag-wrapper`,ref:"counterWrapperRef"},R(vI,{size:e,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:n})):void 0;let w;if(d){const T=this.selectedOptions.length-a;T>0&&(w=R("div",{class:`${s}-base-selection-tag-wrapper`,key:"__counter__"},R(vI,{size:e,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:n},{default:()=>`+${T}`})))}const S=f?i?R(xz,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:()=>m,counter:b,tail:()=>y}):R(xz,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:()=>m,counter:b}):d?m.concat(w):m,E=h?()=>R("div",{class:`${s}-base-selection-popover`},f?m:this.selectedOptions.map(g)):void 0,_=h?{show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover}:null,k=(this.selected?!1:this.active?!this.pattern&&!this.isCompositing:!0)?R("div",{class:`${s}-base-selection-placeholder ${s}-base-selection-overlay`},this.placeholder):null;if(i){const T=R("div",{ref:"patternInputWrapperRef",class:`${s}-base-selection-tags`},S,f?null:y,v);p=R(qi,null,h?R(iw,Object.assign({},_),{trigger:()=>T,default:E}):T,k)}else{const T=R("div",{ref:"multipleElRef",class:`${s}-base-selection-tags`,tabindex:n?void 0:0},S,v);p=R(qi,null,h?R(iw,Object.assign({},_),{trigger:()=>T,default:E}):T,k)}}else if(i){const g=this.pattern||this.isCompositing,m=this.active?!g:!this.selected,y=this.active?!1:this.selected;p=R("div",{ref:"patternInputWrapperRef",class:`${s}-base-selection-label`},R("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:`${s}-base-selection-input`,value:this.active?this.pattern:"",placeholder:"",readonly:n,disabled:n,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),y?R("div",{class:`${s}-base-selection-label__render-label ${s}-base-selection-overlay`,key:"input"},R("div",{class:`${s}-base-selection-overlay__wrapper`},u?u({option:this.selectedOption,handleClose:()=>{}}):c?c(this.selectedOption,!0):Ti(this.label,this.selectedOption,!0))):null,m?R("div",{class:`${s}-base-selection-placeholder ${s}-base-selection-overlay`,key:"placeholder"},R("div",{class:`${s}-base-selection-overlay__wrapper`},this.filterablePlaceholder)):null,v)}else p=R("div",{ref:"singleElRef",class:`${s}-base-selection-label`,tabindex:this.disabled?void 0:0},this.label!==void 0?R("div",{class:`${s}-base-selection-input`,title:Che(this.label),key:"input"},R("div",{class:`${s}-base-selection-input__content`},u?u({option:this.selectedOption,handleClose:()=>{}}):c?c(this.selectedOption,!0):Ti(this.label,this.selectedOption,!0))):R("div",{class:`${s}-base-selection-placeholder ${s}-base-selection-overlay`,key:"placeholder"},this.placeholder),v);return R("div",{ref:"selfRef",class:[`${s}-base-selection`,this.themeClass,r&&`${s}-base-selection--${r}-status`,{[`${s}-base-selection--active`]:this.active,[`${s}-base-selection--selected`]:this.selected||this.active&&this.pattern,[`${s}-base-selection--disabled`]:this.disabled,[`${s}-base-selection--multiple`]:this.multiple,[`${s}-base-selection--focus`]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeyup:this.onKeyup,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},p,o?R("div",{class:`${s}-base-selection__border`}):null,o?R("div",{class:`${s}-base-selection__state-border`}):null)}});const{cubicBezierEaseInOut:kh}=Pv;function gxe({duration:r=".2s",delay:t=".1s"}={}){return[ke("&.fade-in-width-expand-transition-leave-from, &.fade-in-width-expand-transition-enter-to",{opacity:1}),ke("&.fade-in-width-expand-transition-leave-to, &.fade-in-width-expand-transition-enter-from",`
 opacity: 0!important;
 margin-left: 0!important;
 margin-right: 0!important;
 `),ke("&.fade-in-width-expand-transition-leave-active",`
 overflow: hidden;
 transition:
 opacity ${r} ${kh},
 max-width ${r} ${kh} ${t},
 margin-left ${r} ${kh} ${t},
 margin-right ${r} ${kh} ${t};
 `),ke("&.fade-in-width-expand-transition-enter-active",`
 overflow: hidden;
 transition:
 opacity ${r} ${kh} ${t},
 max-width ${r} ${kh},
 margin-left ${r} ${kh},
 margin-right ${r} ${kh};
 `)]}const{cubicBezierEaseInOut:Tc,cubicBezierEaseOut:mxe,cubicBezierEaseIn:yxe}=Pv;function E_({overflow:r="hidden",duration:t=".3s",originalTransition:e="",leavingDelay:n="0s",foldPadding:i=!1,enterToProps:a=void 0,leaveToProps:o=void 0,reverse:s=!1}={}){const l=s?"leave":"enter",u=s?"enter":"leave";return[ke(`&.fade-in-height-expand-transition-${u}-from,
 &.fade-in-height-expand-transition-${l}-to`,Object.assign(Object.assign({},a),{opacity:1})),ke(`&.fade-in-height-expand-transition-${u}-to,
 &.fade-in-height-expand-transition-${l}-from`,Object.assign(Object.assign({},o),{opacity:0,marginTop:"0 !important",marginBottom:"0 !important",paddingTop:i?"0 !important":void 0,paddingBottom:i?"0 !important":void 0})),ke(`&.fade-in-height-expand-transition-${u}-active`,`
 overflow: ${r};
 transition:
 max-height ${t} ${Tc} ${n},
 opacity ${t} ${mxe} ${n},
 margin-top ${t} ${Tc} ${n},
 margin-bottom ${t} ${Tc} ${n},
 padding-top ${t} ${Tc} ${n},
 padding-bottom ${t} ${Tc} ${n}
 ${e?","+e:""}
 `),ke(`&.fade-in-height-expand-transition-${l}-active`,`
 overflow: ${r};
 transition:
 max-height ${t} ${Tc},
 opacity ${t} ${yxe},
 margin-top ${t} ${Tc},
 margin-bottom ${t} ${Tc},
 padding-top ${t} ${Tc},
 padding-bottom ${t} ${Tc}
 ${e?","+e:""}
 `)]}function bxe(r){return cA(r)?r.name||r.key||"key-required":r.value}function cA(r){return r.type==="group"}function YX(r){return r.type==="ignored"}const xxe={getKey:bxe,getIsGroup:cA,getIgnored:YX};function kz(r,t){try{return!!(1+t.toString().toLowerCase().indexOf(r.trim().toLowerCase()))}catch{return!1}}function wxe(r,t,e){if(!t)return r;function n(i){if(!Array.isArray(i))return[];const a=[];for(const o of i)if(cA(o)){const s=n(o.children);s.length&&a.push(Object.assign({},o,{children:s}))}else{if(YX(o))continue;t(e,o)&&a.push(o)}return a}return n(r)}function Sxe(r){const t=new Map;return r.forEach(e=>{cA(e)?e.children.forEach(n=>{t.set(n.value,n)}):t.set(e.value,e)}),t}function Cxe(r,t){return t?typeof t.label=="string"?kz(r,t.label):t.value!==void 0?kz(r,String(t.value)):!1:!1}var Exe={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"};const _xe=r=>{const{textColor2:t,textColor3:e,textColorDisabled:n,primaryColor:i,primaryColorHover:a,inputColor:o,inputColorDisabled:s,borderColor:l,warningColor:u,warningColorHover:c,errorColor:f,errorColorHover:d,borderRadius:h,lineHeight:v,fontSizeTiny:p,fontSizeSmall:g,fontSizeMedium:m,fontSizeLarge:y,heightTiny:b,heightSmall:w,heightMedium:S,heightLarge:E,actionColor:_,clearColor:A,clearColorHover:k,clearColorPressed:T,placeholderColor:I,placeholderColorDisabled:D,iconColor:O,iconColorDisabled:B,iconColorHover:U,iconColorPressed:N}=r;return Object.assign(Object.assign({},Exe),{countTextColor:e,heightTiny:b,heightSmall:w,heightMedium:S,heightLarge:E,fontSizeTiny:p,fontSizeSmall:g,fontSizeMedium:m,fontSizeLarge:y,lineHeight:v,lineHeightTextarea:v,borderRadius:h,iconSize:"16px",groupLabelColor:_,groupLabelTextColor:t,textColor:t,textColorDisabled:n,textDecorationColor:t,caretColor:i,placeholderColor:I,placeholderColorDisabled:D,color:o,colorDisabled:s,colorFocus:o,groupLabelBorder:`1px solid ${l}`,border:`1px solid ${l}`,borderHover:`1px solid ${a}`,borderDisabled:`1px solid ${l}`,borderFocus:`1px solid ${a}`,boxShadowFocus:`0 0 0 2px ${_n(i,{alpha:.2})}`,loadingColor:i,loadingColorWarning:u,borderWarning:`1px solid ${u}`,borderHoverWarning:`1px solid ${c}`,colorFocusWarning:o,borderFocusWarning:`1px solid ${c}`,boxShadowFocusWarning:`0 0 0 2px ${_n(u,{alpha:.2})}`,caretColorWarning:u,loadingColorError:f,borderError:`1px solid ${f}`,borderHoverError:`1px solid ${d}`,colorFocusError:o,borderFocusError:`1px solid ${d}`,boxShadowFocusError:`0 0 0 2px ${_n(f,{alpha:.2})}`,caretColorError:f,clearColor:A,clearColorHover:k,clearColorPressed:T,iconColor:O,iconColorDisabled:B,iconColorHover:U,iconColorPressed:N,suffixTextColor:t})},Txe={name:"Input",common:ci,self:_xe};var fA=Txe;const XX="n-input";function Axe(r){let t=0;for(const e of r)t++;return t}function QC(r){return["",void 0,null].includes(r)}var Mz=It({name:"InputWordCount",setup(r,{slots:t}){const{mergedValueRef:e,maxlengthRef:n,mergedClsPrefixRef:i}=Sr(XX),a=re(()=>{const{value:o}=e;return o===null||Array.isArray(o)?0:Axe(o)});return()=>{const{value:o}=n,{value:s}=e;return R("span",{class:`${i.value}-input-word-count`},_he(t.default,{value:s===null||Array.isArray(s)?"":s},()=>[o===void 0?a.value:`${a.value} / ${o}`]))}}}),kxe=le("input",`
 max-width: 100%;
 cursor: text;
 line-height: 1.5;
 z-index: auto;
 outline: none;
 box-sizing: border-box;
 position: relative;
 display: inline-flex;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 --n-padding-vertical: calc((var(--n-height) - 1.5 * var(--n-font-size)) / 2);
`,[Ae("input, textarea",`
 overflow: hidden;
 flex-grow: 1;
 position: relative;
 `),Ae("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder",`
 box-sizing: border-box;
 font-size: inherit;
 line-height: 1.5;
 font-family: inherit;
 border: none;
 outline: none;
 background-color: #0000;
 text-align: inherit;
 transition:
 caret-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 `),Ae("input-el, textarea-el",`
 -webkit-appearance: none;
 scrollbar-width: none;
 width: 100%;
 min-width: 0;
 text-decoration-color: var(--n-text-decoration-color);
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 background-color: transparent;
 `,[ke("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),ke("&::placeholder","color: #0000;"),ke("&:-webkit-autofill ~",[Ae("placeholder","display: none;")])]),Ge("round",[Nn("textarea","border-radius: calc(var(--n-height) / 2);")]),Ae("placeholder",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: hidden;
 color: var(--n-placeholder-color);
 `,[ke("span",`
 width: 100%;
 display: inline-block;
 `)]),Ge("textarea",[Ae("placeholder","overflow: visible;")]),Nn("autosize","width: 100%;"),Ge("autosize",[Ae("textarea-el, input-el",`
 position: absolute;
 top: 0;
 left: 0;
 height: 100%;
 `)]),le("input-wrapper",`
 overflow: hidden;
 display: inline-flex;
 flex-grow: 1;
 position: relative;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 `),Ae("input-mirror",`
 padding: 0;
 height: var(--n-height);
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: nowrap;
 pointer-events: none;
 `),Ae("input-el",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[ke("+",[Ae("placeholder",`
 display: flex;
 align-items: center; 
 `)])]),Nn("textarea",[Ae("placeholder","white-space: nowrap;")]),Ae("eye",`
 transition: color .3s var(--n-bezier);
 `),Ge("textarea","width: 100%;",[le("input-word-count",`
 position: absolute;
 right: var(--n-padding-right);
 bottom: var(--n-padding-vertical);
 `),Ge("resizable",[le("input-wrapper",`
 resize: vertical;
 min-height: var(--n-height);
 `)]),Ae("textarea",`
 position: static;
 `),Ae("textarea-el, textarea-mirror, placeholder",`
 height: 100%;
 left: var(--n-padding-left);
 right: var(--n-padding-right);
 padding-left: 0;
 padding-right: 0;
 padding-top: var(--n-padding-vertical);
 padding-bottom: var(--n-padding-vertical);
 word-break: break-word;
 display: inline-block;
 vertical-align: bottom;
 box-sizing: border-box;
 line-height: var(--n-line-height-textarea);
 margin: 0;
 resize: none;
 white-space: pre-wrap;
 `),Ae("textarea-mirror",`
 pointer-events: none;
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre-wrap;
 overflow-wrap: break-word;
 `)]),Ge("pair",[Ae("input-el, placeholder","text-align: center;"),Ae("separator",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `,[le("icon",`
 color: var(--n-icon-color);
 `),le("base-icon",`
 color: var(--n-icon-color);
 `)])]),Ge("disabled",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[Ae("border","border: var(--n-border-disabled);"),Ae("input-el, textarea-el",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 text-decoration-color: var(--n-text-color-disabled);
 `),Ae("placeholder","color: var(--n-placeholder-color-disabled);"),Ae("separator","color: var(--n-text-color-disabled);",[le("icon",`
 color: var(--n-icon-color-disabled);
 `),le("base-icon",`
 color: var(--n-icon-color-disabled);
 `)]),Ae("suffix, prefix","color: var(--n-text-color-disabled);",[le("icon",`
 color: var(--n-icon-color-disabled);
 `),le("internal-icon",`
 color: var(--n-icon-color-disabled);
 `)])]),Nn("disabled",[Ae("eye",`
 color: var(--n-icon-color);
 cursor: pointer;
 `,[ke("&:hover",`
 color: var(--n-icon-color-hover);
 `),ke("&:active",`
 color: var(--n-icon-color-pressed);
 `)]),ke("&:hover",[Ae("state-border","border: var(--n-border-hover);")]),Ge("focus","background-color: var(--n-color-focus);",[Ae("state-border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),Ae("border, state-border",`
 box-sizing: border-box;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: inherit;
 border: var(--n-border);
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),Ae("state-border",`
 border-color: #0000;
 z-index: 1;
 `),Ae("prefix","margin-right: 4px;"),Ae("suffix",`
 margin-left: 4px;
 `),Ae("suffix, prefix",`
 transition: color .3s var(--n-bezier);
 flex-wrap: nowrap;
 flex-shrink: 0;
 line-height: var(--n-height);
 white-space: nowrap;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--n-suffix-text-color);
 `,[le("base-loading",`
 font-size: var(--n-icon-size);
 margin: 0 2px;
 color: var(--n-loading-color);
 `),le("base-clear",`
 font-size: var(--n-icon-size);
 `,[Ae("placeholder",[le("base-icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)])]),le("icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `),le("base-icon",`
 font-size: var(--n-icon-size);
 `)]),le("input-word-count",`
 pointer-events: none;
 line-height: 1.5;
 font-size: .85em;
 color: var(--n-count-text-color);
 transition: color .3s var(--n-bezier);
 margin-left: 4px;
 font-variant: tabular-nums;
 `),["warning","error"].map(r=>Ge(`${r}-status`,[Nn("disabled",[le("base-loading",`
 color: var(--n-loading-color-${r})
 `),Ae("input-el, textarea-el",`
 caret-color: var(--n-caret-color-${r});
 `),Ae("state-border",`
 border: var(--n-border-${r});
 `),ke("&:hover",[Ae("state-border",`
 border: var(--n-border-hover-${r});
 `)]),ke("&:focus",`
 background-color: var(--n-color-focus-${r});
 `,[Ae("state-border",`
 box-shadow: var(--n-box-shadow-focus-${r});
 border: var(--n-border-focus-${r});
 `)]),Ge("focus",`
 background-color: var(--n-color-focus-${r});
 `,[Ae("state-border",`
 box-shadow: var(--n-box-shadow-focus-${r});
 border: var(--n-border-focus-${r});
 `)])])]))]);const Mxe=Object.assign(Object.assign({},wr.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},onMousedown:Function,onKeydown:Function,onKeyup:Function,onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,internalLoadingBeforeSuffix:Boolean,showPasswordToggle:Boolean});var Eg=It({name:"Input",props:Mxe,setup(r){const{mergedClsPrefixRef:t,mergedBorderedRef:e,inlineThemeDisabled:n}=Bn(r),i=wr("Input","-input",kxe,fA,r,t),a=Re(null),o=Re(null),s=Re(null),l=Re(null),u=Re(null),c=Re(null),f=Re(null),{localeRef:d}=Bd("Input"),h=Re(r.defaultValue),v=tr(r,"value"),p=zi(v,h),g=ic(r),{mergedSizeRef:m,mergedDisabledRef:y,mergedStatusRef:b}=g,w=Re(!1),S=Re(!1),E=Re(!1),_=Re(!1);let A=null;const k=re(()=>{const{placeholder:ze,pair:_e}=r;return _e?Array.isArray(ze)?ze:ze===void 0?["",""]:[ze,ze]:ze===void 0?[d.value.placeholder]:[ze]}),T=re(()=>{const{value:ze}=E,{value:_e}=p,{value:Ke}=k;return!ze&&(QC(_e)||Array.isArray(_e)&&QC(_e[0]))&&Ke[0]}),I=re(()=>{const{value:ze}=E,{value:_e}=p,{value:Ke}=k;return!ze&&Ke[1]&&(QC(_e)||Array.isArray(_e)&&QC(_e[1]))}),D=Kn(()=>r.internalForceFocus||w.value),O=Kn(()=>{if(y.value||r.readonly||!r.clearable||!D.value&&!S.value)return!1;const{value:ze}=p,{value:_e}=D;return r.pair?!!(Array.isArray(ze)&&(ze[0]||ze[1]))&&(S.value||_e):!!ze&&(S.value||_e)}),B=re(()=>{const{showPasswordOn:ze}=r;if(ze)return ze;if(r.showPasswordToggle)return"click"}),U=Re(!1),N=re(()=>{const{textDecoration:ze}=r;return ze?Array.isArray(ze)?ze.map(_e=>({textDecoration:_e})):[{textDecoration:ze}]:["",""]}),G=()=>{if(r.type==="textarea"){const{autosize:ze}=r;if(typeof ze=="boolean"||!o.value)return;const{paddingTop:_e,paddingBottom:Ke,lineHeight:Ot}=window.getComputedStyle(o.value),Nt=Number(_e.slice(0,-2)),fr=Number(Ke.slice(0,-2)),sn=Number(Ot.slice(0,-2)),{value:en}=s;if(!en)return;if(ze.minRows){const Zr=Math.max(ze.minRows,1),Wn=`${Nt+fr+sn*Zr}px`;en.style.minHeight=Wn}if(ze.maxRows){const Zr=`${Nt+fr+sn*ze.maxRows}px`;en.style.maxHeight=Zr}}},L=re(()=>{const{maxlength:ze}=r;return ze===void 0?void 0:Number(ze)});Io(()=>{const{value:ze}=p;Array.isArray(ze)||mt(ze)});const F=B0().proxy;function W(ze){const{onUpdateValue:_e,"onUpdate:value":Ke,onInput:Ot}=r,{nTriggerFormInput:Nt}=g;_e&&Tt(_e,ze),Ke&&Tt(Ke,ze),Ot&&Tt(Ot,ze),h.value=ze,Nt()}function H(ze){const{onChange:_e}=r,{nTriggerFormChange:Ke}=g;_e&&Tt(_e,ze),h.value=ze,Ke()}function K(ze){const{onBlur:_e}=r,{nTriggerFormBlur:Ke}=g;_e&&Tt(_e,ze),Ke()}function ie(ze){const{onFocus:_e}=r,{nTriggerFormFocus:Ke}=g;_e&&Tt(_e,ze),Ke()}function ee(ze){const{onClear:_e}=r;_e&&Tt(_e,ze)}function Q(ze){const{onInputBlur:_e}=r;_e&&Tt(_e,ze)}function be(ze){const{onInputFocus:_e}=r;_e&&Tt(_e,ze)}function fe(){const{onDeactivate:ze}=r;ze&&Tt(ze)}function he(){const{onActivate:ze}=r;ze&&Tt(ze)}function Ee(ze){const{onClick:_e}=r;_e&&Tt(_e,ze)}function He(ze){const{onWrapperFocus:_e}=r;_e&&Tt(_e,ze)}function nt(ze){const{onWrapperBlur:_e}=r;_e&&Tt(_e,ze)}function st(){E.value=!0}function z(ze){E.value=!1,ze.target===c.value?j(ze,1):j(ze,0)}function j(ze,_e=0,Ke="input"){const Ot=ze.target.value;if(mt(Ot),r.type==="textarea"){const{value:fr}=f;fr&&fr.syncUnifiedContainer()}if(A=Ot,E.value)return;const Nt=Ot;if(!r.pair)Ke==="input"?W(Nt):H(Nt);else{let{value:fr}=p;Array.isArray(fr)?fr=[...fr]:fr=["",""],fr[_e]=Nt,Ke==="input"?W(fr):H(fr)}F.$forceUpdate()}function X(ze){Q(ze),ze.relatedTarget===a.value&&fe(),ze.relatedTarget!==null&&(ze.relatedTarget===u.value||ze.relatedTarget===c.value||ze.relatedTarget===o.value)||(_.value=!1),Ze(ze,"blur")}function ae(ze){be(ze),w.value=!0,_.value=!0,he(),Ze(ze,"focus")}function ue(ze){r.passivelyActivated&&(nt(ze),Ze(ze,"blur"))}function Be(ze){r.passivelyActivated&&(w.value=!0,He(ze),Ze(ze,"focus"))}function Ze(ze,_e){ze.relatedTarget!==null&&(ze.relatedTarget===u.value||ze.relatedTarget===c.value||ze.relatedTarget===o.value||ze.relatedTarget===a.value)||(_e==="focus"?(ie(ze),w.value=!0):_e==="blur"&&(K(ze),w.value=!1))}function Le(ze,_e){j(ze,_e,"change")}function se(ze){Ee(ze)}function Se(ze){ee(ze),r.pair?(W(["",""]),H(["",""])):(W(""),H(""))}function Y(ze){const{onMousedown:_e}=r;_e&&_e(ze);const{tagName:Ke}=ze.target;if(Ke!=="INPUT"&&Ke!=="TEXTAREA"){if(r.resizable){const{value:Ot}=a;if(Ot){const{left:Nt,top:fr,width:sn,height:en}=Ot.getBoundingClientRect(),Zr=14;if(Nt+sn-Zr<ze.clientX&&ze.clientY<Nt+sn&&fr+en-Zr<ze.clientY&&ze.clientY<fr+en)return}}ze.preventDefault(),w.value||We()}}function ve(){var ze;S.value=!0,r.type==="textarea"&&((ze=f.value)===null||ze===void 0||ze.handleMouseEnterWrapper())}function ce(){var ze;S.value=!1,r.type==="textarea"&&((ze=f.value)===null||ze===void 0||ze.handleMouseLeaveWrapper())}function de(){y.value||B.value==="click"&&(U.value=!U.value)}function Fe(ze){if(y.value)return;ze.preventDefault();const _e=Ot=>{Ot.preventDefault(),Ki("mouseup",document,_e)};if(xa("mouseup",document,_e),B.value!=="mousedown")return;U.value=!0;const Ke=()=>{U.value=!1,Ki("mouseup",document,Ke)};xa("mouseup",document,Ke)}function Ue(ze){var _e;switch((_e=r.onKeydown)===null||_e===void 0||_e.call(r,ze),ze.code){case"Escape":ut();break;case"Enter":case"NumpadEnter":lt(ze);break}}function lt(ze){var _e,Ke;if(r.passivelyActivated){const{value:Ot}=_;if(Ot){r.internalDeactivateOnEnter&&ut();return}ze.preventDefault(),r.type==="textarea"?(_e=o.value)===null||_e===void 0||_e.focus():(Ke=u.value)===null||Ke===void 0||Ke.focus()}}function ut(){r.passivelyActivated&&(_.value=!1,Ja(()=>{var ze;(ze=a.value)===null||ze===void 0||ze.focus()}))}function We(){var ze,_e,Ke;y.value||(r.passivelyActivated?(ze=a.value)===null||ze===void 0||ze.focus():((_e=o.value)===null||_e===void 0||_e.focus(),(Ke=u.value)===null||Ke===void 0||Ke.focus()))}function J(){var ze;((ze=a.value)===null||ze===void 0?void 0:ze.contains(document.activeElement))&&document.activeElement.blur()}function Pe(){var ze,_e;(ze=o.value)===null||ze===void 0||ze.select(),(_e=u.value)===null||_e===void 0||_e.select()}function Ce(){y.value||(o.value?o.value.focus():u.value&&u.value.focus())}function ct(){const{value:ze}=a;(ze==null?void 0:ze.contains(document.activeElement))&&ze!==document.activeElement&&ut()}function mt(ze){const{type:_e,pair:Ke,autosize:Ot}=r;if(!Ke&&Ot)if(_e==="textarea"){const{value:Nt}=s;Nt&&(Nt.textContent=(ze!=null?ze:"")+`\r
`)}else{const{value:Nt}=l;Nt&&(ze?Nt.textContent=ze:Nt.innerHTML="&nbsp;")}}function Me(){G()}const ht=Re({top:"0"});function ar(ze){var _e;const{scrollTop:Ke}=ze.target;ht.value.top=`${-Ke}px`,(_e=f.value)===null||_e===void 0||_e.syncUnifiedContainer()}let Ht=null;Go(()=>{const{autosize:ze,type:_e}=r;ze&&_e==="textarea"?Ht=hn(p,Ke=>{!Array.isArray(Ke)&&Ke!==A&&mt(Ke)}):Ht==null||Ht()});let Er=null;Go(()=>{r.type==="textarea"?Er=hn(p,ze=>{var _e;!Array.isArray(ze)&&ze!==A&&((_e=f.value)===null||_e===void 0||_e.syncUnifiedContainer())}):Er==null||Er()}),Tn(XX,{mergedValueRef:p,maxlengthRef:L,mergedClsPrefixRef:t});const it={wrapperElRef:a,inputElRef:u,textareaElRef:o,isCompositing:E,focus:We,blur:J,select:Pe,deactivate:ct,activate:Ce},At=re(()=>{const{value:ze}=m,{common:{cubicBezierEaseInOut:_e},self:{color:Ke,borderRadius:Ot,textColor:Nt,caretColor:fr,caretColorError:sn,caretColorWarning:en,textDecorationColor:Zr,border:Wn,borderDisabled:gn,borderHover:Pr,borderFocus:vn,placeholderColor:Lr,placeholderColorDisabled:Dn,lineHeightTextarea:Xr,colorDisabled:fi,colorFocus:Ui,textColorDisabled:Va,boxShadowFocus:fo,iconSize:ho,colorFocusWarning:Po,boxShadowFocusWarning:ku,borderWarning:sc,borderFocusWarning:Xl,borderHoverWarning:pf,colorFocusError:ql,boxShadowFocusError:Kl,borderError:qo,borderFocusError:Zl,borderHoverError:oi,clearSize:to,clearColor:Qi,clearColorHover:hs,clearColorPressed:gl,iconColor:Yd,iconColorDisabled:Xd,suffixTextColor:lc,countTextColor:gf,iconColorHover:mf,iconColorPressed:uc,loadingColor:qd,loadingColorError:Bv,loadingColorWarning:Kd,[lr("padding",ze)]:lm,[lr("fontSize",ze)]:yf,[lr("height",ze)]:Zd}}=i.value,{left:zv,right:bf}=l0(lm);return{"--n-bezier":_e,"--n-count-text-color":gf,"--n-color":Ke,"--n-font-size":yf,"--n-border-radius":Ot,"--n-height":Zd,"--n-padding-left":zv,"--n-padding-right":bf,"--n-text-color":Nt,"--n-caret-color":fr,"--n-text-decoration-color":Zr,"--n-border":Wn,"--n-border-disabled":gn,"--n-border-hover":Pr,"--n-border-focus":vn,"--n-placeholder-color":Lr,"--n-placeholder-color-disabled":Dn,"--n-icon-size":ho,"--n-line-height-textarea":Xr,"--n-color-disabled":fi,"--n-color-focus":Ui,"--n-text-color-disabled":Va,"--n-box-shadow-focus":fo,"--n-loading-color":qd,"--n-caret-color-warning":en,"--n-color-focus-warning":Po,"--n-box-shadow-focus-warning":ku,"--n-border-warning":sc,"--n-border-focus-warning":Xl,"--n-border-hover-warning":pf,"--n-loading-color-warning":Kd,"--n-caret-color-error":sn,"--n-color-focus-error":ql,"--n-box-shadow-focus-error":Kl,"--n-border-error":qo,"--n-border-focus-error":Zl,"--n-border-hover-error":oi,"--n-loading-color-error":Bv,"--n-clear-color":Qi,"--n-clear-size":to,"--n-clear-color-hover":hs,"--n-clear-color-pressed":gl,"--n-icon-color":Yd,"--n-icon-color-hover":mf,"--n-icon-color-pressed":uc,"--n-icon-color-disabled":Xd,"--n-suffix-text-color":lc}}),vr=n?Ea("input",re(()=>{const{value:ze}=m;return ze[0]}),At,r):void 0;return Object.assign(Object.assign({},it),{wrapperElRef:a,inputElRef:u,inputMirrorElRef:l,inputEl2Ref:c,textareaElRef:o,textareaMirrorElRef:s,textareaScrollbarInstRef:f,uncontrolledValue:h,mergedValue:p,passwordVisible:U,mergedPlaceholder:k,showPlaceholder1:T,showPlaceholder2:I,mergedFocus:D,isComposing:E,activated:_,showClearButton:O,mergedSize:m,mergedDisabled:y,textDecorationStyle:N,mergedClsPrefix:t,mergedBordered:e,mergedShowPasswordOn:B,placeholderStyle:ht,mergedStatus:b,handleTextAreaScroll:ar,handleCompositionStart:st,handleCompositionEnd:z,handleInput:j,handleInputBlur:X,handleInputFocus:ae,handleWrapperBlur:ue,handleWrapperFocus:Be,handleMouseEnter:ve,handleMouseLeave:ce,handleMouseDown:Y,handleChange:Le,handleClick:se,handleClear:Se,handlePasswordToggleClick:de,handlePasswordToggleMousedown:Fe,handleWrapperKeyDown:Ue,handleTextAreaMirrorResize:Me,getTextareaScrollContainer:()=>o.value,mergedTheme:i,cssVars:n?void 0:At,themeClass:vr==null?void 0:vr.themeClass,onRender:vr==null?void 0:vr.onRender})},render(){const{mergedClsPrefix:r,mergedStatus:t,themeClass:e,onRender:n,$slots:i}=this;return n==null||n(),R("div",{ref:"wrapperElRef",class:[`${r}-input`,e,t&&`${r}-input--${t}-status`,{[`${r}-input--disabled`]:this.mergedDisabled,[`${r}-input--textarea`]:this.type==="textarea",[`${r}-input--resizable`]:this.resizable&&!this.autosize,[`${r}-input--autosize`]:this.autosize,[`${r}-input--round`]:this.round&&this.type!=="textarea",[`${r}-input--pair`]:this.pair,[`${r}-input--focus`]:this.mergedFocus,[`${r}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.onKeyup,onKeydown:this.handleWrapperKeyDown},R("div",{class:`${r}-input-wrapper`},ba(i.prefix,a=>a&&R("div",{class:`${r}-input__prefix`},a)),this.type==="textarea"?R(ll,{ref:"textareaScrollbarInstRef",class:`${r}-input__textarea`,container:this.getTextareaScrollContainer,triggerDisplayManually:!0,useUnifiedContainer:!0},{default:()=>R(qi,null,R("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:`${r}-input__textarea-el`,autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:this.textDecorationStyle[0],onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onInput:this.handleInput,onChange:this.handleChange,onScroll:this.handleTextAreaScroll})),this.showPlaceholder1?R("div",{class:`${r}-input__placeholder`,style:this.placeholderStyle,key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?R(p0,{onResize:this.handleTextAreaMirrorResize},{default:()=>R("div",{ref:"textareaMirrorElRef",class:`${r}-input__textarea-mirror`,key:"mirror"})}):null)}):R("div",{class:`${r}-input__input`},R("input",Object.assign({type:this.type==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":this.type},this.inputProps,{ref:"inputElRef",class:`${r}-input__input-el`,style:this.textDecorationStyle[0],tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onInput:a=>this.handleInput(a,0),onChange:a=>this.handleChange(a,0)})),this.showPlaceholder1?R("div",{class:`${r}-input__placeholder`},R("span",null,this.mergedPlaceholder[0])):null,this.autosize?R("div",{class:`${r}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"},"\xA0"):null),!this.pair&&ba(i.suffix,a=>a||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0?R("div",{class:`${r}-input__suffix`},[ba(i.clear,o=>(this.clearable||o)&&R(zR,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{default:()=>o})),this.internalLoadingBeforeSuffix?null:a,this.loading!==void 0?R(WX,{clsPrefix:r,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.internalLoadingBeforeSuffix?a:null,this.showCount&&this.type!=="textarea"?R(Mz,null,{default:o=>{var s;return(s=i.count)===null||s===void 0?void 0:s.call(i,o)}}):null,this.mergedShowPasswordOn&&this.type==="password"?R(Hi,{clsPrefix:r,class:`${r}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},{default:()=>this.passwordVisible?R(i0e,null):R(a0e,null)}):null]):null)),this.pair?R("span",{class:`${r}-input__separator`},u0(i.separator,()=>[this.separator])):null,this.pair?R("div",{class:`${r}-input-wrapper`},R("div",{class:`${r}-input__input`},R("input",{ref:"inputEl2Ref",type:this.type,class:`${r}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onInput:a=>this.handleInput(a,1),onChange:a=>this.handleChange(a,1)}),this.showPlaceholder2?R("div",{class:`${r}-input__placeholder`},R("span",null,this.mergedPlaceholder[1])):null),ba(i.suffix,a=>(this.clearable||a)&&R("div",{class:`${r}-input__suffix`},[this.clearable&&R(zR,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{default:()=>{var o;return(o=i.clear)===null||o===void 0?void 0:o.call(i)}}),a]))):null,this.mergedBordered?R("div",{class:`${r}-input__border`}):null,this.mergedBordered?R("div",{class:`${r}-input__state-border`}):null,this.showCount&&this.type==="textarea"?R(Mz,null,{default:a=>{var o;return(o=i.count)===null||o===void 0?void 0:o.call(i,a)}}):null)}});function wp(r){return ua(r,[255,255,255,.16])}function JC(r){return ua(r,[0,0,0,.12])}var Ixe={paddingTiny:"0 6px",paddingSmall:"0 10px",paddingMedium:"0 14px",paddingLarge:"0 18px",paddingRoundTiny:"0 10px",paddingRoundSmall:"0 14px",paddingRoundMedium:"0 18px",paddingRoundLarge:"0 22px",iconMarginTiny:"6px",iconMarginSmall:"6px",iconMarginMedium:"6px",iconMarginLarge:"6px",iconSizeTiny:"14px",iconSizeSmall:"18px",iconSizeMedium:"18px",iconSizeLarge:"20px",rippleDuration:".6s"};const Pxe=r=>{const{heightTiny:t,heightSmall:e,heightMedium:n,heightLarge:i,borderRadius:a,fontSizeTiny:o,fontSizeSmall:s,fontSizeMedium:l,fontSizeLarge:u,opacityDisabled:c,textColor2:f,textColor3:d,primaryColorHover:h,primaryColorPressed:v,borderColor:p,primaryColor:g,baseColor:m,infoColor:y,infoColorHover:b,infoColorPressed:w,successColor:S,successColorHover:E,successColorPressed:_,warningColor:A,warningColorHover:k,warningColorPressed:T,errorColor:I,errorColorHover:D,errorColorPressed:O,fontWeight:B,buttonColor2:U,buttonColor2Hover:N,buttonColor2Pressed:G,fontWeightStrong:L}=r;return Object.assign(Object.assign({},Ixe),{heightTiny:t,heightSmall:e,heightMedium:n,heightLarge:i,borderRadiusTiny:a,borderRadiusSmall:a,borderRadiusMedium:a,borderRadiusLarge:a,fontSizeTiny:o,fontSizeSmall:s,fontSizeMedium:l,fontSizeLarge:u,opacityDisabled:c,colorOpacitySecondary:"0.16",colorOpacitySecondaryHover:"0.22",colorOpacitySecondaryPressed:"0.28",colorSecondary:U,colorSecondaryHover:N,colorSecondaryPressed:G,colorTertiary:U,colorTertiaryHover:N,colorTertiaryPressed:G,colorQuaternary:"#0000",colorQuaternaryHover:N,colorQuaternaryPressed:G,color:"#0000",colorHover:"#0000",colorPressed:"#0000",colorFocus:"#0000",colorDisabled:"#0000",textColor:f,textColorTertiary:d,textColorHover:h,textColorPressed:v,textColorFocus:h,textColorDisabled:f,textColorText:f,textColorTextHover:h,textColorTextPressed:v,textColorTextFocus:h,textColorTextDisabled:f,textColorGhost:f,textColorGhostHover:h,textColorGhostPressed:v,textColorGhostFocus:h,textColorGhostDisabled:f,border:`1px solid ${p}`,borderHover:`1px solid ${h}`,borderPressed:`1px solid ${v}`,borderFocus:`1px solid ${h}`,borderDisabled:`1px solid ${p}`,rippleColor:g,colorPrimary:g,colorHoverPrimary:h,colorPressedPrimary:v,colorFocusPrimary:h,colorDisabledPrimary:g,textColorPrimary:m,textColorHoverPrimary:m,textColorPressedPrimary:m,textColorFocusPrimary:m,textColorDisabledPrimary:m,textColorTextPrimary:g,textColorTextHoverPrimary:h,textColorTextPressedPrimary:v,textColorTextFocusPrimary:h,textColorTextDisabledPrimary:f,textColorGhostPrimary:g,textColorGhostHoverPrimary:h,textColorGhostPressedPrimary:v,textColorGhostFocusPrimary:h,textColorGhostDisabledPrimary:g,borderPrimary:`1px solid ${g}`,borderHoverPrimary:`1px solid ${h}`,borderPressedPrimary:`1px solid ${v}`,borderFocusPrimary:`1px solid ${h}`,borderDisabledPrimary:`1px solid ${g}`,rippleColorPrimary:g,colorInfo:y,colorHoverInfo:b,colorPressedInfo:w,colorFocusInfo:b,colorDisabledInfo:y,textColorInfo:m,textColorHoverInfo:m,textColorPressedInfo:m,textColorFocusInfo:m,textColorDisabledInfo:m,textColorTextInfo:y,textColorTextHoverInfo:b,textColorTextPressedInfo:w,textColorTextFocusInfo:b,textColorTextDisabledInfo:f,textColorGhostInfo:y,textColorGhostHoverInfo:b,textColorGhostPressedInfo:w,textColorGhostFocusInfo:b,textColorGhostDisabledInfo:y,borderInfo:`1px solid ${y}`,borderHoverInfo:`1px solid ${b}`,borderPressedInfo:`1px solid ${w}`,borderFocusInfo:`1px solid ${b}`,borderDisabledInfo:`1px solid ${y}`,rippleColorInfo:y,colorSuccess:S,colorHoverSuccess:E,colorPressedSuccess:_,colorFocusSuccess:E,colorDisabledSuccess:S,textColorSuccess:m,textColorHoverSuccess:m,textColorPressedSuccess:m,textColorFocusSuccess:m,textColorDisabledSuccess:m,textColorTextSuccess:S,textColorTextHoverSuccess:E,textColorTextPressedSuccess:_,textColorTextFocusSuccess:E,textColorTextDisabledSuccess:f,textColorGhostSuccess:S,textColorGhostHoverSuccess:E,textColorGhostPressedSuccess:_,textColorGhostFocusSuccess:E,textColorGhostDisabledSuccess:S,borderSuccess:`1px solid ${S}`,borderHoverSuccess:`1px solid ${E}`,borderPressedSuccess:`1px solid ${_}`,borderFocusSuccess:`1px solid ${E}`,borderDisabledSuccess:`1px solid ${S}`,rippleColorSuccess:S,colorWarning:A,colorHoverWarning:k,colorPressedWarning:T,colorFocusWarning:k,colorDisabledWarning:A,textColorWarning:m,textColorHoverWarning:m,textColorPressedWarning:m,textColorFocusWarning:m,textColorDisabledWarning:m,textColorTextWarning:A,textColorTextHoverWarning:k,textColorTextPressedWarning:T,textColorTextFocusWarning:k,textColorTextDisabledWarning:f,textColorGhostWarning:A,textColorGhostHoverWarning:k,textColorGhostPressedWarning:T,textColorGhostFocusWarning:k,textColorGhostDisabledWarning:A,borderWarning:`1px solid ${A}`,borderHoverWarning:`1px solid ${k}`,borderPressedWarning:`1px solid ${T}`,borderFocusWarning:`1px solid ${k}`,borderDisabledWarning:`1px solid ${A}`,rippleColorWarning:A,colorError:I,colorHoverError:D,colorPressedError:O,colorFocusError:D,colorDisabledError:I,textColorError:m,textColorHoverError:m,textColorPressedError:m,textColorFocusError:m,textColorDisabledError:m,textColorTextError:I,textColorTextHoverError:D,textColorTextPressedError:O,textColorTextFocusError:D,textColorTextDisabledError:f,textColorGhostError:I,textColorGhostHoverError:D,textColorGhostPressedError:O,textColorGhostFocusError:D,textColorGhostDisabledError:I,borderError:`1px solid ${I}`,borderHoverError:`1px solid ${D}`,borderPressedError:`1px solid ${O}`,borderFocusError:`1px solid ${D}`,borderDisabledError:`1px solid ${I}`,rippleColorError:I,waveOpacity:"0.6",fontWeight:B,fontWeightStrong:L})},Rxe={name:"Button",common:ci,self:Pxe};var Qw=Rxe;const Ma="0!important",qX="-1px!important";function Qm(r){return Ge(r+"-type",[ke("& +",[le("button",{},[Ge(r+"-type",[Ae("border",{borderLeftWidth:Ma}),Ae("state-border",{left:qX})])])])])}function Jm(r){return Ge(r+"-type",[ke("& +",[le("button",[Ge(r+"-type",[Ae("border",{borderTopWidth:Ma}),Ae("state-border",{top:qX})])])])])}var Dxe=le("button-group",`
 flex-wrap: nowrap;
 display: inline-flex;
 position: relative;
`,[Nn("vertical",{flexDirection:"row"},[le("button",[ke("&:first-child:not(:last-child)",`
 margin-right: ${Ma};
 border-top-right-radius: ${Ma};
 border-bottom-right-radius: ${Ma};
 `),ke("&:last-child:not(:first-child)",`
 margin-left: ${Ma};
 border-top-left-radius: ${Ma};
 border-bottom-left-radius: ${Ma};
 `),ke("&:not(:first-child):not(:last-child)",`
 margin-left: ${Ma};
 margin-right: ${Ma};
 border-radius: ${Ma};
 `),Qm("default"),Ge("ghost",[Qm("primary"),Qm("info"),Qm("success"),Qm("warning"),Qm("error")])])]),Ge("vertical",{flexDirection:"column"},[le("button",[ke("&:first-child:not(:last-child)",`
 margin-bottom: ${Ma};
 margin-left: ${Ma};
 margin-right: ${Ma};
 border-bottom-left-radius: ${Ma};
 border-bottom-right-radius: ${Ma};
 `),ke("&:last-child:not(:first-child)",`
 margin-top: ${Ma};
 margin-left: ${Ma};
 margin-right: ${Ma};
 border-top-left-radius: ${Ma};
 border-top-right-radius: ${Ma};
 `),ke("&:not(:first-child):not(:last-child)",`
 margin: ${Ma};
 border-radius: ${Ma};
 `),Jm("default"),Ge("ghost",[Jm("primary"),Jm("info"),Jm("success"),Jm("warning"),Jm("error")])])])]);const KX="n-button-group",Oxe={size:{type:String,default:void 0},vertical:Boolean};It({name:"ButtonGroup",props:Oxe,setup(r){const{mergedClsPrefixRef:t}=Bn(r);return W0("-button-group",Dxe,t),Tn(KX,r),{mergedClsPrefix:t}},render(){const{mergedClsPrefix:r}=this;return R("div",{class:[`${r}-button-group`,this.vertical&&`${r}-button-group--vertical`],role:"group"},this.$slots)}});var Lxe=ke([le("button",`
 margin: 0;
 font-weight: var(--n-font-weight);
 line-height: 1;
 font-family: inherit;
 padding: var(--n-padding);
 height: var(--n-height);
 font-size: var(--n-font-size);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 width: var(--n-width);
 white-space: nowrap;
 outline: none;
 position: relative;
 z-index: auto;
 border: none;
 display: inline-flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 align-items: center;
 justify-content: center;
 user-select: none;
 text-align: center;
 cursor: pointer;
 text-decoration: none;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[Ge("color",[Ae("border",{borderColor:"var(--n-border-color)"}),Ge("disabled",[Ae("border",{borderColor:"var(--n-border-color-disabled)"})]),Nn("disabled",[ke("&:focus",[Ae("state-border",{borderColor:"var(--n-border-color-focus)"})]),ke("&:hover",[Ae("state-border",{borderColor:"var(--n-border-color-hover)"})]),ke("&:active",[Ae("state-border",{borderColor:"var(--n-border-color-pressed)"})]),Ge("pressed",[Ae("state-border",{borderColor:"var(--n-border-color-pressed)"})])])]),Ge("disabled",{backgroundColor:"var(--n-color-disabled)",color:"var(--n-text-color-disabled)"},[Ae("border",{border:"var(--n-border-disabled)"})]),Nn("disabled",[ke("&:focus",{backgroundColor:"var(--n-color-focus)",color:"var(--n-text-color-focus)"},[Ae("state-border",{border:"var(--n-border-focus)"})]),ke("&:hover",{backgroundColor:"var(--n-color-hover)",color:"var(--n-text-color-hover)"},[Ae("state-border",{border:"var(--n-border-hover)"})]),ke("&:active",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[Ae("state-border",{border:"var(--n-border-pressed)"})]),Ge("pressed",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[Ae("state-border",{border:"var(--n-border-pressed)"})])]),Ge("loading",{"pointer-events":"none"}),le("base-wave",`
 pointer-events: none;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 animation-iteration-count: 1;
 animation-duration: var(--n-ripple-duration);
 animation-timing-function: var(--n-bezier-ease-out), var(--n-bezier-ease-out);
 `,[Ge("active",{zIndex:1,animationName:"button-wave-spread, button-wave-opacity"})]),typeof window!="undefined"&&"MozBoxSizing"in document.createElement("div").style?ke("&::moz-focus-inner",{border:0}):null,Ae("border, state-border",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 border-radius: inherit;
 transition: border-color .3s var(--n-bezier);
 pointer-events: none;
 `),Ae("border",{border:"var(--n-border)"}),Ae("state-border",{border:"var(--n-border)",borderColor:"#0000",zIndex:1}),Ae("icon",`
 margin: var(--n-icon-margin);
 margin-left: 0;
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 max-width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 position: relative;
 flex-shrink: 0;
 `,[le("icon-slot",`
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 display: flex;
 `,[Md({top:"50%",originalTransform:"translateY(-50%)"})]),gxe()]),Ae("content",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 `,[ke("~",[Ae("icon",{margin:"var(--n-icon-margin)",marginRight:0})])]),Ge("block",`
 display: flex;
 width: 100%;
 `),Ge("dashed",[Ae("border, state-border",{borderStyle:"dashed !important"})]),Ge("disabled",{cursor:"not-allowed",opacity:"var(--n-opacity-disabled)"})]),ke("@keyframes button-wave-spread",{from:{boxShadow:"0 0 0.5px 0 var(--n-ripple-color)"},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)"}}),ke("@keyframes button-wave-opacity",{from:{opacity:"var(--n-wave-opacity)"},to:{opacity:0}})]);const Fxe=Object.assign(Object.assign({},wr.props),{color:String,textColor:String,text:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,circle:Boolean,size:String,ghost:Boolean,round:Boolean,secondary:Boolean,tertiary:Boolean,quaternary:Boolean,strong:Boolean,focusable:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},tag:{type:String,default:"button"},type:{type:String,default:"default"},dashed:Boolean,iconPlacement:{type:String,default:"left"},attrType:{type:String,default:"button"},bordered:{type:Boolean,default:!0},onClick:[Function,Array],internalAutoFocus:Boolean}),ZX=It({name:"Button",props:Fxe,setup(r){const t=Re(null),e=Re(null),n=Re(!1);Io(()=>{const{value:w}=t;w&&!r.disabled&&r.focusable&&r.internalAutoFocus&&w.focus({preventScroll:!0})});const i=Kn(()=>!r.quaternary&&!r.tertiary&&!r.secondary&&!r.text&&(!r.color||r.ghost||r.dashed)&&r.bordered),a=Sr(KX,{}),{mergedSizeRef:o}=ic({},{defaultSize:"medium",mergedSize:w=>{const{size:S}=r;if(S)return S;const{size:E}=a;if(E)return E;const{mergedSize:_}=w||{};return _?_.value:"medium"}}),s=re(()=>r.focusable&&!r.disabled),l=w=>{var S;w.preventDefault(),!r.disabled&&s.value&&((S=t.value)===null||S===void 0||S.focus({preventScroll:!0}))},u=w=>{var S;if(!r.disabled&&!r.loading){const{onClick:E}=r;E&&Tt(E,w),r.text||(S=e.value)===null||S===void 0||S.play()}},c=w=>{switch(w.code){case"Enter":case"NumpadEnter":if(!r.keyboard)return;n.value=!1}},f=w=>{switch(w.code){case"Enter":case"NumpadEnter":if(!r.keyboard||r.loading){w.preventDefault();return}n.value=!0}},d=()=>{n.value=!1},{inlineThemeDisabled:h,mergedClsPrefixRef:v,mergedRtlRef:p}=Bn(r),g=wr("Button","-button",Lxe,Qw,r,v),m=HL("Button",p,v),y=re(()=>{const w=g.value,{common:{cubicBezierEaseInOut:S,cubicBezierEaseOut:E},self:_}=w,{rippleDuration:A,opacityDisabled:k,fontWeight:T,fontWeightStrong:I}=_,D=o.value,{dashed:O,type:B,ghost:U,text:N,color:G,round:L,circle:F,textColor:W,secondary:H,tertiary:K,quaternary:ie,strong:ee}=r,Q={"font-weight":ee?I:T};let be={"--n-color":"initial","--n-color-hover":"initial","--n-color-pressed":"initial","--n-color-focus":"initial","--n-color-disabled":"initial","--n-ripple-color":"initial","--n-text-color":"initial","--n-text-color-hover":"initial","--n-text-color-pressed":"initial","--n-text-color-focus":"initial","--n-text-color-disabled":"initial"};const fe=B==="tertiary",he=B==="default",Ee=fe?"default":B;if(N){const Le=W||G,se=Le||_[lr("textColorText",Ee)];be={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":"#0000","--n-text-color":se,"--n-text-color-hover":Le?wp(Le):_[lr("textColorTextHover",Ee)],"--n-text-color-pressed":Le?JC(Le):_[lr("textColorTextPressed",Ee)],"--n-text-color-focus":Le?wp(Le):_[lr("textColorTextHover",Ee)],"--n-text-color-disabled":Le||_[lr("textColorTextDisabled",Ee)]}}else if(U||O){const Le=W||G;be={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":G||_[lr("rippleColor",Ee)],"--n-text-color":Le||_[lr("textColorGhost",Ee)],"--n-text-color-hover":Le?wp(Le):_[lr("textColorGhostHover",Ee)],"--n-text-color-pressed":Le?JC(Le):_[lr("textColorGhostPressed",Ee)],"--n-text-color-focus":Le?wp(Le):_[lr("textColorGhostHover",Ee)],"--n-text-color-disabled":Le||_[lr("textColorGhostDisabled",Ee)]}}else if(H){const Le=he?_.textColor:fe?_.textColorTertiary:_[lr("color",Ee)],se=G||Le,Se=B!=="default"&&B!=="tertiary";be={"--n-color":Se?_n(se,{alpha:Number(_.colorOpacitySecondary)}):_.colorSecondary,"--n-color-hover":Se?_n(se,{alpha:Number(_.colorOpacitySecondaryHover)}):_.colorSecondaryHover,"--n-color-pressed":Se?_n(se,{alpha:Number(_.colorOpacitySecondaryPressed)}):_.colorSecondaryPressed,"--n-color-focus":Se?_n(se,{alpha:Number(_.colorOpacitySecondaryHover)}):_.colorSecondaryHover,"--n-color-disabled":_.colorSecondary,"--n-ripple-color":"#0000","--n-text-color":se,"--n-text-color-hover":se,"--n-text-color-pressed":se,"--n-text-color-focus":se,"--n-text-color-disabled":se}}else if(K||ie){const Le=he?_.textColor:fe?_.textColorTertiary:_[lr("color",Ee)],se=G||Le;K?(be["--n-color"]=_.colorTertiary,be["--n-color-hover"]=_.colorTertiaryHover,be["--n-color-pressed"]=_.colorTertiaryPressed,be["--n-color-focus"]=_.colorSecondaryHover,be["--n-color-disabled"]=_.colorTertiary):(be["--n-color"]=_.colorQuaternary,be["--n-color-hover"]=_.colorQuaternaryHover,be["--n-color-pressed"]=_.colorQuaternaryPressed,be["--n-color-focus"]=_.colorQuaternaryHover,be["--n-color-disabled"]=_.colorQuaternary),be["--n-ripple-color"]="#0000",be["--n-text-color"]=se,be["--n-text-color-hover"]=se,be["--n-text-color-pressed"]=se,be["--n-text-color-focus"]=se,be["--n-text-color-disabled"]=se}else be={"--n-color":G||_[lr("color",Ee)],"--n-color-hover":G?wp(G):_[lr("colorHover",Ee)],"--n-color-pressed":G?JC(G):_[lr("colorPressed",Ee)],"--n-color-focus":G?wp(G):_[lr("colorFocus",Ee)],"--n-color-disabled":G||_[lr("colorDisabled",Ee)],"--n-ripple-color":G||_[lr("rippleColor",Ee)],"--n-text-color":W||(G?_.textColorPrimary:fe?_.textColorTertiary:_[lr("textColor",Ee)]),"--n-text-color-hover":W||(G?_.textColorHoverPrimary:_[lr("textColorHover",Ee)]),"--n-text-color-pressed":W||(G?_.textColorPressedPrimary:_[lr("textColorPressed",Ee)]),"--n-text-color-focus":W||(G?_.textColorFocusPrimary:_[lr("textColorFocus",Ee)]),"--n-text-color-disabled":W||(G?_.textColorDisabledPrimary:_[lr("textColorDisabled",Ee)])};let He={"--n-border":"initial","--n-border-hover":"initial","--n-border-pressed":"initial","--n-border-focus":"initial","--n-border-disabled":"initial"};N?He={"--n-border":"none","--n-border-hover":"none","--n-border-pressed":"none","--n-border-focus":"none","--n-border-disabled":"none"}:He={"--n-border":_[lr("border",Ee)],"--n-border-hover":_[lr("borderHover",Ee)],"--n-border-pressed":_[lr("borderPressed",Ee)],"--n-border-focus":_[lr("borderFocus",Ee)],"--n-border-disabled":_[lr("borderDisabled",Ee)]};const{[lr("height",D)]:nt,[lr("fontSize",D)]:st,[lr("padding",D)]:z,[lr("paddingRound",D)]:j,[lr("iconSize",D)]:X,[lr("borderRadius",D)]:ae,[lr("iconMargin",D)]:ue,waveOpacity:Be}=_,Ze={"--n-width":F&&!N?nt:"initial","--n-height":N?"initial":nt,"--n-font-size":st,"--n-padding":F||N?"initial":L?j:z,"--n-icon-size":X,"--n-icon-margin":ue,"--n-border-radius":N?"initial":F||L?nt:ae};return Object.assign(Object.assign(Object.assign(Object.assign({"--n-bezier":S,"--n-bezier-ease-out":E,"--n-ripple-duration":A,"--n-opacity-disabled":k,"--n-wave-opacity":Be},Q),be),He),Ze)}),b=h?Ea("button",re(()=>{let w="";const{dashed:S,type:E,ghost:_,text:A,color:k,round:T,circle:I,textColor:D,secondary:O,tertiary:B,quaternary:U,strong:N}=r;S&&(w+="a"),_&&(w+="b"),A&&(w+="c"),T&&(w+="d"),I&&(w+="e"),O&&(w+="f"),B&&(w+="g"),U&&(w+="h"),N&&(w+="i"),k&&(w+="j"+y_(k)),D&&(w+="k"+y_(D));const{value:G}=o;return w+="l"+G[0],w+="m"+E[0],w}),y,r):void 0;return{selfElRef:t,waveElRef:e,mergedClsPrefix:v,mergedFocusable:s,mergedSize:o,showBorder:i,enterPressed:n,rtlEnabled:m,handleMousedown:l,handleKeydown:f,handleBlur:d,handleKeyup:c,handleClick:u,customColorCssVars:re(()=>{const{color:w}=r;if(!w)return null;const S=wp(w);return{"--n-border-color":w,"--n-border-color-hover":S,"--n-border-color-pressed":JC(w),"--n-border-color-focus":S,"--n-border-color-disabled":w}}),cssVars:h?void 0:y,themeClass:b==null?void 0:b.themeClass,onRender:b==null?void 0:b.onRender}},render(){const{mergedClsPrefix:r,tag:t,onRender:e}=this;e==null||e();const n=ba(this.$slots.default,i=>i&&R("span",{class:`${r}-button__content`},i));return R(t,{ref:"selfElRef",class:[this.themeClass,`${r}-button`,`${r}-button--${this.type}-type`,`${r}-button--${this.mergedSize}-type`,this.rtlEnabled&&`${r}-button--rtl`,this.disabled&&`${r}-button--disabled`,this.block&&`${r}-button--block`,this.enterPressed&&`${r}-button--pressed`,!this.text&&this.dashed&&`${r}-button--dashed`,this.color&&`${r}-button--color`,this.secondary&&`${r}-button--secondary`,this.loading&&`${r}-button--loading`,this.ghost&&`${r}-button--ghost`],tabindex:this.mergedFocusable?0:-1,type:this.attrType,style:this.cssVars,disabled:this.disabled,onClick:this.handleClick,onBlur:this.handleBlur,onMousedown:this.handleMousedown,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},this.iconPlacement==="right"&&n,R(iA,{width:!0},{default:()=>ba(this.$slots.icon,i=>(this.loading||i)&&R("span",{class:`${r}-button__icon`,style:{margin:E1(this.$slots.default)?"0":""}},R(j0,null,{default:()=>this.loading?R(Hg,{clsPrefix:r,key:"loading",class:`${r}-icon-slot`,strokeWidth:20}):R("div",{key:"icon",class:`${r}-icon-slot`,role:"none"},i)})))}),this.iconPlacement==="left"&&n,this.text?null:R(jbe,{ref:"waveElRef",clsPrefix:r}),this.showBorder?R("div",{"aria-hidden":!0,class:`${r}-button__border`,style:this.customColorCssVars}):null,this.showBorder?R("div",{"aria-hidden":!0,class:`${r}-button__state-border`,style:this.customColorCssVars}):null)}});var Wo=ZX;const Jw=ZX;function eE(r,t){an(2,arguments);var e=An(r),n=ei(t);return isNaN(n)?new Date(NaN):(n&&e.setDate(e.getDate()+n),e)}function rs(r,t){an(2,arguments);var e=An(r),n=ei(t);if(isNaN(n))return new Date(NaN);if(!n)return e;var i=e.getDate(),a=new Date(e.getTime());a.setMonth(e.getMonth()+n+1,0);var o=a.getDate();return i>=o?a:(e.setFullYear(a.getFullYear(),a.getMonth(),i),e)}function Nxe(r,t){an(2,arguments);var e=An(r).getTime(),n=ei(t);return new Date(e+n)}function QX(r){var t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),r.getTime()-t.getTime()}function __(r){an(1,arguments);var t=An(r);return t.setHours(0,0,0,0),t}function Bxe(r,t){an(2,arguments);var e=ei(t),n=e*3;return rs(r,n)}function $R(r,t){an(2,arguments);var e=ei(t);return rs(r,e*12)}function zxe(r,t){an(2,arguments);var e=__(r),n=__(t);return e.getTime()===n.getTime()}function $xe(r){return an(1,arguments),r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function gu(r){if(an(1,arguments),!$xe(r)&&typeof r!="number")return!1;var t=An(r);return!isNaN(Number(t))}function Gxe(r){an(1,arguments);var t=An(r),e=Math.floor(t.getMonth()/3)+1;return e}function Uxe(r){an(1,arguments);var t=An(r);return t.setSeconds(0,0),t}function GR(r){an(1,arguments);var t=An(r),e=t.getMonth(),n=e-e%3;return t.setMonth(n,1),t.setHours(0,0,0,0),t}function Uh(r){an(1,arguments);var t=An(r);return t.setDate(1),t.setHours(0,0,0,0),t}function WL(r){an(1,arguments);var t=An(r),e=new Date(0);return e.setFullYear(t.getFullYear(),0,1),e.setHours(0,0,0,0),e}function JX(r,t){an(2,arguments);var e=ei(t);return Nxe(r,-e)}var Hxe=864e5;function Vxe(r){an(1,arguments);var t=An(r),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),i=e-n;return Math.floor(i/Hxe)+1}function g0(r){an(1,arguments);var t=1,e=An(r),n=e.getUTCDay(),i=(n<t?7:0)+n-t;return e.setUTCDate(e.getUTCDate()-i),e.setUTCHours(0,0,0,0),e}function eq(r){an(1,arguments);var t=An(r),e=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(e+1,0,4),n.setUTCHours(0,0,0,0);var i=g0(n),a=new Date(0);a.setUTCFullYear(e,0,4),a.setUTCHours(0,0,0,0);var o=g0(a);return t.getTime()>=i.getTime()?e+1:t.getTime()>=o.getTime()?e:e-1}function Wxe(r){an(1,arguments);var t=eq(r),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var n=g0(e);return n}var jxe=6048e5;function tq(r){an(1,arguments);var t=An(r),e=g0(t).getTime()-Wxe(t).getTime();return Math.round(e/jxe)+1}function jL(r,t){an(1,arguments);var e=An(r),n=e.getUTCFullYear(),i=t||{},a=i.locale,o=a&&a.options&&a.options.firstWeekContainsDate,s=o==null?1:ei(o),l=i.firstWeekContainsDate==null?s:ei(i.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setUTCFullYear(n+1,0,l),u.setUTCHours(0,0,0,0);var c=og(u,t),f=new Date(0);f.setUTCFullYear(n,0,l),f.setUTCHours(0,0,0,0);var d=og(f,t);return e.getTime()>=c.getTime()?n+1:e.getTime()>=d.getTime()?n:n-1}function Yxe(r,t){an(1,arguments);var e=t||{},n=e.locale,i=n&&n.options&&n.options.firstWeekContainsDate,a=i==null?1:ei(i),o=e.firstWeekContainsDate==null?a:ei(e.firstWeekContainsDate),s=jL(r,t),l=new Date(0);l.setUTCFullYear(s,0,o),l.setUTCHours(0,0,0,0);var u=og(l,t);return u}var Xxe=6048e5;function rq(r,t){an(1,arguments);var e=An(r),n=og(e,t).getTime()-Yxe(e,t).getTime();return Math.round(n/Xxe)+1}function Ni(r,t){for(var e=r<0?"-":"",n=Math.abs(r).toString();n.length<t;)n="0"+n;return e+n}var qxe={y:function(r,t){var e=r.getUTCFullYear(),n=e>0?e:1-e;return Ni(t==="yy"?n%100:n,t.length)},M:function(r,t){var e=r.getUTCMonth();return t==="M"?String(e+1):Ni(e+1,2)},d:function(r,t){return Ni(r.getUTCDate(),t.length)},a:function(r,t){var e=r.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h:function(r,t){return Ni(r.getUTCHours()%12||12,t.length)},H:function(r,t){return Ni(r.getUTCHours(),t.length)},m:function(r,t){return Ni(r.getUTCMinutes(),t.length)},s:function(r,t){return Ni(r.getUTCSeconds(),t.length)},S:function(r,t){var e=t.length,n=r.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,e-3));return Ni(i,t.length)}},Mh=qxe,ey={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Kxe={G:function(r,t,e){var n=r.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(n,{width:"abbreviated"});case"GGGGG":return e.era(n,{width:"narrow"});case"GGGG":default:return e.era(n,{width:"wide"})}},y:function(r,t,e){if(t==="yo"){var n=r.getUTCFullYear(),i=n>0?n:1-n;return e.ordinalNumber(i,{unit:"year"})}return Mh.y(r,t)},Y:function(r,t,e,n){var i=jL(r,n),a=i>0?i:1-i;if(t==="YY"){var o=a%100;return Ni(o,2)}return t==="Yo"?e.ordinalNumber(a,{unit:"year"}):Ni(a,t.length)},R:function(r,t){var e=eq(r);return Ni(e,t.length)},u:function(r,t){var e=r.getUTCFullYear();return Ni(e,t.length)},Q:function(r,t,e){var n=Math.ceil((r.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ni(n,2);case"Qo":return e.ordinalNumber(n,{unit:"quarter"});case"QQQ":return e.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,t,e){var n=Math.ceil((r.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ni(n,2);case"qo":return e.ordinalNumber(n,{unit:"quarter"});case"qqq":return e.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,t,e){var n=r.getUTCMonth();switch(t){case"M":case"MM":return Mh.M(r,t);case"Mo":return e.ordinalNumber(n+1,{unit:"month"});case"MMM":return e.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(n,{width:"wide",context:"formatting"})}},L:function(r,t,e){var n=r.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return Ni(n+1,2);case"Lo":return e.ordinalNumber(n+1,{unit:"month"});case"LLL":return e.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(n,{width:"wide",context:"standalone"})}},w:function(r,t,e,n){var i=rq(r,n);return t==="wo"?e.ordinalNumber(i,{unit:"week"}):Ni(i,t.length)},I:function(r,t,e){var n=tq(r);return t==="Io"?e.ordinalNumber(n,{unit:"week"}):Ni(n,t.length)},d:function(r,t,e){return t==="do"?e.ordinalNumber(r.getUTCDate(),{unit:"date"}):Mh.d(r,t)},D:function(r,t,e){var n=Vxe(r);return t==="Do"?e.ordinalNumber(n,{unit:"dayOfYear"}):Ni(n,t.length)},E:function(r,t,e){var n=r.getUTCDay();switch(t){case"E":case"EE":case"EEE":return e.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(n,{width:"short",context:"formatting"});case"EEEE":default:return e.day(n,{width:"wide",context:"formatting"})}},e:function(r,t,e,n){var i=r.getUTCDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ni(a,2);case"eo":return e.ordinalNumber(a,{unit:"day"});case"eee":return e.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(i,{width:"short",context:"formatting"});case"eeee":default:return e.day(i,{width:"wide",context:"formatting"})}},c:function(r,t,e,n){var i=r.getUTCDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ni(a,t.length);case"co":return e.ordinalNumber(a,{unit:"day"});case"ccc":return e.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(i,{width:"narrow",context:"standalone"});case"cccccc":return e.day(i,{width:"short",context:"standalone"});case"cccc":default:return e.day(i,{width:"wide",context:"standalone"})}},i:function(r,t,e){var n=r.getUTCDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Ni(i,t.length);case"io":return e.ordinalNumber(i,{unit:"day"});case"iii":return e.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(n,{width:"short",context:"formatting"});case"iiii":default:return e.day(n,{width:"wide",context:"formatting"})}},a:function(r,t,e){var n=r.getUTCHours(),i=n/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,t,e){var n=r.getUTCHours(),i;switch(n===12?i=ey.noon:n===0?i=ey.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,t,e){var n=r.getUTCHours(),i;switch(n>=17?i=ey.evening:n>=12?i=ey.afternoon:n>=4?i=ey.morning:i=ey.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,t,e){if(t==="ho"){var n=r.getUTCHours()%12;return n===0&&(n=12),e.ordinalNumber(n,{unit:"hour"})}return Mh.h(r,t)},H:function(r,t,e){return t==="Ho"?e.ordinalNumber(r.getUTCHours(),{unit:"hour"}):Mh.H(r,t)},K:function(r,t,e){var n=r.getUTCHours()%12;return t==="Ko"?e.ordinalNumber(n,{unit:"hour"}):Ni(n,t.length)},k:function(r,t,e){var n=r.getUTCHours();return n===0&&(n=24),t==="ko"?e.ordinalNumber(n,{unit:"hour"}):Ni(n,t.length)},m:function(r,t,e){return t==="mo"?e.ordinalNumber(r.getUTCMinutes(),{unit:"minute"}):Mh.m(r,t)},s:function(r,t,e){return t==="so"?e.ordinalNumber(r.getUTCSeconds(),{unit:"second"}):Mh.s(r,t)},S:function(r,t){return Mh.S(r,t)},X:function(r,t,e,n){var i=n._originalDate||r,a=i.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Pz(a);case"XXXX":case"XX":return Fp(a);case"XXXXX":case"XXX":default:return Fp(a,":")}},x:function(r,t,e,n){var i=n._originalDate||r,a=i.getTimezoneOffset();switch(t){case"x":return Pz(a);case"xxxx":case"xx":return Fp(a);case"xxxxx":case"xxx":default:return Fp(a,":")}},O:function(r,t,e,n){var i=n._originalDate||r,a=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Iz(a,":");case"OOOO":default:return"GMT"+Fp(a,":")}},z:function(r,t,e,n){var i=n._originalDate||r,a=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Iz(a,":");case"zzzz":default:return"GMT"+Fp(a,":")}},t:function(r,t,e,n){var i=n._originalDate||r,a=Math.floor(i.getTime()/1e3);return Ni(a,t.length)},T:function(r,t,e,n){var i=n._originalDate||r,a=i.getTime();return Ni(a,t.length)}};function Iz(r,t){var e=r>0?"-":"+",n=Math.abs(r),i=Math.floor(n/60),a=n%60;if(a===0)return e+String(i);var o=t||"";return e+String(i)+o+Ni(a,2)}function Pz(r,t){if(r%60===0){var e=r>0?"-":"+";return e+Ni(Math.abs(r)/60,2)}return Fp(r,t)}function Fp(r,t){var e=t||"",n=r>0?"-":"+",i=Math.abs(r),a=Ni(Math.floor(i/60),2),o=Ni(i%60,2);return n+a+e+o}var Zxe=Kxe;function Rz(r,t){switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function nq(r,t){switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}function Qxe(r,t){var e=r.match(/(P+)(p+)?/)||[],n=e[1],i=e[2];if(!i)return Rz(r,t);var a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Rz(n,t)).replace("{{time}}",nq(i,t))}var Jxe={p:nq,P:Qxe},iq=Jxe,e1e=["D","DD"],t1e=["YY","YYYY"];function aq(r){return e1e.indexOf(r)!==-1}function oq(r){return t1e.indexOf(r)!==-1}function T_(r,t,e){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://git.io/fxCyr"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://git.io/fxCyr"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://git.io/fxCyr"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://git.io/fxCyr"))}var r1e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,n1e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,i1e=/^'([^]*?)'?$/,a1e=/''/g,o1e=/[a-zA-Z]/;function Pi(r,t,e){an(2,arguments);var n=String(t),i=e||{},a=i.locale||NL,o=a.options&&a.options.firstWeekContainsDate,s=o==null?1:ei(o),l=i.firstWeekContainsDate==null?s:ei(i.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=a.options&&a.options.weekStartsOn,c=u==null?0:ei(u),f=i.weekStartsOn==null?c:ei(i.weekStartsOn);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!a.localize)throw new RangeError("locale must contain localize property");if(!a.formatLong)throw new RangeError("locale must contain formatLong property");var d=An(r);if(!gu(d))throw new RangeError("Invalid time value");var h=QX(d),v=JX(d,h),p={firstWeekContainsDate:l,weekStartsOn:f,locale:a,_originalDate:d},g=n.match(n1e).map(function(m){var y=m[0];if(y==="p"||y==="P"){var b=iq[y];return b(m,a.formatLong,p)}return m}).join("").match(r1e).map(function(m){if(m==="''")return"'";var y=m[0];if(y==="'")return s1e(m);var b=Zxe[y];if(b)return!i.useAdditionalWeekYearTokens&&oq(m)&&T_(m,t,r),!i.useAdditionalDayOfYearTokens&&aq(m)&&T_(m,t,r),b(v,m,a.localize,p);if(y.match(o1e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return m}).join("");return g}function s1e(r){return r.match(i1e)[1].replace(a1e,"'")}function l1e(r,t){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");t=t||{};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r}function Wu(r){an(1,arguments);var t=An(r),e=t.getDate();return e}function u1e(r){an(1,arguments);var t=An(r),e=t.getDay();return e}function c1e(r){an(1,arguments);var t=An(r),e=t.getFullYear(),n=t.getMonth(),i=new Date(0);return i.setFullYear(e,n+1,0),i.setHours(0,0,0,0),i.getDate()}function Xh(r){an(1,arguments);var t=An(r),e=t.getHours();return e}function A_(r){an(1,arguments);var t=An(r),e=t.getMinutes();return e}function yo(r){an(1,arguments);var t=An(r),e=t.getMonth();return e}function k_(r){an(1,arguments);var t=An(r),e=t.getSeconds();return e}function Cr(r){an(1,arguments);var t=An(r),e=t.getTime();return e}function bo(r){return an(1,arguments),An(r).getFullYear()}function pI(r,t,e){an(2,arguments);var n=e||{},i=n.locale,a=i&&i.options&&i.options.weekStartsOn,o=a==null?0:ei(a),s=n.weekStartsOn==null?o:ei(n.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=An(r),u=ei(t),c=l.getUTCDay(),f=u%7,d=(f+7)%7,h=(d<s?7:0)+u-c;return l.setUTCDate(l.getUTCDate()+h),l}function f1e(r,t){an(2,arguments);var e=ei(t);e%7===0&&(e=e-7);var n=1,i=An(r),a=i.getUTCDay(),o=e%7,s=(o+7)%7,l=(s<n?7:0)+e-a;return i.setUTCDate(i.getUTCDate()+l),i}function d1e(r,t){an(2,arguments);var e=An(r),n=ei(t),i=tq(e)-n;return e.setUTCDate(e.getUTCDate()-i*7),e}function h1e(r,t,e){an(2,arguments);var n=An(r),i=ei(t),a=rq(n,e)-i;return n.setUTCDate(n.getUTCDate()-a*7),n}var v1e=36e5,p1e=6e4,g1e=1e3,Ka={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ac={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ia(r,t,e){var n=t.match(r);if(!n)return null;var i=parseInt(n[0],10);return{value:e?e(i):i,rest:t.slice(n[0].length)}}function kc(r,t){var e=t.match(r);if(!e)return null;if(e[0]==="Z")return{value:0,rest:t.slice(1)};var n=e[1]==="+"?1:-1,i=e[2]?parseInt(e[2],10):0,a=e[3]?parseInt(e[3],10):0,o=e[5]?parseInt(e[5],10):0;return{value:n*(i*v1e+a*p1e+o*g1e),rest:t.slice(e[0].length)}}function Dz(r,t){return Ia(Ka.anyDigitsSigned,r,t)}function Ba(r,t,e){switch(r){case 1:return Ia(Ka.singleDigit,t,e);case 2:return Ia(Ka.twoDigits,t,e);case 3:return Ia(Ka.threeDigits,t,e);case 4:return Ia(Ka.fourDigits,t,e);default:return Ia(new RegExp("^\\d{1,"+r+"}"),t,e)}}function tE(r,t,e){switch(r){case 1:return Ia(Ka.singleDigitSigned,t,e);case 2:return Ia(Ka.twoDigitsSigned,t,e);case 3:return Ia(Ka.threeDigitsSigned,t,e);case 4:return Ia(Ka.fourDigitsSigned,t,e);default:return Ia(new RegExp("^-?\\d{1,"+r+"}"),t,e)}}function gI(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Oz(r,t){var e=t>0,n=e?t:1-t,i;if(n<=50)i=r||100;else{var a=n+50,o=Math.floor(a/100)*100,s=r>=a%100;i=r+o-(s?100:0)}return e?i:1-i}var m1e=[31,28,31,30,31,30,31,31,30,31,30,31],y1e=[31,29,31,30,31,30,31,31,30,31,30,31];function Lz(r){return r%400===0||r%4===0&&r%100!==0}var b1e={G:{priority:140,parse:function(r,t,e,n){switch(t){case"G":case"GG":case"GGG":return e.era(r,{width:"abbreviated"})||e.era(r,{width:"narrow"});case"GGGGG":return e.era(r,{width:"narrow"});case"GGGG":default:return e.era(r,{width:"wide"})||e.era(r,{width:"abbreviated"})||e.era(r,{width:"narrow"})}},set:function(r,t,e,n){return t.era=e,r.setUTCFullYear(e,0,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(r,t,e,n){var i=function(a){return{year:a,isTwoDigitYear:t==="yy"}};switch(t){case"y":return Ba(4,r,i);case"yo":return e.ordinalNumber(r,{unit:"year",valueCallback:i});default:return Ba(t.length,r,i)}},validate:function(r,t,e){return t.isTwoDigitYear||t.year>0},set:function(r,t,e,n){var i=r.getUTCFullYear();if(e.isTwoDigitYear){var a=Oz(e.year,i);return r.setUTCFullYear(a,0,1),r.setUTCHours(0,0,0,0),r}var o=!("era"in t)||t.era===1?e.year:1-e.year;return r.setUTCFullYear(o,0,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(r,t,e,n){var i=function(a){return{year:a,isTwoDigitYear:t==="YY"}};switch(t){case"Y":return Ba(4,r,i);case"Yo":return e.ordinalNumber(r,{unit:"year",valueCallback:i});default:return Ba(t.length,r,i)}},validate:function(r,t,e){return t.isTwoDigitYear||t.year>0},set:function(r,t,e,n){var i=jL(r,n);if(e.isTwoDigitYear){var a=Oz(e.year,i);return r.setUTCFullYear(a,0,n.firstWeekContainsDate),r.setUTCHours(0,0,0,0),og(r,n)}var o=!("era"in t)||t.era===1?e.year:1-e.year;return r.setUTCFullYear(o,0,n.firstWeekContainsDate),r.setUTCHours(0,0,0,0),og(r,n)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(r,t,e,n){return tE(t==="R"?4:t.length,r)},set:function(r,t,e,n){var i=new Date(0);return i.setUTCFullYear(e,0,4),i.setUTCHours(0,0,0,0),g0(i)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(r,t,e,n){return tE(t==="u"?4:t.length,r)},set:function(r,t,e,n){return r.setUTCFullYear(e,0,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(r,t,e,n){switch(t){case"Q":case"QQ":return Ba(t.length,r);case"Qo":return e.ordinalNumber(r,{unit:"quarter"});case"QQQ":return e.quarter(r,{width:"abbreviated",context:"formatting"})||e.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return e.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(r,{width:"wide",context:"formatting"})||e.quarter(r,{width:"abbreviated",context:"formatting"})||e.quarter(r,{width:"narrow",context:"formatting"})}},validate:function(r,t,e){return t>=1&&t<=4},set:function(r,t,e,n){return r.setUTCMonth((e-1)*3,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(r,t,e,n){switch(t){case"q":case"qq":return Ba(t.length,r);case"qo":return e.ordinalNumber(r,{unit:"quarter"});case"qqq":return e.quarter(r,{width:"abbreviated",context:"standalone"})||e.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return e.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(r,{width:"wide",context:"standalone"})||e.quarter(r,{width:"abbreviated",context:"standalone"})||e.quarter(r,{width:"narrow",context:"standalone"})}},validate:function(r,t,e){return t>=1&&t<=4},set:function(r,t,e,n){return r.setUTCMonth((e-1)*3,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(r,t,e,n){var i=function(a){return a-1};switch(t){case"M":return Ia(Ka.month,r,i);case"MM":return Ba(2,r,i);case"Mo":return e.ordinalNumber(r,{unit:"month",valueCallback:i});case"MMM":return e.month(r,{width:"abbreviated",context:"formatting"})||e.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return e.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(r,{width:"wide",context:"formatting"})||e.month(r,{width:"abbreviated",context:"formatting"})||e.month(r,{width:"narrow",context:"formatting"})}},validate:function(r,t,e){return t>=0&&t<=11},set:function(r,t,e,n){return r.setUTCMonth(e,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(r,t,e,n){var i=function(a){return a-1};switch(t){case"L":return Ia(Ka.month,r,i);case"LL":return Ba(2,r,i);case"Lo":return e.ordinalNumber(r,{unit:"month",valueCallback:i});case"LLL":return e.month(r,{width:"abbreviated",context:"standalone"})||e.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return e.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(r,{width:"wide",context:"standalone"})||e.month(r,{width:"abbreviated",context:"standalone"})||e.month(r,{width:"narrow",context:"standalone"})}},validate:function(r,t,e){return t>=0&&t<=11},set:function(r,t,e,n){return r.setUTCMonth(e,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(r,t,e,n){switch(t){case"w":return Ia(Ka.week,r);case"wo":return e.ordinalNumber(r,{unit:"week"});default:return Ba(t.length,r)}},validate:function(r,t,e){return t>=1&&t<=53},set:function(r,t,e,n){return og(h1e(r,e,n),n)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(r,t,e,n){switch(t){case"I":return Ia(Ka.week,r);case"Io":return e.ordinalNumber(r,{unit:"week"});default:return Ba(t.length,r)}},validate:function(r,t,e){return t>=1&&t<=53},set:function(r,t,e,n){return g0(d1e(r,e,n),n)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(r,t,e,n){switch(t){case"d":return Ia(Ka.date,r);case"do":return e.ordinalNumber(r,{unit:"date"});default:return Ba(t.length,r)}},validate:function(r,t,e){var n=r.getUTCFullYear(),i=Lz(n),a=r.getUTCMonth();return i?t>=1&&t<=y1e[a]:t>=1&&t<=m1e[a]},set:function(r,t,e,n){return r.setUTCDate(e),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(r,t,e,n){switch(t){case"D":case"DD":return Ia(Ka.dayOfYear,r);case"Do":return e.ordinalNumber(r,{unit:"date"});default:return Ba(t.length,r)}},validate:function(r,t,e){var n=r.getUTCFullYear(),i=Lz(n);return i?t>=1&&t<=366:t>=1&&t<=365},set:function(r,t,e,n){return r.setUTCMonth(0,e),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(r,t,e,n){switch(t){case"E":case"EE":case"EEE":return e.day(r,{width:"abbreviated",context:"formatting"})||e.day(r,{width:"short",context:"formatting"})||e.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return e.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(r,{width:"short",context:"formatting"})||e.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return e.day(r,{width:"wide",context:"formatting"})||e.day(r,{width:"abbreviated",context:"formatting"})||e.day(r,{width:"short",context:"formatting"})||e.day(r,{width:"narrow",context:"formatting"})}},validate:function(r,t,e){return t>=0&&t<=6},set:function(r,t,e,n){return r=pI(r,e,n),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(r,t,e,n){var i=function(a){var o=Math.floor((a-1)/7)*7;return(a+n.weekStartsOn+6)%7+o};switch(t){case"e":case"ee":return Ba(t.length,r,i);case"eo":return e.ordinalNumber(r,{unit:"day",valueCallback:i});case"eee":return e.day(r,{width:"abbreviated",context:"formatting"})||e.day(r,{width:"short",context:"formatting"})||e.day(r,{width:"narrow",context:"formatting"});case"eeeee":return e.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(r,{width:"short",context:"formatting"})||e.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return e.day(r,{width:"wide",context:"formatting"})||e.day(r,{width:"abbreviated",context:"formatting"})||e.day(r,{width:"short",context:"formatting"})||e.day(r,{width:"narrow",context:"formatting"})}},validate:function(r,t,e){return t>=0&&t<=6},set:function(r,t,e,n){return r=pI(r,e,n),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(r,t,e,n){var i=function(a){var o=Math.floor((a-1)/7)*7;return(a+n.weekStartsOn+6)%7+o};switch(t){case"c":case"cc":return Ba(t.length,r,i);case"co":return e.ordinalNumber(r,{unit:"day",valueCallback:i});case"ccc":return e.day(r,{width:"abbreviated",context:"standalone"})||e.day(r,{width:"short",context:"standalone"})||e.day(r,{width:"narrow",context:"standalone"});case"ccccc":return e.day(r,{width:"narrow",context:"standalone"});case"cccccc":return e.day(r,{width:"short",context:"standalone"})||e.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return e.day(r,{width:"wide",context:"standalone"})||e.day(r,{width:"abbreviated",context:"standalone"})||e.day(r,{width:"short",context:"standalone"})||e.day(r,{width:"narrow",context:"standalone"})}},validate:function(r,t,e){return t>=0&&t<=6},set:function(r,t,e,n){return r=pI(r,e,n),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(r,t,e,n){var i=function(a){return a===0?7:a};switch(t){case"i":case"ii":return Ba(t.length,r);case"io":return e.ordinalNumber(r,{unit:"day"});case"iii":return e.day(r,{width:"abbreviated",context:"formatting",valueCallback:i})||e.day(r,{width:"short",context:"formatting",valueCallback:i})||e.day(r,{width:"narrow",context:"formatting",valueCallback:i});case"iiiii":return e.day(r,{width:"narrow",context:"formatting",valueCallback:i});case"iiiiii":return e.day(r,{width:"short",context:"formatting",valueCallback:i})||e.day(r,{width:"narrow",context:"formatting",valueCallback:i});case"iiii":default:return e.day(r,{width:"wide",context:"formatting",valueCallback:i})||e.day(r,{width:"abbreviated",context:"formatting",valueCallback:i})||e.day(r,{width:"short",context:"formatting",valueCallback:i})||e.day(r,{width:"narrow",context:"formatting",valueCallback:i})}},validate:function(r,t,e){return t>=1&&t<=7},set:function(r,t,e,n){return r=f1e(r,e,n),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(r,t,e,n){switch(t){case"a":case"aa":case"aaa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"})||e.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})||e.dayPeriod(r,{width:"abbreviated",context:"formatting"})||e.dayPeriod(r,{width:"narrow",context:"formatting"})}},set:function(r,t,e,n){return r.setUTCHours(gI(e),0,0,0),r},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(r,t,e,n){switch(t){case"b":case"bb":case"bbb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"})||e.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})||e.dayPeriod(r,{width:"abbreviated",context:"formatting"})||e.dayPeriod(r,{width:"narrow",context:"formatting"})}},set:function(r,t,e,n){return r.setUTCHours(gI(e),0,0,0),r},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(r,t,e,n){switch(t){case"B":case"BB":case"BBB":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"})||e.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})||e.dayPeriod(r,{width:"abbreviated",context:"formatting"})||e.dayPeriod(r,{width:"narrow",context:"formatting"})}},set:function(r,t,e,n){return r.setUTCHours(gI(e),0,0,0),r},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(r,t,e,n){switch(t){case"h":return Ia(Ka.hour12h,r);case"ho":return e.ordinalNumber(r,{unit:"hour"});default:return Ba(t.length,r)}},validate:function(r,t,e){return t>=1&&t<=12},set:function(r,t,e,n){var i=r.getUTCHours()>=12;return i&&e<12?r.setUTCHours(e+12,0,0,0):!i&&e===12?r.setUTCHours(0,0,0,0):r.setUTCHours(e,0,0,0),r},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(r,t,e,n){switch(t){case"H":return Ia(Ka.hour23h,r);case"Ho":return e.ordinalNumber(r,{unit:"hour"});default:return Ba(t.length,r)}},validate:function(r,t,e){return t>=0&&t<=23},set:function(r,t,e,n){return r.setUTCHours(e,0,0,0),r},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(r,t,e,n){switch(t){case"K":return Ia(Ka.hour11h,r);case"Ko":return e.ordinalNumber(r,{unit:"hour"});default:return Ba(t.length,r)}},validate:function(r,t,e){return t>=0&&t<=11},set:function(r,t,e,n){var i=r.getUTCHours()>=12;return i&&e<12?r.setUTCHours(e+12,0,0,0):r.setUTCHours(e,0,0,0),r},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(r,t,e,n){switch(t){case"k":return Ia(Ka.hour24h,r);case"ko":return e.ordinalNumber(r,{unit:"hour"});default:return Ba(t.length,r)}},validate:function(r,t,e){return t>=1&&t<=24},set:function(r,t,e,n){var i=e<=24?e%24:e;return r.setUTCHours(i,0,0,0),r},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(r,t,e,n){switch(t){case"m":return Ia(Ka.minute,r);case"mo":return e.ordinalNumber(r,{unit:"minute"});default:return Ba(t.length,r)}},validate:function(r,t,e){return t>=0&&t<=59},set:function(r,t,e,n){return r.setUTCMinutes(e,0,0),r},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(r,t,e,n){switch(t){case"s":return Ia(Ka.second,r);case"so":return e.ordinalNumber(r,{unit:"second"});default:return Ba(t.length,r)}},validate:function(r,t,e){return t>=0&&t<=59},set:function(r,t,e,n){return r.setUTCSeconds(e,0),r},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(r,t,e,n){var i=function(a){return Math.floor(a*Math.pow(10,-t.length+3))};return Ba(t.length,r,i)},set:function(r,t,e,n){return r.setUTCMilliseconds(e),r},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(r,t,e,n){switch(t){case"X":return kc(Ac.basicOptionalMinutes,r);case"XX":return kc(Ac.basic,r);case"XXXX":return kc(Ac.basicOptionalSeconds,r);case"XXXXX":return kc(Ac.extendedOptionalSeconds,r);case"XXX":default:return kc(Ac.extended,r)}},set:function(r,t,e,n){return t.timestampIsSet?r:new Date(r.getTime()-e)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(r,t,e,n){switch(t){case"x":return kc(Ac.basicOptionalMinutes,r);case"xx":return kc(Ac.basic,r);case"xxxx":return kc(Ac.basicOptionalSeconds,r);case"xxxxx":return kc(Ac.extendedOptionalSeconds,r);case"xxx":default:return kc(Ac.extended,r)}},set:function(r,t,e,n){return t.timestampIsSet?r:new Date(r.getTime()-e)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(r,t,e,n){return Dz(r)},set:function(r,t,e,n){return[new Date(e*1e3),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(r,t,e,n){return Dz(r)},set:function(r,t,e,n){return[new Date(e),{timestampIsSet:!0}]},incompatibleTokens:"*"}},x1e=b1e,w1e=10,S1e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,C1e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,E1e=/^'([^]*?)'?$/,_1e=/''/g,T1e=/\S/,A1e=/[a-zA-Z]/;function k1e(r,t,e,n){an(3,arguments);var i=String(r),a=String(t),o=n||{},s=o.locale||NL;if(!s.match)throw new RangeError("locale must contain match property");var l=s.options&&s.options.firstWeekContainsDate,u=l==null?1:ei(l),c=o.firstWeekContainsDate==null?u:ei(o.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=s.options&&s.options.weekStartsOn,d=f==null?0:ei(f),h=o.weekStartsOn==null?d:ei(o.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(a==="")return i===""?An(e):new Date(NaN);var v={firstWeekContainsDate:c,weekStartsOn:h,locale:s},p=[{priority:w1e,subPriority:-1,set:M1e,index:0}],g,m=a.match(C1e).map(function(G){var L=G[0];if(L==="p"||L==="P"){var F=iq[L];return F(G,s.formatLong,v)}return G}).join("").match(S1e),y=[];for(g=0;g<m.length;g++){var b=m[g];!o.useAdditionalWeekYearTokens&&oq(b)&&T_(b,a,r),!o.useAdditionalDayOfYearTokens&&aq(b)&&T_(b,a,r);var w=b[0],S=x1e[w];if(S){var E=S.incompatibleTokens;if(Array.isArray(E)){for(var _=void 0,A=0;A<y.length;A++){var k=y[A].token;if(E.indexOf(k)!==-1||k===w){_=y[A];break}}if(_)throw new RangeError("The format string mustn't contain `".concat(_.fullToken,"` and `").concat(b,"` at the same time"))}else if(S.incompatibleTokens==="*"&&y.length)throw new RangeError("The format string mustn't contain `".concat(b,"` and any other token at the same time"));y.push({token:w,fullToken:b});var T=S.parse(i,b,s.match,v);if(!T)return new Date(NaN);p.push({priority:S.priority,subPriority:S.subPriority||0,set:S.set,validate:S.validate,value:T.value,index:p.length}),i=T.rest}else{if(w.match(A1e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");if(b==="''"?b="'":w==="'"&&(b=I1e(b)),i.indexOf(b)===0)i=i.slice(b.length);else return new Date(NaN)}}if(i.length>0&&T1e.test(i))return new Date(NaN);var I=p.map(function(G){return G.priority}).sort(function(G,L){return L-G}).filter(function(G,L,F){return F.indexOf(G)===L}).map(function(G){return p.filter(function(L){return L.priority===G}).sort(function(L,F){return F.subPriority-L.subPriority})}).map(function(G){return G[0]}),D=An(e);if(isNaN(D))return new Date(NaN);var O=JX(D,QX(D)),B={};for(g=0;g<I.length;g++){var U=I[g];if(U.validate&&!U.validate(O,U.value,v))return new Date(NaN);var N=U.set(O,B,U.value,v);N[0]?(O=N[0],l1e(B,N[1])):O=N}return O}function M1e(r,t){if(t.timestampIsSet)return r;var e=new Date(0);return e.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),e.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),e}function I1e(r){return r.match(E1e)[1].replace(_1e,"'")}function P1e(r){an(1,arguments);var t=An(r);return t.setMinutes(0,0,0),t}function dA(r,t){an(2,arguments);var e=An(r),n=An(t);return e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()}function sq(r,t){an(2,arguments);var e=GR(r),n=GR(t);return e.getTime()===n.getTime()}function YL(r){an(1,arguments);var t=An(r);return t.setMilliseconds(0),t}function lq(r,t){an(2,arguments);var e=An(r),n=An(t);return e.getFullYear()===n.getFullYear()}function XL(r,t){an(2,arguments);var e=An(r),n=ei(t),i=e.getFullYear(),a=e.getDate(),o=new Date(0);o.setFullYear(i,n,15),o.setHours(0,0,0,0);var s=c1e(o);return e.setMonth(n,Math.min(a,s)),e}function Ps(r,t){if(an(2,arguments),typeof t!="object"||t===null)throw new RangeError("values parameter must be an object");var e=An(r);return isNaN(e.getTime())?new Date(NaN):(t.year!=null&&e.setFullYear(t.year),t.month!=null&&(e=XL(e,t.month)),t.date!=null&&e.setDate(ei(t.date)),t.hours!=null&&e.setHours(ei(t.hours)),t.minutes!=null&&e.setMinutes(ei(t.minutes)),t.seconds!=null&&e.setSeconds(ei(t.seconds)),t.milliseconds!=null&&e.setMilliseconds(ei(t.milliseconds)),e)}function Sp(r,t){an(2,arguments);var e=An(r),n=ei(t);return e.setHours(n),e}function mI(r,t){an(2,arguments);var e=An(r),n=ei(t);return e.setMinutes(n),e}function R1e(r,t){an(2,arguments);var e=An(r),n=ei(t),i=Math.floor(e.getMonth()/3)+1,a=n-i;return XL(e,e.getMonth()+a*3)}function yI(r,t){an(2,arguments);var e=An(r),n=ei(t);return e.setSeconds(n),e}function Fz(r,t){an(2,arguments);var e=An(r),n=ei(t);return isNaN(e.getTime())?new Date(NaN):(e.setFullYear(n),e)}const uq=1901,UR=40,D1e={date:zxe,month:dA,year:lq,quarter:sq};function Xp(r,t,e="date"){const n=D1e[e];return Array.isArray(r)?r.some(i=>n(i,t)):n(r,t)}function bI(r,t,e,n){let i=!1,a=!1,o=!1;return Array.isArray(e)&&(e[0]<r&&r<e[1]&&(i=!0),Xp(e[0],r)&&(a=!0),Xp(e[1],r)&&(o=!0)),{type:"date",dateObject:{date:Wu(r),month:yo(r),year:bo(r)},inCurrentMonth:dA(r,t),isCurrentDate:Xp(n,r),inSpan:i,startOfSpan:a,endOfSpan:o,selected:e!==null&&Xp(e,r),ts:Cr(r)}}function O1e(r,t,e){return{type:"month",dateObject:{month:yo(r),year:bo(r)},isCurrent:dA(e,r),selected:t!==null&&Xp(t,r,"month"),ts:Cr(r)}}function L1e(r,t,e){return{type:"year",dateObject:{year:bo(r)},isCurrent:lq(e,r),selected:t!==null&&Xp(t,r,"year"),ts:Cr(r)}}function F1e(r,t,e){return{type:"quarter",dateObject:{quarter:Gxe(r),year:bo(r)},isCurrent:sq(e,r),selected:t!==null&&Xp(t,r,"quarter"),ts:Cr(r)}}function HR(r,t,e,n,i=!1){const a=yo(r);let o=Cr(Uh(r)),s=Cr(eE(o,-1));const l=[];let u=!i;for(;u1e(s)!==n||u;)l.unshift(bI(s,r,t,e)),s=Cr(eE(s,-1)),u=!1;for(;yo(o)===a;)l.push(bI(o,r,t,e)),o=Cr(eE(o,1));const c=i?l.length<=28?28:l.length<=35?35:42:42;for(;l.length<c;)l.push(bI(o,r,t,e)),o=Cr(eE(o,1));return l}function N1e(r,t,e){const n=[],i=WL(r);for(let a=0;a<12;a++)n.push(O1e(Cr(rs(i,a)),t,e));return n}function B1e(r,t,e){const n=[],i=WL(r);for(let a=0;a<4;a++)n.push(F1e(Cr(Bxe(i,a)),t,e));return n}function z1e(r,t,e){const n=[],i=new Date(uq,0,1);for(let a=0;a<200;a++)n.push(L1e(Cr($R(i,a)),t,e));return n}function al(r,t,e,n){const i=k1e(r,t,e,n);return gu(i)?Pi(i,t,n)===r?i:new Date(NaN):i}function R2(r){if(r===void 0)return;if(typeof r=="number")return r;const[t,e,n]=r.split(":");return{hours:Number(t),minutes:Number(e),seconds:Number(n)}}var $1e={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeSize:"18px"};const G1e=r=>{const{primaryColor:t,borderRadius:e,lineHeight:n,fontSize:i,cardColor:a,textColor2:o,textColor1:s,dividerColor:l,fontWeightStrong:u,closeColor:c,closeColorHover:f,closeColorPressed:d,modalColor:h,boxShadow1:v,popoverColor:p,actionColor:g}=r;return Object.assign(Object.assign({},$1e),{lineHeight:n,color:a,colorModal:h,colorPopover:p,colorTarget:t,colorEmbedded:g,textColor:o,titleTextColor:s,borderColor:l,actionColor:g,titleFontWeight:u,closeColor:c,closeColorHover:f,closeColorPressed:d,fontSizeSmall:i,fontSizeMedium:i,fontSizeLarge:i,fontSizeHuge:i,boxShadow:v,borderRadius:e})},U1e={name:"Card",common:ci,self:G1e};var cq=U1e,H1e=ke([le("card",`
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 display: flex;
 flex-direction: column;
 width: 100%;
 box-sizing: border-box;
 position: relative;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 color: var(--n-text-color);
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[Ge("hoverable",[ke("&:hover","box-shadow: var(--n-box-shadow);")]),Ge("content-segmented",[ke(">",[Ae("content",{paddingTop:"var(--n-padding-bottom)"})])]),Ge("content-soft-segmented",[ke(">",[Ae("content",`
 margin: 0 var(--n-padding-left);
 padding: var(--n-padding-bottom) 0;
 `)])]),Ge("footer-segmented",[ke(">",[Ae("footer",{paddingTop:"var(--n-padding-bottom)"})])]),Ge("footer-soft-segmented",[ke(">",[Ae("footer",`
 padding: var(--n-padding-bottom) 0;
 margin: 0 var(--n-padding-left);
 `)])]),ke(">",[le("card-header",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 padding:
 var(--n-padding-top)
 var(--n-padding-left)
 var(--n-padding-bottom)
 var(--n-padding-left);
 `,[Ae("main",`
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 color: var(--n-title-text-color);
 `),Ae("extra",`
 display: flex;
 align-items: center;
 font-size: var(--n-font-size);
 font-weight: 400;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),Ae("close",`
 font-size: var(--n-close-size);
 transition: color .3s var(--n-bezier);
 `)]),Ae("action",`
 box-sizing: border-box;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 background-clip: padding-box;
 background-color: var(--n-action-color);
 `),Ae("content","flex: 1;"),Ae("content, footer",`
 box-sizing: border-box;
 padding: 0 var(--n-padding-left) var(--n-padding-bottom) var(--n-padding-left);
 font-size: var(--n-font-size);
 `,[ke("&:first-child",{paddingTop:"var(--n-padding-bottom)"})]),Ae("action",`
 background-color: var(--n-action-color);
 padding: var(--n-padding-bottom) var(--n-padding-left);
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `)]),le("card-cover",`
 overflow: hidden;
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 `,[ke("img",`
 display: block;
 width: 100%;
 `)]),Ge("bordered",`
 border: 1px solid var(--n-border-color);
 `,[ke("&:target","border-color: var(--n-color-target);")]),Ge("action-segmented",[ke(">",[Ae("action",[ke("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),Ge("content-segmented, content-soft-segmented",[ke(">",[Ae("content",{transition:"border-color 0.3s var(--n-bezier)"},[ke("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),Ge("footer-segmented, footer-soft-segmented",[ke(">",[Ae("footer",{transition:"border-color 0.3s var(--n-bezier)"},[ke("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])])]),qw(le("card",{background:"var(--n-color-modal)"})),YT(le("card",{background:"var(--n-color-popover)"})),le("card",[$Y({background:"var(--n-color-modal)"})])]);const qL={title:String,contentStyle:[Object,String],headerStyle:[Object,String],headerExtraStyle:[Object,String],footerStyle:[Object,String],embedded:Boolean,segmented:{type:[Boolean,Object],default:!1},size:{type:String,default:"medium"},bordered:{type:Boolean,default:!0},closable:{type:Boolean,default:!1},hoverable:Boolean,role:String,onClose:[Function,Array]},V1e=Td(qL),W1e=Object.assign(Object.assign({},wr.props),qL);var j1e=It({name:"Card",props:W1e,setup(r){const t=()=>{const{onClose:u}=r;u&&Tt(u)},{inlineThemeDisabled:e,mergedClsPrefixRef:n,mergedRtlRef:i}=Bn(r),a=wr("Card","-card",H1e,cq,r,n),o=HL("Card",i,n),s=re(()=>{const{size:u}=r,{self:{color:c,colorModal:f,colorTarget:d,textColor:h,titleTextColor:v,titleFontWeight:p,borderColor:g,actionColor:m,borderRadius:y,closeColor:b,closeColorHover:w,closeColorPressed:S,lineHeight:E,closeSize:_,boxShadow:A,colorPopover:k,colorEmbedded:T,[lr("padding",u)]:I,[lr("fontSize",u)]:D,[lr("titleFontSize",u)]:O},common:{cubicBezierEaseInOut:B}}=a.value,{top:U,left:N,bottom:G}=l0(I);return{"--n-bezier":B,"--n-border-radius":y,"--n-color":r.embedded?T:c,"--n-color-modal":f,"--n-color-popover":k,"--n-color-target":d,"--n-text-color":h,"--n-line-height":E,"--n-action-color":m,"--n-title-text-color":v,"--n-title-font-weight":p,"--n-close-color":b,"--n-close-color-hover":w,"--n-close-color-pressed":S,"--n-border-color":g,"--n-box-shadow":A,"--n-padding-top":U,"--n-padding-bottom":G,"--n-padding-left":N,"--n-font-size":D,"--n-title-font-size":O,"--n-close-size":_}}),l=e?Ea("card",re(()=>r.size[0]),s,r):void 0;return{rtlEnabled:o,mergedClsPrefix:n,mergedTheme:a,handleCloseClick:t,cssVars:e?void 0:s,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){const{segmented:r,bordered:t,hoverable:e,mergedClsPrefix:n,rtlEnabled:i,onRender:a,$slots:o}=this;return a==null||a(),R("div",{class:[`${n}-card`,this.themeClass,{[`${n}-card--rtl`]:i,[`${n}-card--content${typeof r!="boolean"&&r.content==="soft"?"-soft":""}-segmented`]:r===!0||r!==!1&&r.content,[`${n}-card--footer${typeof r!="boolean"&&r.footer==="soft"?"-soft":""}-segmented`]:r===!0||r!==!1&&r.footer,[`${n}-card--action-segmented`]:r===!0||r!==!1&&r.action,[`${n}-card--bordered`]:t,[`${n}-card--hoverable`]:e}],style:this.cssVars,role:this.role},ba(o.cover,s=>s&&R("div",{class:`${n}-card-cover`,role:"none"},s)),ba(o.header,s=>s||this.title||this.closable?R("div",{class:`${n}-card-header`,style:this.headerStyle},R("div",{class:`${n}-card-header__main`,role:"heading"},s||[this.title]),ba(o["header-extra"],l=>l&&R("div",{class:`${n}-card-header__extra`,style:this.headerExtraStyle},l)),this.closable?R(aA,{clsPrefix:n,class:`${n}-card-header__close`,onClick:this.handleCloseClick}):null):null),ba(o.default,s=>s&&R("div",{class:`${n}-card__content`,style:this.contentStyle,role:"none"},s)),ba(o.footer,s=>s&&[R("div",{class:`${n}-card__footer`,style:this.footerStyle,role:"none"},s)]),ba(o.action,s=>s&&R("div",{class:`${n}-card__action`,role:"none"},s)))}}),Y1e={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px"};const X1e=r=>{const{baseColor:t,inputColorDisabled:e,cardColor:n,modalColor:i,popoverColor:a,textColorDisabled:o,borderColor:s,primaryColor:l,textColor2:u,fontSizeSmall:c,fontSizeMedium:f,fontSizeLarge:d,borderRadiusSmall:h}=r;return Object.assign(Object.assign({},Y1e),{fontSizeSmall:c,fontSizeMedium:f,fontSizeLarge:d,borderRadius:h,color:t,colorChecked:l,colorDisabled:e,colorDisabledChecked:e,colorTableHeader:n,colorTableHeaderModal:i,colorTableHeaderPopover:a,checkMarkColor:t,checkMarkColorDisabled:o,checkMarkColorDisabledChecked:o,border:`1px solid ${s}`,borderDisabled:`1px solid ${s}`,borderDisabledChecked:`1px solid ${s}`,borderChecked:`1px solid ${l}`,borderFocus:`1px solid ${l}`,boxShadowFocus:`0 0 0 2px ${_n(l,{alpha:.3})}`,textColor:u,textColorDisabled:o})},q1e={name:"Checkbox",common:ci,self:X1e};var KL=q1e,K1e=R("svg",{viewBox:"0 0 64 64",class:"check-icon"},R("path",{d:"M50.42,16.76L22.34,39.45l-8.1-11.46c-1.12-1.58-3.3-1.96-4.88-0.84c-1.58,1.12-1.95,3.3-0.84,4.88l10.26,14.51  c0.56,0.79,1.42,1.31,2.38,1.45c0.16,0.02,0.32,0.03,0.48,0.03c0.8,0,1.57-0.27,2.2-0.78l30.99-25.03c1.5-1.21,1.74-3.42,0.52-4.92  C54.13,15.78,51.93,15.55,50.42,16.76z"})),Z1e=R("svg",{viewBox:"0 0 100 100",class:"line-icon"},R("path",{d:"M80.2,55.5H21.4c-2.8,0-5.1-2.5-5.1-5.5l0,0c0-3,2.3-5.5,5.1-5.5h58.7c2.8,0,5.1,2.5,5.1,5.5l0,0C85.2,53.1,82.9,55.5,80.2,55.5z"}));const fq="n-checkbox-group",Q1e={min:Number,max:Number,size:String,value:Array,defaultValue:{type:Array,default:null},disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:{type:[Function,Array],validator:()=>!0,default:void 0}};var J1e=It({name:"CheckboxGroup",props:Q1e,setup(r){const{mergedClsPrefixRef:t}=Bn(r),e=ic(r),{mergedSizeRef:n,mergedDisabledRef:i}=e,a=Re(r.defaultValue),o=re(()=>r.value),s=zi(o,a),l=re(()=>{var f;return((f=s.value)===null||f===void 0?void 0:f.length)||0}),u=re(()=>Array.isArray(s.value)?new Set(s.value):new Set);function c(f,d){const{nTriggerFormInput:h,nTriggerFormChange:v}=e,{onChange:p,"onUpdate:value":g,onUpdateValue:m}=r;if(Array.isArray(s.value)){const y=Array.from(s.value),b=y.findIndex(w=>w===d);f?~b||(y.push(d),m&&Tt(m,y),g&&Tt(g,y),h(),v(),a.value=y,p&&Tt(p,y)):~b&&(y.splice(b,1),m&&Tt(m,y),g&&Tt(g,y),p&&Tt(p,y),a.value=y,h(),v())}else f?(m&&Tt(m,[d]),g&&Tt(g,[d]),p&&Tt(p,[d]),a.value=[d],h(),v()):(m&&Tt(m,[]),g&&Tt(g,[]),p&&Tt(p,[]),a.value=[],h(),v())}return Tn(fq,{checkedCountRef:l,maxRef:tr(r,"max"),minRef:tr(r,"min"),valueSetRef:u,disabledRef:i,mergedSizeRef:n,toggleCheckbox:c}),{mergedClsPrefix:t}},render(){return R("div",{class:`${this.mergedClsPrefix}-checkbox-group`,role:"group"},this.$slots)}}),ewe=ke([le("checkbox",`
 line-height: 1;
 font-size: var(--n-font-size);
 outline: none;
 cursor: pointer;
 display: inline-flex;
 align-items: center;
 white-space: nowrap;
 vertical-align: middle;
 --n-merged-color-table: var(--n-color-table);
 `,[ke("&:hover",[le("checkbox-box",[Ae("border",{border:"var(--n-border-checked)"})])]),ke("&:focus:not(:active)",[le("checkbox-box",[Ae("border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),Ge("inside-table",[le("checkbox-box",`
 background-color: var(--n-merged-color-table);
 `)]),Ge("checked",[le("checkbox-box",`
 background-color: var(--n-color-checked);
 `,[le("checkbox-icon",[ke(".check-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),Ge("indeterminate",[le("checkbox-box",[le("checkbox-icon",[ke(".check-icon",`
 opacity: 0;
 transform: scale(.5);
 `),ke(".line-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),Ge("checked, indeterminate",[ke("&:focus:not(:active)",[le("checkbox-box",[Ae("border",`
 border: var(--n-border-checked);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),le("checkbox-box",`
 background-color: var(--n-color-checked);
 border-left: 0;
 border-top: 0;
 `,[Ae("border",{border:"var(--n-border-checked)"})])]),Ge("disabled",{cursor:"not-allowed"},[Ge("checked",[le("checkbox-box",`
 background-color: var(--n-color-disabled-checked);
 `,[Ae("border",{border:"var(--n-border-disabled-checked)"}),le("checkbox-icon",[ke(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled-checked)"})])])]),le("checkbox-box",`
 background-color: var(--n-color-disabled);
 `,[Ae("border",{border:"var(--n-border-disabled)"}),le("checkbox-icon",[ke(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled)"})])]),Ae("label",{color:"var(--n-text-color-disabled)"})]),le("checkbox-box",`
 height: var(--n-size);
 width: var(--n-size);
 display: inline-block;
 box-sizing: border-box;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 position: relative;
 transition:
 background-color 0.3s var(--n-bezier);
 `,[Ae("border",`
 transition:
 border-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border: var(--n-border);
 `),le("checkbox-icon",`
 display: flex;
 align-items: center;
 justify-content: center;
 position: absolute;
 left: 1px;
 right: 1px;
 top: 1px;
 bottom: 1px;
 `,[ke(".check-icon, .line-icon",`
 width: 100%;
 fill: var(--n-check-mark-color);
 opacity: 0;
 transform: scale(0.5);
 transform-origin: center;
 transition:
 fill 0.3s var(--n-bezier),
 transform 0.3s var(--n-bezier),
 opacity 0.3s var(--n-bezier),
 border-color 0.3s var(--n-bezier);
 `),Md({left:"1px",top:"1px"})])]),Ae("label",`
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 user-select: none;
 padding: var(--n-label-padding);
 `,[ke("&:empty",{display:"none"})])]),qw(le("checkbox",`
 --n-merged-color-table: var(--n-color-table-modal);
 `)),YT(le("checkbox",`
 --n-merged-color-table: var(--n-color-table-popover);
 `))]);const twe=Object.assign(Object.assign({},wr.props),{size:String,checked:{type:[Boolean,String,Number],default:void 0},defaultChecked:{type:[Boolean,String,Number],default:!1},value:[String,Number],disabled:{type:Boolean,default:void 0},indeterminate:Boolean,label:String,focusable:{type:Boolean,default:!0},checkedValue:{type:[Boolean,String,Number],default:!0},uncheckedValue:{type:[Boolean,String,Number],default:!1},"onUpdate:checked":[Function,Array],onUpdateChecked:[Function,Array],privateInsideTable:Boolean,onChange:[Function,Array]});var hA=It({name:"Checkbox",props:twe,setup(r){const t=Re(null),{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Bn(r),i=ic(r,{mergedSize(w){const{size:S}=r;if(S!==void 0)return S;if(s){const{value:E}=s.mergedSizeRef;if(E!==void 0)return E}if(w){const{mergedSize:E}=w;if(E!==void 0)return E.value}return"medium"},mergedDisabled(w){const{disabled:S}=r;if(S!==void 0)return S;if(s){if(s.disabledRef.value)return!0;const{maxRef:{value:E},checkedCountRef:_}=s;if(E!==void 0&&_.value>=E&&!f.value)return!0;const{minRef:{value:A}}=s;if(A!==void 0&&_.value<=A&&f.value)return!0}return w?w.disabled.value:!1}}),{mergedDisabledRef:a,mergedSizeRef:o}=i,s=Sr(fq,null),l=Re(r.defaultChecked),u=tr(r,"checked"),c=zi(u,l),f=Kn(()=>{if(s){const w=s.valueSetRef.value;return w&&r.value!==void 0?w.has(r.value):!1}else return c.value===r.checkedValue}),d=wr("Checkbox","-checkbox",ewe,KL,r,e);function h(w){if(s&&r.value!==void 0)s.toggleCheckbox(!f.value,r.value);else{const{onChange:S,"onUpdate:checked":E,onUpdateChecked:_}=r,{nTriggerFormInput:A,nTriggerFormChange:k}=i,T=f.value?r.uncheckedValue:r.checkedValue;E&&Tt(E,T,w),_&&Tt(_,T,w),S&&Tt(S,T,w),A(),k(),l.value=T}}function v(w){a.value||h(w)}function p(w){if(!a.value)switch(w.code){case"Space":case"Enter":case"NumpadEnter":h(w)}}function g(w){switch(w.code){case"Space":w.preventDefault()}}const m={focus:()=>{var w;(w=t.value)===null||w===void 0||w.focus()},blur:()=>{var w;(w=t.value)===null||w===void 0||w.blur()}},y=re(()=>{const{value:w}=o,{common:{cubicBezierEaseInOut:S},self:{borderRadius:E,color:_,colorChecked:A,colorDisabled:k,colorTableHeader:T,colorTableHeaderModal:I,colorTableHeaderPopover:D,checkMarkColor:O,checkMarkColorDisabled:B,border:U,borderFocus:N,borderDisabled:G,borderChecked:L,boxShadowFocus:F,textColor:W,textColorDisabled:H,checkMarkColorDisabledChecked:K,colorDisabledChecked:ie,borderDisabledChecked:ee,labelPadding:Q,[lr("fontSize",w)]:be,[lr("size",w)]:fe}}=d.value;return{"--n-size":fe,"--n-bezier":S,"--n-border-radius":E,"--n-border":U,"--n-border-checked":L,"--n-border-focus":N,"--n-border-disabled":G,"--n-border-disabled-checked":ee,"--n-box-shadow-focus":F,"--n-color":_,"--n-color-checked":A,"--n-color-table":T,"--n-color-table-modal":I,"--n-color-table-popover":D,"--n-color-disabled":k,"--n-color-disabled-checked":ie,"--n-text-color":W,"--n-text-color-disabled":H,"--n-check-mark-color":O,"--n-check-mark-color-disabled":B,"--n-check-mark-color-disabled-checked":K,"--n-font-size":be,"--n-label-padding":Q}}),b=n?Ea("checkbox",re(()=>o.value[0]),y,r):void 0;return Object.assign(i,m,{selfRef:t,mergedClsPrefix:e,mergedDisabled:a,renderedChecked:f,mergedTheme:d,labelId:gv(),handleClick:v,handleKeyUp:p,handleKeyDown:g,cssVars:n?void 0:y,themeClass:b==null?void 0:b.themeClass,onRender:b==null?void 0:b.onRender})},render(){var r;const{$slots:t,renderedChecked:e,mergedDisabled:n,indeterminate:i,privateInsideTable:a,cssVars:o,labelId:s,label:l,mergedClsPrefix:u,focusable:c,handleKeyUp:f,handleKeyDown:d,handleClick:h}=this;return(r=this.onRender)===null||r===void 0||r.call(this),R("div",{ref:"selfRef",class:[`${u}-checkbox`,this.themeClass,e&&`${u}-checkbox--checked`,n&&`${u}-checkbox--disabled`,i&&`${u}-checkbox--indeterminate`,a&&`${u}-checkbox--inside-table`],tabindex:n||!c?void 0:0,role:"checkbox","aria-checked":i?"mixed":e,"aria-labelledby":s,style:o,onKeyup:f,onKeydown:d,onClick:h,onMousedown:()=>{xa("selectstart",window,v=>{v.preventDefault()},{once:!0})}},R("div",{class:`${u}-checkbox-box`},R(j0,null,{default:()=>this.indeterminate?R("div",{key:"indeterminate",class:`${u}-checkbox-icon`},Z1e):R("div",{key:"check",class:`${u}-checkbox-icon`},K1e)}),R("div",{class:`${u}-checkbox-box__border`})),l!==null||t.default?R("span",{class:`${u}-checkbox__label`,id:s},t.default?t.default():l):null)}});const rwe=r=>{const{textColor2:t,fontSize:e,fontWeightStrong:n}=r;return{textColor:t,fontSize:e,fontWeightStrong:n,"mono-3":"#a0a1a7","hue-1":"#0184bb","hue-2":"#4078f2","hue-3":"#a626a4","hue-4":"#50a14f","hue-5":"#e45649","hue-5-2":"#c91243","hue-6":"#986801","hue-6-2":"#c18401"}},nwe={name:"Code",common:ci,self:rwe};var iwe=nwe,awe=ke([le("code",`
 font-size: var(--n-font-size);
 font-family: var(--n-font-family);
 `,[Ge("word-wrap",[ke("pre",`
 white-space: pre-wrap;
 word-break: break-all;
 `)]),ke("pre",`
 margin: 0;
 font-family: inherit;
 `),ke("[class^=hljs]",`
 color: var(--n-text-color);
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),({props:r})=>{const t=`${r.bPrefix}code`;return[`${t} .hljs-comment,
 ${t} .hljs-quote {
 color: var(--n-mono-3);
 font-style: italic;
 }`,`${t} .hljs-doctag,
 ${t} .hljs-keyword,
 ${t} .hljs-formula {
 color: var(--n-hue-3);
 }`,`${t} .hljs-section,
 ${t} .hljs-name,
 ${t} .hljs-selector-tag,
 ${t} .hljs-deletion,
 ${t} .hljs-subst {
 color: var(--n-hue-5);
 }`,`${t} .hljs-literal {
 color: var(--n-hue-1);
 }`,`${t} .hljs-string,
 ${t} .hljs-regexp,
 ${t} .hljs-addition,
 ${t} .hljs-attribute,
 ${t} .hljs-meta-string {
 color: var(--n-hue-4);
 }`,`${t} .hljs-built_in,
 ${t} .hljs-class .hljs-title {
 color: var(--n-hue-6-2);
 }`,`${t} .hljs-attr,
 ${t} .hljs-variable,
 ${t} .hljs-template-variable,
 ${t} .hljs-type,
 ${t} .hljs-selector-class,
 ${t} .hljs-selector-attr,
 ${t} .hljs-selector-pseudo,
 ${t} .hljs-number {
 color: var(--n-hue-6);
 }`,`${t} .hljs-symbol,
 ${t} .hljs-bullet,
 ${t} .hljs-link,
 ${t} .hljs-meta,
 ${t} .hljs-selector-id,
 ${t} .hljs-title {
 color: var(--n-hue-2);
 }`,`${t} .hljs-emphasis {
 font-style: italic;
 }`,`${t} .hljs-strong {
 font-weight: var(--n-font-weight-strong);
 }`,`${t} .hljs-link {
 text-decoration: underline;
 }`]}]);const owe=Object.assign(Object.assign({},wr.props),{language:String,code:{type:String,default:""},trim:{type:Boolean,default:!0},hljs:Object,uri:Boolean,inline:Boolean,wordWrap:Boolean,internalFontSize:Number,internalNoHighlight:Boolean});var Got=It({name:"Code",props:owe,setup(r,{slots:t}){const{internalNoHighlight:e}=r,{mergedClsPrefixRef:n,inlineThemeDisabled:i}=Bn(),a=Re(null),o=e?{value:void 0}:e0e(r),s=(d,h,v)=>{const{value:p}=o;return!p||!(d&&p.getLanguage(d))?null:p.highlight(v?h.trim():h,{language:d}).value},l=()=>{if(t.default)return;const{value:d}=a;if(!d)return;const{language:h}=r,v=r.uri?window.decodeURIComponent(r.code):r.code;if(h){const g=s(h,v,r.trim);if(g!==null){d.innerHTML=r.inline?g:`<pre>${g}</pre>`;return}}if(r.inline){d.textContent=v;return}const p=d.children[0];if(p&&p.tagName==="PRE")p.textContent=v;else{const g=document.createElement("pre");g.textContent=v,d.innerHTML="",d.appendChild(g)}};Io(l),hn(tr(r,"language"),l),hn(tr(r,"code"),l),e||hn(o,l);const u=wr("Code","-code",awe,iwe,r,n),c=re(()=>{const{common:{cubicBezierEaseInOut:d,fontFamilyMono:h},self:{textColor:v,fontSize:p,fontWeightStrong:g,"mono-3":m,"hue-1":y,"hue-2":b,"hue-3":w,"hue-4":S,"hue-5":E,"hue-5-2":_,"hue-6":A,"hue-6-2":k}}=u.value,{internalFontSize:T}=r;return{"--n-font-size":T?`${T}px`:p,"--n-font-family":h,"--n-font-weight-strong":g,"--n-bezier":d,"--n-text-color":v,"--n-mono-3":m,"--n-hue-1":y,"--n-hue-2":b,"--n-hue-3":w,"--n-hue-4":S,"--n-hue-5":E,"--n-hue-5-2":_,"--n-hue-6":A,"--n-hue-6-2":k}}),f=i?Ea("code",void 0,c,r):void 0;return{mergedClsPrefix:n,codeRef:a,cssVars:i?void 0:c,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender}},render(){const{mergedClsPrefix:r,wordWrap:t,onRender:e}=this;return e==null||e(),R("code",{class:[`${r}-code`,this.themeClass,t&&`${r}-code--word-wrap`],style:this.cssVars,ref:"codeRef"},this.$slots)}});const swe=r=>{const{fontWeight:t,textColor1:e,textColor2:n,dividerColor:i,fontSize:a}=r;return{titleFontSize:a,titleFontWeight:t,dividerColor:i,titleTextColor:e,fontSize:a,textColor:n,arrowColor:n}},lwe={name:"Collapse",common:ci,self:swe};var uwe=lwe,cwe=le("collapse",{width:"100%"},[le("collapse-item",`
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 margin: 16px 0 0 0;
 `,[le("collapse-item","margin-left: 32px;"),ke("&:first-child",{marginTop:0}),ke("&:first-child >",[Ae("header",{paddingTop:0})]),Ge("left-arrow-placement",[Ae("header",[le("collapse-item-arrow",{marginRight:"4px"})])]),Ge("right-arrow-placement",[Ae("header",[le("collapse-item-arrow",{marginLeft:"4px"})])]),Ae("content-wrapper",[Ae("content-inner",{paddingTop:"16px"}),E_({duration:"0.15s"})]),Ge("active",[Ae("header",[Ge("active",[le("collapse-item-arrow",{transform:"rotate(90deg)"})])])]),ke("&:not(:first-child)",{borderTop:"1px solid var(--n-divider-color)"}),Ae("header",`
 font-size: var(--n-title-font-size);
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition: color .3s var(--n-bezier);
 position: relative;
 padding: 16px 0 0 0;
 color: var(--n-title-text-color);
 `,[Ae("header-main",`
 cursor: pointer;
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 color: var(--n-title-text-color);
 `),Ae("header-extra",`
 cursor: pointer;
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),le("collapse-item-arrow",`
 display: flex;
 transition:
 transform .15s var(--n-bezier),
 color .3s var(--n-bezier);
 font-size: 18px;
 color: var(--n-arrow-color);
 `)])])]);const fwe=Object.assign(Object.assign({},wr.props),{defaultExpandedNames:{type:[Array,String],default:null},expandedNames:[Array,String],arrowPlacement:{type:String,default:"left"},accordion:{type:Boolean,default:!1},displayDirective:{type:String,default:"if"},onItemHeaderClick:[Function,Array],"onUpdate:expandedNames":[Function,Array],onUpdateExpandedNames:[Function,Array],onExpandedNamesChange:{type:[Function,Array],validator:()=>!0,default:void 0}}),dq="n-collapse";var Uot=It({name:"Collapse",props:fwe,setup(r,{slots:t}){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Bn(r),i=Re(r.defaultExpandedNames),a=re(()=>r.expandedNames),o=zi(a,i),s=wr("Collapse","-collapse",cwe,uwe,r,e);function l(h){const{"onUpdate:expandedNames":v,onUpdateExpandedNames:p,onExpandedNamesChange:g}=r;p&&Tt(p,h),v&&Tt(v,h),g&&Tt(g,h),i.value=h}function u(h){const{onItemHeaderClick:v}=r;v&&Tt(v,h)}function c(h,v,p){const{accordion:g}=r,{value:m}=o;if(g)h?(l([v]),u({name:v,expanded:!0,event:p})):(l([]),u({name:v,expanded:!1,event:p}));else if(!Array.isArray(m))l([v]),u({name:v,expanded:!0,event:p});else{const y=m.slice(),b=y.findIndex(w=>v===w);~b?(y.splice(b,1),l(y),u({name:v,expanded:!1,event:p})):(y.push(v),l(y),u({name:v,expanded:!0,event:p}))}}Tn(dq,{props:r,mergedClsPrefixRef:e,expandedNamesRef:o,slots:t,toggleItem:c});const f=re(()=>{const{common:{cubicBezierEaseInOut:h},self:{titleFontWeight:v,dividerColor:p,titleTextColor:g,textColor:m,arrowColor:y,fontSize:b,titleFontSize:w}}=s.value;return{"--n-font-size":b,"--n-bezier":h,"--n-text-color":m,"--n-divider-color":p,"--n-title-font-size":w,"--n-title-text-color":g,"--n-title-font-weight":v,"--n-arrow-color":y}}),d=n?Ea("collapse",void 0,f,r):void 0;return{mergedTheme:s,mergedClsPrefix:e,cssVars:n?void 0:f,themeClass:d==null?void 0:d.themeClass,onRender:d==null?void 0:d.onRender}},render(){var r;return(r=this.onRender)===null||r===void 0||r.call(this),R("div",{class:[`${this.mergedClsPrefix}-collapse`,this.themeClass],style:this.cssVars},this.$slots)}}),dwe=It({name:"CollapseItemContent",props:{displayDirective:{type:String,required:!0},show:Boolean,clsPrefix:{type:String,required:!0}},setup(r){return{onceTrue:GY(tr(r,"show"))}},render(){return R(iA,null,{default:()=>{const{show:r,displayDirective:t,onceTrue:e,clsPrefix:n}=this,i=t==="show"&&e,a=R("div",{class:`${n}-collapse-item__content-wrapper`},R("div",{class:`${n}-collapse-item__content-inner`},this.$slots));return i?Gl(a,[[J1,r]]):r?a:null}})}});const hwe={title:String,name:[String,Number],displayDirective:String};var Hot=It({name:"CollapseItem",props:hwe,setup(r){const t=gv(),e=Kn(()=>{var u;return(u=r.name)!==null&&u!==void 0?u:t}),n=Sr(dq);n||U0("collapse-item","`n-collapse-item` must be placed inside `n-collapse`.");const{expandedNamesRef:i,props:a,mergedClsPrefixRef:o,slots:s}=n,l=re(()=>{const{value:u}=i;if(Array.isArray(u)){const{value:c}=e;return!~u.findIndex(f=>f===c)}else if(u){const{value:c}=e;return c!==u}return!0});return{collapseSlots:s,randomName:t,mergedClsPrefix:o,collapsed:l,mergedDisplayDirective:re(()=>{const{displayDirective:u}=r;return u||a.displayDirective}),arrowPlacement:re(()=>a.arrowPlacement),handleClick(u){n&&n.toggleItem(l.value,e.value,u)}}},render(){var r;const{collapseSlots:t,$slots:e,arrowPlacement:n,collapsed:i,mergedDisplayDirective:a,mergedClsPrefix:o}=this,s=e.header?e.header():this.title,l=e["header-extra"]||t["header-extra"],u=e.arrow||t.arrow;return R("div",{class:[`${o}-collapse-item`,`${o}-collapse-item--${n}-arrow-placement`,!i&&`${o}-collapse-item--active`]},R("div",{class:[`${o}-collapse-item__header`,!i&&`${o}-collapse-item__header--active`]},R("div",{class:`${o}-collapse-item__header-main`,onClick:this.handleClick},n==="right"&&s,R("div",{class:`${o}-collapse-item-arrow`},u?u({collapsed:i}):R(Hi,{clsPrefix:o},{default:(r=t.expandIcon)!==null&&r!==void 0?r:()=>R(JT,null)})),n==="left"&&s),l&&R("div",{class:`${o}-collapse-item__header-extra`,onClick:this.handleClick},{default:l})),R(dwe,{clsPrefix:o,displayDirective:a,show:!i},e))}});const vwe={abstract:Boolean,bordered:{type:Boolean,default:void 0},clsPrefix:String,locale:Object,dateLocale:Object,namespace:String,rtl:Array,tag:{type:String,default:"div"},hljs:Object,theme:Object,themeOverrides:Object,componentOptions:Object,icons:Object,breakpoints:Object,inlineThemeDisabled:{type:Boolean,default:void 0},as:{type:String,validator:()=>(rf("config-provider","`as` is deprecated, please use `tag` instead."),!0),default:void 0}};var Vot=It({name:"ConfigProvider",alias:["App"],props:vwe,setup(r){const t=Sr(kd,null),e=re(()=>{const{theme:h}=r;if(h===null)return;const v=t==null?void 0:t.mergedThemeRef.value;return h===void 0?v:v===void 0?h:Object.assign({},v,h)}),n=re(()=>{const{themeOverrides:h}=r;if(h!==null){if(h===void 0)return t==null?void 0:t.mergedThemeOverridesRef.value;{const v=t==null?void 0:t.mergedThemeOverridesRef.value;return v===void 0?h:Zx({},v,h)}}}),i=Kn(()=>{const{namespace:h}=r;return h===void 0?t==null?void 0:t.mergedNamespaceRef.value:h}),a=Kn(()=>{const{bordered:h}=r;return h===void 0?t==null?void 0:t.mergedBorderedRef.value:h}),o=re(()=>{const{icons:h}=r;return h===void 0?t==null?void 0:t.mergedIconsRef.value:h}),s=re(()=>{const{componentOptions:h}=r;return h!==void 0?h:t==null?void 0:t.mergedComponentPropsRef.value}),l=re(()=>{const{clsPrefix:h}=r;return h!==void 0?h:t==null?void 0:t.mergedClsPrefixRef.value}),u=re(()=>{const{rtl:h}=r;if(h===void 0)return t==null?void 0:t.mergedRtlRef.value;const v={};for(const p of h)v[p.name]=cL(p);return v}),c=re(()=>r.breakpoints||(t==null?void 0:t.mergedBreakpointsRef.value)),f=r.inlineThemeDisabled||(t==null?void 0:t.inlineThemeDisabled),d=re(()=>{const{value:h}=e,{value:v}=n,p=v&&Object.keys(v).length!==0,g=h==null?void 0:h.name;return g?p?`${g}-${rw(JSON.stringify(n.value))}`:g:p?rw(JSON.stringify(n.value)):""});return Tn(kd,{mergedThemeHashRef:d,mergedBreakpointsRef:c,mergedRtlRef:u,mergedIconsRef:o,mergedComponentPropsRef:s,mergedBorderedRef:a,mergedNamespaceRef:i,mergedClsPrefixRef:l,mergedLocaleRef:re(()=>{const{locale:h}=r;if(h!==null)return h===void 0?t==null?void 0:t.mergedLocaleRef.value:h}),mergedDateLocaleRef:re(()=>{const{dateLocale:h}=r;if(h!==null)return h===void 0?t==null?void 0:t.mergedDateLocaleRef.value:h}),mergedHljsRef:re(()=>{const{hljs:h}=r;return h===void 0?t==null?void 0:t.mergedHljsRef.value:h}),mergedThemeRef:e,mergedThemeOverridesRef:n,inlineThemeDisabled:f||!1}),{mergedClsPrefix:l,mergedBordered:a,mergedNamespace:i,mergedTheme:e,mergedThemeOverrides:n}},render(){var r,t,e,n;return this.abstract?(n=(e=this.$slots).default)===null||n===void 0?void 0:n.call(e):R(this.as||this.tag,{class:`${this.mergedClsPrefix||SX}-config-provider`},(t=(r=this.$slots).default)===null||t===void 0?void 0:t.call(r))}});const pwe=r=>1-Math.pow(1-r,5);function gwe(r){const{from:t,to:e,duration:n,onUpdate:i,onFinish:a}=r,o=()=>{const l=performance.now(),u=Math.min(l-s,n),c=t+(e-t)*pwe(u/n);if(u===n){a();return}i(c),requestAnimationFrame(o)},s=performance.now();o()}const mwe={to:{type:Number,default:0},precision:{type:Number,default:0},showSeparator:Boolean,locale:String,from:{type:Number,default:0},active:{type:Boolean,default:!0},duration:{type:Number,default:2e3}};var Wot=It({name:"NumberAnimation",props:mwe,setup(r){const{localeRef:t}=Bd("name"),{duration:e}=r,n=Re(r.from),i=re(()=>{const{locale:d}=r;return d!==void 0?d:t.value});let a=!1;const o=d=>{n.value=d},s=()=>{n.value=r.to,a=!1},l=(d=r.from,h=r.to)=>{a=!0,n.value=r.from,d!==h&&gwe({from:d,to:h,duration:e,onUpdate:o,onFinish:s})},u=re(()=>{var d;const v=oye(n.value,r.precision).toFixed(r.precision).split("."),p=new Intl.NumberFormat(i.value),g=(d=p.formatToParts(.5).find(b=>b.type==="decimal"))===null||d===void 0?void 0:d.value,m=r.showSeparator?p.format(Number(v[0])):v[0],y=v[1];return{integer:m,decimal:y,decimalSeparator:g}});function c(){a||l()}return Io(()=>{Go(()=>{r.active&&l()})}),Object.assign({formattedValue:u},{play:c})},render(){const{formattedValue:{integer:r,decimal:t,decimalSeparator:e}}=this;return[r,t?e:null,t]}});function ywe(r){const{boxShadow2:t}=r;return{menuBoxShadow:t}}const bwe={name:"Select",common:ci,peers:{InternalSelection:VL,InternalSelectMenu:UX},self:ywe};var hq=bwe,xwe=ke([le("select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 `),le("select-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[Dv()])]);const wwe=Object.assign(Object.assign({},wr.props),{to:Xo.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:{type:Function,default:Cxe},placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:{type:Function,default:r=>({label:r,value:r})},fallbackOption:{type:[Function,Boolean],default:()=>r=>({label:String(r),value:r})},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},onChange:[Function,Array],items:Array});var Swe=It({name:"Select",props:wwe,setup(r){const{mergedClsPrefixRef:t,mergedBorderedRef:e,namespaceRef:n,inlineThemeDisabled:i}=Bn(r),a=wr("Select","-select",xwe,hq,r,t),o=Re(r.defaultValue),s=tr(r,"value"),l=zi(s,o),u=Re(!1),c=Re(""),f=re(()=>Cg(T.value,xxe)),d=re(()=>Sxe(k.value)),h=Re(!1),v=zi(tr(r,"show"),h),p=Re(null),g=Re(null),m=Re(null),{localeRef:y}=Bd("Select"),b=re(()=>{var J;return(J=r.placeholder)!==null&&J!==void 0?J:y.value.placeholder}),w=XT(r,["items","options"]),S=Re([]),E=Re([]),_=Re(new Map),A=re(()=>{const{fallbackOption:J}=r;return J?Pe=>Object.assign(J(Pe),{value:Pe}):!1}),k=re(()=>E.value.concat(S.value).concat(w.value)),T=re(()=>{if(r.remote)return w.value;{const{value:J}=k,{value:Pe}=c;if(!Pe.length||!r.filterable)return J;{const{filter:Ce}=r;return wxe(J,Ce,Pe)}}});function I(J){const Pe=r.remote,{value:Ce}=_,{value:ct}=d,{value:mt}=A,Me=[];return J.forEach(ht=>{if(ct.has(ht))Me.push(ct.get(ht));else if(Pe&&Ce.has(ht))Me.push(Ce.get(ht));else if(mt){const ar=mt(ht);ar&&Me.push(ar)}}),Me}const D=re(()=>{if(r.multiple){const{value:J}=l;return Array.isArray(J)?I(J):[]}return null}),O=re(()=>{const{value:J}=l;return!r.multiple&&!Array.isArray(J)?J===null?null:I([J])[0]||null:null}),B=ic(r),{mergedSizeRef:U,mergedDisabledRef:N,mergedStatusRef:G}=B;function L(J,Pe){const{onChange:Ce,"onUpdate:value":ct,onUpdateValue:mt}=r,{nTriggerFormChange:Me,nTriggerFormInput:ht}=B;Ce&&Tt(Ce,J,Pe),mt&&Tt(mt,J,Pe),ct&&Tt(ct,J,Pe),o.value=J,Me(),ht()}function F(J){const{onBlur:Pe}=r,{nTriggerFormBlur:Ce}=B;Pe&&Tt(Pe,J),Ce()}function W(){const{onClear:J}=r;J&&Tt(J)}function H(J){const{onFocus:Pe}=r,{nTriggerFormFocus:Ce}=B;Pe&&Tt(Pe,J),Ce()}function K(J){const{onSearch:Pe}=r;Pe&&Tt(Pe,J)}function ie(J){const{onScroll:Pe}=r;Pe&&Tt(Pe,J)}function ee(){var J;const{remote:Pe,multiple:Ce}=r;if(Pe){const{value:ct}=_;if(Ce)(J=D.value)===null||J===void 0||J.forEach(mt=>{ct.set(mt.value,mt)});else{const mt=O.value;mt&&ct.set(mt.value,mt)}}}function Q(J){const{onUpdateShow:Pe,"onUpdate:show":Ce}=r;Pe&&Tt(Pe,J),Ce&&Tt(Ce,J),h.value=J}function be(){N.value||(Q(!0),h.value=!0,r.filterable&&lt())}function fe(){Q(!1)}function he(){c.value="",E.value=[]}const Ee=Re(!1);function He(){r.filterable&&(Ee.value=!0)}function nt(){r.filterable&&(Ee.value=!1,v.value||he())}function st(){N.value||(v.value?r.filterable||fe():be())}function z(J){var Pe,Ce;((Ce=(Pe=m.value)===null||Pe===void 0?void 0:Pe.selfRef)===null||Ce===void 0?void 0:Ce.contains(J.relatedTarget))||(u.value=!1,F(J),fe())}function j(J){H(J),u.value=!0}function X(J){u.value=!0}function ae(J){var Pe;((Pe=p.value)===null||Pe===void 0?void 0:Pe.$el.contains(J.relatedTarget))||(u.value=!1,F(J),fe())}function ue(){var J;(J=p.value)===null||J===void 0||J.focus(),fe()}function Be(J){var Pe;v.value&&(((Pe=p.value)===null||Pe===void 0?void 0:Pe.$el.contains(J.target))||fe())}function Ze(J){if(!Array.isArray(J))return[];if(A.value)return Array.from(J);{const{remote:Pe}=r,{value:Ce}=d;if(Pe){const{value:ct}=_;return J.filter(mt=>Ce.has(mt)||ct.has(mt))}else return J.filter(ct=>Ce.has(ct))}}function Le(J){se(J.rawNode)}function se(J){if(N.value)return;const{tag:Pe,remote:Ce,clearFilterAfterSelect:ct}=r;if(Pe&&!Ce){const{value:mt}=E,Me=mt[0]||null;Me&&(S.value.push(Me),E.value=[])}if(Ce&&_.value.set(J.value,J),r.multiple){const mt=Ze(l.value),Me=mt.findIndex(ht=>ht===J.value);if(~Me){if(mt.splice(Me,1),Pe&&!Ce){const ht=Se(J.value);~ht&&(S.value.splice(ht,1),ct&&(c.value=""))}}else mt.push(J.value),ct&&(c.value="");L(mt,I(mt))}else{if(Pe&&!Ce){const mt=Se(J.value);~mt?S.value=[S.value[mt]]:S.value=[]}Ue(),fe(),L(J.value,J)}}function Se(J){return S.value.findIndex(Ce=>Ce.value===J)}function Y(J){v.value||be();const{value:Pe}=J.target;c.value=Pe;const{tag:Ce,remote:ct}=r;if(K(Pe),Ce&&!ct){if(!Pe){E.value=[];return}const mt=r.onCreate(Pe);w.value.some(Me=>Me.value===mt.value)||S.value.some(Me=>Me.value===mt.value)?E.value=[]:E.value=[mt]}}function ve(J){J.stopPropagation();const{multiple:Pe}=r;!Pe&&r.filterable&&fe(),W(),Pe?L([],[]):L(null,null)}function ce(J){tf(J,"action")||J.preventDefault()}function de(J){ie(J)}function Fe(J){var Pe,Ce,ct,mt,Me;switch(J.code){case"Space":if(r.filterable)break;J.preventDefault();case"Enter":case"NumpadEnter":if(!((Pe=p.value)===null||Pe===void 0?void 0:Pe.isCompositing)){if(v.value){const ht=(Ce=m.value)===null||Ce===void 0?void 0:Ce.getPendingTmNode();ht?Le(ht):r.filterable||(fe(),Ue())}else if(be(),r.tag&&Ee.value){const ht=E.value[0];if(ht){const ar=ht.value,{value:Ht}=l;r.multiple&&Array.isArray(Ht)&&Ht.some(Er=>Er===ar)||se(ht)}}}J.preventDefault();break;case"ArrowUp":if(J.preventDefault(),r.loading)return;v.value&&((ct=m.value)===null||ct===void 0||ct.prev());break;case"ArrowDown":if(J.preventDefault(),r.loading)return;v.value?(mt=m.value)===null||mt===void 0||mt.next():be();break;case"Escape":fe(),(Me=p.value)===null||Me===void 0||Me.focus();break}}function Ue(){var J;(J=p.value)===null||J===void 0||J.focus()}function lt(){var J;(J=p.value)===null||J===void 0||J.focusInput()}function ut(){var J;(J=g.value)===null||J===void 0||J.syncPosition()}return ee(),hn(tr(r,"options"),ee),hn(T,()=>{!v.value||Ja(ut)}),hn(l,()=>{!v.value||Ja(ut)}),Object.assign(Object.assign({},{focus:()=>{var J;(J=p.value)===null||J===void 0||J.focus()},blur:()=>{var J;(J=p.value)===null||J===void 0||J.blur()}}),{mergedStatus:G,mergedClsPrefix:t,mergedBordered:e,namespace:n,treeMate:f,isMounted:Mv(),triggerRef:p,menuRef:m,pattern:c,uncontrolledShow:h,mergedShow:v,adjustedTo:Xo(r),uncontrolledValue:o,mergedValue:l,followerRef:g,localizedPlaceholder:b,selectedOption:O,selectedOptions:D,mergedSize:U,mergedDisabled:N,focused:u,activeWithoutMenuOpen:Ee,inlineThemeDisabled:i,onTriggerInputFocus:He,onTriggerInputBlur:nt,handleMenuFocus:X,handleMenuBlur:ae,handleMenuTabOut:ue,handleTriggerClick:st,handleToggle:Le,handleDeleteOption:se,handlePatternInput:Y,handleClear:ve,handleTriggerBlur:z,handleTriggerFocus:j,handleKeydown:Fe,syncPosition:ut,handleMenuAfterLeave:he,handleMenuClickOutside:Be,handleMenuScroll:de,handleMenuKeydown:Fe,handleMenuMousedown:ce,mergedTheme:a,cssVars:re(()=>{const{self:{menuBoxShadow:J}}=a.value;return{"--n-menu-box-shadow":J}})})},render(){return R("div",{class:`${this.mergedClsPrefix}-select`},R(Vg,null,{default:()=>[R(Wg,null,{default:()=>R(jX,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus},{arrow:()=>{var r,t;return[(t=(r=this.$slots).arrow)===null||t===void 0?void 0:t.call(r)]}})}),R(jg,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===Xo.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>R(uo,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var r,t;return(this.mergedShow||this.displayDirective==="show")&&Gl(R(Vbe,Object.assign({},this.menuProps,{ref:"menuRef",inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:[`${this.mergedClsPrefix}-select-menu`,(r=this.menuProps)===null||r===void 0?void 0:r.class],clsPrefix:this.mergedClsPrefix,focusable:!0,autoPending:!0,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:"medium",renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(t=this.menuProps)===null||t===void 0?void 0:t.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var e,n;return[(n=(e=this.$slots).empty)===null||n===void 0?void 0:n.call(e)]},action:()=>{var e,n;return[(n=(e=this.$slots).action)===null||n===void 0?void 0:n.call(e)]}}),this.displayDirective==="show"?[[J1,this.mergedShow],[Id,this.handleMenuClickOutside]]:[[Id,this.handleMenuClickOutside]])}})})]}))}}),Cwe={itemSize:"28px",itemPadding:"0 4px",itemMargin:"0 0 0 8px",buttonIconSize:"16px",inputWidth:"60px",selectWidth:"unset",inputMargin:"0 0 0 8px",selectMargin:"0 0 0 8px",prefixMargin:"0 8px 0 0",suffixMargin:"0 0 0 8px",jumperFontSize:"14px"};const Ewe=r=>{const{textColor2:t,primaryColor:e,primaryColorHover:n,primaryColorPressed:i,inputColorDisabled:a,textColorDisabled:o,borderColor:s,borderRadius:l,fontSize:u}=r;return Object.assign(Object.assign({},Cwe),{buttonColor:"#0000",buttonColorHover:"#0000",buttonColorPressed:"#0000",buttonBorder:`1px solid ${s}`,buttonBorderHover:`1px solid ${s}`,buttonBorderPressed:`1px solid ${s}`,buttonIconColor:t,buttonIconColorHover:t,buttonIconColorPressed:t,itemTextColor:t,itemTextColorHover:n,itemTextColorPressed:i,itemTextColorActive:e,itemTextColorDisabled:o,itemColor:"#0000",itemColorHover:"#0000",itemColorPressed:"#0000",itemColorActive:"#0000",itemColorActiveHover:"#0000",itemColorDisabled:a,itemBorder:"1px solid #0000",itemBorderHover:"1px solid #0000",itemBorderPressed:"1px solid #0000",itemBorderActive:`1px solid ${e}`,itemBorderDisabled:`1px solid ${s}`,itemBorderRadius:l,itemFontSize:u,jumperTextColor:t,jumperTextColorDisabled:o})},_we={name:"Pagination",common:ci,peers:{Select:hq,Input:fA},self:Ewe};var vq=_we;function Twe(r,t,e=9){if(t===1)return[1];if(t===2)return[1,2];const n=1,i=t;let a=r,o=r;const s=(e-5)/2;o+=Math.ceil(s),o=Math.min(Math.max(o,n+e-3),i-2),a-=Math.floor(s),a=Math.max(Math.min(a,i-e+3),n+2);let l=!1,u=!1;a>n+2&&(l=!0),o<i-2&&(u=!0);const c=[];c.push(n),l?c.push(-2):i>=n+1&&c.push(n+1);for(let f=a;f<=o;++f)c.push(f);return u?c.push(-1):o===i-2&&c[c.length-1]!==i-1&&c.push(i-1),c[c.length-1]!==i&&c.push(i),c}function Awe(r,t){return r.map(e=>{switch(e){case-2:return{type:"fast-backward",active:!1};case-1:return{type:"fast-forward",active:!1};default:return e===t?{type:"page",label:e,active:!0}:{type:"page",label:e,active:!1}}})}function kwe(r,t,e){const n=Twe(r,t,e);return Awe(n,r)}var Mwe=le("pagination",`
 display: flex;
 vertical-align: middle;
 font-size: var(--n-item-font-size);
 flex-wrap: nowrap;
`,[le("pagination-prefix",`
 display: flex;
 align-items: center;
 margin: var(--n-prefix-margin);
 `),le("pagination-suffix",`
 display: flex;
 align-items: center;
 margin: var(--n-suffix-margin);
 `),ke("> *:not(:first-child)",{margin:"var(--n-item-margin)"}),le("select",{width:"var(--n-select-width)"}),ke("&.transition-disabled",[le("pagination-item",{transition:"none!important"})]),le("pagination-quick-jumper",`
 white-space: nowrap;
 display: flex;
 color: var(--n-jumper-text-color);
 transition: color .3s var(--n-bezier);
 align-items: center;
 font-size: var(--n-jumter-font-size);
 `,[le("input",`
 margin: var(--n-input-margin);
 width: var(--n-input-width);
 `)]),le("pagination-item",`
 position: relative;
 cursor: pointer;
 user-select: none;
 display: flex;
 align-items: center;
 justify-content: center;
 box-sizing: border-box;
 min-width: var(--n-item-size);
 height: var(--n-item-size);
 padding: var(--n-item-padding);
 background-color: var(--n-item-color);
 color: var(--n-item-text-color);
 border-radius: var(--n-item-border-radius);
 border: var(--n-item-border);
 fill: var(--n-button-icon-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 fill .3s var(--n-bezier);
 `,[Ge("button",`
 background: var(--n-button-color);
 color: var(--n-button-icon-color);
 border: var(--n-button-border);
 `,[le("base-icon",`
 font-size: var(--n-button-icon-size);
 `)]),Nn("disabled",[ke("&:hover",{background:"var(--n-item-color-hover)",color:"var(--n-item-text-color-hover)",border:"var(--n-item-border-hover)"},[Ge("button",{background:"var(--n-button-color-hover)",border:"var(--n-button-border-hover)",color:"var(--n-button-icon-color-hover)"})]),ke("&:active",{background:"var(--n-item-color-pressed)",color:"var(--n-item-text-color-pressed)",border:"var(--n-item-border-pressed)"},[Ge("button",{background:"var(--n-button-color-pressed)",border:"var(--n-button-border-pressed)",color:"var(--n-button-icon-color-pressed)"})]),Ge("active",{background:"var(--n-item-color-active)",color:"var(--n-item-text-color-active)",border:"var(--n-item-border-active)"},[ke("&:hover",{background:"var(--n-item-color-active-hover)"})])]),Ge("disabled",`
 cursor: not-allowed;
 color: var(--n-item-text-color-disabled);
 `,[Ge("active, button",{backgroundColor:"var(--n-item-color-disabled)",border:"var(--n-item-border-disabled)"})])]),Ge("disabled",{cursor:"not-allowed"},[le("pagination-quick-jumper",{color:"var(--n-jumper-text-color-disabled)"})])]);const Iwe=Object.assign(Object.assign({},wr.props),{page:Number,defaultPage:{type:Number,default:1},itemCount:Number,pageCount:Number,defaultPageCount:{type:Number,default:1},showSizePicker:Boolean,pageSize:Number,defaultPageSize:{type:Number,default:10},pageSizes:{type:Array,default(){return[10]}},showQuickJumper:Boolean,disabled:Boolean,pageSlot:{type:Number,default:9},prev:Function,next:Function,prefix:Function,suffix:Function,label:Function,"onUpdate:page":[Function,Array],onUpdatePage:[Function,Array],"onUpdate:pageSize":[Function,Array],onUpdatePageSize:[Function,Array],onPageSizeChange:[Function,Array],onChange:[Function,Array]});var Pwe=It({name:"Pagination",props:Iwe,setup(r){const{mergedComponentPropsRef:t,mergedClsPrefixRef:e,inlineThemeDisabled:n}=Bn(r),i=wr("Pagination","-pagination",Mwe,vq,r,e),{localeRef:a}=Bd("Pagination"),o=Re(null),s=Re(null),l=Re(""),u=Re(r.defaultPage),c=Re(r.defaultPageSize),f=zi(tr(r,"page"),u),d=zi(tr(r,"pageSize"),c),h=re(()=>{const{itemCount:H}=r;if(H!==void 0)return Math.max(1,Math.ceil(H/d.value));const{pageCount:K}=r;return K!==void 0?K:1}),v=Re(!1),p=Re(!1),g=re(()=>{const H=a.value.selectionSuffix;return r.pageSizes.map(K=>typeof K=="number"?{label:`${K} / ${H}`,value:K}:K)}),m=re(()=>{var H,K;return((K=(H=t==null?void 0:t.value)===null||H===void 0?void 0:H.Pagination)===null||K===void 0?void 0:K.inputSize)||"small"}),y=re(()=>{var H,K;return((K=(H=t==null?void 0:t.value)===null||H===void 0?void 0:H.Pagination)===null||K===void 0?void 0:K.selectSize)||"small"}),b=re(()=>(f.value-1)*d.value),w=re(()=>{const H=f.value*d.value-1,{itemCount:K}=r;return K!==void 0&&H>K?K:H}),S=re(()=>{const{itemCount:H}=r;return H!==void 0?H:(r.pageCount||1)*d.value}),E=()=>{Ja(()=>{var H;const{value:K}=o;!K||(K.classList.add("transition-disabled"),(H=o.value)===null||H===void 0||H.offsetWidth,K.classList.remove("transition-disabled"))})};function _(H){if(H===f.value)return;const{"onUpdate:page":K,onUpdatePage:ie,onChange:ee}=r;K&&Tt(K,H),ie&&Tt(ie,H),ee&&Tt(ee,H),u.value=H}function A(H){if(H===d.value)return;const{"onUpdate:pageSize":K,onUpdatePageSize:ie,onPageSizeChange:ee}=r;K&&Tt(K,H),ie&&Tt(ie,H),ee&&Tt(ee,H),c.value=H,h.value<f.value&&_(h.value)}function k(){if(r.disabled)return;const H=Math.min(f.value+1,h.value);_(H)}function T(){if(r.disabled)return;const H=Math.max(f.value-1,1);_(H)}function I(){if(r.disabled)return;const H=Math.min(f.value+(r.pageSlot-4),h.value);_(H)}function D(){if(r.disabled)return;const H=Math.max(f.value-(r.pageSlot-4),1);_(H)}function O(H){A(H)}function B(H){var K;if(H.code==="Enter"||H.code==="NumpadEnter"){const ie=parseInt(l.value);!Number.isNaN(ie)&&ie>=1&&ie<=h.value&&(_(ie),l.value="",(K=s.value)===null||K===void 0||K.blur())}}function U(H){if(!r.disabled)switch(H.type){case"page":_(H.label);break;case"fast-backward":D();break;case"fast-forward":I();break}}function N(H){if(!r.disabled){switch(H.type){case"fast-backward":p.value=!0;break;case"fast-forward":v.value=!0;break;default:return}E()}}function G(H){if(!r.disabled){switch(H.type){case"fast-backward":p.value=!1;break;case"fast-forward":v.value=!1;break;default:return}E()}}function L(H){l.value=H}Go(()=>{f.value,d.value,E()});const F=re(()=>{const{self:{itemSize:H,itemPadding:K,itemMargin:ie,inputWidth:ee,selectWidth:Q,inputMargin:be,selectMargin:fe,buttonBorder:he,buttonBorderHover:Ee,buttonBorderPressed:He,buttonIconColor:nt,buttonIconColorHover:st,buttonIconColorPressed:z,buttonIconSize:j,itemTextColor:X,itemTextColorHover:ae,itemTextColorPressed:ue,itemTextColorActive:Be,itemTextColorDisabled:Ze,itemColor:Le,itemColorHover:se,itemColorPressed:Se,itemColorActive:Y,itemColorActiveHover:ve,itemColorDisabled:ce,itemBorder:de,itemBorderHover:Fe,itemBorderPressed:Ue,itemBorderActive:lt,itemBorderDisabled:ut,itemBorderRadius:We,itemFontSize:J,jumperFontSize:Pe,jumperTextColor:Ce,jumperTextColorDisabled:ct,prefixMargin:mt,suffixMargin:Me,buttonColor:ht,buttonColorHover:ar,buttonColorPressed:Ht},common:{cubicBezierEaseInOut:Er}}=i.value;return{"--n-prefix-margin":mt,"--n-suffix-margin":Me,"--n-item-font-size":J,"--n-select-width":Q,"--n-select-margin":fe,"--n-input-width":ee,"--n-input-margin":be,"--n-item-size":H,"--n-item-text-color":X,"--n-item-text-color-disabled":Ze,"--n-item-text-color-hover":ae,"--n-item-text-color-active":Be,"--n-item-text-color-pressed":ue,"--n-item-color":Le,"--n-item-color-hover":se,"--n-item-color-disabled":ce,"--n-item-color-active":Y,"--n-item-color-active-hover":ve,"--n-item-color-pressed":Se,"--n-item-border":de,"--n-item-border-hover":Fe,"--n-item-border-disabled":ut,"--n-item-border-active":lt,"--n-item-border-pressed":Ue,"--n-item-padding":K,"--n-item-border-radius":We,"--n-bezier":Er,"--n-jumper-font-size":Pe,"--n-jumper-text-color":Ce,"--n-jumper-text-color-disabled":ct,"--n-item-margin":ie,"--n-button-icon-size":j,"--n-button-icon-color":nt,"--n-button-icon-color-hover":st,"--n-button-icon-color-pressed":z,"--n-button-color-hover":ar,"--n-button-color":ht,"--n-button-color-pressed":Ht,"--n-button-border":he,"--n-button-border-hover":Ee,"--n-button-border-pressed":He}}),W=n?Ea("pagination",void 0,F,r):void 0;return{mergedClsPrefix:e,locale:a,selfRef:o,jumperRef:s,mergedPage:f,showFastBackward:p,showFastForward:v,pageItems:re(()=>kwe(f.value,h.value,r.pageSlot)),mergedItemCount:S,jumperValue:l,pageSizeOptions:g,mergedPageSize:d,inputSize:m,selectSize:y,mergedTheme:i,mergedPageCount:h,startIndex:b,endIndex:w,handleJumperInput:L,handleBackwardClick:T,handleForwardClick:k,handlePageItemClick:U,handleSizePickerChange:O,handleQuickJumperKeyUp:B,handlePageItemMouseEnter:N,handlePageItemMouseLeave:G,cssVars:n?void 0:F,themeClass:W==null?void 0:W.themeClass,onRender:W==null?void 0:W.onRender}},render(){const{$slots:r,mergedClsPrefix:t,disabled:e,cssVars:n,mergedPage:i,mergedPageCount:a,pageItems:o,showFastBackward:s,showFastForward:l,showSizePicker:u,showQuickJumper:c,mergedTheme:f,locale:d,inputSize:h,selectSize:v,mergedPageSize:p,pageSizeOptions:g,jumperValue:m,prev:y,next:b,prefix:w,suffix:S,label:E,handleJumperInput:_,handleSizePickerChange:A,handleBackwardClick:k,handlePageItemClick:T,handlePageItemMouseEnter:I,handlePageItemMouseLeave:D,handleForwardClick:O,handleQuickJumperKeyUp:B,onRender:U}=this;U==null||U();const N=r.prefix||w,G=r.suffix||S,L=y||r.prev,F=b||r.next,W=E||r.label;return R("div",{ref:"selfRef",class:[`${t}-pagination`,this.themeClass,e&&`${t}-pagination--disabled`],style:n},N?R("div",{class:`${t}-pagination-prefix`},N({page:i,pageSize:p,pageCount:a,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount})):null,R("div",{class:[`${t}-pagination-item`,!L&&`${t}-pagination-item--button`,(i<=1||i>a||e)&&`${t}-pagination-item--disabled`],onClick:k},L?L({page:i,pageSize:p,pageCount:a,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount}):R(Hi,{clsPrefix:t},{default:()=>R(bg,null)})),o.map((H,K)=>{let ie;switch(H.type){case"page":const ee=H.label;W?ie=W({type:"page",node:ee,active:H.active}):ie=ee;break;case"fast-forward":const Q=l?R(Hi,{clsPrefix:t},{default:()=>R(wg,null)}):R(Hi,{clsPrefix:t},{default:()=>R(lz,null)});W?ie=W({type:"fast-forward",node:Q,active:l}):ie=Q;break;case"fast-backward":const be=s?R(Hi,{clsPrefix:t},{default:()=>R(xg,null)}):R(Hi,{clsPrefix:t},{default:()=>R(lz,null)});W?ie=W({type:"fast-backward",node:be,active:s}):ie=be;break}return R("div",{key:K,class:[`${t}-pagination-item`,{[`${t}-pagination-item--active`]:H.active,[`${t}-pagination-item--disabled`]:e}],onClick:()=>T(H),onMouseenter:()=>I(H),onMouseleave:()=>D(H)},ie)}),R("div",{class:[`${t}-pagination-item`,!F&&`${t}-pagination-item--button`,{[`${t}-pagination-item--disabled`]:i<1||i>=a||e}],onClick:O},F?F({page:i,pageSize:p,pageCount:a,itemCount:this.mergedItemCount,startIndex:this.startIndex,endIndex:this.endIndex}):R(Hi,{clsPrefix:t},{default:()=>R(Sg,null)})),u?R(Swe,{size:v,placeholder:"",options:g,value:p,disabled:e,theme:f.peers.Select,themeOverrides:f.peerOverrides.Select,onUpdateValue:A}):null,c?R("div",{class:`${t}-pagination-quick-jumper`},d.goto,R(Eg,{ref:"jumperRef",value:m,onUpdateValue:_,size:h,placeholder:"",disabled:e,theme:f.peers.Input,themeOverrides:f.peerOverrides.Input,onKeyup:B})):null,G?R("div",{class:`${t}-pagination-suffix`},G({page:i,pageSize:p,pageCount:a,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount})):null)}}),Rwe={padding:"8px 14px"};const Dwe=r=>{const{borderRadius:t,boxShadow2:e,baseColor:n}=r;return Object.assign(Object.assign({},Rwe),{borderRadius:t,boxShadow:e,color:"rgba(0, 0, 0, .85)",textColor:n})},Owe={name:"Tooltip",common:ci,peers:{Popover:Zw},self:Dwe};var ZL=Owe;const Lwe={name:"Ellipsis",common:ci,peers:{Tooltip:ZL}};var pq=Lwe,Fwe={radioSizeSmall:"14px",radioSizeMedium:"16px",radioSizeLarge:"18px",labelPadding:"0 8px"};const Nwe=r=>{const{borderColor:t,primaryColor:e,baseColor:n,textColorDisabled:i,inputColorDisabled:a,textColor2:o,opacityDisabled:s,borderRadius:l,fontSizeSmall:u,fontSizeMedium:c,fontSizeLarge:f,heightSmall:d,heightMedium:h,heightLarge:v}=r;return Object.assign(Object.assign({},Fwe),{buttonHeightSmall:d,buttonHeightMedium:h,buttonHeightLarge:v,fontSizeSmall:u,fontSizeMedium:c,fontSizeLarge:f,boxShadow:`inset 0 0 0 1px ${t}`,boxShadowActive:`inset 0 0 0 1px ${e}`,boxShadowFocus:`inset 0 0 0 1px ${e}, 0 0 0 2px ${_n(e,{alpha:.2})}`,boxShadowHover:`inset 0 0 0 1px ${e}`,boxShadowDisabled:`inset 0 0 0 1px ${t}`,color:n,colorDisabled:a,textColor:o,textColorDisabled:i,dotColorActive:e,dotColorDisabled:t,buttonBorderColor:t,buttonBorderColorActive:e,buttonBorderColorHover:t,buttonColor:n,buttonColorActive:n,buttonTextColor:o,buttonTextColorActive:e,buttonTextColorHover:e,opacityDisabled:s,buttonBoxShadowFocus:`inset 0 0 0 1px ${e}, 0 0 0 2px ${_n(e,{alpha:.3})}`,buttonBoxShadowHover:"inset 0 0 0 1px #0000",buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:l})},Bwe={name:"Radio",common:ci,self:Nwe};var QL=Bwe,zwe={thPaddingSmall:"8px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"8px",tdPaddingMedium:"12px",tdPaddingLarge:"12px",sorterSize:"15px",filterSize:"15px",paginationMargin:"12px 0 0 0",emptyPadding:"48px 0",actionPadding:"8px 12px",actionButtonMargin:"0 8px 0 0"};const $we=r=>{const{cardColor:t,modalColor:e,popoverColor:n,textColor2:i,textColor1:a,tableHeaderColor:o,tableColorHover:s,iconColor:l,primaryColor:u,fontWeightStrong:c,borderRadius:f,lineHeight:d,fontSizeSmall:h,fontSizeMedium:v,fontSizeLarge:p,dividerColor:g,heightSmall:m,opacityDisabled:y,tableColorStriped:b}=r;return Object.assign(Object.assign({},zwe),{actionDividerColor:g,lineHeight:d,borderRadius:f,fontSizeSmall:h,fontSizeMedium:v,fontSizeLarge:p,borderColor:ua(t,g),tdColorHover:ua(t,s),tdColorStriped:ua(t,b),thColor:ua(t,o),thColorHover:ua(ua(t,o),s),tdColor:t,tdTextColor:i,thTextColor:a,thFontWeight:c,thButtonColorHover:s,thIconColor:l,thIconColorActive:u,borderColorModal:ua(e,g),tdColorHoverModal:ua(e,s),tdColorStripedModal:ua(e,b),thColorModal:ua(e,o),thColorHoverModal:ua(ua(e,o),s),tdColorModal:e,borderColorPopover:ua(n,g),tdColorHoverPopover:ua(n,s),tdColorStripedPopover:ua(n,b),thColorPopover:ua(n,o),thColorHoverPopover:ua(ua(n,o),s),tdColorPopover:n,boxShadowBefore:"inset -12px 0 8px -12px rgba(0, 0, 0, .18)",boxShadowAfter:"inset 12px 0 8px -12px rgba(0, 0, 0, .18)",loadingColor:u,loadingSize:m,opacityLoading:y})},Gwe={name:"DataTable",common:ci,peers:{Button:Qw,Checkbox:KL,Radio:QL,Pagination:vq,Scrollbar:$d,Empty:lA,Popover:Zw,Ellipsis:pq},self:$we};var Uwe=Gwe;const Hwe=Object.assign(Object.assign({},uA),wr.props);var gq=It({name:"Tooltip",props:Hwe,__popover__:!0,setup(r){const t=wr("Tooltip","-tooltip",void 0,ZL,r),e=Re(null);return Object.assign(Object.assign({},{syncPosition(){e.value.syncPosition()},setShow(i){e.value.setShow(i)}}),{popoverRef:e,mergedTheme:t,popoverThemeOverrides:re(()=>t.value.self)})},render(){const{mergedTheme:r,internalExtraClass:t}=this;return R(iw,Object.assign(Object.assign({},this.$props),{theme:r.peers.Popover,themeOverrides:r.peerOverrides.Popover,builtinThemeOverrides:this.popoverThemeOverrides,internalExtraClass:t.concat("tooltip"),ref:"popoverRef"}),this.$slots)}}),Vwe=le("ellipsis",{overflow:"hidden"},[Nn("line-clamp",`
 white-space: nowrap;
 display: inline-block;
 vertical-align: bottom;
 max-width: 100%;
 `),Ge("line-clamp",`
 display: -webkit-inline-box;
 -webkit-box-orient: vertical;
 `),Ge("cursor-pointer",`
 cursor: pointer;
 `)]);function Nz(r){return`${r}-ellipsis--line-clamp`}function Bz(r,t){return`${r}-ellipsis--cursor-${t}`}const Wwe=Object.assign(Object.assign({},wr.props),{expandTrigger:String,lineClamp:[Number,String],tooltip:{type:[Boolean,Object],default:!0}});var mq=It({name:"Ellipsis",inheritAttrs:!1,props:Wwe,setup(r,{slots:t,attrs:e}){const{mergedClsPrefixRef:n}=Bn(r),i=wr("Ellipsis","-ellipsis",Vwe,pq,r,n),a=Re(null),o=Re(null),s=Re(!1),l=re(()=>{const{lineClamp:p}=r,{value:g}=s;return p!==void 0?{textOverflow:"","-webkit-line-clamp":g?"":p}:{textOverflow:g?"":"ellipsis","-webkit-line-clamp":""}});function u(){let p=!1;const{value:g}=s;if(g)return!0;const{value:m}=a;if(m){const{lineClamp:y}=r;d(m),y!==void 0?p=m.scrollHeight<=m.offsetHeight:p=m.scrollWidth<=m.offsetWidth,h(m,p)}return p}const c=re(()=>r.expandTrigger==="click"?()=>{var p;const{value:g}=s;g&&((p=o.value)===null||p===void 0||p.setShow(!1)),s.value=!g}:void 0),f=()=>R("span",Object.assign({},cf(e,{class:[`${n.value}-ellipsis`,r.lineClamp!==void 0?Nz(n.value):void 0,r.expandTrigger==="click"?Bz(n.value,"pointer"):void 0],style:l.value}),{ref:"triggerRef",onClick:c.value,onMouseenter:r.expandTrigger==="click"?u:void 0}),t);function d(p){if(!p)return;const g=l.value,m=Nz(n.value);r.lineClamp!==void 0?v(p,m,"add"):v(p,m,"remove");for(const y in g)p.style[y]!==g[y]&&(p.style[y]=g[y])}function h(p,g){const m=Bz(n.value,"pointer");r.expandTrigger==="click"&&!g?v(p,m,"add"):v(p,m,"remove")}function v(p,g,m){m==="add"?p.classList.contains(g)||p.classList.add(g):p.classList.contains(g)&&p.classList.remove(g)}return{mergedTheme:i,triggerRef:a,tooltipRef:o,handleClick:c,renderTrigger:f,getTooltipDisabled:u}},render(){var r;const{tooltip:t,renderTrigger:e,$slots:n}=this;if(t){const{mergedTheme:i}=this;return R(gq,Object.assign({ref:"tooltipRef",placement:"top"},t,{getDisabled:this.getTooltipDisabled,theme:i.peers.Tooltip,themeOverrides:i.peerOverrides.Tooltip}),{trigger:e,default:(r=n.tooltip)!==null&&r!==void 0?r:n.default})}else return e()}}),jwe=It({name:"DataTableRenderSorter",props:{render:{type:Function,required:!0},order:{type:[String,Boolean],default:!1}},render(){const{render:r,order:t}=this;return r({order:t})}});const Gd="n-data-table";var Ywe=It({name:"SortIcon",props:{column:{type:Object,required:!0}},setup(r){const{mergedComponentPropsRef:t}=Bn(),{mergedSortStateRef:e,mergedClsPrefixRef:n}=Sr(Gd),i=re(()=>e.value.find(l=>l.columnKey===r.column.key)),a=re(()=>i.value!==void 0),o=re(()=>{const{value:l}=i;return l&&a.value?l.order:!1}),s=re(()=>{var l,u;return((u=(l=t==null?void 0:t.value)===null||l===void 0?void 0:l.DataTable)===null||u===void 0?void 0:u.renderSorter)||r.column.renderSorter});return{mergedClsPrefix:n,active:a,mergedSortOrder:o,mergedRenderSorter:s}},render(){const{mergedRenderSorter:r,mergedSortOrder:t,mergedClsPrefix:e}=this,{renderSorterIcon:n}=this.column;return r?R(jwe,{render:r,order:t}):R("span",{class:[`${e}-data-table-sorter`,t==="ascend"&&`${e}-data-table-sorter--asc`,t==="descend"&&`${e}-data-table-sorter--desc`]},n?n({order:t}):R(Hi,{clsPrefix:e},{default:()=>R(t0e,null)}))}}),Xwe=It({name:"DataTableRenderFilter",props:{render:{type:Function,required:!0},active:{type:Boolean,default:!1},show:{type:Boolean,default:!1}},render(){const{render:r,active:t,show:e}=this;return r({active:t,show:e})}});const qwe={name:String,value:{type:[String,Number],default:"on"},checked:{type:Boolean,default:void 0},defaultChecked:Boolean,disabled:{type:Boolean,default:void 0},size:String,onUpdateChecked:[Function,Array],"onUpdate:checked":[Function,Array],checkedValue:{type:Boolean,validator:()=>(rf("radio","`checked-value` is deprecated, please use `checked` instead."),!0),default:void 0}},yq="n-radio-group";function VR(r){const t=ic(r,{mergedSize(y){const{size:b}=r;if(b!==void 0)return b;if(o){const{mergedSizeRef:{value:w}}=o;if(w!==void 0)return w}return y?y.mergedSize.value:"medium"},mergedDisabled(y){return!!(r.disabled||(o==null?void 0:o.disabledRef.value)||(y==null?void 0:y.disabled.value))}}),{mergedSizeRef:e,mergedDisabledRef:n}=t,i=Re(null),a=Re(null),o=Sr(yq,null),s=Re(r.defaultChecked),l=tr(r,"checked"),u=zi(l,s),c=Kn(()=>o?o.valueRef.value===r.value:u.value),f=Kn(()=>{const{name:y}=r;if(y!==void 0)return y;if(o)return o.nameRef.value}),d=Re(!1);function h(){if(o){const{doUpdateValue:y}=o,{value:b}=r;Tt(y,b)}else{const{onUpdateChecked:y,"onUpdate:checked":b}=r,{nTriggerFormInput:w,nTriggerFormChange:S}=t;y&&Tt(y,!0),b&&Tt(b,!0),w(),S(),s.value=!0}}function v(){n.value||c.value||h()}function p(){v()}function g(){d.value=!1}function m(){d.value=!0}return{mergedClsPrefix:o?o.mergedClsPrefixRef:Bn(r).mergedClsPrefixRef,inputRef:i,labelRef:a,mergedName:f,mergedDisabled:n,uncontrolledChecked:s,renderSafeChecked:c,focus:d,mergedSize:e,handleRadioInputChange:p,handleRadioInputBlur:g,handleRadioInputFocus:m}}VR.props=qwe;var Kwe=le("radio",`
 line-height: 1;
 outline: none;
 position: relative;
 user-select: none;
 display: inline-flex;
 vertical-align: middle;
 align-items: center;
 font-size: var(--n-font-size);
`,[Ae("dot",`
 height: var(--n-radio-size);
 width: var(--n-radio-size);
 `),le("radio-input",`
 position: absolute;
 border: 0;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 opacity: 0;
 z-index: 1;
 cursor: pointer;
 `),Ae("dot",`
 background: var(--n-color);
 box-shadow: var(--n-box-shadow);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 position: relative;
 border-radius: 50%;
 `,[ke("&::before",`
 content: "";
 opacity: 0;
 position: absolute;
 left: 4px;
 top: 4px;
 height: calc(100% - 8px);
 width: calc(100% - 8px);
 border-radius: 50%;
 transform: scale(.8);
 background: var(--n-dot-color-active);
 transition: 
 opacity .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),Ge("checked",{boxShadow:"var(--n-box-shadow-active)"},[ke("&::before",`
 opacity: 1;
 transform: scale(1);
 `)])]),Ae("label",`
 color: var(--n-text-color);
 padding: var(--n-label-padding);
 display: inline-block;
 white-space: nowrap;
 transition: color .3s var(--n-bezier);
 `),Nn("disabled",`
 cursor: pointer;
 `,[ke("&:hover",[Ae("dot",{boxShadow:"var(--n-box-shadow-hover)"})]),Ge("focus",[ke("&:not(:active)",[Ae("dot",{boxShadow:"var(--n-box-shadow-focus)"})])])]),Ge("disabled",`
 cursor: not-allowed;
 `,[Ae("dot",{boxShadow:"var(--n-box-shadow-disabled)",backgroundColor:"var(--n-color-disabled)"},[ke("&::before",{backgroundColor:"var(--n-dot-color-disabled)"}),Ge("checked",`
 transform: scale(1);
 opacity: 1;
 `)]),Ae("label",{color:"var(--n-text-color-disabled)"}),le("radio-input",`
 cursor: not-allowed;
 `)])]),Zwe=It({name:"Radio",props:Object.assign(Object.assign({},wr.props),VR.props),setup(r){const t=VR(r),e=wr("Radio","-radio",Kwe,QL,r,t.mergedClsPrefix),n=re(()=>{const{mergedSize:{value:o}}=t,{common:{cubicBezierEaseInOut:s},self:{boxShadow:l,boxShadowActive:u,boxShadowDisabled:c,boxShadowFocus:f,boxShadowHover:d,color:h,colorDisabled:v,textColor:p,textColorDisabled:g,dotColorActive:m,dotColorDisabled:y,labelPadding:b,[lr("fontSize",o)]:w,[lr("radioSize",o)]:S}}=e.value;return{"--n-bezier":s,"--n-box-shadow":l,"--n-box-shadow-active":u,"--n-box-shadow-disabled":c,"--n-box-shadow-focus":f,"--n-box-shadow-hover":d,"--n-color":h,"--n-color-disabled":v,"--n-dot-color-active":m,"--n-dot-color-disabled":y,"--n-font-size":w,"--n-radio-size":S,"--n-text-color":p,"--n-text-color-disabled":g,"--n-label-padding":b}}),{inlineThemeDisabled:i}=Bn(r),a=i?Ea("radio",re(()=>t.mergedSize.value[0]),n,r):void 0;return Object.assign(t,{cssVars:i?void 0:n,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender})},render(){const{$slots:r,mergedClsPrefix:t,onRender:e}=this;return e==null||e(),R("label",{class:[`${t}-radio`,this.themeClass,{[`${t}-radio--disabled`]:this.mergedDisabled,[`${t}-radio--checked`]:this.renderSafeChecked,[`${t}-radio--focus`]:this.focus}],style:this.cssVars},R("input",{ref:"inputRef",type:"radio",class:`${t}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),R("div",{class:[`${t}-radio__dot`,this.renderSafeChecked&&`${t}-radio__dot--checked`]}),r.default?R("div",{ref:"labelRef",class:`${t}-radio__label`},r.default()):null)}}),Qwe=le("radio-group",`
 display: inline-block;
 font-size: var(--n-font-size);
`,[Ae("splitor",`
 display: inline-block;
 vertical-align: bottom;
 width: 1px;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 background: var(--n-button-border-color);
 `,[Ge("checked",{backgroundColor:"var(--n-button-border-color-active)"}),Ge("disabled",{opacity:"var(--n-opacity-disabled)"})]),Ge("button-group",`
 white-space: nowrap;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[le("radio-button",{height:"var(--n-height)",lineHeight:"var(--n-height)"}),Ae("splitor",{height:"var(--n-height)"})]),le("radio-button",`
 vertical-align: bottom;
 outline: none;
 position: relative;
 user-select: none;
 display: inline-block;
 box-sizing: border-box;
 padding-left: 14px;
 padding-right: 14px;
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: var(--n-button-text-color);
 border-top: 1px solid var(--n-button-border-color);
 border-bottom: 1px solid var(--n-button-border-color);
 `,[le("radio-input",`
 position: absolute;
 border: 0;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 opacity: 0;
 z-index: 1;
 `),Ae("state-border",`
 pointer-events: none;
 position: absolute;
 box-shadow: var(--n-button-box-shadow);
 transition: box-shadow .3s var(--n-bezier);
 left: -1px;
 bottom: -1px;
 right: -1px;
 top: -1px;
 `),ke("&:first-child",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 border-left: 1px solid var(--n-button-border-color);
 `,[Ae("state-border",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 `)]),ke("&:last-child",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 border-right: 1px solid var(--n-button-border-color);
 `,[Ae("state-border",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 `)]),Nn("disabled",`
 cursor: pointer;
 `,[ke("&:hover",[Ae("state-border",`
 transition: box-shadow .3s var(--n-bezier);
 box-shadow: var(--n-button-box-shadow-hover);
 `),Nn("checked",{color:"var(--n-button-text-color-hover)"})]),Ge("focus",[ke("&:not(:active)",[Ae("state-border",{boxShadow:"var(--n-button-box-shadow-focus)"})])])]),Ge("checked",`
 background: var(--n-button-color-active);
 color: var(--n-button-text-color-active);
 border-color: var(--n-button-border-color-active);
 `),Ge("disabled",`
 cursor: not-allowed;
 opacity: var(--n-opacity-disabled);
 `)])]);function Jwe(r,t,e){var n;const i=[];let a=!1;for(let o=0;o<r.length;++o){const s=r[o],l=(n=s.type)===null||n===void 0?void 0:n.name;l==="RadioButton"&&(a=!0);const u=s.props;if(l!=="RadioButton"){i.push(s);continue}if(o===0)i.push(s);else{const c=i[i.length-1].props,f=t===c.value,d=c.disabled,h=t===u.value,v=u.disabled,p=(f?2:0)+(d?0:1),g=(h?2:0)+(v?0:1),m={[`${e}-radio-group__splitor--disabled`]:d,[`${e}-radio-group__splitor--checked`]:f},y={[`${e}-radio-group__splitor--disabled`]:v,[`${e}-radio-group__splitor--checked`]:h},b=p<g?y:m;i.push(R("div",{class:[`${e}-radio-group__splitor`,b]}),s)}}return{children:i,isButtonGroup:a}}const eSe=Object.assign(Object.assign({},wr.props),{name:String,value:[String,Number],defaultValue:{type:[String,Number],default:null},size:String,disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]});var tSe=It({name:"RadioGroup",props:eSe,setup(r){const t=Re(null),{mergedSizeRef:e,mergedDisabledRef:n,nTriggerFormChange:i,nTriggerFormInput:a,nTriggerFormBlur:o,nTriggerFormFocus:s}=ic(r),{mergedClsPrefixRef:l,inlineThemeDisabled:u}=Bn(r),c=wr("Radio","-radio-group",Qwe,QL,r,l),f=Re(r.defaultValue),d=tr(r,"value"),h=zi(d,f);function v(b){const{onUpdateValue:w,"onUpdate:value":S}=r;w&&Tt(w,b),S&&Tt(S,b),f.value=b,i(),a()}function p(b){const{value:w}=t;!w||w.contains(b.relatedTarget)||s()}function g(b){const{value:w}=t;!w||w.contains(b.relatedTarget)||o()}Tn(yq,{mergedClsPrefixRef:l,nameRef:tr(r,"name"),valueRef:h,disabledRef:n,mergedSizeRef:e,doUpdateValue:v});const m=re(()=>{const{value:b}=e,{common:{cubicBezierEaseInOut:w},self:{buttonBorderColor:S,buttonBorderColorActive:E,buttonBorderRadius:_,buttonBoxShadow:A,buttonBoxShadowFocus:k,buttonBoxShadowHover:T,buttonColorActive:I,buttonTextColor:D,buttonTextColorActive:O,buttonTextColorHover:B,opacityDisabled:U,[lr("buttonHeight",b)]:N,[lr("fontSize",b)]:G}}=c.value;return{"--n-font-size":G,"--n-bezier":w,"--n-button-border-color":S,"--n-button-border-color-active":E,"--n-button-border-radius":_,"--n-button-box-shadow":A,"--n-button-box-shadow-focus":k,"--n-button-box-shadow-hover":T,"--n-button-color-active":I,"--n-button-text-color":D,"--n-button-text-color-hover":B,"--n-button-text-color-active":O,"--n-height":N,"--n-opacity-disabled":U}}),y=u?Ea("radio-group",re(()=>e.value[0]),m,r):void 0;return{selfElRef:t,mergedClsPrefix:l,mergedValue:h,handleFocusout:g,handleFocusin:p,cssVars:u?void 0:m,themeClass:y==null?void 0:y.themeClass,onRender:y==null?void 0:y.onRender}},render(){var r;const{mergedValue:t,mergedClsPrefix:e,handleFocusin:n,handleFocusout:i}=this,{children:a,isButtonGroup:o}=Jwe(tw(IY(this)),t,e);return(r=this.onRender)===null||r===void 0||r.call(this),R("div",{onFocusin:n,onFocusout:i,ref:"selfElRef",class:[`${e}-radio-group`,this.themeClass,o&&`${e}-radio-group--button-group`],style:this.cssVars},a)}});const bq=40,xq=40;function zz(r){if(r.type==="selection")return bq;if(r.type==="expand")return xq;if(!("children"in r))return typeof r.width=="string"?Rs(r.width):r.width}function rSe(r){if(r.type==="selection")return va(bq);if(r.type==="expand")return va(xq);if(!("children"in r))return va(r.width)}function ju(r){return r.type==="selection"?"__n_selection__":r.type==="expand"?"__n_expand__":r.key}function $z(r){return r&&(typeof r=="object"?Object.assign({},r):r)}function nSe(r){return r==="ascend"?1:r==="descend"?-1:0}function iSe(r){const t=rSe(r);return{width:t,minWidth:t}}function aSe(r,t,e){return typeof e=="function"?e(r,t):e||""}function xI(r){return r.filterOptionValues!==void 0||r.filterOptionValue===void 0&&r.defaultFilterOptionValues!==void 0}function wI(r){return"children"in r?!1:!!r.sorter}function Gz(r){return"children"in r?!1:!!r.filter&&(!!r.filterOptions||!!r.renderFilterMenu)}function Uz(r){if(r){if(r==="descend")return"ascend"}else return"descend";return!1}function oSe(r,t){return r.sorter===void 0?null:t===null||t.columnKey!==r.key?{columnKey:r.key,sorter:r.sorter,order:Uz(!1)}:Object.assign(Object.assign({},t),{order:Uz(t.order)})}function wq(r,t){return t.find(e=>e.columnKey===r.key&&e.order)!==void 0}var sSe=It({name:"DataTableFilterMenu",props:{column:{type:Object,required:!0},radioGroupName:{type:String,required:!0},multiple:{type:Boolean,required:!0},value:{type:[Array,String,Number],default:null},options:{type:Array,required:!0},onConfirm:{type:Function,required:!0},onClear:{type:Function,required:!0},onChange:{type:Function,required:!0}},setup(r){const{mergedClsPrefixRef:t,mergedThemeRef:e,localeRef:n}=Sr(Gd),i=Re(r.value),a=re(()=>{const{value:f}=i;return Array.isArray(f)?f:null}),o=re(()=>{const{value:f}=i;return xI(r.column)?Array.isArray(f)&&f.length&&f[0]||null:Array.isArray(f)?null:f});function s(f){r.onChange(f)}function l(f){r.multiple&&Array.isArray(f)?i.value=f:xI(r.column)&&!Array.isArray(f)?i.value=[f]:i.value=f}function u(){s(i.value),r.onConfirm()}function c(){r.multiple||xI(r.column)?s([]):s(null),r.onClear()}return{mergedClsPrefix:t,mergedTheme:e,locale:n,checkboxGroupValue:a,radioGroupValue:o,handleChange:l,handleConfirmClick:u,handleClearClick:c}},render(){const{mergedTheme:r,locale:t,mergedClsPrefix:e}=this;return R("div",{class:`${e}-data-table-filter-menu`},R(ll,null,{default:()=>{const{checkboxGroupValue:n,handleChange:i}=this;return this.multiple?R(J1e,{value:n,class:`${e}-data-table-filter-menu__group`,onUpdateValue:i},{default:()=>this.options.map(a=>R(hA,{key:a.value,theme:r.peers.Checkbox,themeOverrides:r.peerOverrides.Checkbox,value:a.value},{default:()=>a.label}))}):R(tSe,{name:this.radioGroupName,class:`${e}-data-table-filter-menu__group`,value:this.radioGroupValue,onUpdateValue:this.handleChange},{default:()=>this.options.map(a=>R(Zwe,{key:a.value,value:a.value,theme:r.peers.Radio,themeOverrides:r.peerOverrides.Radio},{default:()=>a.label}))})}}),R("div",{class:`${e}-data-table-filter-menu__action`},R(Wo,{size:"tiny",theme:r.peers.Button,themeOverrides:r.peerOverrides.Button,onClick:this.handleClearClick},{default:()=>t.clear}),R(Wo,{theme:r.peers.Button,themeOverrides:r.peerOverrides.Button,type:"primary",size:"tiny",onClick:this.handleConfirmClick},{default:()=>t.confirm})))}});function lSe(r,t,e){const n=Object.assign({},r);return n[t]=e,n}var uSe=It({name:"DataTableFilterButton",props:{column:{type:Object,required:!0},options:{type:Array,default:()=>[]}},setup(r){const{mergedComponentPropsRef:t}=Bn(),{mergedThemeRef:e,mergedClsPrefixRef:n,mergedFilterStateRef:i,filterMenuCssVarsRef:a,doUpdateFilters:o}=Sr(Gd),s=Re(!1),l=i,u=re(()=>r.column.filterMultiple!==!1),c=re(()=>{const g=l.value[r.column.key];if(g===void 0){const{value:m}=u;return m?[]:null}return g}),f=re(()=>{const{value:g}=c;return Array.isArray(g)?g.length>0:g!==null}),d=re(()=>{var g,m;return((m=(g=t==null?void 0:t.value)===null||g===void 0?void 0:g.DataTable)===null||m===void 0?void 0:m.renderFilter)||r.column.renderFilter});function h(g){const m=lSe(l.value,r.column.key,g);o(m,r.column)}function v(){s.value=!1}function p(){s.value=!1}return{mergedTheme:e,mergedClsPrefix:n,active:f,showPopover:s,mergedRenderFilter:d,filterMultiple:u,mergedFilterValue:c,filterMenuCssVars:a,handleFilterChange:h,handleFilterMenuConfirm:p,handleFilterMenuCancel:v}},render(){const{mergedTheme:r,mergedClsPrefix:t,handleFilterMenuCancel:e}=this;return R(iw,{show:this.showPopover,onUpdateShow:n=>this.showPopover=n,trigger:"click",theme:r.peers.Popover,themeOverrides:r.peerOverrides.Popover,placement:"bottom",style:{padding:0}},{trigger:()=>{const{mergedRenderFilter:n}=this;if(n)return R(Xwe,{"data-data-table-filter":!0,render:n,active:this.active,show:this.showPopover});const{renderFilterIcon:i}=this.column;return R("div",{"data-data-table-filter":!0,class:[`${t}-data-table-filter`,{[`${t}-data-table-filter--active`]:this.active,[`${t}-data-table-filter--show`]:this.showPopover}]},i?i({active:this.active,show:this.showPopover}):R(Hi,{clsPrefix:t},{default:()=>R(s0e,null)}))},default:()=>{const{renderFilterMenu:n}=this.column;return n?n({hide:e}):R(sSe,{style:this.filterMenuCssVars,radioGroupName:String(this.column.key),multiple:this.filterMultiple,value:this.mergedFilterValue,options:this.options,column:this.column,onChange:this.handleFilterChange,onClear:this.handleFilterMenuCancel,onConfirm:this.handleFilterMenuConfirm})}})}}),cSe={padding:"4px 0",optionIconSizeSmall:"14px",optionIconSizeMedium:"16px",optionIconSizeLarge:"16px",optionIconSizeHuge:"18px",optionSuffixWidthSmall:"14px",optionSuffixWidthMedium:"14px",optionSuffixWidthLarge:"16px",optionSuffixWidthHuge:"16px",optionIconSuffixWidthSmall:"32px",optionIconSuffixWidthMedium:"32px",optionIconSuffixWidthLarge:"36px",optionIconSuffixWidthHuge:"36px",optionPrefixWidthSmall:"14px",optionPrefixWidthMedium:"14px",optionPrefixWidthLarge:"16px",optionPrefixWidthHuge:"16px",optionIconPrefixWidthSmall:"36px",optionIconPrefixWidthMedium:"36px",optionIconPrefixWidthLarge:"40px",optionIconPrefixWidthHuge:"40px"};const fSe=r=>{const{primaryColor:t,textColor2:e,dividerColor:n,hoverColor:i,popoverColor:a,invertedColor:o,borderRadius:s,fontSizeSmall:l,fontSizeMedium:u,fontSizeLarge:c,fontSizeHuge:f,heightSmall:d,heightMedium:h,heightLarge:v,heightHuge:p,textColor3:g,opacityDisabled:m}=r;return Object.assign(Object.assign({},cSe),{optionHeightSmall:d,optionHeightMedium:h,optionHeightLarge:v,optionHeightHuge:p,borderRadius:s,fontSizeSmall:l,fontSizeMedium:u,fontSizeLarge:c,fontSizeHuge:f,optionTextColor:e,optionTextColorHover:e,optionTextColorActive:t,optionTextColorChildActive:t,color:a,dividerColor:n,suffixColor:e,prefixColor:e,optionColorHover:i,optionColorActive:_n(t,{alpha:.1}),groupHeaderTextColor:g,optionTextColorInverted:"#BBB",optionTextColorHoverInverted:"#FFF",optionTextColorActiveInverted:"#FFF",optionTextColorChildActiveInverted:"#FFF",colorInverted:o,dividerColorInverted:"#BBB",suffixColorInverted:"#BBB",prefixColorInverted:"#BBB",optionColorHoverInverted:t,optionColorActiveInverted:t,groupHeaderTextColorInverted:"#AAA",optionOpacityDisabled:m})},dSe={name:"Dropdown",common:ci,peers:{Popover:Zw},self:fSe};var hSe=dSe,Sq=It({name:"DropdownDivider",props:{clsPrefix:{type:String,required:!0}},render(){return R("div",{class:`${this.clsPrefix}-dropdown-divider`})}});const vSe=r=>{const{textColorBase:t,opacity1:e,opacity2:n,opacity3:i,opacity4:a,opacity5:o}=r;return{color:t,opacity1Depth:e,opacity2Depth:n,opacity3Depth:i,opacity4Depth:a,opacity5Depth:o}},pSe={name:"Icon",common:ci,self:vSe};var gSe=pSe,mSe=le("icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[Ge("color-transition",{transition:"color .3s var(--n-bezier)"}),Ge("depth",{color:"var(--n-color)"},[ke("svg",{opacity:"var(--n-opacity)",transition:"opacity .3s var(--n-bezier)"})]),ke("svg",{height:"1em",width:"1em"})]);const ySe=It({_n_icon__:!0,name:"Icon",inheritAttrs:!1,props:Object.assign(Object.assign({},wr.props),{depth:[String,Number],size:[Number,String],color:String,component:Object}),setup(r){const{mergedClsPrefixRef:t}=Bn(r),e=wr("Icon","-icon",mSe,gSe,r,t);return{mergedClsPrefix:t,mergedStyle:re(()=>{const{size:n,color:i}=r;return{fontSize:va(n),color:i}}),cssVars:re(()=>{const{depth:n}=r,{common:{cubicBezierEaseInOut:i},self:a}=e.value;if(n!==void 0){const{color:o,[`opacity${n}Depth`]:s}=a;return{"--n-bezier":i,"--n-color":o,"--n-opacity":s}}return{"--n-bezier":i}})}},render(){var r;const{$parent:t,depth:e,mergedClsPrefix:n,component:i}=this;return((r=t==null?void 0:t.$options)===null||r===void 0?void 0:r._n_icon__)&&rf("icon","don't wrap `n-icon` inside `n-icon`"),R("i",cf(this.$attrs,{role:"img",class:[`${n}-icon`,{[`${n}-icon--depth`]:e,[`${n}-icon--color-transition`]:e!==void 0}],style:Object.assign(this.cssVars,this.mergedStyle)}),i?R(i):this.$slots)}}),JL="n-dropdown-menu",vA="n-dropdown",Hz="n-dropdown-option";function WR(r,t){return r.type==="submenu"||r.type===void 0&&r[t]!==void 0}function bSe(r){return r.type==="group"}function Cq(r){return r.type==="divider"}function xSe(r){return r.type==="render"}var Eq=It({name:"DropdownOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null},placement:{type:String,default:"right-start"},props:Object},setup(r){const t=Sr(vA),{hoverKeyRef:e,keyboardKeyRef:n,lastToggledSubmenuKeyRef:i,pendingKeyPathRef:a,activeKeyPathRef:o,animatedRef:s,mergedShowRef:l,renderLabelRef:u,renderIconRef:c,labelFieldRef:f,childrenFieldRef:d}=t,h=Sr(Hz,null),v=Sr(JL),p=re(()=>r.tmNode.rawNode),g=re(()=>{const{value:O}=d;return WR(r.tmNode.rawNode,O)}),m=re(()=>{const{disabled:O}=r.tmNode;return O}),y=re(()=>{if(!g.value)return!1;const{key:O,disabled:B}=r.tmNode;if(B)return!1;const{value:U}=e,{value:N}=n,{value:G}=i,{value:L}=a;return U!==null?L.includes(O):N!==null?L.includes(O)&&L[L.length-1]!==O:G!==null?L.includes(O):!1}),b=re(()=>n.value===null&&!s.value),w=ove(y,300,b),S=re(()=>!!(h==null?void 0:h.enteringSubmenuRef.value)),E=Re(!1);Tn(Hz,{enteringSubmenuRef:E});function _(){E.value=!0}function A(){E.value=!1}function k(){const{parentKey:O,tmNode:B}=r;!l.value||(i.value=O,n.value=null,e.value=B.key)}function T(){const{tmNode:O}=r;!l.value||e.value!==O.key&&k()}function I(O){if(!l.value)return;const{relatedTarget:B}=O;B&&!tf({target:B},"dropdownOption")&&(e.value=null)}function D(){const{value:O}=g,{tmNode:B}=r;!l.value||!O&&!B.disabled&&(t.doSelect(B.key,B.rawNode),t.doUpdateShow(!1))}return{labelField:f,renderLabel:u,renderIcon:c,siblingHasIcon:v.showIconRef,siblingHasSubmenu:v.hasSubmenuRef,animated:s,mergedShowSubmenu:re(()=>w.value&&!S.value),rawNode:p,hasSubmenu:g,pending:Kn(()=>{const{value:O}=a,{key:B}=r.tmNode;return O.includes(B)}),childActive:Kn(()=>{const{value:O}=o,{key:B}=r.tmNode,U=O.findIndex(N=>B===N);return U===-1?!1:U<O.length-1}),active:Kn(()=>{const{value:O}=o,{key:B}=r.tmNode,U=O.findIndex(N=>B===N);return U===-1?!1:U===O.length-1}),mergedDisabled:m,handleClick:D,handleMouseMove:T,handleMouseEnter:k,handleMouseLeave:I,handleSubmenuBeforeEnter:_,handleSubmenuAfterEnter:A}},render(){var r;const{animated:t,rawNode:e,mergedShowSubmenu:n,clsPrefix:i,siblingHasIcon:a,siblingHasSubmenu:o,renderLabel:s,renderIcon:l,props:u}=this,c=n?R(_q,{clsPrefix:i,tmNodes:this.tmNode.children,parentKey:this.tmNode.key}):null,f={class:[`${i}-dropdown-option-body`,this.pending&&`${i}-dropdown-option-body--pending`,this.active&&`${i}-dropdown-option-body--active`,this.childActive&&`${i}-dropdown-option-body--child-active`,this.mergedDisabled&&`${i}-dropdown-option-body--disabled`],onMousemove:this.handleMouseMove,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onClick:this.handleClick};return R("div",{class:`${i}-dropdown-option`},R("div",cf(f,u),[R("div",{"data-dropdown-option":!0,class:[`${i}-dropdown-option-body__prefix`,a&&`${i}-dropdown-option-body__prefix--show-icon`]},[l?l(e):Ti(e.icon)]),R("div",{"data-dropdown-option":!0,class:`${i}-dropdown-option-body__label`},s?s(e):Ti((r=e[this.labelField])!==null&&r!==void 0?r:e.title)),R("div",{"data-dropdown-option":!0,class:[`${i}-dropdown-option-body__suffix`,o&&`${i}-dropdown-option-body__suffix--has-submenu`]},this.hasSubmenu?R(ySe,null,{default:()=>R(JT,null)}):null)]),this.hasSubmenu?R(Vg,null,{default:()=>[R(Wg,null,{default:()=>R("div",{class:`${i}-dropdown-offset-container`},R(jg,{show:this.mergedShowSubmenu,placement:this.placement,teleportDisabled:!0},{default:()=>R("div",{class:`${i}-dropdown-menu-wrapper`},t?R(uo,{onBeforeEnter:this.handleSubmenuBeforeEnter,onAfterEnter:this.handleSubmenuAfterEnter,name:"fade-in-scale-up-transition",appear:!0},{default:()=>c}):c)}))})]}):null)}}),wSe=It({name:"DropdownGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{showIconRef:r,hasSubmenuRef:t}=Sr(JL),{renderLabelRef:e,labelFieldRef:n}=Sr(vA);return{labelField:n,showIcon:r,hasSubmenu:t,renderLabel:e}},render(){var r;const{clsPrefix:t,hasSubmenu:e,showIcon:n,renderLabel:i}=this,{rawNode:a}=this.tmNode;return R("div",{class:`${t}-dropdown-option`},R("div",{class:`${t}-dropdown-option-body ${t}-dropdown-option-body--group`},R("div",{"data-dropdown-option":!0,class:[`${t}-dropdown-option-body__prefix`,n&&`${t}-dropdown-option-body__prefix--show-icon`]},Ti(a.icon)),R("div",{class:`${t}-dropdown-option-body__label`,"data-dropdown-option":!0},i?i(a):Ti((r=a.title)!==null&&r!==void 0?r:a[this.labelField])),R("div",{class:[`${t}-dropdown-option-body__suffix`,e&&`${t}-dropdown-option-body__suffix--has-submenu`],"data-dropdown-option":!0})))}}),SSe=It({name:"NDropdownGroup",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null}},render(){const{tmNode:r,parentKey:t,clsPrefix:e}=this,{children:n}=r;return R(qi,null,R(wSe,{clsPrefix:e,tmNode:r,key:r.key}),n==null?void 0:n.map(i=>Cq(i.rawNode)?R(Sq,{clsPrefix:e,key:i.key}):i.isGroup?(rf("dropdown","`group` node is not allowed to be put in `group` node."),null):R(Eq,{clsPrefix:e,tmNode:i,parentKey:t,key:i.key})))}}),CSe=It({name:"DropdownRenderOption",props:{tmNode:{type:Object,required:!0}},render(){const{rawNode:{render:r,props:t}}=this.tmNode;return R("div",t,[r==null?void 0:r()])}}),_q=It({name:"DropdownMenu",props:{showArrow:Boolean,arrowStyle:[String,Object],clsPrefix:{type:String,required:!0},tmNodes:{type:Array,default:()=>[]},parentKey:{type:[String,Number],default:null}},setup(r){const{renderIconRef:t,childrenFieldRef:e}=Sr(vA);Tn(JL,{showIconRef:re(()=>{const n=t.value;return r.tmNodes.some(i=>{var a;if(i.isGroup)return(a=i.children)===null||a===void 0?void 0:a.some(({rawNode:s})=>n?n(s):s.icon);const{rawNode:o}=i;return n?n(o):o.icon})}),hasSubmenuRef:re(()=>{const{value:n}=e;return r.tmNodes.some(i=>{var a;if(i.isGroup)return(a=i.children)===null||a===void 0?void 0:a.some(({rawNode:s})=>WR(s,n));const{rawNode:o}=i;return WR(o,n)})})})},render(){const{parentKey:r,clsPrefix:t}=this;return R("div",{class:`${t}-dropdown-menu`},this.tmNodes.map(e=>{const{rawNode:n}=e;return xSe(n)?R(CSe,{tmNode:e,key:e.key}):Cq(n)?R(Sq,{clsPrefix:t,key:e.key}):bSe(n)?R(SSe,{clsPrefix:t,tmNode:e,parentKey:r,key:e.key}):R(Eq,{clsPrefix:t,tmNode:e,parentKey:r,key:e.key,props:n.props})}),this.showArrow?VX({clsPrefix:t,arrowStyle:this.arrowStyle}):null)}}),ESe=le("dropdown-menu",`
 transform-origin: inherit;
 padding: var(--n-padding);
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
`,[Dv(),le("dropdown-option",`
 position: relative;
 `,[ke("a",`
 text-decoration: none;
 color: inherit;
 `,[ke("&::before",`
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),le("dropdown-option-body",`
 display: flex;
 cursor: pointer;
 height: var(--n-option-height);
 line-height: var(--n-option-height);
 font-size: var(--n-font-size);
 color: var(--n-option-text-color);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[Ge("pending",[Nn("disabled",{color:"var(--n-option-text-color-hover)",backgroundColor:"var(--n-option-color-hover)"}),Ae("prefix, suffix",{color:"var(--n-option-text-color-hover)"})]),Ge("active",[Nn("disabled",{color:"var(--n-option-text-color-active)",backgroundColor:"var(--n-option-color-active)"}),Ae("prefix, suffix",{color:"var(--n-option-text-color-active)"})]),Ge("disabled",{cursor:"not-allowed",opacity:"var(--n-option-opacity-disabled)"}),Ge("child-active",{color:"var(--n-option-text-color-child-active)"},[Ae("prefix, suffix",{color:"var(--n-option-text-color-child-active)"})]),Ge("group",{fontSize:"calc(var(--n-font-size) - 1px)",color:"var(--n-group-header-text-color)"},[Ae("prefix",{width:"calc(var(--n-option-prefix-width) / 2)"},[Ge("show-icon",{width:"calc(var(--n-option-icon-prefix-width) / 2)"})])]),Ae("prefix",`
 width: var(--n-option-prefix-width);
 display: flex;
 justify-content: center;
 align-items: center;
 color: var(--n-prefix-color);
 transition: color .3s var(--n-bezier);
 `,[Ge("show-icon",{width:"var(--n-option-icon-prefix-width)"}),le("icon",{fontSize:"var(--n-option-icon-size)"})]),Ae("label",{whiteSpace:"nowrap",flex:1}),Ae("suffix",`
 box-sizing: border-box;
 flex-grow: 0;
 flex-shrink: 0;
 display: flex;
 justify-content: flex-end;
 align-items: center;
 min-width: var(--n-option-suffix-width);
 padding: 0 8px;
 transition: color .3s var(--n-bezier);
 color: var(--n-suffix-color);
 `,[Ge("has-submenu",{width:"var(--n-option-icon-suffix-width)"}),le("icon",{fontSize:"var(--n-option-icon-size)"})]),le("dropdown-menu",{pointerEvents:"all"})]),le("dropdown-offset-container",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: -4px;
 bottom: -4px;
 `)]),le("dropdown-divider",`
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-divider-color);
 height: 1px;
 margin: 4px 0;
 `),le("dropdown-menu-wrapper",`
 transform-origin: inherit;
 width: fit-content;
 `)]);const _Se={animated:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},size:{type:String,default:"medium"},inverted:Boolean,placement:{type:String,default:"bottom"},onSelect:[Function,Array],options:{type:Array,default:()=>[]},showArrow:Boolean,renderLabel:Function,renderIcon:Function,labelField:{type:String,default:"label"},keyField:{type:String,default:"key"},childrenField:{type:String,default:"children"},value:[String,Number]},TSe=Object.keys(uA),ASe=Object.assign(Object.assign(Object.assign({},uA),_Se),wr.props);var Tq=It({name:"Dropdown",inheritAttrs:!1,props:ASe,setup(r){const t=Re(!1),e=zi(tr(r,"show"),t),n=re(()=>{const{keyField:k,childrenField:T}=r;return Cg(r.options,{getKey(I){return I[k]},getDisabled(I){return I.disabled===!0},getIgnored(I){return I.type==="divider"||I.type==="render"},getChildren(I){return I[T]}})}),i=re(()=>n.value.treeNodes),a=Re(null),o=Re(null),s=Re(null),l=re(()=>{var k,T,I;return(I=(T=(k=a.value)!==null&&k!==void 0?k:o.value)!==null&&T!==void 0?T:s.value)!==null&&I!==void 0?I:null}),u=re(()=>n.value.getPath(l.value).keyPath),c=re(()=>n.value.getPath(r.value).keyPath),f=Kn(()=>r.keyboard&&e.value);TL({keydown:{ArrowUp:{prevent:!0,handler:w},ArrowRight:{prevent:!0,handler:b},ArrowDown:{prevent:!0,handler:S},ArrowLeft:{prevent:!0,handler:y},Escape:m},keyup:{Enter:E}},f);const{mergedClsPrefixRef:d}=Bn(r),h=wr("Dropdown","-dropdown",ESe,hSe,r,d);Tn(vA,{labelFieldRef:tr(r,"labelField"),childrenFieldRef:tr(r,"childrenField"),renderLabelRef:tr(r,"renderLabel"),renderIconRef:tr(r,"renderIcon"),hoverKeyRef:a,keyboardKeyRef:o,lastToggledSubmenuKeyRef:s,pendingKeyPathRef:u,activeKeyPathRef:c,animatedRef:tr(r,"animated"),mergedShowRef:e,doSelect:v,doUpdateShow:p}),hn(e,k=>{k||g()});function v(k,T){const{onSelect:I}=r;I&&Tt(I,k,T)}function p(k){const{"onUpdate:show":T}=r;T&&Tt(T,k),t.value=k}function g(){a.value=null,o.value=null,s.value=null}function m(){p(!1)}function y(){A("left")}function b(){A("right")}function w(){A("up")}function S(){A("down")}function E(){const k=_();(k==null?void 0:k.isLeaf)&&(v(k.key,k.rawNode),p(!1))}function _(){var k;const{value:T}=n,{value:I}=l;return!T||I===null?null:(k=T.getNode(I))!==null&&k!==void 0?k:null}function A(k){const{value:T}=l,{value:{getFirstAvailableNode:I}}=n;let D=null;if(T===null){const O=I();O!==null&&(D=O.key)}else{const O=_();if(O){let B;switch(k){case"down":B=O.getNext();break;case"up":B=O.getPrev();break;case"right":B=O.getChild();break;case"left":B=O.getParent();break}B&&(D=B.key)}}D!==null&&(a.value=null,o.value=D)}return{mergedClsPrefix:d,mergedTheme:h,tmNodes:i,mergedShow:e,doUpdateShow:p,cssVars:re(()=>{const{size:k,inverted:T}=r,{common:{cubicBezierEaseInOut:I},self:D}=h.value,{padding:O,dividerColor:B,borderRadius:U,optionOpacityDisabled:N,[lr("optionIconSuffixWidth",k)]:G,[lr("optionSuffixWidth",k)]:L,[lr("optionIconPrefixWidth",k)]:F,[lr("optionPrefixWidth",k)]:W,[lr("fontSize",k)]:H,[lr("optionHeight",k)]:K,[lr("optionIconSize",k)]:ie}=D,ee={"--n-bezier":I,"--n-font-size":H,"--n-padding":O,"--n-border-radius":U,"--n-option-height":K,"--n-option-prefix-width":W,"--n-option-icon-prefix-width":F,"--n-option-suffix-width":L,"--n-option-icon-suffix-width":G,"--n-option-icon-size":ie,"--n-divider-color":B,"--n-option-opacity-disabled":N};return T?(ee["--n-color"]=D.colorInverted,ee["--n-option-color-hover"]=D.optionColorHoverInverted,ee["--n-option-color-active"]=D.optionColorActiveInverted,ee["--n-option-text-color"]=D.optionTextColorInverted,ee["--n-option-text-color-hover"]=D.optionTextColorHoverInverted,ee["--n-option-text-color-active"]=D.optionTextColorActiveInverted,ee["--n-option-text-color-child-active"]=D.optionTextColorChildActiveInverted,ee["--n-prefix-color"]=D.prefixColorInverted,ee["--n-suffix-color"]=D.suffixColorInverted,ee["--n-group-header-text-color"]=D.groupHeaderTextColorInverted):(ee["--n-color"]=D.color,ee["--n-option-color-hover"]=D.optionColorHover,ee["--n-option-color-active"]=D.optionColorActive,ee["--n-option-text-color"]=D.optionTextColor,ee["--n-option-text-color-hover"]=D.optionTextColorHover,ee["--n-option-text-color-active"]=D.optionTextColorActive,ee["--n-option-text-color-child-active"]=D.optionTextColorChildActive,ee["--n-prefix-color"]=D.prefixColor,ee["--n-suffix-color"]=D.suffixColor,ee["--n-group-header-text-color"]=D.groupHeaderTextColor),ee})}},render(){const r=(n,i,a,o,s)=>{const{mergedClsPrefix:l}=this,u={ref:Ehe(i),class:[n,`${l}-dropdown`,this.trigger==="manual"&&`${l}-popover--manual-trigger`,this.showArrow&&`${l}-popover--show-arrow`],clsPrefix:l,tmNodes:this.tmNodes,style:[a,this.cssVars],showArrow:this.showArrow,arrowStyle:this.arrowStyle,onMouseenter:o,onMouseleave:s};return R(_q,cf(this.$attrs,u))},{mergedTheme:t}=this,e={show:this.mergedShow,theme:t.peers.Popover,themeOverrides:t.peerOverrides.Popover,internalRenderBody:r,onUpdateShow:this.doUpdateShow};return R(iw,Object.assign({},Kc(this.$props,TSe),e),{trigger:()=>{var n,i;return(i=(n=this.$slots).default)===null||i===void 0?void 0:i.call(n)}})}});const Aq="_n_all__",kq="_n_none__";function kSe(r,t,e,n){return r?i=>{for(const a of r)switch(i){case Aq:e(!0);return;case kq:n(!0);return;default:if(typeof a=="object"&&a.key===i){a.onSelect(t.value);return}}}:()=>{}}function MSe(r,t){return r?r.map(e=>{switch(e){case"all":return{label:t.checkTableAll,key:Aq};case"none":return{label:t.uncheckTableAll,key:kq};default:return e}}):[]}var ISe=It({name:"DataTableSelectionMenu",props:{clsPrefix:{type:String,required:!0}},setup(){const{localeRef:r,checkOptionsRef:t,rawPaginatedDataRef:e,doCheckAll:n,doUncheckAll:i}=Sr(Gd);return{handleSelect:re(()=>kSe(t.value,e,n,i)),options:re(()=>MSe(t.value,r.value))}},render(){const{clsPrefix:r}=this;return R(Tq,{options:this.options,onSelect:this.handleSelect},{default:()=>R(Hi,{clsPrefix:r,class:`${r}-data-table-check-extra`},{default:()=>R(CX,null)})})}});function SI(r){return typeof r.title=="function"?r.title(r):r.title}var Mq=It({name:"DataTableHeader",props:{discrete:{type:Boolean,default:!0}},setup(){const{mergedClsPrefixRef:r,scrollXRef:t,fixedColumnLeftMapRef:e,fixedColumnRightMapRef:n,mergedCurrentPageRef:i,allRowsCheckedRef:a,someRowsCheckedRef:o,rowsRef:s,colsRef:l,mergedThemeRef:u,checkOptionsRef:c,mergedSortStateRef:f,componentId:d,scrollPartRef:h,mergedTableLayoutRef:v,headerCheckboxDisabledRef:p,handleTableHeaderScroll:g,deriveNextSorter:m,doUncheckAll:y,doCheckAll:b}=Sr(Gd);function w(){a.value?y():b()}function S(_,A){if(tf(_,"dataTableFilter")||!wI(A))return;const k=f.value.find(I=>I.columnKey===A.key)||null,T=oSe(A,k);m(T)}function E(){h.value="head"}return{componentId:d,mergedSortState:f,mergedClsPrefix:r,scrollX:t,fixedColumnLeftMap:e,fixedColumnRightMap:n,currentPage:i,allRowsChecked:a,someRowsChecked:o,rows:s,cols:l,mergedTheme:u,checkOptions:c,mergedTableLayout:v,headerCheckboxDisabled:p,handleMouseenter:E,handleCheckboxUpdateChecked:w,handleColHeaderClick:S,handleTableHeaderScroll:g}},render(){const{mergedClsPrefix:r,fixedColumnLeftMap:t,fixedColumnRightMap:e,currentPage:n,allRowsChecked:i,someRowsChecked:a,rows:o,cols:s,mergedTheme:l,checkOptions:u,componentId:c,discrete:f,mergedTableLayout:d,headerCheckboxDisabled:h,mergedSortState:v,handleColHeaderClick:p,handleCheckboxUpdateChecked:g}=this,m=R("thead",{class:`${r}-data-table-thead`,"data-n-id":c},o.map(S=>R("tr",{class:`${r}-data-table-tr`},S.map(({column:E,colSpan:_,rowSpan:A,isLast:k})=>{var T,I;const D=ju(E),{ellipsis:O}=E,B=D in t,U=D in e;return R("th",{key:D,style:{textAlign:E.align,left:ys((T=t[D])===null||T===void 0?void 0:T.start),right:ys((I=e[D])===null||I===void 0?void 0:I.start)},colspan:_,rowspan:A,"data-col-key":D,class:[`${r}-data-table-th`,(B||U)&&`${r}-data-table-th--fixed-${B?"left":"right"}`,{[`${r}-data-table-th--hover`]:wq(E,v),[`${r}-data-table-th--filterable`]:Gz(E),[`${r}-data-table-th--sortable`]:wI(E),[`${r}-data-table-th--selection`]:E.type==="selection",[`${r}-data-table-th--last`]:k},E.className],onClick:E.type!=="selection"&&E.type!=="expand"&&!("children"in E)?N=>{p(N,E)}:void 0},E.type==="selection"?R(qi,null,R(hA,{key:n,privateInsideTable:!0,checked:i,indeterminate:a,disabled:h,onUpdateChecked:g}),u?R(ISe,{clsPrefix:r}):null):O===!0||O&&!O.tooltip?R("div",{class:`${r}-data-table-th__ellipsis`},SI(E)):O&&typeof O=="object"?R(mq,Object.assign({},O,{theme:l.peers.Ellipsis,themeOverrides:l.peerOverrides.Ellipsis}),{default:()=>SI(E)}):SI(E),wI(E)?R(Ywe,{column:E}):null,Gz(E)?R(uSe,{column:E,options:E.filterOptions}):null)}))));if(!f)return m;const{handleTableHeaderScroll:y,handleMouseenter:b,scrollX:w}=this;return R("div",{class:`${r}-data-table-base-table-header`,onScroll:y,onMouseenter:b},R("table",{ref:"body",class:`${r}-data-table-table`,style:{minWidth:va(w),tableLayout:d}},R("colgroup",null,s.map(S=>R("col",{key:S.key,style:S.style}))),m))}}),PSe=It({name:"DataTableCell",props:{row:{type:Object,required:!0},index:{type:Number,required:!0},column:{type:Object,required:!0},isSummary:Boolean,mergedTheme:{type:Object,required:!0}},render(){const{isSummary:r,column:{render:t,key:e,ellipsis:n},row:i}=this;let a;if(t&&!r?a=t(i,this.index):r?a=i[e].value:a=FL(i,e),n&&typeof n=="object"){const{mergedTheme:o}=this;return R(mq,Object.assign({},n,{theme:o.peers.Ellipsis,themeOverrides:o.peerOverrides.Ellipsis}),{default:()=>a})}return a}}),Vz=It({name:"DataTableExpandTrigger",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,onClick:{type:Function,required:!0}},render(){return R(Hi,{class:`${this.clsPrefix}-data-table-expand-trigger`,clsPrefix:this.clsPrefix,onClick:this.onClick},{default:()=>R(JT,{style:this.expanded?"transform: rotate(90deg);":void 0})})}}),RSe=It({name:"DataTableBodyCheckbox",props:{rowKey:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!0},onUpdateChecked:{type:Function,required:!0}},setup(r){const{mergedCheckedRowKeySetRef:t,mergedInderminateRowKeySetRef:e}=Sr(Gd);return()=>{const{rowKey:n}=r;return R(hA,{privateInsideTable:!0,disabled:r.disabled,indeterminate:e.value.has(n),checked:t.value.has(n),onUpdateChecked:r.onUpdateChecked})}}});function DSe(r,t){const e=[];function n(i){i.forEach(a=>{a.children&&t.has(a.key)?(e.push({tmNode:a,striped:!1,key:a.key}),n(a.children)):e.push({key:a.key,tmNode:a,striped:!1})})}return r.forEach(i=>{e.push(i);const{children:a}=i.tmNode;a&&t.has(i.key)&&n(a)}),e}const OSe=It({props:{clsPrefix:{type:String,required:!0},id:{type:String,required:!0},cols:{type:Array,required:!0},onMouseenter:Function,onMouseleave:Function},render(){const{clsPrefix:r,id:t,cols:e,onMouseenter:n,onMouseleave:i}=this;return R("table",{style:{tableLayout:"fixed"},class:`${r}-data-table-table`,onMouseenter:n,onMouseleave:i},R("colgroup",null,e.map(a=>R("col",{key:a.key,style:a.style}))),R("tbody",{"data-n-id":t,class:`${r}-data-table-tbody`},this.$slots))}});var LSe=It({name:"DataTableBody",props:{onResize:Function,showHeader:Boolean,flexHeight:Boolean,bodyStyle:Object},setup(r){const{slots:t,mergedExpandedRowKeysRef:e,mergedClsPrefixRef:n,mergedThemeRef:i,scrollXRef:a,colsRef:o,paginatedDataRef:s,rawPaginatedDataRef:l,fixedColumnLeftMapRef:u,fixedColumnRightMapRef:c,mergedCurrentPageRef:f,rowClassNameRef:d,leftActiveFixedColKeyRef:h,leftActiveFixedChildrenColKeysRef:v,rightActiveFixedColKeyRef:p,rightActiveFixedChildrenColKeysRef:g,renderExpandRef:m,hoverKeyRef:y,summaryRef:b,mergedSortStateRef:w,virtualScrollRef:S,componentId:E,scrollPartRef:_,mergedTableLayoutRef:A,hasChildrenRef:k,firstContentfulColIndexRef:T,indentRef:I,rowPropsRef:D,maxHeightRef:O,stripedRef:B,loadingRef:U,setHeaderScrollLeft:N,doUpdateExpandedRowKeys:G,handleTableBodyScroll:L,doCheck:F,doUncheck:W}=Sr(Gd),H=Re(null),K=Re(null),ie=Re(null),ee=Kn(()=>s.value.length===0),Q=Kn(()=>r.showHeader||!ee.value),be=Kn(()=>r.showHeader||ee.value);let fe="";const he=re(()=>new Set(e.value));function Ee(se,Se,Y){if(Y){const ve=s.value.findIndex(ce=>ce.key===fe);if(ve!==-1){const ce=s.value.findIndex(lt=>lt.key===se.key),de=Math.min(ve,ce),Fe=Math.max(ve,ce),Ue=[];s.value.slice(de,Fe+1).forEach(lt=>{lt.disabled||Ue.push(lt.key)}),Se?F(Ue):W(Ue),fe=se.key;return}}Se?F(se.key):W(se.key),fe=se.key}function He(){if(!Q.value){const{value:Se}=ie;return Se||null}if(S.value)return j();const{value:se}=H;return se?se.containerRef:null}function nt(se){const{value:Se}=e,Y=Se.indexOf(se),ve=Array.from(Se);~Y?ve.splice(Y,1):ve.push(se),G(ve)}function st(){y.value=null}function z(){_.value="body"}function j(){const{value:se}=K;return se==null?void 0:se.listElRef}function X(){const{value:se}=K;return se==null?void 0:se.itemsElRef}function ae(se){var Se;L(se),(Se=H.value)===null||Se===void 0||Se.sync()}function ue(se){var Se;const{onResize:Y}=r;Y&&Y(se),(Se=H.value)===null||Se===void 0||Se.sync()}const Be={getScrollContainer:He},Ze=ke([({props:se})=>{const Se=ve=>ve===null?null:ke(`[data-n-id="${se.componentId}"] [data-col-key="${ve}"]::after`,{boxShadow:"var(--n-box-shadow-after)"}),Y=ve=>ve===null?null:ke(`[data-n-id="${se.componentId}"] [data-col-key="${ve}"]::before`,{boxShadow:"var(--n-box-shadow-before)"});return ke([Se(se.leftActiveFixedColKey),Y(se.rightActiveFixedColKey),se.leftActiveFixedChildrenColKeys.map(ve=>Se(ve)),se.rightActiveFixedChildrenColKeys.map(ve=>Y(ve))])}]);let Le=!1;return Go(()=>{const{value:se}=h,{value:Se}=v,{value:Y}=p,{value:ve}=g;if(!Le&&se===null&&Y===null)return;const ce={leftActiveFixedColKey:se,leftActiveFixedChildrenColKeys:Se,rightActiveFixedColKey:Y,rightActiveFixedChildrenColKeys:ve,componentId:E};Ze.mount({id:`n-${E}`,force:!0,props:ce,anchorMetaName:h0}),Le=!0}),mL(()=>{Ze.unmount({id:`n-${E}`})}),Object.assign({dataTableSlots:t,componentId:E,scrollbarInstRef:H,virtualListRef:K,emptyElRef:ie,summary:b,mergedClsPrefix:n,mergedTheme:i,scrollX:a,cols:o,loading:U,bodyShowHeaderOnly:be,shouldDisplaySomeTablePart:Q,empty:ee,paginatedData:re(()=>{const{value:se}=B;return s.value.map(se?(Se,Y)=>({tmNode:Se,key:Se.key,striped:Y%2===1}):Se=>({tmNode:Se,key:Se.key,striped:!1}))}),rawPaginatedData:l,fixedColumnLeftMap:u,fixedColumnRightMap:c,currentPage:f,rowClassName:d,renderExpand:m,mergedExpandedRowKeySet:he,hoverKey:y,mergedSortState:w,virtualScroll:S,mergedTableLayout:A,hasChildren:k,firstContentfulColIndex:T,indent:I,rowProps:D,maxHeight:O,setHeaderScrollLeft:N,handleMouseenterTable:z,handleVirtualListScroll:ae,handleVirtualListResize:ue,handleMouseleaveTable:st,virtualListContainer:j,virtualListContent:X,handleTableBodyScroll:L,handleCheckboxUpdateChecked:Ee,handleUpdateExpanded:nt},Be)},render(){const{mergedTheme:r,scrollX:t,mergedClsPrefix:e,virtualScroll:n,maxHeight:i,mergedTableLayout:a,flexHeight:o,onResize:s,setHeaderScrollLeft:l}=this,u=t!==void 0||i!==void 0||o,c=!u&&a==="auto",f=t!==void 0||c,d={minWidth:va(t)||"100%"};t&&(d.width="100%");const h=R(ll,{ref:"scrollbarInstRef",scrollable:u||c,class:`${e}-data-table-base-table-body`,style:this.bodyStyle,theme:r.peers.Scrollbar,themeOverrides:r.peerOverrides.Scrollbar,contentStyle:d,container:n?this.virtualListContainer:void 0,content:n?this.virtualListContent:void 0,horizontalRailStyle:{zIndex:3},verticalRailStyle:{zIndex:3},xScrollable:f,onScroll:n?void 0:this.handleTableBodyScroll,internalOnUpdateScrollLeft:l,onResize:s},{default:()=>{const v={},p={},{cols:g,paginatedData:m,mergedTheme:y,fixedColumnLeftMap:b,fixedColumnRightMap:w,currentPage:S,rowClassName:E,mergedSortState:_,mergedExpandedRowKeySet:A,componentId:k,hasChildren:T,firstContentfulColIndex:I,rowProps:D,handleMouseenterTable:O,handleMouseleaveTable:B,renderExpand:U,summary:N,handleCheckboxUpdateChecked:G,handleUpdateExpanded:L}=this,{length:F}=g;let W;const H=T?DSe(m,A):m;if(N){const fe=N(this.rawPaginatedData);Array.isArray(fe)?W=[...H,...fe.map((he,Ee)=>({isSummaryRow:!0,key:`__n_summary__${Ee}`,tmNode:{rawNode:he,disabled:!0}}))]:W=[...H,{isSummaryRow:!0,key:"__n_summary__",tmNode:{rawNode:fe,disabled:!0}}]}else W=H;const K=T?{width:ys(this.indent)}:void 0,ie=[];W.forEach(fe=>{U&&A.has(fe.key)?ie.push(fe,{isExpandedRow:!0,key:fe.key,tmNode:fe.tmNode}):ie.push(fe)});const{length:ee}=ie,Q={};m.forEach(({tmNode:fe},he)=>{Q[he]=fe.key});const be=(fe,he,Ee)=>{if("isExpandedRow"in fe){const{tmNode:{key:Ze,rawNode:Le}}=fe;return R("tr",{class:`${e}-data-table-tr`,key:`${Ze}__expand`},R("td",{class:[`${e}-data-table-td`,`${e}-data-table-td--last-col`,he+1===ee&&`${e}-data-table-td--last-row`],colspan:F},U(Le,he)))}const He="isSummaryRow"in fe,nt=!He&&fe.striped,{tmNode:st,key:z}=fe,{rawNode:j}=st,X=A.has(z),ae=D?D(j,he):void 0,ue=typeof E=="string"?E:aSe(j,he,E);return R("tr",Object.assign({onMouseenter:()=>{this.hoverKey=z},key:z,class:[`${e}-data-table-tr`,He&&`${e}-data-table-tr--summary`,nt&&`${e}-data-table-tr--striped`,ue]},ae),g.map((Ze,Le)=>{var se,Se,Y,ve,ce;if(!Ee&&he in v){const Me=v[he],ht=Me.indexOf(Le);if(~ht)return Me.splice(ht,1),null}const{column:de}=Ze,Fe=ju(Ze),{rowSpan:Ue,colSpan:lt}=de,ut=He?((se=fe.tmNode.rawNode[Fe])===null||se===void 0?void 0:se.colSpan)||1:lt?lt(j,he):1,We=He?((Se=fe.tmNode.rawNode[Fe])===null||Se===void 0?void 0:Se.rowSpan)||1:Ue?Ue(j,he):1,J=Le+ut===F,Pe=he+We===ee,Ce=We>1;if(Ce&&(p[he]={[Le]:[]}),ut>1||Ce)for(let Me=he;Me<he+We;++Me){Ce&&p[he][Le].push(Q[Me]);for(let ht=Le;ht<Le+ut;++ht)Me===he&&ht===Le||(Me in v?v[Me].push(ht):v[Me]=[ht])}const ct=Ce?this.hoverKey:null,{ellipsis:mt}=de;return R("td",{key:Fe,style:{textAlign:de.align||void 0,left:ys((Y=b[Fe])===null||Y===void 0?void 0:Y.start),right:ys((ve=w[Fe])===null||ve===void 0?void 0:ve.start)},colspan:ut,rowspan:Ee?void 0:We,"data-col-key":Fe,class:[`${e}-data-table-td`,de.className,He&&`${e}-data-table-td--summary`,(ct!==null&&p[he][Le].includes(ct)||wq(de,_))&&`${e}-data-table-td--hover`,de.fixed&&`${e}-data-table-td--fixed-${de.fixed}`,de.align&&`${e}-data-table-td--${de.align}-align`,{[`${e}-data-table-td--ellipsis`]:mt===!0||mt&&!mt.tooltip,[`${e}-data-table-td--selection`]:de.type==="selection",[`${e}-data-table-td--expand`]:de.type==="expand",[`${e}-data-table-td--last-col`]:J,[`${e}-data-table-td--last-row`]:Pe}]},T&&Le===I?[MY(He?0:fe.tmNode.level,R("div",{class:`${e}-data-table-indent`,style:K})),He||!fe.tmNode.children?R("div",{class:`${e}-data-table-expand-placeholder`}):R(Vz,{class:`${e}-data-table-expand-trigger`,clsPrefix:e,expanded:X,onClick:()=>{L(z)}})]:null,de.type==="selection"?He?null:R(RSe,{key:S,rowKey:z,disabled:fe.tmNode.disabled,onUpdateChecked:(Me,ht)=>G(fe.tmNode,Me,ht.shiftKey)}):de.type==="expand"?He?null:!de.expandable||((ce=de.expandable)===null||ce===void 0?void 0:ce.call(de,j,he))?R(Vz,{clsPrefix:e,expanded:X,onClick:()=>L(z)}):null:R(PSe,{index:he,row:j,column:de,isSummary:He,mergedTheme:y}))}))};return n?R(sA,{ref:"virtualListRef",items:ie,itemSize:28,visibleItemsTag:OSe,visibleItemsProps:{clsPrefix:e,id:k,cols:g,onMouseenter:O,onMouseleave:B},showScrollbar:!1,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemsStyle:d,itemResizable:!0},{default:({item:fe,index:he})=>be(fe,he,!0)}):R("table",{class:`${e}-data-table-table`,onMouseleave:B,onMouseenter:O,style:{tableLayout:this.mergedTableLayout}},R("colgroup",null,g.map(fe=>R("col",{key:fe.key,style:fe.style}))),this.showHeader?R(Mq,{discrete:!1}):null,this.empty?null:R("tbody",{"data-n-id":k,class:`${e}-data-table-tbody`},ie.map((fe,he)=>be(fe,he,!1))))}});if(this.empty){const v=()=>R("div",{class:[`${e}-data-table-empty`,this.loading&&`${e}-data-table-empty--hide`],style:this.bodyStyle,ref:"emptyElRef"},u0(this.dataTableSlots.empty,()=>[R(GL,{theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})]));return this.shouldDisplaySomeTablePart?R(qi,null,h,v()):R(p0,{onResize:this.onResize},{default:v})}return h}}),FSe=It({setup(){const{mergedClsPrefixRef:r,rightFixedColumnsRef:t,leftFixedColumnsRef:e,bodyWidthRef:n,maxHeightRef:i,minHeightRef:a,flexHeightRef:o,syncScrollState:s}=Sr(Gd),l=Re(null),u=Re(null),c=Re(null),f=Re(!(e.value.length||t.value.length)),d=re(()=>({maxHeight:va(i.value),minHeight:va(a.value)}));function h(m){n.value=m.contentRect.width,s(),f.value||(f.value=!0)}function v(){const{value:m}=l;return m?m.$el:null}function p(){const{value:m}=u;return m?m.getScrollContainer():null}const g={getBodyElement:p,getHeaderElement:v};return Go(()=>{const{value:m}=c;if(!m)return;const y=`${r.value}-data-table-base-table--transition-disabled`;f.value?setTimeout(()=>{m.classList.remove(y)},0):m.classList.add(y)}),Object.assign({maxHeight:i,mergedClsPrefix:r,selfElRef:c,headerInstRef:l,bodyInstRef:u,bodyStyle:d,flexHeight:o,handleBodyResize:h},g)},render(){const{mergedClsPrefix:r,maxHeight:t,flexHeight:e}=this,n=t===void 0&&!e;return R("div",{class:`${r}-data-table-base-table`,ref:"selfElRef"},n?null:R(Mq,{ref:"headerInstRef"}),R(LSe,{ref:"bodyInstRef",bodyStyle:this.bodyStyle,showHeader:n,flexHeight:e,onResize:this.handleBodyResize}))}});function NSe(r,t){const{paginatedDataRef:e,treeMateRef:n,selectionColumnRef:i}=t,a=Re(r.defaultCheckedRowKeys),o=re(()=>{const{checkedRowKeys:S}=r;return n.value.getCheckedKeys(S===void 0?a.value:S,{cascade:r.cascade})}),s=re(()=>o.value.checkedKeys),l=re(()=>o.value.indeterminateKeys),u=re(()=>new Set(s.value)),c=re(()=>new Set(l.value)),f=re(()=>{const{value:S}=u;return e.value.reduce((E,_)=>{const{key:A,disabled:k}=_;return E+(!k&&S.has(A)?1:0)},0)}),d=re(()=>e.value.filter(S=>S.disabled).length),h=re(()=>{const{length:S}=e.value,{value:E}=c;return f.value>0&&f.value<S-d.value||e.value.some(_=>E.has(_.key))}),v=re(()=>{const{length:S}=e.value;return f.value!==0&&f.value===S-d.value}),p=re(()=>e.value.length===0);function g(S){const{"onUpdate:checkedRowKeys":E,onUpdateCheckedRowKeys:_,onCheckedRowKeysChange:A}=r;E&&Tt(E,S),_&&Tt(_,S),A&&Tt(A,S),a.value=S}function m(S){r.loading||g(n.value.check(S,s.value,{cascade:r.cascade}).checkedKeys)}function y(S){r.loading||g(n.value.uncheck(S,s.value,{cascade:r.cascade}).checkedKeys)}function b(S=!1){const{value:E}=i;if(!E||r.loading)return;const _=[];(S?n.value.treeNodes:e.value).forEach(A=>{A.disabled||_.push(A.key)}),g(n.value.check(_,s.value,{cascade:!0}).checkedKeys)}function w(S=!1){const{value:E}=i;if(!E||r.loading)return;const _=[];(S?n.value.treeNodes:e.value).forEach(A=>{A.disabled||_.push(A.key)}),g(n.value.uncheck(_,s.value,{cascade:!0}).checkedKeys)}return{mergedCheckedRowKeySetRef:u,mergedCheckedRowKeysRef:s,mergedInderminateRowKeySetRef:c,someRowsCheckedRef:h,allRowsCheckedRef:v,headerCheckboxDisabledRef:p,doUpdateCheckedRowKeys:g,doCheckAll:b,doUncheckAll:w,doCheck:m,doUncheck:y}}function rE(r){return typeof r=="object"&&typeof r.multiple=="number"?r.multiple:!1}function BSe(r,t){return t&&(r===void 0||r==="default"||typeof r=="object"&&r.compare==="default")?zSe(t):typeof r=="function"?r:r&&typeof r=="object"&&r.compare&&r.compare!=="default"?r.compare:!1}function zSe(r){return(t,e)=>{const n=t[r],i=e[r];return typeof n=="number"&&typeof i=="number"?n-i:typeof n=="string"&&typeof i=="string"?n.localeCompare(i):0}}function $Se(r,{dataRelatedColsRef:t,filteredDataRef:e}){const n=[];t.value.forEach(h=>{var v;h.sorter!==void 0&&d(n,{columnKey:h.key,sorter:h.sorter,order:(v=h.defaultSortOrder)!==null&&v!==void 0?v:!1})});const i=Re(n),a=re(()=>{const h=t.value.filter(g=>g.type!=="selection"&&g.sorter!==void 0&&(g.sortOrder==="ascend"||g.sortOrder==="descend"||g.sortOrder===!1)),v=h.filter(g=>g.sortOrder!==!1);if(v.length)return v.map(g=>({columnKey:g.key,order:g.sortOrder,sorter:g.sorter}));if(h.length)return[];const{value:p}=i;return Array.isArray(p)?p:p?[p]:[]}),o=re(()=>{const h=a.value.slice().sort((v,p)=>{const g=rE(v.sorter)||0;return(rE(p.sorter)||0)-g});return h.length?e.value.slice().sort((p,g)=>{let m=0;return h.some(y=>{const{columnKey:b,sorter:w,order:S}=y,E=BSe(w,b);return E&&S&&(m=E(p.rawNode,g.rawNode),m!==0)?(m=m*nSe(S),!0):!1}),m}):e.value});function s(h){let v=a.value.slice();return h&&rE(h.sorter)!==!1?(v=v.filter(p=>rE(p.sorter)!==!1),d(v,h),v):h||null}function l(h){const v=s(h);u(v)}function u(h){const{"onUpdate:sorter":v,onUpdateSorter:p,onSorterChange:g}=r;v&&Tt(v,h),p&&Tt(p,h),g&&Tt(g,h),i.value=h}function c(h,v="ascend"){if(!h)f();else{const p=t.value.find(m=>m.type!=="selection"&&m.type!=="expand"&&m.key===h);if(!p||!p.sorter)return;const g=p.sorter;l({columnKey:h,sorter:g,order:v})}}function f(){u(null)}function d(h,v){const p=h.findIndex(g=>(v==null?void 0:v.columnKey)&&g.columnKey===v.columnKey);p!==void 0&&p>=0?h[p]=v:h.push(v)}return{clearSorter:f,sort:c,sortedDataRef:o,mergedSortStateRef:a,deriveNextSorter:l}}function GSe(r,{dataRelatedColsRef:t}){const e=re(()=>{const L=F=>{for(let W=0;W<F.length;++W){const H=F[W];if("children"in H)return L(H.children);if(H.type==="selection")return H}return null};return L(r.columns)}),n=re(()=>{const{childrenKey:L}=r;return Cg(r.data,{ignoreEmptyChildren:!0,getKey:r.rowKey,getChildren:F=>F[L],getDisabled:F=>{var W,H;return!!((H=(W=e.value)===null||W===void 0?void 0:W.disabled)===null||H===void 0?void 0:H.call(W,F))}})}),i=Kn(()=>{const{columns:L}=r,{length:F}=L;for(let W=0;W<F;++W)if(!L[W].type)return W;return 0}),a=Re({}),o=Re(1),s=Re(10),l=re(()=>{const L=t.value.filter(H=>H.filterOptionValues!==void 0||H.filterOptionValue!==void 0),F={};return L.forEach(H=>{var K;H.type==="selection"||H.type==="expand"||(H.filterOptionValues===void 0?F[H.key]=(K=H.filterOptionValue)!==null&&K!==void 0?K:null:F[H.key]=H.filterOptionValues)}),Object.assign($z(a.value),F)}),u=re(()=>{const L=l.value,{columns:F}=r;function W(ie){return(ee,Q)=>!!~String(Q[ie]).indexOf(String(ee))}const{value:{treeNodes:H}}=n,K=[];return F.forEach(ie=>{ie.type==="selection"||ie.type==="expand"||"children"in ie||K.push([ie.key,ie])}),H?H.filter(ie=>{const{rawNode:ee}=ie;for(const[Q,be]of K){let fe=L[Q];if(fe==null||(Array.isArray(fe)||(fe=[fe]),!fe.length))continue;const he=be.filter==="default"?W(Q):be.filter;if(be&&typeof he=="function")if(be.filterMode==="and"){if(fe.some(Ee=>!he(Ee,ee)))return!1}else{if(fe.some(Ee=>he(Ee,ee)))continue;return!1}}return!0}):[]}),{sortedDataRef:c,deriveNextSorter:f,mergedSortStateRef:d,sort:h,clearSorter:v}=$Se(r,{dataRelatedColsRef:t,filteredDataRef:u});t.value.forEach(L=>{var F;if(L.filter){const W=L.defaultFilterOptionValues;L.filterMultiple?a.value[L.key]=W||[]:W!==void 0?a.value[L.key]=W===null?[]:W:a.value[L.key]=(F=L.defaultFilterOptionValue)!==null&&F!==void 0?F:null}});const p=re(()=>{const{pagination:L}=r;if(L!==!1)return L.page}),g=re(()=>{const{pagination:L}=r;if(L!==!1)return L.pageSize}),m=zi(p,o),y=zi(g,s),b=re(()=>{const{pagination:L}=r;if(L){const{pageCount:F}=L;if(F!==void 0)return F}}),w=re(()=>{if(r.remote)return n.value.treeNodes;if(!r.pagination)return c.value;const L=y.value,F=(m.value-1)*L;return c.value.slice(F,F+L)}),S=re(()=>w.value.map(L=>L.rawNode));function E(L){const{pagination:F}=r;if(F){const{onChange:W,"onUpdate:page":H,onUpdatePage:K}=F;W&&Tt(W,L),K&&Tt(K,L),H&&Tt(H,L),T(L)}}function _(L){const{pagination:F}=r;if(F){const{onPageSizeChange:W,"onUpdate:pageSize":H,onUpdatePageSize:K}=F;W&&Tt(W,L),K&&Tt(K,L),H&&Tt(H,L),I(L)}}const A=re(()=>{if(r.remote){const{pagination:L}=r;if(L){const{itemCount:F}=L;if(F!==void 0)return F}return}return u.value.length}),k=re(()=>Object.assign(Object.assign({},r.pagination),{onChange:void 0,onUpdatePage:void 0,onUpdatePageSize:void 0,onPageSizeChange:void 0,"onUpdate:page":E,"onUpdate:pageSize":_,page:m.value,pageSize:y.value,pageCount:A.value===void 0?b.value:void 0,itemCount:A.value}));function T(L){const{"onUpdate:page":F,onPageChange:W,onUpdatePage:H}=r;H&&Tt(H,L),F&&Tt(F,L),W&&Tt(W,L),o.value=L}function I(L){const{"onUpdate:pageSize":F,onPageSizeChange:W,onUpdatePageSize:H}=r;W&&Tt(W,L),H&&Tt(H,L),F&&Tt(F,L),s.value=L}function D(L,F){const{onUpdateFilters:W,"onUpdate:filters":H,onFiltersChange:K}=r;W&&Tt(W,L,F),H&&Tt(H,L,F),K&&Tt(K,L,F),a.value=L}function O(L){T(L)}function B(){U()}function U(){N({})}function N(L){G(L)}function G(L){L?L&&D($z(L)):D({})}return{treeMateRef:n,mergedCurrentPageRef:m,mergedPaginationRef:k,paginatedDataRef:w,rawPaginatedDataRef:S,mergedFilterStateRef:l,mergedSortStateRef:d,hoverKeyRef:Re(null),selectionColumnRef:e,firstContentfulColIndexRef:i,doUpdateFilters:D,deriveNextSorter:f,doUpdatePageSize:I,doUpdatePage:T,filter:G,filters:N,clearFilter:B,clearFilters:U,clearSorter:v,page:O,sort:h}}function USe(r,{mainTableInstRef:t,mergedCurrentPageRef:e,bodyWidthRef:n,scrollPartRef:i}){let a=0;const o=Re(null),s=Re([]),l=Re(null),u=Re([]),c=re(()=>va(r.scrollX)),f=re(()=>r.columns.filter(k=>k.fixed==="left")),d=re(()=>r.columns.filter(k=>k.fixed==="right")),h=re(()=>{const k={};let T=0;function I(D){D.forEach(O=>{const B={start:T,end:0};k[ju(O)]=B,"children"in O?(I(O.children),B.end=T):(T+=zz(O)||0,B.end=T)})}return I(f.value),k}),v=re(()=>{const k={};let T=0;function I(D){for(let O=D.length-1;O>=0;--O){const B=D[O],U={start:T,end:0};k[ju(B)]=U,"children"in B?(I(B.children),U.end=T):(T+=zz(B)||0,U.end=T)}}return I(d.value),k});function p(){var k,T;const{value:I}=f;let D=0;const{value:O}=h;let B=null;for(let U=0;U<I.length;++U){const N=ju(I[U]);if(a>(((k=O[N])===null||k===void 0?void 0:k.start)||0)-D)B=N,D=((T=O[N])===null||T===void 0?void 0:T.end)||0;else break}o.value=B}function g(){s.value=[];let k=r.columns.find(T=>ju(T)===o.value);for(;k&&"children"in k;){const T=k.children.length;if(T===0)break;const I=k.children[T-1];s.value.push(ju(I)),k=I}}function m(){var k,T;const{value:I}=d,D=Number(r.scrollX),{value:O}=n;if(O===null)return;let B=0,U=null;const{value:N}=v;for(let G=I.length-1;G>=0;--G){const L=ju(I[G]);if(Math.round(a+(((k=N[L])===null||k===void 0?void 0:k.start)||0)+O-B)<D)U=L,B=((T=N[L])===null||T===void 0?void 0:T.end)||0;else break}l.value=U}function y(){u.value=[];let k=r.columns.find(T=>ju(T)===l.value);for(;k&&"children"in k&&k.children.length;){const T=k.children[0];u.value.push(ju(T)),k=T}}function b(){const k=t.value?t.value.getHeaderElement():null,T=t.value?t.value.getBodyElement():null;return{header:k,body:T}}function w(){const{body:k}=b();k&&(k.scrollTop=0)}function S(){i.value==="head"&&m_(_)}function E(){i.value==="body"&&m_(_)}function _(){const{header:k,body:T}=b();if(!T)return;const{value:I}=n;if(I===null)return;const{value:D}=i;if(r.maxHeight||r.flexHeight){if(!k)return;D==="head"?(a=k.scrollLeft,T.scrollLeft=a):(a=T.scrollLeft,k.scrollLeft=a)}else a=T.scrollLeft;p(),g(),m(),y()}function A(k){const{header:T}=b();!T||(T.scrollLeft=k,_())}return hn(e,()=>{w()}),{styleScrollXRef:c,fixedColumnLeftMapRef:h,fixedColumnRightMapRef:v,leftFixedColumnsRef:f,rightFixedColumnsRef:d,leftActiveFixedColKeyRef:o,leftActiveFixedChildrenColKeysRef:s,rightActiveFixedColKeyRef:l,rightActiveFixedChildrenColKeysRef:u,syncScrollState:_,handleTableBodyScroll:E,handleTableHeaderScroll:S,setHeaderScrollLeft:A}}function HSe(r){const t=[],e=[],n=[],i=new WeakMap;let a=-1,o=0,s=!1;function l(f,d){d>a&&(t[d]=[],a=d);for(const h of f)"children"in h?l(h.children,d+1):(e.push({key:ju(h),style:iSe(h),column:h}),o+=1,s||(s=!!h.ellipsis),n.push(h))}l(r,0);let u=0;function c(f,d){let h=0;f.forEach((v,p)=>{var g;if("children"in v){const m=u,y={column:v,colSpan:0,rowSpan:1,isLast:!1};c(v.children,d+1),v.children.forEach(b=>{var w,S;y.colSpan+=(S=(w=i.get(b))===null||w===void 0?void 0:w.colSpan)!==null&&S!==void 0?S:0}),m+y.colSpan===o&&(y.isLast=!0),i.set(v,y),t[d].push(y)}else{if(u<h){u+=1;return}let m=1;"titleColSpan"in v&&(m=(g=v.titleColSpan)!==null&&g!==void 0?g:1),m>1&&(h=u+m);const y=u+m===o,b={column:v,colSpan:m,rowSpan:a-d+1,isLast:y};i.set(v,b),t[d].push(b),u+=1}})}return c(r,0),{hasEllipsis:s,rows:t,cols:e,dataRelatedCols:n}}function VSe(r){const t=re(()=>HSe(r.columns));return{rowsRef:re(()=>t.value.rows),colsRef:re(()=>t.value.cols),hasEllipsisRef:re(()=>t.value.hasEllipsis),dataRelatedColsRef:re(()=>t.value.dataRelatedCols)}}function WSe(r){const t=Kn(()=>{for(const o of r.columns)if(o.type==="expand")return o.renderExpand}),e=Re(r.defaultExpandedRowKeys),n=tr(r,"expandedRowKeys"),i=zi(n,e);function a(o){const{onUpdateExpandedRowKeys:s,"onUpdate:expandedRowKeys":l}=r;s&&Tt(s,o),l&&Tt(l,o),e.value=o}return{mergedExpandedRowKeysRef:i,renderExpandRef:t,doUpdateExpandedRowKeys:a}}const Wz=YSe();var jSe=ke([le("data-table",`
 width: 100%;
 font-size: var(--n-font-size);
 display: flex;
 flex-direction: column;
 position: relative;
 --n-merged-th-color: var(--n-th-color);
 --n-merged-td-color: var(--n-td-color);
 --n-merged-border-color: var(--n-border-color);
 --n-merged-th-color-hover: var(--n-th-color-hover);
 --n-merged-td-color-hover: var(--n-td-color-hover);
 --n-merged-td-color-striped: var(--n-td-color-striped);
 `,[le("data-table-wrapper",`
 flex-grow: 1;
 display: flex;
 flex-direction: column;
 `),Ge("flex-height",[ke(">",[le("data-table-wrapper",[ke(">",[le("data-table-base-table",`
 display: flex;
 flex-direction: column;
 flex-grow: 1;
 `,[ke(">",[le("data-table-base-table-body","flex-basis: 0;",[ke("&:last-child","flex-grow: 1;")])])])])])])]),ke(">",[le("base-loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 transition: color .3s var(--n-bezier);
 `,[Dv({originalTransform:"translateX(-50%) translateY(-50%)"})])]),le("data-table-expand-trigger","cursor: pointer;"),le("data-table-expand-placeholder",`
 margin-right: 8px;
 display: inline-block;
 width: 16px;
 height: 1px;
 `),le("data-table-indent",`
 display: inline-block;
 height: 1px;
 `),le("data-table-expand-trigger",`
 margin-right: 8px;
 cursor: pointer;
 font-size: 16px;
 vertical-align: -0.2em;
 `),le("data-table-thead",{transition:"background-color .3s var(--n-bezier)",backgroundColor:"var(--n-merged-th-color)"}),le("data-table-tr",`
 box-sizing: border-box;
 background-clip: padding-box;
 transition: background-color .3s var(--n-bezier);
 `,[Ge("striped","background-color: var(--n-merged-td-color-striped);",[le("data-table-td","background-color: var(--n-merged-td-color-striped);")]),Nn("summary",[ke("&:hover","background-color: var(--n-merged-td-color-hover);",[le("data-table-td","background-color: var(--n-merged-td-color-hover);")])])]),le("data-table-th",`
 padding: var(--n-th-padding);
 position: relative;
 text-align: start;
 box-sizing: border-box;
 background-color: var(--n-merged-th-color);
 border-color: var(--n-merged-border-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 color: var(--n-th-text-color);
 transition:
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 font-weight: var(--n-th-font-weight);
 `,[Ge("filterable",{paddingRight:"36px"}),Wz,Ge("selection",`
 padding: 0;
 text-align: center;
 line-height: 0;
 z-index: 3;
 `),Ae("ellipsis",`
 display: inline-block;
 vertical-align: bottom;
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap;
 max-width: 100%;
 `),Ge("hover",{backgroundColor:"var(--n-merged-th-color-hover)"}),Ge("sortable",{cursor:"pointer"},[Ae("ellipsis",{maxWidth:"calc(100% - 18px)"}),ke("&:hover",{backgroundColor:"var(--n-merged-th-color-hover)"})]),le("data-table-sorter",`
 height: var(--n-sorter-size);
 width: var(--n-sorter-size);
 margin-left: 4px;
 position: relative;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 vertical-align: -0.2em;
 color: var(--n-th-icon-color);
 transition: color .3s var(--n-bezier);
 `,[le("base-icon","transition: transform .3s var(--n-bezier)"),Ge("desc",[le("base-icon",{transform:"rotate(0deg)"})]),Ge("asc",[le("base-icon",{transform:"rotate(-180deg)"})]),Ge("asc, desc",{color:"var(--n-th-icon-color-active)"})]),le("data-table-filter",`
 position: absolute;
 z-index: auto;
 right: 0;
 width: 36px;
 top: 0;
 bottom: 0;
 cursor: pointer;
 display: flex;
 justify-content: center;
 align-items: center;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 font-size: var(--n-filter-size);
 color: var(--n-th-icon-color);
 `,[ke("&:hover",`
 background-color: var(--n-th-button-color-hover);
 `),Ge("show",`
 background-color: var(--n-th-button-color-hover);
 `),Ge("active",`
 background-color: var(--n-th-button-color-hover);
 color: var(--n-th-icon-color-active);
 `)])]),le("data-table-td",`
 padding: var(--n-td-padding);
 text-align: start;
 box-sizing: border-box;
 border: none;
 background-color: var(--n-merged-td-color);
 color: var(--n-td-text-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[Ge("last-row",{borderBottom:"0 solid var(--n-merged-border-color)"},[ke("&::after",{bottom:"0 !important"}),ke("&::before",{bottom:"0 !important"})]),Ge("summary",`
 background-color: var(--n-merged-th-color);
 `),Ge("hover",{backgroundColor:"var(--n-merged-td-color-hover)"}),Ge("ellipsis",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap;
 `),Ge("selection, expand",`
 text-align: center;
 padding: 0;
 line-height: 0;
 `),Wz]),le("data-table-empty",`
 box-sizing: border-box;
 padding: var(--n-empty-padding);
 flex-grow: 1;
 flex-shrink: 0;
 opacity: 1;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: opacity .3s var(--n-bezier);
 `,[Ge("hide",{opacity:0})]),Ae("pagination",`
 margin: var(--n-pagination-margin);
 display: flex;
 justify-content: flex-end;
 `),le("data-table-wrapper",`
 position: relative;
 opacity: 1;
 transition: opacity .3s var(--n-bezier), border-color .3s var(--n-bezier);
 border-top-left-radius: var(--n-border-radius);
 border-top-right-radius: var(--n-border-radius);
 line-height: var(--n-line-height);
 `),Ge("loading",[le("data-table-wrapper",`
 opacity: var(--n-opacity-loading);
 pointer-events: none;
 `)]),Ge("single-column",[le("data-table-td",{borderBottom:"0 solid var(--n-merged-border-color)"},[ke("&::after, &::before",{bottom:"0 !important"})])]),Nn("single-line",[le("data-table-th",{borderRight:"1px solid var(--n-merged-border-color)"},[Ge("last",{borderRight:"0 solid var(--n-merged-border-color)"})]),le("data-table-td",{borderRight:"1px solid var(--n-merged-border-color)"},[Ge("last-col",{borderRight:"0 solid var(--n-merged-border-color)"})])]),Ge("bordered",[le("data-table-wrapper",`
 border: 1px solid var(--n-merged-border-color);
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 overflow: hidden;
 `)]),le("data-table-base-table",[Ge("transition-disabled",[le("data-table-th",[ke("&::after, &::before",{transition:"none"})]),le("data-table-td",[ke("&::after, &::before",{transition:"none"})])])]),Ge("bottom-bordered",[le("data-table-td",[Ge("last-row",{borderBottom:"1px solid var(--n-merged-border-color)"})])]),le("data-table-table",`
 font-variant-numeric: tabular-nums;
 width: 100%;
 word-wrap: break-word;
 word-break: break-all;
 transition: background-color .3s var(--n-bezier);
 border-collapse: separate;
 border-spacing: 0;
 background-color: var(--n-merged-td-color);
 `),le("data-table-base-table-header",`
 border-top-left-radius: calc(var(--n-border-radius) - 1px);
 border-top-right-radius: calc(var(--n-border-radius) - 1px);
 z-index: 3;
 overflow: scroll;
 flex-shrink: 0;
 transition: border-color .3s var(--n-bezier);
 scrollbar-width: none;
 `,[ke("&::-webkit-scrollbar",{width:0,height:0})]),le("data-table-check-extra",`
 transition: color .3s var(--n-bezier);
 color: var(--n-th-icon-color);
 position: absolute;
 font-size: 14px;
 right: -4px;
 top: 50%;
 transform: translateY(-50%);
 z-index: 1;
 `)]),le("data-table-filter-menu",[le("scrollbar",{maxHeight:"240px"}),Ae("group",{display:"flex",flexDirection:"column",padding:"12px 12px 0 12px"},[le("checkbox",{marginBottom:"12px",marginRight:0}),le("radio",{marginBottom:"12px",marginRight:0})]),Ae("action",`
 padding: var(--n-action-padding);
 display: flex;
 flex-wrap: nowrap;
 justify-content: space-evenly;
 border-top: 1px solid var(--n-action-divider-color);
 `,[le("button",[ke("&:not(:last-child)",{margin:"var(--n-action-button-margin)"}),ke("&:last-child",{marginRight:0})])]),le("divider",{margin:"0!important"})]),qw(le("data-table",`
 --n-merged-th-color: var(--n-th-color-modal);
 --n-merged-td-color: var(--n-td-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 --n-merged-th-color-hover: var(--n-th-color-hover-modal);
 --n-merged-td-color-hover: var(--n-td-color-hover-modal);
 --n-merged-td-color-striped: var(--n-td-color-striped-modal);
 `)),YT(le("data-table",`
 --n-merged-th-color: var(--n-th-color-popover);
 --n-merged-td-color: var(--n-td-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 --n-merged-th-color-hover: var(--n-th-color-hover-popover);
 --n-merged-td-color-hover: var(--n-td-color-hover-popover);
 --n-merged-td-color-striped: var(--n-td-color-striped-popover);
 `))]);function YSe(){return[Ge("fixed-left",`
 left: 0;
 position: sticky;
 z-index: 2;
 `,[ke("&::after",`
 pointer-events: none;
 content: "";
 width: 36px;
 display: inline-block;
 position: absolute;
 top: 0;
 bottom: -1px;
 transition: box-shadow .2s var(--n-bezier);
 right: -36px;
 `)]),Ge("fixed-right",{right:0,position:"sticky",zIndex:1},[ke("&::before",`
 pointer-events: none;
 content: "";
 width: 36px;
 display: inline-block;
 position: absolute;
 top: 0;
 bottom: -1px;
 transition: box-shadow .2s var(--n-bezier);
 left: -36px;
 `)])]}const XSe=Object.assign(Object.assign({},wr.props),{pagination:{type:[Object,Boolean],default:!1},minHeight:[Number,String],maxHeight:[Number,String],columns:{type:Array,default:()=>[]},rowClassName:[String,Function],rowProps:Function,rowKey:Function,summary:[Function],data:{type:Array,default:()=>[]},loading:Boolean,bordered:{type:Boolean,default:void 0},bottomBordered:{type:Boolean,default:void 0},striped:Boolean,scrollX:[Number,String],defaultCheckedRowKeys:{type:Array,default:()=>[]},checkedRowKeys:Array,singleLine:{type:Boolean,default:!0},singleColumn:Boolean,size:{type:String,default:"medium"},remote:Boolean,defaultExpandedRowKeys:{type:Array,default:[]},expandedRowKeys:Array,virtualScroll:Boolean,tableLayout:{type:String,default:"auto"},cascade:{type:Boolean,default:!0},childrenKey:{type:String,default:"children"},indent:{type:Number,default:16},flexHeight:Boolean,"onUpdate:page":[Function,Array],onUpdatePage:[Function,Array],"onUpdate:pageSize":[Function,Array],onUpdatePageSize:[Function,Array],"onUpdate:sorter":[Function,Array],onUpdateSorter:[Function,Array],"onUpdate:filters":[Function,Array],onUpdateFilters:[Function,Array],"onUpdate:checkedRowKeys":[Function,Array],onUpdateCheckedRowKeys:[Function,Array],"onUpdate:expandedRowKeys":[Function,Array],onUpdateExpandedRowKeys:[Function,Array],onPageChange:[Function,Array],onPageSizeChange:[Function,Array],onSorterChange:[Function,Array],onFiltersChange:[Function,Array],onCheckedRowKeysChange:[Function,Array]});var jot=It({name:"DataTable",alias:["AdvancedTable"],props:XSe,setup(r,{slots:t}){const{mergedBorderedRef:e,mergedClsPrefixRef:n,inlineThemeDisabled:i}=Bn(r),a=re(()=>{const{bottomBordered:de}=r;return e.value?!1:de!==void 0?de:!0}),o=wr("DataTable","-data-table",jSe,Uwe,r,n),s=Re(null),l=Re("body"),u=Re(null),{rowsRef:c,colsRef:f,dataRelatedColsRef:d,hasEllipsisRef:h}=VSe(r),{treeMateRef:v,mergedCurrentPageRef:p,paginatedDataRef:g,rawPaginatedDataRef:m,selectionColumnRef:y,hoverKeyRef:b,mergedPaginationRef:w,mergedFilterStateRef:S,mergedSortStateRef:E,firstContentfulColIndexRef:_,doUpdateFilters:A,deriveNextSorter:k,filter:T,filters:I,clearFilter:D,clearFilters:O,clearSorter:B,page:U,sort:N}=GSe(r,{dataRelatedColsRef:d}),{doCheckAll:G,doUncheckAll:L,doCheck:F,doUncheck:W,headerCheckboxDisabledRef:H,someRowsCheckedRef:K,allRowsCheckedRef:ie,mergedCheckedRowKeySetRef:ee,mergedInderminateRowKeySetRef:Q}=NSe(r,{selectionColumnRef:y,treeMateRef:v,paginatedDataRef:g}),{mergedExpandedRowKeysRef:be,renderExpandRef:fe,doUpdateExpandedRowKeys:he}=WSe(r),{handleTableBodyScroll:Ee,handleTableHeaderScroll:He,syncScrollState:nt,setHeaderScrollLeft:st,leftActiveFixedColKeyRef:z,leftActiveFixedChildrenColKeysRef:j,rightActiveFixedColKeyRef:X,rightActiveFixedChildrenColKeysRef:ae,leftFixedColumnsRef:ue,rightFixedColumnsRef:Be,fixedColumnLeftMapRef:Ze,fixedColumnRightMapRef:Le}=USe(r,{scrollPartRef:l,bodyWidthRef:s,mainTableInstRef:u,mergedCurrentPageRef:p}),{localeRef:se}=Bd("DataTable"),Se=re(()=>r.virtualScroll||r.flexHeight||r.maxHeight!==void 0||h.value?"fixed":r.tableLayout);Tn(Gd,{slots:t,indentRef:tr(r,"indent"),firstContentfulColIndexRef:_,bodyWidthRef:s,componentId:gv(),hoverKeyRef:b,mergedClsPrefixRef:n,mergedThemeRef:o,scrollXRef:re(()=>r.scrollX),rowsRef:c,colsRef:f,paginatedDataRef:g,leftActiveFixedColKeyRef:z,leftActiveFixedChildrenColKeysRef:j,rightActiveFixedColKeyRef:X,rightActiveFixedChildrenColKeysRef:ae,leftFixedColumnsRef:ue,rightFixedColumnsRef:Be,fixedColumnLeftMapRef:Ze,fixedColumnRightMapRef:Le,mergedCurrentPageRef:p,someRowsCheckedRef:K,allRowsCheckedRef:ie,mergedSortStateRef:E,mergedFilterStateRef:S,loadingRef:tr(r,"loading"),rowClassNameRef:tr(r,"rowClassName"),mergedCheckedRowKeySetRef:ee,mergedExpandedRowKeysRef:be,mergedInderminateRowKeySetRef:Q,localeRef:se,scrollPartRef:l,rowKeyRef:tr(r,"rowKey"),renderExpandRef:fe,summaryRef:tr(r,"summary"),virtualScrollRef:tr(r,"virtualScroll"),rowPropsRef:tr(r,"rowProps"),stripedRef:tr(r,"striped"),checkOptionsRef:re(()=>{const{value:de}=y;return de==null?void 0:de.options}),rawPaginatedDataRef:m,hasChildrenRef:re(()=>v.value.maxLevel>0),filterMenuCssVarsRef:re(()=>{const{self:{actionDividerColor:de,actionPadding:Fe,actionButtonMargin:Ue}}=o.value;return{"--n-action-padding":Fe,"--n-action-button-margin":Ue,"--n-action-divider-color":de}}),mergedTableLayoutRef:Se,maxHeightRef:tr(r,"maxHeight"),minHeightRef:tr(r,"minHeight"),flexHeightRef:tr(r,"flexHeight"),headerCheckboxDisabledRef:H,syncScrollState:nt,doUpdateFilters:A,deriveNextSorter:k,doCheck:F,doUncheck:W,doCheckAll:G,doUncheckAll:L,doUpdateExpandedRowKeys:he,handleTableHeaderScroll:He,handleTableBodyScroll:Ee,setHeaderScrollLeft:st});const Y={filter:T,filters:I,clearFilters:O,clearSorter:B,page:U,sort:N,clearFilter:D},ve=re(()=>{const{size:de}=r,{common:{cubicBezierEaseInOut:Fe},self:{borderColor:Ue,tdColorHover:lt,thColor:ut,thColorHover:We,tdColor:J,tdTextColor:Pe,thTextColor:Ce,thFontWeight:ct,thButtonColorHover:mt,thIconColor:Me,thIconColorActive:ht,filterSize:ar,borderRadius:Ht,lineHeight:Er,tdColorModal:it,thColorModal:At,borderColorModal:vr,thColorHoverModal:ze,tdColorHoverModal:_e,borderColorPopover:Ke,thColorPopover:Ot,tdColorPopover:Nt,tdColorHoverPopover:fr,thColorHoverPopover:sn,paginationMargin:en,emptyPadding:Zr,boxShadowAfter:Wn,boxShadowBefore:gn,sorterSize:Pr,loadingColor:vn,loadingSize:Lr,opacityLoading:Dn,tdColorStriped:Xr,tdColorStripedModal:fi,tdColorStripedPopover:Ui,[lr("fontSize",de)]:Va,[lr("thPadding",de)]:fo,[lr("tdPadding",de)]:ho}}=o.value;return{"--n-font-size":Va,"--n-th-padding":fo,"--n-td-padding":ho,"--n-bezier":Fe,"--n-border-radius":Ht,"--n-line-height":Er,"--n-border-color":Ue,"--n-border-color-modal":vr,"--n-border-color-popover":Ke,"--n-th-color":ut,"--n-th-color-hover":We,"--n-th-color-modal":At,"--n-th-color-hover-modal":ze,"--n-th-color-popover":Ot,"--n-th-color-hover-popover":sn,"--n-td-color":J,"--n-td-color-hover":lt,"--n-td-color-modal":it,"--n-td-color-hover-modal":_e,"--n-td-color-popover":Nt,"--n-td-color-hover-popover":fr,"--n-th-text-color":Ce,"--n-td-text-color":Pe,"--n-th-font-weight":ct,"--n-th-button-color-hover":mt,"--n-th-icon-color":Me,"--n-th-icon-color-active":ht,"--n-filter-size":ar,"--n-pagination-margin":en,"--n-empty-padding":Zr,"--n-box-shadow-before":gn,"--n-box-shadow-after":Wn,"--n-sorter-size":Pr,"--n-loading-size":Lr,"--n-loading-color":vn,"--n-opacity-loading":Dn,"--n-td-color-striped":Xr,"--n-td-color-striped-modal":fi,"--n-td-color-striped-popover":Ui}}),ce=i?Ea("data-table",re(()=>r.size[0]),ve,r):void 0;return Object.assign({mainTableInstRef:u,mergedClsPrefix:n,mergedTheme:o,paginatedData:g,mergedBordered:e,mergedBottomBordered:a,mergedPagination:w,cssVars:i?void 0:ve,themeClass:ce==null?void 0:ce.themeClass,onRender:ce==null?void 0:ce.onRender},Y)},render(){const{mergedClsPrefix:r,themeClass:t,onRender:e}=this;return e==null||e(),R("div",{class:[`${r}-data-table`,t,{[`${r}-data-table--bordered`]:this.mergedBordered,[`${r}-data-table--bottom-bordered`]:this.mergedBottomBordered,[`${r}-data-table--single-line`]:this.singleLine,[`${r}-data-table--single-column`]:this.singleColumn,[`${r}-data-table--loading`]:this.loading,[`${r}-data-table--flex-height`]:this.flexHeight}],style:this.cssVars},R("div",{class:`${r}-data-table-wrapper`},R(FSe,{ref:"mainTableInstRef"})),this.pagination?R("div",{class:`${r}-data-table__pagination`},R(Pwe,Object.assign({theme:this.mergedTheme.peers.Pagination,themeOverrides:this.mergedTheme.peerOverrides.Pagination,disabled:this.loading},this.mergedPagination))):null,R(uo,{name:"fade-in-scale-up-transition"},{default:()=>this.loading?R(Hg,{clsPrefix:r,strokeWidth:20}):null}))}}),qSe={itemFontSize:"12px",itemHeight:"36px",itemWidth:"52px",panelActionPadding:"8px 0"};const KSe=r=>{const{popoverColor:t,textColor2:e,primaryColor:n,hoverColor:i,dividerColor:a,opacityDisabled:o,boxShadow2:s,borderRadius:l,iconColor:u,iconColorDisabled:c}=r;return Object.assign(Object.assign({},qSe),{panelColor:t,panelBoxShadow:s,panelDividerColor:a,itemTextColor:e,itemTextColorActive:n,itemColorHover:i,itemOpacityDisabled:o,itemBorderRadius:l,borderRadius:l,iconColor:u,iconColorDisabled:c})},ZSe={name:"TimePicker",common:ci,peers:{Scrollbar:$d,Button:Qw,Input:fA},self:KSe};var Iq=ZSe,QSe={itemSize:"24px",itemCellWidth:"38px",itemCellHeight:"32px",scrollItemWidth:"80px",scrollItemHeight:"40px",panelExtraFooterPadding:"8px 12px",panelActionPadding:"8px 12px",calendarTitlePadding:"0",calendarTitleHeight:"28px",arrowSize:"14px",panelHeaderPadding:"8px 12px",calendarDaysHeight:"32px",calendarTitleGridTempateColumns:"28px 28px 1fr 28px 28px",calendarLeftPaddingDate:"6px 12px 4px 12px",calendarLeftPaddingDatetime:"4px 12px",calendarLeftPaddingDaterange:"6px 12px 4px 12px",calendarLeftPaddingDatetimerange:"4px 12px",calendarLeftPaddingMonth:"0",calendarLeftPaddingYear:"0",calendarLeftPaddingQuarter:"0",calendarRightPaddingDate:"6px 12px 4px 12px",calendarRightPaddingDatetime:"4px 12px",calendarRightPaddingDaterange:"6px 12px 4px 12px",calendarRightPaddingDatetimerange:"4px 12px",calendarRightPaddingMonth:"0",calendarRightPaddingYear:"0",calendarRightPaddingQuarter:"0"};const JSe=r=>{const{hoverColor:t,fontSize:e,textColor2:n,textColorDisabled:i,popoverColor:a,primaryColor:o,borderRadiusSmall:s,iconColor:l,iconColorDisabled:u,textColor1:c,dividerColor:f,boxShadow2:d,borderRadius:h,fontWeightStrong:v}=r;return Object.assign(Object.assign({},QSe),{itemFontSize:e,calendarDaysFontSize:e,calendarTitleFontSize:e,itemTextColor:n,itemTextColorDisabled:i,itemTextColorActive:a,itemTextColorCurrent:o,itemColorIncluded:_n(o,{alpha:.1}),itemColorHover:t,itemColorDisabled:t,itemColorActive:o,itemBorderRadius:s,panelColor:a,panelTextColor:n,arrowColor:l,calendarTitleTextColor:c,calendarTitleColorHover:t,calendarDaysTextColor:n,panelHeaderDividerColor:f,calendarDaysDividerColor:f,calendarDividerColor:f,panelActionDividerColor:f,panelBoxShadow:d,panelBorderRadius:h,calendarTitleFontWeight:v,scrollItemBorderRadius:h,iconColor:l,iconColorDisabled:u})},eCe={name:"DatePicker",common:ci,peers:{Input:fA,Button:Qw,TimePicker:Iq,Scrollbar:$d},self:JSe};var tCe=eCe;function rCe(r,t){const e=re(()=>{const{isTimeDisabled:c}=r,{value:f}=t;if(!(f===null||Array.isArray(f)))return c==null?void 0:c(f)}),n=re(()=>{var c;return(c=e.value)===null||c===void 0?void 0:c.isHourDisabled}),i=re(()=>{var c;return(c=e.value)===null||c===void 0?void 0:c.isMinuteDisabled}),a=re(()=>{var c;return(c=e.value)===null||c===void 0?void 0:c.isSecondDisabled}),o=re(()=>{const{type:c,isDateDisabled:f}=r,{value:d}=t;return d===null||Array.isArray(d)||!["date","datetime"].includes(c)||!f?!1:f(d)}),s=re(()=>{const{type:c}=r,{value:f}=t;if(f===null||c==="datetime"||Array.isArray(f))return!1;const d=new Date(f),h=d.getHours(),v=d.getMinutes(),p=d.getMinutes();return(n.value?n.value(h):!1)||(i.value?i.value(v,h):!1)||(a.value?a.value(p,v,h):!1)}),l=re(()=>o.value||s.value);return{isValueInvalidRef:re(()=>{const{type:c}=r;return c==="date"?o.value:c==="datetime"?l.value:!1}),isDateInvalidRef:o,isTimeInvalidRef:s,isDateTimeInvalidRef:l,isHourDisabledRef:n,isMinuteDisabledRef:i,isSecondDisabledRef:a}}function nCe(r,t){const e=re(()=>{const{isTimeDisabled:f}=r,{value:d}=t;return!Array.isArray(d)||!f?[void 0,void 0]:[f==null?void 0:f(d[0],"start",d),f==null?void 0:f(d[1],"end",d)]}),n={isStartHourDisabledRef:re(()=>{var f;return(f=e.value[0])===null||f===void 0?void 0:f.isHourDisabled}),isEndHourDisabledRef:re(()=>{var f;return(f=e.value[1])===null||f===void 0?void 0:f.isHourDisabled}),isStartMinuteDisabledRef:re(()=>{var f;return(f=e.value[0])===null||f===void 0?void 0:f.isMinuteDisabled}),isEndMinuteDisabledRef:re(()=>{var f;return(f=e.value[1])===null||f===void 0?void 0:f.isMinuteDisabled}),isStartSecondDisabledRef:re(()=>{var f;return(f=e.value[0])===null||f===void 0?void 0:f.isSecondDisabled}),isEndSecondDisabledRef:re(()=>{var f;return(f=e.value[1])===null||f===void 0?void 0:f.isSecondDisabled})},i=re(()=>{const{type:f,isDateDisabled:d}=r,{value:h}=t;return h===null||!Array.isArray(h)||!["daterange","datetimerange"].includes(f)||!d?!1:d(h[0],"start",h)}),a=re(()=>{const{type:f,isDateDisabled:d}=r,{value:h}=t;return h===null||!Array.isArray(h)||!["daterange","datetimerange"].includes(f)||!d?!1:d(h[1],"end",h)}),o=re(()=>{const{type:f}=r,{value:d}=t;if(d===null||!Array.isArray(d)||f!=="datetimerange")return!1;const h=Xh(d[0]),v=A_(d[0]),p=k_(d[0]),{isStartHourDisabledRef:g,isStartMinuteDisabledRef:m,isStartSecondDisabledRef:y}=n;return(g.value?g.value(h):!1)||(m.value?m.value(v,h):!1)||(y.value?y.value(p,v,h):!1)}),s=re(()=>{const{type:f}=r,{value:d}=t;if(d===null||!Array.isArray(d)||f!=="datetimerange")return!1;const h=Xh(d[1]),v=A_(d[1]),p=k_(d[1]),{isEndHourDisabledRef:g,isEndMinuteDisabledRef:m,isEndSecondDisabledRef:y}=n;return(g.value?g.value(h):!1)||(m.value?m.value(v,h):!1)||(y.value?y.value(p,v,h):!1)}),l=re(()=>i.value||o.value),u=re(()=>a.value||s.value),c=re(()=>l.value||u.value);return Object.assign(Object.assign({},n),{isStartDateInvalidRef:i,isEndDateInvalidRef:a,isStartTimeInvalidRef:o,isEndTimeInvalidRef:s,isStartValueInvalidRef:l,isEndValueInvalidRef:u,isRangeInvalidRef:c})}const pA="n-date-picker",Qx={amHours:["00","01","02","03","04","05","06","07","08","09","10","11"],pmHours:["12","01","02","03","04","05","06","07","08","09","10","11"],hours:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],minutes:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],seconds:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],period:["AM","PM"]};function CI(r){return`00${r}`.slice(-2)}function Jx(r,t,e){return Array.isArray(t)?(e==="am"?t.filter(n=>n<12):e==="pm"?t.filter(n=>n>=12).map(n=>n===12?12:n-12):t).map(n=>CI(n)):typeof t=="number"?e==="am"?r.filter(n=>{const i=Number(n);return i<12&&i%t===0}):e==="pm"?r.filter(n=>{const i=Number(n);return i>=12&&i%t===0}).map(n=>{const i=Number(n);return CI(i===12?12:i-12)}):r.filter(n=>Number(n)%t===0):e==="am"?r.filter(n=>Number(n)<12):e==="pm"?r.map(n=>Number(n)).filter(n=>Number(n)>=12).map(n=>CI(n===12?12:n-12)):r}function nE(r,t,e){return e?typeof e=="number"?r%e===0:e.includes(r):!0}function iCe(r,t,e){const n=Jx(Qx[t],e).map(Number);let i,a;for(let o=0;o<n.length;++o){const s=n[o];if(s===r)return s;if(s>r){a=s;break}i=s}return i===void 0?(a||U0("time-picker","Please set 'hours' or 'minutes' or 'seconds' props"),a):a===void 0||a-r>r-i?i:a}function aCe(r){return Xh(r)<12?"am":"pm"}const Pq="n-time-picker";var iE=It({name:"TimePickerPanelCol",props:{clsPrefix:{type:String,required:!0},data:{type:Array,required:!0},activeValue:{type:Number,default:null},onItemClick:Function},render(){const{activeValue:r,onItemClick:t,clsPrefix:e}=this;return this.data.map(n=>{const{label:i,disabled:a,value:o}=n,s=r===o;return R("div",{key:i,"data-active":s?"":null,class:[`${e}-time-picker-col__item`,s&&`${e}-time-picker-col__item--active`,a&&`${e}-time-picker-col__item--disabled`],onClick:t&&!a?()=>t(o):void 0},i)})}});const oCe={actions:{type:Array,default:()=>["now","confirm"]},showHour:{type:Boolean,default:!0},showMinute:{type:Boolean,default:!0},showSecond:{type:Boolean,default:!0},showPeriod:{type:Boolean,default:!0},isHourInvalid:Boolean,isMinuteInvalid:Boolean,isSecondInvalid:Boolean,isAmPmInvalid:Boolean,isValueInvalid:Boolean,hourValue:{type:Number,default:null},minuteValue:{type:Number,default:null},secondValue:{type:Number,default:null},amPmValue:{type:String,default:null},isHourDisabled:Function,isMinuteDisabled:Function,isSecondDisabled:Function,onHourClick:{type:Function,required:!0},onMinuteClick:{type:Function,required:!0},onSecondClick:{type:Function,required:!0},onAmPmClick:{type:Function,required:!0},onNowClick:Function,nowText:String,confirmText:String,transitionDisabled:Boolean,onConfirmClick:Function,onFocusin:Function,onFocusout:Function,onFocusDetectorFocus:Function,onKeydown:Function,hours:[Number,Array],minutes:[Number,Array],seconds:[Number,Array],use12Hours:Boolean};var sCe=It({name:"TimePickerPanel",props:oCe,setup(r){const{mergedThemeRef:t,mergedClsPrefixRef:e}=Sr(Pq),n=re(()=>{const{isHourDisabled:s,hours:l,use12Hours:u,amPmValue:c}=r;if(u){const f=c!=null?c:aCe(Date.now());return Jx(Qx.hours,l,f).map(d=>{const h=Number(d),v=f==="pm"&&h!==12?h+12:h;return{label:d,value:v,disabled:s?s(v):!1}})}else return Jx(Qx.hours,l).map(f=>({label:f,value:Number(f),disabled:s?s(Number(f)):!1}))}),i=re(()=>{const{isMinuteDisabled:s,minutes:l}=r;return Jx(Qx.minutes,l).map(u=>({label:u,value:Number(u),disabled:s?s(Number(u),r.hourValue):!1}))}),a=re(()=>{const{isSecondDisabled:s,seconds:l}=r;return Jx(Qx.seconds,l).map(u=>({label:u,value:Number(u),disabled:s?s(Number(u),r.minuteValue,r.hourValue):!1}))}),o=re(()=>{const{isHourDisabled:s}=r;let l=!0,u=!0;for(let c=0;c<12;++c)if(!(s==null?void 0:s(c))){l=!1;break}for(let c=12;c<24;++c)if(!(s==null?void 0:s(c))){u=!1;break}return[{label:"AM",value:"am",disabled:l},{label:"PM",value:"pm",disabled:u}]});return{mergedTheme:t,mergedClsPrefix:e,hours:n,minutes:i,seconds:a,amPm:o,hourScrollRef:Re(null),minuteScrollRef:Re(null),secondScrollRef:Re(null),amPmScrollRef:Re(null)}},render(){var r,t;const{mergedClsPrefix:e,mergedTheme:n}=this;return R("div",{tabindex:0,class:`${e}-time-picker-panel`,onFocusin:this.onFocusin,onFocusout:this.onFocusout,onKeydown:this.onKeydown},R("div",{class:`${e}-time-picker-cols`},this.showHour?R("div",{class:[`${e}-time-picker-col`,this.isHourInvalid&&`${e}-time-picker-col--invalid`,this.transitionDisabled&&`${e}-time-picker-col--transition-disabled`]},R(ll,{ref:"hourScrollRef",theme:n.peers.Scrollbar,themeOverrides:n.peerOverrides.Scrollbar},{default:()=>[R(iE,{clsPrefix:e,data:this.hours,activeValue:this.hourValue,onItemClick:this.onHourClick}),R("div",{class:`${e}-time-picker-col__padding`})]})):null,this.showMinute?R("div",{class:[`${e}-time-picker-col`,this.transitionDisabled&&`${e}-time-picker-col--transition-disabled`,this.isMinuteInvalid&&`${e}-time-picker-col--invalid`]},R(ll,{ref:"minuteScrollRef",theme:n.peers.Scrollbar,themeOverrides:n.peerOverrides.Scrollbar},{default:()=>[R(iE,{clsPrefix:e,data:this.minutes,activeValue:this.minuteValue,onItemClick:this.onMinuteClick}),R("div",{class:`${e}-time-picker-col__padding`})]})):null,this.showSecond?R("div",{class:[`${e}-time-picker-col`,this.isSecondInvalid&&`${e}-time-picker-col--invalid`,this.transitionDisabled&&`${e}-time-picker-col--transition-disabled`]},R(ll,{ref:"secondScrollRef",theme:n.peers.Scrollbar,themeOverrides:n.peerOverrides.Scrollbar},{default:()=>[R(iE,{clsPrefix:e,data:this.seconds,activeValue:this.secondValue,onItemClick:this.onSecondClick}),R("div",{class:`${e}-time-picker-col__padding`})]})):null,this.use12Hours?R("div",{class:[`${e}-time-picker-col`,this.isAmPmInvalid&&`${e}-time-picker-col--invalid`,this.transitionDisabled&&`${e}-time-picker-col--transition-disabled`]},R(ll,{ref:"amPmScrollRef",theme:n.peers.Scrollbar,themeOverrides:n.peerOverrides.Scrollbar},{default:()=>[R(iE,{clsPrefix:e,data:this.amPm,activeValue:this.amPmValue,onItemClick:this.onAmPmClick}),R("div",{class:`${e}-time-picker-col__padding`})]})):null),R("div",{class:`${e}-time-picker-actions`},((r=this.actions)===null||r===void 0?void 0:r.includes("now"))?R(Wo,{size:"tiny",theme:n.peers.Button,themeOverrides:n.peerOverrides.Button,onClick:this.onNowClick},{default:()=>this.nowText}):null,((t=this.actions)===null||t===void 0?void 0:t.includes("confirm"))?R(Wo,{size:"tiny",type:"primary",class:`${e}-time-picker-actions__confirm`,theme:n.peers.Button,themeOverrides:n.peerOverrides.Button,disabled:this.isValueInvalid,onClick:this.onConfirmClick},{default:()=>this.confirmText}):null),R(Rv,{onFocus:this.onFocusDetectorFocus}))}}),lCe=ke([le("time-picker",`
 z-index: auto;
 position: relative;
 `,[le("time-picker-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),Ge("disabled",[le("time-picker-icon",{color:"var(--n-icon-color-disabled)"})])]),le("time-picker-panel",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 font-size: var(--n-item-font-size);
 border-radius: var(--n-border-radius);
 margin: 4px 0;
 min-width: 104px;
 overflow: hidden;
 background-color: var(--n-panel-color);
 box-shadow: var(--n-panel-box-shadow);
 `,[Dv(),le("time-picker-actions",`
 padding: var(--n-panel-action-padding);
 align-items: center;
 display: flex;
 justify-content: space-evenly;
 `),le("time-picker-cols",`
 height: calc(var(--n-item-height) * 6);
 display: flex;
 position: relative;
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-panel-divider-color);
 `),le("time-picker-col",`
 flex-grow: 1;
 min-width: var(--n-item-width);
 height: calc(var(--n-item-height) * 6);
 flex-direction: column;
 transition: box-shadow .3s var(--n-bezier);
 `,[Ge("transition-disabled",[Ae("item","transition: none;",[ke("&::before","transition: none;")])]),Ae("padding",{height:"calc(var(--n-item-height) * 5)"}),ke("&:first-child","min-width: calc(var(--n-item-width) + 4px);",[Ae("item",[ke("&::before","left: 4px;")])]),Ae("item",`
 cursor: pointer;
 height: var(--n-item-height);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 background: #0000;
 text-decoration-color: #0000;
 color: var(--n-item-text-color);
 z-index: 0;
 box-sizing: border-box;
 padding-top: 4px;
 position: relative;
 `,[ke("&::before",`
 content: "";
 transition: background-color .3s var(--n-bezier);
 z-index: -1;
 position: absolute;
 left: 0;
 right: 4px;
 top: 4px;
 bottom: 0;
 border-radius: var(--n-item-border-radius);
 `),Nn("disabled",[ke("&:hover::before",{backgroundColor:"var(--n-item-color-hover)"})]),Ge("active",`
 color: var(--n-item-text-color-active);
 `,[ke("&::before",`
 background-color: var(--n-item-color-hover);
 `)]),Ge("disabled",`
 opacity: var(--n-item-opacity-disabled);
 cursor: not-allowed;
 `)]),Ge("invalid",[Ae("item",[Ge("active",`
 text-decoration: line-through;
 text-decoration-color: var(--n-item-text-color-active);
 `)])])])])]);function EI(r,t){return r===void 0?!0:Array.isArray(r)?r.every(e=>e>=0&&e<=t):r>=0&&r<=t}const uCe=Object.assign(Object.assign({},wr.props),{to:Xo.propTo,bordered:{type:Boolean,default:void 0},actions:Array,defaultValue:{type:Number,default:null},defaultFormattedValue:String,placeholder:String,placement:{type:String,default:"bottom-start"},value:Number,format:{type:String,default:"HH:mm:ss"},valueFormat:String,formattedValue:String,isHourDisabled:Function,size:String,isMinuteDisabled:Function,isSecondDisabled:Function,inputReadonly:Boolean,clearable:Boolean,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onUpdateFormattedValue:[Function,Array],"onUpdate:formattedValue":[Function,Array],onBlur:[Function,Array],onFocus:[Function,Array],stateful:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},disabled:{type:Boolean,default:void 0},show:{type:Boolean,default:void 0},hours:{type:[Number,Array],validator:r=>EI(r,23)},minutes:{type:[Number,Array],validator:r=>EI(r,59)},seconds:{type:[Number,Array],validator:r=>EI(r,59)},use12Hours:Boolean,onChange:[Function,Array]});var jR=It({name:"TimePicker",props:uCe,setup(r){const{mergedBorderedRef:t,mergedClsPrefixRef:e,namespaceRef:n}=Bn(r),{localeRef:i,dateLocaleRef:a}=Bd("TimePicker"),o=ic(r),{mergedSizeRef:s,mergedDisabledRef:l,mergedStatusRef:u}=o,c=wr("TimePicker","-time-picker",lCe,Iq,r,e),f=TL(),d=Re(null),h=Re(null),v=re(()=>({locale:a.value.locale}));function p(Me){return Me===null?null:al(Me,r.valueFormat||r.format,new Date,v.value).getTime()}const{defaultValue:g,defaultFormattedValue:m}=r,y=Re(m!==void 0?p(m):g),b=re(()=>{const{formattedValue:Me}=r;if(Me!==void 0)return p(Me);const{value:ht}=r;return ht!==void 0?ht:y.value}),{value:w}=b,S=Re(w===null?"":Pi(w,r.format,v.value)),E=Re(!1),_=tr(r,"show"),A=zi(_,E),k=Re(w),T=Re(!1),I=re(()=>i.value.now),D=re(()=>r.placeholder!==void 0?r.placeholder:i.value.placeholder),O=re(()=>i.value.negativeText),B=re(()=>i.value.positiveText),U=re(()=>/H|h|K|k/.test(r.format)),N=re(()=>r.format.includes("m")),G=re(()=>r.format.includes("s")),L=re(()=>{const{isHourDisabled:Me}=r;return ee.value===null?!1:nE(ee.value,"hours",r.hours)?Me?Me(ee.value):!1:!0}),F=re(()=>{const{value:Me}=Q,{value:ht}=ee;if(Me===null||ht===null)return!1;if(!nE(Me,"minutes",r.minutes))return!0;const{isMinuteDisabled:ar}=r;return ar?ar(Me,ht):!1}),W=re(()=>{const{value:Me}=Q,{value:ht}=ee,{value:ar}=be;if(ar===null||Me===null||ht===null)return!1;if(!nE(ar,"seconds",r.seconds))return!0;const{isSecondDisabled:Ht}=r;return Ht?Ht(ar,Me,ht):!1}),H=re(()=>L.value||F.value||W.value),K=re(()=>r.format.length+4),ie=re(()=>{const{value:Me}=b;return Me===null?null:Xh(Me)<12?"am":"pm"}),ee=re(()=>{const{value:Me}=b;return Me===null?null:Number(Pi(Me,"HH",v.value))}),Q=re(()=>{const{value:Me}=b;return Me===null?null:Number(Pi(Me,"mm",v.value))}),be=re(()=>{const{value:Me}=b;return Me===null?null:Number(Pi(Me,"ss",v.value))});function fe(Me,ht){const{onUpdateFormattedValue:ar,"onUpdate:formattedValue":Ht}=r;ar&&Tt(ar,Me,ht),Ht&&Tt(Ht,Me,ht)}function he(Me){const{onUpdateValue:ht,"onUpdate:value":ar,onChange:Ht}=r,{nTriggerFormChange:Er,nTriggerFormInput:it}=o,At=Me===null?null:Pi(Me,r.valueFormat||r.format);ht&&Tt(ht,Me,At),ar&&Tt(ar,Me,At),Ht&&Tt(Ht,Me,At),fe(At,Me),y.value=Me,Er(),it()}function Ee(Me){const{onFocus:ht}=r,{nTriggerFormFocus:ar}=o;ht&&Tt(ht,Me),ar()}function He(Me){const{onBlur:ht}=r,{nTriggerFormBlur:ar}=o;ht&&Tt(ht,Me),ar()}function nt(Me){Me.stopPropagation(),he(null),Le(null)}function st(){ut({returnFocus:!0})}function z(Me){var ht;switch(Me.code){case"Escape":ut({returnFocus:!0});break;case"Tab":f.shift&&Me.target===((ht=h.value)===null||ht===void 0?void 0:ht.$el)&&(Me.preventDefault(),ut({returnFocus:!0}));break}}function j(){T.value=!0,Ja(()=>{T.value=!1})}function X(Me){l.value||tf(Me,"clear")||A.value||Ue()}function ae(Me){typeof Me!="string"&&(b.value===null?he(Cr(Sp(P1e(new Date),Me))):he(Cr(Sp(b.value,Me))))}function ue(Me){typeof Me!="string"&&(b.value===null?he(Cr(mI(Uxe(new Date),Me))):he(Cr(mI(b.value,Me))))}function Be(Me){typeof Me!="string"&&(b.value===null?he(Cr(yI(YL(new Date),Me))):he(Cr(yI(b.value,Me))))}function Ze(Me){const{value:ht}=b;if(ht===null){const ar=new Date,Ht=Xh(ar);Me==="pm"&&Ht<12?he(Cr(Sp(ar,Ht+12))):Me==="am"&&Ht>=12&&he(Cr(Sp(ar,Ht-12))),he(Cr(ar))}else{const ar=Xh(ht);Me==="pm"&&ar<12?he(Cr(Sp(ht,ar+12))):Me==="am"&&ar>=12&&he(Cr(Sp(ht,ar-12)))}}function Le(Me){Me===void 0&&(Me=b.value),Me===null?S.value="":S.value=Pi(Me,r.format,v.value)}function se(Me){Fe(Me)||Ee(Me)}function Se(Me){var ht;if(!Fe(Me))if(A.value){const ar=(ht=h.value)===null||ht===void 0?void 0:ht.$el;(ar==null?void 0:ar.contains(Me.relatedTarget))||(He(Me),ut({returnFocus:!1}))}else He(Me)}function Y(){l.value||A.value||Ue()}function ve(){l.value||(Le(),ut({returnFocus:!1}))}function ce(){if(!h.value)return;const{hourScrollRef:Me,minuteScrollRef:ht,secondScrollRef:ar,amPmScrollRef:Ht}=h.value;[Me,ht,ar,Ht].forEach(Er=>{var it;if(!Er)return;const At=(it=Er.contentRef)===null||it===void 0?void 0:it.querySelector("[data-active]");At&&Er.scrollTo({top:At.offsetTop})})}function de(Me){E.value=Me}function Fe(Me){var ht,ar,Ht;return!!(((ar=(ht=d.value)===null||ht===void 0?void 0:ht.wrapperElRef)===null||ar===void 0?void 0:ar.contains(Me.relatedTarget))||((Ht=h.value)===null||Ht===void 0?void 0:Ht.$el.contains(Me.relatedTarget)))}function Ue(){k.value=b.value,de(!0),Ja(ce)}function lt(Me){var ht,ar;A.value&&!((ar=(ht=d.value)===null||ht===void 0?void 0:ht.wrapperElRef)===null||ar===void 0?void 0:ar.contains(Me.target))&&ut({returnFocus:!1})}function ut({returnFocus:Me}){var ht;A.value&&(de(!1),Me&&((ht=d.value)===null||ht===void 0||ht.focus()))}function We(Me){if(Me===""){he(null);return}const ht=al(Me,r.format,new Date,v.value);if(S.value=Me,gu(ht)){const{value:ar}=b;if(ar!==null){const Ht=Ps(ar,{hours:Xh(ht),minutes:A_(ht),seconds:k_(ht)});he(Cr(Ht))}else he(Cr(ht))}}function J(){he(k.value),de(!1)}function Pe(){const Me=new Date,ht={hours:Xh,minutes:A_,seconds:k_},[ar,Ht,Er]=["hours","minutes","seconds"].map(At=>!r[At]||nE(ht[At](Me),At,r[At])?ht[At](Me):iCe(ht[At](Me),At,r[At])),it=yI(mI(Sp(b.value?b.value:Cr(Me),ar),Ht),Er);he(Cr(it))}function Ce(){Le(),ut({returnFocus:!0})}function ct(Me){Fe(Me)||(He(Me),ut({returnFocus:!1}))}return hn(b,Me=>{Le(Me),j(),Ja(ce)}),hn(A,()=>{H.value&&he(k.value)}),Tn(Pq,{mergedThemeRef:c,mergedClsPrefixRef:e}),Object.assign(Object.assign({},{focus:()=>{var Me;(Me=d.value)===null||Me===void 0||Me.focus()},blur:()=>{var Me;(Me=d.value)===null||Me===void 0||Me.blur()}}),{mergedStatus:u,mergedBordered:t,mergedClsPrefix:e,namespace:n,uncontrolledValue:y,mergedValue:b,isMounted:Mv(),inputInstRef:d,panelInstRef:h,adjustedTo:Xo(r),mergedShow:A,localizedNow:I,localizedPlaceholder:D,localizedNegativeText:O,localizedPositiveText:B,hourInFormat:U,minuteInFormat:N,secondInFormat:G,mergedAttrSize:K,displayTimeString:S,mergedSize:s,mergedDisabled:l,isValueInvalid:H,isHourInvalid:L,isMinuteInvalid:F,isSecondInvalid:W,transitionDisabled:T,hourValue:ee,minuteValue:Q,secondValue:be,amPmValue:ie,handleTimeInputFocus:se,handleTimeInputBlur:Se,handleNowClick:Pe,handleConfirmClick:Ce,handleTimeInputUpdateValue:We,handleMenuFocusOut:ct,handleCancelClick:J,handleClickOutside:lt,handleTimeInputActivate:Y,handleTimeInputDeactivate:ve,handleHourClick:ae,handleMinuteClick:ue,handleSecondClick:Be,handleAmPmClick:Ze,handleTimeInputClear:nt,handleFocusDetectorFocus:st,handleMenuKeyDown:z,handleTriggerClick:X,mergedTheme:c,triggerCssVars:re(()=>{const{common:{cubicBezierEaseInOut:Me},self:{iconColor:ht,iconColorDisabled:ar}}=c.value;return{"--n-icon-color":ht,"--n-icon-color-disabled":ar,"--n-bezier":Me}}),cssVars:re(()=>{const{self:{panelColor:Me,itemTextColor:ht,itemTextColorActive:ar,itemColorHover:Ht,panelDividerColor:Er,panelBoxShadow:it,itemOpacityDisabled:At,borderRadius:vr,itemFontSize:ze,itemWidth:_e,itemHeight:Ke,panelActionPadding:Ot,itemBorderRadius:Nt},common:{cubicBezierEaseInOut:fr}}=c.value;return{"--n-bezier":fr,"--n-border-radius":vr,"--n-item-color-hover":Ht,"--n-item-font-size":ze,"--n-item-height":Ke,"--n-item-opacity-disabled":At,"--n-item-text-color":ht,"--n-item-text-color-active":ar,"--n-item-width":_e,"--n-panel-action-padding":Ot,"--n-panel-box-shadow":it,"--n-panel-color":Me,"--n-panel-divider-color":Er,"--n-item-border-radius":Nt}})})},render(){const{mergedClsPrefix:r,$slots:t}=this;return R("div",{class:`${r}-time-picker`,style:this.triggerCssVars},R(Vg,null,{default:()=>[R(Wg,null,{default:()=>R(Eg,{ref:"inputInstRef",status:this.mergedStatus,value:this.displayTimeString,bordered:this.mergedBordered,passivelyActivated:!0,attrSize:this.mergedAttrSize,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,stateful:this.stateful,size:this.mergedSize,placeholder:this.localizedPlaceholder,clearable:this.clearable,disabled:this.mergedDisabled,textDecoration:this.isValueInvalid?"line-through":void 0,onFocus:this.handleTimeInputFocus,onBlur:this.handleTimeInputBlur,onActivate:this.handleTimeInputActivate,onDeactivate:this.handleTimeInputDeactivate,onUpdateValue:this.handleTimeInputUpdateValue,onClear:this.handleTimeInputClear,internalDeactivateOnEnter:!0,internalForceFocus:this.mergedShow,readonly:this.inputReadonly||this.mergedDisabled,onClick:this.handleTriggerClick},this.showIcon?{[this.clearable?"clear":"suffix"]:()=>R(Hi,{clsPrefix:r,class:`${r}-time-picker-icon`},{default:()=>t.icon?t.icon():R(u0e,null)})}:null)}),R(jg,{teleportDisabled:this.adjustedTo===Xo.tdkey,show:this.mergedShow,to:this.adjustedTo,containerClass:this.namespace,placement:this.placement},{default:()=>R(uo,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>this.mergedShow?Gl(R(sCe,{ref:"panelInstRef",actions:this.actions,style:this.cssVars,seconds:this.seconds,minutes:this.minutes,hours:this.hours,transitionDisabled:this.transitionDisabled,hourValue:this.hourValue,showHour:this.hourInFormat,isHourInvalid:this.isHourInvalid,isHourDisabled:this.isHourDisabled,minuteValue:this.minuteValue,showMinute:this.minuteInFormat,isMinuteInvalid:this.isMinuteInvalid,isMinuteDisabled:this.isMinuteDisabled,secondValue:this.secondValue,amPmValue:this.amPmValue,showSecond:this.secondInFormat,isSecondInvalid:this.isSecondInvalid,isSecondDisabled:this.isSecondDisabled,isValueInvalid:this.isValueInvalid,nowText:this.localizedNow,confirmText:this.localizedPositiveText,use12Hours:this.use12Hours,onFocusout:this.handleMenuFocusOut,onKeydown:this.handleMenuKeyDown,onHourClick:this.handleHourClick,onMinuteClick:this.handleMinuteClick,onSecondClick:this.handleSecondClick,onAmPmClick:this.handleAmPmClick,onNowClick:this.handleNowClick,onConfirmClick:this.handleConfirmClick,onFocusDetectorFocus:this.handleFocusDetectorFocus}),[[Id,this.handleClickOutside]]):null})})]}))}});const cCe="HH:mm:ss",Rq={active:Boolean,dateFormat:String,timeFormat:{type:String,value:cCe},value:{type:[Array,Number],default:null},shortcuts:Object,defaultTime:[Number,String,Array],onConfirm:Function,onClose:Function,onTabOut:Function,onUpdateValue:{type:Function,required:!0}};function Dq(r){const{dateLocaleRef:t,timePickerSizeRef:e,localeRef:n,mergedClsPrefixRef:i,mergedThemeRef:a}=Sr(pA),o=re(()=>({locale:t.value.locale})),s=Re(null),l=TL();function u(){const{onConfirm:T}=r;T&&T()}function c(T,I){const{onUpdateValue:D}=r;D(T,I)}function f(T=!1){const{onClose:I}=r;I&&I(T)}function d(){const{onTabOut:T}=r;T&&T()}function h(){c(null,!0),f(!0)}function v(){d()}function p(){r.active&&Ja(()=>{const{value:T}=s;if(!T)return;const I=T.querySelectorAll("[data-n-date]");I.forEach(D=>{D.classList.add("transition-disabled")}),T.offsetWidth,I.forEach(D=>{D.classList.remove("transition-disabled")})})}function g(T){T.code==="Tab"&&T.target===s.value&&l.shift&&(T.preventDefault(),d())}function m(T){const{value:I}=s;l.tab&&T.target===I&&(I==null?void 0:I.contains(T.relatedTarget))&&d()}let y=null,b=!1;function w(){y=r.value,b=!0}function S(){b=!1}function E(){b&&(c(y,!1),b=!1)}function _(T){return typeof T=="function"?T():T}const A=Re(!1);function k(){A.value=!A.value}return{mergedTheme:a,mergedClsPrefix:i,dateFnsOptions:o,timePickerSize:e,selfRef:s,locale:n,doConfirm:u,doClose:f,doUpdateValue:c,doTabOut:d,handleClearClick:h,handleFocusDetectorFocus:v,disableTransitionOneTick:p,handlePanelKeyDown:g,handlePanelFocus:m,cachePendingValue:w,clearPendingValue:S,restorePendingValue:E,getShortcutValue:_,handleShortcutMouseleave:E,showMonthYearPanel:A,handleOpenQuickSelectMonthPanel:k}}const eF=Object.assign(Object.assign({},Rq),{actions:{type:Array,default:()=>["now","clear","confirm"]}});function tF(r,t){const e=Dq(r),{isValueInvalidRef:n,isDateDisabledRef:i,isDateInvalidRef:a,isTimeInvalidRef:o,isDateTimeInvalidRef:s,isHourDisabledRef:l,isMinuteDisabledRef:u,isSecondDisabledRef:c,localeRef:f,firstDayOfWeekRef:d,datePickerSlots:h}=Sr(pA),v={isValueInvalid:n,isDateDisabled:i,isDateInvalid:a,isTimeInvalid:o,isDateTimeInvalid:s,isHourDisabled:l,isMinuteDisabled:u,isSecondDisabled:c},p=re(()=>r.dateFormat||f.value.dateFormat),g=Re(r.value===null||Array.isArray(r.value)?"":Pi(r.value,p.value)),m=Re(r.value===null||Array.isArray(r.value)?Date.now():r.value),y=Re(null),b=Re(null),w=Re(null),S=Re(Date.now()),E=re(()=>{var ae;return HR(m.value,r.value,S.value,(ae=d.value)!==null&&ae!==void 0?ae:f.value.firstDayOfWeek)}),_=re(()=>N1e(m.value,r.value,S.value)),A=re(()=>z1e(m.value,r.value,S.value)),k=re(()=>B1e(m.value,r.value,S.value)),T=re(()=>E.value.slice(0,7).map(ae=>{const{ts:ue}=ae;return Pi(ue,f.value.dayFormat,e.dateFnsOptions.value)})),I=re(()=>Pi(m.value,f.value.monthFormat,e.dateFnsOptions.value)),D=re(()=>Pi(m.value,f.value.yearFormat,e.dateFnsOptions.value));hn(m,(ae,ue)=>{dA(ae,ue)||e.disableTransitionOneTick()}),hn(re(()=>r.value),ae=>{ae!==null&&!Array.isArray(ae)?(g.value=Pi(ae,p.value,e.dateFnsOptions.value),m.value=ae):g.value=""});function O(ae){return Cr(t==="datetime"?YL(ae):t==="month"?Uh(ae):t==="year"?WL(ae):t==="quarter"?GR(ae):__(ae))}function B(ae){const{isDateDisabled:{value:ue}}=v;return ue?ue(ae):!1}function U(ae){const ue=al(ae,p.value,new Date,e.dateFnsOptions.value);if(gu(ue)){if(r.value===null)e.doUpdateValue(Cr(O(Date.now())),!1);else if(!Array.isArray(r.value)){const Be=Ps(r.value,{year:bo(ue),month:yo(ue),date:Wu(ue)});e.doUpdateValue(Cr(O(Cr(Be))),!1)}}else g.value=ae}function N(){const ae=al(g.value,p.value,new Date,e.dateFnsOptions.value);if(gu(ae)){if(r.value===null)e.doUpdateValue(Cr(O(Date.now())),!1);else if(!Array.isArray(r.value)){const ue=Ps(r.value,{year:bo(ae),month:yo(ae),date:Wu(ae)});e.doUpdateValue(Cr(O(Cr(ue))),!1)}}else K()}function G(){e.doUpdateValue(null,!0),g.value="",e.doClose(!0)}function L(){e.doUpdateValue(Cr(O(Date.now())),!0),m.value=Date.now(),e.doClose(!0)}function F(ae){if(B(ae.ts))return;let ue;if(r.value!==null&&!Array.isArray(r.value)?ue=r.value:ue=Date.now(),t==="datetime"&&r.defaultTime!==null&&!Array.isArray(r.defaultTime)){const Be=R2(r.defaultTime);Be&&(ue=Cr(Ps(ue,Be)))}switch(ue=Cr(ae.type==="quarter"&&ae.dateObject.quarter?R1e(Fz(ue,ae.dateObject.year),ae.dateObject.quarter):Ps(ue,ae.dateObject)),e.doUpdateValue(O(ue),t==="date"||t==="year"),t){case"date":case"year":e.doClose();break;case"month":e.disableTransitionOneTick(),X(ue);break;case"quarter":X(ue);break}}function W(ae,ue){let Be;r.value!==null&&!Array.isArray(r.value)?Be=r.value:Be=Date.now(),Be=Cr(ae.type==="month"?XL(Be,ae.dateObject.month):Fz(Be,ae.dateObject.year)),ue(Be),X(Be)}function H(ae){m.value=ae}function K(ae){if(r.value===null||Array.isArray(r.value)){g.value="";return}ae===void 0&&(ae=r.value),g.value=Pi(ae,p.value,e.dateFnsOptions.value)}function ie(){v.isDateInvalid.value||v.isTimeInvalid.value||(e.doConfirm(),ee())}function ee(){r.active&&e.doClose()}function Q(){m.value=Cr($R(m.value,1))}function be(){m.value=Cr($R(m.value,-1))}function fe(){m.value=Cr(rs(m.value,1))}function he(){m.value=Cr(rs(m.value,-1))}function Ee(){const{value:ae}=y;return ae==null?void 0:ae.listElRef}function He(){const{value:ae}=y;return ae==null?void 0:ae.itemsElRef}function nt(ae){var ue;(ue=w.value)===null||ue===void 0||ue.sync()}function st(ae){ae!==null&&e.doUpdateValue(ae,!1)}function z(ae){e.cachePendingValue();const ue=e.getShortcutValue(ae);typeof ue=="number"&&e.doUpdateValue(ue,!1)}function j(ae){const ue=e.getShortcutValue(ae);typeof ue=="number"&&(e.doUpdateValue(ue,!1),e.clearPendingValue(),ie())}function X(ae){const{value:ue}=r;if(b.value){const Be=yo(ae===void 0?ue===null?Date.now():ue:ae);b.value.scrollTo({top:Be*UR})}if(y.value){const Be=bo(ae===void 0?ue===null?Date.now():ue:ae)-uq;y.value.scrollTo({top:Be*UR})}}return Object.assign(Object.assign(Object.assign({dateArray:E,monthArray:_,yearArray:A,quarterArray:k,calendarYear:D,calendarMonth:I,weekdays:T,mergedIsDateDisabled:B,nextYear:Q,prevYear:be,nextMonth:fe,prevMonth:he,handleNowClick:L,handleConfirmClick:ie,handleSingleShortcutMouseenter:z,handleSingleShortcutClick:j},v),e),{handleDateClick:F,handleDateInputBlur:N,handleDateInput:U,handleTimePickerChange:st,clearSelectedDateTime:G,virtualListContainer:Ee,virtualListContent:He,handleVirtualListScroll:nt,timePickerSize:e.timePickerSize,dateInputValue:g,datePickerSlots:h,monthScrollRef:b,yearScrollRef:y,scrollbarInstRef:w,handleQuickMonthClick:W,scrollPickerColumns:X,calendarValue:m,onUpdateCalendarValue:H})}var D2=It({name:"MonthPanel",props:Object.assign(Object.assign({},eF),{type:{type:String,required:!0},useAsQuickJump:Boolean}),setup(r){const t=tF(r,r.type),e=i=>{switch(i.type){case"year":return i.dateObject.year;case"month":return i.dateObject.month+1;case"quarter":return`Q ${i.dateObject.quarter}`}},n=(i,a,o)=>{const{mergedIsDateDisabled:s,handleDateClick:l,handleQuickMonthClick:u}=t;return R("div",{"data-n-date":!0,key:a,class:[`${o}-date-panel-month-calendar__picker-col-item`,{[`${o}-date-panel-month-calendar__picker-col-item--current`]:i.isCurrent,[`${o}-date-panel-month-calendar__picker-col-item--selected`]:i.selected,[`${o}-date-panel-month-calendar__picker-col-item--disabled`]:s(i.ts)}],onClick:()=>{r.useAsQuickJump?u(i,c=>r.onUpdateValue(c,!1)):l(i)}},e(i))};return Io(()=>{Ja(t.scrollPickerColumns)}),Object.assign(Object.assign({},t),{renderItem:n})},render(){const{mergedClsPrefix:r,mergedTheme:t,shortcuts:e,actions:n,renderItem:i,type:a}=this;return R("div",{ref:"selfRef",tabindex:0,class:[`${r}-date-panel`,`${r}-date-panel--month`],onFocus:this.handlePanelFocus,onKeydown:this.handlePanelKeyDown},R("div",{class:`${r}-date-panel-month-calendar`},R(ll,{ref:"scrollbarInstRef",class:`${r}-date-panel-month-calendar__picker-col`,theme:t.peers.Scrollbar,themeOverrides:t.peerOverrides.Scrollbar,container:this.virtualListContainer,content:this.virtualListContent,horizontalRailStyle:{zIndex:1},verticalRailStyle:{zIndex:1}},{default:()=>R(sA,{ref:"yearScrollRef",items:this.yearArray,itemSize:UR,showScrollbar:!1,keyField:"ts",onScroll:this.handleVirtualListScroll,paddingBottom:4},{default:({item:o,index:s})=>i(o,s,r)})}),a==="month"||a==="quarter"?R("div",{class:`${r}-date-panel-month-calendar__picker-col`},R(ll,{ref:"monthScrollRef",theme:t.peers.Scrollbar,themeOverrides:t.peerOverrides.Scrollbar},{default:()=>[(a==="month"?this.monthArray:this.quarterArray).map((o,s)=>i(o,s,r)),R("div",{class:`${r}-date-panel-${a}-calendar__padding`})]})):null),this.datePickerSlots.footer?R("div",{class:`${r}-date-panel-footer`},{default:this.datePickerSlots.footer}):null,(n==null?void 0:n.length)||e?R("div",{class:`${r}-date-panel-actions`},R("div",{class:`${r}-date-panel-actions__prefix`},e&&Object.keys(e).map(o=>{const s=e[o];return Array.isArray(s)?null:R(Jw,{size:"tiny",onMouseenter:()=>{this.handleSingleShortcutMouseenter(s)},onClick:()=>{this.handleSingleShortcutClick(s)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>o})})),R("div",{class:`${r}-date-panel-actions__suffix`},(n==null?void 0:n.includes("clear"))?R(Wo,{theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear}):null,(n==null?void 0:n.includes("now"))?R(Wo,{theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,size:"tiny",onClick:this.handleNowClick},{default:()=>this.locale.now}):null,(n==null?void 0:n.includes("confirm"))?R(Wo,{theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isDateInvalid,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm}):null)):null,R(Rv,{onFocus:this.handleFocusDetectorFocus}))}}),m0=It({props:{mergedClsPrefix:{type:String,required:!0},value:Number,monthBeforeYear:{type:Boolean,required:!0},calendarMonth:{type:String,required:!0},calendarYear:{type:String,required:!0},onUpdateValue:{type:Function,required:!0}},setup(){const r=Re(null),t=Re(null),e=Re(!1);function n(a){var o;e.value&&!((o=r.value)===null||o===void 0?void 0:o.contains(a.target))&&(e.value=!1)}function i(){e.value=!e.value}return{show:e,triggerRef:r,monthPanelRef:t,handleHeaderClick:i,handleClickOutside:n}},render(){const{handleClickOutside:r,mergedClsPrefix:t}=this;return R("div",{class:`${t}-date-panel-month__month-year`,ref:"triggerRef"},R(Vg,null,{default:()=>[R(Wg,null,{default:()=>R("div",{class:[`${t}-date-panel-month__text`,this.show&&`${t}-date-panel-month__text--active`],onClick:this.handleHeaderClick},this.monthBeforeYear?[this.calendarMonth," ",this.calendarYear]:[this.calendarYear," ",this.calendarMonth])}),R(jg,{show:this.show,teleportDisabled:!0},{default:()=>R(uo,{name:"fade-in-scale-up-transition",appear:!0},{default:()=>this.show?Gl(R(D2,{ref:"monthPanelRef",onUpdateValue:this.onUpdateValue,actions:[],type:"month",key:"month",useAsQuickJump:!0,value:this.value}),[[Id,r]]):null})})]}))}}),fCe=It({name:"DateTimePanel",props:eF,setup(r){return tF(r,"datetime")},render(){var r,t,e,n;const{mergedClsPrefix:i,mergedTheme:a,shortcuts:o}=this;return R("div",{ref:"selfRef",tabindex:0,class:`${i}-date-panel ${i}-date-panel--datetime`,onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},R("div",{class:`${i}-date-panel-header`},R(Eg,{value:this.dateInputValue,theme:a.peers.Input,themeOverrides:a.peerOverrides.Input,stateful:!1,size:this.timePickerSize,class:`${i}-date-panel-date-input`,textDecoration:this.isDateInvalid?"line-through":"",placeholder:this.locale.selectDate,onBlur:this.handleDateInputBlur,onUpdateValue:this.handleDateInput}),R(jR,{showIcon:!1,format:this.timeFormat,stateful:!1,theme:a.peers.TimePicker,themeOverrides:a.peerOverrides.TimePicker,to:!1,size:this.timePickerSize,value:Array.isArray(this.value)?null:this.value,placeholder:this.locale.selectTime,isHourDisabled:this.isHourDisabled,isMinuteDisabled:this.isMinuteDisabled,isSecondDisabled:this.isSecondDisabled,onUpdateValue:this.handleTimePickerChange})),R("div",{class:`${i}-date-panel-calendar`},R("div",{class:`${i}-date-panel-month`},R("div",{class:`${i}-date-panel-month__fast-prev`,onClick:this.prevYear},R(xg,null)),R("div",{class:`${i}-date-panel-month__prev`,onClick:this.prevMonth},R(bg,null)),R(m0,{monthBeforeYear:this.locale.monthBeforeYear,value:this.calendarValue,onUpdateValue:this.onUpdateCalendarValue,mergedClsPrefix:i,calendarMonth:this.calendarMonth,calendarYear:this.calendarYear}),R("div",{class:`${i}-date-panel-month__next`,onClick:this.nextMonth},R(Sg,null)),R("div",{class:`${i}-date-panel-month__fast-next`,onClick:this.nextYear},R(wg,null))),R("div",{class:`${i}-date-panel-weekdays`},this.weekdays.map(s=>R("div",{key:s,class:`${i}-date-panel-weekdays__day`},s))),R("div",{class:`${i}-date-panel-dates`},this.dateArray.map((s,l)=>R("div",{"data-n-date":!0,key:l,class:[`${i}-date-panel-date`,{[`${i}-date-panel-date--current`]:s.isCurrentDate,[`${i}-date-panel-date--selected`]:s.selected,[`${i}-date-panel-date--excluded`]:!s.inCurrentMonth,[`${i}-date-panel-date--disabled`]:this.mergedIsDateDisabled(s.ts)}],onClick:()=>this.handleDateClick(s)},s.dateObject.date,s.isCurrentDate?R("div",{class:`${i}-date-panel-date__sup`}):null)))),this.datePickerSlots.footer?R("div",{class:`${i}-date-panel-footer`},this.datePickerSlots.footer()):null,((r=this.actions)===null||r===void 0?void 0:r.length)||o?R("div",{class:`${i}-date-panel-actions`},R("div",{class:`${i}-date-panel-actions__prefix`},o&&Object.keys(o).map(s=>{const l=o[s];return Array.isArray(l)?null:R(Jw,{size:"tiny",onMouseenter:()=>{this.handleSingleShortcutMouseenter(l)},onClick:()=>{this.handleSingleShortcutClick(l)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>s})})),R("div",{class:`${i}-date-panel-actions__suffix`},((t=this.actions)===null||t===void 0?void 0:t.includes("clear"))?R(Wo,{theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,size:"tiny",onClick:this.clearSelectedDateTime},{default:()=>this.locale.clear}):null,((e=this.actions)===null||e===void 0?void 0:e.includes("now"))?R(Wo,{theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,size:"tiny",onClick:this.handleNowClick},{default:()=>this.locale.now}):null,((n=this.actions)===null||n===void 0?void 0:n.includes("confirm"))?R(Wo,{theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isDateInvalid,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm}):null)):null,R(Rv,{onFocus:this.handleFocusDetectorFocus}))}});const Oq=Object.assign(Object.assign({},Rq),{actions:{type:Array,default:()=>["clear","confirm"]}});function Lq(r,t="datetime"){const{isDateDisabledRef:e,isStartHourDisabledRef:n,isEndHourDisabledRef:i,isStartMinuteDisabledRef:a,isEndMinuteDisabledRef:o,isStartSecondDisabledRef:s,isEndSecondDisabledRef:l,isStartDateInvalidRef:u,isEndDateInvalidRef:c,isStartTimeInvalidRef:f,isEndTimeInvalidRef:d,isStartValueInvalidRef:h,isEndValueInvalidRef:v,isRangeInvalidRef:p,localeRef:g,rangesRef:m,closeOnSelectRef:y,updateValueOnCloseRef:b,firstDayOfWeekRef:w,datePickerSlots:S}=Sr(pA),E={isDateDisabled:e,isStartHourDisabled:n,isEndHourDisabled:i,isStartMinuteDisabled:a,isEndMinuteDisabled:o,isStartSecondDisabled:s,isEndSecondDisabled:l,isStartDateInvalid:u,isEndDateInvalid:c,isStartTimeInvalid:f,isEndTimeInvalid:d,isStartValueInvalid:h,isEndValueInvalid:v,isRangeInvalid:p},_=Dq(r),A=Re(null),k=Re(null),T=Re(Date.now()),I=Re(Cr(rs(Date.now(),1))),D=Re(Date.now()),O=Re(!1),B=Re(0),U=re(()=>r.dateFormat||g.value.dateFormat),{value:N}=r,G=Re(Array.isArray(N)?Pi(N[0],U.value,_.dateFnsOptions.value):""),L=Re(Array.isArray(N)?Pi(N[1],U.value,_.dateFnsOptions.value):"");Array.isArray(N)&&ve(N);const F=re(()=>O.value?"end":"start"),W=re(()=>{var it;return HR(T.value,r.value,D.value,(it=w.value)!==null&&it!==void 0?it:g.value.firstDayOfWeek)}),H=re(()=>{var it;return HR(I.value,r.value,D.value,(it=w.value)!==null&&it!==void 0?it:g.value.firstDayOfWeek)}),K=re(()=>W.value.slice(0,7).map(it=>{const{ts:At}=it;return Pi(At,g.value.dayFormat,_.dateFnsOptions.value)})),ie=re(()=>Pi(T.value,g.value.monthFormat,_.dateFnsOptions.value)),ee=re(()=>Pi(I.value,g.value.monthFormat,_.dateFnsOptions.value)),Q=re(()=>Pi(T.value,g.value.yearFormat,_.dateFnsOptions.value)),be=re(()=>Pi(I.value,g.value.yearFormat,_.dateFnsOptions.value)),fe=re(()=>{const{value:it}=r;return Array.isArray(it)?it[0]:null}),he=re(()=>{const{value:it}=r;return Array.isArray(it)?it[1]:null}),Ee=re(()=>{const{shortcuts:it}=r;return it||m.value});hn(re(()=>r.value),it=>{if(it!==null&&Array.isArray(it)){const[At,vr]=it;G.value=Pi(At,U.value,_.dateFnsOptions.value),L.value=Pi(vr,U.value,_.dateFnsOptions.value),O.value||ve(it)}else G.value="",L.value=""});function He(it,At){(bo(it)!==bo(At)||yo(it)!==yo(At))&&_.disableTransitionOneTick()}hn(T,He),hn(I,He);function nt(it){const At=Uh(T.value),vr=Uh(I.value);At>=vr&&(it?I.value=Cr(rs(At,1)):T.value=Cr(rs(vr,-1)))}function st(){T.value=Cr(rs(T.value,12)),nt(!0)}function z(){T.value=Cr(rs(T.value,-12)),nt(!0)}function j(){T.value=Cr(rs(T.value,1)),nt(!0)}function X(){T.value=Cr(rs(T.value,-1)),nt(!0)}function ae(){I.value=Cr(rs(I.value,12)),nt(!1)}function ue(){I.value=Cr(rs(I.value,-12)),nt(!1)}function Be(){I.value=Cr(rs(I.value,1)),nt(!1)}function Ze(){I.value=Cr(rs(I.value,-1)),nt(!1)}function Le(it){T.value=it,nt(!0)}function se(it){I.value=it,nt(!1)}function Se(it){const At=e.value;if(!At)return!1;if(!Array.isArray(r.value)||F.value==="start")return At(it,"start",null);{const{value:vr}=B;return it<B.value?At(it,"start",[vr,vr]):At(it,"end",[vr,vr])}}function Y(it){var At,vr;((At=A.value)===null||At===void 0?void 0:At.contains(it.target))||((vr=k.value)===null||vr===void 0?void 0:vr.contains(it.target))||(O.value=!1)}function ve(it){if(it===null)return;const[At,vr]=it;T.value=At,Uh(vr)<=Uh(At)?I.value=Cr(Uh(rs(At,1))):I.value=Cr(Uh(vr))}function ce(it){Se(it.ts)||(O.value?(O.value=!1,y.value&&t==="daterange"&&(b.value?Ue():Fe())):(O.value=!0,B.value=it.ts,We(it.ts)))}function de(it){if(O.value){if(Se(it.ts))return;it.ts>=B.value?We(B.value,it.ts):We(it.ts,B.value)}}function Fe(){p.value||(_.doConfirm(),Ue())}function Ue(){O.value=!1,r.active&&_.doClose()}function lt(it){typeof it!="number"&&(it=Cr(it)),r.value===null?_.doUpdateValue([it,it],!1):Array.isArray(r.value)&&_.doUpdateValue([it,Math.max(r.value[1],it)],!1)}function ut(it){typeof it!="number"&&(it=Cr(it)),r.value===null?_.doUpdateValue([it,it],!1):Array.isArray(r.value)&&_.doUpdateValue([Math.min(r.value[0],it),it],!1)}function We(it,At){At===void 0&&(At=it),typeof it!="number"&&(it=Cr(it));let vr,ze;if(t==="datetimerange"){const{defaultTime:_e}=r;Array.isArray(_e)?(vr=R2(_e[0]),ze=R2(_e[1])):(vr=R2(_e),ze=vr)}vr&&(it=Cr(Ps(it,vr))),ze&&(At=Cr(Ps(At,ze))),_.doUpdateValue([it,At],!1)}function J(it){return Cr(t==="datetimerange"?YL(it):__(it))}function Pe(it){const At=al(it,U.value,new Date,_.dateFnsOptions.value);if(gu(At))if(r.value){if(Array.isArray(r.value)){const vr=Ps(r.value[0],{year:bo(At),month:yo(At),date:Wu(At)});lt(J(Cr(vr)))}}else{const vr=Ps(new Date,{year:bo(At),month:yo(At),date:Wu(At)});lt(J(Cr(vr)))}else G.value=it}function Ce(it){const At=al(it,U.value,new Date,_.dateFnsOptions.value);if(gu(At)){if(r.value===null){const vr=Ps(new Date,{year:bo(At),month:yo(At),date:Wu(At)});ut(J(Cr(vr)))}else if(Array.isArray(r.value)){const vr=Ps(r.value[1],{year:bo(At),month:yo(At),date:Wu(At)});ut(J(Cr(vr)))}}else L.value=it}function ct(){const it=al(G.value,U.value,new Date,_.dateFnsOptions.value),{value:At}=r;if(gu(it)){if(At===null){const vr=Ps(new Date,{year:bo(it),month:yo(it),date:Wu(it)});lt(J(Cr(vr)))}else if(Array.isArray(At)){const vr=Ps(At[0],{year:bo(it),month:yo(it),date:Wu(it)});lt(J(Cr(vr)))}}else Me()}function mt(){const it=al(L.value,U.value,new Date,_.dateFnsOptions.value),{value:At}=r;if(gu(it)){if(At===null){const vr=Ps(new Date,{year:bo(it),month:yo(it),date:Wu(it)});ut(J(Cr(vr)))}else if(Array.isArray(At)){const vr=Ps(At[1],{year:bo(it),month:yo(it),date:Wu(it)});ut(J(Cr(vr)))}}else Me()}function Me(it){const{value:At}=r;if(At===null||!Array.isArray(At)){G.value="",L.value="";return}it===void 0&&(it=At),G.value=Pi(it[0],U.value,_.dateFnsOptions.value),L.value=Pi(it[1],U.value,_.dateFnsOptions.value)}function ht(it){it!==null&&lt(it)}function ar(it){it!==null&&ut(it)}function Ht(it){_.cachePendingValue();const At=_.getShortcutValue(it);!Array.isArray(At)||We(...At)}function Er(it){const At=_.getShortcutValue(it);!Array.isArray(At)||(We(...At),_.clearPendingValue(),Fe())}return Object.assign(Object.assign(Object.assign({startDatesElRef:A,endDatesElRef:k,resetSelectingStatus:Y,handleDateClick:ce,handleDateMouseEnter:de,handleConfirmClick:Fe,startCalendarPrevYear:z,startCalendarPrevMonth:X,startCalendarNextYear:st,startCalendarNextMonth:j,endCalendarPrevYear:ue,endCalendarPrevMonth:Ze,endCalendarNextMonth:Be,endCalendarNextYear:ae,mergedIsDateDisabled:Se,changeStartEndTime:We,ranges:m,startCalendarMonth:ie,startCalendarYear:Q,endCalendarMonth:ee,endCalendarYear:be,weekdays:K,startDateArray:W,endDateArray:H,handleRangeShortcutMouseenter:Ht,handleRangeShortcutClick:Er},_),E),{startDateDisplayString:G,endDateInput:L,timePickerSize:_.timePickerSize,startTimeValue:fe,endTimeValue:he,handleFocusDetectorFocus:_.handleFocusDetectorFocus,handleStartTimePickerChange:ht,handleEndTimePickerChange:ar,handleStartDateInput:Pe,handleStartDateInputBlur:ct,handleEndDateInput:Ce,handleEndDateInputBlur:mt,datePickerSlots:S,shortcuts:Ee,startCalendarDateTime:T,endCalendarDateTime:I,onUpdateStartCalendarValue:Le,onUpdateEndCalendarValue:se})}var dCe=It({name:"DateTimeRangePanel",props:Oq,setup(r){return Lq(r,"datetimerange")},render(){var r,t,e;const{mergedClsPrefix:n,mergedTheme:i,shortcuts:a}=this;return R("div",{ref:"selfRef",tabindex:0,class:`${n}-date-panel ${n}-date-panel--datetimerange`,onClick:this.resetSelectingStatus,onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},R("div",{class:`${n}-date-panel-header`},R(Eg,{value:this.startDateDisplayString,theme:i.peers.Input,themeOverrides:i.peerOverrides.Input,size:this.timePickerSize,stateful:!1,class:`${n}-date-panel-date-input`,textDecoration:this.isStartValueInvalid?"line-through":"",placeholder:this.locale.selectDate,onBlur:this.handleStartDateInputBlur,onUpdateValue:this.handleStartDateInput}),R(jR,{size:this.timePickerSize,to:!1,showIcon:!1,theme:i.peers.TimePicker,themeOverrides:i.peerOverrides.TimePicker,stateful:!1,placeholder:this.locale.selectTime,format:this.timeFormat,value:this.startTimeValue,isHourDisabled:this.isStartHourDisabled,isMinuteDisabled:this.isStartMinuteDisabled,isSecondDisabled:this.isStartSecondDisabled,onUpdateValue:this.handleStartTimePickerChange}),R(Eg,{value:this.endDateInput,theme:i.peers.Input,themeOverrides:i.peerOverrides.Input,stateful:!1,size:this.timePickerSize,class:`${n}-date-panel-date-input`,textDecoration:this.isEndValueInvalid?"line-through":"",placeholder:this.locale.selectDate,onBlur:this.handleEndDateInputBlur,onUpdateValue:this.handleEndDateInput}),R(jR,{showIcon:!1,theme:i.peers.TimePicker,themeOverrides:i.peerOverrides.TimePicker,to:!1,size:this.timePickerSize,stateful:!1,format:this.timeFormat,placeholder:this.locale.selectTime,value:this.endTimeValue,isHourDisabled:this.isEndHourDisabled,isMinuteDisabled:this.isEndMinuteDisabled,isSecondDisabled:this.isEndSecondDisabled,onUpdateValue:this.handleEndTimePickerChange})),R("div",{ref:"startDatesElRef",class:`${n}-date-panel-calendar ${n}-date-panel-calendar--start`},R("div",{class:`${n}-date-panel-month`},R("div",{class:`${n}-date-panel-month__fast-prev`,onClick:this.startCalendarPrevYear},R(xg,null)),R("div",{class:`${n}-date-panel-month__prev`,onClick:this.startCalendarPrevMonth},R(bg,null)),R(m0,{monthBeforeYear:this.locale.monthBeforeYear,value:this.startCalendarDateTime,onUpdateValue:this.onUpdateStartCalendarValue,mergedClsPrefix:n,calendarMonth:this.startCalendarMonth,calendarYear:this.startCalendarYear}),R("div",{class:`${n}-date-panel-month__next`,onClick:this.startCalendarNextMonth},R(Sg,null)),R("div",{class:`${n}-date-panel-month__fast-next`,onClick:this.startCalendarNextYear},R(wg,null))),R("div",{class:`${n}-date-panel-weekdays`},this.weekdays.map(o=>R("div",{key:o,class:`${n}-date-panel-weekdays__day`},o))),R("div",{class:`${n}-date-panel__divider`}),R("div",{class:`${n}-date-panel-dates`},this.startDateArray.map((o,s)=>R("div",{"data-n-date":!0,key:s,class:[`${n}-date-panel-date`,{[`${n}-date-panel-date--excluded`]:!o.inCurrentMonth,[`${n}-date-panel-date--current`]:o.isCurrentDate,[`${n}-date-panel-date--selected`]:o.selected,[`${n}-date-panel-date--covered`]:o.inSpan,[`${n}-date-panel-date--start`]:o.startOfSpan,[`${n}-date-panel-date--end`]:o.endOfSpan,[`${n}-date-panel-date--disabled`]:this.mergedIsDateDisabled(o.ts)}],onClick:()=>this.handleDateClick(o),onMouseenter:()=>this.handleDateMouseEnter(o)},o.dateObject.date,o.isCurrentDate?R("div",{class:`${n}-date-panel-date__sup`}):null)))),R("div",{class:`${n}-date-panel__vertical-divider`}),R("div",{ref:"endDatesElRef",class:`${n}-date-panel-calendar ${n}-date-panel-calendar--end`},R("div",{class:`${n}-date-panel-month`},R("div",{class:`${n}-date-panel-month__fast-prev`,onClick:this.endCalendarPrevYear},R(xg,null)),R("div",{class:`${n}-date-panel-month__prev`,onClick:this.endCalendarPrevMonth},R(bg,null)),R(m0,{monthBeforeYear:this.locale.monthBeforeYear,value:this.endCalendarDateTime,onUpdateValue:this.onUpdateEndCalendarValue,mergedClsPrefix:n,calendarMonth:this.endCalendarMonth,calendarYear:this.endCalendarYear}),R("div",{class:`${n}-date-panel-month__next`,onClick:this.endCalendarNextMonth},R(Sg,null)),R("div",{class:`${n}-date-panel-month__fast-next`,onClick:this.endCalendarNextYear},R(wg,null))),R("div",{class:`${n}-date-panel-weekdays`},this.weekdays.map(o=>R("div",{key:o,class:`${n}-date-panel-weekdays__day`},o))),R("div",{class:`${n}-date-panel__divider`}),R("div",{class:`${n}-date-panel-dates`},this.endDateArray.map((o,s)=>R("div",{"data-n-date":!0,key:s,class:[`${n}-date-panel-date`,{[`${n}-date-panel-date--excluded`]:!o.inCurrentMonth,[`${n}-date-panel-date--current`]:o.isCurrentDate,[`${n}-date-panel-date--selected`]:o.selected,[`${n}-date-panel-date--covered`]:o.inSpan,[`${n}-date-panel-date--start`]:o.startOfSpan,[`${n}-date-panel-date--end`]:o.endOfSpan,[`${n}-date-panel-date--disabled`]:this.mergedIsDateDisabled(o.ts)}],onClick:()=>this.handleDateClick(o),onMouseenter:()=>this.handleDateMouseEnter(o)},o.dateObject.date,o.isCurrentDate?R("div",{class:`${n}-date-panel-date__sup`}):null)))),this.datePickerSlots.footer?R("div",{class:`${n}-date-panel-footer`},this.datePickerSlots.footer()):null,((r=this.actions)===null||r===void 0?void 0:r.length)||a?R("div",{class:`${n}-date-panel-actions`},R("div",{class:`${n}-date-panel-actions__prefix`},a&&Object.keys(a).map(o=>{const s=a[o];return Array.isArray(s)||typeof s=="function"?R(Jw,{size:"tiny",onMouseenter:()=>{this.handleRangeShortcutMouseenter(s)},onClick:()=>{this.handleRangeShortcutClick(s)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>o}):null})),R("div",{class:`${n}-date-panel-actions__suffix`},((t=this.actions)===null||t===void 0?void 0:t.includes("clear"))?R(Wo,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear}):null,((e=this.actions)===null||e===void 0?void 0:e.includes("confirm"))?R(Wo,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isRangeInvalid,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm}):null)):null,R(Rv,{onFocus:this.handleFocusDetectorFocus}))}}),hCe=It({name:"DatePanel",props:eF,setup(r){return tF(r,"date")},render(){var r,t,e;const{mergedClsPrefix:n,mergedTheme:i,shortcuts:a}=this;return R("div",{ref:"selfRef",tabindex:0,class:`${n}-date-panel ${n}-date-panel--date`,onFocus:this.handlePanelFocus,onKeydown:this.handlePanelKeyDown},R("div",{class:`${n}-date-panel-calendar`},R("div",{class:`${n}-date-panel-month`},R("div",{class:`${n}-date-panel-month__fast-prev`,onClick:this.prevYear},R(xg,null)),R("div",{class:`${n}-date-panel-month__prev`,onClick:this.prevMonth},R(bg,null)),R(m0,{monthBeforeYear:this.locale.monthBeforeYear,value:this.calendarValue,onUpdateValue:this.onUpdateCalendarValue,mergedClsPrefix:n,calendarMonth:this.calendarMonth,calendarYear:this.calendarYear}),R("div",{class:`${n}-date-panel-month__next`,onClick:this.nextMonth},R(Sg,null)),R("div",{class:`${n}-date-panel-month__fast-next`,onClick:this.nextYear},R(wg,null))),R("div",{class:`${n}-date-panel-weekdays`},this.weekdays.map(o=>R("div",{key:o,class:`${n}-date-panel-weekdays__day`},o))),R("div",{class:`${n}-date-panel-dates`},this.dateArray.map((o,s)=>R("div",{"data-n-date":!0,key:s,class:[`${n}-date-panel-date`,{[`${n}-date-panel-date--current`]:o.isCurrentDate,[`${n}-date-panel-date--selected`]:o.selected,[`${n}-date-panel-date--excluded`]:!o.inCurrentMonth,[`${n}-date-panel-date--disabled`]:this.mergedIsDateDisabled(o.ts)}],onClick:()=>this.handleDateClick(o)},o.dateObject.date,o.isCurrentDate?R("div",{class:`${n}-date-panel-date__sup`}):null)))),this.datePickerSlots.footer?R("div",{class:`${n}-date-panel-footer`},this.datePickerSlots.footer()):null,((r=this.actions)===null||r===void 0?void 0:r.length)||a?R("div",{class:`${n}-date-panel-actions`},R("div",{class:`${n}-date-panel-actions__prefix`},a&&Object.keys(a).map(o=>{const s=a[o];return Array.isArray(s)?null:R(Jw,{size:"tiny",onMouseenter:()=>{this.handleSingleShortcutMouseenter(s)},onClick:()=>{this.handleSingleShortcutClick(s)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>o})})),R("div",{class:`${n}-date-panel-actions__suffix`},((t=this.actions)===null||t===void 0?void 0:t.includes("clear"))?R(Wo,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear}):null,((e=this.actions)===null||e===void 0?void 0:e.includes("now"))?R(Wo,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.handleNowClick},{default:()=>this.locale.now}):null)):null,R(Rv,{onFocus:this.handleFocusDetectorFocus}))}}),vCe=It({name:"DateRangePanel",props:Oq,setup(r){return Lq(r,"daterange")},render(){var r,t,e;const{mergedClsPrefix:n,mergedTheme:i,shortcuts:a}=this;return R("div",{ref:"selfRef",tabindex:0,class:`${n}-date-panel ${n}-date-panel--daterange`,onClick:this.resetSelectingStatus,onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},R("div",{ref:"startDatesElRef",class:`${n}-date-panel-calendar ${n}-date-panel-calendar--start`},R("div",{class:`${n}-date-panel-month`},R("div",{class:`${n}-date-panel-month__fast-prev`,onClick:this.startCalendarPrevYear},R(xg,null)),R("div",{class:`${n}-date-panel-month__prev`,onClick:this.startCalendarPrevMonth},R(bg,null)),R(m0,{monthBeforeYear:this.locale.monthBeforeYear,value:this.startCalendarDateTime,onUpdateValue:this.onUpdateStartCalendarValue,mergedClsPrefix:n,calendarMonth:this.startCalendarMonth,calendarYear:this.startCalendarYear}),R("div",{class:`${n}-date-panel-month__next`,onClick:this.startCalendarNextMonth},R(Sg,null)),R("div",{class:`${n}-date-panel-month__fast-next`,onClick:this.startCalendarNextYear},R(wg,null))),R("div",{class:`${n}-date-panel-weekdays`},this.weekdays.map(o=>R("div",{key:o,class:`${n}-date-panel-weekdays__day`},o))),R("div",{class:`${n}-date-panel__divider`}),R("div",{class:`${n}-date-panel-dates`},this.startDateArray.map((o,s)=>R("div",{"data-n-date":!0,key:s,class:[`${n}-date-panel-date`,{[`${n}-date-panel-date--excluded`]:!o.inCurrentMonth,[`${n}-date-panel-date--current`]:o.isCurrentDate,[`${n}-date-panel-date--selected`]:o.selected,[`${n}-date-panel-date--covered`]:o.inSpan,[`${n}-date-panel-date--start`]:o.startOfSpan,[`${n}-date-panel-date--end`]:o.endOfSpan,[`${n}-date-panel-date--disabled`]:this.mergedIsDateDisabled(o.ts)}],onClick:()=>this.handleDateClick(o),onMouseenter:()=>this.handleDateMouseEnter(o)},o.dateObject.date,o.isCurrentDate?R("div",{class:`${n}-date-panel-date__sup`}):null)))),R("div",{class:`${n}-date-panel__vertical-divider`}),R("div",{ref:"endDatesElRef",class:`${n}-date-panel-calendar ${n}-date-panel-calendar--end`},R("div",{class:`${n}-date-panel-month`},R("div",{class:`${n}-date-panel-month__fast-prev`,onClick:this.endCalendarPrevYear},R(xg,null)),R("div",{class:`${n}-date-panel-month__prev`,onClick:this.endCalendarPrevMonth},R(bg,null)),R(m0,{monthBeforeYear:this.locale.monthBeforeYear,value:this.endCalendarDateTime,onUpdateValue:this.onUpdateEndCalendarValue,mergedClsPrefix:n,calendarMonth:this.endCalendarMonth,calendarYear:this.endCalendarYear}),R("div",{class:`${n}-date-panel-month__next`,onClick:this.endCalendarNextMonth},R(Sg,null)),R("div",{class:`${n}-date-panel-month__fast-next`,onClick:this.endCalendarNextYear},R(wg,null))),R("div",{class:`${n}-date-panel-weekdays`},this.weekdays.map(o=>R("div",{key:o,class:`${n}-date-panel-weekdays__day`},o))),R("div",{class:`${n}-date-panel__divider`}),R("div",{class:`${n}-date-panel-dates`},this.endDateArray.map((o,s)=>R("div",{"data-n-date":!0,key:s,class:[`${n}-date-panel-date`,{[`${n}-date-panel-date--excluded`]:!o.inCurrentMonth,[`${n}-date-panel-date--current`]:o.isCurrentDate,[`${n}-date-panel-date--selected`]:o.selected,[`${n}-date-panel-date--covered`]:o.inSpan,[`${n}-date-panel-date--start`]:o.startOfSpan,[`${n}-date-panel-date--end`]:o.endOfSpan,[`${n}-date-panel-date--disabled`]:this.mergedIsDateDisabled(o.ts)}],onClick:()=>this.handleDateClick(o),onMouseenter:()=>this.handleDateMouseEnter(o)},o.dateObject.date,o.isCurrentDate?R("div",{class:`${n}-date-panel-date__sup`}):null)))),this.datePickerSlots.footer?R("div",{class:`${n}-date-panel-footer`},this.datePickerSlots.footer()):null,((r=this.actions)===null||r===void 0?void 0:r.length)||a?R("div",{class:`${n}-date-panel-actions`},R("div",{class:`${n}-date-panel-actions__prefix`},a&&Object.keys(a).map(o=>{const s=a[o];return Array.isArray(s)||typeof s=="function"?R(Jw,{size:"tiny",onMouseenter:()=>{this.handleRangeShortcutMouseenter(s)},onClick:()=>{this.handleRangeShortcutClick(s)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>o}):null})),R("div",{class:`${n}-date-panel-actions__suffix`},((t=this.actions)===null||t===void 0?void 0:t.includes("clear"))?R(Wo,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear}):null,((e=this.actions)===null||e===void 0?void 0:e.includes("confirm"))?R(Wo,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isRangeInvalid,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm}):null)):null,R(Rv,{onFocus:this.handleFocusDetectorFocus}))}}),pCe=ke([le("date-picker",`
 position: relative;
 z-index: auto;
 `,[le("date-picker-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),Ge("disabled",[le("date-picker-icon",`
 color: var(--n-icon-color-disabled);
 `)])]),le("date-panel",`
 outline: none;
 margin: 4px 0;
 display: grid;
 grid-template-columns: 0fr;
 border-radius: var(--n-panel-border-radius);
 background-color: var(--n-panel-color);
 box-shadow: var(--n-panel-box-shadow);
 color: var(--n-panel-text-color);
 `,[Dv(),le("date-panel-calendar",{padding:"var(--n-calendar-left-padding)",display:"grid",gridTemplateColumns:"1fr",gridArea:"left-calendar"},[Ge("end",{padding:"var(--n-calendar-right-padding)",gridArea:"right-calendar"})]),le("date-panel-month-calendar",{display:"flex",gridArea:"left-calendar"},[Ae("picker-col",`
 min-width: var(--n-scroll-item-width);
 height: calc(var(--n-scroll-item-height) * 6);
 user-select: none;
 `,[ke("&:first-child",`
 min-width: calc(var(--n-scroll-item-width) + 4px);
 `,[Ae("picker-col-item",[ke("&::before","left: 4px;")])]),Ae("padding",`
 height: calc(var(--n-scroll-item-height) * 5)
 `)]),Ae("picker-col-item",`
 z-index: 0;
 cursor: pointer;
 height: var(--n-scroll-item-height);
 box-sizing: border-box;
 padding-top: 4px;
 display: flex;
 align-items: center;
 justify-content: center;
 position: relative;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background: #0000;
 color: var(--n-item-text-color);
 `,[ke("&::before",`
 z-index: -1;
 content: "";
 position: absolute;
 left: 0;
 right: 4px;
 top: 4px;
 bottom: 0;
 border-radius: var(--n-scroll-item-border-radius);
 transition: 
 background-color .3s var(--n-bezier);
 `),Nn("disabled",[ke("&:hover::before",`
 background-color: var(--n-item-color-hover);
 `),Ge("selected",`
 color: var(--n-item-color-active);
 `,[ke("&::before","background-color: var(--n-item-color-hover);")])]),Ge("disabled",`
 background-color: var(--n-item-color-disabled);
 cursor: not-allowed;
 `)])]),Ge("date",{gridTemplateAreas:`
 "left-calendar"
 "footer"
 "action"
 `}),Ge("daterange",{gridTemplateAreas:`
 "left-calendar divider right-calendar"
 "footer footer footer"
 "action action action"
 `}),Ge("datetime",{gridTemplateAreas:`
 "header"
 "left-calendar"
 "footer"
 "action"
 `}),Ge("datetimerange",{gridTemplateAreas:`
 "header header header"
 "left-calendar divider right-calendar"
 "footer footer footer"
 "action action action"
 `}),Ge("month",{gridTemplateAreas:`
 "left-calendar"
 "footer"
 "action"
 `}),le("date-panel-footer",{gridArea:"footer"}),le("date-panel-actions",{gridArea:"action"}),le("date-panel-header",{gridArea:"header"}),le("date-panel-header",`
 box-sizing: border-box;
 width: 100%;
 align-items: center;
 padding: var(--n-panel-header-padding);
 display: flex;
 justify-content: space-between;
 border-bottom: 1px solid var(--n-panel-header-divider-color);
 `,[ke(">",[ke("*:not(:last-child)",{marginRight:"10px"}),ke("*",{flex:1,width:0}),le("time-picker",{zIndex:1})])]),le("date-panel-month",`
 box-sizing: border-box;
 display: grid;
 grid-template-columns: var(--n-calendar-title-grid-template-columns);
 align-items: center;
 justify-items: center;
 padding: var(--n-calendar-title-padding);
 height: var(--n-calendar-title-height);
 `,[Ae("prev, next, fast-prev, fast-next",`
 line-height: 0;
 cursor: pointer;
 width: var(--n-arrow-size);
 height: var(--n-arrow-size);
 color: var(--n-arrow-color);
 `),Ae("month-year",`
 user-select: none;
 flex-grow: 1;
 position: relative;
 `,[Ae("text",`
 font-size: var(--n-calendar-title-font-size);
 line-height: var(--n-calendar-title-font-size);
 font-weight: var(--n-calendar-title-font-weight);
 padding: 6px 8px;
 text-align: center;
 color: var(--n-calendar-title-text-color);
 cursor: pointer;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-panel-border-radius);
 `,[Ge("active",`
 background-color: var(--n-calendar-title-color-hover);
 `),ke("&:hover",`
 background-color: var(--n-calendar-title-color-hover);
 `)])])]),le("date-panel-weekdays",`
 display: grid;
 margin: auto;
 grid-template-columns: repeat(7, var(--n-item-cell-width));
 grid-template-rows: repeat(1, var(--n-item-cell-height));
 align-items: center;
 justify-items: center;
 margin-bottom: 4px;
 border-bottom: 1px solid var(--n-calendar-days-divider-color);
 `,[Ae("day",`
 user-select: none;
 line-height: 15px;
 width: var(--n-item-size);
 text-align: center;
 font-size: var(--n-calendar-days-font-size);
 color: var(--n-item-text-color);
 `)]),le("date-panel-dates",`
 margin: auto;
 display: grid;
 grid-template-columns: repeat(7, var(--n-item-cell-width));
 grid-template-rows: repeat(6, var(--n-item-cell-height));
 align-items: center;
 justify-items: center;
 flex-wrap: wrap;
 `,[le("date-panel-date",`
 user-select: none;
 position: relative;
 width: var(--n-item-size);
 height: var(--n-item-size);
 line-height: var(--n-item-size);
 text-align: center;
 font-size: var(--n-item-font-size);
 border-radius: var(--n-item-border-radius);
 z-index: 0;
 cursor: pointer;
 transition:
 background-color .2s var(--n-bezier),
 color .2s var(--n-bezier);
 `,[Nn("disabled",[Nn("selected",[ke("&:hover",{backgroundColor:"var(--n-item-color-hover)"})])]),Ge("current",[Ae("sup",`
 position: absolute;
 top: 2px;
 right: 2px;
 content: "";
 height: 4px;
 width: 4px;
 border-radius: 2px;
 background-color: var(--n-item-color-active);
 transition:
 background-color .2s var(--n-bezier);
 `)]),ke("&::after",`
 content: "";
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 transition: background-color .3s var(--n-bezier);
 `),Ge("covered, start, end",[Nn("excluded",[ke("&::before",`
 content: "";
 z-index: -2;
 position: absolute;
 left: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);
 right: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);
 top: 0;
 bottom: 0;
 background-color: var(--n-item-color-included);
 `),ke("&:nth-child(7n + 1)::before",{borderTopLeftRadius:"var(--n-item-border-radius)",borderBottomLeftRadius:"var(--n-item-border-radius)"}),ke("&:nth-child(7n + 7)::before",{borderTopRightRadius:"var(--n-item-border-radius)",borderBottomRightRadius:"var(--n-item-border-radius)"})])]),Ge("selected",{color:"var(--n-item-text-color-active)"},[ke("&::after",{backgroundColor:"var(--n-item-color-active)"}),Ge("start",[ke("&::before",{left:"50%"})]),Ge("end",[ke("&::before",{right:"50%"})]),Ae("sup",{backgroundColor:"var(--n-panel-color)"})]),Ge("excluded",{color:"var(--n-item-text-color-disabled)"},[Ge("selected",[ke("&::after",{backgroundColor:"var(--n-item-color-disabled)"})])]),Ge("disabled",{cursor:"not-allowed",color:"var(--n-item-text-color-disabled)"},[Ge("covered",[ke("&::before",{backgroundColor:"var(--n-item-color-disabled)"})]),Ge("selected",[ke("&::before",{backgroundColor:"var(--n-item-color-disabled)"}),ke("&::after",{backgroundColor:"var(--n-item-color-disabled)"})])])])]),Ae("vertical-divider",`
 grid-area: divider;
 height: 100%;
 width: 1px;
 background-color: var(--n-calendar-divider-color);
 `),le("date-panel-footer",{borderTop:"1px solid var(--n-panel-action-divider-color)",padding:"var(--n-panel-extra-footer-padding)"}),le("date-panel-actions",`
 flex: 1;
 padding: var(--n-panel-action-padding);
 display: flex;
 align-items: center;
 justify-content: space-between;
 border-top: 1px solid var(--n-panel-action-divider-color);
 `,[Ae("prefix, suffix",`
 display: flex;
 margin-bottom: -8px;
 `),Ae("suffix",`
 align-self: flex-end;
 `),Ae("prefix",`
 flex-wrap: wrap;
 `),le("button",`
 margin-bottom: 8px;
 `,[ke("&:not(:last-child)",`
 margin-right: 8px;
 `)])])]),ke("[data-n-date].transition-disabled",{transition:"none !important"},[ke("&::before, &::after",{transition:"none !important"})])]);const gCe=Object.assign(Object.assign({},wr.props),{to:Xo.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,updateValueOnClose:Boolean,defaultValue:[Number,Array],defaultFormattedValue:[String,Array],defaultTime:[Number,String,Array],disabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom-start"},value:[Number,Array],formattedValue:[String,Array],size:String,type:{type:String,default:"date"},valueFormat:String,separator:String,placeholder:String,startPlaceholder:String,endPlaceholder:String,format:String,dateFormat:String,timeFormat:String,actions:Array,shortcuts:Object,isDateDisabled:Function,isTimeDisabled:Function,show:{type:Boolean,default:void 0},ranges:Object,firstDayOfWeek:Number,inputReadonly:Boolean,closeOnSelect:Boolean,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],"onUpdate:formattedValue":[Function,Array],onUpdateFormattedValue:[Function,Array],"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onChange:[Function,Array]});var Yot=It({name:"DatePicker",props:gCe,setup(r,{slots:t}){var e;const{localeRef:n,dateLocaleRef:i}=Bd("DatePicker"),a=ic(r),{mergedSizeRef:o,mergedDisabledRef:s,mergedStatusRef:l}=a,{mergedComponentPropsRef:u,mergedClsPrefixRef:c,mergedBorderedRef:f,namespaceRef:d}=Bn(r),h=Re(null),v=Re(null),p=Re(null),g=Re(!1),m=tr(r,"show"),y=zi(m,g),b=re(()=>({locale:i.value.locale})),w=re(()=>{const{format:J}=r;if(J)return J;switch(r.type){case"date":case"daterange":return n.value.dateFormat;case"datetime":case"datetimerange":return n.value.dateTimeFormat;case"year":return n.value.yearTypeFormat;case"month":return n.value.monthTypeFormat;case"quarter":return n.value.quarterFormat}}),S=re(()=>{var J;return(J=r.valueFormat)!==null&&J!==void 0?J:w.value});function E(J){if(J===null)return null;const{value:Pe}=S,{value:Ce}=b;return Array.isArray(J)?[al(J[0],Pe,new Date,Ce).getTime(),al(J[1],Pe,new Date,Ce).getTime()]:al(J,Pe,new Date,Ce).getTime()}const{defaultFormattedValue:_,defaultValue:A}=r,k=Re((e=_!==void 0?E(_):A)!==null&&e!==void 0?e:null),T=re(()=>{const{formattedValue:J}=r;return J!==void 0?E(J):r.value}),I=zi(T,k),D=Re(null);Go(()=>{D.value=I.value});const O=Re(""),B=Re(""),U=Re(""),N=wr("DatePicker","-date-picker",pCe,tCe,r,c),G=re(()=>{var J,Pe;return((Pe=(J=u==null?void 0:u.value)===null||J===void 0?void 0:J.DatePicker)===null||Pe===void 0?void 0:Pe.timePickerSize)||"small"}),L=re(()=>["daterange","datetimerange"].includes(r.type)),F=re(()=>{const{placeholder:J}=r;if(J===void 0){const{type:Pe}=r;switch(Pe){case"date":return n.value.datePlaceholder;case"datetime":return n.value.datetimePlaceholder;case"month":return n.value.monthPlaceholder;case"year":return n.value.yearPlaceholder;case"quarter":return n.value.quarterPlaceholder;default:return""}}else return J}),W=re(()=>r.startPlaceholder===void 0?r.type==="daterange"?n.value.startDatePlaceholder:r.type==="datetimerange"?n.value.startDatetimePlaceholder:"":r.startPlaceholder),H=re(()=>r.endPlaceholder===void 0?r.type==="daterange"?n.value.endDatePlaceholder:r.type==="datetimerange"?n.value.endDatetimePlaceholder:"":r.endPlaceholder),K=re(()=>{const{actions:J,type:Pe}=r;if(J!==void 0)return J;switch(Pe){case"date":return["clear","now"];case"datetime":return["clear","now","confirm"];case"daterange":return["clear","confirm"];case"datetimerange":return["clear","confirm"];case"month":return["clear","now","confirm"];case"year":return["clear","now"];case"quarter":return["clear","now","confirm"];default:{rf("data-picker","The type is wrong, n-date-picker's type only supports `date`, `datetime`, `daterange` and `datetimerange`.");break}}});function ie(J){if(J===null)return null;if(Array.isArray(J)){const{value:Pe}=S,{value:Ce}=b;return[Pi(J[0],Pe,Ce),Pi(J[1],Pe,b.value)]}else return Pi(J,S.value,b.value)}function ee(J){D.value=J}function Q(J,Pe){const{"onUpdate:formattedValue":Ce,onUpdateFormattedValue:ct}=r;Ce&&Tt(Ce,J,Pe),ct&&Tt(ct,J,Pe)}function be(J){const{"onUpdate:value":Pe,onUpdateValue:Ce,onChange:ct}=r,{nTriggerFormChange:mt,nTriggerFormInput:Me}=a,ht=ie(J);Ce&&Tt(Ce,J,ht),Pe&&Tt(Pe,J,ht),ct&&Tt(ct,J,ht),k.value=J,Q(ht,J),mt(),Me()}function fe(J){const{onFocus:Pe}=r,{nTriggerFormFocus:Ce}=a;Pe&&Tt(Pe,J),Ce()}function he(J){const{onBlur:Pe}=r,{nTriggerFormBlur:Ce}=a;Pe&&Tt(Pe,J),Ce()}function Ee(J){const{"onUpdate:show":Pe,onUpdateShow:Ce}=r;Pe&&Tt(Pe,J),Ce&&Tt(Ce,J),g.value=J}function He(J){J.code==="Escape"&&Ue({returnFocus:!0})}function nt(){var J;Ee(!1),(J=p.value)===null||J===void 0||J.deactivate()}function st(){Ue({returnFocus:!0})}function z(J){var Pe;y.value&&!((Pe=v.value)===null||Pe===void 0?void 0:Pe.contains(J.target))&&Ue({returnFocus:!1})}function j(J){Ue({returnFocus:!0,disableUpdateOnClose:J})}function X(J,Pe){Pe?be(J):ee(J)}function ae(){be(D.value)}function ue(){const{value:J}=D;L.value?(Array.isArray(J)||J===null)&&Ze(J):Array.isArray(J)||Be(J)}function Be(J){J===null?O.value="":O.value=Pi(J,w.value,b.value)}function Ze(J){if(J===null)B.value="",U.value="";else{const Pe=b.value;B.value=Pi(J[0],w.value,Pe),U.value=Pi(J[1],w.value,Pe)}}function Le(){y.value||Fe()}function se(J){var Pe;((Pe=h.value)===null||Pe===void 0?void 0:Pe.$el.contains(J.relatedTarget))||(he(J),ue(),Ue({returnFocus:!1}))}function Se(){s.value||(ue(),Ue({returnFocus:!1}))}function Y(J){if(J===""){be(null);return}const Pe=al(J,w.value,new Date,b.value);gu(Pe)?(be(Cr(Pe)),ue()):O.value=J}function ve(J){if(J[0]===""&&J[1]===""){be(null);return}const[Pe,Ce]=J,ct=al(Pe,w.value,new Date,b.value),mt=al(Ce,w.value,new Date,b.value);gu(ct)&&gu(mt)?(be([Cr(ct),Cr(mt)]),ue()):[B.value,U.value]=J}function ce(J){s.value||tf(J,"clear")||y.value||Fe()}function de(J){s.value||fe(J)}function Fe(){s.value||y.value||Ee(!0)}function Ue({returnFocus:J,disableUpdateOnClose:Pe}){var Ce;y.value&&(Ee(!1),r.type!=="date"&&r.updateValueOnClose&&!Pe&&ae(),J&&((Ce=p.value)===null||Ce===void 0||Ce.focus()))}hn(D,()=>{ue()}),ue(),hn(y,J=>{J||(D.value=I.value)});const lt=rCe(r,D),ut=nCe(r,D);return Tn(pA,Object.assign(Object.assign(Object.assign({mergedClsPrefixRef:c,mergedThemeRef:N,timePickerSizeRef:G,localeRef:n,dateLocaleRef:i,firstDayOfWeekRef:tr(r,"firstDayOfWeek"),isDateDisabledRef:tr(r,"isDateDisabled"),rangesRef:tr(r,"ranges"),closeOnSelectRef:tr(r,"closeOnSelect"),updateValueOnCloseRef:tr(r,"updateValueOnClose")},lt),ut),{datePickerSlots:t})),Object.assign(Object.assign({},{focus:()=>{var J;(J=p.value)===null||J===void 0||J.focus()},blur:()=>{var J;(J=p.value)===null||J===void 0||J.blur()}}),{mergedStatus:l,mergedClsPrefix:c,mergedBordered:f,namespace:d,uncontrolledValue:k,pendingValue:D,panelInstRef:h,triggerElRef:v,inputInstRef:p,isMounted:Mv(),displayTime:O,displayStartTime:B,displayEndTime:U,mergedShow:y,adjustedTo:Xo(r),isRange:L,localizedStartPlaceholder:W,localizedEndPlaceholder:H,mergedSize:o,mergedDisabled:s,localizedPlacehoder:F,isValueInvalid:lt.isValueInvalidRef,isStartValueInvalid:ut.isStartValueInvalidRef,isEndValueInvalid:ut.isEndValueInvalidRef,handleClickOutside:z,handleKeyDown:He,handleClear:nt,handleTriggerClick:ce,handleInputActivate:Le,handleInputDeactivate:Se,handleInputFocus:de,handleInputBlur:se,handlePanelTabOut:st,handlePanelClose:j,handleRangeUpdateValue:ve,handleSingleUpdateValue:Y,handlePanelUpdateValue:X,handlePanelConfirm:ae,mergedTheme:N,actions:K,triggerCssVars:re(()=>{const{common:{cubicBezierEaseInOut:J},self:{iconColor:Pe,iconColorDisabled:Ce}}=N.value;return{"--n-bezier":J,"--n-icon-color":Pe,"--n-icon-color-disabled":Ce}}),cssVars:re(()=>{const{type:J}=r,{common:{cubicBezierEaseInOut:Pe},self:{calendarTitleFontSize:Ce,calendarDaysFontSize:ct,itemFontSize:mt,itemTextColor:Me,itemColorDisabled:ht,itemColorIncluded:ar,itemColorHover:Ht,itemColorActive:Er,itemBorderRadius:it,itemTextColorDisabled:At,itemTextColorActive:vr,panelColor:ze,panelTextColor:_e,arrowColor:Ke,calendarTitleTextColor:Ot,panelActionDividerColor:Nt,panelHeaderDividerColor:fr,calendarDaysDividerColor:sn,panelBoxShadow:en,panelBorderRadius:Zr,calendarTitleFontWeight:Wn,panelExtraFooterPadding:gn,panelActionPadding:Pr,itemSize:vn,itemCellWidth:Lr,itemCellHeight:Dn,scrollItemWidth:Xr,scrollItemHeight:fi,calendarTitlePadding:Ui,calendarTitleHeight:Va,calendarDaysHeight:fo,calendarDaysTextColor:ho,arrowSize:Po,panelHeaderPadding:ku,calendarDividerColor:sc,calendarTitleGridTempateColumns:Xl,iconColor:pf,iconColorDisabled:ql,scrollItemBorderRadius:Kl,calendarTitleColorHover:qo,[lr("calendarLeftPadding",J)]:Zl,[lr("calendarRightPadding",J)]:oi}}=N.value;return{"--n-bezier":Pe,"--n-panel-border-radius":Zr,"--n-panel-color":ze,"--n-panel-box-shadow":en,"--n-panel-text-color":_e,"--n-panel-header-padding":ku,"--n-panel-header-divider-color":fr,"--n-calendar-left-padding":Zl,"--n-calendar-right-padding":oi,"--n-calendar-title-color-hover":qo,"--n-calendar-title-height":Va,"--n-calendar-title-padding":Ui,"--n-calendar-title-font-size":Ce,"--n-calendar-title-font-weight":Wn,"--n-calendar-title-text-color":Ot,"--n-calendar-title-grid-template-columns":Xl,"--n-calendar-days-height":fo,"--n-calendar-days-divider-color":sn,"--n-calendar-days-font-size":ct,"--n-calendar-days-text-color":ho,"--n-calendar-divider-color":sc,"--n-panel-action-padding":Pr,"--n-panel-extra-footer-padding":gn,"--n-panel-action-divider-color":Nt,"--n-item-font-size":mt,"--n-item-border-radius":it,"--n-item-size":vn,"--n-item-cell-width":Lr,"--n-item-cell-height":Dn,"--n-item-text-color":Me,"--n-item-color-included":ar,"--n-item-color-disabled":ht,"--n-item-color-hover":Ht,"--n-item-color-active":Er,"--n-item-text-color-disabled":At,"--n-item-text-color-active":vr,"--n-scroll-item-width":Xr,"--n-scroll-item-height":fi,"--n-scroll-item-border-radius":Kl,"--n-arrow-size":Po,"--n-arrow-color":Ke,"--n-icon-color":pf,"--n-icon-color-disabled":ql}})})},render(){const{clearable:r}=this,t={bordered:this.mergedBordered,size:this.mergedSize,passivelyActivated:!0,disabled:this.mergedDisabled,readonly:this.inputReadonly||this.mergedDisabled,clearable:r,onClear:this.handleClear,onClick:this.handleTriggerClick,onActivate:this.handleInputActivate,onDeactivate:this.handleInputDeactivate,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur},e={onUpdateValue:this.handlePanelUpdateValue,onTabOut:this.handlePanelTabOut,onClose:this.handlePanelClose,onKeydown:this.handleKeyDown,onConfirm:this.handlePanelConfirm,ref:"panelInstRef",value:this.pendingValue,active:this.mergedShow,actions:this.actions,shortcuts:this.shortcuts,style:this.cssVars,defaultTime:this.defaultTime},{mergedClsPrefix:n}=this;return R("div",{ref:"triggerElRef",class:[`${n}-date-picker`,this.mergedDisabled&&`${n}-date-picker--disabled`,this.isRange&&`${n}-date-picker--range`],style:this.triggerCssVars,onKeydown:this.handleKeyDown},R(Vg,null,{default:()=>[R(Wg,null,{default:()=>this.isRange?R(Eg,Object.assign({ref:"inputInstRef",status:this.mergedStatus,value:[this.displayStartTime,this.displayEndTime],placeholder:[this.localizedStartPlaceholder,this.localizedEndPlaceholder],textDecoration:[this.isStartValueInvalid?"line-through":"",this.isEndValueInvalid?"line-through":""],pair:!0,onUpdateValue:this.handleRangeUpdateValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,internalForceFocus:this.mergedShow,internalDeactivateOnEnter:!0},t),{separator:()=>this.separator===void 0?R(Hi,{clsPrefix:n,class:`${n}-date-picker-icon`},{default:()=>R(d0e,null)}):this.separator,[r?"clear":"suffix"]:()=>R(Hi,{clsPrefix:n,class:`${n}-date-picker-icon`},{default:()=>R(sz,null)})}):R(Eg,Object.assign({ref:"inputInstRef",status:this.mergedStatus,value:this.displayTime,placeholder:this.localizedPlacehoder,textDecoration:this.isValueInvalid&&!this.isRange?"line-through":"",onUpdateValue:this.handleSingleUpdateValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,internalForceFocus:this.mergedShow,internalDeactivateOnEnter:!0},t),{[r?"clear":"suffix"]:()=>R(Hi,{clsPrefix:n,class:`${n}-date-picker-icon`},{default:()=>R(sz,null)})})}),R(jg,{show:this.mergedShow,containerClass:this.namespace,to:this.adjustedTo,teleportDisabled:this.adjustedTo===Xo.tdkey,placement:this.placement},{default:()=>R(uo,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>this.mergedShow?Gl(this.type==="datetime"?R(fCe,Object.assign({},e)):this.type==="daterange"?R(vCe,Object.assign({},e)):this.type==="datetimerange"?R(dCe,Object.assign({},e)):this.type==="month"?R(D2,Object.assign({},e,{type:"month",key:"month"})):this.type==="year"?R(D2,Object.assign({},e,{type:"year",key:"year"})):this.type==="quarter"?R(D2,Object.assign({},e,{type:"quarter",key:"quarter"})):R(hCe,Object.assign({},e)),[[Id,this.handleClickOutside]]):null})})]}))}}),mCe={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"18px",closeMargin:"22px 28px 0 0",closeMarginIconTop:"12px 18px 0 0"};const yCe=r=>{const{textColor1:t,textColor2:e,modalColor:n,closeColor:i,closeColorHover:a,closeColorPressed:o,infoColor:s,successColor:l,warningColor:u,errorColor:c,primaryColor:f,dividerColor:d,borderRadius:h,fontWeightStrong:v,lineHeight:p,fontSize:g}=r;return Object.assign(Object.assign({},mCe),{fontSize:g,lineHeight:p,border:`1px solid ${d}`,titleTextColor:t,textColor:e,color:n,closeColor:i,closeColorHover:a,closeColorPressed:o,iconColor:f,iconColorInfo:s,iconColorSuccess:l,iconColorWarning:u,iconColorError:c,borderRadius:h,titleFontWeight:v})},bCe={name:"Dialog",common:ci,peers:{Button:Qw},self:yCe};var Fq=bCe;const gA={icon:Function,type:{type:String,default:"default"},title:[String,Function],closable:{type:Boolean,default:!0},negativeText:String,positiveText:String,content:[String,Function],action:Function,showIcon:{type:Boolean,default:!0},loading:Boolean,bordered:Boolean,iconPlacement:String,onPositiveClick:Function,onNegativeClick:Function,onClose:Function},Nq=Td(gA);var xCe=ke([le("dialog",`
 line-height: var(--n-line-height);
 position: relative;
 background: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 margin: auto;
 border-radius: var(--n-border-radius);
 padding: var(--n-padding);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[Ae("icon",{color:"var(--n-icon-color)"}),Ge("bordered",{border:"var(--n-border)"}),Ge("icon-top",[Ae("close",{margin:"var(--n-close-margin)"}),Ae("icon",{margin:"var(--n-icon-margin)"}),Ae("content",{textAlign:"center"}),Ae("title",{justifyContent:"center"}),Ae("action",{justifyContent:"center"})]),Ge("icon-left",[Ae("icon",{margin:"var(--n-icon-margin)"})]),Ae("close",`
 font-size: var(--n-close-size);
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 transition: .3s color var(--n-bezier);
 z-index: 1;
 `),Ae("content",`
 font-size: var(--n-font-size);
 margin: var(--n-content-margin);
 position: relative;
 word-break: break-word;
 `,[ke("&:last-child","margin-bottom: 0;")]),Ae("action",`
 display: flex;
 justify-content: flex-end;
 `,[ke("> *:not(:last-child)",{marginRight:"var(--n-action-space)"})]),Ae("icon",{fontSize:"var(--n-icon-size)",transition:"color .3s var(--n-bezier)"}),Ae("title",`
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),le("dialog-icon-container",{display:"flex",justifyContent:"center"})]),qw(le("dialog",`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)),le("dialog",[$Y(`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)])]);const jz=R(tA,null),wCe={default:jz,info:jz,success:R(rA,null),warning:R(nA,null),error:R(eA,null)},Bq=It({name:"Dialog",alias:["NimbusConfirmCard","Confirm"],props:Object.assign(Object.assign({},wr.props),gA),setup(r){const{mergedComponentPropsRef:t,mergedClsPrefixRef:e,inlineThemeDisabled:n}=Bn(r),i=re(()=>{var f,d;const{iconPlacement:h}=r;return h||((d=(f=t==null?void 0:t.value)===null||f===void 0?void 0:f.Dialog)===null||d===void 0?void 0:d.iconPlacement)||"left"});function a(f){const{onPositiveClick:d}=r;d&&d(f)}function o(f){const{onNegativeClick:d}=r;d&&d(f)}function s(){const{onClose:f}=r;f&&f()}const l=wr("Dialog","-dialog",xCe,Fq,r,e),u=re(()=>{const{type:f}=r,d=i.value,{common:{cubicBezierEaseInOut:h},self:{fontSize:v,lineHeight:p,border:g,titleTextColor:m,textColor:y,color:b,closeColor:w,closeColorHover:S,closeColorPressed:E,borderRadius:_,titleFontWeight:A,titleFontSize:k,padding:T,iconSize:I,actionSpace:D,contentMargin:O,closeSize:B,[d==="top"?"iconMarginIconTop":"iconMargin"]:U,[d==="top"?"closeMarginIconTop":"closeMargin"]:N,[lr("iconColor",f)]:G}}=l.value;return{"--n-font-size":v,"--n-icon-color":G,"--n-bezier":h,"--n-close-margin":N,"--n-icon-margin":U,"--n-icon-size":I,"--n-close-size":B,"--n-close-color":w,"--n-close-color-hover":S,"--n-close-color-pressed":E,"--n-color":b,"--n-text-color":y,"--n-border-radius":_,"--n-padding":T,"--n-line-height":p,"--n-border":g,"--n-content-margin":O,"--n-title-font-size":k,"--n-title-font-weight":A,"--n-title-text-color":m,"--n-action-space":D}}),c=n?Ea("dialog",re(()=>`${r.type[0]}${i.value[0]}`),u,r):void 0;return{mergedClsPrefix:e,mergedIconPlacement:i,mergedTheme:l,handlePositiveClick:a,handleNegativeClick:o,handleCloseClick:s,cssVars:n?void 0:u,themeClass:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender}},render(){var r;const{bordered:t,mergedIconPlacement:e,cssVars:n,closable:i,showIcon:a,title:o,content:s,action:l,negativeText:u,positiveText:c,handlePositiveClick:f,handleNegativeClick:d,mergedTheme:h,loading:v,type:p,mergedClsPrefix:g}=this;(r=this.onRender)===null||r===void 0||r.call(this);const m=a?R(Hi,{clsPrefix:g,class:`${g}-dialog__icon`},{default:()=>ba(this.$slots.icon,y=>y||(this.icon?Ti(this.icon):wCe[this.type]))}):null;return R("div",{class:[`${g}-dialog`,this.themeClass,`${g}-dialog--icon-${e}`,t&&`${g}-dialog--bordered`],style:n,role:"dialog"},i?R(aA,{clsPrefix:g,class:`${g}-dialog__close`,onClick:this.handleCloseClick}):null,a&&e==="top"?R("div",{class:`${g}-dialog-icon-container`},m):null,R("div",{class:`${g}-dialog__title`},a&&e==="left"?m:null,u0(this.$slots.header,()=>[Ti(o)])),R("div",{class:`${g}-dialog__content`},u0(this.$slots.default,()=>[Ti(s)])),ba(this.$slots.action,y=>y||c||u||l?R("div",{class:`${g}-dialog__action`},y||(l?[Ti(l)]:[this.negativeText&&R(Wo,{theme:h.peers.Button,themeOverrides:h.peerOverrides.Button,ghost:!0,size:"small",onClick:d},{default:()=>Ti(this.negativeText)}),this.positiveText&&R(Wo,{theme:h.peers.Button,themeOverrides:h.peerOverrides.Button,disabled:v,loading:v,size:"small",type:p==="default"?"primary":p,onClick:f},{default:()=>Ti(this.positiveText)})])):null))}}),zq="n-dialog-provider",$q="n-dialog-api",SCe=r=>{const{modalColor:t,textColor2:e,boxShadow3:n}=r;return{color:t,textColor:e,boxShadow:n}},CCe={name:"Modal",common:ci,peers:{Scrollbar:$d,Dialog:Fq,Card:cq},self:SCe};var ECe=CCe;const rF=Object.assign(Object.assign({},qL),gA),_Ce=Td(rF);var TCe=It({name:"ModalBody",inheritAttrs:!1,props:Object.assign(Object.assign({show:{type:Boolean,required:!0},preset:String,displayDirective:{type:String,required:!0},trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0}},rF),{onClickoutside:{type:Function,required:!0},onBeforeLeave:{type:Function,required:!0},onAfterLeave:{type:Function,required:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0},onClose:{type:Function,required:!0},onAfterEnter:Function,onEsc:Function}),setup(r){const t=Re(null),e=Re(null),n=Re(r.show),i=Re(null),a=Re(null);hn(tr(r,"show"),g=>{g&&(n.value=!0)});const o=Sr(WY);function s(){if(o.transformOriginRef.value==="center")return"";const{value:g}=i,{value:m}=a;if(g===null||m===null)return"";if(e.value){const y=e.value.containerScrollTop;return`${g}px ${m+y}px`}return""}function l(g){if(o.transformOriginRef.value==="center")return;const m=o.getMousePosition();if(!m||!e.value)return;const y=e.value.containerScrollTop,{offsetLeft:b,offsetTop:w}=g;if(m){const S=m.y,E=m.x;i.value=-(b-E),a.value=-(w-S-y)}g.style.transformOrigin=s()}function u(g){Ja(()=>{l(g)})}function c(g){g.style.transformOrigin=s(),r.onBeforeLeave()}function f(){n.value=!1,i.value=null,a.value=null,r.onAfterLeave()}function d(){const{onClose:g}=r;g&&g()}function h(){r.onNegativeClick()}function v(){r.onPositiveClick()}function p(g){r.onClickoutside(g)}return Tn(AL,t),Tn(kL,null),Tn(ML,null),{mergedTheme:o.mergedThemeRef,appear:o.appearRef,isMounted:o.isMountedRef,mergedClsPrefix:o.mergedClsPrefixRef,bodyRef:t,scrollbarRef:e,displayed:n,handleClickOutside:p,handlePositiveClick:v,handleNegativeClick:h,handleCloseClick:d,handleAfterLeave:f,handleBeforeLeave:c,handleEnter:u}},render(){const{$slots:r,$attrs:t,handleEnter:e,handleAfterLeave:n,handleBeforeLeave:i,handleClickOutside:a,preset:o,mergedClsPrefix:s}=this;let l=null;if(!o){if(l=TR(r),!l){rf("modal","default slot is empty");return}l=pv(l),l.props=cf({class:`${s}-modal`},t,l.props||{})}return this.displayDirective==="show"||this.displayed||this.show?Gl(R("div",{role:"none",class:`${s}-modal-body-wrapper`},R(ll,{ref:"scrollbarRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:`${s}-modal-scroll-content`},{default:()=>R(zX,{disabled:!this.trapFocus,active:this.show,onEsc:this.onEsc,autoFocus:this.autoFocus},{default:()=>{var u;return R(uo,{name:"fade-in-scale-up-transition",appear:(u=this.appear)!==null&&u!==void 0?u:this.isMounted,onEnter:e,onAfterEnter:this.onAfterEnter,onAfterLeave:n,onBeforeLeave:i},{default:()=>Gl(this.preset==="confirm"||this.preset==="dialog"?R(Bq,Object.assign({},this.$attrs,{class:[`${s}-modal`,this.$attrs.class],ref:"bodyRef",theme:this.mergedTheme.peers.Dialog,themeOverrides:this.mergedTheme.peerOverrides.Dialog},Kc(this.$props,Nq),{"aria-modal":"true"}),r):this.preset==="card"?R(j1e,Object.assign({},this.$attrs,{ref:"bodyRef",class:[`${s}-modal`,this.$attrs.class],theme:this.mergedTheme.peers.Card,themeOverrides:this.mergedTheme.peerOverrides.Card},Kc(this.$props,V1e),{"aria-modal":"true",role:"dialog"}),r):l,[[J1,this.show],[Id,a]])})}})})),[[J1,this.displayDirective==="if"||this.displayed||this.show]]):null}}),ACe=ke([le("modal-container",`
 position: fixed;
 left: 0;
 top: 0;
 height: 0;
 width: 0;
 display: flex;
 `),le("modal-mask",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background-color: rgba(0, 0, 0, .4);
 `,[UL({enterDuration:".25s",leaveDuration:".25s",enterCubicBezier:"var(--n-bezier-ease-out)",leaveCubicBezier:"var(--n-bezier-ease-out)"})]),le("modal-body-wrapper",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: visible;
 `,[le("modal-scroll-content",`
 min-height: 100%;
 display: flex;
 position: relative;
 `)]),le("modal",`
 align-self: center;
 color: var(--n-text-color);
 margin: auto;
 box-shadow: var(--n-box-shadow);
 `,[Dv({duration:".25s",enterScale:".5"})])]);const kCe=Object.assign(Object.assign(Object.assign(Object.assign({},wr.props),{show:Boolean,unstableShowMask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},preset:String,to:[String,Object],displayDirective:{type:String,default:"if"},transformOrigin:{type:String,default:"mouse"},zIndex:Number,autoFocus:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0}}),rF),{onEsc:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onBeforeLeave:Function,onAfterLeave:Function,onClose:Function,onPositiveClick:Function,onNegativeClick:Function,onMaskClick:Function,internalDialog:Boolean,internalAppear:{type:Boolean,default:void 0},overlayStyle:[String,Object],onBeforeHide:Function,onAfterHide:Function,onHide:Function});var MCe=It({name:"Modal",inheritAttrs:!1,props:kCe,setup(r){const t=Re(null),{mergedClsPrefixRef:e,namespaceRef:n,inlineThemeDisabled:i}=Bn(r),a=wr("Modal","-modal",ACe,ECe,r,e),o=VY(64),s=HY(),l=Mv(),u=r.internalDialog?Sr(zq,null):null;function c(w){const{onUpdateShow:S,"onUpdate:show":E,onHide:_}=r;S&&Tt(S,w),E&&Tt(E,w),_&&!w&&_(w)}function f(){const{onClose:w}=r;w?Promise.resolve(w()).then(S=>{S!==!1&&c(!1)}):c(!1)}function d(){const{onPositiveClick:w}=r;w?Promise.resolve(w()).then(S=>{S!==!1&&c(!1)}):c(!1)}function h(){const{onNegativeClick:w}=r;w?Promise.resolve(w()).then(S=>{S!==!1&&c(!1)}):c(!1)}function v(){const{onBeforeLeave:w,onBeforeHide:S}=r;w&&Tt(w),S&&S()}function p(){const{onAfterLeave:w,onAfterHide:S}=r;w&&Tt(w),S&&S()}function g(w){var S;const{onMaskClick:E}=r;E&&E(w),r.maskClosable&&((S=t.value)===null||S===void 0?void 0:S.contains(w.target))&&c(!1)}function m(w){var S;(S=r.onEsc)===null||S===void 0||S.call(r),r.closeOnEsc&&c(!1)}Tn(WY,{getMousePosition:()=>{if(u){const{clickedRef:w,clickPositionRef:S}=u;if(w.value&&S.value)return S.value}return o.value?s.value:null},mergedClsPrefixRef:e,mergedThemeRef:a,isMountedRef:l,appearRef:tr(r,"internalAppear"),transformOriginRef:tr(r,"transformOrigin")});const y=re(()=>{const{common:{cubicBezierEaseOut:w},self:{boxShadow:S,color:E,textColor:_}}=a.value;return{"--n-bezier-ease-out":w,"--n-box-shadow":S,"--n-color":E,"--n-text-color":_}}),b=i?Ea("theme-class",void 0,y,r):void 0;return{mergedClsPrefix:e,namespace:n,isMounted:l,containerRef:t,presetProps:re(()=>Kc(r,_Ce)),handleEsc:m,handleAfterLeave:p,handleClickoutside:g,handleBeforeLeave:v,doUpdateShow:c,handleNegativeClick:h,handlePositiveClick:d,handleCloseClick:f,cssVars:i&&void 0,themeClass:b==null?void 0:b.themeClass,onRender:b==null?void 0:b.onRender}},render(){const{mergedClsPrefix:r}=this;return R(MX,{to:this.to,show:this.show},{default:()=>{var t,e;return(t=this.onRender)===null||t===void 0||t.call(this),Gl(R("div",{role:"none",ref:"containerRef",class:[`${r}-modal-container`,this.themeClass,this.namespace],style:this.cssVars},this.unstableShowMask?R(uo,{name:"fade-in-transition",key:"mask",appear:(e=this.internalAppear)!==null&&e!==void 0?e:this.isMounted},{default:()=>this.show?R("div",{"aria-hidden":!0,ref:"containerRef",class:`${r}-modal-mask`}):null}):null,R(TCe,Object.assign({style:this.overlayStyle},this.$attrs,{ref:"bodyWrapper",displayDirective:this.displayDirective,show:this.show,preset:this.preset,autoFocus:this.autoFocus,trapFocus:this.trapFocus},this.presetProps,{onEsc:this.handleEsc,onClose:this.handleCloseClick,onNegativeClick:this.handleNegativeClick,onPositiveClick:this.handlePositiveClick,onBeforeLeave:this.handleBeforeLeave,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave,onClickoutside:this.handleClickoutside}),this.$slots)),[[zL,{zIndex:this.zIndex,enabled:this.show}]])}})}});const ICe=Object.assign(Object.assign({},gA),{internalStyle:[String,Object],maskClosable:{type:Boolean,default:!0},onPositiveClick:Function,onNegativeClick:Function,onClose:Function,onMaskClick:Function}),PCe=It({name:"DialogEnvironment",props:Object.assign(Object.assign({},ICe),{internalKey:{type:String,required:!0},to:[String,Object],onInternalAfterLeave:{type:Function,required:!0}}),setup(r){const t=Re(!0);function e(){r.onInternalAfterLeave(r.internalKey)}function n(u){const{onPositiveClick:c}=r;c?Promise.resolve(c(u)).then(f=>{f!==!1&&s()}):s()}function i(u){const{onNegativeClick:c}=r;c?Promise.resolve(c(u)).then(f=>{f!==!1&&s()}):s()}function a(){const{onClose:u}=r;u?Promise.resolve(u()).then(c=>{c!==!1&&s()}):s()}function o(u){const{onMaskClick:c,maskClosable:f}=r;c&&(c(u),f&&s())}function s(){t.value=!1}function l(u){t.value=u}return{show:t,hide:s,handleUpdateShow:l,handleAfterLeave:e,handleCloseClick:a,handleNegativeClick:i,handlePositiveClick:n,handleMaskClick:o}},render(){const{handlePositiveClick:r,handleUpdateShow:t,handleNegativeClick:e,handleCloseClick:n,handleAfterLeave:i,handleMaskClick:a,to:o,maskClosable:s,show:l}=this;return R(MCe,{show:l,onUpdateShow:t,onMaskClick:a,to:o,maskClosable:s,onAfterLeave:i,internalAppear:!0,internalDialog:!0},{default:()=>R(Bq,Object.assign({},Kc(this.$props,Nq),{style:this.internalStyle,onClose:n,onNegativeClick:e,onPositiveClick:r}))})}}),RCe={injectionKey:String,to:[String,Object]},Xot=It({name:"DialogProvider",props:RCe,setup(){const r=Re([]),t={};function e(s={}){const l=gv(),u=kv(Object.assign(Object.assign({},s),{key:l,destroy:()=>{t[`n-dialog-${l}`].hide()}}));return r.value.push(u),u}const n=["info","success","warning","error"].map(s=>l=>e(Object.assign(Object.assign({},l),{type:s})));function i(s){const{value:l}=r;l.splice(l.findIndex(u=>u.key===s),1)}function a(){Object.values(t).forEach(s=>s.hide())}const o={create:e,destroyAll:a,info:n[0],success:n[1],warning:n[2],error:n[3]};return Tn($q,o),Tn(zq,{clickedRef:VY(64),clickPositionRef:HY()}),Object.assign(Object.assign({},o),{dialogList:r,dialogInstRefs:t,handleAfterLeave:i})},render(){var r,t;return R(qi,null,[this.dialogList.map(e=>R(PCe,PY(e,["destroy","style"],{internalStyle:e.style,to:this.to,ref:n=>{n===null?delete this.dialogInstRefs[`n-dialog-${e.key}`]:this.dialogInstRefs[`n-dialog-${e.key}`]=n},internalKey:e.key,onInternalAfterLeave:this.handleAfterLeave}))),(t=(r=this.$slots).default)===null||t===void 0?void 0:t.call(r)])}});function qot(){const r=Sr($q,null);return r===null&&U0("use-dialog","No outer <n-dialog-provider /> founded."),r}var DCe={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"};const OCe=()=>DCe,LCe={name:"Space",self:OCe};var FCe=LCe;const NCe=Object.assign(Object.assign({},wr.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,size:{type:[String,Number,Array],default:"medium"},itemStyle:[String,Object],wrap:{type:Boolean,default:!0}});var Kot=It({name:"Space",props:NCe,setup(r){const{mergedClsPrefixRef:t}=Bn(r),e=wr("Space","-space",void 0,FCe,r,t);return{mergedClsPrefix:t,margin:re(()=>{const{size:n}=r;if(Array.isArray(n))return{horizontal:n[0],vertical:n[1]};if(typeof n=="number")return{horizontal:n,vertical:n};const{self:{[lr("gap",n)]:i}}=e.value,{row:a,col:o}=vhe(i);return{horizontal:Rs(o),vertical:Rs(a)}})}},render(){const{vertical:r,align:t,inline:e,justify:n,itemStyle:i,margin:a,wrap:o,mergedClsPrefix:s}=this,l=tw(IY(this));if(!l.length)return null;const u=`${a.horizontal}px`,c=`${a.horizontal/2}px`,f=`${a.vertical}px`,d=`${a.vertical/2}px`,h=l.length-1,v=n.startsWith("space-");return R("div",{role:"none",class:`${s}-space`,style:{display:e?"inline-flex":"flex",flexDirection:r?"column":"row",justifyContent:["start","end"].includes(n)?"flex-"+n:n,flexWrap:!o||r?"nowrap":"wrap",marginTop:r?"":`-${d}`,marginBottom:r?"":`-${d}`,alignItems:t}},l.map((p,g)=>R("div",{role:"none",style:[i,{maxWidth:"100%"},r?{marginBottom:g!==h?f:""}:{marginRight:v?n==="space-between"&&g===h?"":c:g!==h?u:"",marginLeft:v?n==="space-between"&&g===0?"":c:"",paddingTop:d,paddingBottom:d}]},p)))}}),BCe={feedbackPadding:"4px 0 0 2px",feedbackHeightSmall:"24px",feedbackHeightMedium:"24px",feedbackHeightLarge:"26px",feedbackFontSizeSmall:"13px",feedbackFontSizeMedium:"14px",feedbackFontSizeLarge:"14px",labelFontSizeLeftSmall:"14px",labelFontSizeLeftMedium:"14px",labelFontSizeLeftLarge:"15px",labelFontSizeTopSmall:"13px",labelFontSizeTopMedium:"14px",labelFontSizeTopLarge:"14px",labelHeightSmall:"24px",labelHeightMedium:"26px",labelHeightLarge:"28px",labelPaddingVertical:"0 0 8px 2px",labelPaddingHorizontal:"0 12px 0 0",labelTextAlignVertical:"left",labelTextAlignHorizontal:"right"};const zCe=r=>{const{heightSmall:t,heightMedium:e,heightLarge:n,textColor1:i,errorColor:a,warningColor:o,lineHeight:s,textColor3:l}=r;return Object.assign(Object.assign({},BCe),{blankHeightSmall:t,blankHeightMedium:e,blankHeightLarge:n,lineHeight:s,labelTextColor:i,asteriskColor:a,feedbackTextColorError:a,feedbackTextColorWarning:o,feedbackTextColor:l})},$Ce={name:"Form",common:ci,self:zCe};var Gq=$Ce,GCe=le("form",[Ge("inline",`
 width: 100%;
 display: inline-flex;
 align-items: flex-start;
 align-content: space-around;
 `,[le("form-item",{width:"auto",marginRight:"18px"},[ke("&:last-child",{marginRight:0})])])]);const eS="n-form",Uq="n-form-item-insts";var UCe=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(r,t||[])).next())})};const HCe=Object.assign(Object.assign({},wr.props),{inline:Boolean,labelWidth:[Number,String],labelAlign:String,labelPlacement:{type:String,default:"top"},model:{type:Object,default:()=>{}},rules:Object,disabled:Boolean,size:String,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:!0},onSubmit:{type:Function,default:r=>r.preventDefault()},showLabel:{type:Boolean,default:void 0}});var Zot=It({name:"Form",props:HCe,setup(r){const{mergedClsPrefixRef:t}=Bn(r);wr("Form","-form",GCe,Gq,r,t);const e={},n=Re(void 0),i=l=>{const u=n.value;(u===void 0||l>=u)&&(n.value=l)};function a(l,u=()=>!0){return UCe(this,void 0,void 0,function*(){return yield new Promise((c,f)=>{const d=[];for(const h of Td(e)){const v=e[h];for(const p of v)p.path&&d.push(p.internalValidate(null,u))}Promise.all(d).then(h=>{if(h.some(v=>!v.valid)){const v=h.filter(p=>p.errors).map(p=>p.errors);l&&l(v),f(v)}else l&&l(),c()})})})}function o(){for(const l of Td(e)){const u=e[l];for(const c of u)c.restoreValidation()}}return Tn(eS,{props:r,maxChildLabelWidthRef:n,deriveMaxChildLabelWidth:i}),Tn(Uq,{formItems:e}),Object.assign({validate:a,restoreValidation:o},{mergedClsPrefix:t})},render(){const{mergedClsPrefix:r}=this;return R("form",{class:[`${r}-form`,this.inline&&`${r}-form--inline`],onSubmit:this.onSubmit},this.$slots)}});function qp(){return qp=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},qp.apply(this,arguments)}function VCe(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,aw(r,t)}function YR(r){return YR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},YR(r)}function aw(r,t){return aw=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},aw(r,t)}function WCe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O2(r,t,e){return WCe()?O2=Reflect.construct:O2=function(i,a,o){var s=[null];s.push.apply(s,a);var l=Function.bind.apply(i,s),u=new l;return o&&aw(u,o.prototype),u},O2.apply(null,arguments)}function jCe(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function XR(r){var t=typeof Map=="function"?new Map:void 0;return XR=function(n){if(n===null||!jCe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return O2(n,arguments,YR(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),aw(i,n)},XR(r)}var YCe=/%[sdj%]/g,XCe=function(){};typeof process!="undefined"&&process.env;function qR(r){if(!r||!r.length)return null;var t={};return r.forEach(function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)}),t}function Nl(r){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var i=0,a=e.length;if(typeof r=="function")return r.apply(null,e);if(typeof r=="string"){var o=r.replace(YCe,function(s){if(s==="%%")return"%";if(i>=a)return s;switch(s){case"%s":return String(e[i++]);case"%d":return Number(e[i++]);case"%j":try{return JSON.stringify(e[i++])}catch{return"[Circular]"}break;default:return s}});return o}return r}function qCe(r){return r==="string"||r==="url"||r==="hex"||r==="email"||r==="date"||r==="pattern"}function Ao(r,t){return!!(r==null||t==="array"&&Array.isArray(r)&&!r.length||qCe(t)&&typeof r=="string"&&!r)}function KCe(r,t,e){var n=[],i=0,a=r.length;function o(s){n.push.apply(n,s||[]),i++,i===a&&e(n)}r.forEach(function(s){t(s,o)})}function Yz(r,t,e){var n=0,i=r.length;function a(o){if(o&&o.length){e(o);return}var s=n;n=n+1,s<i?t(r[s],a):e([])}a([])}function ZCe(r){var t=[];return Object.keys(r).forEach(function(e){t.push.apply(t,r[e]||[])}),t}var Xz=function(r){VCe(t,r);function t(e,n){var i;return i=r.call(this,"Async Validation Error")||this,i.errors=e,i.fields=n,i}return t}(XR(Error));function QCe(r,t,e,n,i){if(t.first){var a=new Promise(function(d,h){var v=function(m){return n(m),m.length?h(new Xz(m,qR(m))):d(i)},p=ZCe(r);Yz(p,e,v)});return a.catch(function(d){return d}),a}var o=t.firstFields===!0?Object.keys(r):t.firstFields||[],s=Object.keys(r),l=s.length,u=0,c=[],f=new Promise(function(d,h){var v=function(g){if(c.push.apply(c,g),u++,u===l)return n(c),c.length?h(new Xz(c,qR(c))):d(i)};s.length||(n(c),d(i)),s.forEach(function(p){var g=r[p];o.indexOf(p)!==-1?Yz(g,e,v):KCe(g,e,v)})});return f.catch(function(d){return d}),f}function JCe(r){return!!(r&&r.message!==void 0)}function eEe(r,t){for(var e=r,n=0;n<t.length;n++){if(e==null)return e;e=e[t[n]]}return e}function qz(r,t){return function(e){var n;return r.fullFields?n=eEe(t,r.fullFields):n=t[e.field||r.fullField],JCe(e)?(e.field=e.field||r.fullField,e.fieldValue=n,e):{message:typeof e=="function"?e():e,fieldValue:n,field:e.field||r.fullField}}}function Kz(r,t){if(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];typeof n=="object"&&typeof r[e]=="object"?r[e]=qp({},r[e],n):r[e]=n}}return r}var Hq=function(t,e,n,i,a,o){t.required&&(!n.hasOwnProperty(t.field)||Ao(e,o||t.type))&&i.push(Nl(a.messages.required,t.fullField))},tEe=function(t,e,n,i,a){(/^\s+$/.test(e)||e==="")&&i.push(Nl(a.messages.whitespace,t.fullField))},_I={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},e1={integer:function(t){return e1.number(t)&&parseInt(t,10)===t},float:function(t){return e1.number(t)&&!e1.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!e1.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(_I.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(_I.url)},hex:function(t){return typeof t=="string"&&!!t.match(_I.hex)}},rEe=function(t,e,n,i,a){if(t.required&&e===void 0){Hq(t,e,n,i,a);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=t.type;o.indexOf(s)>-1?e1[s](e)||i.push(Nl(a.messages.types[s],t.fullField,t.type)):s&&typeof e!==t.type&&i.push(Nl(a.messages.types[s],t.fullField,t.type))},nEe=function(t,e,n,i,a){var o=typeof t.len=="number",s=typeof t.min=="number",l=typeof t.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=e,f=null,d=typeof e=="number",h=typeof e=="string",v=Array.isArray(e);if(d?f="number":h?f="string":v&&(f="array"),!f)return!1;v&&(c=e.length),h&&(c=e.replace(u,"_").length),o?c!==t.len&&i.push(Nl(a.messages[f].len,t.fullField,t.len)):s&&!l&&c<t.min?i.push(Nl(a.messages[f].min,t.fullField,t.min)):l&&!s&&c>t.max?i.push(Nl(a.messages[f].max,t.fullField,t.max)):s&&l&&(c<t.min||c>t.max)&&i.push(Nl(a.messages[f].range,t.fullField,t.min,t.max))},ty="enum",iEe=function(t,e,n,i,a){t[ty]=Array.isArray(t[ty])?t[ty]:[],t[ty].indexOf(e)===-1&&i.push(Nl(a.messages[ty],t.fullField,t[ty].join(", ")))},aEe=function(t,e,n,i,a){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(e)||i.push(Nl(a.messages.pattern.mismatch,t.fullField,e,t.pattern));else if(typeof t.pattern=="string"){var o=new RegExp(t.pattern);o.test(e)||i.push(Nl(a.messages.pattern.mismatch,t.fullField,e,t.pattern))}}},ni={required:Hq,whitespace:tEe,type:rEe,range:nEe,enum:iEe,pattern:aEe},oEe=function(t,e,n,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(Ao(e,"string")&&!t.required)return n();ni.required(t,e,i,o,a,"string"),Ao(e,"string")||(ni.type(t,e,i,o,a),ni.range(t,e,i,o,a),ni.pattern(t,e,i,o,a),t.whitespace===!0&&ni.whitespace(t,e,i,o,a))}n(o)},sEe=function(t,e,n,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(Ao(e)&&!t.required)return n();ni.required(t,e,i,o,a),e!==void 0&&ni.type(t,e,i,o,a)}n(o)},lEe=function(t,e,n,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(e===""&&(e=void 0),Ao(e)&&!t.required)return n();ni.required(t,e,i,o,a),e!==void 0&&(ni.type(t,e,i,o,a),ni.range(t,e,i,o,a))}n(o)},uEe=function(t,e,n,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(Ao(e)&&!t.required)return n();ni.required(t,e,i,o,a),e!==void 0&&ni.type(t,e,i,o,a)}n(o)},cEe=function(t,e,n,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(Ao(e)&&!t.required)return n();ni.required(t,e,i,o,a),Ao(e)||ni.type(t,e,i,o,a)}n(o)},fEe=function(t,e,n,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(Ao(e)&&!t.required)return n();ni.required(t,e,i,o,a),e!==void 0&&(ni.type(t,e,i,o,a),ni.range(t,e,i,o,a))}n(o)},dEe=function(t,e,n,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(Ao(e)&&!t.required)return n();ni.required(t,e,i,o,a),e!==void 0&&(ni.type(t,e,i,o,a),ni.range(t,e,i,o,a))}n(o)},hEe=function(t,e,n,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(e==null&&!t.required)return n();ni.required(t,e,i,o,a,"array"),e!=null&&(ni.type(t,e,i,o,a),ni.range(t,e,i,o,a))}n(o)},vEe=function(t,e,n,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(Ao(e)&&!t.required)return n();ni.required(t,e,i,o,a),e!==void 0&&ni.type(t,e,i,o,a)}n(o)},pEe="enum",gEe=function(t,e,n,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(Ao(e)&&!t.required)return n();ni.required(t,e,i,o,a),e!==void 0&&ni[pEe](t,e,i,o,a)}n(o)},mEe=function(t,e,n,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(Ao(e,"string")&&!t.required)return n();ni.required(t,e,i,o,a),Ao(e,"string")||ni.pattern(t,e,i,o,a)}n(o)},yEe=function(t,e,n,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(Ao(e,"date")&&!t.required)return n();if(ni.required(t,e,i,o,a),!Ao(e,"date")){var l;e instanceof Date?l=e:l=new Date(e),ni.type(t,l,i,o,a),l&&ni.range(t,l.getTime(),i,o,a)}}n(o)},bEe=function(t,e,n,i,a){var o=[],s=Array.isArray(e)?"array":typeof e;ni.required(t,e,i,o,a,s),n(o)},TI=function(t,e,n,i,a){var o=t.type,s=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(Ao(e,o)&&!t.required)return n();ni.required(t,e,i,s,a,o),Ao(e,o)||ni.type(t,e,i,s,a)}n(s)},xEe=function(t,e,n,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(Ao(e)&&!t.required)return n();ni.required(t,e,i,o,a)}n(o)},A1={string:oEe,method:sEe,number:lEe,boolean:uEe,regexp:cEe,integer:fEe,float:dEe,array:hEe,object:vEe,enum:gEe,pattern:mEe,date:yEe,url:TI,hex:TI,email:TI,required:bEe,any:xEe};function KR(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var ZR=KR(),tS=function(){function r(e){this.rules=null,this._messages=ZR,this.define(e)}var t=r.prototype;return t.define=function(n){var i=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(typeof n!="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(a){var o=n[a];i.rules[a]=Array.isArray(o)?o:[o]})},t.messages=function(n){return n&&(this._messages=Kz(KR(),n)),this._messages},t.validate=function(n,i,a){var o=this;i===void 0&&(i={}),a===void 0&&(a=function(){});var s=n,l=i,u=a;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,s),Promise.resolve(s);function c(p){var g=[],m={};function y(w){if(Array.isArray(w)){var S;g=(S=g).concat.apply(S,w)}else g.push(w)}for(var b=0;b<p.length;b++)y(p[b]);g.length?(m=qR(g),u(g,m)):u(null,s)}if(l.messages){var f=this.messages();f===ZR&&(f=KR()),Kz(f,l.messages),l.messages=f}else l.messages=this.messages();var d={},h=l.keys||Object.keys(this.rules);h.forEach(function(p){var g=o.rules[p],m=s[p];g.forEach(function(y){var b=y;typeof b.transform=="function"&&(s===n&&(s=qp({},s)),m=s[p]=b.transform(m)),typeof b=="function"?b={validator:b}:b=qp({},b),b.validator=o.getValidationMethod(b),!!b.validator&&(b.field=p,b.fullField=b.fullField||p,b.type=o.getType(b),d[p]=d[p]||[],d[p].push({rule:b,value:m,source:s,field:p}))})});var v={};return QCe(d,l,function(p,g){var m=p.rule,y=(m.type==="object"||m.type==="array")&&(typeof m.fields=="object"||typeof m.defaultField=="object");y=y&&(m.required||!m.required&&p.value),m.field=p.field;function b(E,_){return qp({},_,{fullField:m.fullField+"."+E,fullFields:m.fullFields?[].concat(m.fullFields,[E]):[E]})}function w(E){E===void 0&&(E=[]);var _=Array.isArray(E)?E:[E];!l.suppressWarning&&_.length&&r.warning("async-validator:",_),_.length&&m.message!==void 0&&(_=[].concat(m.message));var A=_.map(qz(m,s));if(l.first&&A.length)return v[m.field]=1,g(A);if(!y)g(A);else{if(m.required&&!p.value)return m.message!==void 0?A=[].concat(m.message).map(qz(m,s)):l.error&&(A=[l.error(m,Nl(l.messages.required,m.field))]),g(A);var k={};m.defaultField&&Object.keys(p.value).map(function(D){k[D]=m.defaultField}),k=qp({},k,p.rule.fields);var T={};Object.keys(k).forEach(function(D){var O=k[D],B=Array.isArray(O)?O:[O];T[D]=B.map(b.bind(null,D))});var I=new r(T);I.messages(l.messages),p.rule.options&&(p.rule.options.messages=l.messages,p.rule.options.error=l.error),I.validate(p.value,p.rule.options||l,function(D){var O=[];A&&A.length&&O.push.apply(O,A),D&&D.length&&O.push.apply(O,D),g(O.length?O:null)})}}var S;m.asyncValidator?S=m.asyncValidator(m,p.value,w,p.source,l):m.validator&&(S=m.validator(m,p.value,w,p.source,l),S===!0?w():S===!1?w(typeof m.message=="function"?m.message(m.fullField||m.field):m.message||(m.fullField||m.field)+" fails"):S instanceof Array?w(S):S instanceof Error&&w(S.message)),S&&S.then&&S.then(function(){return w()},function(E){return w(E)})},function(p){c(p)},s)},t.getType=function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!A1.hasOwnProperty(n.type))throw new Error(Nl("Unknown rule type %s",n.type));return n.type||"string"},t.getValidationMethod=function(n){if(typeof n.validator=="function")return n.validator;var i=Object.keys(n),a=i.indexOf("message");return a!==-1&&i.splice(a,1),i.length===1&&i[0]==="required"?A1.required:A1[this.getType(n)]||void 0},r}();tS.register=function(t,e){if(typeof e!="function")throw new Error("Cannot register a validator by type, validator is not a function");A1[t]=e};tS.warning=XCe;tS.messages=ZR;tS.validators=A1;function wEe(r){const t=Sr(eS,null);return{mergedSize:re(()=>r.size!==void 0?r.size:(t==null?void 0:t.props.size)!==void 0?t.props.size:"medium")}}function SEe(r){const t=Sr(eS,null),e=re(()=>{if(n.value==="top")return;const{labelWidth:d}=r;if(d!==void 0&&d!=="auto")return va(d);if(d==="auto"||(t==null?void 0:t.props.labelWidth)==="auto"){const h=t==null?void 0:t.maxChildLabelWidthRef.value;return h!==void 0?va(h):void 0}if((t==null?void 0:t.props.labelWidth)!==void 0)return va(t.props.labelWidth)}),n=re(()=>{const{labelPlacement:d}=r;return d!==void 0?d:(t==null?void 0:t.props.labelPlacement)?t.props.labelPlacement:"top"}),i=re(()=>{const{labelAlign:d}=r;if(d)return d;if(t==null?void 0:t.props.labelAlign)return t.props.labelAlign}),a=re(()=>{var d;return[(d=r.labelProps)===null||d===void 0?void 0:d.style,r.labelStyle,{width:e.value}]}),o=re(()=>{const{showRequireMark:d}=r;return d!==void 0?d:t==null?void 0:t.props.showRequireMark}),s=re(()=>{const{requireMarkPlacement:d}=r;return d!==void 0?d:(t==null?void 0:t.props.requireMarkPlacement)||"right"}),l=Re(!1),u=re(()=>{const{validationStatus:d}=r;if(d!==void 0)return d;if(l.value)return"error"}),c=re(()=>{const{showFeedback:d}=r;return d!==void 0?d:(t==null?void 0:t.props.showFeedback)!==void 0?t.props.showFeedback:!0}),f=re(()=>{const{showLabel:d}=r;return d!==void 0?d:(t==null?void 0:t.props.showLabel)!==void 0?t.props.showLabel:!0});return{validationErrored:l,mergedLabelStyle:a,mergedLabelPlacement:n,mergedLabelAlign:i,mergedShowRequireMark:o,mergedRequireMarkPlacement:s,mergedValidationStatus:u,mergedShowFeedback:c,mergedShowLabel:f}}function CEe(r){const t=Sr(eS,null),e=re(()=>{const{rulePath:o}=r;if(o!==void 0)return o;const{path:s}=r;if(s!==void 0)return s}),n=re(()=>{const o=[],{rule:s}=r;if(s!==void 0&&(Array.isArray(s)?o.push(...s):o.push(s)),t){const{rules:l}=t.props,{value:u}=e;if(l!==void 0&&u!==void 0){const c=FL(l,u);c!==void 0&&(Array.isArray(c)?o.push(...c):o.push(c))}}return o}),i=re(()=>n.value.some(o=>o.required)),a=re(()=>i.value||r.required);return{mergedRules:n,mergedRequired:a}}var EEe=It({name:"FormItemFeedback",props:{clsPrefix:{type:String,required:!0},explains:Array,feedback:String},render(){var r;const{$slots:t,feedback:e,clsPrefix:n}=this;return t.default?t.default():e?R("div",{key:e,class:`${n}-form-item-feedback__line`},e):(r=this.explains)===null||r===void 0?void 0:r.map(i=>R("div",{key:i,class:`${n}-form-item-feedback__line`},i))}});const{cubicBezierEaseInOut:Zz}=Pv;function _Ee({name:r="fade-down",fromOffset:t="-4px",enterDuration:e=".3s",leaveDuration:n=".3s",enterCubicBezier:i=Zz,leaveCubicBezier:a=Zz}={}){return[ke(`&.${r}-transition-enter-from, &.${r}-transition-leave-to`,{opacity:0,transform:`translateY(${t})`}),ke(`&.${r}-transition-enter-to, &.${r}-transition-leave-from`,{opacity:1,transform:"translateY(0)"}),ke(`&.${r}-transition-leave-active`,{transition:`opacity ${n} ${a}, transform ${n} ${a}`}),ke(`&.${r}-transition-enter-active`,{transition:`opacity ${e} ${i}, transform ${e} ${i}`})]}var TEe=le("form-item",{display:"grid",lineHeight:"var(--n-line-height)"},[le("form-item-label",`
 grid-area: label;
 align-items: center;
 line-height: 1.25;
 text-align: var(--n-label-text-align);
 font-size: var(--n-label-font-size);
 height: var(--n-label-height);
 padding: var(--n-label-padding);
 color: var(--n-label-text-color);
 transition: color .3s var(--n-bezier);
 box-sizing: border-box;
 `,[Ae("asterisk",`
 color: var(--n-asterisk-color);
 transition: color .3s var(--n-bezier);
 `),Ae("asterisk-placeholder",`
 visibility: hidden; 
 `)]),le("form-item-blank",{gridArea:"blank",minHeight:"var(--n-blank-height)"}),Ge("left-labelled",`
 grid-template-areas:
 "label blank"
 "label feedback";
 grid-template-columns: auto minmax(0, 1fr);
 `,[le("form-item-label",`
 height: var(--n-blank-height);
 line-height: var(--n-blank-height);
 box-sizing: border-box;
 white-space: nowrap;
 flex-shrink: 0;
 flex-grow: 0;
 `)]),Ge("top-labelled",`
 grid-template-areas:
 "label"
 "blank"
 "feedback";
 grid-template-rows: var(--n-label-height) 1fr;
 grid-template-columns: minmax(0, 100%);
 `,[Ge("no-label",`
 grid-template-areas:
 "blank"
 "feedback";
 grid-template-rows: 1fr;
 `),le("form-item-label",{display:"flex",alignItems:"flex-end",justifyContent:"var(--n-label-text-align)"})]),le("form-item-blank",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 position: relative;
 `),le("form-item-feedback-wrapper",`
 grid-area: feedback;
 box-sizing: border-box;
 min-height: var(--n-feedback-height);
 font-size: var(--n-feedback-font-size);
 line-height: 1.25;
 transform-origin: top left;
 `,[ke("&:not(:empty)",`
 padding: var(--n-feedback-padding);
 `),le("form-item-feedback",{transition:"color .3s var(--n-bezier)",color:"var(--n-feedback-text-color)"},[Ge("warning",{color:"var(--n-feedback-text-color-warning)"}),Ge("error",{color:"var(--n-feedback-text-color-error)"}),_Ee({fromOffset:"-3px",enterDuration:".3s",leaveDuration:".2s"})])])]),Qz=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(r,t||[])).next())})};const AEe=Object.assign(Object.assign({},wr.props),{label:String,labelWidth:[Number,String],labelStyle:[String,Object],labelAlign:String,labelPlacement:String,path:String,first:Boolean,rulePath:String,required:Boolean,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:void 0},rule:[Object,Array],size:String,ignorePathChange:Boolean,validationStatus:String,feedback:String,showLabel:{type:Boolean,default:void 0},labelProps:Object});function Jz(r,t){return(...e)=>{var n;try{const i=r(...e);return!t&&(typeof i=="boolean"||i instanceof Error||Array.isArray(i))||((n=i)===null||n===void 0?void 0:n.then)?i:(i===void 0||rf("form-item/validate",`You return a ${typeof i} typed value in the validator method, which is not recommended. Please use `+(t?"`Promise`":"`boolean`, `Error` or `Promise`")+" typed value instead."),!0)}catch(i){rf("form-item/validate","An error is catched in the validation, so the validation won't be done. Your callback in `validate` method of `n-form` or `n-form-item` won't be called in this validation."),console.error(i);return}}}var Qot=It({name:"FormItem",props:AEe,setup(r){ave(Uq,"formItems",tr(r,"path"));const{mergedClsPrefixRef:t}=Bn(r),e=Sr(eS,null),n=wEe(r),i=SEe(r),{validationErrored:a}=i,{mergedRequired:o,mergedRules:s}=CEe(r),{mergedSize:l}=n,{mergedLabelPlacement:u,mergedLabelAlign:c}=i,f=Re([]),d=Re(gv()),h=re(()=>{const{feedback:k}=r;return k!=null?!0:f.value.length}),v=e?tr(e.props,"disabled"):Re(!1),p=wr("Form","-form-item",TEe,Gq,r,t);hn(tr(r,"path"),()=>{r.ignorePathChange||g()});function g(){f.value=[],a.value=!1,r.feedback&&(d.value=gv())}function m(){E("blur")}function y(){E("change")}function b(){E("focus")}function w(){E("input")}function S(k,T){return Qz(this,void 0,void 0,function*(){let I,D,O,B;return typeof k=="string"?(I=k,D=T):k!==null&&typeof k=="object"&&(I=k.trigger,D=k.callback,O=k.shouldRuleBeApplied,B=k.options),yield new Promise((U,N)=>{E(I,O,B).then(({valid:G,errors:L})=>{G?(D&&D(),U()):(D&&D(L),N(L))})})})}const E=(k=null,T=()=>!0,I={suppressWarning:!0})=>Qz(this,void 0,void 0,function*(){const{path:D}=r;I?I.first||(I.first=r.first):I={};const{value:O}=s,B=e?FL(e.props.model,D||""):void 0,U=(k?O.filter(L=>Array.isArray(L.trigger)?L.trigger.includes(k):L.trigger===k):O).filter(T).map(L=>{const F=Object.assign({},L);return F.validator&&(F.validator=Jz(F.validator,!1)),F.asyncValidator&&(F.asyncValidator=Jz(F.asyncValidator,!0)),F});if(!U.length)return yield Promise.resolve({valid:!0});const N=D!=null?D:"__n_no_path__",G=new tS({[N]:U});return yield new Promise(L=>{G.validate({[N]:B},I,(F,W)=>{(F==null?void 0:F.length)?(f.value=F.map(H=>(H==null?void 0:H.message)||""),a.value=!0,L({valid:!1,errors:F})):(g(),L({valid:!0}))})})});Tn(kR,{path:tr(r,"path"),disabled:v,mergedSize:n.mergedSize,mergedValidationStatus:i.mergedValidationStatus,restoreValidation:g,handleContentBlur:m,handleContentChange:y,handleContentFocus:b,handleContentInput:w});const _={validate:S,restoreValidation:g,internalValidate:E},A=Re(null);return Io(()=>{A.value!==null&&(e==null||e.deriveMaxChildLabelWidth(Number(getComputedStyle(A.value).width.slice(0,-2))))}),Object.assign(Object.assign(Object.assign(Object.assign({labelElementRef:A,mergedClsPrefix:t,mergedRequired:o,hasFeedback:h,feedbackId:d,explains:f},i),n),_),{cssVars:re(()=>{var k;const{value:T}=l,{value:I}=u,D=I==="top"?"vertical":"horizontal",{common:{cubicBezierEaseInOut:O},self:{labelTextColor:B,asteriskColor:U,lineHeight:N,feedbackTextColor:G,feedbackTextColorWarning:L,feedbackTextColorError:F,feedbackPadding:W,[lr("labelHeight",T)]:H,[lr("blankHeight",T)]:K,[lr("feedbackFontSize",T)]:ie,[lr("feedbackHeight",T)]:ee,[lr("labelPadding",D)]:Q,[lr("labelTextAlign",D)]:be,[lr(lr("labelFontSize",I),T)]:fe}}=p.value;let he=(k=c.value)!==null&&k!==void 0?k:be;return I==="top"&&(he=he==="right"?"flex-end":"flex-start"),{"--n-bezier":O,"--n-line-height":N,"--n-blank-height":K,"--n-label-font-size":fe,"--n-label-text-align":he,"--n-label-height":H,"--n-label-padding":Q,"--n-asterisk-color":U,"--n-label-text-color":B,"--n-feedback-padding":W,"--n-feedback-font-size":ie,"--n-feedback-height":ee,"--n-feedback-text-color":G,"--n-feedback-text-color-warning":L,"--n-feedback-text-color-error":F}})})},render(){var r;const{$slots:t,mergedClsPrefix:e,mergedShowLabel:n,mergedShowRequireMark:i,mergedRequireMarkPlacement:a}=this,o=i!==void 0?i:this.mergedRequired;return R("div",{class:[`${e}-form-item`,`${e}-form-item--${this.mergedSize}-size`,`${e}-form-item--${this.mergedLabelPlacement}-labelled`,!n&&`${e}-form-item--no-label`],style:this.cssVars},n&&(this.label||t.label)?R("label",Object.assign({},this.labelProps,{class:[(r=this.labelProps)===null||r===void 0?void 0:r.class,`${e}-form-item-label`],style:this.mergedLabelStyle,ref:"labelElementRef"}),a!=="left"?t.label?t.label():this.label:null,o?R("span",{class:`${e}-form-item-label__asterisk`},a!=="left"?"\xA0*":"*\xA0"):a==="right-hanging"&&R("span",{class:`${e}-form-item-label__asterisk-placeholder`},"\xA0*"),a==="left"?t.label?t.label():this.label:null):null,R("div",{class:[`${e}-form-item-blank`,this.mergedValidationStatus&&`${e}-form-item-blank--${this.mergedValidationStatus}`]},t),this.mergedShowFeedback?R("div",{key:this.feedbackId,class:`${e}-form-item-feedback-wrapper`},R(uo,{name:"fade-down-transition",mode:"out-in"},{default:()=>{const s=R(EEe,{clsPrefix:e,explains:this.explains,feedback:this.feedback},{default:t.feedback}),{hasFeedback:l,mergedValidationStatus:u}=this;return l||t.feedback?u==="warning"?R("div",{key:"controlled-warning",class:`${e}-form-item-feedback ${e}-form-item-feedback--warning`},s):u==="error"?R("div",{key:"controlled-error",class:`${e}-form-item-feedback ${e}-form-item-feedback--error`},s):u==="success"?R("div",{key:"controlled-success",class:`${e}-form-item-feedback ${e}-form-item-feedback--success`},s):R("div",{key:"controlled-default",class:`${e}-form-item-feedback`},s):null}})):null)}});const kEe=r=>{const{baseColor:t,textColor2:e,bodyColor:n,cardColor:i,dividerColor:a,actionColor:o,scrollbarColor:s,scrollbarColorHover:l,invertedColor:u}=r;return{textColor:e,textColorInverted:"#FFF",color:n,colorEmbedded:o,headerColor:i,headerColorInverted:u,footerColor:o,footerColorInverted:u,headerBorderColor:a,headerBorderColorInverted:u,footerBorderColor:a,footerBorderColorInverted:u,siderBorderColor:a,siderBorderColorInverted:u,siderColor:i,siderColorInverted:u,siderToggleButtonBorder:`1px solid ${a}`,siderToggleButtonColor:t,siderToggleButtonIconColor:e,siderToggleButtonIconColorInverted:e,siderToggleBarColor:ua(n,s),siderToggleBarColorHover:ua(n,l),__invertScrollbar:"true"}},MEe={name:"Layout",common:ci,peers:{Scrollbar:$d},self:kEe};var Vq=MEe;const IEe=r=>{const{textColor2:t,cardColor:e,modalColor:n,popoverColor:i,dividerColor:a,borderRadius:o,fontSize:s}=r;return{textColor:t,color:e,colorModal:n,colorPopover:i,borderColor:a,borderColorModal:ua(n,a),borderColorPopover:ua(i,a),borderRadius:o,fontSize:s}},PEe={name:"List",common:ci,self:IEe};var REe=PEe;function DEe(r,t,e){return{itemTextColorInverted:r,itemTextColorHoverInverted:t,itemTextColorChildActiveInverted:t,itemTextColorActiveInverted:t,itemIconColorInverted:r,itemIconColorHoverInverted:t,itemIconColorActiveInverted:t,itemIconColorChildActiveInverted:t,itemIconColorCollapsedInverted:r,arrowColorInverted:r,arrowColorHoverInverted:t,arrowColorChildActiveInverted:t,arrowColorActiveInverted:t,groupTextColorInverted:e}}const OEe=r=>{const{borderRadius:t,textColor3:e,primaryColor:n,textColor2:i,primaryColorHover:a,textColor1:o,fontSize:s,dividerColor:l}=r;return Object.assign({borderRadius:t,color:"#0000",groupTextColor:e,itemColorActive:_n(n,{alpha:.1}),itemColorActiveCollapsed:"#0000",itemTextColor:i,itemTextColorHover:a,itemTextColorChildActive:n,itemTextColorActive:n,itemIconColor:o,itemIconColorHover:a,itemIconColorActive:n,itemIconColorChildActive:n,itemIconColorCollapsed:o,itemHeight:"42px",arrowColor:i,arrowColorHover:a,arrowColorChildActive:n,arrowColorActive:n,colorInverted:"#0000",itemColorActiveInverted:n,itemColorActiveCollapsedInverted:n,borderColorHorizontal:"#0000",fontSize:s,dividerColor:l},DEe("#BBB","#FFF","#AAA"))},LEe={name:"Menu",common:ci,peers:{Tooltip:ZL},self:OEe};var FEe=LEe,NEe={closeMargin:"18px 14px",closeSize:"16px",width:"365px",padding:"16px"};const BEe=r=>{const{textColor2:t,successColor:e,infoColor:n,warningColor:i,errorColor:a,popoverColor:o,closeColor:s,closeColorHover:l,textColor1:u,textColor3:c,borderRadius:f,fontWeightStrong:d,boxShadow2:h,lineHeight:v,fontSize:p}=r;return Object.assign(Object.assign({},NEe),{borderRadius:f,lineHeight:v,fontSize:p,headerFontWeight:d,iconColor:t,iconColorSuccess:e,iconColorInfo:n,iconColorWarning:i,iconColorError:a,color:o,textColor:t,closeColor:s,closeColorHover:l,closeColorPressed:s,headerTextColor:u,descriptionTextColor:c,actionTextColor:t,boxShadow:h})},zEe={name:"Notification",common:ci,peers:{Scrollbar:$d},self:BEe};var $Ee=zEe;const GEe=r=>{const{infoColor:t,successColor:e,warningColor:n,errorColor:i,textColor2:a,progressRailColor:o,fontSize:s,fontWeight:l}=r;return{fontSize:s,fontSizeCircle:"28px",fontWeightCircle:l,railColor:o,railHeight:"8px",iconSizeCircle:"36px",iconSizeLine:"18px",iconColor:t,iconColorInfo:t,iconColorSuccess:e,iconColorWarning:n,iconColorError:i,textColorCircle:a,textColorLineInner:"rgb(255, 255, 255)",textColorLineOuter:a,fillColor:t,fillColorInfo:t,fillColorSuccess:e,fillColorWarning:n,fillColorError:i,lineBgProcessing:"linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)"}},UEe={name:"Progress",common:ci,self:GEe};var HEe=UEe;const VEe=r=>{const{opacityDisabled:t,heightTiny:e,heightSmall:n,heightMedium:i,heightLarge:a,heightHuge:o,primaryColor:s,fontSize:l}=r;return{fontSize:l,textColor:s,sizeTiny:e,sizeSmall:n,sizeMedium:i,sizeLarge:a,sizeHuge:o,color:s,opacitySpinning:t}},WEe={name:"Spin",common:ci,self:VEe};var jEe=WEe,YEe={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"};const XEe=r=>{const{primaryColor:t,opacityDisabled:e,borderRadius:n,textColor3:i}=r,a="rgba(0, 0, 0, .14)";return Object.assign(Object.assign({},YEe),{iconColor:i,textColor:"white",loadingColor:t,opacityDisabled:e,railColor:a,railColorActive:t,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:n,railBorderRadiusMedium:n,railBorderRadiusLarge:n,buttonBorderRadiusSmall:n,buttonBorderRadiusMedium:n,buttonBorderRadiusLarge:n,boxShadowFocus:`0 0 0 2px ${_n(t,{alpha:.2})}`})},qEe={name:"Switch",common:ci,self:XEe};var KEe=qEe;const ZEe=r=>{const{borderRadiusSmall:t,hoverColor:e,pressedColor:n,primaryColor:i,textColor3:a,textColor2:o,textColorDisabled:s,fontSize:l}=r;return{fontSize:l,nodeBorderRadius:t,nodeColorHover:e,nodeColorPressed:n,nodeColorActive:_n(i,{alpha:.1}),arrowColor:a,nodeTextColor:o,nodeTextColorDisabled:s,loadingColor:i,dropMarkColor:i}},QEe={name:"Tree",common:ci,peers:{Checkbox:KL,Scrollbar:$d},self:ZEe};var Wq=QEe;const JEe=r=>{const{popoverColor:t,boxShadow2:e,borderRadius:n,heightMedium:i,dividerColor:a,textColor2:o}=r;return{menuPadding:"4px",menuColor:t,menuBoxShadow:e,menuBorderRadius:n,menuHeight:`calc(${i} * 7.6)`,actionDividerColor:a,actionTextColor:o,actionPadding:"8px 12px"}},e2e={name:"TreeSelect",common:ci,peers:{Tree:Wq,Empty:lA,InternalSelection:VL},self:JEe};var t2e=e2e,r2e=le("layout",`
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 flex: auto;
 overflow: hidden;
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[le("layout-scroll-container",`
 overflow-x: hidden;
 box-sizing: border-box;
 height: 100%;
 `),Ge("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]);const jq="n-layout-sider",Yq={type:String,default:"static"},n2e={embedded:Boolean,position:Yq,nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,onScroll:Function,contentStyle:{type:[String,Object],default:""},hasSider:Boolean,siderPlacement:{type:String,default:"left"}},Xq="n-layout";function i2e(r){return It({name:r?"LayoutContent":"Layout",props:Object.assign(Object.assign({},wr.props),n2e),setup(t){const e=Re(null),n=Re(null),{mergedClsPrefixRef:i,inlineThemeDisabled:a}=Bn(t),o=wr("Layout","-layout",r2e,Vq,t,i);function s(d,h){if(t.nativeScrollbar){const{value:v}=e;v&&(h===void 0?v.scrollTo(d):v.scrollTo(d,h))}else{const{value:v}=n;v&&v.scrollTo(d,h)}}Tn(Xq,t);const l={display:"flex",flexWrap:"nowrap",width:"100%",flexDirection:"row"},u={scrollTo:s},c=re(()=>{const{common:{cubicBezierEaseInOut:d},self:h}=o.value;return{"--n-bezier":d,"--n-color":t.embedded?h.colorEmbedded:h.color,"--n-text-color":h.textColor}}),f=a?Ea("layout",void 0,c,t):void 0;return Object.assign({mergedClsPrefix:i,scrollableElRef:e,scrollbarInstRef:n,hasSiderStyle:l,mergedTheme:o,cssVars:a?void 0:c,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender},u)},render(){var t;const{mergedClsPrefix:e,hasSider:n}=this;(t=this.onRender)===null||t===void 0||t.call(this);const i=n?this.hasSiderStyle:void 0,a=[this.themeClass,r&&`${e}-layout-content`,`${e}-layout`,`${e}-layout--${this.position}-positioned`];return R("div",{class:a,style:this.cssVars},this.nativeScrollbar?R("div",{ref:"scrollableElRef",class:`${e}-layout-scroll-container`,style:[this.contentStyle,i],onScroll:this.onScroll},this.$slots):R(ll,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentStyle:[this.contentStyle,i]}),this.$slots))}})}var Jot=i2e(!1),a2e=le("layout-sider",`
 flex-shrink: 0;
 box-sizing: border-box;
 position: relative;
 z-index: 1;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 min-width .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 display: flex;
 justify-content: flex-end;
`,[Ge("bordered",[Ae("border",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 width: 1px;
 background-color: var(--n-border-color);
 transition: background-color .3s var(--n-bezier);
 `)]),Ae("left-placement",[Ge("bordered",[Ae("border",`
 right: 0;
 `)])]),Ge("right-placement",`
 justify-content: flex-start;
 `,[Ge("bordered",[Ae("border",`
 left: 0;
 `)]),Ge("collapsed",[le("layout-toggle-button",[le("base-icon",`
 transform: rotate(180deg);
 `)]),le("layout-toggle-bar",[ke("&:hover",[Ae("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),Ae("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])])]),le("layout-toggle-button",`
 left: 0;
 transform: translateX(-50%) translateY(-50%);
 `,[le("base-icon",`
 transform: rotate(0);
 `)]),le("layout-toggle-bar",`
 left: -28px;
 transform: rotate(180deg);
 `,[ke("&:hover",[Ae("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),Ae("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})])])]),Ge("collapsed",[le("layout-toggle-bar",[ke("&:hover",[Ae("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),Ae("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])]),le("layout-toggle-button",[le("base-icon",`
 transform: rotate(0);
 `)])]),le("layout-toggle-button",`
 transition:
 color .3s var(--n-bezier),
 right .3s var(--n-bezier),
 left .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 cursor: pointer;
 width: 24px;
 height: 24px;
 position: absolute;
 top: 50%;
 right: 0;
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 font-size: 18px;
 color: var(--n-toggle-button-icon-color);
 border: var(--n-toggle-button-border);
 background-color: var(--n-toggle-button-color);
 box-shadow: 0 2px 4px 0px rgba(0, 0, 0, .06);
 transform: translateX(50%) translateY(-50%);
 z-index: 1;
 `,[le("base-icon",`
 transition: transform .3s var(--n-bezier);
 transform: rotate(180deg);
 `)]),le("layout-toggle-bar",`
 cursor: pointer;
 height: 72px;
 width: 32px;
 position: absolute;
 top: calc(50% - 36px);
 right: -28px;
 `,[Ae("top, bottom",`
 position: absolute;
 width: 4px;
 border-radius: 2px;
 height: 38px;
 left: 14px;
 transition: 
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),Ae("bottom",`
 position: absolute;
 top: 34px;
 `),ke("&:hover",[Ae("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),Ae("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})]),Ae("top, bottom",{backgroundColor:"var(--n-toggle-bar-color)"}),ke("&:hover",[Ae("top, bottom",{backgroundColor:"var(--n-toggle-bar-color-hover)"})])]),Ae("border",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 width: 1px;
 transition: background-color .3s var(--n-bezier);
 `),le("layout-sider-scroll-container",`
 flex-grow: 1;
 flex-shrink: 0;
 box-sizing: border-box;
 height: 100%;
 opacity: 0;
 transition: opacity .3s var(--n-bezier);
 max-width: 100%;
 `),Ge("show-content",[le("layout-sider-scroll-container",{opacity:1})]),Ge("absolute-positioned",`
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 `)]),o2e=It({name:"LayoutToggleButton",props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:r}=this;return R("div",{class:`${r}-layout-toggle-button`,onClick:this.onClick},R(Hi,{clsPrefix:r},{default:()=>R(JT,null)}))}}),s2e=It({props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:r}=this;return R("div",{onClick:this.onClick,class:`${r}-layout-toggle-bar`},R("div",{class:`${r}-layout-toggle-bar__top`}),R("div",{class:`${r}-layout-toggle-bar__bottom`}))}});const l2e={position:Yq,bordered:Boolean,collapsedWidth:{type:Number,default:48},width:{type:[Number,String],default:272},contentStyle:{type:[String,Object],default:""},collapseMode:{type:String,default:"transform"},collapsed:{type:Boolean,default:void 0},defaultCollapsed:Boolean,showCollapsedContent:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},nativeScrollbar:{type:Boolean,default:!0},inverted:Boolean,scrollbarProps:Object,triggerStyle:[String,Object],collapsedTriggerStyle:[String,Object],"onUpdate:collapsed":[Function,Array],onUpdateCollapsed:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,onExpand:[Function,Array],onCollapse:[Function,Array],onScroll:Function};var est=It({name:"LayoutSider",props:Object.assign(Object.assign({},wr.props),l2e),setup(r){const t=Sr(Xq),e=Re(null),n=Re(null),i=re(()=>va(l.value?r.collapsedWidth:r.width)),a=re(()=>r.collapseMode!=="transform"?{}:{minWidth:va(r.width)}),o=re(()=>t?t.siderPlacement:"left"),s=Re(r.defaultCollapsed),l=zi(tr(r,"collapsed"),s);function u(y,b){if(r.nativeScrollbar){const{value:w}=e;w&&(b===void 0?w.scrollTo(y):w.scrollTo(y,b))}else{const{value:w}=n;w&&w.scrollTo(y,b)}}function c(){const{"onUpdate:collapsed":y,onUpdateCollapsed:b,onExpand:w,onCollapse:S}=r,{value:E}=l;b&&Tt(b,!E),y&&Tt(y,!E),s.value=!E,E?w&&Tt(w):S&&Tt(S)}Tn(jq,{collapsedRef:l,collapseModeRef:tr(r,"collapseMode")});const{mergedClsPrefixRef:f,inlineThemeDisabled:d}=Bn(r),h=wr("Layout","-layout-sider",a2e,Vq,r,f);function v(y){var b,w;y.propertyName==="max-width"&&(l.value?(b=r.onAfterLeave)===null||b===void 0||b.call(r):(w=r.onAfterEnter)===null||w===void 0||w.call(r))}const p={scrollTo:u},g=re(()=>{const{common:{cubicBezierEaseInOut:y},self:b}=h.value,{siderToggleButtonColor:w,siderToggleButtonBorder:S,siderToggleBarColor:E,siderToggleBarColorHover:_}=b,A={"--n-bezier":y,"--n-toggle-button-color":w,"--n-toggle-button-border":S,"--n-toggle-bar-color":E,"--n-toggle-bar-color-hover":_};return r.inverted?(A["--n-color"]=b.siderColorInverted,A["--n-text-color"]=b.textColorInverted,A["--n-border-color"]=b.siderBorderColorInverted,A["--n-toggle-button-icon-color"]=b.siderToggleButtonIconColorInverted,A.__invertScrollbar=b.__invertScrollbar):(A["--n-color"]=b.siderColor,A["--n-text-color"]=b.textColor,A["--n-border-color"]=b.siderBorderColor,A["--n-toggle-button-icon-color"]=b.siderToggleButtonIconColor),A}),m=d?Ea("layout-sider",re(()=>r.inverted?"a":"b"),g,r):void 0;return Object.assign({scrollableElRef:e,scrollbarInstRef:n,mergedClsPrefix:f,mergedTheme:h,styleMaxWidth:i,mergedCollapsed:l,scrollContainerStyle:a,siderPlacement:o,handleTransitionend:v,handleTriggerClick:c,inlineThemeDisabled:d,cssVars:g,themeClass:m==null?void 0:m.themeClass,onRender:m==null?void 0:m.onRender},p)},render(){var r;const{mergedClsPrefix:t,mergedCollapsed:e,showTrigger:n}=this;return(r=this.onRender)===null||r===void 0||r.call(this),R("aside",{class:[`${t}-layout-sider`,this.themeClass,`${t}-layout-sider--${this.position}-positioned`,`${t}-layout-sider--${this.siderPlacement}-placement`,this.bordered&&`${t}-layout-sider--bordered`,e&&`${t}-layout-sider--collapsed`,(!e||this.showCollapsedContent)&&`${t}-layout-sider--show-content`],onTransitionend:this.handleTransitionend,style:[this.inlineThemeDisabled?void 0:this.cssVars,{maxWidth:this.styleMaxWidth,width:va(this.width)}]},this.nativeScrollbar?R("div",{class:`${t}-layout-sider-scroll-container`,onScroll:this.onScroll,style:[this.scrollContainerStyle,this.contentStyle,{overflow:"auto"}],ref:"scrollableElRef"},this.$slots):R(ll,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",style:this.scrollContainerStyle,contentStyle:this.contentStyle,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,builtinThemeOverrides:this.inverted&&this.cssVars.__invertScrollbar==="true"?{colorHover:"rgba(255, 255, 255, .4)",color:"rgba(255, 255, 255, .3)"}:void 0}),this.$slots),n?n==="bar"?R(s2e,{clsPrefix:t,style:e?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):R(o2e,{clsPrefix:t,style:e?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):null,this.bordered?R("div",{class:`${t}-layout-sider__border`}):null)}}),u2e=ke([le("list",`
 --n-merged-border-color: var(--n-border-color);
 --n-merged-color: var(--n-color)
 font-size: var(--n-font-size);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 padding: 0;
 list-style-type: none;
 color: var(--n-text-color);
 background-color: var(--n-merged-color);
 `,[Ge("bordered",`
 border-radius: var(--n-border-radius);
 border: 1px solid var(--n-merged-border-color);
 `,[le("list-item",`
 padding: 12px 20px;
 `,[ke("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)]),Ae("header, footer",`
 padding: 12px 20px;
 `,[ke("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)])]),Ae("header, footer",`
 padding: 12px 0;
 box-sizing: border-box;
 transition: border-color .3s var(--n-bezier);
 `,[ke("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)]),le("list-item",`
 padding: 12px 0; 
 box-sizing: border-box;
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition: border-color .3s var(--n-bezier);
 `,[Ae("prefix",`
 margin-right: 20px;
 flex: 0;
 `),Ae("suffix",`
 margin-left: 20px;
 flex: 0;
 `),Ae("main",`
 flex: 1;
 `),ke("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)])]),qw(le("list",`
 --merged-color: var(--n-color-modal);
 --merged-border-color: var(--n-border-color-modal);
 `)),YT(le("list",`
 --merged-color: var(--n-color-popover);
 --merged-border-color: var(--n-border-color-popover);
 `))]);const c2e=Object.assign(Object.assign({},wr.props),{size:{type:String,default:"medium"},bordered:{type:Boolean,default:!1}}),qq="n-list";var tst=It({name:"List",props:c2e,setup(r){const{mergedClsPrefixRef:t}=Bn(r),e=wr("List","-list",u2e,REe,r,t);return Tn(qq,{mergedClsPrefixRef:t}),{mergedClsPrefix:t,cssVars:re(()=>{const{common:{cubicBezierEaseInOut:n},self:{fontSize:i,textColor:a,color:o,colorModal:s,colorPopover:l,borderColor:u,borderColorModal:c,borderColorPopover:f,borderRadius:d}}=e.value;return{"--n-font-size":i,"--n-bezier":n,"--n-text-color":a,"--n-color":o,"--n-border-radius":d,"--n-border-color":u,"--n-border-color-modal":c,"--n-border-color-popover":f,"--n-color-modal":s,"--n-color-popover":l}})}},render(){var r;const{$slots:t,mergedClsPrefix:e}=this;return R("ul",{class:[`${e}-list`,this.bordered&&`${e}-list--bordered`],style:this.cssVars},t.header?R("div",{class:`${e}-list__header`},t.header()):null,(r=t.default)===null||r===void 0?void 0:r.call(t),t.footer?R("div",{class:`${e}-list__footer`},t.footer()):null)}}),rst=It({name:"ListItem",setup(){const r=Sr(qq,null);return r||U0("list-item","`n-list-item` must be placed in `n-list`."),{mergedClsPrefix:r.mergedClsPrefixRef}},render(){const{$slots:r,mergedClsPrefix:t}=this;return R("li",{class:`${t}-list-item`},r.prefix?R("div",{class:`${t}-list-item__prefix`},r.prefix()):null,r.default?R("div",{class:`${t}-list-item__main`},r):null,r.suffix?R("div",{class:`${t}-list-item__suffix`},r.suffix()):null)}});const rS="n-menu",nF="n-submenu",iF="n-menu-item-group",aE=8;function aF(r){const t=Sr(rS),{props:e,mergedCollapsedRef:n}=t,i=Sr(nF,null),a=Sr(iF,null),o=re(()=>e.mode==="horizontal"),s=re(()=>o.value?e.dropdownPlacement:"tmNodes"in r?"right-start":"right"),l=re(()=>{var d;return Math.max((d=e.collapsedIconSize)!==null&&d!==void 0?d:e.iconSize,e.iconSize)}),u=re(()=>{var d;return!o.value&&r.root&&n.value&&(d=e.collapsedIconSize)!==null&&d!==void 0?d:e.iconSize}),c=re(()=>{if(o.value)return;const{collapsedWidth:d,indent:h,rootIndent:v}=e,{root:p,isGroup:g}=r,m=v===void 0?h:v;if(p)return n.value?d/2-l.value/2:m;if(a)return h/2+a.paddingLeftRef.value;if(i)return(g?h/2:h)+i.paddingLeftRef.value}),f=re(()=>{const{collapsedWidth:d,indent:h,rootIndent:v}=e,{value:p}=l,{root:g}=r;return o.value||!g||!n.value?aE:(v===void 0?h:v)+p+aE-(d+p)/2});return{dropdownPlacement:s,activeIconSize:u,maxIconSize:l,paddingLeft:c,iconMarginRight:f,NMenu:t,NSubmenu:i}}const oF={internalKey:{type:[String,Number],required:!0},root:Boolean,isGroup:Boolean,level:{type:Number,required:!0},title:[String,Function],extra:[String,Function]},Kq=Object.assign(Object.assign({},oF),{tmNodes:{type:Array,required:!0}}),f2e=It({name:"MenuOptionGroup",props:Kq,setup(r){Tn(nF,null);const t=aF(r);Tn(iF,{paddingLeftRef:t.paddingLeft});const{mergedClsPrefixRef:e,props:n}=Sr(rS);return function(){const{value:i}=e,a=t.paddingLeft.value;return R("div",{class:`${i}-menu-item-group`,role:"group"},R("span",{class:`${i}-menu-item-group-title`,style:a!==void 0?`padding-left: ${a}px;`:void 0},Ti(r.title),r.extra?R(qi,null," ",Ti(r.extra)):null),R("div",null,r.tmNodes.map(o=>sF(o,n))))}}});var Zq=It({name:"MenuOptionContent",props:{collapsed:Boolean,disabled:Boolean,title:[String,Function],icon:Function,extra:[String,Function],showArrow:Boolean,childActive:Boolean,hover:Boolean,paddingLeft:Number,maxIconSize:{type:Number,required:!0},activeIconSize:{type:Number,required:!0},iconMarginRight:{type:Number,required:!0},clsPrefix:{type:String,required:!0},onClick:Function,tmNode:{type:Object,required:!0}},setup(r){const{props:t}=Sr(rS);return{menuProps:t,style:re(()=>{const{paddingLeft:e}=r;return{paddingLeft:e&&`${e}px`}}),iconStyle:re(()=>{const{maxIconSize:e,activeIconSize:n,iconMarginRight:i}=r;return{width:`${e}px`,height:`${e}px`,fontSize:`${n}px`,marginRight:`${i}px`}})}},render(){const{clsPrefix:r,tmNode:t,menuProps:{renderIcon:e,renderLabel:n,renderExtra:i,expandIcon:a}}=this,o=e?e(t.rawNode):Ti(this.icon);return R("div",{onClick:this.onClick,role:"none",class:[`${r}-menu-item-content`,{[`${r}-menu-item-content--collapsed`]:this.collapsed,[`${r}-menu-item-content--child-active`]:this.childActive,[`${r}-menu-item-content--disabled`]:this.disabled,[`${r}-menu-item-content--hover`]:this.hover}],style:this.style},o&&R("div",{class:`${r}-menu-item-content__icon`,style:this.iconStyle,role:"none"},[o]),R("div",{class:`${r}-menu-item-content-header`,role:"none"},n?n(t.rawNode):Ti(this.title),this.extra||i?R("span",{class:`${r}-menu-item-content-header__extra`}," ",i?i(t.rawNode):Ti(this.extra)):null),this.showArrow?R(Hi,{ariaHidden:!0,class:`${r}-menu-item-content__arrow`,clsPrefix:r},{default:()=>a?a(t.rawNode):R(f0e,null)}):null)}});const Qq=Object.assign(Object.assign({},oF),{rawNodes:{type:Array,default:()=>[]},tmNodes:{type:Array,default:()=>[]},tmNode:{type:Object,required:!0},disabled:{type:Boolean,default:!1},icon:Function,onClick:Function}),d2e=It({name:"Submenu",props:Qq,setup(r){const t=aF(r),{NMenu:e,NSubmenu:n}=t,{props:i,mergedCollapsedRef:a}=e,o=re(()=>{const{disabled:f}=r;return(n==null?void 0:n.mergedDisabledRef.value)||i.disabled?!0:f}),s=Re(!1);Tn(nF,{paddingLeftRef:t.paddingLeft,mergedDisabledRef:o}),Tn(iF,null);function l(){const{onClick:f}=r;f&&f()}function u(){o.value||(a.value||e.toggleExpand(r.internalKey),l())}function c(f){s.value=f}return{menuProps:i,doSelect:e.doSelect,inverted:e.invertedRef,isHorizontal:e.isHorizontalRef,mergedClsPrefix:e.mergedClsPrefixRef,maxIconSize:t.maxIconSize,activeIconSize:t.activeIconSize,iconMarginRight:t.iconMarginRight,dropdownPlacement:t.dropdownPlacement,dropdownShow:s,paddingLeft:t.paddingLeft,mergedDisabled:o,mergedValue:e.mergedValueRef,childActive:Kn(()=>e.activePathRef.value.includes(r.internalKey)),collapsed:re(()=>i.mode==="horizontal"?!1:a.value?!0:!e.mergedExpandedKeysRef.value.includes(r.internalKey)),dropdownEnabled:re(()=>!o.value&&(i.mode==="horizontal"||a.value)),handlePopoverShowChange:c,handleClick:u}},render(){var r;const{mergedClsPrefix:t,menuProps:{renderIcon:e,renderLabel:n}}=this,i=()=>{const{isHorizontal:o,paddingLeft:s,collapsed:l,mergedDisabled:u,maxIconSize:c,activeIconSize:f,title:d,childActive:h,icon:v,handleClick:p,dropdownShow:g,iconMarginRight:m,tmNode:y}=this;return R(Zq,{tmNode:y,paddingLeft:s,collapsed:l,disabled:u,iconMarginRight:m,maxIconSize:c,activeIconSize:f,title:d,showArrow:!o,childActive:h,clsPrefix:t,icon:v,hover:g,onClick:p})},a=()=>R(iA,null,{default:()=>{const{tmNodes:o,collapsed:s}=this;return s?null:R("div",{class:`${t}-submenu-children`,role:"menu"},o.map(l=>sF(l,this.menuProps)))}});return this.root?R(Tq,Object.assign({},(r=this.menuProps)===null||r===void 0?void 0:r.dropdownProps,{builtinThemeOverrides:{fontSizeLarge:"14px",optionIconSizeLarge:"18px"},value:this.mergedValue,size:"large",trigger:"hover",disabled:!this.dropdownEnabled,placement:this.dropdownPlacement,keyField:this.menuProps.keyField,labelField:this.menuProps.labelField,childrenField:this.menuProps.childrenField,onUpdateShow:this.handlePopoverShowChange,options:this.rawNodes,onSelect:this.doSelect,inverted:this.inverted,renderIcon:e,renderLabel:n}),{default:()=>R("div",{class:`${t}-submenu`,role:"menuitem","aria-expanded":!this.collapsed},i(),this.isHorizontal?null:a())}):R("div",{class:`${t}-submenu`,role:"menuitem","aria-expanded":!this.collapsed},i(),a())}}),Jq=Object.assign(Object.assign({},oF),{tmNode:{type:Object,required:!0},disabled:Boolean,icon:Function,onClick:Function}),h2e=It({name:"MenuOption",props:Jq,setup(r){const t=aF(r),{NSubmenu:e,NMenu:n}=t,{props:i,mergedClsPrefixRef:a,mergedCollapsedRef:o}=n,s=e?e.mergedDisabledRef:{value:!1},l=re(()=>s.value||r.disabled);function u(f){const{onClick:d}=r;d&&d(f)}function c(f){l.value||(n.doSelect(r.internalKey,r.tmNode.rawNode),u(f))}return{mergedClsPrefix:a,dropdownPlacement:t.dropdownPlacement,paddingLeft:t.paddingLeft,iconMarginRight:t.iconMarginRight,maxIconSize:t.maxIconSize,activeIconSize:t.activeIconSize,mergedTheme:n.mergedThemeRef,menuProps:i,dropdownEnabled:Kn(()=>r.root&&o.value&&i.mode!=="horizontal"&&!l.value),selected:re(()=>n.mergedValueRef.value===r.internalKey),mergedDisabled:l,handleClick:c}},render(){const{mergedClsPrefix:r,mergedTheme:t,tmNode:e,menuProps:{renderLabel:n}}=this;return R("div",{role:"menuitem",class:[`${r}-menu-item`,this.selected&&`${r}-menu-item--selected`,this.mergedDisabled&&`${r}-menu-item--disabled`]},R(gq,{theme:t.peers.Tooltip,themeOverrides:t.peerOverrides.Tooltip,trigger:"hover",placement:this.dropdownPlacement,disabled:!this.dropdownEnabled||this.title===void 0,internalExtraClass:["menu-tooltip"]},{default:()=>n?n(e.rawNode):Ti(this.title),trigger:()=>R(Zq,{tmNode:e,clsPrefix:r,paddingLeft:this.paddingLeft,iconMarginRight:this.iconMarginRight,maxIconSize:this.maxIconSize,activeIconSize:this.activeIconSize,title:this.title,extra:this.extra,disabled:this.mergedDisabled,icon:this.icon,onClick:this.handleClick})}))}});var v2e=It({name:"MenuDivider",setup(){const r=Sr(rS),{mergedClsPrefixRef:t,isHorizontalRef:e}=r;return()=>e.value?null:R("div",{class:`${t.value}-menu-divider`})}});const p2e=Td(Kq),g2e=Td(Jq),m2e=Td(Qq);function y2e(r){return r.type==="divider"||r.type==="render"}function b2e(r){return r.type==="divider"}function sF(r,t){const{rawNode:e}=r;if(y2e(e))return b2e(e)?R(v2e,Object.assign({key:r.key},e.props)):void 0;const{labelField:n}=t,{key:i,level:a,isGroup:o}=r,s=Object.assign(Object.assign({},e),{title:e.title||e[n],extra:e.titleExtra||e.extra,key:i,internalKey:i,level:a,root:a===0,isGroup:o});return r.children?r.isGroup?R(f2e,Kc(s,p2e,{tmNodes:r.children,key:i})):R(d2e,Kc(s,m2e,{key:i,rawNodes:e[t.childrenField],tmNodes:r.children,tmNode:r})):R(h2e,Kc(s,g2e,{key:i,tmNode:r}))}var x2e=ke([le("menu",`
 background-color: var(--n-color);
 color: var(--n-item-text-color);
 overflow: hidden;
 transition: background-color .3s var(--n-bezier);
 box-sizing: border-box;
 font-size: var(--n-font-size);
 padding-bottom: 6px;
 `,[Ge("horizontal",{display:"inline-flex",paddingBottom:0},[le("submenu",{margin:0}),le("menu-item",{margin:0},[ke("&::before",{backgroundColor:"#0000 !important"}),Ge("selected",[le("menu-item-content",{borderBottom:"2px solid var(--n-border-color-horizontal)"})])]),le("menu-item-content",{padding:"0 20px",borderBottom:"2px solid #0000"},[Ge("child-active",{borderBottom:"2px solid var(--n-border-color-horizontal)"}),Nn("disabled",[e4({borderBottom:"2px solid var(--n-border-color-horizontal)"},null)])])]),Ge("collapsed",[le("menu-item",[Ge("selected",[ke("&::before",{backgroundColor:"var(--n-item-color-active-collapsed) !important"})])]),le("menu-item-content",[le("menu-item-content-header",{opacity:0}),Ae("arrow",{opacity:0}),Ae("icon",{color:"var(--n-item-icon-color-collapsed)"})])]),le("menu-item",`
 transition: background-color .3s var(--n-bezier);
 height: var(--n-item-height);
 margin-top: 6px;
 position: relative;
 `,[ke("&::before",`
 z-index: auto;
 content: "";
 background-color: #0000;
 position: absolute;
 left: 8px;
 right: 8px;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),Nn("disabled",[ke("&:active::before",{backgroundColor:"var(--n-item-color-active)"})]),Ge("selected",[ke("&::before",{backgroundColor:"var(--n-item-color-active)"}),le("menu-item-content",[Ae("arrow",{color:"var(--n-arrow-color-active)"}),Ae("icon",{color:"var(--n-item-icon-color-active)"}),le("menu-item-content-header",{color:"var(--n-item-text-color-active)"},[Ae("extra",{color:"var(--n-item-text-color-active)"})])])])]),le("menu-item-content",`
 box-sizing: border-box;
 line-height: 1.75;
 height: 100%;
 display: grid;
 grid-template-areas: "icon content arrow";
 grid-template-columns: auto 1fr auto;
 align-items: center;
 cursor: pointer;
 position: relative;
 z-index: auto;
 padding-right: 18px;
 transition:
 background-color .3s var(--n-bezier),
 padding-left .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[Ge("disabled",{opacity:".45",cursor:"not-allowed"}),Ge("collapsed",[Ae("arrow",{transform:"rotate(0)"})]),Ge("child-active",[le("menu-item-content-header",{color:"var(--n-item-text-color-child-active)"},[Ae("extra",{color:"var(--n-item-text-color-child-active)"})]),Ae("arrow",{color:"var(--n-arrow-color-child-active)"}),Ae("icon",{color:"var(--n-item-icon-color-child-active)"})]),Nn("disabled",[e4(null,[Ae("arrow",{color:"var(--n-arrow-color-hover)"}),Ae("icon",{color:"var(--n-item-icon-color-hover)"}),le("menu-item-content-header",{color:"var(--n-item-text-color-hover)"},[Ae("extra",{color:"var(--n-item-text-color-hover)"})])])]),Ae("icon",`
 grid-area: icon;
 color: var(--n-item-icon-color);
 transition:
 color .3s var(--n-bezier),
 font-size .3s var(--n-bezier),
 margin-right .3s var(--n-bezier);
 box-sizing: content-box;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 `),Ae("arrow",`
 grid-area: arrow;
 font-size: 16px;
 color: var(--n-arrow-color);
 transform: rotate(180deg);
 opacity: 1;
 transition:
 color .3s var(--n-bezier),
 transform 0.2s var(--n-bezier),
 opacity 0.2s var(--n-bezier);
 `),le("menu-item-content-header",`
 grid-area: content;
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 opacity: 1;
 white-space: nowrap;
 overflow: hidden;
 text-overflow: ellipsis;
 color: var(--n-item-text-color);
 `,[ke("a",`
 text-decoration: none;
 color: inherit;
 `,[ke("&::before",`
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),Ae("extra",`
 font-size: .93em;
 color: var(--n-group-text-color);
 transition: color .3s var(--n-bezier);
 `)])]),le("submenu",{cursor:"pointer",position:"relative",marginTop:"6px"},[le("menu-item-content",`
 height: var(--n-item-height);
 `),le("submenu-children",{overflow:"hidden",padding:0},[E_({duration:".2s"})])]),le("menu-item-group",[le("menu-item-group-title",`
 margin-top: 6px;
 color: var(--n-group-text-color);
 cursor: default;
 font-size: .93em;
 height: 36px;
 display: flex;
 align-items: center;
 transition:
 padding-left .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)])]),le("menu-tooltip",[ke("a",`
 color: inherit;
 text-decoration: none;
 `)]),le("menu-divider",`
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-divider-color);
 height: 1px;
 margin: 6px 18px;
 `)]);function e4(r,t){return[Ge("hover",r,t),ke("&:hover",r,t)]}const w2e=Object.assign(Object.assign({},wr.props),{options:{type:Array,default:()=>[]},collapsed:{type:Boolean,default:void 0},collapsedWidth:{type:Number,default:48},iconSize:{type:Number,default:20},collapsedIconSize:{type:Number,default:24},rootIndent:Number,indent:{type:Number,default:32},labelField:{type:String,default:"label"},keyField:{type:String,default:"key"},childrenField:{type:String,default:"children"},defaultExpandAll:Boolean,defaultExpandedKeys:Array,expandedKeys:Array,value:[String,Number],defaultValue:{type:[String,Number],default:null},mode:{type:String,default:"vertical"},watchProps:{type:Array,default:void 0},disabled:Boolean,inverted:Boolean,"onUpdate:expandedKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],onUpdateValue:[Function,Array],"onUpdate:value":[Function,Array],expandIcon:Function,renderIcon:Function,renderLabel:Function,renderExtra:Function,dropdownPlacement:{type:String,default:"bottom"},dropdownProps:Object,accordion:Boolean,items:Array,onOpenNamesChange:[Function,Array],onSelect:[Function,Array],onExpandedNamesChange:[Function,Array],expandedNames:Array,defaultExpandedNames:Array});var nst=It({name:"Menu",props:w2e,setup(r){const{mergedClsPrefixRef:t,inlineThemeDisabled:e}=Bn(r),n=wr("Menu","-menu",x2e,FEe,r,t),i=Sr(jq,null),a=re(()=>{var _;const{collapsed:A}=r;if(A!==void 0)return A;if(i){const{collapseModeRef:k,collapsedRef:T}=i;if(k.value==="width")return(_=T.value)!==null&&_!==void 0?_:!1}return!1}),o=re(()=>{const{keyField:_,childrenField:A}=r;return Cg(r.items||r.options,{getChildren(k){return k[A]},getKey(k){var T;return(T=k[_])!==null&&T!==void 0?T:k.name}})}),s=re(()=>new Set(o.value.treeNodes.map(_=>_.key))),{watchProps:l}=r,u=Re(null);(l==null?void 0:l.includes("defaultValue"))?Go(()=>{u.value=r.defaultValue}):u.value=r.defaultValue;const c=tr(r,"value"),f=zi(c,u),d=Re([]),h=()=>{d.value=r.defaultExpandAll?o.value.getNonLeafKeys():r.defaultExpandedNames||r.defaultExpandedKeys||o.value.getPath(f.value,{includeSelf:!1}).keyPath};(l==null?void 0:l.includes("defaultExpandedKeys"))?Go(h):h();const v=XT(r,["expandedNames","expandedKeys"]),p=zi(v,d),g=re(()=>o.value.treeNodes),m=re(()=>o.value.getPath(f.value).keyPath);Tn(rS,{props:r,mergedCollapsedRef:a,mergedThemeRef:n,mergedValueRef:f,mergedExpandedKeysRef:p,activePathRef:m,mergedClsPrefixRef:t,isHorizontalRef:re(()=>r.mode==="horizontal"),invertedRef:tr(r,"inverted"),doSelect:y,toggleExpand:w});function y(_,A){const{"onUpdate:value":k,onUpdateValue:T,onSelect:I}=r;T&&Tt(T,_,A),k&&Tt(k,_,A),I&&Tt(I,_,A),u.value=_}function b(_){const{"onUpdate:expandedKeys":A,onUpdateExpandedKeys:k,onExpandedNamesChange:T,onOpenNamesChange:I}=r;A&&Tt(A,_),k&&Tt(k,_),T&&Tt(T,_),I&&Tt(I,_),d.value=_}function w(_){const A=Array.from(p.value),k=A.findIndex(T=>T===_);if(~k)A.splice(k,1);else{if(r.accordion&&s.value.has(_)){const T=A.findIndex(I=>s.value.has(I));T>-1&&A.splice(T,1)}A.push(_)}b(A)}const S=re(()=>{const{inverted:_}=r,{common:{cubicBezierEaseInOut:A},self:k}=n.value,{borderRadius:T,borderColorHorizontal:I,fontSize:D,itemHeight:O,dividerColor:B}=k,U={"--n-divider-color":B,"--n-bezier":A,"--n-font-size":D,"--n-border-color-horizontal":I,"--n-border-radius":T,"--n-item-height":O};return _?(U["--n-group-text-color"]=k.groupTextColorInverted,U["--n-color"]=k.colorInverted,U["--n-item-text-color"]=k.itemTextColorInverted,U["--n-arrow-color"]=k.arrowColorInverted,U["--n-arrow-color-hover"]=k.arrowColorHoverInverted,U["--n-arrow-color-active"]=k.arrowColorActiveInverted,U["--n-arrow-color-child-active"]=k.arrowColorChildActiveInverted,U["--n-item-icon-color"]=k.itemIconColorInverted,U["--n-item-text-color-hover"]=k.itemTextColorHoverInverted,U["--n-item-icon-color-hover"]=k.itemIconColorHoverInverted,U["--n-item-text-color-active"]=k.itemTextColorActiveInverted,U["--n-item-icon-color-active"]=k.itemIconColorActiveInverted,U["--n-item-icon-color-collapsed"]=k.itemIconColorCollapsedInverted,U["--n-item-color-active"]=k.itemColorActiveInverted,U["--n-item-color-active-collapsed"]=k.itemColorActiveCollapsedInverted,U["--n-item-text-color-child-active"]=k.itemTextColorChildActiveInverted,U["--n-item-icon-color-child-active"]=k.itemIconColorChildActiveInverted):(U["--n-group-text-color"]=k.groupTextColor,U["--n-color"]=k.color,U["--n-item-text-color"]=k.itemTextColor,U["--n-arrow-color"]=k.arrowColor,U["--n-arrow-color-hover"]=k.arrowColorHover,U["--n-arrow-color-active"]=k.arrowColorActive,U["--n-arrow-color-child-active"]=k.arrowColorChildActive,U["--n-item-icon-color"]=k.itemIconColor,U["--n-item-text-color-hover"]=k.itemTextColorHover,U["--n-item-icon-color-hover"]=k.itemIconColorHover,U["--n-item-text-color-active"]=k.itemTextColorActive,U["--n-item-icon-color-active"]=k.itemIconColorActive,U["--n-item-icon-color-collapsed"]=k.itemIconColorCollapsed,U["--n-item-color-active"]=k.itemColorActive,U["--n-item-color-active-collapsed"]=k.itemColorActiveCollapsed,U["--n-item-text-color-child-active"]=k.itemTextColorChildActive,U["--n-item-icon-color-child-active"]=k.itemIconColorChildActive),U}),E=e?Ea("menu",re(()=>r.inverted?"a":"b"),S,r):void 0;return{mergedClsPrefix:t,controlledExpandedKeys:v,uncontrolledExpanededKeys:d,mergedExpandedKeys:p,uncontrolledValue:u,mergedValue:f,activePath:m,tmNodes:g,mergedTheme:n,mergedCollapsed:a,cssVars:e?void 0:S,themeClass:E==null?void 0:E.themeClass,onRender:E==null?void 0:E.onRender}},render(){const{mergedClsPrefix:r,mode:t,themeClass:e,onRender:n}=this;return n==null||n(),R("div",{role:t==="horizontal"?"menubar":"menu",class:[`${r}-menu`,e,`${r}-menu--${t}`,this.mergedCollapsed&&`${r}-menu--collapsed`],style:this.cssVars},this.tmNodes.map(i=>sF(i,this.$props)))}});const lF="n-notification-provider",S2e=It({name:"NotificationContainer",props:{scrollable:{type:Boolean,required:!0},placement:{type:String,required:!0}},setup(){const{mergedThemeRef:r,mergedClsPrefixRef:t}=Sr(lF);return{mergedTheme:r,mergedClsPrefix:t}},render(){const{$slots:r,scrollable:t,mergedClsPrefix:e,mergedTheme:n,placement:i}=this;return R("div",{class:[`${e}-notification-container`,t&&`${e}-notification-container--scrollable`,`${e}-notification-container--${i}`]},t?R(ll,{theme:n.peers.Scrollbar,themeOverrides:n.peerOverrides.Scrollbar},r):r)}}),C2e={info:R(tA,null),success:R(rA,null),warning:R(nA,null),error:R(eA,null),default:null},uF={closable:{type:Boolean,default:!0},type:{type:String,default:"default"},avatar:Function,title:[String,Function],description:[String,Function],content:[String,Function],meta:[String,Function],action:[String,Function],onClose:{type:Function,required:!0}},E2e=Td(uF),_2e=It({name:"Notification",props:uF,setup(r){const{mergedClsPrefixRef:t,mergedThemeRef:e}=Sr(lF);return{mergedClsPrefix:t,showAvatar:re(()=>r.avatar||r.type!=="default"),handleCloseClick(){r.onClose()},cssVars:re(()=>{const{type:n}=r,{self:{color:i,textColor:a,closeColor:o,closeColorHover:s,closeColorPressed:l,headerTextColor:u,descriptionTextColor:c,actionTextColor:f,borderRadius:d,headerFontWeight:h,boxShadow:v,lineHeight:p,fontSize:g,closeMargin:m,closeSize:y,width:b,padding:w,[lr("iconColor",n)]:S},common:{cubicBezierEaseOut:E,cubicBezierEaseIn:_,cubicBezierEaseInOut:A}}=e.value,{left:k,right:T,top:I,bottom:D}=l0(w);return{"--n-color":i,"--n-font-size":g,"--n-text-color":a,"--n-description-text-color":c,"--n-action-text-color":f,"--n-title-text-color":u,"--n-title-font-weight":h,"--n-bezier":A,"--n-bezier-ease-out":E,"--n-bezier-ease-in":_,"--n-border-radius":d,"--n-box-shadow":v,"--n-close-color":o,"--n-close-color-hover":s,"--n-close-color-pressed":l,"--n-line-height":p,"--n-icon-color":S,"--n-close-margin":m,"--n-close-size":y,"--n-width":b,"--n-padding-left":k,"--n-padding-right":T,"--n-padding-top":I,"--n-padding-bottom":D}})}},render(){const{mergedClsPrefix:r}=this;return R("div",{class:[`${r}-notification`,{[`${r}-notification--closable`]:this.closable,[`${r}-notification--show-avatar`]:this.showAvatar}],style:this.cssVars},this.showAvatar?R("div",{class:`${r}-notification__avatar`},this.avatar?Ti(this.avatar):this.type!=="default"?R(Hi,{clsPrefix:r},{default:()=>C2e[this.type]}):null):null,this.closable?R(aA,{clsPrefix:r,class:`${r}-notification__close`,onClick:this.handleCloseClick}):null,R("div",{ref:"bodyRef",class:`${r}-notification-main`},this.title?R("div",{class:`${r}-notification-main__header`},Ti(this.title)):null,this.description?R("div",{class:`${r}-notification-main__description`},Ti(this.description)):null,this.content?R("pre",{class:`${r}-notification-main__content`},Ti(this.content)):null,this.meta||this.action?R("div",{class:`${r}-notification-main-footer`},this.meta?R("div",{class:`${r}-notification-main-footer__meta`},Ti(this.meta)):null,this.action?R("div",{class:`${r}-notification-main-footer__action`},Ti(this.action)):null):null))}}),T2e=Object.assign(Object.assign({},uF),{duration:Number,onClose:Function,onLeave:Function,onAfterEnter:Function,onAfterLeave:Function,onHide:Function,onAfterShow:Function,onAfterHide:Function}),A2e=It({name:"NotificationEnvironment",props:Object.assign(Object.assign({},T2e),{internalKey:{type:String,required:!0},onInternalAfterLeave:{type:Function,required:!0}}),setup(r){const t=Re(!0);let e=null;function n(){t.value=!1,e&&window.clearTimeout(e)}function i(c){Ja(()=>{c.style.height=`${c.offsetHeight}px`,c.style.maxHeight="0",c.style.transition="none",c.offsetHeight,c.style.transition="",c.style.maxHeight=c.style.height})}function a(c){c.style.height="",c.style.maxHeight="";const{onAfterEnter:f,onAfterShow:d}=r;f&&f(),d&&d()}function o(c){c.style.maxHeight=`${c.offsetHeight}px`,c.style.height=`${c.offsetHeight}px`,c.offsetHeight}function s(c){const{onHide:f}=r;f&&f(),c.style.maxHeight="0",c.offsetHeight}function l(){const{onAfterLeave:c,onInternalAfterLeave:f,onAfterHide:d,internalKey:h}=r;c&&c(),f(h),d&&d()}function u(){const{onClose:c}=r;c?Promise.resolve(c()).then(f=>{f!==!1&&n()}):n()}return Io(()=>{r.duration&&(e=window.setTimeout(n,r.duration))}),{show:t,hide:n,handleClose:u,handleAfterLeave:l,handleLeave:s,handleBeforeLeave:o,handleAfterEnter:a,handleBeforeEnter:i}},render(){return R(uo,{name:"notification-transition",appear:!0,onBeforeEnter:this.handleBeforeEnter,onAfterEnter:this.handleAfterEnter,onBeforeLeave:this.handleBeforeLeave,onLeave:this.handleLeave,onAfterLeave:this.handleAfterLeave},{default:()=>this.show?R(_2e,Object.assign({},Kc(this.$props,E2e),{onClose:this.handleClose})):null})}});var k2e=ke([le("notification-container",`
 z-index: 4000;
 position: fixed;
 overflow: visible;
 display: flex;
 flex-direction: column;
 align-items: flex-end;
 `,[ke(">",[le("scrollbar",`
 width: initial;
 overflow: visible;
 height: -moz-fit-content !important;
 height: fit-content !important;
 max-height: 100vh !important;
 `,[ke(">",[le("scrollbar-container",`
 height: -moz-fit-content !important;
 height: fit-content !important;
 max-height: 100vh !important;
 `,[le("scrollbar-content",`
 padding-top: 12px;
 padding-bottom: 33px;
 `)])])])]),Ge("top-right, bottom-right",[le("notification",`
 margin-left: 28px;
 margin-right: 16px;
 `)]),Ge("top-left, bottom-left",[le("notification",`
 margin-left: 16px;
 margin-right: 28px;
 `)]),Ge("top-right",`
 right: 0;
 top: 12px;
 `,[oE("top-right")]),Ge("top-left",`
 left: 0;
 top: 12px;
 `,[oE("top-left")]),Ge("bottom-right",`
 right: 0;
 bottom: 12px;
 `,[oE("bottom-right")]),Ge("bottom-left",`
 left: 0;
 bottom: 12px;
 `,[oE("bottom-left")]),Ge("scrollable",[Ge("top-right",`
 top: 0;
 `),Ge("top-left",`
 top: 0;
 `),Ge("bottom-right",`
 bottom: 0;
 `),Ge("bottom-left",`
 bottom: 0;
 `)]),le("notification",[ke("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 opacity: 0;
 margin-bottom: 0 !important;
 `),ke("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 opacity: 1;
 `),ke("&.notification-transition-leave-active",`
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier-ease-in),
 max-height .3s var(--n-bezier),
 margin-bottom .3s linear,
 box-shadow .3s var(--n-bezier);
 `)]),le("notification",`
 background-color: var(--n-color);
 color: var(--n-text-color);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier-ease-out),
 max-height .3s var(--n-bezier),
 margin-bottom .3s linear,
 box-shadow .3s var(--n-bezier);
 font-family: inherit;
 font-size: var(--n-font-size);
 font-weight: 400;
 position: relative;
 display: flex;
 overflow: hidden;
 flex-shrink: 0;
 margin-bottom: 12px;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 width: var(--n-width);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 box-sizing: border-box;
 opacity: 1;
 `,[Ae("avatar",[le("icon",{color:"var(--n-icon-color)"}),le("base-icon",{color:"var(--n-icon-color)"})]),Ge("show-avatar",[le("notification-main",`
 margin-left: 40px;
 width: calc(100% - 40px); 
 `)]),Ge("closable",[le("notification-main",[ke("> *:first-child",{paddingRight:"20px"})]),Ae("close",`
 position: absolute;
 top: 0;
 right: 0;
 margin: var(--n-close-margin);
 font-size: var(--n-close-size);
 transition: color .3s var(--n-bezier);
 `)]),Ae("avatar",`
 position: absolute;
 top: var(--n-padding-top);
 left: var(--n-padding-left);
 width: 28px;
 height: 28px;
 font-size: 28px;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[le("icon",{transition:"color .3s var(--n-bezier)"})]),le("notification-main",`
 padding-top: var(--n-padding-top);
 padding-bottom: var(--n-padding-bottom);
 box-sizing: border-box;
 display: flex;
 flex-direction: column;
 margin-left: 8px;
 width: calc(100% - 8px);
 `,[le("notification-main-footer",`
 display: flex;
 align-items: center;
 justify-content: space-between;
 margin-top: 12px;
 `,[Ae("meta",`
 font-size: 12px;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-description-text-color);
 `),Ae("action",`
 cursor: pointer;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-action-text-color);
 `)]),Ae("header",`
 font-weight: var(--n-title-font-weight);
 font-size: 16px;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-title-text-color);
 `),Ae("description",`
 margin-top: 8px;
 font-size: 12px;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-description-text-color);
 `),Ae("content",`
 line-height: var(--n-line-height);
 margin: 12px 0 0 0;
 font-family: inherit;
 white-space: pre-wrap;
 word-wrap: break-word;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-text-color);
 `,[ke("&:first-child",{margin:0})])])])])]);function oE(r){const e=r.split("-")[1]==="left"?"calc(-100%)":"calc(100%)",n="0";return le("notification",[ke("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 transform: translate(${e}, 0);
 `),ke("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 transform: translate(${n}, 0);
 `)])}const eK="n-notification-api",M2e=Object.assign(Object.assign({},wr.props),{containerStyle:[String,Object],to:[String,Object],scrollable:{type:Boolean,default:!0},max:Number,placement:{type:String,default:"top-right"}});var ist=It({name:"NotificationProvider",props:M2e,setup(r){const{mergedClsPrefixRef:t}=Bn(r),e=Re([]),n={},i=new Set;function a(d){const h=gv(),v=()=>{i.add(h),n[h]&&n[h].hide()},p=kv(Object.assign(Object.assign({},d),{key:h,destroy:v,hide:v,deactivate:v})),{max:g}=r;if(g&&e.value.length-i.size>=g){let m=!1,y=0;for(const b of e.value){if(!i.has(b.key)){n[b.key]&&(b.destroy(),m=!0);break}y++}m||e.value.splice(y,1)}return e.value.push(p),p}const o=["info","success","warning","error"].map(d=>h=>a(Object.assign(Object.assign({},h),{type:d})));function s(d){i.delete(d),e.value.splice(e.value.findIndex(h=>h.key===d),1)}const l=wr("Notification","-notification",k2e,$Ee,r,t),u={create:a,info:o[0],success:o[1],warning:o[2],error:o[3],open:c,destroyAll:f};Tn(eK,u),Tn(lF,{mergedClsPrefixRef:t,mergedThemeRef:l});function c(d){return a(d)}function f(){Object.values(e.value).forEach(d=>{d.hide()})}return Object.assign({mergedClsPrefix:t,notificationList:e,notificationRefs:n,handleAfterLeave:s},u)},render(){var r,t,e;return R(qi,null,(t=(r=this.$slots).default)===null||t===void 0?void 0:t.call(r),this.notificationList.length?R(Jj,{to:(e=this.to)!==null&&e!==void 0?e:"body"},R(S2e,{style:this.containerStyle,scrollable:this.scrollable,placement:this.placement},{default:()=>this.notificationList.map(n=>R(A2e,Object.assign({ref:i=>{const a=n.key;i===null?delete this.notificationRefs[a]:this.notificationRefs[a]=i}},PY(n,["destroy","hide","deactivate"]),{internalKey:n.key,onInternalAfterLeave:this.handleAfterLeave})))})):null)}});function ast(){const r=Sr(eK,null);return r===null&&U0("use-notification","No outer `n-notification-provider` found."),r}var I2e=ke([le("progress",{display:"inline-block"},[le("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),Ge("line",`
 width: 100%;
 display: block;
 `,[le("progress-content",`
 display: flex;
 align-items: center;
 `,[le("progress-graph",{flex:1})]),le("progress-custom-content",{marginLeft:"14px"}),le("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[Ge("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),Ge("circle, dashboard",{width:"120px"},[le("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),le("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),le("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),Ge("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[le("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),le("progress-content",{position:"relative"}),le("progress-graph",{position:"relative"},[le("progress-graph-circle",[ke("svg",{verticalAlign:"bottom"}),le("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[Ge("empty",{opacity:0})]),le("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),le("progress-graph-line",[Ge("indicator-inside",[le("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[le("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),le("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),Ge("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[le("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),le("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),le("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[le("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[Ge("processing",[ke("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),ke("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]);const P2e={success:R(rA,null),error:R(eA,null),warning:R(nA,null),info:R(tA,null)};var R2e=It({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:String,status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(r,{slots:t}){const e=re(()=>va(r.height)),n=re(()=>r.railBorderRadius!==void 0?va(r.railBorderRadius):r.height!==void 0?va(r.height,{c:.5}):""),i=re(()=>r.fillBorderRadius!==void 0?va(r.fillBorderRadius):r.railBorderRadius!==void 0?va(r.railBorderRadius):r.height!==void 0?va(r.height,{c:.5}):"");return()=>{const{indicatorPlacement:a,railColor:o,railStyle:s,percentage:l,unit:u,indicatorTextColor:c,status:f,showIndicator:d,fillColor:h,processing:v,clsPrefix:p}=r;return R("div",{class:`${p}-progress-content`,role:"none"},R("div",{class:`${p}-progress-graph`,"aria-hidden":!0},R("div",{class:[`${p}-progress-graph-line`,{[`${p}-progress-graph-line--indicator-${a}`]:!0}]},R("div",{class:`${p}-progress-graph-line-rail`,style:[{backgroundColor:o,height:e.value,borderRadius:n.value},s]},R("div",{class:[`${p}-progress-graph-line-fill`,v&&`${p}-progress-graph-line-fill--processing`],style:{maxWidth:`${r.percentage}%`,backgroundColor:h,height:e.value,lineHeight:e.value,borderRadius:i.value}},a==="inside"?R("div",{class:`${p}-progress-graph-line-indicator`},l,u):null)))),d&&a==="outside"?R("div",null,t.default?R("div",{class:`${p}-progress-custom-content`,style:{color:c},role:"none"},t.default()):f==="default"?R("div",{role:"none",class:`${p}-progress-icon ${p}-progress-icon--as-text`,style:{color:c}},l,u):R("div",{class:`${p}-progress-icon`,"aria-hidden":!0},R(Hi,{clsPrefix:p},{default:()=>P2e[f]}))):null)}}});const D2e={success:R(rA,null),error:R(eA,null),warning:R(nA,null),info:R(tA,null)};var O2e=It({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:String,railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(r,{slots:t}){function e(n,i,a){const{gapDegree:o,viewBoxWidth:s}=r,l=50,u=0,c=l,f=0,d=2*l,h=`M 55,55 m ${u},${c}
      a ${l},${l} 0 1 1 ${f},${-d}
      a ${l},${l} 0 1 1 ${-f},${d}`,v=Math.PI*2*l,p={stroke:a,strokeDasharray:`${n/100*(v-o)}px ${s*8}px`,strokeDashoffset:`-${o/2+Math.PI/3.6*i}px`};return{pathString:h,pathStyle:p}}return()=>{const{fillColor:n,railColor:i,strokeWidth:a,offsetDegree:o,status:s,percentage:l,showIndicator:u,indicatorTextColor:c,unit:f,gapOffsetDegree:d,clsPrefix:h}=r,{pathString:v,pathStyle:p}=e(100,0,i),{pathString:g,pathStyle:m}=e(l,o,n);return R("div",{class:`${h}-progress-content`,role:"none"},R("div",{class:`${h}-progress-graph`,"aria-hidden":!0},R("div",{class:`${h}-progress-graph-circle`,style:{transform:d?`rotate(${d}deg)`:void 0}},R("svg",{viewBox:"0 0 110 110"},R("g",null,R("path",{class:`${h}-progress-graph-circle-rail`,d:v,"stroke-width":a,"stroke-linecap":"round",fill:"none",style:p})),R("g",null,R("path",{class:[`${h}-progress-graph-circle-fill`,l===0&&`${h}-progress-graph-circle-fill--empty`],d:g,"stroke-width":a,"stroke-linecap":"round",fill:"none",style:m}))))),u?R("div",null,t.default?R("div",{class:`${h}-progress-custom-content`,role:"none"},t.default()):s!=="default"?R("div",{class:`${h}-progress-icon`,"aria-hidden":!0},R(Hi,{clsPrefix:h},{default:()=>D2e[s]})):R("div",{class:`${h}-progress-text`,style:{color:c},role:"none"},R("span",{class:`${h}-progress-text__percentage`},l),R("span",{class:`${h}-progress-text__unit`},f))):null)}}});function t4(r,t,e=100){return`m ${e/2} ${e/2-r} a ${r} ${r} 0 1 1 0 ${2*r} a ${r} ${r} 0 1 1 0 -${2*r}`}var L2e=It({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(r,{slots:t}){const e=re(()=>r.percentage.map((i,a)=>`${Math.PI*i/100*(r.viewBoxWidth/2-r.strokeWidth/2*(1+2*a)-r.circleGap*a)*2}, ${r.viewBoxWidth*8}`));return()=>{const{viewBoxWidth:n,strokeWidth:i,circleGap:a,showIndicator:o,fillColor:s,railColor:l,railStyle:u,percentage:c,clsPrefix:f}=r;return R("div",{class:`${f}-progress-content`,role:"none"},R("div",{class:`${f}-progress-graph`,"aria-hidden":!0},R("div",{class:`${f}-progress-graph-circle`},R("svg",{viewBox:`0 0 ${n} ${n}`},c.map((d,h)=>R("g",{key:h},R("path",{class:`${f}-progress-graph-circle-rail`,d:t4(n/2-i/2*(1+2*h)-a*h,i,n),"stroke-width":i,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:l[h]},u[h]]}),R("path",{class:[`${f}-progress-graph-circle-fill`,d===0&&`${f}-progress-graph-circle-fill--empty`],d:t4(n/2-i/2*(1+2*h)-a*h,i,n),"stroke-width":i,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:e.value[h],strokeDashoffset:0,stroke:s[h]}})))))),o&&t.default?R("div",null,R("div",{class:`${f}-progress-text`},t.default())):null)}}});const F2e=Object.assign(Object.assign({},wr.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number});var ost=It({name:"Progress",props:F2e,setup(r){const t=re(()=>r.indicatorPlacement||r.indicatorPosition),e=re(()=>{if(r.gapDegree||r.gapDegree===0)return r.gapDegree;if(r.type==="dashboard")return 75}),{mergedClsPrefixRef:n,inlineThemeDisabled:i}=Bn(r),a=wr("Progress","-progress",I2e,HEe,r,n),o=re(()=>{const{status:l}=r,{common:{cubicBezierEaseInOut:u},self:{fontSize:c,fontSizeCircle:f,railColor:d,railHeight:h,iconSizeCircle:v,iconSizeLine:p,textColorCircle:g,textColorLineInner:m,textColorLineOuter:y,lineBgProcessing:b,fontWeightCircle:w,[lr("iconColor",l)]:S,[lr("fillColor",l)]:E}}=a.value;return{"--n-bezier":u,"--n-fill-color":E,"--n-font-size":c,"--n-font-size-circle":f,"--n-font-weight-circle":w,"--n-icon-color":S,"--n-icon-size-circle":v,"--n-icon-size-line":p,"--n-line-bg-processing":b,"--n-rail-color":d,"--n-rail-height":h,"--n-text-color-circle":g,"--n-text-color-line-inner":m,"--n-text-color-line-outer":y}}),s=i?Ea("progress",re(()=>r.status[0]),o,r):void 0;return{mergedClsPrefix:n,mergedIndicatorPlacement:t,gapDeg:e,cssVars:i?void 0:o,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){const{type:r,cssVars:t,indicatorTextColor:e,showIndicator:n,status:i,railColor:a,railStyle:o,color:s,percentage:l,viewBoxWidth:u,strokeWidth:c,mergedIndicatorPlacement:f,unit:d,borderRadius:h,fillBorderRadius:v,height:p,processing:g,circleGap:m,mergedClsPrefix:y,gapDeg:b,gapOffsetDegree:w,themeClass:S,$slots:E,onRender:_}=this;return _==null||_(),R("div",{class:[S,`${y}-progress`,`${y}-progress--${r}`,`${y}-progress--${i}`],style:t,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":l,role:r==="circle"||r==="line"||r==="dashboard"?"progressbar":"none"},r==="circle"||r==="dashboard"?R(O2e,{clsPrefix:y,status:i,showIndicator:n,indicatorTextColor:e,railColor:a,fillColor:s,railStyle:o,offsetDegree:this.offsetDegree,percentage:l,viewBoxWidth:u,strokeWidth:c,gapDegree:b===void 0?r==="dashboard"?75:0:b,gapOffsetDegree:w,unit:d},E):r==="line"?R(R2e,{clsPrefix:y,status:i,showIndicator:n,indicatorTextColor:e,railColor:a,fillColor:s,railStyle:o,percentage:l,processing:g,indicatorPlacement:f,unit:d,fillBorderRadius:v,railBorderRadius:h,height:p},E):r==="multiple-circle"?R(L2e,{clsPrefix:y,strokeWidth:c,railColor:a,fillColor:s,railStyle:o,viewBoxWidth:u,percentage:l,showIndicator:n,circleGap:m},E):null)}});const N2e=r=>{const{heightSmall:t,heightMedium:e,heightLarge:n,borderRadius:i}=r;return{color:"#eee",colorEnd:"#ddd",borderRadius:i,heightSmall:t,heightMedium:e,heightLarge:n}},B2e={name:"Skeleton",common:ci,self:N2e};var z2e=ke([le("skeleton",`
 height: 1em;
 width: 100%;
 transition: background-color .3s var(--n-bezier);
 transition:
 --n-color-start .3s var(--n-bezier),
 --n-color-end .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 animation: 2s skeleton-loading infinite cubic-bezier(0.36, 0, 0.64, 1);
 background-color: var(--n-color-start);
 `),ke("@keyframes skeleton-loading",`
 0% {
 background: var(--n-color-start);
 }
 40% {
 background: var(--n-color-end);
 }
 80% {
 background: var(--n-color-start);
 }
 100% {
 background: var(--n-color-start);
 }
 `)]);const $2e=Object.assign(Object.assign({},wr.props),{text:Boolean,round:Boolean,circle:Boolean,height:[String,Number],width:[String,Number],size:String,repeat:{type:Number,default:1},animated:{type:Boolean,default:!0},sharp:{type:Boolean,default:!0}});var sst=It({name:"Skeleton",inheritAttrs:!1,props:$2e,setup(r){ive();const{mergedClsPrefixRef:t}=Bn(r),e=wr("Skeleton","-skeleton",z2e,B2e,r,t);return{mergedClsPrefix:t,style:re(()=>{var n,i;const a=e.value,{common:{cubicBezierEaseInOut:o}}=a,s=a.self,{color:l,colorEnd:u,borderRadius:c}=s;let f;const{circle:d,sharp:h,round:v,width:p,height:g,size:m,text:y,animated:b}=r;m!==void 0&&(f=s[lr("height",m)]);const w=d?(n=p!=null?p:g)!==null&&n!==void 0?n:f:p,S=(i=d&&p!=null?p:g)!==null&&i!==void 0?i:f;return{display:y?"inline-block":"",verticalAlign:y?"-0.125em":"",borderRadius:d?"50%":v?"4096px":h?"":c,width:typeof w=="number"?ys(w):w,height:typeof S=="number"?ys(S):S,animation:b?"":"none","--n-bezier":o,"--n-color-start":l,"--n-color-end":u}})}},render(){const{repeat:r,style:t,mergedClsPrefix:e,$attrs:n}=this,i=R("div",cf({class:`${e}-skeleton`,style:t},n));return r>1?R(qi,null,Array.apply(null,{length:r}).map(a=>[i,`
`])):i}}),G2e=ke([ke("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),le("spin-container",{position:"relative"},[le("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[UL()])]),le("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),le("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[Ge("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),le("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),le("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[Ge("spinning",`
 user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]);const U2e={small:20,medium:18,large:16},H2e=Object.assign(Object.assign({},wr.props),{description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0}});var lst=It({name:"Spin",props:H2e,setup(r){const{mergedClsPrefixRef:t,inlineThemeDisabled:e}=Bn(r),n=wr("Spin","-spin",G2e,jEe,r,t),i=re(()=>{const{size:o}=r,{common:{cubicBezierEaseInOut:s},self:l}=n.value,{opacitySpinning:u,color:c,textColor:f}=l,d=typeof o=="number"?ys(o):l[lr("size",o)];return{"--n-bezier":s,"--n-opacity-spinning":u,"--n-size":d,"--n-color":c,"--n-text-color":f}}),a=e?Ea("spin",re(()=>{const{size:o}=r;return typeof o=="number"?String(o):o[0]}),i,r):void 0;return{mergedClsPrefix:t,compitableShow:XT(r,["spinning","show"]),mergedStrokeWidth:re(()=>{const{strokeWidth:o}=r;if(o!==void 0)return o;const{size:s}=r;return U2e[typeof s=="number"?"medium":s]}),cssVars:e?void 0:i,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){var r,t;const{$slots:e,mergedClsPrefix:n,description:i}=this,a=e.icon&&this.rotate,o=(i||e.description)&&R("div",{class:`${n}-spin-description`},i||((r=e.description)===null||r===void 0?void 0:r.call(e))),s=e.icon?R("div",{class:[`${n}-spin-body`,this.themeClass]},R("div",{class:[`${n}-spin`,a&&`${n}-spin--rotate`],style:e.default?"":this.cssVars},e.icon()),o):R("div",{class:[`${n}-spin-body`,this.themeClass]},R(Hg,{clsPrefix:n,style:e.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${n}-spin`}),o);return(t=this.onRender)===null||t===void 0||t.call(this),e.default?R("div",{class:[`${n}-spin-container`,this.themeClass],style:this.cssVars},R("div",{class:[`${n}-spin-content`,this.compitableShow&&`${n}-spin-content--spinning`]},e),R(uo,{name:"fade-in-transition"},{default:()=>this.compitableShow?s:null})):s}}),V2e=le("switch",`
 height: var(--n-height);
 min-width: var(--n-width);
 vertical-align: middle;
 user-select: none;
 display: inline-flex;
 outline: none;
 justify-content: center;
 align-items: center;
`,[Ae("children-placeholder",`
 height: var(--n-rail-height);
 display: flex;
 flex-direction: column;
 overflow: hidden;
 pointer-events: none;
 visibility: hidden;
 `),Ae("rail-placeholder",`
 display: flex;
 flex-wrap: none;
 `),Ae("button-placeholder",`
 width: calc(1.75 * var(--n-rail-height));
 height: var(--n-rail-height);
 `),le("base-loading",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 font-size: calc(var(--n-button-width) - 4px);
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 `,[Md({originalTransform:"translateX(-50%) translateY(-50%)"})]),Ae("checked, unchecked",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 box-sizing: border-box;
 position: absolute;
 white-space: nowrap;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 line-height: 1;
 `),Ae("checked",`
 right: 0;
 padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),Ae("unchecked",`
 left: 0;
 justify-content: flex-end;
 padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),ke("&:focus",[Ae("rail",`
 box-shadow: var(--n-box-shadow-focus);
 `)]),Ge("round",[Ae("rail",{borderRadius:"calc(var(--n-rail-height) / 2)"},[Ae("button",{borderRadius:"calc(var(--n-button-height) / 2)"})])]),Nn("disabled",[Nn("icon",[Ge("pressed",[Ae("rail",[Ae("button",{maxWidth:"var(--n-button-width-pressed)"})])]),Ae("rail",[ke("&:active",[Ae("button",{maxWidth:"var(--n-button-width-pressed)"})])]),Ge("active",[Ge("pressed",[Ae("rail",[Ae("button",{left:"calc(100% - var(--n-offset) - var(--n-button-width-pressed))"})])]),Ae("rail",[ke("&:active",[Ae("button",{left:"calc(100% - var(--n-offset) - var(--n-button-width-pressed))"})])])])])]),Ge("active",[Ae("rail",[Ae("button",{left:"calc(100% - (var(--n-rail-height) + var(--n-button-width)) / 2)"})])]),Ae("rail",`
 overflow: hidden;
 height: var(--n-rail-height);
 min-width: var(--n-rail-width);
 border-radius: var(--n-rail-border-radius);
 cursor: pointer;
 position: relative;
 transition:
 background .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-rail-color);
 `,[Ae("button-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 font-size: calc(var(--n-button-height) - 4px);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 line-height: 1;
 `,[Md()]),Ae("button",`
 align-items: center; 
 top: var(--n-offset);
 left: var(--n-offset);
 height: var(--n-button-width);
 width: var(--n-button-width-pressed);
 max-width: var(--n-button-width);
 border-radius: var(--n-button-border-radius);
 background-color: var(--n-button-color);
 box-shadow: var(--n-button-box-shadow);
 box-sizing: border-box;
 cursor: inherit;
 content: "";
 position: absolute;
 transition:
 background-color .3s var(--n-bezier),
 left .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `)]),Ge("active",[Ae("rail","background-color: var(--n-rail-color-active);")]),Ge("disabled",[Ae("rail",`
 cursor: not-allowed;
 opacity: .5;
 `)]),Ge("loading",[Ae("rail",`
 pointer-events: none;
 `)])]);const W2e=Object.assign(Object.assign({},wr.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,onChange:[Function,Array]});var ust=It({name:"Switch",props:W2e,setup(r){const{mergedClsPrefixRef:t,inlineThemeDisabled:e}=Bn(r),n=wr("Switch","-switch",V2e,KEe,r,t),i=ic(r),{mergedSizeRef:a,mergedDisabledRef:o}=i,s=Re(r.defaultValue),l=tr(r,"value"),u=zi(l,s),c=re(()=>u.value===r.checkedValue),f=Re(!1),d=Re(!1),h=re(()=>{const{railStyle:A}=r;if(!!A)return A({focused:d.value,checked:c.value})});function v(A){const{"onUpdate:value":k,onChange:T,onUpdateValue:I}=r,{nTriggerFormInput:D,nTriggerFormChange:O}=i;k&&Tt(k,A),I&&Tt(I,A),T&&Tt(T,A),s.value=A,D(),O()}function p(){const{nTriggerFormFocus:A}=i;A()}function g(){const{nTriggerFormBlur:A}=i;A()}function m(){r.loading||o.value||(u.value!==r.checkedValue?v(r.checkedValue):v(r.uncheckedValue))}function y(){d.value=!0,p()}function b(){d.value=!1,g(),f.value=!1}function w(A){r.loading||o.value||A.code==="Space"&&(u.value!==r.checkedValue?v(r.checkedValue):v(r.uncheckedValue),f.value=!1)}function S(A){r.loading||o.value||A.code==="Space"&&(A.preventDefault(),f.value=!0)}const E=re(()=>{const{value:A}=a,{self:{opacityDisabled:k,railColor:T,railColorActive:I,buttonBoxShadow:D,buttonColor:O,boxShadowFocus:B,loadingColor:U,textColor:N,iconColor:G,[lr("buttonHeight",A)]:L,[lr("buttonWidth",A)]:F,[lr("buttonWidthPressed",A)]:W,[lr("railHeight",A)]:H,[lr("railWidth",A)]:K,[lr("railBorderRadius",A)]:ie,[lr("buttonBorderRadius",A)]:ee},common:{cubicBezierEaseInOut:Q}}=n.value,be=ys((Rs(H)-Rs(L))/2),fe=ys(Math.max(Rs(H),Rs(L))),he=Rs(H)>Rs(L)?K:ys(Rs(K)+Rs(L)-Rs(H));return{"--n-bezier":Q,"--n-button-border-radius":ee,"--n-button-box-shadow":D,"--n-button-color":O,"--n-button-width":F,"--n-button-width-pressed":W,"--n-button-height":L,"--n-height":fe,"--n-offset":be,"--n-opacity-disabled":k,"--n-rail-border-radius":ie,"--n-rail-color":T,"--n-rail-color-active":I,"--n-rail-height":H,"--n-rail-width":K,"--n-width":he,"--n-box-shadow-focus":B,"--n-loading-color":U,"--n-text-color":N,"--n-icon-color":G}}),_=e?Ea("switch",re(()=>a.value[0]),E,r):void 0;return{handleClick:m,handleBlur:b,handleFocus:y,handleKeyup:w,handleKeydown:S,mergedRailStyle:h,pressed:f,mergedClsPrefix:t,mergedValue:u,checked:c,mergedDisabled:o,cssVars:e?void 0:E,themeClass:_==null?void 0:_.themeClass,onRender:_==null?void 0:_.onRender}},render(){const{mergedClsPrefix:r,mergedDisabled:t,checked:e,mergedRailStyle:n,onRender:i,$slots:a}=this;i==null||i();const{checked:o,unchecked:s,icon:l,"checked-icon":u,"unchecked-icon":c}=a,f=!(E1(l)&&E1(u)&&E1(c));return R("div",{role:"switch","aria-checked":e,class:[`${r}-switch`,this.themeClass,f&&`${r}-switch--icon`,e&&`${r}-switch--active`,t&&`${r}-switch--disabled`,this.round&&`${r}-switch--round`,this.loading&&`${r}-switch--loading`,this.pressed&&`${r}-switch--pressed`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},R("div",{class:`${r}-switch__rail`,"aria-hidden":"true",style:n},ba(o,d=>ba(s,h=>d||h?R("div",{"aria-hidden":!0,class:`${r}-switch__children-placeholder`},R("div",{class:`${r}-switch__rail-placeholder`},R("div",{class:`${r}-switch__button-placeholder`}),d),R("div",{class:`${r}-switch__rail-placeholder`},R("div",{class:`${r}-switch__button-placeholder`}),h)):null)),R("div",{class:`${r}-switch__button`},ba(l,d=>ba(u,h=>ba(c,v=>R(j0,null,{default:()=>this.loading?R(Hg,{key:"loading",clsPrefix:r,strokeWidth:20}):this.checked&&(h||d)?R("div",{class:`${r}-switch__button-icon`,key:h?"checked-icon":"icon"},h||d):!this.checked&&(v||d)?R("div",{class:`${r}-switch__button-icon`,key:v?"unchecked-icon":"icon"},v||d):null})))),ba(o,d=>d&&R("div",{key:"checked",class:`${r}-switch__checked`},d)),ba(s,d=>d&&R("div",{key:"unchecked",class:`${r}-switch__unchecked`},d)))))}}),dd=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function j2e(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function zn(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function un(r,t){return t={exports:{}},r(t,t.exports),t.exports}function Y2e(r){return r&&r.default||r}const nS="n-tree";var X2e=It({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,hide:Boolean,loading:Boolean,onClick:Function},setup(r){const{renderSwitcherIconRef:t}=Sr(nS,null);return()=>{const{clsPrefix:e}=r;return R("span",{"data-switcher":!0,class:[`${e}-tree-node-switcher`,{[`${e}-tree-node-switcher--expanded`]:r.expanded,[`${e}-tree-node-switcher--hide`]:r.hide}],onClick:r.onClick},R("div",{class:`${e}-tree-node-switcher__icon`},R(j0,null,{default:()=>{if(r.loading)return R(Hg,{clsPrefix:e,key:"loading",radius:85,strokeWidth:20});const{value:n}=t;return n?n():R(Hi,{clsPrefix:e,key:"switcher"},{default:()=>R(l0e,null)})}})))}}}),q2e=It({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(r){const t=Sr(nS);function e(i){const{onCheck:a}=r;if(a)return a(i)}function n(i){r.indeterminate?e(!1):e(i)}return{handleUpdateValue:n,mergedTheme:t.mergedThemeRef}},render(){const{clsPrefix:r,mergedTheme:t,checked:e,indeterminate:n,disabled:i,focusable:a,handleUpdateValue:o}=this;return R("span",{class:`${r}-tree-node-checkbox`,"data-checkbox":!0},R(hA,{focusable:a,disabled:i,theme:t.peers.Checkbox,themeOverrides:t.peerOverrides.Checkbox,checked:e,indeterminate:n,onUpdateChecked:o}))}}),K2e=It({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(r){const{renderLabelRef:t,renderPrefixRef:e,renderSuffixRef:n,labelFieldRef:i}=Sr(nS),a=Re(null);function o(l){const{onClick:u}=r;u&&u(l)}function s(l){o(l)}return{selfRef:a,renderLabel:t,renderPrefix:e,renderSuffix:n,labelField:i,handleClick:s}},render(){const{clsPrefix:r,labelField:t,nodeProps:e,checked:n=!1,selected:i=!1,renderLabel:a,renderPrefix:o,renderSuffix:s,handleClick:l,onDragstart:u,tmNode:{rawNode:c,rawNode:{prefix:f,suffix:d,[t]:h}}}=this;return R("span",Object.assign({},e,{ref:"selfRef",class:[`${r}-tree-node-content`,e==null?void 0:e.class],onClick:l,draggable:u===void 0?void 0:!0,onDragstart:u}),o||f?R("div",{class:`${r}-tree-node-content__prefix`},o?o({option:c,selected:i,checked:n}):Ti(f)):null,R("div",{class:`${r}-tree-node-content__text`},a?a({option:c,selected:i,checked:n}):Ti(h)),s||d?R("div",{class:`${r}-tree-node-content__suffix`},s?s({option:c,selected:i,checked:n}):Ti(d)):null)}});function r4({position:r,offsetLevel:t,indent:e,el:n}){const i={position:"absolute",boxSizing:"border-box",right:0};if(r==="inside")i.left=0,i.top=0,i.bottom=0,i.borderRadius="inherit",i.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const a=r==="before"?"top":"bottom";i[a]=0,i.left=`${n.offsetLeft+6-t*e}px`,i.height="2px",i.backgroundColor="var(--n-drop-mark-color)",i.transformOrigin=a,i.borderRadius="1px",i.transform=r==="before"?"translateY(-4px)":"translateY(4px)"}return R("div",{style:i})}function Z2e({dropPosition:r,node:t}){return t.isLeaf===!1||t.children?!0:r!=="inside"}const Q2e=It({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(r){const t=Sr(nS),{droppingNodeParentRef:e,droppingMouseNodeRef:n,draggingNodeRef:i,droppingPositionRef:a,droppingOffsetLevelRef:o,nodePropsRef:s,indentRef:l,blockLineRef:u}=t,c=re(()=>t.disabledRef.value||r.tmNode.disabled),f=re(()=>{const{value:k}=s;if(!!k)return k({option:r.tmNode.rawNode})}),d=Re(null),h={value:null};Io(()=>{h.value=d.value.$el});function v(){const{tmNode:k}=r;if(t.remoteRef.value&&!k.isLeaf&&!k.shallowLoaded){t.loadingKeysRef.value.has(k.key)||t.loadingKeysRef.value.add(k.key);const{onLoadRef:{value:T}}=t;T&&T(k.rawNode).then(()=>{t.handleSwitcherClick(k)}).finally(()=>{t.loadingKeysRef.value.delete(k.key)})}else t.handleSwitcherClick(k)}function p(k){tf(k,"checkbox")||tf(k,"switcher")||t.handleSelect(r.tmNode)}function g(k){var T,I;u.value||(c.value||p(k),(I=(T=f.value)===null||T===void 0?void 0:T.onClick)===null||I===void 0||I.call(T,k))}function m(k){var T,I;!u.value||(c.value||p(k),(I=(T=f.value)===null||T===void 0?void 0:T.onClick)===null||I===void 0||I.call(T,k))}function y(k){t.handleCheck(r.tmNode,k)}function b(k){t.handleDragStart({event:k,node:r.tmNode})}function w(k){k.currentTarget===k.target&&t.handleDragEnter({event:k,node:r.tmNode})}function S(k){k.preventDefault(),t.handleDragOver({event:k,node:r.tmNode})}function E(k){t.handleDragEnd({event:k,node:r.tmNode})}function _(k){k.currentTarget===k.target&&t.handleDragLeave({event:k,node:r.tmNode})}function A(k){k.preventDefault(),a.value!==null&&t.handleDrop({event:k,node:r.tmNode,dropPosition:a.value})}return{showDropMark:Kn(()=>{const{value:k}=i;if(!k)return;const{value:T}=a;if(!T)return;const{value:I}=n;if(!I)return;const{tmNode:D}=r;return D.key===I.key}),showDropMarkAsParent:Kn(()=>{const{value:k}=e;if(!k)return!1;const{tmNode:T}=r,{value:I}=a;return I==="before"||I==="after"?k.key===T.key:!1}),pending:Kn(()=>t.pendingNodeKeyRef.value===r.tmNode.key),loading:Kn(()=>t.loadingKeysRef.value.has(r.tmNode.key)),highlight:Kn(()=>t.highlightKeySetRef.value.has(r.tmNode.key)),checked:Kn(()=>t.displayedCheckedKeysRef.value.includes(r.tmNode.key)),indeterminate:Kn(()=>t.displayedIndeterminateKeysRef.value.includes(r.tmNode.key)),selected:Kn(()=>t.mergedSelectedKeysRef.value.includes(r.tmNode.key)),expanded:Kn(()=>t.mergedExpandedKeysRef.value.includes(r.tmNode.key)),disabled:c,checkable:re(()=>t.checkableRef.value&&(t.cascadeRef.value||t.mergedCheckStrategyRef.value!=="child"||r.tmNode.isLeaf)),checkboxDisabled:re(()=>!!r.tmNode.rawNode.checkboxDisabled),selectable:re(()=>t.selectableRef.value&&(t.mergedCheckStrategyRef.value==="child"?r.tmNode.isLeaf:!0)),internalScrollable:t.internalScrollableRef,draggable:t.draggableRef,blockLine:u,nodeProps:f,checkboxFocusable:t.internalCheckboxFocusableRef,droppingPosition:a,droppingOffsetLevel:o,indent:l,contentInstRef:d,contentElRef:h,handleCheck:y,handleDrop:A,handleDragStart:b,handleDragEnter:w,handleDragOver:S,handleDragEnd:E,handleDragLeave:_,handleLineClick:m,handleContentClick:g,handleSwitcherClick:v}},render(){const{tmNode:r,clsPrefix:t,checkable:e,selectable:n,selected:i,checked:a,highlight:o,draggable:s,blockLine:l,indent:u,disabled:c,pending:f,internalScrollable:d,nodeProps:h}=this,v=s&&!c?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,p=d?RY(r.key):void 0;return R("div",Object.assign({class:`${t}-tree-node-wrapper`},v),R("div",Object.assign({},l?h:void 0,{class:[`${t}-tree-node`,{[`${t}-tree-node--selected`]:i,[`${t}-tree-node--checkable`]:e,[`${t}-tree-node--highlight`]:o,[`${t}-tree-node--pending`]:f,[`${t}-tree-node--disabled`]:c,[`${t}-tree-node--selectable`]:n},h==null?void 0:h.class],"data-key":p,draggable:s&&l,onClick:this.handleLineClick,onDragstart:s&&l&&!c?this.handleDragStart:void 0}),MY(r.level,R("div",{class:`${t}-tree-node-indent`,style:{flex:`0 0 ${u}px`}})),R(X2e,{clsPrefix:t,expanded:this.expanded,loading:this.loading,hide:r.isLeaf,onClick:this.handleSwitcherClick}),e?R(q2e,{focusable:this.checkboxFocusable,disabled:c||this.checkboxDisabled,clsPrefix:t,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null,R(K2e,{ref:"contentInstRef",clsPrefix:t,checked:a,selected:i,onClick:this.handleContentClick,nodeProps:l?void 0:h,onDragstart:s&&!l&&!c?this.handleDragStart:void 0,tmNode:r}),s?this.showDropMark?r4({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:u}):this.showDropMarkAsParent?r4({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:u}):null:null))}});var tK=Q2e;function rK(r,t,e,n){r==null||r.forEach(i=>{e(i),rK(i[t],t,e,n),n(i)})}function J2e(r,t,e,n,i){const a=new Set,o=new Set,s=[];return rK(r,n,l=>{if(s.push(l),i(t,l)){o.add(l[e]);for(let u=s.length-2;u>=0;--u)if(!a.has(s[u][e]))a.add(s[u][e]);else return}},()=>{s.pop()}),{expandedKeys:Array.from(a),highlightKeySet:o}}const n4=null;if(typeof window!="undefined"&&Image){const r=new Image;r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}const nK="n-tree-select";function e_e({fNodesRef:r,mergedExpandedKeysRef:t,mergedSelectedKeysRef:e,handleSelect:n,handleSwitcherClick:i}){const{value:a}=e,o=Sr(nK,null),s=o?o.pendingNodeKeyRef:Re(a.length?a[a.length-1]:null);function l(c){const{value:f}=s;if(f===null){if(["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(c.code)&&f===null){const{value:d}=r;let h=0;for(;h<d.length;){if(!d[h].disabled){s.value=d[h].key;break}h+=1}}}else{const{value:d}=r;let h=d.findIndex(v=>v.key===f);if(!~h)return;if(c.code==="Enter"||c.code==="NumpadEnter")n(d[h]);else if(c.code==="ArrowDown")for(h+=1;h<d.length;){if(!d[h].disabled){s.value=d[h].key;break}h+=1}else if(c.code==="ArrowUp")for(h-=1;h>=0;){if(!d[h].disabled){s.value=d[h].key;break}h-=1}else if(c.code==="ArrowLeft"){const v=d[h];if(v.isLeaf||!t.value.includes(f)){const p=v.getParent();p&&(s.value=p.key)}else i(v)}else if(c.code==="ArrowRight"){const v=d[h];if(v.isLeaf)return;if(!t.value.includes(f))i(v);else for(h+=1;h<d.length;){if(!d[h].disabled){s.value=d[h].key;break}h+=1}}}}function u(c){switch(c.code){case"ArrowUp":case"ArrowDown":c.preventDefault()}}return{pendingNodeKeyRef:s,handleKeyup:l,handleKeydown:u}}var t_e=It({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:r}=this;return R(iA,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>R("div",{class:[`${r}-tree-motion-wrapper`,`${r}-tree-motion-wrapper--${this.mode}`],style:{height:ys(this.height)}},this.nodes.map(t=>R(tK,{clsPrefix:r,tmNode:t})))})}}),r_e=le("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[ke("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),ke(">",[le("tree-node",[ke("&:first-child",{marginTop:0})])]),le("tree-node-indent",`
 height: 0;
 `),le("tree-motion-wrapper",[Ge("expand",[E_({duration:"0.2s"})]),Ge("collapse",[E_({duration:"0.2s",reverse:!0})])]),le("tree-node-wrapper",`
 padding: 3px 0;
 `),le("tree-node",`
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[Ge("highlight",[le("tree-node-content",[Ae("text",{borderBottomColor:"var(--n-node-text-color-disabled)"})])]),Ge("disabled",[le("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),Nn("disabled",[Ge("selectable",[le("tree-node-content",`
 cursor: pointer;
 `)])])]),Ge("block-node",[le("tree-node-content",`
 width: 100%;
 `)]),Nn("block-line",[le("tree-node",[Nn("disabled",[le("tree-node-content",[ke("&:hover",{backgroundColor:"var(--n-node-color-hover)"})]),Ge("selectable",[le("tree-node-content",[ke("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),Ge("pending",[le("tree-node-content",`
 background-color: var(--n-node-color-hover);
 `)]),Ge("selected",[le("tree-node-content",{backgroundColor:"var(--n-node-color-active)"})])])])]),Ge("block-line",[le("tree-node",[Nn("disabled",[ke("&:hover",{backgroundColor:"var(--n-node-color-hover)"}),Ge("selectable",[ke("&:active",{backgroundColor:"var(--n-node-color-pressed)"})]),Ge("pending",`
 background-color: var(--n-node-color-hover);
 `),Ge("selected",{backgroundColor:"var(--n-node-color-active)"})]),Ge("disabled",`
 cursor: not-allowed;
 `)])]),le("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: 24px;
 width: 24px;
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[Ae("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[le("icon",[Md()]),le("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[Md()])]),Ge("hide",{visibility:"hidden"}),Ge("expanded",{transform:"rotate(90deg)"})]),le("tree-node-checkbox",`
 display: inline-flex;
 height: 24px;
 width: 16px;
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 margin-right: 4px;
 `),Ge("checkable",[le("tree-node-content",`
 padding: 0 6px;
 `)]),le("tree-node-content",`
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: 24px;
 box-sizing: border-box;
 line-height: 1.5;
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 text-decoration-color: #0000;
 text-decoration-line: underline;
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[ke("&:last-child",{marginBottom:0}),Ae("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),Ae("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow:1;
 `),Ae("suffix",`
 display: inline-flex;
 `)])]),n_e=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(r,t||[])).next())})};const sE=30;function QR(r,t){return{getKey(e){return e[r]},getChildren(e){return e[t]},getDisabled(e){return!!(e.disabled||e.checkboxDisabled)}}}const iK={filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},defaultExpandedKeys:{type:Array,default:()=>[]},indeterminateKeys:Array,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array]},i_e=Object.assign(Object.assign(Object.assign(Object.assign({},wr.props),{data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},remote:Boolean,leafOnly:Boolean,multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},indent:{type:Number,default:16},allowDrop:{type:Function,default:Z2e},animated:{type:Boolean,default:!0},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,renderSwitcherIcon:Function,nodeProps:Function,onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),iK),{internalScrollable:Boolean,internalScrollablePadding:String,internalDataTreeMate:Object,internalDisplayTreeMate:Object,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalHideFilteredNode:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"}});var a_e=It({name:"Tree",props:i_e,setup(r){const{mergedClsPrefixRef:t}=Bn(r),e=wr("Tree","-tree",r_e,Wq,r,t),n=Re(null),i=Re(null),a=Re(null);function o(){var _e;return(_e=a.value)===null||_e===void 0?void 0:_e.listElRef}function s(){var _e;return(_e=a.value)===null||_e===void 0?void 0:_e.itemsElRef}const l=r.internalDisplayTreeMate?tr(r,"internalDisplayTreeMate"):re(()=>Cg(r.data,QR(r.keyField,r.childrenField))),u=r.internalDataTreeMate?tr(r,"internalDataTreeMate"):l,{watchProps:c}=r,f=Re([]);(c==null?void 0:c.includes("defaultCheckedKeys"))?Go(()=>{f.value=r.defaultCheckedKeys}):f.value=r.defaultCheckedKeys;const d=tr(r,"checkedKeys"),h=zi(d,f),v=re(()=>u.value.getCheckedKeys(h.value,{cascade:r.cascade})),p=re(()=>r.leafOnly?"child":r.checkStrategy),g=re(()=>v.value.checkedKeys),m=re(()=>{const{indeterminateKeys:_e}=r;return _e!==void 0?_e:v.value.indeterminateKeys}),y=Re([]);(c==null?void 0:c.includes("defaultSelectedKeys"))?Go(()=>{y.value=r.defaultSelectedKeys}):y.value=r.defaultSelectedKeys;const b=tr(r,"selectedKeys"),w=zi(b,y),S=Re([]),E=_e=>{S.value=r.defaultExpandAll?u.value.getNonLeafKeys():_e===void 0?r.defaultExpandedKeys:_e};(c==null?void 0:c.includes("defaultExpandedKeys"))?Go(()=>E(void 0)):Go(()=>E(r.defaultExpandedKeys));const _=tr(r,"expandedKeys"),A=zi(_,S),k=re(()=>l.value.getFlattenedNodes(A.value)),{pendingNodeKeyRef:T,handleKeyup:I,handleKeydown:D}=e_e({mergedSelectedKeysRef:w,fNodesRef:k,mergedExpandedKeysRef:A,handleSelect:Pe,handleSwitcherClick:J});let O=null,B=null;const U=Re(new Set),N=tr(r,"internalHighlightKeySet"),G=zi(N,U),L=Re(new Set),F=re(()=>A.value.filter(_e=>!L.value.has(_e)));let W=0;const H=Re(null),K=Re(null),ie=Re(null),ee=Re(null),Q=Re(0),be=re(()=>{const{value:_e}=K;return _e?_e.parent:null}),fe=re(()=>{const{filter:_e}=r;if(_e)return _e;const{labelField:Ke}=r;return(Ot,Nt)=>Ot.length?Nt[Ke].toLowerCase().includes(Ot.toLowerCase()):!0});hn(tr(r,"data"),()=>{L.value.clear(),T.value=null,de()},{deep:!1}),hn(tr(r,"pattern"),_e=>{if(_e){const{expandedKeys:Ke,highlightKeySet:Ot}=J2e(r.data,r.pattern,r.keyField,r.childrenField,fe.value);U.value=Ot,ae(Ke,X(Ke))}else U.value=new Set});function he(_e){return n_e(this,void 0,void 0,function*(){const{onLoad:Ke}=r;if(!Ke)return yield Promise.resolve();const{value:Ot}=L;return yield new Promise(Nt=>{Ot.has(_e.key)||(Ot.add(_e.key),Ke(_e.rawNode).then(()=>{Ot.delete(_e.key),Nt()}).catch(fr=>{console.error(fr),lt()}))})})}Go(()=>{var _e;const{value:Ke}=l;if(!Ke)return;const{getNode:Ot}=Ke;(_e=A.value)===null||_e===void 0||_e.forEach(Nt=>{const fr=Ot(Nt);fr&&!fr.shallowLoaded&&he(fr)})});const Ee=Re(!1),He=Re([]);hn(F,(_e,Ke)=>{if(!r.animated){Ja(z);return}const Ot=new Set(Ke);let Nt=null,fr=null;for(const gn of _e)if(!Ot.has(gn)){if(Nt!==null)return;Nt=gn}const sn=new Set(_e);for(const gn of Ke)if(!sn.has(gn)){if(fr!==null)return;fr=gn}if(Nt!==null&&fr!==null||Nt===null&&fr===null)return;const{virtualScroll:en}=r,Zr=(en?a.value.listElRef:n.value).offsetHeight,Wn=Math.ceil(Zr/sE)+1;if(Nt!==null){Ee.value=!0,He.value=l.value.getFlattenedNodes(Ke);const gn=He.value.findIndex(Pr=>Pr.key===Nt);if(~gn){const Pr=LR(He.value[gn].children,_e);He.value.splice(gn+1,0,{__motion:!0,mode:"expand",height:en?Pr.length*sE:void 0,nodes:en?Pr.slice(0,Wn):Pr})}}if(fr!==null){Ee.value=!0,He.value=l.value.getFlattenedNodes(_e);const gn=He.value.findIndex(Pr=>Pr.key===fr);if(~gn){const Pr=LR(He.value[gn].children,_e);He.value.splice(gn+1,0,{__motion:!0,mode:"collapse",height:en?Pr.length*sE:void 0,nodes:en?Pr.slice(0,Wn):Pr})}}});const nt=re(()=>_X(k.value)),st=re(()=>Ee.value?He.value:k.value);function z(){const{value:_e}=i;_e&&_e.sync()}function j(){Ee.value=!1,r.virtualScroll&&Ja(z)}function X(_e){const{getNode:Ke}=u.value;return _e.map(Ot=>{var Nt;return((Nt=Ke(Ot))===null||Nt===void 0?void 0:Nt.rawNode)||null})}function ae(_e,Ke){const{"onUpdate:expandedKeys":Ot,onUpdateExpandedKeys:Nt}=r;S.value=_e,Ot&&Tt(Ot,_e,Ke),Nt&&Tt(Nt,_e,Ke)}function ue(_e,Ke){const{"onUpdate:checkedKeys":Ot,onUpdateCheckedKeys:Nt}=r;f.value=_e,Nt&&Tt(Nt,_e,Ke),Ot&&Tt(Ot,_e,Ke)}function Be(_e,Ke){const{"onUpdate:indeterminateKeys":Ot,onUpdateIndeterminateKeys:Nt}=r;Ot&&Tt(Ot,_e,Ke),Nt&&Tt(Nt,_e,Ke)}function Ze(_e,Ke){const{"onUpdate:selectedKeys":Ot,onUpdateSelectedKeys:Nt}=r;y.value=_e,Nt&&Tt(Nt,_e,Ke),Ot&&Tt(Ot,_e,Ke)}function Le(_e){const{onDragenter:Ke}=r;Ke&&Tt(Ke,_e)}function se(_e){const{onDragleave:Ke}=r;Ke&&Tt(Ke,_e)}function Se(_e){const{onDragend:Ke}=r;Ke&&Tt(Ke,_e)}function Y(_e){const{onDragstart:Ke}=r;Ke&&Tt(Ke,_e)}function ve(_e){const{onDragover:Ke}=r;Ke&&Tt(Ke,_e)}function ce(_e){const{onDrop:Ke}=r;Ke&&Tt(Ke,_e)}function de(){Fe(),Ue()}function Fe(){H.value=null}function Ue(){Q.value=0,K.value=null,ie.value=null,ee.value=null,lt()}function lt(){O&&(window.clearTimeout(O),O=null),B=null}function ut(_e,Ke){if(r.disabled||_e.disabled)return;if(r.internalUnifySelectCheck&&!r.multiple){Pe(_e);return}const{checkedKeys:Ot,indeterminateKeys:Nt}=u.value[Ke?"check":"uncheck"](_e.key,g.value,{cascade:r.cascade,checkStrategy:p.value});ue(Ot,X(Ot)),Be(Nt,X(Nt))}function We(_e){if(r.disabled)return;const{value:Ke}=A,Ot=Ke.findIndex(Nt=>Nt===_e);if(~Ot){const Nt=Array.from(Ke);Nt.splice(Ot,1),ae(Nt,X(Nt))}else{const Nt=l.value.getNode(_e);if(!Nt||Nt.isLeaf)return;const fr=Ke.concat(_e);ae(fr,X(fr))}}function J(_e){r.disabled||Ee.value||We(_e.key)}function Pe(_e){if(!(r.disabled||_e.disabled||!r.selectable||p.value==="child"&&!_e.isLeaf)){if(T.value=_e.key,r.internalUnifySelectCheck){const{value:{checkedKeys:Ke,indeterminateKeys:Ot}}=v;r.multiple?ut(_e,!(Ke.includes(_e.key)||Ot.includes(_e.key))):ue([_e.key],X([_e.key]))}if(r.multiple){const Ke=Array.from(w.value),Ot=Ke.findIndex(Nt=>Nt===_e.key);~Ot?r.cancelable&&Ke.splice(Ot,1):~Ot||Ke.push(_e.key),Ze(Ke,X(Ke))}else w.value.includes(_e.key)?r.cancelable&&Ze([],[]):Ze([_e.key],X([_e.key]))}}function Ce(_e){if(O&&(window.clearTimeout(O),O=null),_e.isLeaf)return;B=_e.key;const Ke=()=>{if(B!==_e.key)return;const{value:Ot}=ie;if(Ot&&Ot.key===_e.key&&!A.value.includes(_e.key)){const Nt=A.value.concat(_e.key);ae(Nt,X(Nt))}O=null,B=null};_e.shallowLoaded?O=window.setTimeout(()=>{Ke()},1e3):O=window.setTimeout(()=>{he(_e).then(()=>{Ke()})},1e3)}function ct({event:_e,node:Ke}){!r.draggable||r.disabled||Ke.disabled||(Ht({event:_e,node:Ke},!1),Le({event:_e,node:Ke.rawNode}))}function mt({event:_e,node:Ke}){!r.draggable||r.disabled||Ke.disabled||se({event:_e,node:Ke.rawNode})}function Me(_e){_e.target===_e.currentTarget&&Ue()}function ht({event:_e,node:Ke}){de(),!(!r.draggable||r.disabled||Ke.disabled)&&Se({event:_e,node:Ke.rawNode})}function ar({event:_e,node:Ke}){var Ot;!r.draggable||r.disabled||Ke.disabled||(n4&&((Ot=_e.dataTransfer)===null||Ot===void 0||Ot.setDragImage(n4,0,0)),W=_e.clientX,H.value=Ke,Y({event:_e,node:Ke.rawNode}))}function Ht({event:_e,node:Ke},Ot=!0){var Nt;if(!r.draggable||r.disabled||Ke.disabled)return;const{value:fr}=H;if(!fr)return;const{allowDrop:sn,indent:en}=r;Ot&&ve({event:_e,node:Ke.rawNode});const Zr=_e.currentTarget,{height:Wn,top:gn}=Zr.getBoundingClientRect(),Pr=_e.clientY-gn;let vn;sn({node:Ke.rawNode,dropPosition:"inside",phase:"drag"})?Pr<=8?vn="before":Pr>=Wn-8?vn="after":vn="inside":Pr<=Wn/2?vn="before":vn="after";const{value:Dn}=nt;let Xr,fi;const Ui=Dn(Ke.key);if(Ui===null){Ue();return}let Va=!1;vn==="inside"?(Xr=Ke,fi="inside"):vn==="before"?Ke.isFirstChild?(Xr=Ke,fi="before"):(Xr=k.value[Ui-1],fi="after"):(Xr=Ke,fi="after"),!Xr.isLeaf&&A.value.includes(Xr.key)&&(Va=!0,fi==="after"&&(Xr=k.value[Ui+1],Xr?fi="before":(Xr=Ke,fi="inside")));const fo=Xr;if(ie.value=fo,!Va&&fr.isLastChild&&fr.key===Xr.key&&(fi="after"),fi==="after"){let ho=W-_e.clientX,Po=0;for(;ho>=en/2&&Xr.parent!==null&&Xr.isLastChild&&Po<1;)ho-=en,Po+=1,Xr=Xr.parent;Q.value=Po}else Q.value=0;if((fr.contains(Xr)||fi==="inside"&&((Nt=fr.parent)===null||Nt===void 0?void 0:Nt.key)===Xr.key)&&!(fr.key===fo.key&&fr.key===Xr.key)){Ue();return}if(!sn({node:Xr.rawNode,dropPosition:fi,phase:"drag"})){Ue();return}if(fr.key===Xr.key)lt();else if(B!==Xr.key)if(fi==="inside"){if(r.expandOnDragenter){if(Ce(Xr),!Xr.shallowLoaded&&B!==Xr.key){de();return}}else if(!Xr.shallowLoaded){de();return}}else lt();else fi!=="inside"&&lt();ee.value=fi,K.value=Xr}function Er({event:_e,node:Ke,dropPosition:Ot}){if(!r.draggable||r.disabled||Ke.disabled)return;const{value:Nt}=H,{value:fr}=K,{value:sn}=ee;if(!(!Nt||!fr||!sn)&&!!r.allowDrop({node:fr.rawNode,dropPosition:sn,phase:"drag"})&&Nt.key!==fr.key){if(sn==="before"){const en=Nt.getNext({includeDisabled:!0});if(en&&en.key===fr.key){Ue();return}}if(sn==="after"){const en=Nt.getPrev({includeDisabled:!0});if(en&&en.key===fr.key){Ue();return}}ce({event:_e,node:fr.rawNode,dragNode:Nt.rawNode,dropPosition:Ot}),de()}}function it(){z()}function At(){z()}function vr(_e){var Ke;if(r.virtualScroll||r.internalScrollable){const{value:Ot}=i;if((Ke=Ot==null?void 0:Ot.containerRef)===null||Ke===void 0?void 0:Ke.contains(_e.relatedTarget))return;T.value=null}else{const{value:Ot}=n;if(Ot==null?void 0:Ot.contains(_e.relatedTarget))return;T.value=null}}hn(T,_e=>{var Ke,Ot;if(_e!==null){if(r.virtualScroll)(Ke=a.value)===null||Ke===void 0||Ke.scrollTo({key:_e});else if(r.internalScrollable){const{value:Nt}=i;if(Nt===null)return;const fr=(Ot=Nt.contentRef)===null||Ot===void 0?void 0:Ot.querySelector(`[data-key="${RY(_e)}"]`);if(!fr)return;Nt.scrollTo({el:fr})}}}),Tn(nS,{loadingKeysRef:L,highlightKeySetRef:G,displayedCheckedKeysRef:g,displayedIndeterminateKeysRef:m,mergedSelectedKeysRef:w,mergedExpandedKeysRef:A,mergedThemeRef:e,mergedCheckStrategyRef:p,nodePropsRef:tr(r,"nodeProps"),disabledRef:tr(r,"disabled"),checkableRef:tr(r,"checkable"),selectableRef:tr(r,"selectable"),remoteRef:tr(r,"remote"),onLoadRef:tr(r,"onLoad"),draggableRef:tr(r,"draggable"),blockLineRef:tr(r,"blockLine"),indentRef:tr(r,"indent"),cascadeRef:tr(r,"cascade"),droppingMouseNodeRef:ie,droppingNodeParentRef:be,draggingNodeRef:H,droppingPositionRef:ee,droppingOffsetLevelRef:Q,fNodesRef:k,pendingNodeKeyRef:T,internalScrollableRef:tr(r,"internalScrollable"),internalCheckboxFocusableRef:tr(r,"internalCheckboxFocusable"),renderLabelRef:tr(r,"renderLabel"),renderPrefixRef:tr(r,"renderPrefix"),renderSuffixRef:tr(r,"renderSuffix"),renderSwitcherIconRef:tr(r,"renderSwitcherIcon"),labelFieldRef:tr(r,"labelField"),handleSwitcherClick:J,handleDragEnd:ht,handleDragEnter:ct,handleDragLeave:mt,handleDragStart:ar,handleDrop:Er,handleDragOver:Ht,handleSelect:Pe,handleCheck:ut});const ze={handleKeydown:D,handleKeyup:I};return Object.assign({mergedClsPrefix:t,mergedTheme:e,fNodes:st,aip:Ee,selfElRef:n,virtualListInstRef:a,scrollbarInstRef:i,handleFocusout:vr,handleDragLeaveTree:Me,handleScroll:it,getScrollContainer:o,getScrollContent:s,handleAfterEnter:j,handleResize:At,cssVars:re(()=>{const{common:{cubicBezierEaseInOut:_e},self:{fontSize:Ke,nodeBorderRadius:Ot,nodeColorHover:Nt,nodeColorPressed:fr,nodeColorActive:sn,arrowColor:en,loadingColor:Zr,nodeTextColor:Wn,nodeTextColorDisabled:gn,dropMarkColor:Pr}}=e.value;return{"--n-arrow-color":en,"--n-loading-color":Zr,"--n-bezier":_e,"--n-font-size":Ke,"--n-node-border-radius":Ot,"--n-node-color-active":sn,"--n-node-color-hover":Nt,"--n-node-color-pressed":fr,"--n-node-text-color":Wn,"--n-node-text-color-disabled":gn,"--n-drop-mark-color":Pr}})},ze)},render(){const{mergedClsPrefix:r,blockNode:t,blockLine:e,draggable:n,disabled:i,internalFocusable:a,checkable:o,handleKeyup:s,handleKeydown:l,handleFocusout:u}=this,c=a&&!i,f=c?"0":void 0,d=[`${r}-tree`,o&&`${r}-tree--checkable`,(e||t)&&`${r}-tree--block-node`,e&&`${r}-tree--block-line`],h=p=>"__motion"in p?R(t_e,{height:p.height,nodes:p.nodes,clsPrefix:r,mode:p.mode,onAfterEnter:this.handleAfterEnter}):R(tK,{key:p.key,tmNode:p,clsPrefix:r});if(this.virtualScroll){const{mergedTheme:p,internalScrollablePadding:g}=this,m=l0(g||"0");return R(Cz,{ref:"scrollbarInstRef",onDragleave:n?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:d,theme:p.peers.Scrollbar,themeOverrides:p.peerOverrides.Scrollbar,tabindex:f,onKeyup:c?s:void 0,onKeydown:c?l:void 0,onFocusout:c?u:void 0},{default:()=>R(sA,{ref:"virtualListInstRef",items:this.fNodes,itemSize:sE,ignoreItemResize:this.aip,paddingTop:m.top,paddingBottom:m.bottom,style:[this.cssVars,{paddingLeft:m.left,paddingRight:m.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:y})=>h(y)})})}const{internalScrollable:v}=this;return v?R(Cz,{class:d,tabindex:f,onKeyup:c?s:void 0,onKeydown:c?l:void 0,onFocusout:c?u:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}},{default:()=>R("div",{onDragleave:n?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(h))}):R("div",{class:d,tabindex:f,ref:"selfElRef",style:this.cssVars,onKeyup:c?s:void 0,onKeydown:c?l:void 0,onFocusout:c?u:void 0,onDragleave:n?this.handleDragLeaveTree:void 0},this.fNodes.map(h))}});function i4(r,t){const{rawNode:e}=r;return Object.assign(Object.assign({},e),{label:e[t],value:r.key})}function a4(r,t,e,n){const{rawNode:i}=r;return Object.assign(Object.assign({},i),{value:r.key,label:t.map(a=>a.rawNode[n]).join(e)})}function o_e(r,t,e,n){const i=new Set,a=new Set,o=new Set,s=[],l=[],u=[];function c(d){d.forEach(h=>{if(u.push(h),t(e,h)){i.add(h[n]),o.add(h[n]);for(let v=u.length-2;v>=0;--v){const p=u[v][n];if(!a.has(p))a.add(p),i.has(p)&&i.delete(p);else break}}h.children&&c(h.children),u.pop()})}c(r);function f(d,h){d.forEach(v=>{const p=v[n],g=i.has(p),m=a.has(p);if(!g&&!m)return;const{children:y}=v;if(y)if(g)h.push(v);else{s.push(p);const b=Object.assign(Object.assign({},v),{children:[]});h.push(b),f(y,b.children)}else h.push(v)})}return f(r,l),{filteredTree:l,highlightKeySet:o,expandedKeys:s}}var s_e=ke([le("tree-select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 `),le("tree-select-menu",`
 position: relative;
 overflow: hidden;
 margin: 4px 0;
 transition: box-shadow .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-menu-border-radius);
 box-shadow: var(--n-menu-box-shadow);
 background-color: var(--n-menu-color);
 outline: none;
 `,[le("tree","max-height: var(--n-menu-height);"),Ae("empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),Ae("action",`
 padding: var(--n-action-padding);
 transition: 
 color .3s var(--n-bezier);
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),Dv()])]);const l_e=Object.assign(Object.assign(Object.assign(Object.assign({},wr.props),{bordered:{type:Boolean,default:!0},cascade:Boolean,checkable:Boolean,clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},consistentMenuWidth:{type:Boolean,default:!0},defaultShow:Boolean,defaultValue:{type:[String,Number,Array],default:null},disabled:{type:Boolean,default:void 0},filterable:Boolean,checkStrategy:{type:String,default:"all"},maxTagCount:[String,Number],multiple:Boolean,showPath:Boolean,separator:{type:String,default:" / "},options:{type:Array,default:()=>[]},placeholder:String,placement:{type:String,default:"bottom-start"},show:{type:Boolean,default:void 0},size:String,value:[String,Number,Array],to:Xo.propTo,menuProps:Object,virtualScroll:{type:Boolean,default:!0}}),iK),{onBlur:Function,onFocus:Function,onUpdateShow:[Function,Array],onUpdateValue:[Function,Array],"onUpdate:value":[Function,Array],"onUpdate:show":[Function,Array],leafOnly:{type:Boolean,default:void 0}});var cst=It({name:"TreeSelect",props:l_e,setup(r){const t=Re(null),e=Re(null),n=Re(null),i=Re(null),{mergedClsPrefixRef:a,namespaceRef:o}=Bn(r),{localeRef:s}=Bd("Select"),{mergedSizeRef:l,mergedDisabledRef:u,mergedStatusRef:c,nTriggerFormBlur:f,nTriggerFormChange:d,nTriggerFormFocus:h,nTriggerFormInput:v}=ic(r),p=Re(r.defaultValue),g=tr(r,"value"),m=zi(g,p),y=Re(r.defaultShow),b=tr(r,"show"),w=zi(b,y),S=Re(""),E=re(()=>{const{filter:Ce}=r;if(Ce)return Ce;const{labelField:ct}=r;return(mt,Me)=>mt.length?Me[ct].toLowerCase().includes(mt.toLowerCase()):!0}),_=re(()=>{if(!r.filterable)return{filteredTree:r.options,highlightKeySet:void 0,expandedKeys:void 0};const{value:Ce}=S;return!Ce.length||!E.value?{filteredTree:r.options,highlightKeySet:void 0,expandedKeys:void 0}:o_e(r.options,E.value,Ce,r.keyField)}),A=re(()=>Cg(r.options,QR(r.keyField,r.childrenField))),k=re(()=>Cg(_.value.filteredTree,QR(r.keyField,r.childrenField))),{value:T}=m,I=Re(r.checkable?null:Array.isArray(T)&&T.length?T[T.length-1]:null),D=re(()=>r.multiple&&r.cascade&&r.checkable),O=Re(r.defaultExpandAll?k.value.getNonLeafKeys():r.defaultExpandedKeys||r.expandedKeys),B=tr(r,"expandedKeys"),U=zi(B,O),N=Re(!1),G=re(()=>{const{placeholder:Ce}=r;return Ce!==void 0?Ce:s.value.placeholder}),L=re(()=>r.checkable?[]:F.value),F=re(()=>{const{value:Ce}=m;return r.multiple?Array.isArray(Ce)?Ce:[]:Ce===null||Array.isArray(Ce)?[]:[Ce]}),W=re(()=>{const{multiple:Ce,showPath:ct,separator:mt,labelField:Me}=r;if(Ce)return null;const{value:ht}=m;if(!Array.isArray(ht)&&ht!==null){const{value:ar}=A,Ht=ar.getNode(ht);if(Ht!==null)return ct?a4(Ht,ar.getPath(ht).treeNodePath,mt,Me):i4(Ht,Me)}return null}),H=re(()=>{const{multiple:Ce,showPath:ct,separator:mt}=r;if(!Ce)return null;const{value:Me}=m;if(Array.isArray(Me)){const ht=[],{value:ar}=A,{checkedKeys:Ht}=ar.getCheckedKeys(Me,{checkStrategy:r.checkStrategy,cascade:D.value}),{labelField:Er}=r;return Ht.forEach(it=>{const At=ar.getNode(it);At!==null&&ht.push(ct?a4(At,ar.getPath(it).treeNodePath,mt,Er):i4(At,Er))}),ht}return[]}),K=re(()=>{const{self:{menuPadding:Ce}}=Pe.value;return Ce});function ie(){var Ce;(Ce=e.value)===null||Ce===void 0||Ce.focus()}function ee(){var Ce;(Ce=e.value)===null||Ce===void 0||Ce.focusInput()}function Q(Ce){const{onUpdateShow:ct,"onUpdate:show":mt}=r;ct&&Tt(ct,Ce),mt&&Tt(mt,Ce),y.value=Ce}function be(Ce,ct){const{onUpdateValue:mt,"onUpdate:value":Me}=r;mt&&Tt(mt,Ce,ct),Me&&Tt(Me,Ce,ct),p.value=Ce,v(),d()}function fe(Ce,ct){const{onUpdateIndeterminateKeys:mt,"onUpdate:indeterminateKeys":Me}=r;mt&&Tt(mt,Ce,ct),Me&&Tt(Me,Ce,ct)}function he(Ce,ct){const{onUpdateExpandedKeys:mt,"onUpdate:expandedKeys":Me}=r;mt&&Tt(mt,Ce,ct),Me&&Tt(Me,Ce,ct),O.value=Ce}function Ee(Ce){const{onFocus:ct}=r;ct&&ct(Ce),h()}function He(Ce){nt();const{onBlur:ct}=r;ct&&ct(Ce),f()}function nt(){Q(!1)}function st(){u.value||(S.value="",Q(!0),r.filterable&&ee())}function z(){S.value=""}function j(Ce){var ct;w.value&&(((ct=e.value)===null||ct===void 0?void 0:ct.$el.contains(Ce.target))||nt())}function X(){u.value||(w.value?r.filterable||nt():st())}function ae(Ce){const{value:{getNode:ct}}=A;return Ce.map(mt=>{var Me;return((Me=ct(mt))===null||Me===void 0?void 0:Me.rawNode)||null})}function ue(Ce){const ct=ae(Ce);r.multiple?be(Ce,ct):(Ce.length?be(Ce[0],ct[0]||null):be(null,null),nt(),r.filterable||ie()),r.filterable&&(ee(),r.clearFilterAfterSelect&&(S.value=""))}function Be(Ce){r.checkable&&fe(Ce,ae(Ce))}function Ze(Ce){var ct;((ct=i.value)===null||ct===void 0?void 0:ct.contains(Ce.relatedTarget))||(N.value=!0,Ee(Ce))}function Le(Ce){var ct;((ct=i.value)===null||ct===void 0?void 0:ct.contains(Ce.relatedTarget))||(N.value=!1,He(Ce))}function se(Ce){var ct,mt,Me;((ct=i.value)===null||ct===void 0?void 0:ct.contains(Ce.relatedTarget))||((Me=(mt=e.value)===null||mt===void 0?void 0:mt.$el)===null||Me===void 0?void 0:Me.contains(Ce.relatedTarget))||(N.value=!0,Ee(Ce))}function Se(Ce){var ct,mt,Me;((ct=i.value)===null||ct===void 0?void 0:ct.contains(Ce.relatedTarget))||((Me=(mt=e.value)===null||mt===void 0?void 0:mt.$el)===null||Me===void 0?void 0:Me.contains(Ce.relatedTarget))||(N.value=!1,He(Ce))}function Y(Ce){Ce.stopPropagation();const{multiple:ct}=r;!ct&&r.filterable&&nt(),ct?be([],[]):be(null,null)}function ve(Ce){const{value:ct}=m;if(Array.isArray(ct)){const mt=ct.findIndex(Me=>Me===Ce.value);if(~mt)if(r.checkable){const{checkedKeys:Me}=A.value.uncheck(Ce.value,ct,{cascade:D.value});be(Me,ae(Me))}else{const Me=Array.from(ct);Me.splice(mt,1),be(Me,ae(Me))}}}function ce(Ce){const{value:ct}=Ce.target;S.value=ct}function de(Ce){const{value:ct}=n;ct&&ct.handleKeydown(Ce)}function Fe(Ce){Ce.code==="Enter"||Ce.code==="NumpadEnter"?(w.value?(Ue(Ce),r.multiple||(nt(),ie())):st(),Ce.preventDefault()):Ce.code==="Escape"?(nt(),ie()):w.value?Ue(Ce):Ce.code==="ArrowDown"&&st()}function Ue(Ce){const{value:ct}=n;ct&&ct.handleKeyup(Ce)}function lt(){nt(),ie()}function ut(Ce){tf(Ce,"action")||Ce.preventDefault()}Tn(nK,{pendingNodeKeyRef:I});function We(){var Ce;(Ce=t.value)===null||Ce===void 0||Ce.syncPosition()}hn(m,()=>{!w.value||Ja(We)});let J;hn(S,(Ce,ct)=>{if(!Ce.length)J!==void 0&&he(J,ae(J));else{ct.length||(J=U.value);const{expandedKeys:mt}=_.value;mt!==void 0&&he(mt,ae(mt))}});const Pe=wr("TreeSelect","-tree-select",s_e,t2e,r,a);return{menuElRef:i,mergedStatus:c,triggerInstRef:e,followerInstRef:t,treeInstRef:n,mergedClsPrefix:a,mergedValue:m,mergedShow:w,namespace:o,adjustedTo:Xo(r),isMounted:Mv(),focused:N,filteredTreeInfo:_,dataTreeMate:A,displayTreeMate:k,menuPadding:K,mergedPlaceholder:G,mergedExpandedKeys:U,treeSelectedKeys:L,treeCheckedKeys:F,mergedSize:l,mergedDisabled:u,selectedOption:W,selectedOptions:H,pattern:S,pendingNodeKey:I,mergedCascade:D,doUpdateExpandedKeys:he,handleMenuLeave:z,handleTriggerClick:X,handleMenuClickoutside:j,handleUpdateCheckedKeys:ue,handleUpdateIndeterminateKeys:Be,handleTriggerFocus:Ze,handleTriggerBlur:Le,handleMenuFocusin:se,handleMenuFocusout:Se,handleClear:Y,handleDeleteOption:ve,handlePatternInput:ce,handleKeydown:de,handleKeyup:Fe,handleTabOut:lt,handleMenuMousedown:ut,cssVars:re(()=>{const{common:{cubicBezierEaseInOut:Ce},self:{menuBoxShadow:ct,menuBorderRadius:mt,menuColor:Me,menuHeight:ht,actionPadding:ar,actionDividerColor:Ht,actionTextColor:Er}}=Pe.value;return{"--n-menu-box-shadow":ct,"--n-menu-border-radius":mt,"--n-menu-color":Me,"--n-menu-height":ht,"--n-bezier":Ce,"--n-action-padding":ar,"--n-action-text-color":Er,"--n-action-divider-color":Ht}}),mergedTheme:Pe}},render(){const{mergedTheme:r,mergedClsPrefix:t,$slots:e}=this;return R("div",{class:`${t}-tree-select`},R(Vg,null,{default:()=>[R(Wg,null,{default:()=>R(jX,{ref:"triggerInstRef",status:this.mergedStatus,focused:this.focused,clsPrefix:t,theme:r.peers.InternalSelection,themeOverrides:r.peerOverrides.InternalSelection,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,size:this.mergedSize,bordered:this.bordered,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,active:this.mergedShow,multiple:this.multiple,maxTagCount:this.maxTagCount,showArrow:!0,filterable:this.filterable,clearable:this.clearable,pattern:this.pattern,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onBlur:this.handleTriggerBlur,onDeleteOption:this.handleDeleteOption,onKeydown:this.handleKeydown,onKeyup:this.handleKeyup})}),R(jg,{ref:"followerInstRef",show:this.mergedShow,placement:this.placement,to:this.adjustedTo,teleportDisabled:this.adjustedTo===Xo.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target"},{default:()=>R(uo,{name:"fade-in-scale-up-transition",appear:this.isMounted,onLeave:this.handleMenuLeave},{default:()=>{if(!this.mergedShow)return null;const{mergedClsPrefix:n,filteredTreeInfo:i,checkable:a,multiple:o,menuProps:s}=this;return Gl(R("div",Object.assign({},s,{class:[`${n}-tree-select-menu`,s==null?void 0:s.class],ref:"menuElRef",style:[(s==null?void 0:s.style)||"",this.cssVars],tabindex:0,onMousedown:this.handleMenuMousedown,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown,onFocusin:this.handleMenuFocusin,onFocusout:this.handleMenuFocusout}),i.filteredTree.length?R(a_e,{ref:"treeInstRef",blockLine:!0,animated:!1,data:i.filteredTree,cancelable:o,labelField:this.labelField,theme:r.peers.Tree,themeOverrides:r.peerOverrides.Tree,defaultExpandAll:this.defaultExpandAll,defaultExpandedKeys:this.defaultExpandedKeys,expandedKeys:this.mergedExpandedKeys,checkedKeys:this.treeCheckedKeys,selectedKeys:this.treeSelectedKeys,checkable:a,checkStrategy:this.checkStrategy,cascade:this.mergedCascade,leafOnly:this.leafOnly,multiple:this.multiple,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,internalDataTreeMate:this.dataTreeMate,internalDisplayTreeMate:this.displayTreeMate,internalHighlightKeySet:i.highlightKeySet,internalUnifySelectCheck:!0,internalScrollable:!0,internalScrollablePadding:this.menuPadding,internalFocusable:!1,internalCheckboxFocusable:!1,onUpdateCheckedKeys:this.handleUpdateCheckedKeys,onUpdateIndeterminateKeys:this.handleUpdateIndeterminateKeys,onUpdateExpandedKeys:this.doUpdateExpandedKeys}):R("div",{class:`${n}-tree-select-menu__empty`},e.empty?e.empty():R(GL,{theme:r.peers.Empty,themeOverrides:r.peerOverrides.Empty})),e.action&&R("div",{class:`${n}-tree-select-menu__action`,"data-action":!0},{default:e.action}),R(Rv,{onFocus:this.handleTabOut})),[[Id,this.handleMenuClickoutside]])}})})]}))}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var JR=function(r,t){return JR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},JR(r,t)};function Ve(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");JR(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var P=function(){return P=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},P.apply(this,arguments)};function xn(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e}function u_e(r,t,e,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,t,e,n);else for(var s=r.length-1;s>=0;s--)(o=r[s])&&(a=(i<3?o(a):i>3?o(t,e,a):o(t,e))||a);return i>3&&a&&Object.defineProperty(t,e,a),a}function c_e(r,t){return function(e,n){t(e,n,r)}}function f_e(r,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,t)}function Bc(r,t,e,n){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(r,t||[])).next())})}function zc(r,t){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){e.label=u[1];break}if(u[0]===6&&e.label<a[1]){e.label=a[1],a=u;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(u);break}a[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(r,e)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var cF=Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]};function d_e(r,t){for(var e in r)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&cF(t,r,e)}function eD(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function aK(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(o)throw o.error}}return a}function h_e(){for(var r=[],t=0;t<arguments.length;t++)r=r.concat(aK(arguments[t]));return r}function ki(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),i=0,t=0;t<e;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function $i(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return r.concat(a||Array.prototype.slice.call(t))}function ow(r){return this instanceof ow?(this.v=r,this):new ow(r)}function v_e(r,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(r,t||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(h){return new Promise(function(v,p){a.push([d,h,v,p])>1||s(d,h)})})}function s(d,h){try{l(n[d](h))}catch(v){f(a[0][3],v)}}function l(d){d.value instanceof ow?Promise.resolve(d.value.v).then(u,c):f(a[0][2],d)}function u(d){s("next",d)}function c(d){s("throw",d)}function f(d,h){d(h),a.shift(),a.length&&s(a[0][0],a[0][1])}}function p_e(r){var t,e;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=r[i]?function(o){return(e=!e)?{value:ow(r[i](o)),done:i==="return"}:a?a(o):o}:a}}function g_e(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r[Symbol.asyncIterator],e;return t?t.call(r):(r=typeof eD=="function"?eD(r):r[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(a){e[a]=r[a]&&function(o){return new Promise(function(s,l){o=r[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}function m_e(r,t){return Object.defineProperty?Object.defineProperty(r,"raw",{value:t}):r.raw=t,r}var y_e=Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t};function b_e(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&cF(t,r,e);return y_e(t,r),t}function x_e(r){return r&&r.__esModule?r:{default:r}}function w_e(r,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(r):n?n.value:t.get(r)}function S_e(r,t,e,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!i:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,e):i?i.value=e:t.set(r,e),e}var M_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",__extends:Ve,get __assign(){return P},__rest:xn,__decorate:u_e,__param:c_e,__metadata:f_e,__awaiter:Bc,__generator:zc,__createBinding:cF,__exportStar:d_e,__values:eD,__read:aK,__spread:h_e,__spreadArrays:ki,__spreadArray:$i,__await:ow,__asyncGenerator:v_e,__asyncDelegator:p_e,__asyncValues:g_e,__makeTemplateObject:m_e,__importStar:b_e,__importDefault:x_e,__classPrivateFieldGet:w_e,__classPrivateFieldSet:S_e}),cl=function(r){return r!==null&&typeof r!="function"&&isFinite(r.length)},Hc=function(r,t){return cl(r)?r.indexOf(t)>-1:!1},ko=function(r,t){if(!cl(r))return r;for(var e=[],n=0;n<r.length;n++){var i=r[n];t(i,n)&&e.push(i)}return e},oK=function(r,t){return t===void 0&&(t=[]),ko(r,function(e){return!Hc(t,e)})},C_e={}.toString,Su=function(r,t){return C_e.call(r)==="[object "+t+"]"},yr=function(r){return Su(r,"Function")},xt=function(r){return r==null},gt=function(r){return Array.isArray?Array.isArray(r):Su(r,"Array")},Hn=function(r){var t=typeof r;return r!==null&&t==="object"||t==="function"};function q(r,t){if(!!r){var e;if(gt(r))for(var n=0,i=r.length;n<i&&(e=t(r[n],n),e!==!1);n++);else if(Hn(r)){for(var a in r)if(r.hasOwnProperty(a)&&(e=t(r[a],a),e===!1))break}}}var Yg=Object.keys?function(r){return Object.keys(r)}:function(r){var t=[];return q(r,function(e,n){yr(r)&&n==="prototype"||t.push(n)}),t};function fF(r,t){var e=Yg(t),n=e.length;if(xt(r))return!n;for(var i=0;i<n;i+=1){var a=e[i];if(t[a]!==r[a]||!(a in r))return!1}return!0}var I_=function(r){return typeof r=="object"&&r!==null},Oa=function(r){if(!I_(r)||!Su(r,"Object"))return!1;if(Object.getPrototypeOf(r)===null)return!0;for(var t=r;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(r)===t};function bu(r,t){if(!gt(r))return null;var e;if(yr(t)&&(e=t),Oa(t)&&(e=function(i){return fF(i,t)}),e){for(var n=0;n<r.length;n+=1)if(e(r[n]))return r[n]}return null}function dF(r,t,e){e===void 0&&(e=0);for(var n=e;n<r.length;n++)if(t(r[n],n))return n;return-1}var sK=function(r,t){for(var e=null,n=0;n<r.length;n++){var i=r[n],a=i[t];if(!xt(a)){gt(a)?e=a[0]:e=a;break}}return e},fl=function(r){if(!gt(r))return[];for(var t=[],e=0;e<r.length;e++)t=t.concat(r[e]);return t},lK=function(r,t){if(t===void 0&&(t=[]),!gt(r))t.push(r);else for(var e=0;e<r.length;e+=1)lK(r[e],t);return t},bs=function(r){if(!!gt(r))return r.reduce(function(t,e){return Math.max(t,e)},r[0])},Os=function(r){if(!!gt(r))return r.reduce(function(t,e){return Math.min(t,e)},r[0])},hF=function(r){var t=r.filter(function(o){return!isNaN(o)});if(!t.length)return{min:0,max:0};if(gt(r[0])){for(var e=[],n=0;n<r.length;n++)e=e.concat(r[n]);t=e}var i=bs(t),a=Os(t);return{min:a,max:i}},uK=Array.prototype,E_e=uK.splice,__e=uK.indexOf,T_e=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var n=0;n<t.length;n++)for(var i=t[n],a=-1;(a=__e.call(r,i))>-1;)E_e.call(r,a,1);return r},A_e=Array.prototype.splice,cK=function(t,e){if(!cl(t))return[];for(var n=t?e.length:0,i=n-1;n--;){var a=void 0,o=e[n];(n===i||o!==a)&&(a=o,A_e.call(t,o,1))}return t},us=function(r,t,e){if(!gt(r)&&!Oa(r))return r;var n=e;return q(r,function(i,a){n=t(n,i,a)}),n},fK=function(r,t){var e=[];if(!cl(r))return e;for(var n=-1,i=[],a=r.length;++n<a;){var o=r[n];t(o,n,r)&&(e.push(o),i.push(n))}return cK(r,i),e},wt=function(r){return Su(r,"String")};function dK(r,t){var e;if(yr(t))e=function(i,a){return t(i)-t(a)};else{var n=[];wt(t)?n.push(t):gt(t)&&(n=t),e=function(i,a){for(var o=0;o<n.length;o+=1){var s=n[o];if(i[s]>a[s])return 1;if(i[s]<a[s])return-1}return 0}}return r.sort(e),r}function nf(r,t){t===void 0&&(t=new Map);var e=[];if(Array.isArray(r))for(var n=0,i=r.length;n<i;n++){var a=r[n];t.has(a)||(e.push(a),t.set(a,!0))}return e}var k_e=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return nf([].concat.apply([],r))},xu=function(r,t){for(var e=[],n={},i=0;i<r.length;i++){var a=r[i],o=a[t];if(!xt(o)){gt(o)||(o=[o]);for(var s=0;s<o.length;s++){var l=o[s];n[l]||(e.push(l),n[l]=!0)}}}return e};function Fs(r){if(cl(r))return r[0]}function Ua(r){if(cl(r)){var t=r;return t[t.length-1]}}function M_e(r,t){return gt(r)||wt(r)?r[0]===t:!1}function I_e(r,t){return gt(r)||wt(r)?r[r.length-1]===t:!1}var mA=function(r,t){for(var e=0;e<r.length;e++)if(!t(r[e],e))return!1;return!0},iS=function(r,t){for(var e=0;e<r.length;e++)if(t(r[e],e))return!0;return!1},P_e=Object.prototype.hasOwnProperty;function xs(r,t){if(!t||!gt(r))return{};for(var e={},n=yr(t)?t:function(s){return s[t]},i,a=0;a<r.length;a++){var o=r[a];i=n(o),P_e.call(e,i)?e[i].push(o):e[i]=[o]}return e}function vF(r,t){if(!t)return{0:r};if(!yr(t)){var e=gt(t)?t:t.replace(/\s+/g,"").split("*");t=function(n){for(var i="_",a=0,o=e.length;a<o;a++)i+=n[e[a]]&&n[e[a]].toString();return i}}return xs(r,t)}var hK=function(r,t){if(!t)return[r];var e=vF(r,t),n=[];for(var i in e)n.push(e[i]);return n};function R_e(r,t){return r["_wrap_"+t]}function jy(r,t){if(r["_wrap_"+t])return r["_wrap_"+t];var e=function(n){r[t](n)};return r["_wrap_"+t]=e,e}var o4={};function D_e(r){var t=o4[r];if(!t){for(var e=r.toString(16),n=e.length;n<6;n++)e="0"+e;t="#"+e,o4[r]=t}return t}function O_e(r){var t=0,e=0,n=0,i=0;return gt(r)?r.length===1?t=e=n=i=r[0]:r.length===2?(t=n=r[0],e=i=r[1]):r.length===3?(t=r[0],e=i=r[1],n=r[2]):(t=r[0],e=r[1],n=r[2],i=r[3]):t=e=n=i=r,{r1:t,r2:e,r3:n,r4:i}}var Bi=function(r,t,e){return r<t?t:r>e?e:r},L2=function(r,t){var e=t.toString(),n=e.indexOf(".");if(n===-1)return Math.round(r);var i=e.substr(n+1).length;return i>20&&(i=20),parseFloat(r.toFixed(i))},ir=function(r){return Su(r,"Number")},L_e=function(r){return ir(r)&&r%1!==0},F_e=function(r){return ir(r)&&r%2===0},N_e=Number.isInteger?Number.isInteger:function(r){return ir(r)&&r%1===0},B_e=function(r){return ir(r)&&r<0},z_e=1e-5;function Vo(r,t,e){return e===void 0&&(e=z_e),Math.abs(r-t)<e}var $_e=function(r){return ir(r)&&r%2!==0},G_e=function(r){return ir(r)&&r>0},pF=function(r,t){if(!!gt(r)){for(var e,n=-1/0,i=0;i<r.length;i++){var a=r[i],o=yr(t)?t(a):a[t];o>n&&(e=a,n=o)}return e}},vK=function(r,t){if(!!gt(r)){for(var e,n=1/0,i=0;i<r.length;i++){var a=r[i],o=yr(t)?t(a):a[t];o<n&&(e=a,n=o)}return e}},yA=function(r,t){return(r%t+t)%t},U_e=180/Math.PI,H_e=function(r){return U_e*r},V_e=parseInt,W_e=Math.PI/180,bA=function(r){return W_e*r},af=function(r,t){return r.hasOwnProperty(t)},Y0=Object.values?function(r){return Object.values(r)}:function(r){var t=[];return q(r,function(e,n){yr(r)&&n==="prototype"||t.push(e)}),t},j_e=function(r,t){return Hc(Y0(r),t)},Ov=function(r){return xt(r)?"":r.toString()},Xg=function(r){return Ov(r).toLowerCase()},Y_e=function(r){var t=Ov(r);return t.charAt(0).toLowerCase()+t.substring(1)};function gF(r,t){return!r||!t?r:r.replace(/\\?\{([^{}]+)\}/g,function(e,n){return e.charAt(0)==="\\"?e.slice(1):t[n]===void 0?"":t[n]})}var X_e=function(r){return Ov(r).toUpperCase()},Ju=function(r){var t=Ov(r);return t.charAt(0).toUpperCase()+t.substring(1)},q_e={}.toString,pK=function(r){return q_e.call(r).replace(/^\[object /,"").replace(/]$/,"")},K_e=function(r){return Su(r,"Arguments")},Pd=function(r){return Su(r,"Boolean")},mF=function(r){return Su(r,"Date")},Z_e=function(r){return Su(r,"Error")};function Q_e(r){return ir(r)&&isFinite(r)}var gK=function(r){return r===null},J_e=Object.prototype,mK=function(r){var t=r&&r.constructor,e=typeof t=="function"&&t.prototype||J_e;return r===e},eTe=function(r){return Su(r,"RegExp")},Jh=function(r){return r===void 0},yF=function(r){return r instanceof Element||r instanceof HTMLDocument};function yK(r){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)};return t(r)}function bK(r){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;t(r)}function AI(r,t){for(var e in t)t.hasOwnProperty(e)&&e!=="constructor"&&t[e]!==void 0&&(r[e]=t[e])}function cr(r,t,e,n){return t&&AI(r,t),e&&AI(r,e),n&&AI(r,n),r}var tTe=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var e=r[0],n=1;n<r.length;n++){var i=r[n];yr(i)&&(i=i.prototype),cr(e.prototype,i)}},Jr=function(r){if(typeof r!="object"||r===null)return r;var t;if(gt(r)){t=[];for(var e=0,n=r.length;e<n;e++)typeof r[e]=="object"&&r[e]!=null?t[e]=Jr(r[e]):t[e]=r[e]}else{t={};for(var i in r)typeof r[i]=="object"&&r[i]!=null?t[i]=Jr(r[i]):t[i]=r[i]}return t};function aS(r,t,e){var n;return function(){var i=this,a=arguments,o=function(){n=null,e||r.apply(i,a)},s=e&&!n;clearTimeout(n),n=setTimeout(o,t),s&&r.apply(i,a)}}var qg=function(r,t){if(!yr(r))throw new TypeError("Expected a function");var e=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=t?t.apply(this,n):n[0],o=e.cache;if(o.has(a))return o.get(a);var s=r.apply(this,n);return o.set(a,s),s};return e.cache=new Map,e},rTe=5;function xK(r,t,e,n){e=e||0,n=n||rTe;for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];a!==null&&Oa(a)?(Oa(r[i])||(r[i]={}),e<n?xK(r[i],a,e+1,n):r[i]=t[i]):gt(a)?(r[i]=[],r[i]=r[i].concat(a)):a!==void 0&&(r[i]=a)}}var Kt=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var n=0;n<t.length;n+=1)xK(r,t[n]);return r},nTe=function(r,t,e,n){yr(t)||(e=t,t=r,r=function(){});var i=Object.create?function(o,s){return Object.create(o,{constructor:{value:s}})}:function(o,s){function l(){}l.prototype=o;var u=new l;return u.constructor=s,u},a=i(t.prototype,r);return r.prototype=cr(a,r.prototype),r.superclass=i(t.prototype,t),cr(a,e),cr(r,n),r},bF=function(r,t){if(!cl(r))return-1;var e=Array.prototype.indexOf;if(e)return e.call(r,t);for(var n=-1,i=0;i<r.length;i++)if(r[i]===t){n=i;break}return n},iTe=Object.prototype.hasOwnProperty;function Bs(r){if(xt(r))return!0;if(cl(r))return!r.length;var t=pK(r);if(t==="Map"||t==="Set")return!r.size;if(mK(r))return!Object.keys(r).length;for(var e in r)if(iTe.call(r,e))return!1;return!0}var Zi=function(r,t){if(r===t)return!0;if(!r||!t||wt(r)||wt(t))return!1;if(cl(r)||cl(t)){if(r.length!==t.length)return!1;for(var e=!0,n=0;n<r.length&&(e=Zi(r[n],t[n]),!!e);n++);return e}if(I_(r)||I_(t)){var i=Object.keys(r),a=Object.keys(t);if(i.length!==a.length)return!1;for(var e=!0,n=0;n<i.length&&(e=Zi(r[i[n]],t[i[n]]),!!e);n++);return e}return!1},aTe=function(r,t,e){return yr(e)?!!e(r,t):Zi(r,t)},Di=function(r,t){if(!cl(r))return r;for(var e=[],n=0;n<r.length;n++){var i=r[n];e.push(t(i,n))}return e},oTe=function(r){return r},wK=function(r,t){t===void 0&&(t=oTe);var e={};return Hn(r)&&!xt(r)&&Object.keys(r).forEach(function(n){e[n]=t(r[n],n)}),e},me=function(r,t,e){for(var n=0,i=wt(t)?t.split("."):t;r&&n<i.length;)r=r[i[n++]];return r===void 0||n<i.length?e:r},$a=function(r,t,e){var n=r,i=wt(t)?t.split("."):t;return i.forEach(function(a,o){o<i.length-1?(Hn(n[a])||(n[a]=ir(i[o+1])?[]:{}),n=n[a]):n[a]=e}),r},sTe=Object.prototype.hasOwnProperty,xA=function(r,t){if(r===null||!Oa(r))return{};var e={};return q(t,function(n){sTe.call(r,n)&&(e[n]=r[n])}),e},oS=function(r,t){return us(r,function(e,n,i){return t.includes(i)||(e[i]=n),e},{})},X0=function(r,t,e){var n,i,a,o,s=0;e||(e={});var l=function(){s=e.leading===!1?0:Date.now(),n=null,o=r.apply(i,a),n||(i=a=null)},u=function(){var c=Date.now();!s&&e.leading===!1&&(s=c);var f=t-(c-s);return i=this,a=arguments,f<=0||f>t?(n&&(clearTimeout(n),n=null),s=c,o=r.apply(i,a),n||(i=a=null)):!n&&e.trailing!==!1&&(n=setTimeout(l,f)),o};return u.cancel=function(){clearTimeout(n),s=0,n=i=a=null},u},SK=function(r){return cl(r)?Array.prototype.slice.call(r):[]},lE={},ec=function(r){return r=r||"g",lE[r]?lE[r]+=1:lE[r]=1,r+lE[r]},pd=function(){},lTe=function(r){return r};function Qa(r){return xt(r)?0:cl(r)?r.length:Object.keys(r).length}var uE,t1=qg(function(r,t){t===void 0&&(t={});var e=t.fontSize,n=t.fontFamily,i=t.fontWeight,a=t.fontStyle,o=t.fontVariant;return uE||(uE=document.createElement("canvas").getContext("2d")),uE.font=[a,o,i,e+"px",n].join(" "),uE.measureText(wt(r)?r:"").width},function(r,t){return t===void 0&&(t={}),ki([r],Y0(t)).join("")}),CK=function(r,t,e,n){n===void 0&&(n="...");var i=16,a=t1(n,e),o=wt(r)?r:Ov(r),s=t,l=[],u,c;if(t1(r,e)<=t)return r;for(;u=o.substr(0,i),c=t1(u,e),!(c+a>s&&c>s);)if(l.push(u),s-=c,o=o.substr(i),!o)return l.join("");for(;u=o.substr(0,1),c=t1(u,e),!(c+a>s);)if(l.push(u),s-=c,o=o.substr(1),!o)return l.join("");return""+l.join("")+n},EK=function(){function r(){this.map={}}return r.prototype.has=function(t){return this.map[t]!==void 0},r.prototype.get=function(t,e){var n=this.map[t];return n===void 0?e:n},r.prototype.set=function(t,e){this.map[t]=e},r.prototype.clear=function(){this.map={}},r.prototype.delete=function(t){delete this.map[t]},r.prototype.size=function(){return Object.keys(this.map).length},r}(),_g=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",contains:Hc,includes:Hc,difference:oK,find:bu,findIndex:dF,firstValue:sK,flatten:fl,flattenDeep:lK,getRange:hF,pull:T_e,pullAt:cK,reduce:us,remove:fK,sortBy:dK,union:k_e,uniq:nf,valuesOfKey:xu,head:Fs,last:Ua,startsWith:M_e,endsWith:I_e,filter:ko,every:mA,some:iS,group:hK,groupBy:xs,groupToMap:vF,getWrapBehavior:R_e,wrapBehavior:jy,number2color:D_e,parseRadius:O_e,clamp:Bi,fixedBase:L2,isDecimal:L_e,isEven:F_e,isInteger:N_e,isNegative:B_e,isNumberEqual:Vo,isOdd:$_e,isPositive:G_e,max:bs,maxBy:pF,min:Os,minBy:vK,mod:yA,toDegree:H_e,toInteger:V_e,toRadian:bA,forIn:q,has:af,hasKey:af,hasValue:j_e,keys:Yg,isMatch:fF,values:Y0,lowerCase:Xg,lowerFirst:Y_e,substitute:gF,upperCase:X_e,upperFirst:Ju,getType:pK,isArguments:K_e,isArray:gt,isArrayLike:cl,isBoolean:Pd,isDate:mF,isError:Z_e,isFunction:yr,isFinite:Q_e,isNil:xt,isNull:gK,isNumber:ir,isObject:Hn,isObjectLike:I_,isPlainObject:Oa,isPrototype:mK,isRegExp:eTe,isString:wt,isType:Su,isUndefined:Jh,isElement:yF,requestAnimationFrame:yK,clearAnimationFrame:bK,augment:tTe,clone:Jr,debounce:aS,memoize:qg,deepMix:Kt,each:q,extend:nTe,indexOf:bF,isEmpty:Bs,isEqual:Zi,isEqualWith:aTe,map:Di,mapValues:wK,mix:cr,assign:cr,get:me,set:$a,pick:xA,omit:oS,throttle:X0,toArray:SK,toString:Ov,uniqueId:ec,noop:pd,identity:lTe,size:Qa,measureTextWidth:t1,getEllipsisText:CK,Cache:EK}),uTe={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(t){return Object.assign(this,t),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(t){var e=this,n=this.events;this.graph=t,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&t.get("canvas").set("draggable",!0),q(n,function(i,a){t.on(a,i)}),document.addEventListener("visibilitychange",function(){e.keydown=!1})},unbind:function(t){var e=this.events,n=t.get("canvas").get("draggable");(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&t.get("canvas").set("draggable",!1),q(e,function(i,a){t.off(a,i)}),t.get("canvas").set("draggable",n)},get:function(t){return this[t]},set:function(t,e){return this[t]=e,this}},_K=function(){function r(){}return r.registerBehavior=function(t,e){if(!e)throw new Error("please specify handler for this behavior: ".concat(t));var n=Jr(uTe);Object.assign(n,e);var i=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var l=this.getEvents();this.events=null;var u={};l&&(q(l,function(c,f){u[f]=jy(s,c)}),this.events=u)};i.prototype=n,r.types[t]=i},r.hasBehavior=function(t){return!!r.types[t]},r.getBehavior=function(t){return r.types[t]},r.types={},r}(),cTe="*",wA=function(){function r(){this._events={}}return r.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},r.prototype.once=function(t,e){return this.on(t,e,!0)},r.prototype.emit=function(t){for(var e=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=this._events[t]||[],o=this._events[cTe]||[],s=function(l){for(var u=l.length,c=0;c<u;c++)if(!!l[c]){var f=l[c],d=f.callback,h=f.once;h&&(l.splice(c,1),l.length===0&&delete e._events[t],u--,c--),d.apply(e,n)}};s(a),s(o)},r.prototype.off=function(t,e){if(!t)this._events={};else if(!e)delete this._events[t];else{for(var n=this._events[t]||[],i=n.length,a=0;a<i;a++)n[a].callback===e&&(n.splice(a,1),i--,a--);n.length===0&&delete this._events[t]}return this},r.prototype.getEvents=function(){return this._events},r}(),Pl=1e-6,Mo=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var r=0,t=arguments.length;t--;)r+=arguments[t]*arguments[t];return Math.sqrt(r)});function q0(){var r=new Mo(9);return Mo!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function TK(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[4],r[4]=t[5],r[5]=t[6],r[6]=t[8],r[7]=t[9],r[8]=t[10],r}function fTe(r){var t=new Mo(9);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}function dTe(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r}function hTe(r,t,e,n,i,a,o,s,l){var u=new Mo(9);return u[0]=r,u[1]=t,u[2]=e,u[3]=n,u[4]=i,u[5]=a,u[6]=o,u[7]=s,u[8]=l,u}function vTe(r,t,e,n,i,a,o,s,l,u){return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r[4]=a,r[5]=o,r[6]=s,r[7]=l,r[8]=u,r}function pTe(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function gTe(r,t){if(r===t){var e=t[1],n=t[2],i=t[5];r[1]=t[3],r[2]=t[6],r[3]=e,r[5]=t[7],r[6]=n,r[7]=i}else r[0]=t[0],r[1]=t[3],r[2]=t[6],r[3]=t[1],r[4]=t[4],r[5]=t[7],r[6]=t[2],r[7]=t[5],r[8]=t[8];return r}function SA(r,t){var e=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=c*o-s*u,d=-c*a+s*l,h=u*a-o*l,v=e*f+n*d+i*h;return v?(v=1/v,r[0]=f*v,r[1]=(-c*n+i*u)*v,r[2]=(s*n-i*o)*v,r[3]=d*v,r[4]=(c*e-i*l)*v,r[5]=(-s*e+i*a)*v,r[6]=h*v,r[7]=(-u*e+n*l)*v,r[8]=(o*e-n*a)*v,r):null}function mTe(r,t){var e=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8];return r[0]=o*c-s*u,r[1]=i*u-n*c,r[2]=n*s-i*o,r[3]=s*l-a*c,r[4]=e*c-i*l,r[5]=i*a-e*s,r[6]=a*u-o*l,r[7]=n*l-e*u,r[8]=e*o-n*a,r}function yTe(r){var t=r[0],e=r[1],n=r[2],i=r[3],a=r[4],o=r[5],s=r[6],l=r[7],u=r[8];return t*(u*a-o*l)+e*(-u*i+o*s)+n*(l*i-a*s)}function K0(r,t,e){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=e[0],h=e[1],v=e[2],p=e[3],g=e[4],m=e[5],y=e[6],b=e[7],w=e[8];return r[0]=d*n+h*o+v*u,r[1]=d*i+h*s+v*c,r[2]=d*a+h*l+v*f,r[3]=p*n+g*o+m*u,r[4]=p*i+g*s+m*c,r[5]=p*a+g*l+m*f,r[6]=y*n+b*o+w*u,r[7]=y*i+b*s+w*c,r[8]=y*a+b*l+w*f,r}function bTe(r,t,e){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=e[0],h=e[1];return r[0]=n,r[1]=i,r[2]=a,r[3]=o,r[4]=s,r[5]=l,r[6]=d*n+h*o+u,r[7]=d*i+h*s+c,r[8]=d*a+h*l+f,r}function xTe(r,t,e){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=Math.sin(e),h=Math.cos(e);return r[0]=h*n+d*o,r[1]=h*i+d*s,r[2]=h*a+d*l,r[3]=h*o-d*n,r[4]=h*s-d*i,r[5]=h*l-d*a,r[6]=u,r[7]=c,r[8]=f,r}function wTe(r,t,e){var n=e[0],i=e[1];return r[0]=n*t[0],r[1]=n*t[1],r[2]=n*t[2],r[3]=i*t[3],r[4]=i*t[4],r[5]=i*t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r}function AK(r,t){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=t[0],r[7]=t[1],r[8]=1,r}function kK(r,t){var e=Math.sin(t),n=Math.cos(t);return r[0]=n,r[1]=e,r[2]=0,r[3]=-e,r[4]=n,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function MK(r,t){return r[0]=t[0],r[1]=0,r[2]=0,r[3]=0,r[4]=t[1],r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function STe(r,t){return r[0]=t[0],r[1]=t[1],r[2]=0,r[3]=t[2],r[4]=t[3],r[5]=0,r[6]=t[4],r[7]=t[5],r[8]=1,r}function CTe(r,t){var e=t[0],n=t[1],i=t[2],a=t[3],o=e+e,s=n+n,l=i+i,u=e*o,c=n*o,f=n*s,d=i*o,h=i*s,v=i*l,p=a*o,g=a*s,m=a*l;return r[0]=1-f-v,r[3]=c-m,r[6]=d+g,r[1]=c+m,r[4]=1-u-v,r[7]=h-p,r[2]=d-g,r[5]=h+p,r[8]=1-u-f,r}function IK(r,t){var e=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],v=t[12],p=t[13],g=t[14],m=t[15],y=e*s-n*o,b=e*l-i*o,w=e*u-a*o,S=n*l-i*s,E=n*u-a*s,_=i*u-a*l,A=c*p-f*v,k=c*g-d*v,T=c*m-h*v,I=f*g-d*p,D=f*m-h*p,O=d*m-h*g,B=y*O-b*D+w*I+S*T-E*k+_*A;return B?(B=1/B,r[0]=(s*O-l*D+u*I)*B,r[1]=(l*T-o*O-u*k)*B,r[2]=(o*D-s*T+u*A)*B,r[3]=(i*D-n*O-a*I)*B,r[4]=(e*O-i*T+a*k)*B,r[5]=(n*T-e*D-a*A)*B,r[6]=(p*_-g*E+m*S)*B,r[7]=(g*w-v*_-m*b)*B,r[8]=(v*E-p*w+m*y)*B,r):null}function ETe(r,t,e){return r[0]=2/t,r[1]=0,r[2]=0,r[3]=0,r[4]=-2/e,r[5]=0,r[6]=-1,r[7]=1,r[8]=1,r}function _Te(r){return"mat3("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+", "+r[6]+", "+r[7]+", "+r[8]+")"}function TTe(r){return Math.hypot(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])}function ATe(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r[2]=t[2]+e[2],r[3]=t[3]+e[3],r[4]=t[4]+e[4],r[5]=t[5]+e[5],r[6]=t[6]+e[6],r[7]=t[7]+e[7],r[8]=t[8]+e[8],r}function PK(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r[2]=t[2]-e[2],r[3]=t[3]-e[3],r[4]=t[4]-e[4],r[5]=t[5]-e[5],r[6]=t[6]-e[6],r[7]=t[7]-e[7],r[8]=t[8]-e[8],r}function kTe(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e,r[3]=t[3]*e,r[4]=t[4]*e,r[5]=t[5]*e,r[6]=t[6]*e,r[7]=t[7]*e,r[8]=t[8]*e,r}function MTe(r,t,e,n){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r[2]=t[2]+e[2]*n,r[3]=t[3]+e[3]*n,r[4]=t[4]+e[4]*n,r[5]=t[5]+e[5]*n,r[6]=t[6]+e[6]*n,r[7]=t[7]+e[7]*n,r[8]=t[8]+e[8]*n,r}function ITe(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]&&r[3]===t[3]&&r[4]===t[4]&&r[5]===t[5]&&r[6]===t[6]&&r[7]===t[7]&&r[8]===t[8]}function PTe(r,t){var e=r[0],n=r[1],i=r[2],a=r[3],o=r[4],s=r[5],l=r[6],u=r[7],c=r[8],f=t[0],d=t[1],h=t[2],v=t[3],p=t[4],g=t[5],m=t[6],y=t[7],b=t[8];return Math.abs(e-f)<=Pl*Math.max(1,Math.abs(e),Math.abs(f))&&Math.abs(n-d)<=Pl*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(i-h)<=Pl*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-v)<=Pl*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(o-p)<=Pl*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-g)<=Pl*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(l-m)<=Pl*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(u-y)<=Pl*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-b)<=Pl*Math.max(1,Math.abs(c),Math.abs(b))}var RTe=K0,DTe=PK,OTe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",create:q0,fromMat4:TK,clone:fTe,copy:dTe,fromValues:hTe,set:vTe,identity:pTe,transpose:gTe,invert:SA,adjoint:mTe,determinant:yTe,multiply:K0,translate:bTe,rotate:xTe,scale:wTe,fromTranslation:AK,fromRotation:kK,fromScaling:MK,fromMat2d:STe,fromQuat:CTe,normalFromMat4:IK,projection:ETe,str:_Te,frob:TTe,add:ATe,subtract:PK,multiplyScalar:kTe,multiplyScalarAndAdd:MTe,exactEquals:ITe,equals:PTe,mul:RTe,sub:DTe});function il(){var r=new Mo(16);return Mo!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function LTe(r){var t=new Mo(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}function tD(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}function RK(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function P_(r,t){var e=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],v=t[12],p=t[13],g=t[14],m=t[15],y=e*s-n*o,b=e*l-i*o,w=e*u-a*o,S=n*l-i*s,E=n*u-a*s,_=i*u-a*l,A=c*p-f*v,k=c*g-d*v,T=c*m-h*v,I=f*g-d*p,D=f*m-h*p,O=d*m-h*g,B=y*O-b*D+w*I+S*T-E*k+_*A;return B?(B=1/B,r[0]=(s*O-l*D+u*I)*B,r[1]=(i*D-n*O-a*I)*B,r[2]=(p*_-g*E+m*S)*B,r[3]=(d*E-f*_-h*S)*B,r[4]=(l*T-o*O-u*k)*B,r[5]=(e*O-i*T+a*k)*B,r[6]=(g*w-v*_-m*b)*B,r[7]=(c*_-d*w+h*b)*B,r[8]=(o*D-s*T+u*A)*B,r[9]=(n*T-e*D-a*A)*B,r[10]=(v*E-p*w+m*y)*B,r[11]=(f*w-c*E-h*y)*B,r[12]=(s*k-o*I-l*A)*B,r[13]=(e*I-n*k+i*A)*B,r[14]=(p*b-v*S-g*y)*B,r[15]=(c*S-f*b+d*y)*B,r):null}function sg(r,t,e){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=t[9],h=t[10],v=t[11],p=t[12],g=t[13],m=t[14],y=t[15],b=e[0],w=e[1],S=e[2],E=e[3];return r[0]=b*n+w*s+S*f+E*p,r[1]=b*i+w*l+S*d+E*g,r[2]=b*a+w*u+S*h+E*m,r[3]=b*o+w*c+S*v+E*y,b=e[4],w=e[5],S=e[6],E=e[7],r[4]=b*n+w*s+S*f+E*p,r[5]=b*i+w*l+S*d+E*g,r[6]=b*a+w*u+S*h+E*m,r[7]=b*o+w*c+S*v+E*y,b=e[8],w=e[9],S=e[10],E=e[11],r[8]=b*n+w*s+S*f+E*p,r[9]=b*i+w*l+S*d+E*g,r[10]=b*a+w*u+S*h+E*m,r[11]=b*o+w*c+S*v+E*y,b=e[12],w=e[13],S=e[14],E=e[15],r[12]=b*n+w*s+S*f+E*p,r[13]=b*i+w*l+S*d+E*g,r[14]=b*a+w*u+S*h+E*m,r[15]=b*o+w*c+S*v+E*y,r}function cx(r,t,e){var n=e[0],i=e[1],a=e[2],o,s,l,u,c,f,d,h,v,p,g,m;return t===r?(r[12]=t[0]*n+t[4]*i+t[8]*a+t[12],r[13]=t[1]*n+t[5]*i+t[9]*a+t[13],r[14]=t[2]*n+t[6]*i+t[10]*a+t[14],r[15]=t[3]*n+t[7]*i+t[11]*a+t[15]):(o=t[0],s=t[1],l=t[2],u=t[3],c=t[4],f=t[5],d=t[6],h=t[7],v=t[8],p=t[9],g=t[10],m=t[11],r[0]=o,r[1]=s,r[2]=l,r[3]=u,r[4]=c,r[5]=f,r[6]=d,r[7]=h,r[8]=v,r[9]=p,r[10]=g,r[11]=m,r[12]=o*n+c*i+v*a+t[12],r[13]=s*n+f*i+p*a+t[13],r[14]=l*n+d*i+g*a+t[14],r[15]=u*n+h*i+m*a+t[15]),r}function FTe(r,t,e){var n=Math.sin(e),i=Math.cos(e),a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],d=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=a*i+u*n,r[5]=o*i+c*n,r[6]=s*i+f*n,r[7]=l*i+d*n,r[8]=u*i-a*n,r[9]=c*i-o*n,r[10]=f*i-s*n,r[11]=d*i-l*n,r}function NTe(r,t,e){var n=Math.sin(e),i=Math.cos(e),a=t[0],o=t[1],s=t[2],l=t[3],u=t[8],c=t[9],f=t[10],d=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=a*i-u*n,r[1]=o*i-c*n,r[2]=s*i-f*n,r[3]=l*i-d*n,r[8]=a*n+u*i,r[9]=o*n+c*i,r[10]=s*n+f*i,r[11]=l*n+d*i,r}function fx(r,t){return r[0]=t[12],r[1]=t[13],r[2]=t[14],r}function _y(r,t){var e=t[0],n=t[1],i=t[2],a=t[4],o=t[5],s=t[6],l=t[8],u=t[9],c=t[10];return r[0]=Math.hypot(e,n,i),r[1]=Math.hypot(a,o,s),r[2]=Math.hypot(l,u,c),r}function dx(r,t){var e=new Mo(3);_y(e,t);var n=1/e[0],i=1/e[1],a=1/e[2],o=t[0]*n,s=t[1]*i,l=t[2]*a,u=t[4]*n,c=t[5]*i,f=t[6]*a,d=t[8]*n,h=t[9]*i,v=t[10]*a,p=o+c+v,g=0;return p>0?(g=Math.sqrt(p+1)*2,r[3]=.25*g,r[0]=(f-h)/g,r[1]=(d-l)/g,r[2]=(s-u)/g):o>c&&o>v?(g=Math.sqrt(1+o-c-v)*2,r[3]=(f-h)/g,r[0]=.25*g,r[1]=(s+u)/g,r[2]=(d+l)/g):c>v?(g=Math.sqrt(1+c-o-v)*2,r[3]=(d-l)/g,r[0]=(s+u)/g,r[1]=.25*g,r[2]=(f+h)/g):(g=Math.sqrt(1+v-o-c)*2,r[3]=(s-u)/g,r[0]=(d+l)/g,r[1]=(f+h)/g,r[2]=.25*g),r}function BTe(r,t,e,n){var i=t[0],a=t[1],o=t[2],s=t[3],l=i+i,u=a+a,c=o+o,f=i*l,d=i*u,h=i*c,v=a*u,p=a*c,g=o*c,m=s*l,y=s*u,b=s*c,w=n[0],S=n[1],E=n[2];return r[0]=(1-(v+g))*w,r[1]=(d+b)*w,r[2]=(h-y)*w,r[3]=0,r[4]=(d-b)*S,r[5]=(1-(f+g))*S,r[6]=(p+m)*S,r[7]=0,r[8]=(h+y)*E,r[9]=(p-m)*E,r[10]=(1-(f+v))*E,r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r}function s4(r,t){var e=t[0],n=t[1],i=t[2],a=t[3],o=e+e,s=n+n,l=i+i,u=e*o,c=n*o,f=n*s,d=i*o,h=i*s,v=i*l,p=a*o,g=a*s,m=a*l;return r[0]=1-f-v,r[1]=c+m,r[2]=d-g,r[3]=0,r[4]=c-m,r[5]=1-u-v,r[6]=h+p,r[7]=0,r[8]=d+g,r[9]=h-p,r[10]=1-u-f,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function zTe(r,t,e,n,i){var a=1/Math.tan(t/2),o;return r[0]=a/e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=a,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,i!=null&&i!==1/0?(o=1/(n-i),r[10]=(i+n)*o,r[14]=2*i*n*o):(r[10]=-1,r[14]=-2*n),r}var $Te=zTe;function GTe(r,t,e,n,i,a,o){var s=1/(t-e),l=1/(n-i),u=1/(a-o);return r[0]=-2*s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*l,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*u,r[11]=0,r[12]=(t+e)*s,r[13]=(i+n)*l,r[14]=(o+a)*u,r[15]=1,r}var UTe=GTe;function HTe(r,t,e,n){var i,a,o,s,l,u,c,f,d,h,v=t[0],p=t[1],g=t[2],m=n[0],y=n[1],b=n[2],w=e[0],S=e[1],E=e[2];return Math.abs(v-w)<Pl&&Math.abs(p-S)<Pl&&Math.abs(g-E)<Pl?RK(r):(c=v-w,f=p-S,d=g-E,h=1/Math.hypot(c,f,d),c*=h,f*=h,d*=h,i=y*d-b*f,a=b*c-m*d,o=m*f-y*c,h=Math.hypot(i,a,o),h?(h=1/h,i*=h,a*=h,o*=h):(i=0,a=0,o=0),s=f*o-d*a,l=d*i-c*o,u=c*a-f*i,h=Math.hypot(s,l,u),h?(h=1/h,s*=h,l*=h,u*=h):(s=0,l=0,u=0),r[0]=i,r[1]=s,r[2]=c,r[3]=0,r[4]=a,r[5]=l,r[6]=f,r[7]=0,r[8]=o,r[9]=u,r[10]=d,r[11]=0,r[12]=-(i*v+a*p+o*g),r[13]=-(s*v+l*p+u*g),r[14]=-(c*v+f*p+d*g),r[15]=1,r)}function Ci(){var r=new Mo(3);return Mo!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function ud(r){var t=new Mo(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}function F2(r){var t=r[0],e=r[1],n=r[2];return Math.hypot(t,e,n)}function kn(r,t,e){var n=new Mo(3);return n[0]=r,n[1]=t,n[2]=e,n}function os(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}function ry(r,t,e,n){return r[0]=t,r[1]=e,r[2]=n,r}function gd(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r[2]=t[2]+e[2],r}function rD(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r[2]=t[2]-e[2],r}function VTe(r,t,e){return r[0]=t[0]*e[0],r[1]=t[1]*e[1],r[2]=t[2]*e[2],r}function sw(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e,r}function WTe(r,t){var e=t[0]-r[0],n=t[1]-r[1],i=t[2]-r[2];return Math.hypot(e,n,i)}function k1(r,t){var e=t[0],n=t[1],i=t[2],a=e*e+n*n+i*i;return a>0&&(a=1/Math.sqrt(a)),r[0]=t[0]*a,r[1]=t[1]*a,r[2]=t[2]*a,r}function R_(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}function kI(r,t,e){var n=t[0],i=t[1],a=t[2],o=e[0],s=e[1],l=e[2];return r[0]=i*l-a*s,r[1]=a*o-n*l,r[2]=n*s-i*o,r}function Tg(r,t,e,n){var i=t[0],a=t[1],o=t[2];return r[0]=i+n*(e[0]-i),r[1]=a+n*(e[1]-a),r[2]=o+n*(e[2]-o),r}function xF(r,t,e){var n=t[0],i=t[1],a=t[2],o=e[3]*n+e[7]*i+e[11]*a+e[15];return o=o||1,r[0]=(e[0]*n+e[4]*i+e[8]*a+e[12])/o,r[1]=(e[1]*n+e[5]*i+e[9]*a+e[13])/o,r[2]=(e[2]*n+e[6]*i+e[10]*a+e[14])/o,r}function of(r,t,e){var n=t[0],i=t[1],a=t[2];return r[0]=n*e[0]+i*e[3]+a*e[6],r[1]=n*e[1]+i*e[4]+a*e[7],r[2]=n*e[2]+i*e[5]+a*e[8],r}function jTe(r,t,e){var n=e[0],i=e[1],a=e[2],o=e[3],s=t[0],l=t[1],u=t[2],c=i*u-a*l,f=a*s-n*u,d=n*l-i*s,h=i*d-a*f,v=a*c-n*d,p=n*f-i*c,g=o*2;return c*=g,f*=g,d*=g,h*=2,v*=2,p*=2,r[0]=s+c+h,r[1]=l+f+v,r[2]=u+d+p,r}var nD=rD,l4=WTe,DK=F2;(function(){var r=Ci();return function(t,e,n,i,a,o){var s,l;for(e||(e=3),n||(n=0),i?l=Math.min(i*e+n,t.length):l=t.length,s=n;s<l;s+=e)r[0]=t[s],r[1]=t[s+1],r[2]=t[s+2],a(r,r,o),t[s]=r[0],t[s+1]=r[1],t[s+2]=r[2];return t}})();function r1(){var r=new Mo(4);return Mo!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[3]=0),r}function OK(r,t,e,n){var i=new Mo(4);return i[0]=r,i[1]=t,i[2]=e,i[3]=n,i}function YTe(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}function XTe(r,t){var e=t[0],n=t[1],i=t[2],a=t[3],o=e*e+n*n+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),r[0]=e*o,r[1]=n*o,r[2]=i*o,r[3]=a*o,r}function n1(r,t,e){var n=t[0],i=t[1],a=t[2],o=t[3];return r[0]=e[0]*n+e[4]*i+e[8]*a+e[12]*o,r[1]=e[1]*n+e[5]*i+e[9]*a+e[13]*o,r[2]=e[2]*n+e[6]*i+e[10]*a+e[14]*o,r[3]=e[3]*n+e[7]*i+e[11]*a+e[15]*o,r}(function(){var r=r1();return function(t,e,n,i,a,o){var s,l;for(e||(e=4),n||(n=0),i?l=Math.min(i*e+n,t.length):l=t.length,s=n;s<l;s+=e)r[0]=t[s],r[1]=t[s+1],r[2]=t[s+2],r[3]=t[s+3],a(r,r,o),t[s]=r[0],t[s+1]=r[1],t[s+2]=r[2],t[s+3]=r[3];return t}})();function xo(){var r=new Mo(4);return Mo!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function Np(r,t,e){e=e*.5;var n=Math.sin(e);return r[0]=n*t[0],r[1]=n*t[1],r[2]=n*t[2],r[3]=Math.cos(e),r}function hu(r,t,e){var n=t[0],i=t[1],a=t[2],o=t[3],s=e[0],l=e[1],u=e[2],c=e[3];return r[0]=n*c+o*s+i*u-a*l,r[1]=i*c+o*l+a*s-n*u,r[2]=a*c+o*u+n*l-i*s,r[3]=o*c-n*s-i*l-a*u,r}function N2(r,t,e,n){var i=t[0],a=t[1],o=t[2],s=t[3],l=e[0],u=e[1],c=e[2],f=e[3],d,h,v,p,g;return h=i*l+a*u+o*c+s*f,h<0&&(h=-h,l=-l,u=-u,c=-c,f=-f),1-h>Pl?(d=Math.acos(h),v=Math.sin(d),p=Math.sin((1-n)*d)/v,g=Math.sin(n*d)/v):(p=1-n,g=n),r[0]=p*i+g*l,r[1]=p*a+g*u,r[2]=p*o+g*c,r[3]=p*s+g*f,r}function u4(r,t){var e=t[0],n=t[1],i=t[2],a=t[3],o=e*e+n*n+i*i+a*a,s=o?1/o:0;return r[0]=-e*s,r[1]=-n*s,r[2]=-i*s,r[3]=a*s,r}function qTe(r,t){var e=t[0]+t[4]+t[8],n;if(e>0)n=Math.sqrt(e+1),r[3]=.5*n,n=.5/n,r[0]=(t[5]-t[7])*n,r[1]=(t[6]-t[2])*n,r[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[i*3+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(t[i*3+i]-t[a*3+a]-t[o*3+o]+1),r[i]=.5*n,n=.5/n,r[3]=(t[a*3+o]-t[o*3+a])*n,r[a]=(t[a*3+i]+t[i*3+a])*n,r[o]=(t[o*3+i]+t[i*3+o])*n}return r}function MI(r,t,e,n){var i=.5*Math.PI/180;t*=i,e*=i,n*=i;var a=Math.sin(t),o=Math.cos(t),s=Math.sin(e),l=Math.cos(e),u=Math.sin(n),c=Math.cos(n);return r[0]=a*l*c-o*s*u,r[1]=o*s*c+a*l*u,r[2]=o*l*u-a*s*c,r[3]=o*l*c+a*s*u,r}var II=OK,hx=YTe,KTe=hu,Dy=XTe;(function(){var r=Ci(),t=kn(1,0,0),e=kn(0,1,0);return function(n,i,a){var o=R_(i,a);return o<-.999999?(kI(r,t,i),DK(r)<1e-6&&kI(r,e,i),k1(r,r),Np(n,r,Math.PI),n):o>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(kI(r,i,a),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=1+o,Dy(n,n))}})();(function(){var r=xo(),t=xo();return function(e,n,i,a,o,s){return N2(r,n,o,s),N2(t,i,a,s),N2(e,r,t,2*s*(1-s)),e}})();(function(){var r=q0();return function(t,e,n,i){return r[0]=n[0],r[3]=n[1],r[6]=n[2],r[1]=i[0],r[4]=i[1],r[7]=i[2],r[2]=-e[0],r[5]=-e[1],r[8]=-e[2],Dy(t,qTe(t,r))}})();function ZTe(){var r=new Mo(2);return Mo!=Float32Array&&(r[0]=0,r[1]=0),r}function Pa(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r}function LK(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r}function zo(r,t,e){return r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r}function $o(r,t,e){return r[0]=Math.max(t[0],e[0]),r[1]=Math.max(t[1],e[1]),r}function pa(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r}function y0(r,t){var e=t[0]-r[0],n=t[1]-r[1];return Math.hypot(e,n)}function Oy(r){var t=r[0],e=r[1];return Math.hypot(t,e)}function cv(r,t){var e=t[0],n=t[1],i=e*e+n*n;return i>0&&(i=1/Math.sqrt(i)),r[0]=t[0]*i,r[1]=t[1]*i,r}function wF(r,t){return r[0]*t[0]+r[1]*t[1]}function QTe(r,t,e){var n=t[0],i=t[1];return r[0]=e[0]*n+e[3]*i+e[6],r[1]=e[1]*n+e[4]*i+e[7],r}function iD(r,t){var e=r[0],n=r[1],i=t[0],a=t[1],o=Math.sqrt(e*e+n*n)*Math.sqrt(i*i+a*a),s=o&&(e*i+n*a)/o;return Math.acos(Math.min(Math.max(s,-1),1))}function FK(r,t){return r[0]===t[0]&&r[1]===t[1]}var lg=LK;(function(){var r=ZTe();return function(t,e,n,i,a,o){var s,l;for(e||(e=2),n||(n=0),i?l=Math.min(i*e+n,t.length):l=t.length,s=n;s<l;s+=e)r[0]=t[s],r[1]=t[s+1],a(r,r,o),t[s]=r[0],t[s+1]=r[1];return t}})();function Ty(r,t,e){var n=[0,0,0,0,0,0,0,0,0];return AK(n,e),K0(r,n,t)}function SF(r,t,e){var n=[0,0,0,0,0,0,0,0,0];return kK(n,e),K0(r,n,t)}function NK(r,t,e){var n=[0,0,0,0,0,0,0,0,0];return MK(n,e),K0(r,n,t)}function JTe(r,t,e){return K0(r,e,t)}function Ai(r,t){for(var e=r?[].concat(r):[1,0,0,0,1,0,0,0,1],n=0,i=t.length;n<i;n++){var a=t[n];switch(a[0]){case"t":Ty(e,e,[a[1],a[2]]);break;case"s":NK(e,e,[a[1],a[2]]);break;case"r":SF(e,e,a[1]);break;case"m":JTe(e,e,a[1]);break}}return e}function eAe(r,t){return r[0]*t[1]-t[0]*r[1]}function CF(r,t,e){var n=iD(r,t),i=eAe(r,t)>=0;return e?i?Math.PI*2-n:n:i?n:Math.PI*2-n}var Ag=function(t,e){var n=t.nodes,i=t.edges,a=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(function(s,l){o[s.id]=l;var u=[];a.push(u)}),i&&i.forEach(function(s){var l=s.source,u=s.target,c=o[l],f=o[u];!c&&c!==0||!f&&f!==0||(a[c][f]=1,e||(a[f][c]=1))}),a},tAe=function(t,e){return t===e},c4=function(){function r(t,e){e===void 0&&(e=null),this.value=t,this.next=e}return r.prototype.toString=function(t){return t?t(this.value):"".concat(this.value)},r}(),BK=function(){function r(t){t===void 0&&(t=tAe),this.head=null,this.tail=null,this.compare=t}return r.prototype.prepend=function(t){var e=new c4(t,this.head);return this.head=e,this.tail||(this.tail=e),this},r.prototype.append=function(t){var e=new c4(t);return this.head?(this.tail.next=e,this.tail=e,this):(this.head=e,this.tail=e,this)},r.prototype.delete=function(t){if(!this.head)return null;for(var e=null;this.head&&this.compare(this.head.value,t);)e=this.head,this.head=this.head.next;var n=this.head;if(n!==null)for(;n.next;)this.compare(n.next.value,t)?(e=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),e},r.prototype.find=function(t){var e=t.value,n=e===void 0?void 0:e,i=t.callback,a=i===void 0?void 0:i;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||n!==void 0&&this.compare(o.value,n))return o;o=o.next}return null},r.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var e=this.head;e.next;)e.next.next?e=e.next:e.next=null;return this.tail=e,t},r.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},r.prototype.fromArray=function(t){var e=this;return t.forEach(function(n){return e.append(n)}),this},r.prototype.toArray=function(){for(var t=[],e=this.head;e;)t.push(e),e=e.next;return t},r.prototype.reverse=function(){for(var t=this.head,e=null,n=null;t;)n=t.next,t.next=e,e=t,t=n;this.tail=this.head,this.head=e},r.prototype.toString=function(t){return t===void 0&&(t=void 0),this.toArray().map(function(e){return e.toString(t)}).toString()},r}(),rAe=function(){function r(){this.linkedList=new BK}return r.prototype.isEmpty=function(){return!this.linkedList.head},r.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},r.prototype.enqueue=function(t){this.linkedList.append(t)},r.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return t?t.value:null},r.prototype.toString=function(t){return this.linkedList.toString(t)},r}(),Bl=function(t,e,n){e===void 0&&(e=[]);var i=e.filter(function(l){return l.source===t||l.target===t});if(n==="target"){var a=function(u){return u.source===t};return i.filter(a).map(function(l){return l.target})}if(n==="source"){var o=function(u){return u.target===t};return i.filter(o).map(function(l){return l.source})}var s=function(u){return u.source===t?u.target:u.source};return i.map(s)},nAe=function(t,e){return e.filter(function(n){return n.source===t})},B2=function(t,e){return e.filter(function(n){return n.source===t||n.target===t})},zK=function(t){t===void 0&&(t=0);var e="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(t,"-").concat(e).concat(n)};function iAe(r){r===void 0&&(r={});var t=r,e=function(){},n=function(){var i={};return function(a){var o=a.next,s=o;return i[s]?!1:(i[s]=!0,!0)}}();return t.allowTraversal=r.allowTraversal||n,t.enter=r.enter||e,t.leave=r.leave||e,t}var $K=function(t,e,n,i){i===void 0&&(i=!0);var a=iAe(n),o=new rAe,s=t.edges,l=s===void 0?[]:s;o.enqueue(e);for(var u="",c=function(){var d=o.dequeue();a.enter({current:d,previous:u}),Bl(d,l,i?"target":void 0).forEach(function(h){a.allowTraversal({previous:u,current:d,next:h})&&o.enqueue(h)}),a.leave({current:d,previous:u}),u=d};!o.isEmpty();)c()},aAe=function(t){for(var e=t.nodes,n=e===void 0?[]:e,i=t.edges,a=i===void 0?[]:i,o=[],s={},l=[],u=function h(v){l.push(v),s[v.id]=!0;for(var p=Bl(v.id,a),g=function(b){var w=p[b];if(!s[w]){var S=n.filter(function(E){return E.id===w});S.length>0&&h(S[0])}},m=0;m<p.length;++m)g(m)},c=0;c<n.length;c++){var f=n[c];if(!s[f.id]){u(f);for(var d=[];l.length>0;)d.push(l.pop());o.push(d)}}return o},GK=function(t){for(var e=t.nodes,n=e===void 0?[]:e,i=t.edges,a=i===void 0?[]:i,o=[],s={},l={},u={},c=[],f=0,d=function g(m){l[m.id]=f,u[m.id]=f,f+=1,o.push(m),s[m.id]=!0;for(var y=Bl(m.id,a,"target").filter(function(_){return n.map(function(A){return A.id}).indexOf(_)>-1}),b=function(A){var k=y[A];if(!l[k]&&l[k]!==0){var T=n.filter(function(I){return I.id===k});T.length>0&&g(T[0]),u[m.id]=Math.min(u[m.id],u[k])}else s[k]&&(u[m.id]=Math.min(u[m.id],l[k]))},w=0;w<y.length;w++)b(w);if(u[m.id]===l[m.id]){for(var S=[];o.length>0;){var E=o.pop();if(s[E.id]=!1,S.push(E),E===m)break}S.length>0&&c.push(S)}},h=0,v=n;h<v.length;h++){var p=v[h];!l[p.id]&&l[p.id]!==0&&d(p)}return c};function EF(r,t){return t?GK(r):aAe(r)}var Rd=function(t){var e={},n=t.nodes,i=n===void 0?[]:n,a=t.edges,o=a===void 0?[]:a;return i.forEach(function(s){e[s.id]={degree:0,inDegree:0,outDegree:0}}),o.forEach(function(s){e[s.source].degree++,e[s.source].outDegree++,e[s.target].degree++,e[s.target].inDegree++}),e},UK=function(t,e){var n=Rd(t);return n[e]?Rd(t)[e].inDegree:0},HK=function(t,e){var n=Rd(t);return n[e]?Rd(t)[e].outDegree:0};function oAe(r){r===void 0&&(r={});var t=r,e=function(){},n=function(){var i={};return function(a){var o=a.next;return i[o]?!1:(i[o]=!0,!0)}}();return t.allowTraversal=r.allowTraversal||n,t.enter=r.enter||e,t.leave=r.leave||e,t}function VK(r,t,e,n){n.enter({current:t,previous:e});var i=r.edges,a=i===void 0?[]:i;Bl(t,a,"target").forEach(function(o){n.allowTraversal({previous:e,current:t,next:o})&&VK(r,o,t,n)}),n.leave({current:t,previous:e})}function _F(r,t,e){VK(r,t,"",oAe(e))}var TF=function(t){var e=null,n=t.nodes,i=n===void 0?[]:n,a={},o={},s={},l={};i.forEach(function(f){o[f.id]=f});for(var u={enter:function(d){var h=d.current,v=d.previous;if(s[h]){e={};for(var p=h,g=v;g!==h;)e[p]=g,p=g,g=a[g];e[p]=g}else s[h]=h,delete o[h],a[h]=v},leave:function(d){var h=d.current;l[h]=h,delete s[h]},allowTraversal:function(d){var h=d.next;return e?!1:!l[h]}};Object.keys(o).length;){var c=Object.keys(o)[0];_F(t,c,u)}return e},AF=function(t,e,n){var i,a;n===void 0&&(n=!0);for(var o=[],s=EF(t,!1),l=0,u=s;l<u.length;l++){var c=u[l];if(!!c.length)for(var f=c[0],d=f.id,h=[f],v=(i={},i[d]=f,i),p=(a={},a[d]=new Set,a);h.length>0;)for(var g=h.pop(),m=g.id,y=Bl(m,t.edges),b=function(E){var _,A=y[E],k=t.nodes.find(function(U){return U.id===A});if(A===m)o.push((_={},_[A]=g,_));else if(!(A in p))v[A]=g,h.push(k),p[A]=new Set([g]);else if(!p[m].has(k)){for(var T=!0,I=[k,g],D=v[m];p[A].size&&!p[A].has(D)&&(I.push(D),D!==v[D.id]);)D=v[D.id];if(I.push(D),e&&n?(T=!1,I.findIndex(function(U){return e.indexOf(U.id)>-1})>-1&&(T=!0)):e&&!n&&I.findIndex(function(U){return e.indexOf(U.id)>-1})>-1&&(T=!1),T){for(var O={},B=1;B<I.length;B+=1)O[I[B-1].id]=I[B];I.length&&(O[I[I.length-1].id]=I[0]),o.push(O)}p[A].add(g)}},w=0;w<y.length;w+=1)b(w)}return o},kF=function(t,e,n){n===void 0&&(n=!0);for(var i=[],a=new Set,o=[],s=[],l={},u={},c=function(D){for(var O=[D];O.length>0;){var B=O.pop();a.has(B)&&(a.delete(B),o[B.id].forEach(function(U){O.push(U)}),o[B.id].clear())}},f=function I(D,O,B){var U=!1;if(e&&n===!1&&e.indexOf(D.id)>-1)return U;i.push(D),a.add(D);for(var N=B[D.id],G=0;G<N.length;G+=1){var L=l[N[G]];if(L===O){for(var F={},W=1;W<i.length;W+=1)F[i[W-1].id]=i[W];i.length&&(F[i[i.length-1].id]=i[0]),s.push(F),U=!0}else a.has(L)||I(L,O,B)&&(U=!0)}if(U)c(D);else for(var G=0;G<N.length;G+=1){var L=l[N[G]];o[L.id].has(D)||o[L.id].add(D)}return i.pop(),U},d=t.nodes,h=d===void 0?[]:d,v=0;v<h.length;v+=1){var p=h[v],g=p.id;u[g]=v,l[v]=p}if(e&&n)for(var m=function(D){var O=e[D];u[h[D].id]=u[O],u[O]=0,l[0]=h.find(function(B){return B.id===O}),l[u[h[D].id]]=h[D]},v=0;v<e.length;v++)m(v);for(var y=function(D){for(var O,B,U=1/0,N=0;N<D.length;N+=1)for(var G=D[N],L=0;L<G.length;L++){var F=u[G[L].id];F<U&&(U=F,B=N)}for(var W=D[B],H=[],N=0;N<W.length;N+=1){var K=W[N];H[K.id]=[];for(var ie=0,ee=Bl(K.id,t.edges,"target").filter(function(fe){return W.map(function(he){return he.id}).indexOf(fe)>-1});ie<ee.length;ie++){var Q=ee[ie];Q===K.id&&!(n===!1&&e.indexOf(K.id)>-1)?s.push((O={},O[K.id]=K,O)):H[K.id].push(u[Q])}}return{component:W,adjList:H,minIdx:U}},b=0;b<h.length;){var w=h.filter(function(I){return u[I.id]>=b}),S=GK({nodes:w,edges:t.edges}).filter(function(I){return I.length>1});if(S.length===0)break;var E=y(S),_=E.minIdx,A=E.adjList,k=E.component;if(k.length>1){k.forEach(function(I){o[I.id]=new Set});var T=l[_];if(e&&n&&e.indexOf(T.id)===-1)return s;f(T,T,A),b=_+1}else break}return s},WK=function(t,e,n,i){return i===void 0&&(i=!0),e?kF(t,n,i):AF(t,n,i)},sAe=function(t,e,n){for(var i=1/0,a,o=0;o<e.length;o++){var s=e[o].id;!n[s]&&t[s]<=i&&(i=t[s],a=e[o])}return a},lw=function(t,e,n,i){var a=t.nodes,o=a===void 0?[]:a,s=t.edges,l=s===void 0?[]:s,u={},c={},f={};o.forEach(function(y,b){var w=y.id;c[w]=1/0,w===e&&(c[w]=0)});for(var d=o.length,h=function(b){var w=sAe(c,o,u),S=w.id;if(u[S]=!0,c[S]===1/0)return"continue";var E=[];n?E=nAe(S,l):E=B2(S,l),E.forEach(function(_){var A=_.target,k=_.source,T=A===S?k:A,I=i&&_[i]?_[i]:1;c[T]>c[w.id]+I?(c[T]=c[w.id]+I,f[T]=[w.id]):c[T]===c[w.id]+I&&f[T].push(w.id)})},v=0;v<d;v++)h();f[e]=[e];var p={};for(var g in c)c[g]!==1/0&&jK(e,g,f,p);var m={};for(var g in p)m[g]=p[g][0];return{length:c,path:m,allPath:p}};function jK(r,t,e,n){if(r===t)return[r];if(n[t])return n[t];for(var i=[],a=0,o=e[t];a<o.length;a++){var s=o[a],l=jK(r,s,e,n);if(!l)return;for(var u=0,c=l;u<c.length;u++){var f=c[u];gt(f)?i.push($i($i([],f,!0),[t],!1)):i.push([f,t])}}return n[t]=i,n[t]}var YK=function(t,e,n,i,a){var o=lw(t,e,i,a),s=o.length,l=o.path,u=o.allPath;return{length:s[n],path:l[n],allPath:u[n]}},XK=function(t,e,n,i){var a;if(e===n)return[[e]];var o=t.edges,s=o===void 0?[]:o,l=[e],u=(a={},a[e]=!0,a),c=[],f=[],d=i?Bl(e,s,"target"):Bl(e,s);for(c.push(d);l.length>0&&c.length>0;){var h=c[c.length-1];if(h.length){var v=h.shift();v&&(l.push(v),u[v]=!0,d=i?Bl(v,s,"target"):Bl(v,s),c.push(d.filter(function(m){return!u[m]})))}else{var p=l.pop();u[p]=!1,c.pop();continue}if(l[l.length-1]===n){var g=l.map(function(y){return y});f.push(g);var p=l.pop();u[p]=!1,c.pop()}}return f},uw=function(t,e){for(var n=Ag(t,e),i=[],a=n.length,o=0;o<a;o+=1){i[o]=[];for(var s=0;s<a;s+=1)o===s?i[o][s]=0:n[o][s]===0||!n[o][s]?i[o][s]=1/0:i[o][s]=n[o][s]}for(var l=0;l<a;l+=1)for(var o=0;o<a;o+=1)for(var s=0;s<a;s+=1)i[o][s]>i[o][l]+i[l][s]&&(i[o][s]=i[o][l]+i[l][s]);return i},qK=function(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n="weight"),i===void 0&&(i=1e3);var a=t.nodes,o=a===void 0?[]:a,s=t.edges,l=s===void 0?[]:s,u={},c={};o.forEach(function(b,w){var S=zK();b.clusterId=S,u[S]={id:S,nodes:[b]},c[b.id]={node:b,idx:w}});var f=Ag(t,e),d={};f.forEach(function(b,w){var S=o[w].id;d[S]={},b.forEach(function(E,_){if(!!E){var A=o[_].id;d[S][A]=E}})});for(var h=0,v=function(){var w=!1;if(o.forEach(function(S){var E={};Object.keys(d[S.id]).forEach(function(B){var U=d[S.id][B],N=c[B].node,G=N.clusterId;E[G]||(E[G]=0),E[G]+=U});var _=-1/0,A=[];if(Object.keys(E).forEach(function(B){_<E[B]?(_=E[B],A=[B]):_===E[B]&&A.push(B)}),!(A.length===1&&A[0]===S.clusterId)){var k=A.indexOf(S.clusterId);if(k>=0&&A.splice(k,1),A&&A.length){w=!0;var T=u[S.clusterId],I=T.nodes.indexOf(S);T.nodes.splice(I,1);var D=Math.floor(Math.random()*A.length),O=u[A[D]];O.nodes.push(S),S.clusterId=O.id}}}),!w)return"break";h++};h<i;){var p=v();if(p==="break")break}Object.keys(u).forEach(function(b){var w=u[b];(!w.nodes||!w.nodes.length)&&delete u[b]});var g=[],m={};l.forEach(function(b){var w=b.source,S=b.target,E=b[n]||1,_=c[w].node.clusterId,A=c[S].node.clusterId,k="".concat(_,"---").concat(A);if(m[k])m[k].weight+=E,m[k].count++;else{var T={source:_,target:A,weight:E,count:1};m[k]=T,g.push(T)}});var y=[];return Object.keys(u).forEach(function(b){y.push(u[b])}),{clusters:y,clusterEdges:g}},pu=function(){function r(t){this.arr=t}return r.prototype.getArr=function(){return this.arr||[]},r.prototype.add=function(t){var e,n=t.arr;if(!((e=this.arr)===null||e===void 0?void 0:e.length))return new r(n);if(!(n==null?void 0:n.length))return new r(this.arr);if(this.arr.length===n.length){var i=[];for(var a in this.arr)i[a]=this.arr[a]+n[a];return new r(i)}},r.prototype.subtract=function(t){var e,n=t.arr;if(!((e=this.arr)===null||e===void 0?void 0:e.length))return new r(n);if(!(n==null?void 0:n.length))return new r(this.arr);if(this.arr.length===n.length){var i=[];for(var a in this.arr)i[a]=this.arr[a]-n[a];return new r(i)}},r.prototype.avg=function(t){var e=[];if(t!==0)for(var n in this.arr)e[n]=this.arr[n]/t;return new r(e)},r.prototype.negate=function(){var t=[];for(var e in this.arr)t[e]=-this.arr[e];return new r(t)},r.prototype.squareEuclideanDistance=function(t){var e,n=t.arr;if(!((e=this.arr)===null||e===void 0?void 0:e.length)||!(n==null?void 0:n.length))return 0;if(this.arr.length===n.length){var i=0;for(var a in this.arr)i+=Math.pow(this.arr[a]-t.arr[a],2);return i}},r.prototype.euclideanDistance=function(t){var e,n=t.arr;if(!((e=this.arr)===null||e===void 0?void 0:e.length)||!(n==null?void 0:n.length))return 0;if(this.arr.length===n.length){var i=0;for(var a in this.arr)i+=Math.pow(this.arr[a]-t.arr[a],2);return Math.sqrt(i)}else console.error("The two vectors are unequal in length.")},r.prototype.normalize=function(){var t=[],e=Jr(this.arr);e.sort(function(o,s){return o-s});var n=e[e.length-1],i=e[0];for(var a in this.arr)t[a]=(this.arr[a]-i)/(n-i);return new r(t)},r.prototype.norm2=function(){var t;if(!((t=this.arr)===null||t===void 0?void 0:t.length))return 0;var e=0;for(var n in this.arr)e+=Math.pow(this.arr[n],2);return Math.sqrt(e)},r.prototype.dot=function(t){var e,n=t.arr;if(!((e=this.arr)===null||e===void 0?void 0:e.length)||!(n==null?void 0:n.length))return 0;if(this.arr.length===n.length){var i=0;for(var a in this.arr)i+=this.arr[a]*t.arr[a];return i}else console.error("The two vectors are unequal in length.")},r.prototype.equal=function(t){var e,n=t.arr;if(((e=this.arr)===null||e===void 0?void 0:e.length)!==(n==null?void 0:n.length))return!1;for(var i in this.arr)if(this.arr[i]!==n[i])return!1;return!0},r}(),MF=function(t,e){e===void 0&&(e=void 0);var n=[];return t.forEach(function(i){e===void 0&&n.push(i),i[e]!==void 0&&n.push(i[e])}),n},Xu;(function(r){r.EuclideanDistance="euclideanDistance"})(Xu||(Xu={}));var lAe=function(t,e,n){var i=[];(e==null?void 0:e.length)?i=e:(t.forEach(function(o){i=i.concat(Object.keys(o))}),i=nf(i));var a={};return i.forEach(function(o){var s=[];t.forEach(function(l){l[o]!==void 0&&l[o]!==""&&s.push(l[o])}),s.length&&!(n==null?void 0:n.includes(o))&&(a[o]=nf(s))}),a},IF=function(t,e,n){var i=lAe(t,e,n),a=[];if(!!Object.keys(i).length)return t.forEach(function(o,s){var l=[];if(Object.keys(i).length===1){var u=Object.keys(i)[0],c=i[u];c.every(function(f){return!isNaN(Number(f))})&&(l=[o[u]])}else Object.keys(i).forEach(function(f){for(var d=o[f],h=i[f],v=h.findIndex(function(m){return d===m}),p=[],g=0;g<h.length;g++)g===v?p.push(1):p.push(0);l=l.concat(p)});a[s]=l}),a},f4=function(t,e,n,i){n===void 0&&(n=Xu.EuclideanDistance);var a=0;switch(n){case Xu.EuclideanDistance:a=new pu(t).euclideanDistance(new pu(e));break}return a},d4=function(t,e,n,i){for(var a=e.length,o=2*i,s=0,l=0;l<a;l++)for(var u=t[l].clusterId,c=0;c<a;c++){var f=t[c].clusterId;if(u===f){var d=e[l][c]||0,h=n[l]||0,v=n[c]||0;s+=d-h*v/o}}return s*=1/o,s},PI=function(t,e){t===void 0&&(t=[]);for(var n=t.length,i=new pu([]),a=0;a<n;a++)i=i.add(new pu(e[a]));var o=i.avg(n);o.normalize();for(var s=0,a=0;a<n;a++){var l=new pu(e[a]),u=l.squareEuclideanDistance(o);s+=u}var c=[];t.forEach(function(){c.push([])});for(var a=0;a<n;a++){var l=new pu(e[a]);t[a].clusterInertial=0;for(var f=0;f<n;f++){if(a===f){c[a][f]=0;continue}var d=new pu(e[f]);c[a][f]=l.squareEuclideanDistance(d),t[a].clusterInertial+=c[a][f]}}for(var h=0,v=2*n*s,a=0;a<n;a++)for(var p=t[a].clusterId,f=0;f<n;f++){var g=t[f].clusterId;if(!(a===f||p!==g)){var m=t[a].clusterInertial*t[f].clusterInertial/Math.pow(v,2)-c[a][f]/v;h+=m}}return Number(h.toFixed(4))},PF=function(t,e,n,i,a,o,s,l,u){e===void 0&&(e=!1),n===void 0&&(n="weight"),i===void 0&&(i=1e-4),a===void 0&&(a=!1),o===void 0&&(o=void 0),s===void 0&&(s=[]),l===void 0&&(l=["id"]),u===void 0&&(u=1);var c=t.nodes,f=c===void 0?[]:c,d=t.edges,h=d===void 0?[]:d,v=[];if(a){f.forEach(function(F,W){F.properties=F.properties||{},F.originIndex=W});var p=[];f.every(function(F){return F.hasOwnProperty("nodeType")})&&(p=Array.from(new Set(f.map(function(F){return F.nodeType}))),f.forEach(function(F){F.properties.nodeType=p.findIndex(function(W){return W===F.nodeType})}));var g=MF(f,o);v=IF(g,s,l)}var m=1,y={},b={};f.forEach(function(F,W){var H=String(m++);F.clusterId=H,y[H]={id:H,nodes:[F]},b[F.id]={node:F,idx:W}});var w=Ag(t,e),S=[],E={},_=0;w.forEach(function(F,W){var H=0,K=f[W].id;E[K]={},F.forEach(function(ie,ee){if(!!ie){H+=ie;var Q=f[ee].id;E[K][Q]=ie,_+=ie}}),S.push(H)}),_/=2;for(var A=1/0,k=1/0,T=0,I=[],D={};;){a&&f.every(function(F){return F.hasOwnProperty("properties")})?A=d4(f,w,S,_)+PI(f,v)*u:A=d4(f,w,S,_),T===0&&(k=A,I=f,D=y);var O=A>0&&A>k&&A-k<i;if(A>k&&(I=f.map(function(F){return{node:F,clusterId:F.clusterId}}),D=Jr(y),k=A),O||T>100)break;T++,Object.keys(y).forEach(function(F){var W=0;h.forEach(function(H){var K=H.source,ie=H.target,ee=b[K].node.clusterId,Q=b[ie].node.clusterId;(ee===F&&Q!==F||Q===F&&ee!==F)&&(W=W+(H[n]||1))}),y[F].sumTot=W}),f.forEach(function(F,W){var H=y[F.clusterId],K=0,ie,ee=S[W]/(2*_),Q=0,be=H.nodes;be.forEach(function(ae){var ue=b[ae.id].idx;Q+=w[W][ue]||0});var fe=Q-H.sumTot*ee,he=be.filter(function(ae){return ae.id!==F.id}),Ee=[];he.forEach(function(ae,ue){Ee[ue]=v[ae.originIndex]});var He=PI(he,v)*u,nt=E[F.id];if(Object.keys(nt).forEach(function(ae){var ue=b[ae].node,Be=ue.clusterId;if(Be!==F.clusterId){var Ze=y[Be],Le=Ze.nodes;if(!(!Le||!Le.length)){var se=0;Le.forEach(function(Fe){var Ue=b[Fe.id].idx;se+=w[W][Ue]||0});var Se=se-Ze.sumTot*ee,Y=Le.concat([F]),ve=[];Y.forEach(function(Fe,Ue){ve[Ue]=v[Fe.originIndex]});var ce=PI(Y,v)*u,de=Se-fe;a&&(de=Se+ce-(fe+He)),de>K&&(K=de,ie=Ze)}}}),K>0){ie.nodes.push(F);var st=F.clusterId;F.clusterId=ie.id;var z=H.nodes.indexOf(F);H.nodes.splice(z,1);var j=0,X=0;h.forEach(function(ae){var ue=ae.source,Be=ae.target,Ze=b[ue].node.clusterId,Le=b[Be].node.clusterId;(Ze===ie.id&&Le!==ie.id||Le===ie.id&&Ze!==ie.id)&&(j=j+(ae[n]||1)),(Ze===st&&Le!==st||Le===st&&Ze!==st)&&(X=X+(ae[n]||1))}),ie.sumTot=j,H.sumTot=X}})}var B={},U=0;Object.keys(D).forEach(function(F){var W=D[F];if(!W.nodes||!W.nodes.length){delete D[F];return}var H=String(U+1);H!==F&&(W.id=H,W.nodes=W.nodes.map(function(K){return{id:K.id,clusterId:H}}),D[H]=W,B[F]=H,delete D[F],U++)}),I.forEach(function(F){var W=F.node,H=F.clusterId;W.clusterId=H,W.clusterId&&B[W.clusterId]&&(W.clusterId=B[W.clusterId])});var N=[],G={};h.forEach(function(F){var W=F.source,H=F.target,K=F[n]||1,ie=b[W].node.clusterId,ee=b[H].node.clusterId,Q="".concat(ie,"---").concat(ee);if(G[Q])G[Q].weight+=K,G[Q].count++;else{var be={source:ie,target:ee,weight:K,count:1};G[Q]=be,N.push(be)}});var L=[];return Object.keys(D).forEach(function(F){L.push(D[F])}),{clusters:L,clusterEdges:N}},KK=function(t,e,n,i,a,o,s,l){return e===void 0&&(e=!1),n===void 0&&(n="weight"),i===void 0&&(i=1e-4),a===void 0&&(a=void 0),o===void 0&&(o=[]),s===void 0&&(s=["id"]),l===void 0&&(l=1),PF(t,e,n,i,!0,a,o,s,l)},ZK=function(t,e){var n;e===void 0&&(e=1);for(var i=Jr(t),a=i.nodes,o=a===void 0?[]:a,s=i.edges,l=s===void 0?[]:s,u=function(){var d=Rd({nodes:o,edges:l}),h=Object.keys(d);h.sort(function(g,m){var y,b;return((y=d[g])===null||y===void 0?void 0:y.degree)-((b=d[m])===null||b===void 0?void 0:b.degree)});var v=h[0];if(!o.length||((n=d[v])===null||n===void 0?void 0:n.degree)>=e)return"break";var p=o.findIndex(function(g){return g.id===v});o.splice(p,1),l=l.filter(function(g){return!(g.source===v||g.target===v)})};;){var c=u();if(c==="break")break}return{nodes:o,edges:l}},h4=function(t,e,n){var i=[];switch(t){case Xu.EuclideanDistance:i=e[n];break;default:i=[];break}return i},QK=function(t,e,n,i,a,o){e===void 0&&(e=3),n===void 0&&(n=void 0),i===void 0&&(i=[]),a===void 0&&(a=["id"]),o===void 0&&(o=Xu.EuclideanDistance);var s=t.nodes,l=t.edges;if(o===Xu.EuclideanDistance&&!s.every(function(N){return N.hasOwnProperty(n)}))return{clusters:[{id:"0",nodes:s}],clusterEdges:[]};var u=[],c=[];o===Xu.EuclideanDistance&&(u=MF(s,n),c=IF(u,i,a));for(var f=0;f<s.length;f++)s[f].originIndex=f;for(var d=[],h=[],v=[],f=0;f<e;f++)if(f===0){var p=Math.floor(Math.random()*s.length);switch(o){case Xu.EuclideanDistance:d[f]=c[p];break;default:d[f]=[];break}h.push(p),v[f]=[s[p]],s[p].clusterId=String(f)}else{for(var g=-1/0,m=0,y=function(L){if(!h.includes(L)){for(var F=0,W=0;W<d.length;W++){var H=0;switch(o){case Xu.EuclideanDistance:H=f4(c[s[L].originIndex],d[W],o);break}F+=H}var K=F/d.length;K>g&&!d.find(function(ie){return Zi(ie,h4(o,c,s[L].originIndex))})&&(g=K,m=L)}},b=0;b<s.length;b++)y(b);d[f]=h4(o,c,m),h.push(m),v[f]=[s[m]],s[m].clusterId=String(f)}for(var w=0;;){for(var f=0;f<s.length;f++){var S=0,E=1/0;if(!(w===0&&h.includes(f))){for(var _=0;_<d.length;_++){var A=0;switch(o){case Xu.EuclideanDistance:A=f4(c[f],d[_],o);break}A<E&&(E=A,S=_)}if(s[f].clusterId!==void 0)for(var k=v[Number(s[f].clusterId)].length-1;k>=0;k--)v[Number(s[f].clusterId)][k].id===s[f].id&&v[Number(s[f].clusterId)].splice(k,1);s[f].clusterId=String(S),v[S].push(s[f])}}for(var T=!1,f=0;f<v.length;f++){for(var I=v[f],D=new pu([]),_=0;_<I.length;_++)D=D.add(new pu(c[I[_].originIndex]));var O=D.avg(I.length);O.equal(new pu(d[f]))||(T=!0,d[f]=O.getArr())}if(w++,s.every(function(N){return N.clusterId!==void 0})&&T||w>=1e3)break}var B=[],U={};return l.forEach(function(N){var G,L,F=N.source,W=N.target,H=(G=s.find(function(Q){return Q.id===F}))===null||G===void 0?void 0:G.clusterId,K=(L=s.find(function(Q){return Q.id===W}))===null||L===void 0?void 0:L.clusterId,ie="".concat(H,"---").concat(K);if(U[ie])U[ie].count++;else{var ee={source:H,target:K,count:1};U[ie]=ee,B.push(ee)}}),{clusters:v,clusterEdges:B}},RF=function(t,e){var n=new pu(e),i=n.norm2(),a=new pu(t),o=a.norm2(),s=n.dot(a),l=i*o,u=l?s/l:0;return u},JK=function(t,e,n,i,a){t===void 0&&(t=[]),n===void 0&&(n=void 0),i===void 0&&(i=[]),a===void 0&&(a=[]);var o=Jr(t.filter(function(d){return d.id!==e.id})),s=t.findIndex(function(d){return d.id===e.id}),l=MF(t,n),u=IF(l,i,a),c=u[s],f=[];return o.forEach(function(d,h){if(d.id!==e.id){var v=u[h],p=RF(v,c);f.push(p),d.cosineSimilarity=p}}),o.sort(function(d,h){return h.cosineSimilarity-d.cosineSimilarity}),{allCosineSimilarity:f,similarNodes:o}},uAe=function(){function r(t){this.count=t.length,this.parent={};for(var e=0,n=t;e<n.length;e++){var i=n[e];this.parent[i]=i}}return r.prototype.find=function(t){for(;this.parent[t]!==t;)t=this.parent[t];return t},r.prototype.union=function(t,e){var n=this.find(t),i=this.find(e);n!==i&&(n<i?(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]))},r.prototype.connected=function(t,e){return this.find(t)===this.find(e)},r}(),cAe=function(t,e){return t-e},fAe=function(){function r(t){t===void 0&&(t=cAe),this.compareFn=t,this.list=[]}return r.prototype.getLeft=function(t){return 2*t+1},r.prototype.getRight=function(t){return 2*t+2},r.prototype.getParent=function(t){return t===0?null:Math.floor((t-1)/2)},r.prototype.isEmpty=function(){return this.list.length<=0},r.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},r.prototype.delMin=function(){var t=this.top(),e=this.list.pop();return this.list.length>0&&(this.list[0]=e,this.moveDown(0)),t},r.prototype.insert=function(t){if(t!==null){this.list.push(t);var e=this.list.length-1;return this.moveUp(e),!0}return!1},r.prototype.moveUp=function(t){for(var e=this.getParent(t);t&&t>0&&this.compareFn(this.list[e],this.list[t])>0;){var n=this.list[e];this.list[e]=this.list[t],this.list[t]=n,t=e,e=this.getParent(t)}},r.prototype.moveDown=function(t){var e,n=t,i=this.getLeft(t),a=this.getRight(t),o=this.list.length;i!==null&&i<o&&this.compareFn(this.list[n],this.list[i])>0?n=i:a!==null&&a<o&&this.compareFn(this.list[n],this.list[a])>0&&(n=a),t!==n&&(e=[this.list[n],this.list[t]],this.list[t]=e[0],this.list[n]=e[1],this.moveDown(n))},r}(),dAe=function(t,e){var n=[],i=t.nodes,a=i===void 0?[]:i,o=t.edges,s=o===void 0?[]:o;if(a.length===0)return n;var l=a[0],u=new Set;u.add(l);var c=function(g,m){return e?g.weight-m.weight:0},f=new fAe(c);for(B2(l.id,s).forEach(function(p){f.insert(p)});!f.isEmpty();){var d=f.delMin(),h=d.source,v=d.target;u.has(h)&&u.has(v)||(n.push(d),u.has(h)||(u.add(h),B2(h,s).forEach(function(p){f.insert(p)})),u.has(v)||(u.add(v),B2(v,s).forEach(function(p){f.insert(p)})))}return n},v4=function(t,e){var n=[],i=t.nodes,a=i===void 0?[]:i,o=t.edges,s=o===void 0?[]:o;if(a.length===0)return n;var l=s.map(function(h){return h});e&&l.sort(function(h,v){return h.weight-v.weight});for(var u=new uAe(a.map(function(h){return h.id}));l.length>0;){var c=l.shift(),f=c.source,d=c.target;u.connected(f,d)||(n.push(c),u.union(f,d))}return n},eZ=function(t,e,n){var i={prim:dAe,kruskal:v4};return n?i[n](t,e):v4(t,e)},tZ=function(t,e,n){typeof e!="number"&&(e=1e-6),typeof n!="number"&&(n=.85);for(var i=1,a=0,o=1e3,s=t.nodes,l=s===void 0?[]:s,u=t.edges,c=u===void 0?[]:u,f=l.length,d,h={},v={},p=0;p<f;++p){var g=l[p],m=g.id;h[m]=1/f,v[m]=1/f}for(var y=Rd(t);o>0&&i>e;){a=0;for(var p=0;p<f;++p){var g=l[p],m=g.id;if(d=0,y[g.id].inDegree===0)h[m]=0;else{for(var b=Bl(m,c,"source"),w=0;w<b.length;++w){var S=b[w],E=y[S].outDegree;E>0&&(d+=v[S]/E)}h[m]=n*d,a+=h[m]}}a=(1-a)/f,i=0;for(var p=0;p<f;++p){var g=l[p],m=g.id;d=h[m]+a,i+=Math.abs(d-v[m]),v[m]=d}o-=1}return v},hAe=-1,D_=-1,rZ="-1",jc="-1",nZ=-1,p4=function(){function r(t,e,n,i){t===void 0&&(t=hAe),e===void 0&&(e=D_),n===void 0&&(n=D_),i===void 0&&(i=rZ),this.id=t,this.from=e,this.to=n,this.label=i}return r}(),vAe=function(){function r(t,e){t===void 0&&(t=D_),e===void 0&&(e=jc),this.id=t,this.label=e,this.edges=[],this.edgeMap={}}return r.prototype.addEdge=function(t){this.edges.push(t),this.edgeMap[t.id]=t},r}(),iZ=function(){function r(t,e,n){t===void 0&&(t=D_),e===void 0&&(e=!0),n===void 0&&(n=!1),this.id=t,this.edgeIdAutoIncrease=e,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return r.prototype.getNodeNum=function(){return this.nodes.length},r.prototype.addNode=function(t,e){if(!this.nodeMap[t]){var n=new vAe(t,e);this.nodes.push(n),this.nodeMap[t]=n,this.nodeLabelMap[e]||(this.nodeLabelMap[e]=[]),this.nodeLabelMap[e].push(t)}},r.prototype.addEdge=function(t,e,n,i){if((this.edgeIdAutoIncrease||t===void 0)&&(t=this.counter++),!(this.nodeMap[e]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[t])){var a=new p4(t,e,n,i);if(this.edges.push(a),this.edgeMap[t]=a,this.nodeMap[e].addEdge(a),this.edgeLabelMap[i]||(this.edgeLabelMap[i]=[]),this.edgeLabelMap[i].push(a),!this.directed){var o=new p4(t,n,e,i);this.nodeMap[n].addEdge(o),this.edgeLabelMap[i].push(o)}}},r}(),Bp=function(){function r(t,e,n,i,a){this.fromNode=t,this.toNode=e,this.nodeEdgeNodeLabel={nodeLabel1:n||jc,edgeLabel:i||rZ,nodeLabel2:a||jc}}return r.prototype.equalTo=function(t){return this.fromNode===t.formNode&&this.toNode===t.toNode&&this.nodeEdgeNodeLabel===t.nodeEdgeNodeLabel},r.prototype.notEqualTo=function(t){return!this.equalTo(t)},r}(),g4=function(){function r(){this.rmpath=[],this.dfsEdgeList=[]}return r.prototype.equalTo=function(t){var e=this.dfsEdgeList.length,n=t.length;if(e!==n)return!1;for(var i=0;i<e;i++)if(this.dfsEdgeList[i]!==t[i])return!1;return!0},r.prototype.notEqualTo=function(t){return!this.equalTo(t)},r.prototype.pushBack=function(t,e,n,i,a){return this.dfsEdgeList.push(new Bp(t,e,n,i,a)),this.dfsEdgeList},r.prototype.toGraph=function(t,e){t===void 0&&(t=nZ),e===void 0&&(e=!1);var n=new iZ(t,!0,e);return this.dfsEdgeList.forEach(function(i){var a=i.fromNode,o=i.toNode,s=i.nodeEdgeNodeLabel,l=s.nodeLabel1,u=s.edgeLabel,c=s.nodeLabel2;l!==jc&&n.addNode(a,l),c!==jc&&n.addNode(o,c),l!==jc&&c!==l&&n.addEdge(void 0,a,o,u)}),n},r.prototype.buildRmpath=function(){this.rmpath=[];for(var t=void 0,e=this.dfsEdgeList.length,n=e-1;n>=0;n--){var i=this.dfsEdgeList[n],a=i.fromNode,o=i.toNode;a<o&&(t===void 0||o===t)&&(this.rmpath.push(n),t=a)}return this.rmpath},r.prototype.getNodeNum=function(){var t={};return this.dfsEdgeList.forEach(function(e){t[e.fromNode]||(t[e.fromNode]=!0),t[e.toNode]||(t[e.toNode]=!0)}),Object.keys(t).length},r}(),cE=function(){function r(t){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!t){for(;t;){var e=t.edge;this.edges.push(e),this.nodesUsed[e.from]=1,this.nodesUsed[e.to]=1,this.edgesUsed[e.id]=1,t=t.preNode}this.edges=this.edges.reverse()}}return r.prototype.hasNode=function(t){return this.nodesUsed[t.id]===1},r.prototype.hasEdge=function(t){return this.edgesUsed[t.id]===1},r}(),pAe=function(){function r(t){var e=t.graphs,n=t.minSupport,i=n===void 0?2:n,a=t.minNodeNum,o=a===void 0?1:a,s=t.maxNodeNum,l=s===void 0?4:s,u=t.top,c=u===void 0?10:u,f=t.directed,d=f===void 0?!1:f,h=t.verbose,v=h===void 0?!1:h;this.graphs=e,this.dfsCode=new g4,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=i,this.top=c,this.directed=d,this.counter=0,this.maxNodeNum=l,this.minNodeNum=o,this.verbose=v,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return r.prototype.findForwardRootEdges=function(t,e){var n=this,i=[],a=t.nodeMap;return e.edges.forEach(function(o){(n.directed||e.label<=a[o.to].label)&&i.push(o)}),i},r.prototype.findBackwardEdge=function(t,e,n,i){if(!this.directed&&e===n)return null;for(var a=t.nodeMap,o=a[n.to],s=o.edges,l=s.length,u=0;u<l;u++){var c=s[u];if(!(i.hasEdge(c)||c.to!==e.from)){if(this.directed){if(a[e.from].label<a[n.to].label||a[e.from].label===a[n.to].label&&e.label<=c.label)return c}else if(e.label<c.label||e.label===c.label&&a[e.to].label<=a[n.to].label)return c}}return null},r.prototype.findForwardPureEdges=function(t,e,n,i){for(var a=[],o=e.to,s=t.nodeMap[o].edges,l=s.length,u=0;u<l;u++){var c=s[u],f=t.nodeMap[c.to];n<=f.label&&!i.hasNode(f)&&a.push(c)}return a},r.prototype.findForwardRmpathEdges=function(t,e,n,i){for(var a=[],o=t.nodeMap,s=o[e.to].label,l=o[e.from],u=l.edges,c=u.length,f=0;f<c;f++){var d=u[f],h=o[d.to].label;e.to===d.to||n>h||i.hasNode(o[d.to])||(e.label<d.label||e.label===d.label&&s<=h)&&a.push(d)}return a},r.prototype.getSupport=function(t){var e={};return t.forEach(function(n){e[n.graphId]||(e[n.graphId]=!0)}),Object.keys(e).length},r.prototype.findMinLabel=function(t){var e=void 0;return Object.keys(t).forEach(function(n){var i=t[n],a=i.nodeLabel1,o=i.edgeLabel,s=i.nodeLabel2;if(!e){e={nodeLabel1:a,edgeLabel:o,nodeLabel2:s};return}(a<e.nodeLabel1||a===e.nodeLabel1&&o<e.edgeLabel||a===e.nodeLabel1&&o===e.edgeLabel&&s<e.nodeLabel2)&&(e={nodeLabel1:a,edgeLabel:o,nodeLabel2:s})}),e},r.prototype.isMin=function(){var t=this,e=this.dfsCode;if(this.verbose&&console.log("isMin checking",e),e.dfsEdgeList.length===1)return!0;var n=this.directed,i=e.toGraph(nZ,n),a=i.nodeMap,o=new g4,s={};i.nodes.forEach(function(f){var d=t.findForwardRootEdges(i,f);d.forEach(function(h){var v=a[h.to],p="".concat(f.label,"-").concat(h.label,"-").concat(v.label);s[p]||(s[p]={projected:[],nodeLabel1:f.label,edgeLabel:h.label,nodeLabel2:v.label});var g={graphId:i.id,edge:h,preNode:null};s[p].projected.push(g)})});var l=this.findMinLabel(s);if(!!l){o.dfsEdgeList.push(new Bp(0,1,l.nodeLabel1,l.edgeLabel,l.nodeLabel2));var u=function f(d){for(var h=o.buildRmpath(),v=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,p=o.dfsEdgeList[h[0]].toNode,g={},m=!1,y=0,b=n?-1:0,w=function(G){if(m)return"break";d.forEach(function(L){var F=new cE(L),W=t.findBackwardEdge(i,F.edges[h[G]],F.edges[h[0]],F);W&&(g[W.label]||(g[W.label]={projected:[],edgeLabel:W.label}),g[W.label].projected.push({graphId:i.id,edge:g,preNode:L}),y=o.dfsEdgeList[h[G]].fromNode,m=!0)})},S=h.length-1;S>b;S--){var E=w(S);if(E==="break")break}if(m){var _=t.findMinLabel(g);o.dfsEdgeList.push(new Bp(p,y,jc,_.edgeLabel,jc));var A=o.dfsEdgeList.length-1;return t.dfsCode.dfsEdgeList[A]!==o.dfsEdgeList[A]?!1:f(g[_.edgeLabel].projected)}var k={};m=!1;var T=0;d.forEach(function(N){var G=new cE(N),L=t.findForwardPureEdges(i,G.edges[h[0]],v,G);L.length>0&&(m=!0,T=p,L.forEach(function(F){var W="".concat(F.label,"-").concat(a[F.to].label);k[W]||(k[W]={projected:[],edgeLabel:F.label,nodeLabel2:a[F.to].label}),k[W].projected.push({graphId:i.id,edge:F,preNode:N})}))});for(var I=h.length,D=function(G){if(m)return"break";var L=h[G];d.forEach(function(F){var W=new cE(F),H=t.findForwardRmpathEdges(i,W.edges[L],v,W);H.length>0&&(m=!0,T=o.dfsEdgeList[L].fromNode,H.forEach(function(K){var ie="".concat(K.label,"-").concat(a[K.to].label);k[ie]||(k[ie]={projected:[],edgeLabel:K.label,nodeLabel2:a[K.to].label}),k[ie].projected.push({graphId:i.id,edge:K,preNode:F})}))})},S=0;S<I;S++){var O=D(S);if(O==="break")break}if(!m)return!0;var B=t.findMinLabel(k);o.dfsEdgeList.push(new Bp(T,p+1,jc,B.edgeLabel,B.nodeLabel2));var U=o.dfsEdgeList.length-1;return e.dfsEdgeList[U]!==o.dfsEdgeList[U]?!1:f(k["".concat(B.edgeLabel,"-").concat(B.nodeLabel2)].projected)},c="".concat(l.nodeLabel1,"-").concat(l.edgeLabel,"-").concat(l.nodeLabel2);return u(s[c].projected)}},r.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var t=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push(Jr(t))}},r.prototype.subGraphMining=function(t){var e=this,n=this.getSupport(t);if(!(n<this.minSupport)&&!!this.isMin()){this.report();var i=this.dfsCode.getNodeNum(),a=this.dfsCode.buildRmpath(),o=this.dfsCode.dfsEdgeList[a[0]].toNode,s=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,l={},u={};t.forEach(function(c){for(var f=e.graphs[c.graphId],d=f.nodeMap,h=new cE(c),v=a.length-1;v>=0;v--){var p=e.findBackwardEdge(f,h.edges[a[v]],h.edges[a[0]],h);if(p){var g="".concat(e.dfsCode.dfsEdgeList[a[v]].fromNode,"-").concat(p.label);u[g]||(u[g]={projected:[],toNodeId:e.dfsCode.dfsEdgeList[a[v]].fromNode,edgeLabel:p.label}),u[g].projected.push({graphId:c.graphId,edge:p,preNode:c})}}if(!(i>=e.maxNodeNum)){var m=e.findForwardPureEdges(f,h.edges[a[0]],s,h);m.forEach(function(b){var w="".concat(o,"-").concat(b.label,"-").concat(d[b.to].label);l[w]||(l[w]={projected:[],fromNodeId:o,edgeLabel:b.label,nodeLabel2:d[b.to].label}),l[w].projected.push({graphId:c.graphId,edge:b,preNode:c})});for(var y=function(w){var S=e.findForwardRmpathEdges(f,h.edges[a[w]],s,h);S.forEach(function(E){var _="".concat(e.dfsCode.dfsEdgeList[a[w]].fromNode,"-").concat(E.label,"-").concat(d[E.to].label);l[_]||(l[_]={projected:[],fromNodeId:e.dfsCode.dfsEdgeList[a[w]].fromNode,edgeLabel:E.label,nodeLabel2:d[E.to].label}),l[_].projected.push({graphId:c.graphId,edge:E,preNode:c})})},v=0;v<a.length;v++)y(v)}}),Object.keys(u).forEach(function(c){var f=u[c],d=f.toNodeId,h=f.edgeLabel;e.dfsCode.dfsEdgeList.push(new Bp(o,d,"-1",h,"-1")),e.subGraphMining(u[c].projected),e.dfsCode.dfsEdgeList.pop()}),Object.keys(l).forEach(function(c){var f=l[c],d=f.fromNodeId,h=f.edgeLabel,v=f.nodeLabel2;e.dfsCode.dfsEdgeList.push(new Bp(d,o+1,jc,h,v)),e.subGraphMining(l[c].projected),e.dfsCode.dfsEdgeList.pop()})}},r.prototype.generate1EdgeFrequentSubGraphs=function(){var t=this.graphs,e=this.directed,n=this.minSupport,i=this.frequentSize1Subgraphs,a={},o={},s={},l={};return Object.keys(t).forEach(function(u){var c=t[u],f=c.nodeMap;c.nodes.forEach(function(d,h){var v=d.label,p="".concat(u,"-").concat(v);if(!s[p]){var g=a[v]||0;g++,a[v]=g}s[p]={graphKey:u,label:v},d.edges.forEach(function(m){var y=v,b=f[m.to].label;if(!e&&y>b){var w=b;b=y,y=w}var S=m.label,E="".concat(u,"-").concat(y,"-").concat(S,"-").concat(b),_="".concat(y,"-").concat(S,"-").concat(b);if(!o[_]){var A=o[_]||0;A++,o[_]=A}l[E]={graphId:u,nodeLabel1:y,edgeLabel:S,nodeLabel2:b}})})}),Object.keys(a).forEach(function(u){var c=a[u];if(!(c<n)){var f={nodes:[],edges:[]};f.nodes.push({id:"0",label:u}),i.push(f)}}),i},r.prototype.run=function(){var t=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var e=this.graphs;this.directed;var n={};Object.keys(e).forEach(function(i){var a=e[i],o=a.nodeMap;a.nodes.forEach(function(s){var l=t.findForwardRootEdges(a,s);l.forEach(function(u){var c=o[u.to],f="".concat(s.label,"-").concat(u.label,"-").concat(c.label);n[f]||(n[f]={projected:[],nodeLabel1:s.label,edgeLabel:u.label,nodeLabel2:c.label});var d={graphId:i,edge:u,preNode:null};n[f].projected.push(d)})})}),Object.keys(n).forEach(function(i){var a=n[i],o=a.projected,s=a.nodeLabel1,l=a.edgeLabel,u=a.nodeLabel2;t.dfsCode.dfsEdgeList.push(new Bp(0,1,s,l,u)),t.subGraphMining(o),t.dfsCode.dfsEdgeList.pop()})}},r}(),gAe=function(t,e,n,i){var a={};return Object.keys(t).forEach(function(o,s){var l=t[o],u=new iZ(s,!0,e),c={};l.nodes.forEach(function(f,d){u.addNode(d,f[n]),c[f.id]=d}),l.edges.forEach(function(f,d){var h=c[f.source],v=c[f.target];u.addEdge(-1,h,v,f[i])}),u&&u.getNodeNum()&&(a[u.id]=u)}),a},mAe=function(t,e,n){var i=[];return t.forEach(function(a){var o={nodes:[],edges:[]};a.nodes.forEach(function(s){var l;o.nodes.push((l={id:"".concat(s.id)},l[e]=s.label,l))}),a.edges.forEach(function(s){var l;o.edges.push((l={source:"".concat(s.from),target:"".concat(s.to)},l[n]=s.label,l))}),i.push(o)}),i},m4="cluster",yAe=function(t){var e=t.graphs,n=t.directed,i=n===void 0?!1:n,a=t.nodeLabelProp,o=a===void 0?m4:a,s=t.edgeLabelProp,l=s===void 0?m4:s,u=gAe(e,i,o,l),c=t.minSupport,f=t.maxNodeNum,d=t.minNodeNum,h=t.verbose,v=t.top,p={graphs:u,minSupport:c,maxNodeNum:f,minNodeNum:d,top:v,verbose:h,directed:i},g=new pAe(p);g.run();var m=mAe(g.frequentSubgraphs,o,l);return m},y4=function(t,e,n,i){n===void 0&&(n="cluster"),i===void 0&&(i=2);var a=[],o=t.nodes;return e.forEach(function(s,l){a.push(aZ(o,s,l,n,i))}),a},aZ=function(t,e,n,i,a){var o=[n],s=[],l={};return e.forEach(function(u,c){if(u<=a&&n!==c){o.push(c),s.push(t[c]);var f=t[c][i];l[f]?(l[f].count++,l[f].dists.push(u)):l[f]={count:1,dists:[u]}}}),Object.keys(l).forEach(function(u){l[u].dists=l[u].dists.sort(function(c,f){return c-f})}),{nodeIdx:n,nodeId:t[n].id,nodeIdxs:o,neighbors:s,neighborNum:o.length-1,nodeLabelCountMap:l}},bAe=function(t,e,n,i,a){var o=Math.ceil(n/e),s={},l=0;return i.forEach(function(u,c){for(var f=0,d=0,h=u.nodeIdxs,v=u.neighborNum-1;f<o;){for(var p=h[1+Math.floor(Math.random()*v)],g=0;(s["".concat(c,"-").concat(p)]||s["".concat(p,"-").concat(c)])&&(p=Math.floor(Math.random()*e),g++,!(g>2*e)););if(g<2*e&&(s["".concat(c,"-").concat(p)]={start:c,end:p,distance:a[c][p]},f++,l++,l>=n))return s;if(d++,d>2*e)break}if(f<o){var m=o-f;o=(o+m)/(e-c-1)}}),s},z2=function(t,e,n,i){var a=n.nodes;return i||(i={}),Object.keys(t).forEach(function(o){var s,l;if(!(i&&i[o])){i[o]={nodes:[],edges:[]};var u=t[o],c=(s=e[u.start])===null||s===void 0?void 0:s.nodeIdxs,f=(l=e[u.end])===null||l===void 0?void 0:l.nodeIdxs;if(!(!c||!f)){var d=new Set(f),h=c.filter(function(y){return d.has(y)});if(!(!h||!h.length)){for(var v={},p=h.length,g=0;g<p;g++){var m=a[h[g]];i[o].nodes.push(m),v[m.id]=!0}n.edges.forEach(function(y){v[y.source]&&v[y.target]&&i[o].edges.push(y)})}}}}),i},$2=function(t,e,n,i){var a,o,s={};t.nodes.forEach(function(u){s[u.id]=u});var l=0;return!((a=e==null?void 0:e.edges)===null||a===void 0?void 0:a.length)||((o=e==null?void 0:e.nodes)===null||o===void 0?void 0:o.length)<2?0:(t.edges.forEach(function(u){var c=s[u.source][n],f=s[u.target][n],d=e==null?void 0:e.nodes[0][n],h=e==null?void 0:e.nodes[1][n],v=e==null?void 0:e.edges[0][i];u[i]===v&&(c===d&&f===h||c===h&&f===d)&&l++}),l)},xAe=function(t,e,n){for(var i=1/0,a=0,o=function(u){var c=t[u],f=Object.keys(c).sort(function(y,b){return c[y]-c[b]}),d=10,h=[];f.forEach(function(y,b){h[b%d]||(h[b%d]={graphs:[],totalCount:0,aveCount:0}),h[b%d].graphs.push(y),h[b%d].totalCount+=c[y]});var v=0,p=[];h.forEach(function(y){var b=y.totalCount/y.graphs.length;y.aveCount=b,p.push(b);var w=0,S=y.length;y.graphs.forEach(function(E,_){var A=c[E];y.graphs.forEach(function(k,T){_!==T&&(w+=Math.abs(A-c[k]))})}),w/=S*(S-1)/2,v+=w}),v/=h.length;var g=0;p.forEach(function(y,b){p.forEach(function(w,S){b!==S&&(g+=Math.abs(y-w))}),g/=p.length*(p.length-1)/2});var m=g-v;i<m&&(i=m,a=u)},s=0;s<e;s++)o(s);return{structure:n[a],structureCountMap:t[a]}},b4=function(t,e){var n={},i={};return t.forEach(function(a,o){n[a.id]={idx:o,node:a,degree:0,inDegree:0,outDegree:0};var s=a[e];i[s]||(i[s]=[]),i[s].push(a)}),{nodeMap:n,nodeLabelMap:i}},x4=function(t,e,n){var i={},a={};return t.forEach(function(o,s){i["".concat(zK)]={idx:s,edge:o};var l=o[e];a[l]||(a[l]=[]),a[l].push(o);var u=n[o.source];u&&(u.degree++,u.outDegree++);var c=n[o.target];c&&(c.degree++,c.inDegree++)}),{edgeMap:i,edgeLabelMap:a}},w4=function(t,e,n){var i=e.length,a={};return e.forEach(function(o,s){for(var l=n?0:s+1,u=t[s].id,c=l;c<i;c++)if(s!==c){var f=t[c].id,d=o[c];a["".concat(u,"-").concat(f)]=d,n||(a["".concat(f,"-").concat(u)]=d)}}),a},wAe=function(t,e,n,i,a,o,s,l,u,c,f){var d,h="".concat(e.id,"-").concat(n.id);if(c&&c[h])return c[h];var v=f?f[h]:void 0;if(!v){var p=(d={},d[h]={start:i[e.id].idx,end:i[n.id].idx,distance:a},d);f=z2(p,o,t,f),v=f[h]}return $2(v,s,l,u)},S4=function(t,e,n,i){var a,o,s,l=(a=t[e])===null||a===void 0?void 0:a.degree,u=(o=t[e])===null||o===void 0?void 0:o.inDegree,c=(s=t[e])===null||s===void 0?void 0:s.outDegree;return t[e]===void 0&&(l=1/0,u=1/0,c=1/0,i[e].forEach(function(f){var d=n[f.id].degree;l>d&&(l=d);var h=n[f.id].inDegree;u>h&&(u=h);var v=n[f.id].outDegree;c>v&&(c=v)}),t[e]={degree:l,inDegree:u,outDegree:c}),{minPatternNodeLabelDegree:l,minPatternNodeLabelInDegree:u,minPatternNodeLabelOutDegree:c}},oZ=function(t,e,n,i,a,o,s){var l;if(n===void 0&&(n=!1),o===void 0&&(o="cluster"),s===void 0&&(s="cluster"),!(!t||!t.nodes)){var u=t.nodes.length;if(!!u){var c=uw(t,n),f=uw(e,n),d=w4(t.nodes,c,n),h=w4(e.nodes,f,n),v=b4(t.nodes,o),p=v.nodeMap,g=v.nodeLabelMap,m=b4(e.nodes,o),y=m.nodeMap,b=m.nodeLabelMap;x4(t.edges,s,p);var w=x4(e.edges,s,y).edgeLabelMap,S=[];f==null||f.forEach(function(se){S=S.concat(se)}),a||(a=Math.max.apply(Math,$i($i([],S,!1),[2],!1))),i||(i=a);var E=y4(t,c,o,i),_=y4(e,f,o,i),A=Math.min(100,u*(u-1)/2),k=bAe(i,u,A,E,c),T=z2(k,E,t),I=10,D=1,O=1,B=4,U={graphs:T,nodeLabelProp:o,edgeLabelProp:s,minSupport:D,minNodeNum:O,maxNodeNum:B,directed:n},N=yAe(U).slice(0,I),G=N.length,L=[];N.forEach(function(se,Se){L[Se]={},Object.keys(T).forEach(function(Y){var ve=T[Y],ce=$2(ve,se,o,s);L[Se][Y]=ce})});var F=xAe(L,G,N),W=F.structure,H=F.structureCountMap,K=e.nodes[0],ie=[],ee=(l=e.nodes[0])===null||l===void 0?void 0:l[o],Q=-1/0;e.nodes.forEach(function(se){var Se=se[o],Y=g[Se];(Y==null?void 0:Y.length)>Q&&(Q=Y.length,ie=Y,ee=Se,K=se)});var be={},fe={},he={},Ee={},He={},nt={};Object.keys(b).forEach(function(se,Se){He[se]=[],n&&(nt[se]=[]);var Y=b[se],ve={};Y.forEach(function(lt){var ut=h["".concat(K.id,"-").concat(lt.id)];if(ut&&He[se].push(ut),ve["".concat(K.id,"-").concat(lt.id)]={start:0,end:y[lt.id].idx,distance:ut},n){var We=h["".concat(lt.id,"-").concat(K.id)];We&&nt[se].push(We)}}),He[se]=He[se].sort(function(lt,ut){return lt-ut}),n&&(nt[se]=nt[se].sort(function(lt,ut){return lt-ut})),fe=z2(ve,_,e,fe);var ce=[];if(Object.keys(ve).forEach(function(lt){if(he[lt]){ce.push(he[lt]);return}var ut=fe[lt];he[lt]=$2(ut,W,o,s),ce.push(he[lt])}),ce=ce.sort(function(lt,ut){return ut-lt}),Ee["".concat(K.id,"-").concat(se)]=ce,se!==ee)for(var de=(ie==null?void 0:ie.length)||0,Fe=function(ut){var We=ie[ut],J=E[p[We.id].idx],Pe=J.nodeLabelCountMap[se],Ce=b[se].length;if(!Pe||Pe.count<Ce)return ie.splice(ut,1),"continue";for(var ct=!1,mt=0;mt<Ce;mt++)if(Pe.dists[mt]>He[se][mt]){ct=!0;break}if(ct)return ie.splice(ut,1),"continue";var Me={};J.neighbors.forEach(function(Ht){var Er=d["".concat(We.id,"-").concat(Ht.id)];Me["".concat(We.id,"-").concat(Ht.id)]={start:p[We.id].idx,end:p[Ht.id].idx,distance:Er}}),T=z2(Me,E,t,T);var ht=[];Object.keys(Me).forEach(function(Ht){if(H[Ht]){ht.push(H[Ht]);return}var Er=T[Ht];H[Ht]=$2(Er,W,o,s),ht.push(H[Ht])}),ht=ht.sort(function(Ht,Er){return Er-Ht});for(var ar=!1,mt=0;mt<Ce;mt++)if(ht[mt]<ce[mt]){ar=!0;break}if(ar)return ie.splice(ut,1),"continue"},Ue=de-1;Ue>=0;Ue--)Fe(Ue)});var st=[];ie==null||ie.forEach(function(se){for(var Se=p[se.id].idx,Y=aZ(t.nodes,c[Se],Se,o,a),ve=Y.neighbors,ce=ve.length,de=!1,Fe=ce-1;Fe>=0;Fe--){if(ve.length+1<e.nodes.length){de=!0;return}var Ue=ve[Fe],lt=Ue[o];if(!b[lt]||!b[lt].length){ve.splice(Fe,1);continue}if(!He[lt]||!He[lt].length){ve.splice(Fe,1);continue}var ut="".concat(se.id,"-").concat(Ue.id),We=d[ut],J=He[lt].length-1,Pe=He[lt][J];if(We>Pe){ve.splice(Fe,1);continue}if(n){var Ce="".concat(Ue.id,"-").concat(se.id),ct=d[Ce];J=nt[lt].length-1;var mt=nt[lt][J];if(ct>mt){ve.splice(Fe,1);continue}}var Me=H[ut]?H[ut]:wAe(t,se,Ue,p,We,E,W,o,s,H,T),ht="".concat(K.id,"-").concat(lt),ar=Ee[ht][Ee[ht].length-1];if(Me<ar){ve.splice(Fe,1);continue}var Ht=S4(be,lt,y,b),Er=Ht.minPatternNodeLabelDegree;if(Ht.minPatternNodeLabelInDegree,Ht.minPatternNodeLabelOutDegree,p[Ue.id].degree<Er){ve.splice(Fe,1);continue}}de||st.push({nodes:[se].concat(ve)})});var z=lw(e,K.id,!1).length,j={};n?(Object.keys(z).forEach(function(se){var Se=y[se].node[o];j[Se]?j[Se].push(z[se]):j[Se]=[z[se]]}),Object.keys(j).forEach(function(se){j[se].sort(function(Se,Y){return Se-Y})})):j=He;for(var X=st.length,ae=function(Se){var Y=st[Se],ve=Y.nodes[0],ce={},de={};Y.nodes.forEach(function(Pr,vn){de[Pr.id]={idx:vn,node:Pr,degree:0,inDegree:0,outDegree:0};var Lr=Pr[o];ce[Lr]?ce[Lr]++:ce[Lr]=1});var Fe=[],Ue={};t.edges.forEach(function(Pr){de[Pr.source]&&de[Pr.target]&&(Fe.push(Pr),Ue[Pr[s]]?Ue[Pr[s]]++:Ue[Pr[s]]=1,de[Pr.source].degree++,de[Pr.target].degree++,de[Pr.source].outDegree++,de[Pr.target].inDegree++)});for(var lt=Object.keys(w).length,ut=!1,We=0;We<lt;We++){var J=Object.keys(w)[We];if(!Ue[J]||Ue[J]<w[J].length){ut=!0;break}}if(ut)return st.splice(Se,1),"continue";var Pe=Fe.length;if(Pe<e.edges.length)return st.splice(Se,1),"break";for(var Ce=!1,ct=function(vn){var Lr=Fe[vn],Dn=Lr[s],Xr=w[Dn];if(!Xr||!Xr.length)return Ue[Dn]--,Xr&&Ue[Dn]<Xr.length?(Ce=!0,"break"):(Fe.splice(vn,1),de[Lr.source].degree--,de[Lr.target].degree--,de[Lr.source].outDegree--,de[Lr.target].inDegree--,"continue");var fi=de[Lr.source].node[o],Ui=de[Lr.target].node[o],Va=!1;if(Xr.forEach(function(fo){var ho=y[fo.source].node,Po=y[fo.target].node;ho[o]===fi&&Po[o]===Ui&&(Va=!0),!n&&ho[o]===Ui&&Po[o]===fi&&(Va=!0)}),!Va)return Ue[Dn]--,Xr&&Ue[Dn]<Xr.length?(Ce=!0,"break"):(Fe.splice(vn,1),de[Lr.source].degree--,de[Lr.target].degree--,de[Lr.source].outDegree--,de[Lr.target].inDegree--,"continue")},We=Pe-1;We>=0;We--){var mt=ct(We);if(mt==="break")break}if(Ce)return st.splice(Se,1),"continue";Y.edges=Fe;var Me=lw(Y,Y.nodes[0].id,!1).length;if(Object.keys(Me).reverse().forEach(function(Pr){if(!(Pr===Y.nodes[0].id||Ce)){if(Me[Pr]===1/0){var vn=de[Pr].node[o];if(ce[vn]--,ce[vn]<b[vn].length){Ce=!0;return}var Lr=Y.nodes.indexOf(de[Pr].node);Y.nodes.splice(Lr,1),de[Pr]=void 0;return}var Dn=p[Pr].node[o];if(!j[Dn]||!j[Dn].length||Me[Pr]>j[Dn][j[Dn].length-1]){var vn=de[Pr].node[o];if(ce[vn]--,ce[vn]<b[vn].length){Ce=!0;return}var Lr=Y.nodes.indexOf(de[Pr].node);Y.nodes.splice(Lr,1),de[Pr]=void 0}}}),Ce)return st.splice(Se,1),"continue";for(var ht=!0,ar=0;ht&&!Ce;){ht=!1;var Ht=n?de[ve.id].degree<y[K.id].degree||de[ve.id].inDegree<y[K.id].inDegree||de[ve.id].outDegree<y[K.id].outDegree:de[ve.id].degree<y[K.id].degree;if(Ht){Ce=!0;break}if(ce[ve[o]]<b[ve[o]].length){Ce=!0;break}for(var Er=Y.nodes.length,it=Er-1;it>=0;it--){var At=Y.nodes[it],vr=de[At.id].degree,ze=de[At.id].inDegree,_e=de[At.id].outDegree,Ke=At[o],Ot=S4(be,Ke,y,b),Nt=Ot.minPatternNodeLabelDegree,fr=Ot.minPatternNodeLabelInDegree,sn=Ot.minPatternNodeLabelOutDegree,en=n?vr<Nt||ze<fr||_e<sn:vr<Nt;if(en){if(ce[At[o]]--,ce[At[o]]<b[At[o]].length){Ce=!0;break}Y.nodes.splice(it,1),de[At.id]=void 0,ht=!0}}if(Ce||!ht&&ar!==0)break;Pe=Fe.length;for(var Zr=Pe-1;Zr>=0;Zr--){var Wn=Fe[Zr];if(!de[Wn.source]||!de[Wn.target]){Fe.splice(Zr,1);var gn=Wn[s];if(Ue[gn]--,de[Wn.source]&&(de[Wn.source].degree--,de[Wn.source].outDegree--),de[Wn.target]&&(de[Wn.target].degree--,de[Wn.target].inDegree--),w[gn]&&Ue[gn]<w[gn].length){Ce=!0;break}ht=!0}}ar++}if(Ce||Ce||Y.nodes.length<e.nodes.length||Fe.length<e.edges.length)return st.splice(Se,1),"continue"},ue=X-1;ue>=0;ue--){var Be=ae(ue);if(Be==="break")break}for(var Ze=st.length,Le=function(Se){var Y=st[Se],ve={};Y.edges.forEach(function(Fe){var Ue="".concat(Fe.source,"-").concat(Fe.target,"-").concat(Fe.label);ve[Ue]?ve[Ue]++:ve[Ue]=1});for(var ce=function(Ue){var lt=st[Ue],ut={};lt.edges.forEach(function(J){var Pe="".concat(J.source,"-").concat(J.target,"-").concat(J.label);ut[Pe]?ut[Pe]++:ut[Pe]=1});var We=!0;Object.keys(ut).length!==Object.keys(ve).length?We=!1:Object.keys(ve).forEach(function(J){ut[J]!==ve[J]&&(We=!1)}),We&&st.splice(Ue,1)},de=Ze-1;de>Se;de--)ce(de);Ze=st.length},ue=0;ue<=Ze-1;ue++)Le(ue);return st}}},Ly=function(){function r(t){t===void 0&&(t=10),this.linkedList=new BK,this.maxStep=t}return Object.defineProperty(r.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),r.prototype.isEmpty=function(){return!this.linkedList.head},r.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},r.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},r.prototype.push=function(t){this.linkedList.prepend(t),this.length>this.maxStep&&this.linkedList.deleteTail()},r.prototype.pop=function(){var t=this.linkedList.deleteHead();return t?t.value:null},r.prototype.toArray=function(){return this.linkedList.toArray().map(function(t){return t.value})},r.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},r}(),sZ=TF,SAe={getAdjMatrix:Ag,breadthFirstSearch:$K,connectedComponent:EF,getDegree:Rd,getInDegree:UK,getOutDegree:HK,detectCycle:TF,detectDirectedCycle:sZ,detectAllCycles:WK,detectAllDirectedCycle:kF,detectAllUndirectedCycle:AF,depthFirstSearch:_F,dijkstra:lw,findAllPath:XK,findShortestPath:YK,floydWarshall:uw,labelPropagation:qK,louvain:PF,iLouvain:KK,kCore:ZK,kMeans:QK,cosineSimilarity:RF,nodesCosineSimilarity:JK,minimumSpanningTree:eZ,pageRank:tZ,getNeighbors:Bl,Stack:Ly,GADDI:oZ},CAe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",getAdjMatrix:Ag,breadthFirstSearch:$K,connectedComponent:EF,getDegree:Rd,getInDegree:UK,getOutDegree:HK,detectCycle:TF,detectDirectedCycle:sZ,detectAllCycles:WK,detectAllDirectedCycle:kF,detectAllUndirectedCycle:AF,depthFirstSearch:_F,dijkstra:lw,findAllPath:XK,findShortestPath:YK,floydWarshall:uw,labelPropagation:qK,louvain:PF,iLouvain:KK,kCore:ZK,kMeans:QK,cosineSimilarity:RF,nodesCosineSimilarity:JK,minimumSpanningTree:eZ,pageRank:tZ,getNeighbors:Bl,Stack:Ly,GADDI:oZ,default:SAe}),O_=Ai,EAe=function(t){return function(e,n){return e[t]-n[t]}},C4=function(t,e,n){return t>=e&&t<=n},CA=function(t,e,n,i){var a=1e-4,o={x:n.x-t.x,y:n.y-t.y},s={x:e.x-t.x,y:e.y-t.y},l={x:i.x-n.x,y:i.y-n.y},u=s.x*l.y-s.y*l.x,c=u*u,f=1/u,d=s.x*s.x+s.y*s.y,h=l.x*l.x+l.y*l.y;if(c>a*d*h){var v=(o.x*l.y-o.y*l.x)*f,p=(o.x*s.y-o.y*s.x)*f;return!C4(v,0,1)||!C4(p,0,1)?null:{x:t.x+v*s.x,y:t.y+v*s.y}}return null},lZ=function(t,e){var n=t.x,i=t.y,a=t.width,o=t.height,s=n+a/2,l=i+o/2,u=[],c={x:s,y:l};u.push({x:n,y:i}),u.push({x:n+a,y:i}),u.push({x:n+a,y:i+o}),u.push({x:n,y:i+o}),u.push({x:n,y:i});for(var f=null,d=1;d<u.length&&(f=CA(u[d-1],u[d],c,e),!f);d++);return f},uZ=function(t,e){var n=t.x,i=t.y,a=t.r,o=e.x,s=e.y,l=o-n,u=s-i;if(l*l+u*u<a*a)return null;var c=Math.atan(u/l);return{x:n+Math.abs(a*Math.cos(c))*Math.sign(l),y:i+Math.abs(a*Math.sin(c))*Math.sign(u)}},cZ=function(t,e){var n=t.rx,i=t.ry,a=t.x,o=t.y,s=e.x-a,l=e.y-o,u=Math.atan2(l/i,s/n);return u<0&&(u+=2*Math.PI),{x:a+n*Math.cos(u),y:o+i*Math.sin(u)}},L_=function(t,e,n){n===void 0&&(n=1);var i=[t.x,t.y,n];return(!e||isNaN(e[0]))&&(e=[1,0,0,0,1,0,0,0,1]),of(i,i,e),{x:i[0],y:i[1]}},fZ=function(t,e,n){n===void 0&&(n=1),(!e||isNaN(e[0]))&&(e=[1,0,0,0,1,0,0,0,1]);var i=SA([1,0,0,0,1,0,0,0,1],e);i||(i=[1,0,0,0,1,0,0,0,1]);var a=[t.x,t.y,n];return of(a,a,i),{x:a[0],y:a[1]}},aD=function(t,e,n){var i=t.x-e.x,a=t.y-e.y,o=t.x-n.x,s=t.y-n.y,l=(t.x*t.x-e.x*e.x-e.y*e.y+t.y*t.y)/2,u=(t.x*t.x-n.x*n.x-n.y*n.y+t.y*t.y)/2,c=a*o-i*s;return{x:-(s*l-a*u)/c,y:-(i*u-o*l)/c}},F_=function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},_Ae=function(t,e){var n=[];return t.forEach(function(i){var a=[];i.forEach(function(o){a.push(o*e)}),n.push(a)}),n},TAe=function(t){for(var e=[],n=t.length,i=0;i<n;i+=1){e[i]=[];for(var a=0;a<n;a+=1)i===a?e[i][a]=0:t[i][a]===0||!t[i][a]?e[i][a]=1/0:e[i][a]=t[i][a]}for(var o=0;o<n;o+=1)for(var i=0;i<n;i+=1)for(var a=0;a<n;a+=1)e[i][a]>e[i][o]+e[o][a]&&(e[i][a]=e[i][o]+e[o][a]);return e},AAe=function(t,e){var n=t.nodes,i=t.edges,a=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(function(s,l){o[s.id]=l;var u=[];a.push(u)}),i&&i.forEach(function(s){var l=s.source,u=s.target,c=o[l],f=o[u];a[c][f]=1,e||(a[f][c]=1)}),a},dZ=function(t,e){t.translate(e.x,e.y)},oD=function(t,e,n,i){i===void 0&&(i={duration:500});var a=t.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]);var o=t.getCanvasBBox(),s=e.x-o.minX,l=e.y-o.minY;if(n){var u=s*a[0],c=l*a[4],f=0,d=0,h=0,v=0;t.animate(function(g){return h=u*g,v=c*g,a=O_(a,[["t",h-f,v-d]]),f=h,d=v,{matrix:a}},i)}else{var p=O_(a,[["t",s,l]]);t.setMatrix(p)}},kAe=function(t,e){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var i=e;gt(e)||(i=[e,e]),gt(e)&&e.length===1&&(i=[e[0],e[0]]),n=O_(n,[["s",i[0],i[1]]]),t.setMatrix(n)},MAe=function(t,e){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]),n=O_(n,[["r",e]]),t.setMatrix(n)},IAe=function(t,e,n){for(var i=[],a=0;a<t;a++)i[a]=0;return n.forEach(function(o){o.source&&(i[e[o.source]]+=1),o.target&&(i[e[o.target]]+=1)}),i};function PAe(r,t,e){return(e[0]-r[0])*(t[1]-r[1])===(t[0]-r[0])*(e[1]-r[1])&&Math.min(r[0],t[0])<=e[0]&&e[0]<=Math.max(r[0],t[0])&&Math.min(r[1],t[1])<=e[1]&&e[1]<=Math.max(r[1],t[1])}var cw=function(t,e,n){var i=!1,a=t.length,o=1e-6;function s(f){return Math.abs(f)<o?0:f<0?-1:1}if(a<=2)return!1;for(var l=0;l<a;l++){var u=t[l],c=t[(l+1)%a];if(PAe(u,c,[e,n]))return!0;s(u[1]-n)>0!=s(c[1]-n)>0&&s(e-(n-u[1])*(u[0]-c[0])/(u[1]-c[1])-u[0])<0&&(i=!i)}return i},hZ=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},RAe=function(t,e){var n=!1;return q(t,function(i){if(CA(i.from,i.to,e.from,e.to))return n=!0,!1}),n},vZ=function(t,e){var n=function(d){var h=d.map(function(p){return p[0]}),v=d.map(function(p){return p[1]});return{minX:Math.min.apply(null,h),maxX:Math.max.apply(null,h),minY:Math.min.apply(null,v),maxY:Math.max.apply(null,v)}},i=function(d){for(var h=[],v=d.length,p=0;p<v-1;p++){var g=d[p],m=d[p+1];h.push({from:{x:g[0],y:g[1]},to:{x:m[0],y:m[1]}})}if(h.length>1){var y=d[0],b=d[v-1];h.push({from:{x:b[0],y:b[1]},to:{x:y[0],y:y[1]}})}return h};if(t.length<2||e.length<2)return!1;var a=n(t),o=n(e);if(!hZ(a,o))return!1;var s=!1;if(q(e,function(f){if(cw(t,f[0],f[1]))return s=!0,!1}),s||(q(t,function(f){if(cw(e,f[0],f[1]))return s=!0,!1}),s))return!0;var l=i(t),u=i(e),c=!1;return q(u,function(f){if(RAe(l,f))return c=!0,!1}),c},kg=function(){function r(t,e,n,i){this.x1=t,this.y1=e,this.x2=n,this.y2=i}return r.prototype.getBBox=function(){var t=Math.min(this.x1,this.x2),e=Math.min(this.y1,this.y2),n=Math.max(this.x1,this.x2),i=Math.max(this.y1,this.y2),a={x:t,y:e,minX:t,minY:e,maxX:n,maxY:i,width:n-t,height:i-e};return a},r}(),DF=function(t,e){var n={top:[t.minX,t.minY,t.maxX,t.minY],left:[t.minX,t.minY,t.minX,t.maxY],bottom:[t.minX,t.maxY,t.maxX,t.maxY],right:[t.maxX,t.minY,t.maxX,t.maxY]};return n[e]},DAe=function(t,e){var n=(e.x2-e.x1)*(t.y1-e.y1)-(e.y2-e.y1)*(t.x1-e.x1),i=(t.x2-t.x1)*(t.y1-e.y1)-(t.y2-t.y1)*(t.x1-e.x1),a=(e.y2-e.y1)*(t.x2-t.x1)-(e.x2-e.x1)*(t.y2-t.y1);if(a){var o=n/a,s=i/a;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},pZ=function(t,e){for(var n=["top","left","bottom","right"],i=t.getBBox(),a=0,o=[],s=0;s<4;s++){var l=DF(i,n[s]),u=l[0],c=l[1],f=l[2],d=l[3];o[s]=CA({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},{x:u,y:c},{x:f,y:d}),o[s]&&(a+=1)}return[o,a]},OF=function(t,e){for(var n=["top","left","bottom","right"],i=t.getBBox(),a=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var l=DF(i,n[s]),u=l[0],c=l[1],f=l[2],d=l[3],h=DAe(e,new kg(u,c,f,d));h=Math.abs(h-.5),h>=0&&h<=1&&(o+=1,a=h<a?h:a)}return o===0?-1:a},gZ=function(t){var e=0,n=0;if(t.length>0){for(var i=0,a=t;i<a.length;i++){var o=a[i];e+=o.x,n+=o.y}e/=t.length,n/=t.length}return{x:e,y:n}},N_=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)},mZ=function(t,e){var n=e.x1,i=e.y1,a=e.x2-n,o=e.y2-i,s=t.x-n,l=t.y-i,u=s*a+l*o,c;u<=0?c=0:(s=a-s,l=o-l,u=s*a+l*o,u<=0?c=0:c=u*u/(a*a+o*o));var f=s*s+l*l-c;return f<0&&(f=0),f},sD=function(t,e,n){return n===void 0&&(n=.001),Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(n,2)},yZ=function(t,e){var n=t.x<e.x,i=t.x>e.x+e.width,a=t.y>e.y+e.height,o=t.y<e.y,s=n||i||a||o;if(!s)return 0;if(a&&!n&&!i)return Math.pow(e.y+e.height-t.y,2);if(o&&!n&&!i)return Math.pow(t.y-e.y,2);if(n&&!a&&!o)return Math.pow(e.x-t.x,2);if(i&&!a&&!o)return Math.pow(e.x+e.width-t.x,2);var l=Math.min(Math.abs(e.x-t.x),Math.abs(e.x+e.width-t.x)),u=Math.min(Math.abs(e.y-t.y),Math.abs(e.y+e.height-t.y));return l*l+u*u},OAe=function(t,e){var n=t[0],i=t[1],a=t[2],o=t[3],s=e.x,l=e.y,u=[a-n,o-i];if(FK(u,[0,0]))return NaN;var c=[-u[1],u[0]];cv(c,c);var f=[s-n,l-i];return Math.abs(wF(f,c))},bZ=function(t,e,n){return t+(e-t)*n},LAe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compare:EAe,getLineIntersect:CA,getRectIntersectByPoint:lZ,getCircleIntersectByPoint:uZ,getEllipseIntersectByPoint:cZ,applyMatrix:L_,invertMatrix:fZ,getCircleCenterByPoints:aD,distance:F_,scaleMatrix:_Ae,floydWarshall:TAe,getAdjMatrix:AAe,translate:dZ,move:oD,scale:kAe,rotate:MAe,getDegree:IAe,isPointInPolygon:cw,intersectBBox:hZ,isPolygonsIntersect:vZ,Line:kg,getBBoxBoundLine:DF,itemIntersectByLine:pZ,fractionToLine:OF,getPointsCenter:gZ,squareDist:N_,pointLineSquareDist:mZ,isPointsOverlap:sD,pointRectSquareDist:yZ,pointLineDistance:OAe,lerp:bZ}),Ih="rgb(95, 149, 255)",FAe="rgb(255, 255, 255)",E4="rgb(0, 0, 0)",RI="rgb(247, 250, 255)",xZ="rgb(239, 244, 255)",fE="rgb(253, 253, 253)",_4="rgb(250, 250, 250)",dE="rgb(224, 224, 224)",T4="rgb(234, 234, 234)",NAe="rgb(245, 245, 245)",BAe="rgb(191, 213, 255)",A4="#4572d9",zAe="rgb(223, 234, 255)",Xn={mainStroke:Ih,mainFill:xZ,activeStroke:Ih,activeFill:RI,inactiveStroke:BAe,inactiveFill:RI,selectedStroke:Ih,selectedFill:FAe,highlightStroke:A4,highlightFill:zAe,disableStroke:dE,disableFill:_4,edgeMainStroke:dE,edgeActiveStroke:Ih,edgeInactiveStroke:T4,edgeSelectedStroke:Ih,edgeHighlightStroke:Ih,edgeDisableStroke:NAe,comboMainStroke:dE,comboMainFill:fE,comboActiveStroke:Ih,comboActiveFill:RI,comboInactiveStroke:dE,comboInactiveFill:fE,comboSelectedStroke:Ih,comboSelectedFill:fE,comboHighlightStroke:A4,comboHighlightFill:fE,comboDisableStroke:T4,comboDisableFill:_4},Ar={version:"0.5.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Xn.mainStroke,fill:xZ},size:20,color:Xn.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Xn.activeFill,stroke:Xn.activeStroke}},nodeStateStyles:{active:{fill:Xn.activeFill,stroke:Xn.activeStroke,lineWidth:2,shadowColor:Xn.mainStroke,shadowBlur:10},selected:{fill:Xn.selectedFill,stroke:Xn.selectedStroke,lineWidth:4,shadowColor:Xn.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Xn.highlightFill,stroke:Xn.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Xn.inactiveFill,stroke:Xn.inactiveStroke,lineWidth:1},disable:{fill:Xn.disableFill,stroke:Xn.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:E4,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Xn.edgeMainStroke,lineAppendWidth:2},color:Xn.edgeMainStroke},edgeStateStyles:{active:{stroke:Xn.edgeActiveStroke,lineWidth:1},selected:{stroke:Xn.edgeSelectedStroke,lineWidth:2,shadowColor:Xn.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Xn.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Xn.edgeInactiveStroke,lineWidth:1},disable:{stroke:Xn.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:E4,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Xn.comboMainFill,lineWidth:1,stroke:Xn.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Xn.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Xn.comboActiveStroke,lineWidth:1,fill:Xn.comboActiveFill},selected:{stroke:Xn.comboSelectedStroke,lineWidth:2,fill:Xn.comboSelectedFill,shadowColor:Xn.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Xn.comboHighlightStroke,lineWidth:2,fill:Xn.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Xn.comboInactiveStroke,fill:Xn.comboInactiveFill,lineWidth:1},disable:{stroke:Xn.comboDisableStroke,fill:Xn.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},windowFontFamily:typeof window!="undefined"&&window.getComputedStyle&&document.body&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},$Ae={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Fc=Math.PI,lD=Math.sin,uD=Math.cos,No=lD(Fc/8),Bo=uD(Fc/8),B_=function(t,e){var n=t.getBBox(),i={x:n.minX,y:n.minY},a={x:n.maxX,y:n.maxY};if(e){var o=e.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),i=L_(i,o),a=L_(a,o)}var s=i.x,l=i.y,u=a.x,c=a.y;return{x:s,y:l,minX:s,minY:l,maxX:u,maxY:c,width:u-s,height:c-l}},wZ=function(t){var e=t.sourceNode||t.targetNode,n=e.get("group"),i=n.getMatrix();i||(i=[1,0,0,0,1,0,0,0,1]);var a=e.getKeyShape(),o=a.getBBox(),s=t.loopCfg||{},l=s.dist||Math.max(o.width,o.height)*2,u=s.position||Ar.defaultLoopPosition,c=[i[6],i[7]],f=[t.startPoint.x,t.startPoint.y],d=[t.endPoint.x,t.endPoint.y],h=o.height/2,v=o.height/2,p=h*No,g=h*Bo,m=v*No,y=v*Bo;if(f[0]===d[0]&&f[1]===d[1]){switch(u){case"top":f=[c[0]-p,c[1]-g],d=[c[0]+m,c[1]-y];break;case"top-right":h=o.height/2,v=o.width/2,p=h*No,g=h*Bo,m=v*No,y=v*Bo,f=[c[0]+p,c[1]-g],d=[c[0]+y,c[1]-m];break;case"right":h=o.width/2,v=o.width/2,p=h*No,g=h*Bo,m=v*No,y=v*Bo,f=[c[0]+g,c[1]-p],d=[c[0]+y,c[1]+m];break;case"bottom-right":h=o.width/2,v=o.height/2,p=h*No,g=h*Bo,m=v*No,y=v*Bo,f=[c[0]+g,c[1]+p],d=[c[0]+m,c[1]+y];break;case"bottom":h=o.height/2,v=o.height/2,p=h*No,g=h*Bo,m=v*No,y=v*Bo,f=[c[0]+p,c[1]+g],d=[c[0]-m,c[1]+y];break;case"bottom-left":h=o.height/2,v=o.width/2,p=h*No,g=h*Bo,m=v*No,y=v*Bo,f=[c[0]-p,c[1]+g],d=[c[0]-y,c[1]+m];break;case"left":h=o.width/2,v=o.width/2,p=h*No,g=h*Bo,m=v*No,y=v*Bo,f=[c[0]-g,c[1]+p],d=[c[0]-y,c[1]-m];break;case"top-left":h=o.width/2,v=o.height/2,p=h*No,g=h*Bo,m=v*No,y=v*Bo,f=[c[0]-g,c[1]-p],d=[c[0]-m,c[1]-y];break;default:h=o.width/2,v=o.width/2,p=h*No,g=h*Bo,m=v*No,y=v*Bo,f=[c[0]-p,c[1]-g],d=[c[0]+m,c[1]-y]}if(s.clockwise===!1){var b=[f[0],f[1]];f=[d[0],d[1]],d=[b[0],b[1]]}}var w=[f[0]-c[0],f[1]-c[1]],S=(h+l)/h,E=(v+l)/v;s.clockwise===!1&&(S=(v+l)/v,E=(h+l)/h);var _=pa([0,0],w,S),A=[c[0]+_[0],c[1]+_[1]],k=[d[0]-c[0],d[1]-c[1]],T=pa([0,0],k,E),I=[c[0]+T[0],c[1]+T[1]];return t.startPoint={x:f[0],y:f[1]},t.endPoint={x:d[0],y:d[1]},t.controlPoints=[{x:A[0],y:A[1]},{x:I[0],y:I[1]}],t},SZ=function(t,e,n,i,a){var o=1e-4,s=[],l=t==null?void 0:t.getPoint(e);if(!l)return{x:0,y:0,angle:0};if(e<o)s=t.getStartTangent().reverse();else if(e>1-o)s=t.getEndTangent();else{var u=t==null?void 0:t.getPoint(e+o);s.push([l.x,l.y]),s.push([u.x,u.y])}var c=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(c<0&&(c+=Fc*2),n&&(l.x+=uD(c)*n,l.y+=lD(c)*n),i){var f=c-Fc/2;c>1/2*Fc&&c<3*1/2*Fc&&(f-=Fc),l.x+=uD(f)*i,l.y+=lD(f)*i}var d={x:l.x,y:l.y,angle:c};return a?(c>.5*Fc&&c<1.5*Fc&&(c-=Fc),P({rotate:c},d)):d},CZ=function r(t,e){if(e(t)===!1)return!1;if(t&&t.children){for(var n=t.children.length-1;n>=0;n--)if(!r(t.children[n],e))return!1}return!0},GAe=function r(t,e){if(t&&t.children){for(var n=t.children.length-1;n>=0;n--)if(!r(t.children[n],e))return}return e(t)!==!1},Ol=function(t,e){typeof e=="function"&&CZ(t,e)},Hh=function(t,e){typeof e=="function"&&GAe(t,e)},EZ=function(t,e){return e*($Ae[t]||1)},_Z=function(t,e){var n=0,i=new RegExp("[\u4E00-\u9FA5]+");return t.split("").forEach(function(a){i.test(a)?n+=e:n+=EZ(a,e)}),[n,e]},cD=function(t,e){var n=[],i={},a={};t.forEach(function(l){a[l.id]=l}),t.forEach(function(l,u){var c=Jr(l);c.itemType="combo",c.children=void 0,c.parentId===c.id?(console.warn("The parentId for combo ".concat(c.id," can not be the same as the combo's id")),delete c.parentId):c.parentId&&!a[c.parentId]&&(console.warn("The parent combo for combo ".concat(c.id," does not exist!")),delete c.parentId);var f=i[c.id];if(f){if(c.children=f.children,i[c.id]=c,f=c,!f.parentId){n.push(f);return}var d=i[f.parentId];if(d)d.children?d.children.push(c):d.children=[c];else{var h={id:f.parentId,children:[f]};i[f.parentId]=h,i[c.id]=c}return}if(wt(l.parentId)){var v=i[l.parentId];if(v)v.children?v.children.push(c):v.children=[c],i[c.id]=c;else{var p={id:l.parentId,children:[c]};i[p.id]=p,i[c.id]=c}}else n.push(c),i[c.id]=c});var o={};(e||[]).forEach(function(l){o[l.id]=l;var u=i[l.comboId];if(u){var c={id:l.id,comboId:l.comboId};u.children?u.children.push(c):u.children=[c],c.itemType="node",i[l.id]=c}});var s=0;return n.forEach(function(l){l.depth=s+10,CZ(l,function(u){var c,f=i[u.id].itemType;f==="node"?c=i[u.comboId]:c=i[u.parentId],c&&f==="node"?u.depth=s+1:u.depth=s+10,s<u.depth&&(s=u.depth);var d=o[u.id];return d&&(d.depth=u.depth),!0})}),n},fD=function(t,e,n){var i=t,a,o={root:{children:t}},s=!1,l="root";(t||[]).forEach(function(h){if(!s){if(h.id===e){a=h,h.itemType==="combo"?a.parentId=n:a.comboId=n,s=!0;return}Ol(h,function(v){return o[v.id]={children:v.children},i=o[v.parentId||v.comboId||"root"].children,v&&(v.removed||e===v.id)&&i?(l=v.parentId||v.comboId||"root",a=v,v.itemType==="combo"?a.parentId=n:a.comboId=n,s=!0,!1):!0})}}),i=o[l].children;var u=i?i.indexOf(a):-1;if(u>-1&&i.splice(u,1),s||(a={id:e,itemType:"node",comboId:n},o[e]={children:void 0}),e){var c=!1;if(n){var f=0;(t||[]).forEach(function(h){c||Ol(h,function(v){return n===v.id?(c=!0,v.children?v.children.push(a):v.children=[a],f=v.depth,a.itemType==="node"?a.depth=f+2:a.depth=f+1,!1):!0})})}else(!n||!c)&&a.itemType!=="node"&&t.push(a);var d=a.depth;Ol(a,function(h){return h.itemType==="node"?d+=2:d+=1,h.depth=d,!0})}return t},G2=function(t,e,n){var i={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};if(!t||t.length===0){var a=n==null?void 0:n.getModel(),o=a||{},s=o.x,l=o.y;return{minX:s,minY:l,maxX:s,maxY:l,x:s,y:l,width:void 0,height:void 0}}return t.forEach(function(u){var c=e.findById(u.id);if(!(!c||!c.isVisible())){c.set("bboxCanvasCache",void 0);var f=c.getCanvasBBox();f.x&&i.minX>f.minX&&(i.minX=f.minX),f.y&&i.minY>f.minY&&(i.minY=f.minY),f.x&&i.maxX<f.maxX&&(i.maxX=f.maxX),f.y&&i.maxY<f.maxY&&(i.maxY=f.maxY)}}),i.x=(i.minX+i.maxX)/2,i.y=(i.minY+i.maxY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i.centerX=(i.minX+i.maxX)/2,i.centerY=(i.minY+i.maxY)/2,Object.keys(i).forEach(function(u){(i[u]===1/0||i[u]===-1/0)&&(i[u]=void 0)}),i},UAe=function(t){var e=ir(t.x)||ir(t.y)||t.type||t.anchorPoints||t.size;return t.style&&(e=e||ir(t.style.r)||ir(t.style.width)||ir(t.style.height)||ir(t.style.rx)||ir(t.style.ry)),e},U2=function(t){var e={};return Object.keys(t).forEach(function(n){var i=t[n];if(Hn(i)&&!gt(i)){var a={};Object.keys(i).forEach(function(o){var s=i[o];o==="img"&&!wt(s)||(a[o]=Jr(s))}),e[n]=a}else e[n]=Jr(i)}),e},HAe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",getBBox:B_,getLoopCfgs:wZ,getLabelPosition:SZ,traverseTree:Ol,traverseTreeUp:Hh,getLetterWidth:EZ,getTextSize:_Z,plainCombosToTrees:cD,reconstructTree:fD,getComboBBox:G2,shouldRefreshEdge:UAe,cloneBesidesImg:U2}),k4=function(t){var e;if(!t)return console.error("G6 Error Tips: the data must be defined"),!1;var n=t.nodes,i=t.edges,a=t.combos,o=a===void 0?[]:a;if(!n&&!i){var s=!0;return Ol(t,function(h){return wt(h.id)?!0:(s=!1,!1)}),s}var l=(n||[]).find(function(h){return!wt(h.id)});if(l)return console.warn("G6 Warning Tips: missing 'id' property, or %c".concat(l.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1;var u=(n||[]).map(function(h){return h.id}),c=(e=o)===null||e===void 0?void 0:e.map(function(h){return h.id}),f=$i($i([],u,!0),c,!0),d=(i||[]).find(function(h){return!f.includes(h.source)||!f.includes(h.target)});return d?(console.warn("G6 Warning Tips: The source %c".concat(d.source,"%c or the target %c").concat(d.target,"%c of the edge do not exist in the nodes or combos."),"font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1):!0},VAe=function(t,e){if(t==="node"||t==="combo"){if(e.id&&!wt(e.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c".concat(e.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1}else if(t==="edge"&&(!e.source||!e.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0},WAe=function(){function r(t){this.graph=t,this.destroyed=!1,this.modes=t.get("modes")||{default:[]},this.formatModes(),this.mode=t.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return r.prototype.formatModes=function(){var t=this.modes;q(t,function(e){q(e,function(n,i){wt(n)&&(e[i]={type:n})})})},r.prototype.setBehaviors=function(t){var e=this.graph,n=this.modes[t],i=[],a;q(n||[],function(o){var s=_K.getBehavior(o.type||o);!s||(a=new s(o),a&&(a.bind(e),i.push(a)))}),this.currentBehaves=i},r.mergeBehaviors=function(t,e){return q(e,function(n){t.indexOf(n)<0&&(wt(n)&&(n={type:n}),t.push(n))}),t},r.filterBehaviors=function(t,e){var n=[];return t.forEach(function(i){var a="";wt(i)?a=i:a=i.type,e.indexOf(a)<0&&n.push(i)}),n},r.prototype.setMode=function(t){var e=this,n=e.modes,i=e.graph,a=t,o=n[a];!o||(i.emit("beforemodechange",{mode:t}),q(this.currentBehaves,function(s){s.delegate&&s.delegate.remove(),s.unbind(i)}),this.setBehaviors(a),i.emit("aftermodechange",{mode:t}),this.mode=t)},r.prototype.getMode=function(){return this.mode},r.prototype.manipulateBehaviors=function(t,e,n){var i=this,a;if(gt(t)?a=t:a=[t],gt(e))return q(e,function(s){i.modes[s]?n?i.modes[s]=r.mergeBehaviors(i.modes[s]||[],a):i.modes[s]=r.filterBehaviors(i.modes[s]||[],a):n&&(i.modes[s]=a)}),this;var o=e;return e||(o=this.mode),this.modes[o]||n&&(this.modes[o]=a),n?this.modes[o]=r.mergeBehaviors(this.modes[o]||[],a):this.modes[o]=r.filterBehaviors(this.modes[o]||[],a),this.formatModes(),this.setMode(this.mode),this},r.prototype.updateBehavior=function(t,e,n){wt(t)&&(t={type:t});var i=[];if(!n||n===this.mode||n==="default"){if(i=this.currentBehaves,!i||!i.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var a=i.length,o=0;o<a;o++){var s=i[o];if(s.type===t.type)return s.updateCfg(e),this;o===a-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(i=this.modes[n],!i||!i.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var l=i.length,o=0;o<l;o++){var s=i[o];if(s.type===t.type||s===t.type)return s===t.type&&(s={type:s}),Object.assign(s,e),i[o]=s,this;o===l-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},r.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},r}(),M1=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,jAe=new RegExp("([a-z])["+M1+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+M1+"]*,?["+M1+"]*)+)","ig"),YAe=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+M1+"]*,?["+M1+"]*","ig"),Fy=function(r){if(!r)return null;if(gt(r))return r;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},e=[];return String(r).replace(jAe,function(n,i,a){var o=[],s=i.toLowerCase();if(a.replace(YAe,function(l,u){u&&o.push(+u)}),s==="m"&&o.length>2&&(e.push([i].concat(o.splice(0,2))),s="l",i=i==="m"?"l":"L"),s==="o"&&o.length===1&&e.push([i,o[0]]),s==="r")e.push([i].concat(o));else for(;o.length>=t[s]&&(e.push([i].concat(o.splice(0,t[s]))),!!t[s]););return r}),e},dD=function(r,t){for(var e=[],n=0,i=r.length;i-2*!t>n;n+=2){var a=[{x:+r[n-2],y:+r[n-1]},{x:+r[n],y:+r[n+1]},{x:+r[n+2],y:+r[n+3]},{x:+r[n+4],y:+r[n+5]}];t?n?i-4===n?a[3]={x:+r[0],y:+r[1]}:i-2===n&&(a[2]={x:+r[0],y:+r[1]},a[3]={x:+r[2],y:+r[3]}):a[0]={x:+r[i-2],y:+r[i-1]}:i-4===n?a[3]=a[2]:n||(a[0]={x:+r[n],y:+r[n+1]}),e.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return e},hE=function(r,t,e,n,i){var a=[];if(i===null&&n===null&&(n=e),r=+r,t=+t,e=+e,n=+n,i!==null){var o=Math.PI/180,s=r+e*Math.cos(-n*o),l=r+e*Math.cos(-i*o),u=t+e*Math.sin(-n*o),c=t+e*Math.sin(-i*o);a=[["M",s,u],["A",e,e,0,+(i-n>180),0,l,c]]}else a=[["M",r,t],["m",0,-n],["a",e,n,0,1,1,0,2*n],["a",e,n,0,1,1,0,-2*n],["z"]];return a},hD=function(r){if(r=Fy(r),!r||!r.length)return[["M",0,0]];var t=[],e=0,n=0,i=0,a=0,o=0,s,l;r[0][0]==="M"&&(e=+r[0][1],n=+r[0][2],i=e,a=n,o++,t[0]=["M",e,n]);for(var u=r.length===3&&r[0][0]==="M"&&r[1][0].toUpperCase()==="R"&&r[2][0].toUpperCase()==="Z",c=void 0,f=void 0,d=o,h=r.length;d<h;d++){if(t.push(c=[]),f=r[d],s=f[0],s!==s.toUpperCase())switch(c[0]=s.toUpperCase(),c[0]){case"A":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+f[6]+e,c[7]=+f[7]+n;break;case"V":c[1]=+f[1]+n;break;case"H":c[1]=+f[1]+e;break;case"R":l=[e,n].concat(f.slice(1));for(var v=2,p=l.length;v<p;v++)l[v]=+l[v]+e,l[++v]=+l[v]+n;t.pop(),t=t.concat(dD(l,u));break;case"O":t.pop(),l=hE(e,n,f[1],f[2]),l.push(l[0]),t=t.concat(l);break;case"U":t.pop(),t=t.concat(hE(e,n,f[1],f[2],f[3])),c=["U"].concat(t[t.length-1].slice(-2));break;case"M":i=+f[1]+e,a=+f[2]+n;break;default:for(var v=1,p=f.length;v<p;v++)c[v]=+f[v]+(v%2?e:n)}else if(s==="R")l=[e,n].concat(f.slice(1)),t.pop(),t=t.concat(dD(l,u)),c=["R"].concat(f.slice(-2));else if(s==="O")t.pop(),l=hE(e,n,f[1],f[2]),l.push(l[0]),t=t.concat(l);else if(s==="U")t.pop(),t=t.concat(hE(e,n,f[1],f[2],f[3])),c=["U"].concat(t[t.length-1].slice(-2));else for(var g=0,m=f.length;g<m;g++)c[g]=f[g];if(s=s.toUpperCase(),s!=="O")switch(c[0]){case"Z":e=+i,n=+a;break;case"H":e=c[1];break;case"V":n=c[1];break;case"M":i=c[c.length-2],a=c[c.length-1];break;default:e=c[c.length-2],n=c[c.length-1]}}return t},vE=function(r,t,e,n){return[r,t,e,n,e,n]},M4=function(r,t,e,n,i,a){var o=.3333333333333333,s=2/3;return[o*r+s*e,o*t+s*n,o*i+s*e,o*a+s*n,i,a]},TZ=function(r,t,e,n,i,a,o,s,l,u){e===n&&(e+=1);var c=Math.PI*120/180,f=Math.PI/180*(+i||0),d=[],h,v,p,g,m,y=function(fe,he,Ee){var He=fe*Math.cos(Ee)-he*Math.sin(Ee),nt=fe*Math.sin(Ee)+he*Math.cos(Ee);return{x:He,y:nt}};if(u)v=u[0],p=u[1],g=u[2],m=u[3];else{h=y(r,t,-f),r=h.x,t=h.y,h=y(s,l,-f),s=h.x,l=h.y,r===s&&t===l&&(s+=1,l+=1);var b=(r-s)/2,w=(t-l)/2,S=b*b/(e*e)+w*w/(n*n);S>1&&(S=Math.sqrt(S),e=S*e,n=S*n);var E=e*e,_=n*n,A=(a===o?-1:1)*Math.sqrt(Math.abs((E*_-E*w*w-_*b*b)/(E*w*w+_*b*b)));g=A*e*w/n+(r+s)/2,m=A*-n*b/e+(t+l)/2,v=Math.asin(((t-m)/n).toFixed(9)),p=Math.asin(((l-m)/n).toFixed(9)),v=r<g?Math.PI-v:v,p=s<g?Math.PI-p:p,v<0&&(v=Math.PI*2+v),p<0&&(p=Math.PI*2+p),o&&v>p&&(v=v-Math.PI*2),!o&&p>v&&(p=p-Math.PI*2)}var k=p-v;if(Math.abs(k)>c){var T=p,I=s,D=l;p=v+c*(o&&p>v?1:-1),s=g+e*Math.cos(p),l=m+n*Math.sin(p),d=TZ(s,l,e,n,i,0,o,I,D,[p,T,g,m])}k=p-v;var O=Math.cos(v),B=Math.sin(v),U=Math.cos(p),N=Math.sin(p),G=Math.tan(k/4),L=4/3*e*G,F=4/3*n*G,W=[r,t],H=[r+L*B,t-F*O],K=[s+L*N,l-F*U],ie=[s,l];if(H[0]=2*W[0]-H[0],H[1]=2*W[1]-H[1],u)return[H,K,ie].concat(d);d=[H,K,ie].concat(d).join().split(",");for(var ee=[],Q=0,be=d.length;Q<be;Q++)ee[Q]=Q%2?y(d[Q-1],d[Q],f).y:y(d[Q],d[Q+1],f).x;return ee},vD=function(r,t){var e=hD(r),n=t&&hD(t),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=[],s=[],l="",u="",c,f=function(b,w,S){var E,_;if(!b)return["C",w.x,w.y,w.x,w.y,w.x,w.y];switch(!(b[0]in{T:1,Q:1})&&(w.qx=w.qy=null),b[0]){case"M":w.X=b[1],w.Y=b[2];break;case"A":b=["C"].concat(TZ.apply(0,[w.x,w.y].concat(b.slice(1))));break;case"S":S==="C"||S==="S"?(E=w.x*2-w.bx,_=w.y*2-w.by):(E=w.x,_=w.y),b=["C",E,_].concat(b.slice(1));break;case"T":S==="Q"||S==="T"?(w.qx=w.x*2-w.qx,w.qy=w.y*2-w.qy):(w.qx=w.x,w.qy=w.y),b=["C"].concat(M4(w.x,w.y,w.qx,w.qy,b[1],b[2]));break;case"Q":w.qx=b[1],w.qy=b[2],b=["C"].concat(M4(w.x,w.y,b[1],b[2],b[3],b[4]));break;case"L":b=["C"].concat(vE(w.x,w.y,b[1],b[2]));break;case"H":b=["C"].concat(vE(w.x,w.y,b[1],w.y));break;case"V":b=["C"].concat(vE(w.x,w.y,w.x,b[1]));break;case"Z":b=["C"].concat(vE(w.x,w.y,w.X,w.Y));break}return b},d=function(b,w){if(b[w].length>7){b[w].shift();for(var S=b[w];S.length;)o[w]="A",n&&(s[w]="A"),b.splice(w++,0,["C"].concat(S.splice(0,6)));b.splice(w,1),c=Math.max(e.length,n&&n.length||0)}},h=function(b,w,S,E,_){b&&w&&b[_][0]==="M"&&w[_][0]!=="M"&&(w.splice(_,0,["M",E.x,E.y]),S.bx=0,S.by=0,S.x=b[_][1],S.y=b[_][2],c=Math.max(e.length,n&&n.length||0))};c=Math.max(e.length,n&&n.length||0);for(var v=0;v<c;v++){e[v]&&(l=e[v][0]),l!=="C"&&(o[v]=l,v&&(u=o[v-1])),e[v]=f(e[v],i,u),o[v]!=="A"&&l==="C"&&(o[v]="C"),d(e,v),n&&(n[v]&&(l=n[v][0]),l!=="C"&&(s[v]=l,v&&(u=s[v-1])),n[v]=f(n[v],a,u),s[v]!=="A"&&l==="C"&&(s[v]="C"),d(n,v)),h(e,n,i,a,v),h(n,e,a,i,v);var p=e[v],g=n&&n[v],m=p.length,y=n&&g.length;i.x=p[m-2],i.y=p[m-1],i.bx=parseFloat(p[m-4])||i.x,i.by=parseFloat(p[m-3])||i.y,a.bx=n&&(parseFloat(g[y-4])||a.x),a.by=n&&(parseFloat(g[y-3])||a.y),a.x=n&&g[y-2],a.y=n&&g[y-1]}return n?[e,n]:e},XAe=/,?([a-z]),?/gi,AZ=function(r){return r.join(",").replace(XAe,"$1")},I4=function(r,t,e,n,i){var a=-3*t+9*e-9*n+3*i,o=r*a+6*t-12*e+6*n;return r*o-3*t+3*e},P4=function(r,t,e,n,i,a,o,s,l){l===null&&(l=1),l=l>1?1:l<0?0:l;for(var u=l/2,c=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,v=0;v<c;v++){var p=u*f[v]+u,g=I4(p,r,e,i,o),m=I4(p,t,n,a,s),y=g*g+m*m;h+=d[v]*Math.sqrt(y)}return u*h},qAe=function(r,t,e,n,i,a,o,s){for(var l=[],u=[[],[]],c,f,d,h,v=0;v<2;++v){if(v===0?(f=6*r-12*e+6*i,c=-3*r+9*e-9*i+3*o,d=3*e-3*r):(f=6*t-12*n+6*a,c=-3*t+9*n-9*a+3*s,d=3*n-3*t),Math.abs(c)<1e-12){if(Math.abs(f)<1e-12)continue;h=-d/f,h>0&&h<1&&l.push(h);continue}var p=f*f-4*d*c,g=Math.sqrt(p);if(!(p<0)){var m=(-f+g)/(2*c);m>0&&m<1&&l.push(m);var y=(-f-g)/(2*c);y>0&&y<1&&l.push(y)}}for(var b=l.length,w=b,S;b--;)h=l[b],S=1-h,u[0][b]=S*S*S*r+3*S*S*h*e+3*S*h*h*i+h*h*h*o,u[1][b]=S*S*S*t+3*S*S*h*n+3*S*h*h*a+h*h*h*s;return u[0][w]=r,u[1][w]=t,u[0][w+1]=o,u[1][w+1]=s,u[0].length=u[1].length=w+2,{min:{x:Math.min.apply(0,u[0]),y:Math.min.apply(0,u[1])},max:{x:Math.max.apply(0,u[0]),y:Math.max.apply(0,u[1])}}},KAe=function(r,t,e,n,i,a,o,s){if(!(Math.max(r,e)<Math.min(i,o)||Math.min(r,e)>Math.max(i,o)||Math.max(t,n)<Math.min(a,s)||Math.min(t,n)>Math.max(a,s))){var l=(r*n-t*e)*(i-o)-(r-e)*(i*s-a*o),u=(r*n-t*e)*(a-s)-(t-n)*(i*s-a*o),c=(r-e)*(a-s)-(t-n)*(i-o);if(!!c){var f=l/c,d=u/c,h=+f.toFixed(2),v=+d.toFixed(2);if(!(h<+Math.min(r,e).toFixed(2)||h>+Math.max(r,e).toFixed(2)||h<+Math.min(i,o).toFixed(2)||h>+Math.max(i,o).toFixed(2)||v<+Math.min(t,n).toFixed(2)||v>+Math.max(t,n).toFixed(2)||v<+Math.min(a,s).toFixed(2)||v>+Math.max(a,s).toFixed(2)))return{x:f,y:d}}}},Ph=function(r,t,e){return t>=r.x&&t<=r.x+r.width&&e>=r.y&&e<=r.y+r.height},kZ=function(r,t,e,n,i){if(i)return[["M",+r+ +i,t],["l",e-i*2,0],["a",i,i,0,0,1,i,i],["l",0,n-i*2],["a",i,i,0,0,1,-i,i],["l",i*2-e,0],["a",i,i,0,0,1,-i,-i],["l",0,i*2-n],["a",i,i,0,0,1,i,-i],["z"]];var a=[["M",r,t],["l",e,0],["l",0,n],["l",-e,0],["z"]];return a.parsePathArray=AZ,a},pD=function(r,t,e,n){return r===null&&(r=t=e=n=0),t===null&&(t=r.y,e=r.width,n=r.height,r=r.x),{x:r,y:t,width:e,w:e,height:n,h:n,x2:r+e,y2:t+n,cx:r+e/2,cy:t+n/2,r1:Math.min(e,n)/2,r2:Math.max(e,n)/2,r0:Math.sqrt(e*e+n*n)/2,path:kZ(r,t,e,n),vb:[r,t,e,n].join(" ")}},ZAe=function(r,t){return r=pD(r),t=pD(t),Ph(t,r.x,r.y)||Ph(t,r.x2,r.y)||Ph(t,r.x,r.y2)||Ph(t,r.x2,r.y2)||Ph(r,t.x,t.y)||Ph(r,t.x2,t.y)||Ph(r,t.x,t.y2)||Ph(r,t.x2,t.y2)||(r.x<t.x2&&r.x>t.x||t.x<r.x2&&t.x>r.x)&&(r.y<t.y2&&r.y>t.y||t.y<r.y2&&t.y>r.y)},R4=function(r,t,e,n,i,a,o,s){gt(r)||(r=[r,t,e,n,i,a,o,s]);var l=qAe.apply(null,r);return pD(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)},D4=function(r,t,e,n,i,a,o,s,l){var u=1-l,c=Math.pow(u,3),f=Math.pow(u,2),d=l*l,h=d*l,v=c*r+f*3*l*e+u*3*l*l*i+h*o,p=c*t+f*3*l*n+u*3*l*l*a+h*s,g=r+2*l*(e-r)+d*(i-2*e+r),m=t+2*l*(n-t)+d*(a-2*n+t),y=e+2*l*(i-e)+d*(o-2*i+e),b=n+2*l*(a-n)+d*(s-2*a+n),w=u*r+l*e,S=u*t+l*n,E=u*i+l*o,_=u*a+l*s,A=90-Math.atan2(g-y,m-b)*180/Math.PI;return{x:v,y:p,m:{x:g,y:m},n:{x:y,y:b},start:{x:w,y:S},end:{x:E,y:_},alpha:A}},QAe=function(r,t,e){var n=R4(r),i=R4(t);if(!ZAe(n,i))return e?0:[];for(var a=P4.apply(0,r),o=P4.apply(0,t),s=~~(a/8),l=~~(o/8),u=[],c=[],f={},d=e?0:[],h=0;h<s+1;h++){var v=D4.apply(0,r.concat(h/s));u.push({x:v.x,y:v.y,t:h/s})}for(var h=0;h<l+1;h++){var v=D4.apply(0,t.concat(h/l));c.push({x:v.x,y:v.y,t:h/l})}for(var h=0;h<s;h++)for(var p=0;p<l;p++){var g=u[h],m=u[h+1],y=c[p],b=c[p+1],w=Math.abs(m.x-g.x)<.001?"y":"x",S=Math.abs(b.x-y.x)<.001?"y":"x",E=KAe(g.x,g.y,m.x,m.y,y.x,y.y,b.x,b.y);if(E){if(f[E.x.toFixed(4)]===E.y.toFixed(4))continue;f[E.x.toFixed(4)]=E.y.toFixed(4);var _=g.t+Math.abs((E[w]-g[w])/(m[w]-g[w]))*(m.t-g.t),A=y.t+Math.abs((E[S]-y[S])/(b[S]-y[S]))*(b.t-y.t);_>=0&&_<=1&&A>=0&&A<=1&&(e?d+=1:d.push({x:E.x,y:E.y,t1:_,t2:A}))}}return d},JAe=function(r,t,e){r=vD(r),t=vD(t);for(var n,i,a,o,s,l,u,c,f,d,h=e?0:[],v=0,p=r.length;v<p;v++){var g=r[v];if(g[0]==="M")n=s=g[1],i=l=g[2];else{g[0]==="C"?(f=[n,i].concat(g.slice(1)),n=f[6],i=f[7]):(f=[n,i,n,i,s,l,s,l],n=s,i=l);for(var m=0,y=t.length;m<y;m++){var b=t[m];if(b[0]==="M")a=u=b[1],o=c=b[2];else{b[0]==="C"?(d=[a,o].concat(b.slice(1)),a=d[6],o=d[7]):(d=[a,o,a,o,u,c,u,c],a=u,o=c);var w=QAe(f,d,e);if(e)h+=w;else{for(var S=0,E=w.length;S<E;S++)w[S].segment1=v,w[S].segment2=m,w[S].bez1=f,w[S].bez2=d;h=h.concat(w)}}}}}return h},eke=function(r,t){return JAe(r,t)};function tke(r,t){var e=[],n=[];function i(a,o){if(a.length===1)e.push(a[0]),n.push(a[0]);else{for(var s=[],l=0;l<a.length-1;l++)l===0&&e.push(a[0]),l===a.length-2&&n.push(a[l+1]),s[l]=[(1-o)*a[l][0]+o*a[l+1][0],(1-o)*a[l][1]+o*a[l+1][1]];i(s,o)}}return r.length&&i(r,t),{left:e,right:n.reverse()}}function rke(r,t,e){var n=[[r[1],r[2]]];e=e||2;var i=[];t[0]==="A"?(n.push(t[6]),n.push(t[7])):t[0]==="C"?(n.push([t[1],t[2]]),n.push([t[3],t[4]]),n.push([t[5],t[6]])):t[0]==="S"||t[0]==="Q"?(n.push([t[1],t[2]]),n.push([t[3],t[4]])):n.push([t[1],t[2]]);for(var a=n,o=1/e,s=0;s<e-1;s++){var l=o/(1-o*s),u=tke(a,l);i.push(u.left),a=u.right}i.push(a);var c=i.map(function(f){var d=[];return f.length===4&&(d.push("C"),d=d.concat(f[2])),f.length>=3&&(f.length===3&&d.push("Q"),d=d.concat(f[1])),f.length===2&&d.push("L"),d=d.concat(f[f.length-1]),d});return c}var nke=function(r,t,e){if(e===1)return[[].concat(r)];var n=[];if(t[0]==="L"||t[0]==="C"||t[0]==="Q")n=n.concat(rke(r,t,e));else{var i=[].concat(r);i[0]==="M"&&(i[0]="L");for(var a=0;a<=e-1;a++)n.push(i)}return n},ike=function(r,t){if(r.length===1)return r;var e=r.length-1,n=t.length-1,i=e/n,a=[];if(r.length===1&&r[0][0]==="M"){for(var o=0;o<n-e;o++)r.push(r[0]);return r}for(var o=0;o<n;o++){var s=Math.floor(i*o);a[s]=(a[s]||0)+1}var l=a.reduce(function(u,c,f){return f===e?u.concat(r[e]):u.concat(nke(r[f],r[f+1],c))},[]);return l.unshift(r[0]),(t[n]==="Z"||t[n]==="z")&&l.push("Z"),l},ake=function(r,t){if(r.length!==t.length)return!1;var e=!0;return q(r,function(n,i){if(n!==t[i])return e=!1,!1}),e};function oke(r,t,e){var n=null,i=e;return t<i&&(i=t,n="add"),r<i&&(i=r,n="del"),{type:n,min:i}}var ske=function(r,t){var e=r.length,n=t.length,i,a,o=0;if(e===0||n===0)return null;for(var s=[],l=0;l<=e;l++)s[l]=[],s[l][0]={min:l};for(var u=0;u<=n;u++)s[0][u]={min:u};for(var l=1;l<=e;l++){i=r[l-1];for(var u=1;u<=n;u++){a=t[u-1],ake(i,a)?o=0:o=1;var c=s[l-1][u].min+1,f=s[l][u-1].min+1,d=s[l-1][u-1].min+o;s[l][u]=oke(c,f,d)}}return s},MZ=function(r,t){var e=ske(r,t),n=r.length,i=t.length,a=[],o=1,s=1;if(e[n][i].min!==n){for(var l=1;l<=n;l++){var u=e[l][l].min;s=l;for(var c=o;c<=i;c++)e[l][c].min<u&&(u=e[l][c].min,s=c);o=s,e[l][o].type&&a.push({index:l-1,type:e[l][o].type})}for(var l=a.length-1;l>=0;l--)o=a[l].index,a[l].type==="add"?r.splice(o,0,[].concat(r[o])):r.splice(o,1)}n=r.length;var f=i-n;if(n<i)for(var l=0;l<f;l++)r[n-1][0]==="z"||r[n-1][0]==="Z"?r.splice(n-2,0,r[n-2]):r.push(r[n-1]),n+=1;return r};function DI(r,t,e){for(var n=[].concat(r),i,a=1/(e+1),o=IZ(t)[0],s=1;s<=e;s++)a*=s,i=Math.floor(r.length*a),i===0?n.unshift([o[0]*a+r[i][0]*(1-a),o[1]*a+r[i][1]*(1-a)]):n.splice(i,0,[o[0]*a+r[i][0]*(1-a),o[1]*a+r[i][1]*(1-a)]);return n}function IZ(r){var t=[];switch(r[0]){case"M":t.push([r[1],r[2]]);break;case"L":t.push([r[1],r[2]]);break;case"A":t.push([r[6],r[7]]);break;case"Q":t.push([r[3],r[4]]),t.push([r[1],r[2]]);break;case"T":t.push([r[1],r[2]]);break;case"C":t.push([r[5],r[6]]),t.push([r[1],r[2]]),t.push([r[3],r[4]]);break;case"S":t.push([r[3],r[4]]),t.push([r[1],r[2]]);break;case"H":t.push([r[1],r[1]]);break;case"V":t.push([r[1],r[1]]);break}return t}var gD=function(r,t){if(r.length<=1)return r;for(var e,n=0;n<t.length;n++)if(r[n][0]!==t[n][0])switch(e=IZ(r[n]),t[n][0]){case"M":r[n]=["M"].concat(e[0]);break;case"L":r[n]=["L"].concat(e[0]);break;case"A":r[n]=[].concat(t[n]),r[n][6]=e[0][0],r[n][7]=e[0][1];break;case"Q":if(e.length<2)if(n>0)e=DI(e,r[n-1],1);else{r[n]=t[n];break}r[n]=["Q"].concat(e.reduce(function(i,a){return i.concat(a)},[]));break;case"T":r[n]=["T"].concat(e[0]);break;case"C":if(e.length<3)if(n>0)e=DI(e,r[n-1],2);else{r[n]=t[n];break}r[n]=["C"].concat(e.reduce(function(i,a){return i.concat(a)},[]));break;case"S":if(e.length<2)if(n>0)e=DI(e,r[n-1],1);else{r[n]=t[n];break}r[n]=["S"].concat(e.reduce(function(i,a){return i.concat(a)},[]));break;default:r[n]=t[n]}return r},LF=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",catmullRomToBezier:dD,fillPath:ike,fillPathByDiff:MZ,formatPath:gD,intersection:eke,parsePathArray:AZ,parsePathString:Fy,pathToAbsolute:hD,pathToCurve:vD,rectPath:kZ}),Z0=function(){function r(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return r.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){this.propagationStopped=!0},r.prototype.toString=function(){var t=this.type;return"[Event (type="+t+")]"},r.prototype.save=function(){},r.prototype.restore=function(){},r}();function PZ(r,t){var e=r.indexOf(t);e!==-1&&r.splice(e,1)}var O4=typeof window!="undefined"&&typeof window.document!="undefined";function RZ(r,t){if(r.isCanvas())return!0;for(var e=t.getParent(),n=!1;e;){if(e===r){n=!0;break}e=e.getParent()}return n}function fw(r){return r.cfg.visible&&r.cfg.capture}var EA=function(r){Ve(t,r);function t(e){var n=r.call(this)||this;n.destroyed=!1;var i=n.getDefaultCfg();return n.cfg=cr(i,e),n}return t.prototype.getDefaultCfg=function(){return{}},t.prototype.get=function(e){return this.cfg[e]},t.prototype.set=function(e,n){this.cfg[e]=n},t.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},t}(wA),L4=globalThis&&globalThis.__spreadArray||function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return r.concat(a||Array.prototype.slice.call(t))},lke=function(){function r(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"}return r}(),uke=function(){function r(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return r}(),cke=function(){function r(t,e,n,i){this.name=t,this.version=e,this.os=n,this.bot=i,this.type="bot-device"}return r}(),fke=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}(),dke=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}(),hke=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,vke=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,F4=3,pke=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",hke]],N4=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function DZ(r){return r?B4(r):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new dke:typeof navigator!="undefined"?B4(navigator.userAgent):yke()}function gke(r){return r!==""&&pke.reduce(function(t,e){var n=e[0],i=e[1];if(t)return t;var a=i.exec(r);return!!a&&[n,a]},!1)}function B4(r){var t=gke(r);if(!t)return null;var e=t[0],n=t[1];if(e==="searchbot")return new fke;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<F4&&(i=L4(L4([],i,!0),bke(F4-i.length),!0)):i=[];var a=i.join("."),o=mke(r),s=vke.exec(r);return s&&s[1]?new cke(e,a,o,s[1]):new lke(e,a,o)}function mke(r){for(var t=0,e=N4.length;t<e;t++){var n=N4[t],i=n[0],a=n[1],o=a.exec(r);if(o)return i}return null}function yke(){var r=typeof process!="undefined"&&process.version;return r?new uke(process.version.slice(1)):null}function bke(r){for(var t=[],e=0;e<r;e++)t.push("0");return t}function z4(r,t){var e=[],n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],l=r[5],u=r[6],c=r[7],f=r[8],d=t[0],h=t[1],v=t[2],p=t[3],g=t[4],m=t[5],y=t[6],b=t[7],w=t[8];return e[0]=d*n+h*o+v*u,e[1]=d*i+h*s+v*c,e[2]=d*a+h*l+v*f,e[3]=p*n+g*o+m*u,e[4]=p*i+g*s+m*c,e[5]=p*a+g*l+m*f,e[6]=y*n+b*o+w*u,e[7]=y*i+b*s+w*c,e[8]=y*a+b*l+w*f,e}function md(r,t){var e=[],n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function _A(r){var t=[],e=r[0],n=r[1],i=r[2],a=r[3],o=r[4],s=r[5],l=r[6],u=r[7],c=r[8],f=c*o-s*u,d=-c*a+s*l,h=u*a-o*l,v=e*f+n*d+i*h;return v?(v=1/v,t[0]=f*v,t[1]=(-c*n+i*u)*v,t[2]=(s*n-i*o)*v,t[3]=d*v,t[4]=(c*e-i*l)*v,t[5]=(-s*e+i*a)*v,t[6]=h*v,t[7]=(-u*e+n*l)*v,t[8]=(o*e-n*a)*v,t):null}var vx=Ai,OI="matrix",xke=["zIndex","capture","visible","type"],wke=["repeat"],Ske=":",Cke="*";function Eke(r){for(var t=[],e=0;e<r.length;e++)gt(r[e])?t.push([].concat(r[e])):t.push(r[e]);return t}function _ke(r,t){var e={},n=t.attrs;for(var i in r)e[i]=n[i];return e}function Tke(r,t){var e={},n=t.attr();return q(r,function(i,a){wke.indexOf(a)===-1&&!Zi(n[a],i)&&(e[a]=i)}),e}function Ake(r,t){if(t.onFrame)return r;var e=t.startTime,n=t.delay,i=t.duration,a=Object.prototype.hasOwnProperty;return q(r,function(o){e+n<o.startTime+o.delay+o.duration&&i>o.delay&&q(t.toAttrs,function(s,l){a.call(o.toAttrs,l)&&(delete o.toAttrs[l],delete o.fromAttrs[l])})}),r}var OZ=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;n.attrs={};var i=n.getDefaultAttrs();return cr(i,e.attrs),n.attrs=i,n.initAttrs(i),n.initAnimate(),n}return t.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},t.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},t.prototype.onCanvasChange=function(e){},t.prototype.initAttrs=function(e){},t.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},t.prototype.isGroup=function(){return!1},t.prototype.getParent=function(){return this.get("parent")},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.attr=function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=n[0],o=n[1];if(!a)return this.attrs;if(Hn(a)){for(var s in a)this.setAttr(s,a[s]);return this.afterAttrsChange(a),this}return n.length===2?(this.setAttr(a,o),this.afterAttrsChange((e={},e[a]=o,e)),this):this.attrs[a]},t.prototype.isClipped=function(e,n){var i=this.getClip();return i&&!i.isHit(e,n)},t.prototype.setAttr=function(e,n){var i=this.attrs[e];i!==n&&(this.attrs[e]=n,this.onAttrChange(e,n,i))},t.prototype.onAttrChange=function(e,n,i){e==="matrix"&&this.set("totalMatrix",null)},t.prototype.afterAttrsChange=function(e){if(this.cfg.isClipShape){var n=this.cfg.applyTo;n&&n.onCanvasChange("clip")}else this.onCanvasChange("attr")},t.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},t.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},t.prototype.setZIndex=function(e){this.set("zIndex",e);var n=this.getParent();return n&&n.sort(),this},t.prototype.toFront=function(){var e=this.getParent();if(!!e){var n=e.getChildren();this.get("el");var i=n.indexOf(this);n.splice(i,1),n.push(this),this.onCanvasChange("zIndex")}},t.prototype.toBack=function(){var e=this.getParent();if(!!e){var n=e.getChildren();this.get("el");var i=n.indexOf(this);n.splice(i,1),n.unshift(this),this.onCanvasChange("zIndex")}},t.prototype.remove=function(e){e===void 0&&(e=!0);var n=this.getParent();n?(PZ(n.getChildren(),this),n.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),e&&this.destroy()},t.prototype.resetMatrix=function(){this.attr(OI,this.getDefaultMatrix()),this.onCanvasChange("matrix")},t.prototype.getMatrix=function(){return this.attr(OI)},t.prototype.setMatrix=function(e){this.attr(OI,e),this.onCanvasChange("matrix")},t.prototype.getTotalMatrix=function(){var e=this.cfg.totalMatrix;if(!e){var n=this.attr("matrix"),i=this.cfg.parentMatrix;i&&n?e=z4(i,n):e=n||i,this.set("totalMatrix",e)}return e},t.prototype.applyMatrix=function(e){var n=this.attr("matrix"),i=null;e&&n?i=z4(e,n):i=n||e,this.set("totalMatrix",i),this.set("parentMatrix",e)},t.prototype.getDefaultMatrix=function(){return null},t.prototype.applyToMatrix=function(e){var n=this.attr("matrix");return n?md(n,e):e},t.prototype.invertFromMatrix=function(e){var n=this.attr("matrix");if(n){var i=_A(n);if(i)return md(i,e)}return e},t.prototype.setClip=function(e){var n=this.getCanvas(),i=null;if(e){var a=this.getShapeBase(),o=Ju(e.type),s=a[o];s&&(i=new s({type:e.type,isClipShape:!0,applyTo:this,attrs:e.attrs,canvas:n}))}return this.set("clipShape",i),this.onCanvasChange("clip"),i},t.prototype.getClip=function(){var e=this.cfg.clipShape;return e||null},t.prototype.clone=function(){var e=this,n=this.attrs,i={};q(n,function(s,l){gt(n[l])?i[l]=Eke(n[l]):i[l]=n[l]});var a=this.constructor,o=new a({attrs:i});return q(xke,function(s){o.set(s,e.get(s))}),o},t.prototype.destroy=function(){var e=this.destroyed;e||(this.attrs={},r.prototype.destroy.call(this))},t.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},t.prototype.animate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var i=this.get("timeline");i||(i=this.get("canvas").get("timeline"),this.set("timeline",i));var a=this.get("animations")||[];i.timer||i.initTimer();var o=e[0],s=e[1],l=e[2],u=l===void 0?"easeLinear":l,c=e[3],f=c===void 0?pd:c,d=e[4],h=d===void 0?0:d,v,p,g,m,y;yr(o)?(v=o,o={}):Hn(o)&&o.onFrame&&(v=o.onFrame,p=o.repeat),Hn(s)?(y=s,s=y.duration,u=y.easing||"easeLinear",h=y.delay||0,p=y.repeat||p||!1,f=y.callback||pd,g=y.pauseCallback||pd,m=y.resumeCallback||pd):(ir(f)&&(h=f,f=null),yr(u)?(f=u,u="easeLinear"):u=u||"easeLinear");var b=Tke(o,this),w={fromAttrs:_ke(b,this),toAttrs:b,duration:s,easing:u,repeat:p,callback:f,pauseCallback:g,resumeCallback:m,delay:h,startTime:i.getTime(),id:ec(),onFrame:v,pathFormatted:!1};a.length>0?a=Ake(a,w):i.addAnimator(this),a.push(w),this.set("animations",a),this.set("_pause",{isPaused:!1})}},t.prototype.stopAnimate=function(e){var n=this;e===void 0&&(e=!0);var i=this.get("animations");q(i,function(a){e&&(a.onFrame?n.attr(a.onFrame(1)):n.attr(a.toAttrs)),a.callback&&a.callback()}),this.set("animating",!1),this.set("animations",[])},t.prototype.pauseAnimate=function(){var e=this.get("timeline"),n=this.get("animations"),i=e.getTime();return q(n,function(a){a._paused=!0,a._pauseTime=i,a.pauseCallback&&a.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:i}),this},t.prototype.resumeAnimate=function(){var e=this.get("timeline"),n=e.getTime(),i=this.get("animations"),a=this.get("_pause").pauseTime;return q(i,function(o){o.startTime=o.startTime+(n-a),o._paused=!1,o._pauseTime=null,o.resumeCallback&&o.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",i),this},t.prototype.emitDelegation=function(e,n){var i=this,a=n.propagationPath;this.getEvents();var o;e==="mouseenter"?o=n.fromShape:e==="mouseleave"&&(o=n.toShape);for(var s=function(f){var d=a[f],h=d.get("name");if(h){if((d.isGroup()||d.isCanvas&&d.isCanvas())&&o&&RZ(d,o))return"break";gt(h)?q(h,function(v){i.emitDelegateEvent(d,v,n)}):l.emitDelegateEvent(d,h,n)}},l=this,u=0;u<a.length;u++){var c=s(u);if(c==="break")break}},t.prototype.emitDelegateEvent=function(e,n,i){var a=this.getEvents(),o=n+Ske+i.type;(a[o]||a[Cke])&&(i.name=o,i.currentTarget=e,i.delegateTarget=this,i.delegateObject=e.get("delegateObject"),this.emit(o,i))},t.prototype.translate=function(e,n){e===void 0&&(e=0),n===void 0&&(n=0);var i=this.getMatrix(),a=vx(i,[["t",e,n]]);return this.setMatrix(a),this},t.prototype.move=function(e,n){var i=this.attr("x")||0,a=this.attr("y")||0;return this.translate(e-i,n-a),this},t.prototype.moveTo=function(e,n){return this.move(e,n)},t.prototype.scale=function(e,n){var i=this.getMatrix(),a=vx(i,[["s",e,n||e]]);return this.setMatrix(a),this},t.prototype.rotate=function(e){var n=this.getMatrix(),i=vx(n,[["r",e]]);return this.setMatrix(i),this},t.prototype.rotateAtStart=function(e){var n=this.attr(),i=n.x,a=n.y,o=this.getMatrix(),s=vx(o,[["t",-i,-a],["r",e],["t",i,a]]);return this.setMatrix(s),this},t.prototype.rotateAtPoint=function(e,n,i){var a=this.getMatrix(),o=vx(a,[["t",-e,-n],["r",i],["t",e,n]]);return this.setMatrix(o),this},t}(EA),$4={},mD="_INDEX";function LZ(r,t){if(r.set("canvas",t),r.isGroup()){var e=r.get("children");e.length&&e.forEach(function(n){LZ(n,t)})}}function FZ(r,t){if(r.set("timeline",t),r.isGroup()){var e=r.get("children");e.length&&e.forEach(function(n){FZ(n,t)})}}function kke(r,t,e){e===void 0&&(e=!0),e?t.destroy():(t.set("parent",null),t.set("canvas",null)),PZ(r.getChildren(),t)}function Mke(r){return function(t,e){var n=r(t,e);return n===0?t[mD]-e[mD]:n}}var NZ=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.isCanvas=function(){return!1},t.prototype.getBBox=function(){var e=1/0,n=-1/0,i=1/0,a=-1/0,o=[],s=[],l=this.getChildren().filter(function(c){return c.get("visible")&&(!c.isGroup()||c.isGroup()&&c.getChildren().length>0)});l.length>0?(q(l,function(c){var f=c.getBBox();o.push(f.minX,f.maxX),s.push(f.minY,f.maxY)}),e=Os(o),n=bs(o),i=Os(s),a=bs(s)):(e=0,n=0,i=0,a=0);var u={x:e,y:i,minX:e,minY:i,maxX:n,maxY:a,width:n-e,height:a-i};return u},t.prototype.getCanvasBBox=function(){var e=1/0,n=-1/0,i=1/0,a=-1/0,o=[],s=[],l=this.getChildren().filter(function(c){return c.get("visible")&&(!c.isGroup()||c.isGroup()&&c.getChildren().length>0)});l.length>0?(q(l,function(c){var f=c.getCanvasBBox();o.push(f.minX,f.maxX),s.push(f.minY,f.maxY)}),e=Os(o),n=bs(o),i=Os(s),a=bs(s)):(e=0,n=0,i=0,a=0);var u={x:e,y:i,minX:e,minY:i,maxX:n,maxY:a,width:n-e,height:a-i};return u},t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return e.children=[],e},t.prototype.onAttrChange=function(e,n,i){if(r.prototype.onAttrChange.call(this,e,n,i),e==="matrix"){var a=this.getTotalMatrix();this._applyChildrenMarix(a)}},t.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();r.prototype.applyMatrix.call(this,e);var i=this.getTotalMatrix();i!==n&&this._applyChildrenMarix(i)},t.prototype._applyChildrenMarix=function(e){var n=this.getChildren();q(n,function(i){i.applyMatrix(e)})},t.prototype.addShape=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[0],a=e[1];Hn(i)?a=i:a.type=i;var o=$4[a.type];o||(o=Ju(a.type),$4[a.type]=o);var s=this.getShapeBase(),l=new s[o](a);return this.add(l),l},t.prototype.addGroup=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[0],a=e[1],o;if(yr(i))a?o=new i(a):o=new i({parent:this});else{var s=i||{},l=this.getGroupBase();o=new l(s)}return this.add(o),o},t.prototype.getCanvas=function(){var e;return this.isCanvas()?e=this:e=this.get("canvas"),e},t.prototype.getShape=function(e,n,i){if(!fw(this))return null;var a=this.getChildren(),o;if(this.isCanvas())o=this._findShape(a,e,n,i);else{var s=[e,n,1];s=this.invertFromMatrix(s),this.isClipped(s[0],s[1])||(o=this._findShape(a,s[0],s[1],i))}return o},t.prototype._findShape=function(e,n,i,a){for(var o=null,s=e.length-1;s>=0;s--){var l=e[s];if(fw(l)&&(l.isGroup()?o=l.getShape(n,i,a):l.isHit(n,i)&&(o=l)),o)break}return o},t.prototype.add=function(e){var n=this.getCanvas(),i=this.getChildren(),a=this.get("timeline"),o=e.getParent();o&&kke(o,e,!1),e.set("parent",this),n&&LZ(e,n),a&&FZ(e,a),i.push(e),e.onCanvasChange("add"),this._applyElementMatrix(e)},t.prototype._applyElementMatrix=function(e){var n=this.getTotalMatrix();n&&e.applyMatrix(n)},t.prototype.getChildren=function(){return this.get("children")},t.prototype.sort=function(){var e=this.getChildren();q(e,function(n,i){return n[mD]=i,n}),e.sort(Mke(function(n,i){return n.get("zIndex")-i.get("zIndex")})),this.onCanvasChange("sort")},t.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var e=this.getChildren(),n=e.length-1;n>=0;n--)e[n].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},t.prototype.destroy=function(){this.get("destroyed")||(this.clear(),r.prototype.destroy.call(this))},t.prototype.getFirst=function(){return this.getChildByIndex(0)},t.prototype.getLast=function(){var e=this.getChildren();return this.getChildByIndex(e.length-1)},t.prototype.getChildByIndex=function(e){var n=this.getChildren();return n[e]},t.prototype.getCount=function(){var e=this.getChildren();return e.length},t.prototype.contain=function(e){var n=this.getChildren();return n.indexOf(e)>-1},t.prototype.removeChild=function(e,n){n===void 0&&(n=!0),this.contain(e)&&e.remove(n)},t.prototype.findAll=function(e){var n=[],i=this.getChildren();return q(i,function(a){e(a)&&n.push(a),a.isGroup()&&(n=n.concat(a.findAll(e)))}),n},t.prototype.find=function(e){var n=null,i=this.getChildren();return q(i,function(a){if(e(a)?n=a:a.isGroup()&&(n=a.find(e)),n)return!1}),n},t.prototype.findById=function(e){return this.find(function(n){return n.get("id")===e})},t.prototype.findByClassName=function(e){return this.find(function(n){return n.get("className")===e})},t.prototype.findAllByName=function(e){return this.findAll(function(n){return n.get("name")===e})},t}(OZ),b0=0,i1=0,px=0,BZ=1e3,z_,a1,$_=0,Mg=0,TA=0,dw=typeof performance=="object"&&performance.now?performance:Date,zZ=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function $Z(){return Mg||(zZ(Ike),Mg=dw.now()+TA)}function Ike(){Mg=0}function yD(){this._call=this._time=this._next=null}yD.prototype=GZ.prototype={constructor:yD,restart:function(r,t,e){if(typeof r!="function")throw new TypeError("callback is not a function");e=(e==null?$Z():+e)+(t==null?0:+t),!this._next&&a1!==this&&(a1?a1._next=this:z_=this,a1=this),this._call=r,this._time=e,bD()},stop:function(){this._call&&(this._call=null,this._time=1/0,bD())}};function GZ(r,t,e){var n=new yD;return n.restart(r,t,e),n}function Pke(){$Z(),++b0;for(var r=z_,t;r;)(t=Mg-r._time)>=0&&r._call.call(null,t),r=r._next;--b0}function G4(){Mg=($_=dw.now())+TA,b0=i1=0;try{Pke()}finally{b0=0,Dke(),Mg=0}}function Rke(){var r=dw.now(),t=r-$_;t>BZ&&(TA-=t,$_=r)}function Dke(){for(var r,t=z_,e,n=1/0;t;)t._call?(n>t._time&&(n=t._time),r=t,t=t._next):(e=t._next,t._next=null,t=r?r._next=e:z_=e);a1=r,bD(n)}function bD(r){if(!b0){i1&&(i1=clearTimeout(i1));var t=r-Mg;t>24?(r<1/0&&(i1=setTimeout(G4,r-dw.now()-TA)),px&&(px=clearInterval(px))):(px||($_=dw.now(),px=setInterval(Rke,BZ)),b0=1,zZ(G4))}}function Oke(r){return+r}function Lke(r){return r*r}function Fke(r){return r*(2-r)}function U4(r){return((r*=2)<=1?r*r:--r*(2-r)+1)/2}function Nke(r){return r*r*r}function Bke(r){return--r*r*r+1}function H4(r){return((r*=2)<=1?r*r*r:(r-=2)*r*r+2)/2}var FF=3,zke=function r(t){t=+t;function e(n){return Math.pow(n,t)}return e.exponent=r,e}(FF),$ke=function r(t){t=+t;function e(n){return 1-Math.pow(1-n,t)}return e.exponent=r,e}(FF),V4=function r(t){t=+t;function e(n){return((n*=2)<=1?Math.pow(n,t):2-Math.pow(2-n,t))/2}return e.exponent=r,e}(FF),UZ=Math.PI,HZ=UZ/2;function Gke(r){return+r==1?1:1-Math.cos(r*HZ)}function Uke(r){return Math.sin(r*HZ)}function W4(r){return(1-Math.cos(UZ*r))/2}function mv(r){return(Math.pow(2,-10*r)-.0009765625)*1.0009775171065494}function Hke(r){return mv(1-+r)}function Vke(r){return 1-mv(r)}function j4(r){return((r*=2)<=1?mv(1-r):2-mv(r-1))/2}function Wke(r){return 1-Math.sqrt(1-r*r)}function jke(r){return Math.sqrt(1- --r*r)}function Y4(r){return((r*=2)<=1?1-Math.sqrt(1-r*r):Math.sqrt(1-(r-=2)*r)+1)/2}var xD=4/11,Yke=6/11,Xke=8/11,qke=3/4,Kke=9/11,Zke=10/11,Qke=15/16,Jke=21/22,eMe=63/64,pE=1/xD/xD;function tMe(r){return 1-hw(1-r)}function hw(r){return(r=+r)<xD?pE*r*r:r<Xke?pE*(r-=Yke)*r+qke:r<Zke?pE*(r-=Kke)*r+Qke:pE*(r-=Jke)*r+eMe}function rMe(r){return((r*=2)<=1?1-hw(1-r):hw(r-1)+1)/2}var NF=1.70158,nMe=function r(t){t=+t;function e(n){return(n=+n)*n*(t*(n-1)+n)}return e.overshoot=r,e}(NF),iMe=function r(t){t=+t;function e(n){return--n*n*((n+1)*t+n)+1}return e.overshoot=r,e}(NF),X4=function r(t){t=+t;function e(n){return((n*=2)<1?n*n*((t+1)*n-t):(n-=2)*n*((t+1)*n+t)+2)/2}return e.overshoot=r,e}(NF),x0=2*Math.PI,BF=1,zF=.3,aMe=function r(t,e){var n=Math.asin(1/(t=Math.max(1,t)))*(e/=x0);function i(a){return t*mv(- --a)*Math.sin((n-a)/e)}return i.amplitude=function(a){return r(a,e*x0)},i.period=function(a){return r(t,a)},i}(BF,zF),q4=function r(t,e){var n=Math.asin(1/(t=Math.max(1,t)))*(e/=x0);function i(a){return 1-t*mv(a=+a)*Math.sin((a+n)/e)}return i.amplitude=function(a){return r(a,e*x0)},i.period=function(a){return r(t,a)},i}(BF,zF),oMe=function r(t,e){var n=Math.asin(1/(t=Math.max(1,t)))*(e/=x0);function i(a){return((a=a*2-1)<0?t*mv(-a)*Math.sin((n-a)/e):2-t*mv(a)*Math.sin((n+a)/e))/2}return i.amplitude=function(a){return r(a,e*x0)},i.period=function(a){return r(t,a)},i}(BF,zF),K4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",easeLinear:Oke,easeQuad:U4,easeQuadIn:Lke,easeQuadOut:Fke,easeQuadInOut:U4,easeCubic:H4,easeCubicIn:Nke,easeCubicOut:Bke,easeCubicInOut:H4,easePoly:V4,easePolyIn:zke,easePolyOut:$ke,easePolyInOut:V4,easeSin:W4,easeSinIn:Gke,easeSinOut:Uke,easeSinInOut:W4,easeExp:j4,easeExpIn:Hke,easeExpOut:Vke,easeExpInOut:j4,easeCircle:Y4,easeCircleIn:Wke,easeCircleOut:jke,easeCircleInOut:Y4,easeBounce:hw,easeBounceIn:tMe,easeBounceOut:hw,easeBounceInOut:rMe,easeBack:X4,easeBackIn:nMe,easeBackOut:iMe,easeBackInOut:X4,easeElastic:q4,easeElasticIn:aMe,easeElasticOut:q4,easeElasticInOut:oMe});function $F(r,t,e){r.prototype=t.prototype=e,e.constructor=r}function VZ(r,t){var e=Object.create(r.prototype);for(var n in t)e[n]=t[n];return e}function sS(){}var vw=.7,G_=1/vw,Yy="\\s*([+-]?\\d+)\\s*",pw="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sMe=/^#([0-9a-f]{3,8})$/,lMe=new RegExp("^rgb\\("+[Yy,Yy,Yy]+"\\)$"),uMe=new RegExp("^rgb\\("+[Zc,Zc,Zc]+"\\)$"),cMe=new RegExp("^rgba\\("+[Yy,Yy,Yy,pw]+"\\)$"),fMe=new RegExp("^rgba\\("+[Zc,Zc,Zc,pw]+"\\)$"),dMe=new RegExp("^hsl\\("+[pw,Zc,Zc]+"\\)$"),hMe=new RegExp("^hsla\\("+[pw,Zc,Zc,pw]+"\\)$"),Z4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$F(sS,gw,{copy:function(r){return Object.assign(new this.constructor,this,r)},displayable:function(){return this.rgb().displayable()},hex:Q4,formatHex:Q4,formatHsl:vMe,formatRgb:J4,toString:J4});function Q4(){return this.rgb().formatHex()}function vMe(){return WZ(this).formatHsl()}function J4(){return this.rgb().formatRgb()}function gw(r){var t,e;return r=(r+"").trim().toLowerCase(),(t=sMe.exec(r))?(e=t[1].length,t=parseInt(t[1],16),e===6?e$(t):e===3?new zl(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?gE(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?gE(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lMe.exec(r))?new zl(t[1],t[2],t[3],1):(t=uMe.exec(r))?new zl(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cMe.exec(r))?gE(t[1],t[2],t[3],t[4]):(t=fMe.exec(r))?gE(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dMe.exec(r))?n$(t[1],t[2]/100,t[3]/100,1):(t=hMe.exec(r))?n$(t[1],t[2]/100,t[3]/100,t[4]):Z4.hasOwnProperty(r)?e$(Z4[r]):r==="transparent"?new zl(NaN,NaN,NaN,0):null}function e$(r){return new zl(r>>16&255,r>>8&255,r&255,1)}function gE(r,t,e,n){return n<=0&&(r=t=e=NaN),new zl(r,t,e,n)}function pMe(r){return r instanceof sS||(r=gw(r)),r?(r=r.rgb(),new zl(r.r,r.g,r.b,r.opacity)):new zl}function wD(r,t,e,n){return arguments.length===1?pMe(r):new zl(r,t,e,n==null?1:n)}function zl(r,t,e,n){this.r=+r,this.g=+t,this.b=+e,this.opacity=+n}$F(zl,wD,VZ(sS,{brighter:function(r){return r=r==null?G_:Math.pow(G_,r),new zl(this.r*r,this.g*r,this.b*r,this.opacity)},darker:function(r){return r=r==null?vw:Math.pow(vw,r),new zl(this.r*r,this.g*r,this.b*r,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:t$,formatHex:t$,formatRgb:r$,toString:r$}));function t$(){return"#"+LI(this.r)+LI(this.g)+LI(this.b)}function r$(){var r=this.opacity;return r=isNaN(r)?1:Math.max(0,Math.min(1,r)),(r===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(r===1?")":", "+r+")")}function LI(r){return r=Math.max(0,Math.min(255,Math.round(r)||0)),(r<16?"0":"")+r.toString(16)}function n$(r,t,e,n){return n<=0?r=t=e=NaN:e<=0||e>=1?r=t=NaN:t<=0&&(r=NaN),new Vc(r,t,e,n)}function WZ(r){if(r instanceof Vc)return new Vc(r.h,r.s,r.l,r.opacity);if(r instanceof sS||(r=gw(r)),!r)return new Vc;if(r instanceof Vc)return r;r=r.rgb();var t=r.r/255,e=r.g/255,n=r.b/255,i=Math.min(t,e,n),a=Math.max(t,e,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(e-n)/s+(e<n)*6:e===a?o=(n-t)/s+2:o=(t-e)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Vc(o,s,l,r.opacity)}function gMe(r,t,e,n){return arguments.length===1?WZ(r):new Vc(r,t,e,n==null?1:n)}function Vc(r,t,e,n){this.h=+r,this.s=+t,this.l=+e,this.opacity=+n}$F(Vc,gMe,VZ(sS,{brighter:function(r){return r=r==null?G_:Math.pow(G_,r),new Vc(this.h,this.s,this.l*r,this.opacity)},darker:function(r){return r=r==null?vw:Math.pow(vw,r),new Vc(this.h,this.s,this.l*r,this.opacity)},rgb:function(){var r=this.h%360+(this.h<0)*360,t=isNaN(r)||isNaN(this.s)?0:this.s,e=this.l,n=e+(e<.5?e:1-e)*t,i=2*e-n;return new zl(FI(r>=240?r-240:r+120,i,n),FI(r,i,n),FI(r<120?r+240:r-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var r=this.opacity;return r=isNaN(r)?1:Math.max(0,Math.min(1,r)),(r===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(r===1?")":", "+r+")")}}));function FI(r,t,e){return(r<60?t+(e-t)*r/60:r<180?e:r<240?t+(e-t)*(240-r)/60:t)*255}function GF(r){return function(){return r}}function mMe(r,t){return function(e){return r+e*t}}function yMe(r,t,e){return r=Math.pow(r,e),t=Math.pow(t,e)-r,e=1/e,function(n){return Math.pow(r+n*t,e)}}function bMe(r){return(r=+r)==1?jZ:function(t,e){return e-t?yMe(t,e,r):GF(isNaN(t)?e:t)}}function jZ(r,t){var e=t-r;return e?mMe(r,e):GF(isNaN(r)?t:r)}var i$=function r(t){var e=bMe(t);function n(i,a){var o=e((i=wD(i)).r,(a=wD(a)).r),s=e(i.g,a.g),l=e(i.b,a.b),u=jZ(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=r,n}(1);function YZ(r,t){t||(t=[]);var e=r?Math.min(t.length,r.length):0,n=t.slice(),i;return function(a){for(i=0;i<e;++i)n[i]=r[i]*(1-a)+t[i]*a;return n}}function XZ(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function xMe(r,t){return(XZ(t)?YZ:qZ)(r,t)}function qZ(r,t){var e=t?t.length:0,n=r?Math.min(e,r.length):0,i=new Array(n),a=new Array(e),o;for(o=0;o<n;++o)i[o]=U_(r[o],t[o]);for(;o<e;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function wMe(r,t){var e=new Date;return r=+r,t=+t,function(n){return e.setTime(r*(1-n)+t*n),e}}function SD(r,t){return r=+r,t=+t,function(e){return r*(1-e)+t*e}}function SMe(r,t){var e={},n={},i;(r===null||typeof r!="object")&&(r={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in r?e[i]=U_(r[i],t[i]):n[i]=t[i];return function(a){for(i in e)n[i]=e[i](a);return n}}var CD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,NI=new RegExp(CD.source,"g");function CMe(r){return function(){return r}}function EMe(r){return function(t){return r(t)+""}}function _Me(r,t){var e=CD.lastIndex=NI.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(r=r+"",t=t+"";(n=CD.exec(r))&&(i=NI.exec(t));)(a=i.index)>e&&(a=t.slice(e,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:SD(n,i)})),e=NI.lastIndex;return e<t.length&&(a=t.slice(e),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?EMe(l[0].x):CMe(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function U_(r,t){var e=typeof t,n;return t==null||e==="boolean"?GF(t):(e==="number"?SD:e==="string"?(n=gw(t))?(t=n,i$):_Me:t instanceof gw?i$:t instanceof Date?wMe:XZ(t)?YZ:Array.isArray(t)?qZ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?SMe:SD)(r,t)}var TMe=function(r){return["fill","stroke","fillStyle","strokeStyle"].includes(r)},AMe=function(r){return/^[r,R,L,l]{1}[\s]*\(/.test(r)},a$=[1,0,0,0,1,0,0,0,1];function kMe(r,t,e){var n={},i=t.fromAttrs,a=t.toAttrs;if(!r.destroyed){var o;for(var s in a)if(!Zi(i[s],a[s]))if(s==="path"){var l=a[s],u=i[s];l.length>u.length?(l=Fy(a[s]),u=Fy(i[s]),u=MZ(u,l),u=gD(u,l),t.fromAttrs.path=u,t.toAttrs.path=l):t.pathFormatted||(l=Fy(a[s]),u=Fy(i[s]),u=gD(u,l),t.fromAttrs.path=u,t.toAttrs.path=l,t.pathFormatted=!0),n[s]=[];for(var c=0;c<l.length;c++){for(var f=l[c],d=u[c],h=[],v=0;v<f.length;v++)ir(f[v])&&d&&ir(d[v])?(o=U_(d[v],f[v]),h.push(o(e))):h.push(f[v]);n[s].push(h)}}else if(s==="matrix"){var p=xMe(i[s]||a$,a[s]||a$),g=p(e);n[s]=g}else TMe(s)&&AMe(a[s])?n[s]=a[s]:yr(a[s])||(o=U_(i[s],a[s]),n[s]=o(e));r.attr(n)}}function MMe(r,t,e){var n=t.startTime,i=t.delay;if(e<n+i||t._paused)return!1;var a,o=t.duration,s=t.easing;if(e=e-n-t.delay,t.repeat)a=e%o/o,a=K4[s](a);else if(a=e/o,a<1)a=K4[s](a);else return t.onFrame?r.attr(t.onFrame(1)):r.attr(t.toAttrs),!0;if(t.onFrame){var l=t.onFrame(a);r.attr(l)}else kMe(r,t,a);return!1}var IMe=function(){function r(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return r.prototype.initTimer=function(){var t=this,e=!1,n,i,a;this.timer=GZ(function(o){if(t.current=o,t.animators.length>0){for(var s=t.animators.length-1;s>=0;s--){if(n=t.animators[s],n.destroyed){t.removeAnimator(s);continue}if(!n.isAnimatePaused()){i=n.get("animations");for(var l=i.length-1;l>=0;l--)a=i[l],e=MMe(n,a,o),e&&(i.splice(l,1),e=!1,a.callback&&a.callback())}i.length===0&&t.removeAnimator(s)}var u=t.canvas.get("autoDraw");u||t.canvas.draw()}})},r.prototype.addAnimator=function(t){this.animators.push(t)},r.prototype.removeAnimator=function(t){this.animators.splice(t,1)},r.prototype.isAnimating=function(){return!!this.animators.length},r.prototype.stop=function(){this.timer&&this.timer.stop()},r.prototype.stopAllAnimations=function(t){t===void 0&&(t=!0),this.animators.forEach(function(e){e.stopAnimate(t)}),this.animators=[],this.canvas.draw()},r.prototype.getTime=function(){return this.current},r}(),PMe=40,o$=0,s$=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function l$(r,t,e){e.name=t,e.target=r,e.currentTarget=r,e.delegateTarget=r,r.emit(t,e)}function RMe(r,t,e){if(e.bubbles){var n=void 0,i=!1;if(t==="mouseenter"?(n=e.fromShape,i=!0):t==="mouseleave"&&(i=!0,n=e.toShape),r.isCanvas()&&i)return;if(n&&RZ(r,n)){e.bubbles=!1;return}e.name=t,e.currentTarget=r,e.delegateTarget=r,r.emit(t,e)}}var DMe=function(){function r(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(n){var i=n.type;e._triggerEvent(i,n)},this._onDocumentMove=function(n){var i=e.canvas,a=i.get("el");if(a!==n.target&&(e.dragging||e.currentShape)){var o=e._getPointInfo(n);e.dragging&&e._emitEvent("drag",n,o,e.draggingShape)}},this._onDocumentMouseUp=function(n){var i=e.canvas,a=i.get("el");if(a!==n.target&&e.dragging){var o=e._getPointInfo(n);e.draggingShape&&e._emitEvent("drop",n,o,null),e._emitEvent("dragend",n,o,e.draggingShape),e._afterDrag(e.draggingShape,o,n)}},this.canvas=t.canvas}return r.prototype.init=function(){this._bindEvents()},r.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");q(s$,function(n){e.addEventListener(n,t._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},r.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");q(s$,function(n){e.removeEventListener(n,t._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},r.prototype._getEventObj=function(t,e,n,i,a,o){var s=new Z0(t,e);return s.fromShape=a,s.toShape=o,s.x=n.x,s.y=n.y,s.clientX=n.clientX,s.clientY=n.clientY,s.propagationPath.push(i),s},r.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},r.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),i=e.getPointByEvent(t);return{x:i.x,y:i.y,clientX:n.x,clientY:n.y}},r.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),i=this._getShape(n,e),a=this["_on"+t],o=!1;if(a)a.call(this,n,i,e);else{var s=this.currentShape;t==="mouseenter"||t==="dragenter"||t==="mouseover"?(this._emitEvent(t,e,n,null,null,i),i&&this._emitEvent(t,e,n,i,null,i),t==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):t==="mouseleave"||t==="dragleave"||t==="mouseout"?(o=!0,s&&this._emitEvent(t,e,n,s,s,null),this._emitEvent(t,e,n,null,s,null),t==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,i,null,null)}if(o||(this.currentShape=i),i&&!i.get("destroyed")){var l=this.canvas,u=l.get("el");u.style.cursor=i.attr("cursor")||l.get("cursor")}},r.prototype._onmousedown=function(t,e,n){n.button===o$&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},r.prototype._emitMouseoverEvents=function(t,e,n,i){var a=this.canvas.get("el");n!==i&&(n&&(this._emitEvent("mouseout",t,e,n,n,i),this._emitEvent("mouseleave",t,e,n,n,i),(!i||i.get("destroyed"))&&(a.style.cursor=this.canvas.get("cursor"))),i&&(this._emitEvent("mouseover",t,e,i,n,i),this._emitEvent("mouseenter",t,e,i,n,i)))},r.prototype._emitDragoverEvents=function(t,e,n,i,a){i?(i!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,i),this._emitEvent("dragenter",t,e,i,n,i)),a||this._emitEvent("dragover",t,e,i)):n&&this._emitEvent("dragleave",t,e,n,n,i),a&&this._emitEvent("dragover",t,e,i)},r.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var i=this._getShape(e,n);i!==t&&this._emitMouseoverEvents(n,e,t,i),this.currentShape=i},r.prototype._onmouseup=function(t,e,n){if(n.button===o$){var i=this.draggingShape;this.dragging?(i&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,i),this._afterDrag(i,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},r.prototype._ondragover=function(t,e,n){n.preventDefault();var i=this.currentShape;this._emitDragoverEvents(n,t,i,e,!0)},r.prototype._onmousemove=function(t,e,n){var i=this.canvas,a=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,a,e,!1),this._emitEvent("drag",n,t,o);else{var s=this.mousedownPoint;if(s){var l=this.mousedownShape,u=n.timeStamp,c=u-this.mousedownTimeStamp,f=s.clientX-t.clientX,d=s.clientY-t.clientY,h=f*f+d*d;c>120||h>PMe?l&&l.get("draggable")?(o=this.mousedownShape,o.set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!l&&i.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,a,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,a,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,a,e),this._emitEvent("mousemove",n,t,e)}},r.prototype._emitEvent=function(t,e,n,i,a,o){var s=this._getEventObj(t,e,n,i,a,o);if(i){s.shape=i,l$(i,t,s);for(var l=i.getParent();l;)l.emitDelegation(t,s),s.propagationStopped||RMe(l,t,s),s.propagationPath.push(l),l=l.getParent()}else{var u=this.canvas;l$(u,t,s)}},r.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},r}(),u$="px",c$=DZ(),OMe=c$&&c$.name==="firefox",AA=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},t.prototype.initContainer=function(){var e=this.get("container");wt(e)&&(e=document.getElementById(e),this.set("container",e))},t.prototype.initDom=function(){var e=this.createDom();this.set("el",e);var n=this.get("container");n.appendChild(e),this.setDOMSize(this.get("width"),this.get("height"))},t.prototype.initEvents=function(){var e=new DMe({canvas:this});e.init(),this.set("eventController",e)},t.prototype.initTimeline=function(){var e=new IMe(this);this.set("timeline",e)},t.prototype.setDOMSize=function(e,n){var i=this.get("el");O4&&(i.style.width=e+u$,i.style.height=n+u$)},t.prototype.changeSize=function(e,n){this.setDOMSize(e,n),this.set("width",e),this.set("height",n),this.onCanvasChange("changeSize")},t.prototype.getRenderer=function(){return this.get("renderer")},t.prototype.getCursor=function(){return this.get("cursor")},t.prototype.setCursor=function(e){this.set("cursor",e);var n=this.get("el");O4&&n&&(n.style.cursor=e)},t.prototype.getPointByEvent=function(e){var n=this.get("supportCSSTransform");if(n){if(OMe&&!xt(e.layerX)&&e.layerX!==e.offsetX)return{x:e.layerX,y:e.layerY};if(!xt(e.offsetX))return{x:e.offsetX,y:e.offsetY}}var i=this.getClientByEvent(e),a=i.x,o=i.y;return this.getPointByClient(a,o)},t.prototype.getClientByEvent=function(e){var n=e;return e.touches&&(e.type==="touchend"?n=e.changedTouches[0]:n=e.touches[0]),{x:n.clientX,y:n.clientY}},t.prototype.getPointByClient=function(e,n){var i=this.get("el"),a=i.getBoundingClientRect();return{x:e-a.left,y:n-a.top}},t.prototype.getClientByPoint=function(e,n){var i=this.get("el"),a=i.getBoundingClientRect();return{x:e+a.left,y:n+a.top}},t.prototype.draw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.parentNode.removeChild(e)},t.prototype.clearEvents=function(){var e=this.get("eventController");e.destroy()},t.prototype.isCanvas=function(){return!0},t.prototype.getParent=function(){return null},t.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),r.prototype.destroy.call(this))},t}(NZ),kA=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.isGroup=function(){return!0},t.prototype.isEntityGroup=function(){return!1},t.prototype.clone=function(){for(var e=r.prototype.clone.call(this),n=this.getChildren(),i=0;i<n.length;i++){var a=n[i];e.add(a.clone())}return e},t}(NZ),MA=function(r){Ve(t,r);function t(e){return r.call(this,e)||this}return t.prototype._isInBBox=function(e,n){var i=this.getBBox();return i.minX<=e&&i.maxX>=e&&i.minY<=n&&i.maxY>=n},t.prototype.afterAttrsChange=function(e){r.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},t.prototype.getBBox=function(){var e=this.cfg.bbox;return e||(e=this.calculateBBox(),this.set("bbox",e)),e},t.prototype.getCanvasBBox=function(){var e=this.cfg.canvasBBox;return e||(e=this.calculateCanvasBBox(),this.set("canvasBBox",e)),e},t.prototype.applyMatrix=function(e){r.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},t.prototype.calculateCanvasBBox=function(){var e=this.getBBox(),n=this.getTotalMatrix(),i=e.minX,a=e.minY,o=e.maxX,s=e.maxY;if(n){var l=md(n,[e.minX,e.minY]),u=md(n,[e.maxX,e.minY]),c=md(n,[e.minX,e.maxY]),f=md(n,[e.maxX,e.maxY]);i=Math.min(l[0],u[0],c[0],f[0]),o=Math.max(l[0],u[0],c[0],f[0]),a=Math.min(l[1],u[1],c[1],f[1]),s=Math.max(l[1],u[1],c[1],f[1])}var d=this.attrs;if(d.shadowColor){var h=d.shadowBlur,v=h===void 0?0:h,p=d.shadowOffsetX,g=p===void 0?0:p,m=d.shadowOffsetY,y=m===void 0?0:m,b=i-v+g,w=o+v+g,S=a-v+y,E=s+v+y;i=Math.min(i,b),o=Math.max(o,w),a=Math.min(a,S),s=Math.max(s,E)}return{x:i,y:a,minX:i,minY:a,maxX:o,maxY:s,width:o-i,height:s-a}},t.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},t.prototype.isClipShape=function(){return this.get("isClipShape")},t.prototype.isInShape=function(e,n){return!1},t.prototype.isOnlyHitBox=function(){return!1},t.prototype.isHit=function(e,n){var i=this.get("startArrowShape"),a=this.get("endArrowShape"),o=[e,n,1];o=this.invertFromMatrix(o);var s=o[0],l=o[1],u=this._isInBBox(s,l);return this.isOnlyHitBox()?u:!!(u&&!this.isClipped(s,l)&&(this.isInShape(s,l)||i&&i.isHit(s,l)||a&&a.isHit(s,l)))},t}(OZ),KZ=new Map;function Cu(r,t){KZ.set(r,t)}function IA(r){return KZ.get(r)}function ZZ(r){var t=r.attr(),e=t.x,n=t.y,i=t.width,a=t.height;return{x:e,y:n,width:i,height:a}}function QZ(r){var t=r.attr(),e=t.x,n=t.y,i=t.r;return{x:e-i,y:n-i,width:i*2,height:i*2}}function f$(r){return Math.min.apply(null,r)}function d$(r){return Math.max.apply(null,r)}function ws(r,t,e,n){var i=r-e,a=t-n;return Math.sqrt(i*i+a*a)}function H2(r,t){return Math.abs(r-t)<.001}function Q0(r,t){var e=f$(r),n=f$(t),i=d$(r),a=d$(t);return{x:e,y:n,width:i-e,height:a-n}}function PA(r){return(r+Math.PI*2)%(Math.PI*2)}var Ho={box:function(r,t,e,n){return Q0([r,e],[t,n])},length:function(r,t,e,n){return ws(r,t,e,n)},pointAt:function(r,t,e,n,i){return{x:(1-i)*r+i*e,y:(1-i)*t+i*n}},pointDistance:function(r,t,e,n,i,a){var o=(e-r)*(i-r)+(n-t)*(a-t);if(o<0)return ws(r,t,i,a);var s=(e-r)*(e-r)+(n-t)*(n-t);return o>s?ws(e,n,i,a):this.pointToLine(r,t,e,n,i,a)},pointToLine:function(r,t,e,n,i,a){var o=[e-r,n-t];if(FK(o,[0,0]))return Math.sqrt((i-r)*(i-r)+(a-t)*(a-t));var s=[-o[1],o[0]];cv(s,s);var l=[i-r,a-t];return Math.abs(wF(l,s))},tangentAngle:function(r,t,e,n){return Math.atan2(n-t,e-r)}},LMe=1e-4;function JZ(r,t,e,n,i,a){var o,s=1/0,l=[e,n],u=20;a&&a>200&&(u=a/10);for(var c=1/u,f=c/10,d=0;d<=u;d++){var h=d*c,v=[i.apply(null,r.concat([h])),i.apply(null,t.concat([h]))],p=ws(l[0],l[1],v[0],v[1]);p<s&&(o=h,s=p)}if(o===0)return{x:r[0],y:t[0]};if(o===1){var g=r.length;return{x:r[g-1],y:t[g-1]}}s=1/0;for(var d=0;d<32&&!(f<LMe);d++){var m=o-f,y=o+f,v=[i.apply(null,r.concat([m])),i.apply(null,t.concat([m]))],p=ws(l[0],l[1],v[0],v[1]);if(m>=0&&p<s)o=m,s=p;else{var b=[i.apply(null,r.concat([y])),i.apply(null,t.concat([y]))],w=ws(l[0],l[1],b[0],b[1]);y<=1&&w<s?(o=y,s=w):f*=.5}}return{x:i.apply(null,r.concat([o])),y:i.apply(null,t.concat([o]))}}function FMe(r,t){for(var e=0,n=r.length,i=0;i<n;i++){var a=r[i],o=t[i],s=r[(i+1)%n],l=t[(i+1)%n];e+=ws(a,o,s,l)}return e/2}function Vh(r,t,e,n){var i=1-n;return i*i*r+2*n*i*t+n*n*e}function h$(r,t,e){var n=r+e-2*t;if(H2(n,0))return[.5];var i=(r-t)/n;return i<=1&&i>=0?[i]:[]}function v$(r,t,e,n){return 2*(1-n)*(t-r)+2*n*(e-t)}function eQ(r,t,e,n,i,a,o){var s=Vh(r,e,i,o),l=Vh(t,n,a,o),u=Ho.pointAt(r,t,e,n,o),c=Ho.pointAt(e,n,i,a,o);return[[r,t,u.x,u.y,s,l],[s,l,c.x,c.y,i,a]]}function ED(r,t,e,n,i,a,o){if(o===0)return(ws(r,t,e,n)+ws(e,n,i,a)+ws(r,t,i,a))/2;var s=eQ(r,t,e,n,i,a,.5),l=s[0],u=s[1];return l.push(o-1),u.push(o-1),ED.apply(null,l)+ED.apply(null,u)}var tQ={box:function(r,t,e,n,i,a){var o=h$(r,e,i)[0],s=h$(t,n,a)[0],l=[r,i],u=[t,a];return o!==void 0&&l.push(Vh(r,e,i,o)),s!==void 0&&u.push(Vh(t,n,a,s)),Q0(l,u)},length:function(r,t,e,n,i,a){return ED(r,t,e,n,i,a,3)},nearestPoint:function(r,t,e,n,i,a,o,s){return JZ([r,e,i],[t,n,a],o,s,Vh)},pointDistance:function(r,t,e,n,i,a,o,s){var l=this.nearestPoint(r,t,e,n,i,a,o,s);return ws(l.x,l.y,o,s)},interpolationAt:Vh,pointAt:function(r,t,e,n,i,a,o){return{x:Vh(r,e,i,o),y:Vh(t,n,a,o)}},divide:function(r,t,e,n,i,a,o){return eQ(r,t,e,n,i,a,o)},tangentAngle:function(r,t,e,n,i,a,o){var s=v$(r,e,i,o),l=v$(t,n,a,o),u=Math.atan2(l,s);return PA(u)}};function Wh(r,t,e,n,i){var a=1-i;return a*a*a*r+3*t*i*a*a+3*e*i*i*a+n*i*i*i}function p$(r,t,e,n,i){var a=1-i;return 3*(a*a*(t-r)+2*a*i*(e-t)+i*i*(n-e))}function BI(r,t,e,n){var i=-3*r+9*t-9*e+3*n,a=6*r-12*t+6*e,o=3*t-3*r,s=[],l,u,c;if(H2(i,0))H2(a,0)||(l=-o/a,l>=0&&l<=1&&s.push(l));else{var f=a*a-4*i*o;H2(f,0)?s.push(-a/(2*i)):f>0&&(c=Math.sqrt(f),l=(-a+c)/(2*i),u=(-a-c)/(2*i),l>=0&&l<=1&&s.push(l),u>=0&&u<=1&&s.push(u))}return s}function rQ(r,t,e,n,i,a,o,s,l){var u=Wh(r,e,i,o,l),c=Wh(t,n,a,s,l),f=Ho.pointAt(r,t,e,n,l),d=Ho.pointAt(e,n,i,a,l),h=Ho.pointAt(i,a,o,s,l),v=Ho.pointAt(f.x,f.y,d.x,d.y,l),p=Ho.pointAt(d.x,d.y,h.x,h.y,l);return[[r,t,f.x,f.y,v.x,v.y,u,c],[u,c,p.x,p.y,h.x,h.y,o,s]]}function _D(r,t,e,n,i,a,o,s,l){if(l===0)return FMe([r,e,i,o],[t,n,a,s]);var u=rQ(r,t,e,n,i,a,o,s,.5),c=u[0],f=u[1];return c.push(l-1),f.push(l-1),_D.apply(null,c)+_D.apply(null,f)}var I1={extrema:BI,box:function(r,t,e,n,i,a,o,s){for(var l=[r,o],u=[t,s],c=BI(r,e,i,o),f=BI(t,n,a,s),d=0;d<c.length;d++)l.push(Wh(r,e,i,o,c[d]));for(var d=0;d<f.length;d++)u.push(Wh(t,n,a,s,f[d]));return Q0(l,u)},length:function(r,t,e,n,i,a,o,s){return _D(r,t,e,n,i,a,o,s,3)},nearestPoint:function(r,t,e,n,i,a,o,s,l,u,c){return JZ([r,e,i,o],[t,n,a,s],l,u,Wh,c)},pointDistance:function(r,t,e,n,i,a,o,s,l,u,c){var f=this.nearestPoint(r,t,e,n,i,a,o,s,l,u,c);return ws(f.x,f.y,l,u)},interpolationAt:Wh,pointAt:function(r,t,e,n,i,a,o,s,l){return{x:Wh(r,e,i,o,l),y:Wh(t,n,a,s,l)}},divide:function(r,t,e,n,i,a,o,s,l){return rQ(r,t,e,n,i,a,o,s,l)},tangentAngle:function(r,t,e,n,i,a,o,s,l){var u=p$(r,e,i,o,l),c=p$(t,n,a,s,l);return PA(Math.atan2(c,u))}};function g$(r,t){var e=Math.abs(r);return t>0?e:e*-1}var NMe={box:function(r,t,e,n){return{x:r-e,y:t-n,width:e*2,height:n*2}},length:function(r,t,e,n){return Math.PI*(3*(e+n)-Math.sqrt((3*e+n)*(e+3*n)))},nearestPoint:function(r,t,e,n,i,a){var o=e,s=n;if(o===0||s===0)return{x:r,y:t};for(var l=i-r,u=a-t,c=Math.abs(l),f=Math.abs(u),d=o*o,h=s*s,v=Math.PI/4,p,g,m=0;m<4;m++){p=o*Math.cos(v),g=s*Math.sin(v);var y=(d-h)*Math.pow(Math.cos(v),3)/o,b=(h-d)*Math.pow(Math.sin(v),3)/s,w=p-y,S=g-b,E=c-y,_=f-b,A=Math.hypot(S,w),k=Math.hypot(_,E),T=A*Math.asin((w*_-S*E)/(A*k)),I=T/Math.sqrt(d+h-p*p-g*g);v+=I,v=Math.min(Math.PI/2,Math.max(0,v))}return{x:r+g$(p,l),y:t+g$(g,u)}},pointDistance:function(r,t,e,n,i,a){var o=this.nearestPoint(r,t,e,n,i,a);return ws(o.x,o.y,i,a)},pointAt:function(r,t,e,n,i){var a=2*Math.PI*i;return{x:r+e*Math.cos(a),y:t+n*Math.sin(a)}},tangentAngle:function(r,t,e,n,i){var a=2*Math.PI*i,o=Math.atan2(n*Math.cos(a),-e*Math.sin(a));return PA(o)}};function BMe(r,t,e,n,i,a,o,s){return-1*e*Math.cos(i)*Math.sin(s)-n*Math.sin(i)*Math.cos(s)}function zMe(r,t,e,n,i,a,o,s){return-1*e*Math.sin(i)*Math.sin(s)+n*Math.cos(i)*Math.cos(s)}function $Me(r,t,e){return Math.atan(-t/r*Math.tan(e))}function GMe(r,t,e){return Math.atan(t/(r*Math.tan(e)))}function m$(r,t,e,n,i,a){return e*Math.cos(i)*Math.cos(a)-n*Math.sin(i)*Math.sin(a)+r}function y$(r,t,e,n,i,a){return e*Math.sin(i)*Math.cos(a)+n*Math.cos(i)*Math.sin(a)+t}function UMe(r,t,e,n){var i=Math.atan2(n*r,e*t);return(i+Math.PI*2)%(Math.PI*2)}function b$(r,t,e){return{x:r*Math.cos(e),y:t*Math.sin(e)}}function x$(r,t,e){var n=Math.cos(e),i=Math.sin(e);return[r*n-t*i,r*i+t*n]}var HMe={box:function(r,t,e,n,i,a,o){for(var s=$Me(e,n,i),l=1/0,u=-1/0,c=[a,o],f=-Math.PI*2;f<=Math.PI*2;f+=Math.PI){var d=s+f;a<o?a<d&&d<o&&c.push(d):o<d&&d<a&&c.push(d)}for(var f=0;f<c.length;f++){var h=m$(r,t,e,n,i,c[f]);h<l&&(l=h),h>u&&(u=h)}for(var v=GMe(e,n,i),p=1/0,g=-1/0,m=[a,o],f=-Math.PI*2;f<=Math.PI*2;f+=Math.PI){var y=v+f;a<o?a<y&&y<o&&m.push(y):o<y&&y<a&&m.push(y)}for(var f=0;f<m.length;f++){var b=y$(r,t,e,n,i,m[f]);b<p&&(p=b),b>g&&(g=b)}return{x:l,y:p,width:u-l,height:g-p}},length:function(r,t,e,n,i,a,o){},nearestPoint:function(r,t,e,n,i,a,o,s,l){var u=x$(s-r,l-t,-i),c=u[0],f=u[1],d=NMe.nearestPoint(0,0,e,n,c,f),h=UMe(e,n,d.x,d.y);h<a?d=b$(e,n,a):h>o&&(d=b$(e,n,o));var v=x$(d.x,d.y,i);return{x:v[0]+r,y:v[1]+t}},pointDistance:function(r,t,e,n,i,a,o,s,l){var u=this.nearestPoint(r,t,e,n,s,l);return ws(u.x,u.y,s,l)},pointAt:function(r,t,e,n,i,a,o,s){var l=(o-a)*s+a;return{x:m$(r,t,e,n,i,l),y:y$(r,t,e,n,i,l)}},tangentAngle:function(r,t,e,n,i,a,o,s){var l=(o-a)*s+a,u=BMe(r,t,e,n,i,a,o,l),c=zMe(r,t,e,n,i,a,o,l);return PA(Math.atan2(c,u))}};function nQ(r){for(var t=0,e=[],n=0;n<r.length-1;n++){var i=r[n],a=r[n+1],o=ws(i[0],i[1],a[0],a[1]),s={from:i,to:a,length:o};e.push(s),t+=o}return{segments:e,totalLength:t}}function VMe(r){if(r.length<2)return 0;for(var t=0,e=0;e<r.length-1;e++){var n=r[e],i=r[e+1];t+=ws(n[0],n[1],i[0],i[1])}return t}function WMe(r,t){if(t>1||t<0||r.length<2)return null;var e=nQ(r),n=e.segments,i=e.totalLength;if(i===0)return{x:r[0][0],y:r[0][1]};for(var a=0,o=null,s=0;s<n.length;s++){var l=n[s],u=l.from,c=l.to,f=l.length/i;if(t>=a&&t<=a+f){var d=(t-a)/f;o=Ho.pointAt(u[0],u[1],c[0],c[1],d);break}a+=f}return o}function jMe(r,t){if(t>1||t<0||r.length<2)return 0;for(var e=nQ(r),n=e.segments,i=e.totalLength,a=0,o=0,s=0;s<n.length;s++){var l=n[s],u=l.from,c=l.to,f=l.length/i;if(t>=a&&t<=a+f){o=Math.atan2(c[1]-u[1],c[0]-u[0]);break}a+=f}return o}function YMe(r,t,e){for(var n=1/0,i=0;i<r.length-1;i++){var a=r[i],o=r[i+1],s=Ho.pointDistance(a[0],a[1],o[0],o[1],t,e);s<n&&(n=s)}return n}var iQ={box:function(r){for(var t=[],e=[],n=0;n<r.length;n++){var i=r[n];t.push(i[0]),e.push(i[1])}return Q0(t,e)},length:function(r){return VMe(r)},pointAt:function(r,t){return WMe(r,t)},pointDistance:function(r,t,e){return YMe(r,t,e)},tangentAngle:function(r,t){return jMe(r,t)}};function w$(r,t){return!r||!t?r||t:{minX:Math.min(r.minX,t.minX),minY:Math.min(r.minY,t.minY),maxX:Math.max(r.maxX,t.maxX),maxY:Math.max(r.maxY,t.maxY)}}function UF(r,t){var e=r.get("startArrowShape"),n=r.get("endArrowShape"),i=null,a=null;return e&&(i=e.getCanvasBBox(),t=w$(t,i)),n&&(a=n.getCanvasBBox(),t=w$(t,a)),t}function XMe(r){for(var t=r.attr(),e=t.points,n=[],i=[],a=0;a<e.length;a++){var o=e[a];n.push(o[0]),i.push(o[1])}var s=Q0(n,i),l=s.x,u=s.y,c=s.width,f=s.height,d={minX:l,minY:u,maxX:l+c,maxY:u+f};return d=UF(r,d),{x:d.minX,y:d.minY,width:d.maxX-d.minX,height:d.maxY-d.minY}}function qMe(r){for(var t=r.attr(),e=t.points,n=[],i=[],a=0;a<e.length;a++){var o=e[a];n.push(o[0]),i.push(o[1])}return Q0(n,i)}var zI=null;function RA(){if(!zI){var r=document.createElement("canvas");r.width=1,r.height=1,zI=r.getContext("2d")}return zI}function DA(r,t,e){var n=1;if(wt(r)&&(n=r.split(`
`).length),n>1){var i=KMe(t,e);return t*n+i*(n-1)}return t}function KMe(r,t){return t?t-r:r*.14}function ZMe(r,t){var e=RA(),n=0;if(xt(r)||r==="")return n;if(e.save(),e.font=t,wt(r)&&r.includes(`
`)){var i=r.split(`
`);q(i,function(a){var o=e.measureText(a).width;n<o&&(n=o)})}else n=e.measureText(r).width;return e.restore(),n}function OA(r){var t=r.fontSize,e=r.fontFamily,n=r.fontWeight,i=r.fontStyle,a=r.fontVariant;return[i,a,n,t+"px",e].join(" ").trim()}function QMe(r){var t=r.attr(),e=t.x,n=t.y,i=t.text,a=t.fontSize,o=t.lineHeight,s=t.font;s||(s=OA(t));var l=ZMe(i,s),u;if(!l)u={x:e,y:n,width:0,height:0};else{var c=t.textAlign,f=t.textBaseline,d=DA(i,a,o),h={x:e,y:n-d};c&&(c==="end"||c==="right"?h.x-=l:c==="center"&&(h.x-=l/2)),f&&(f==="top"?h.y+=d:f==="middle"&&(h.y+=d/2)),u={x:h.x,y:h.y,width:l,height:d}}return u}var JMe=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,eIe=/[^\s\,]+/ig;function tIe(r){var t=r||[];if(gt(t))return t;if(wt(t))return t=t.match(JMe),q(t,function(e,n){if(e=e.match(eIe),e[0].length>1){var i=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=i}q(e,function(a,o){isNaN(a)||(e[o]=+a)}),t[n]=e}),t}function rIe(r,t,e,n){var i=[],a=!!n,o,s,l,u,c,f,d;if(a){l=n[0],u=n[1];for(var h=0,v=r.length;h<v;h+=1){var p=r[h];l=zo([0,0],l,p),u=$o([0,0],u,p)}}for(var h=0,g=r.length;h<g;h+=1){var p=r[h];if(h===0&&!e)d=p;else if(h===g-1&&!e)f=p,i.push(d),i.push(f);else{var m=[h?h-1:g-1,h-1][e?0:1];o=r[m],s=r[e?(h+1)%g:h+1];var y=[0,0];y=lg(y,s,o),y=pa(y,y,t);var b=y0(p,o),w=y0(p,s),S=b+w;S!==0&&(b/=S,w/=S);var E=pa([0,0],y,-b),_=pa([0,0],y,w);f=Pa([0,0],p,E),c=Pa([0,0],p,_),c=zo([0,0],c,$o([0,0],s,p)),c=$o([0,0],c,zo([0,0],s,p)),E=lg([0,0],c,p),E=pa([0,0],E,-b/w),f=Pa([0,0],p,E),f=zo([0,0],f,$o([0,0],o,p)),f=$o([0,0],f,zo([0,0],o,p)),_=lg([0,0],p,f),_=pa([0,0],_,w/b),c=Pa([0,0],p,_),a&&(f=$o([0,0],f,l),f=zo([0,0],f,u),c=$o([0,0],c,l),c=zo([0,0],c,u)),i.push(d),i.push(f),d=c}}return e&&i.push(i.shift()),i}function HF(r,t,e){t===void 0&&(t=!1),e===void 0&&(e=[[0,0],[1,1]]);for(var n=!!t,i=[],a=0,o=r.length;a<o;a+=2)i.push([r[a],r[a+1]]);for(var s=rIe(i,.4,n,e),l=i.length,u=[],c,f,d,a=0;a<l-1;a+=1)c=s[a*2],f=s[a*2+1],d=i[a+1],u.push(["C",c[0],c[1],f[0],f[1],d[0],d[1]]);return n&&(c=s[l],f=s[l+1],d=i[0],u.push(["C",c[0],c[1],f[0],f[1],d[0],d[1]])),u}var P1=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,nIe=new RegExp("([a-z])["+P1+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+P1+"]*,?["+P1+"]*)+)","ig"),iIe=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+P1+"]*,?["+P1+"]*","ig");function mw(r){if(!r)return null;if(gt(r))return r;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},e=[];return String(r).replace(nIe,function(n,i,a){var o=[],s=i.toLowerCase();if(a.replace(iIe,function(l,u){u&&o.push(+u)}),s==="m"&&o.length>2&&(e.push([i].concat(o.splice(0,2))),s="l",i=i==="m"?"l":"L"),s==="o"&&o.length===1&&e.push([i,o[0]]),s==="r")e.push([i].concat(o));else for(;o.length>=t[s]&&(e.push([i].concat(o.splice(0,t[s]))),!!t[s]););return""}),e}var aIe=/[a-z]/;function S$(r,t){return[t[0]+(t[0]-r[0]),t[1]+(t[1]-r[1])]}function aQ(r){var t=mw(r);if(!t||!t.length)return[["M",0,0]];for(var e=!1,n=0;n<t.length;n++){var i=t[n][0];if(aIe.test(i)||["V","H","T","S"].indexOf(i)>=0){e=!0;break}}if(!e)return t;var a=[],o=0,s=0,l=0,u=0,c=0,f=t[0];(f[0]==="M"||f[0]==="m")&&(o=+f[1],s=+f[2],l=o,u=s,c++,a[0]=["M",o,s]);for(var n=c,d=t.length;n<d;n++){var h=t[n],v=a[n-1],p=[],i=h[0],g=i.toUpperCase();if(i!==g)switch(p[0]=g,g){case"A":p[1]=h[1],p[2]=h[2],p[3]=h[3],p[4]=h[4],p[5]=h[5],p[6]=+h[6]+o,p[7]=+h[7]+s;break;case"V":p[1]=+h[1]+s;break;case"H":p[1]=+h[1]+o;break;case"M":l=+h[1]+o,u=+h[2]+s,p[1]=l,p[2]=u;break;default:for(var m=1,y=h.length;m<y;m++)p[m]=+h[m]+(m%2?o:s)}else p=t[n];switch(g){case"Z":o=+l,s=+u;break;case"H":o=p[1],p=["L",o,s];break;case"V":s=p[1],p=["L",o,s];break;case"T":o=p[1],s=p[2];var b=S$([v[1],v[2]],[v[3],v[4]]);p=["Q",b[0],b[1],o,s];break;case"S":o=p[p.length-2],s=p[p.length-1];var w=v.length,S=S$([v[w-4],v[w-3]],[v[w-2],v[w-1]]);p=["C",S[0],S[1],p[1],p[2],o,s];break;case"M":l=p[p.length-2],u=p[p.length-1];break;default:o=p[p.length-2],s=p[p.length-1]}a.push(p)}return a}function mE(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function TD(r,t){return mE(r)*mE(t)?(r[0]*t[0]+r[1]*t[1])/(mE(r)*mE(t)):1}function C$(r,t){return(r[0]*t[1]<r[1]*t[0]?-1:1)*Math.acos(TD(r,t))}function AD(r,t){return r[0]===t[0]&&r[1]===t[1]}function oIe(r,t){var e=t[1],n=t[2],i=yA(bA(t[3]),Math.PI*2),a=t[4],o=t[5],s=r[0],l=r[1],u=t[6],c=t[7],f=Math.cos(i)*(s-u)/2+Math.sin(i)*(l-c)/2,d=-1*Math.sin(i)*(s-u)/2+Math.cos(i)*(l-c)/2,h=f*f/(e*e)+d*d/(n*n);h>1&&(e*=Math.sqrt(h),n*=Math.sqrt(h));var v=e*e*(d*d)+n*n*(f*f),p=v?Math.sqrt((e*e*(n*n)-v)/v):1;a===o&&(p*=-1),isNaN(p)&&(p=0);var g=n?p*e*d/n:0,m=e?p*-n*f/e:0,y=(s+u)/2+Math.cos(i)*g-Math.sin(i)*m,b=(l+c)/2+Math.sin(i)*g+Math.cos(i)*m,w=[(f-g)/e,(d-m)/n],S=[(-1*f-g)/e,(-1*d-m)/n],E=C$([1,0],w),_=C$(w,S);return TD(w,S)<=-1&&(_=Math.PI),TD(w,S)>=1&&(_=0),o===0&&_>0&&(_=_-2*Math.PI),o===1&&_<0&&(_=_+2*Math.PI),{cx:y,cy:b,rx:AD(r,[u,c])?0:e,ry:AD(r,[u,c])?0:n,startAngle:E,endAngle:E+_,xRotation:i,arcFlag:a,sweepFlag:o}}function E$(r,t){return[t[0]+(t[0]-r[0]),t[1]+(t[1]-r[1])]}function oQ(r){r=tIe(r);for(var t=[],e=null,n=null,i=null,a=0,o=r.length,s=0;s<o;s++){var l=r[s];n=r[s+1];var u=l[0],c={command:u,prePoint:e,params:l,startTangent:null,endTangent:null};switch(u){case"M":i=[l[1],l[2]],a=s;break;case"A":var f=oIe(e,l);c.arcParams=f;break}if(u==="Z")e=i,n=r[a+1];else{var d=l.length;e=[l[d-2],l[d-1]]}n&&n[0]==="Z"&&(n=r[a],t[a]&&(t[a].prePoint=e)),c.currentPoint=e,t[a]&&AD(e,t[a].currentPoint)&&(t[a].prePoint=c.prePoint);var h=n?[n[n.length-2],n[n.length-1]]:null;c.nextPoint=h;var v=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[v[0]-e[0],v[1]-e[1]],c.endTangent=[e[0]-v[0],e[1]-v[1]];else if(u==="Q"){var p=[l[1],l[2]];c.startTangent=[v[0]-p[0],v[1]-p[1]],c.endTangent=[e[0]-p[0],e[1]-p[1]]}else if(u==="T"){var g=t[s-1],p=E$(g.currentPoint,v);g.command==="Q"?(c.command="Q",c.startTangent=[v[0]-p[0],v[1]-p[1]],c.endTangent=[e[0]-p[0],e[1]-p[1]]):(c.command="TL",c.startTangent=[v[0]-e[0],v[1]-e[1]],c.endTangent=[e[0]-v[0],e[1]-v[1]])}else if(u==="C"){var m=[l[1],l[2]],y=[l[3],l[4]];c.startTangent=[v[0]-m[0],v[1]-m[1]],c.endTangent=[e[0]-y[0],e[1]-y[1]],c.startTangent[0]===0&&c.startTangent[1]===0&&(c.startTangent=[m[0]-y[0],m[1]-y[1]]),c.endTangent[0]===0&&c.endTangent[1]===0&&(c.endTangent=[y[0]-m[0],y[1]-m[1]])}else if(u==="S"){var g=t[s-1],m=E$(g.currentPoint,v),y=[l[1],l[2]];g.command==="C"?(c.command="C",c.startTangent=[v[0]-m[0],v[1]-m[1]],c.endTangent=[e[0]-y[0],e[1]-y[1]]):(c.command="SQ",c.startTangent=[v[0]-y[0],v[1]-y[1]],c.endTangent=[e[0]-y[0],e[1]-y[1]])}else if(u==="A"){var b=.001,w=c.arcParams||{},S=w.cx,E=S===void 0?0:S,_=w.cy,A=_===void 0?0:_,k=w.rx,T=k===void 0?0:k,I=w.ry,D=I===void 0?0:I,O=w.sweepFlag,B=O===void 0?0:O,U=w.startAngle,N=U===void 0?0:U,G=w.endAngle,L=G===void 0?0:G;B===0&&(b*=-1);var F=T*Math.cos(N-b)+E,W=D*Math.sin(N-b)+A;c.startTangent=[F-i[0],W-i[1]];var H=T*Math.cos(N+L+b)+E,K=D*Math.sin(N+L-b)+A;c.endTangent=[v[0]-H,v[1]-K]}t.push(c)}return t}var _$=function(r,t,e){return r>=t&&r<=e};function sIe(r,t,e,n){var i=.001,a={x:e.x-r.x,y:e.y-r.y},o={x:t.x-r.x,y:t.y-r.y},s={x:n.x-e.x,y:n.y-e.y},l=o.x*s.y-o.y*s.x,u=l*l,c=o.x*o.x+o.y*o.y,f=s.x*s.x+s.y*s.y,d=null;if(u>i*c*f){var h=(a.x*s.y-a.y*s.x)/l,v=(a.x*o.y-a.y*o.x)/l;_$(h,0,1)&&_$(v,0,1)&&(d={x:r.x+h*o.x,y:r.y+h*o.y})}return d}var lIe=1e-6;function $I(r){return Math.abs(r)<lIe?0:r<0?-1:1}function uIe(r,t,e){return(e[0]-r[0])*(t[1]-r[1])===(t[0]-r[0])*(e[1]-r[1])&&Math.min(r[0],t[0])<=e[0]&&e[0]<=Math.max(r[0],t[0])&&Math.min(r[1],t[1])<=e[1]&&e[1]<=Math.max(r[1],t[1])}function T$(r,t,e){var n=!1,i=r.length;if(i<=2)return!1;for(var a=0;a<i;a++){var o=r[a],s=r[(a+1)%i];if(uIe(o,s,[t,e]))return!0;$I(o[1]-e)>0!=$I(s[1]-e)>0&&$I(t-(e-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(n=!n)}return n}function A$(r){for(var t=[],e=r.length,n=0;n<e-1;n++){var i=r[n],a=r[n+1];t.push({from:{x:i[0],y:i[1]},to:{x:a[0],y:a[1]}})}if(t.length>1){var o=r[0],s=r[e-1];t.push({from:{x:s[0],y:s[1]},to:{x:o[0],y:o[1]}})}return t}function cIe(r,t){var e=!1;return q(r,function(n){if(sIe(n.from,n.to,t.from,t.to))return e=!0,!1}),e}function k$(r){var t=r.map(function(n){return n[0]}),e=r.map(function(n){return n[1]});return{minX:Math.min.apply(null,t),maxX:Math.max.apply(null,t),minY:Math.min.apply(null,e),maxY:Math.max.apply(null,e)}}function fIe(r,t){return!(t.minX>r.maxX||t.maxX<r.minX||t.minY>r.maxY||t.maxY<r.minY)}function dIe(r,t){if(r.length<2||t.length<2)return!1;var e=k$(r),n=k$(t);if(!fIe(e,n))return!1;var i=!1;if(q(t,function(l){if(T$(r,l[0],l[1]))return i=!0,!1}),i||(q(r,function(l){if(T$(t,l[0],l[1]))return i=!0,!1}),i))return!0;var a=A$(r),o=A$(t),s=!1;return q(o,function(l){if(cIe(a,l))return s=!0,!1}),s}function hIe(r,t){for(var e=[],n=[],i=[],a=0;a<r.length;a++){var o=r[a],s=o.currentPoint,l=o.params,u=o.prePoint,c=void 0;switch(o.command){case"Q":c=tQ.box(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":c=I1.box(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var f=o.arcParams;c=HMe.box(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:e.push(s[0]),n.push(s[1]);break}c&&(o.box=c,e.push(c.x,c.x+c.width),n.push(c.y,c.y+c.height)),t&&(o.command==="L"||o.command==="M")&&o.prePoint&&o.nextPoint&&i.push(o)}e=e.filter(function(m){return!Number.isNaN(m)&&m!==1/0&&m!==-1/0}),n=n.filter(function(m){return!Number.isNaN(m)&&m!==1/0&&m!==-1/0});var d=Os(e),h=Os(n),v=bs(e),p=bs(n);if(i.length===0)return{x:d,y:h,width:v-d,height:p-h};for(var a=0;a<i.length;a++){var o=i[a],s=o.currentPoint,g=void 0;s[0]===d?(g=yE(o,t),d=d-g.xExtra):s[0]===v&&(g=yE(o,t),v=v+g.xExtra),s[1]===h?(g=yE(o,t),h=h-g.yExtra):s[1]===p&&(g=yE(o,t),p=p+g.yExtra)}return{x:d,y:h,width:v-d,height:p-h}}function yE(r,t){var e=r.prePoint,n=r.currentPoint,i=r.nextPoint,a=Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2),o=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),s=Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2),l=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!l||Math.sin(l)===0||Vo(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(i[1]-n[1],i[0]-n[0])),c=Math.abs(Math.atan2(i[0]-n[0],i[1]-n[1]));u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c;var f={xExtra:Math.cos(l/2-u)*(t/2*(1/Math.sin(l/2)))-t/2||0,yExtra:Math.cos(c-l/2)*(t/2*(1/Math.sin(l/2)))-t/2||0};return f}function vIe(r){var t=r.attr(),e=t.path,n=t.stroke,i=n?t.lineWidth:0,a=r.get("segments")||oQ(e),o=hIe(a,i),s=o.x,l=o.y,u=o.width,c=o.height,f={minX:s,minY:l,maxX:s+u,maxY:l+c};return f=UF(r,f),{x:f.minX,y:f.minY,width:f.maxX-f.minX,height:f.maxY-f.minY}}function pIe(r){var t=r.attr(),e=t.x1,n=t.y1,i=t.x2,a=t.y2,o=Math.min(e,i),s=Math.max(e,i),l=Math.min(n,a),u=Math.max(n,a),c={minX:o,maxX:s,minY:l,maxY:u};return c=UF(r,c),{x:c.minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}}function gIe(r){var t=r.attr(),e=t.x,n=t.y,i=t.rx,a=t.ry;return{x:e-i,y:n-a,width:i*2,height:a*2}}Cu("rect",ZZ);Cu("image",ZZ);Cu("circle",QZ);Cu("marker",QZ);Cu("polyline",XMe);Cu("polygon",qMe);Cu("text",QMe);Cu("path",vIe);Cu("line",pIe);Cu("ellipse",gIe);var mIe=function(r){Ve(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.item=n.item,i.canvasX=n.canvasX,i.canvasY=n.canvasY,i.wheelDelta=n.wheelDelta,i.detail=n.detail,i}return t}(Z0),kD=function(t){return"".concat(t,"-").concat(Math.random()).concat(Date.now())},VF=function(t){if(gt(t))switch(t.length){case 4:return t;case 3:return t.push(t[1]),t;case 2:return t.concat(t);case 1:return[t[0],t[0],t[0],t[0]];default:return[0,0,0,0]}if(ir(t))return[t,t,t,t];if(wt(t)){var e=parseInt(t,10);return[e,e,e,e]}return[0,0,0,0]},yIe=function(t){var e=new mIe(t.type,t);return e.clientX=t.clientX,e.clientY=t.clientY,e.x=t.x,e.y=t.y,e.target=t.target,e.currentTarget=t.currentTarget,e.bubbles=!0,e.item=t.item,e},bIe=function(t){if(!t)return!1;for(var e=9,n=[1,0,0,0,1,0,0,0,1],i=0;i<e;i++)if(t[i]!==n[i])return!0;return!1},V2=function(t){return Number.isNaN(Number(t))},sQ=function(t){for(var e=1/0,n=-1/0,i=1/0,a=-1/0,o=0;o<t.length;o++){var s=t[o],l=s.getBBox(),u=l.minX,c=l.minY,f=l.maxX,d=l.maxY;u<e&&(e=u),c<i&&(i=c),f>n&&(n=f),d>a&&(a=d)}var h=Math.floor(e),v=Math.floor(i),p=Math.ceil(n)-Math.floor(e),g=Math.ceil(a)-Math.floor(i);return{x:h,y:v,width:p,height:g,minX:e,minY:i,maxX:n,maxY:a}},xIe=function(t,e,n,i,a){e===void 0&&(e=15),n===void 0&&(n="quadratic"),i===void 0&&(i=void 0),a===void 0&&(a=void 0);for(var o=t.length,s=e*2,l=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],u={},c=[],f={},d=0;d<o;d++){var h=t[d],v=h.source,p=h.target,g="".concat(v,"-").concat(p);if(!c[d]){u[g]||(u[g]=[]),c[d]=!0,u[g].push(h);for(var m=0;m<o;m++)if(d!==m){var y=t[m],b=y.source,w=y.target;c[m]||(v===w&&p===b?(u[g].push(y),c[m]=!0,f["".concat(b,"|").concat(w,"|").concat(u[g].length-1)]=!0):v===b&&p===w&&(u[g].push(y),c[m]=!0))}}}for(var S in u)for(var E=u[S],_=E.length,A=0;A<_;A++){var k=E[A];if(k.source===k.target){a&&(k.type=a),k.loopCfg={position:l[A%8],dist:Math.floor(A/8)*20+50};continue}if(_===1&&i&&k.source!==k.target){k.type=i;continue}k.type=n;var T=(A%2===0?1:-1)*(f["".concat(k.source,"|").concat(k.target,"|").concat(A)]?-1:1);_%2===1?k.curveOffset=T*Math.ceil(A/2)*s:k.curveOffset=T*(Math.floor(A/2)*s+e)}return t},wIe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",uniqueId:kD,formatPadding:VF,cloneEvent:yIe,isViewportChanged:bIe,isNaN:V2,calculationItemsBBox:sQ,processParallelEdges:xIe}),SIe=function(){function r(t){this.destroyed=!1,this.graph=t,this.destroyed=!1}return r.prototype.getViewCenter=function(){var t=this.getFormatPadding(),e=this.graph,n=this.graph.get("width"),i=e.get("height");return{x:(n-t[1]-t[3])/2+t[3],y:(i-t[0]-t[2])/2+t[0]}},r.prototype.fitCenter=function(){var t=this.graph,e=t.get("group");e.resetMatrix();var n=e.getCanvasBBox();if(!(n.width===0||n.height===0)){var i=this.getViewCenter(),a={x:n.x+n.width/2,y:n.y+n.height/2};t.translate(i.x-a.x,i.y-a.y)}},r.prototype.fitView=function(){var t=this.graph,e=this.getFormatPadding(),n=t.get("width"),i=t.get("height"),a=t.get("group");a.resetMatrix();var o=a.getCanvasBBox();if(!(o.width===0||o.height===0)){var s=this.getViewCenter(),l={x:o.x+o.width/2,y:o.y+o.height/2};t.translate(s.x-l.x,s.y-l.y);var u=(n-e[1]-e[3])/o.width,c=(i-e[0]-e[2])/o.height,f=u;u>c&&(f=c),t.zoom(f,s)||console.warn("zoom failed, ratio out of range, ratio: %f",f)}},r.prototype.fitViewByRules=function(t){var e=t.onlyOutOfViewPort,n=e===void 0?!1:e,i=t.direction,a=i===void 0?"both":i,o=t.ratioRule,s=o===void 0?"min":o,l=this.graph,u=this.getFormatPadding(),c=l.get("width"),f=l.get("height"),d=l.get("group");d.resetMatrix();var h=d.getCanvasBBox();if(!(h.width===0||h.height===0)){var v=this.getViewCenter(),p={x:h.x+h.width/2,y:h.y+h.height/2};l.translate(v.x-p.x,v.y-p.y);var g=(c-u[1]-u[3])/h.width,m=(f-u[0]-u[2])/h.height,y;a==="x"?y=g:a==="y"?y=m:y=s==="max"?Math.max(g,m):Math.min(g,m),n&&(y=y<1?y:1);var b=l.getZoom(),w=b*y,S=l.get("minZoom");w<S&&(w=S,console.warn("fitview failed, ratio out of range, ratio: %f",y,"graph minzoom has been used instead")),l.zoomTo(w,v)}},r.prototype.getFormatPadding=function(){var t=this.graph.get("fitViewPadding");return VF(t)},r.prototype.focusPoint=function(t,e,n){var i=this,a=this.getViewCenter(),o=this.getPointByCanvas(a.x,a.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),e){var l=(o.x-t.x)*s[0],u=(o.y-t.y)*s[4],c=0,f=0,d=0,h=0;this.graph.get("canvas").animate(function(v){d=l*v,h=u*v,i.graph.translate(d-c,h-f),c=d,f=h},P({},n))}else this.graph.translate((o.x-t.x)*s[0],(o.y-t.y)*s[4])},r.prototype.getPointByCanvas=function(t,e){var n=this.graph.get("group").getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var i=fZ({x:t,y:e},n);return i},r.prototype.getPointByClient=function(t,e){var n=this.graph.get("canvas"),i=n.getPointByClient(t,e);return this.getPointByCanvas(i.x,i.y)},r.prototype.getClientByPoint=function(t,e){var n=this.graph.get("canvas"),i=this.getCanvasByPoint(t,e),a=n.getClientByPoint(i.x,i.y);return{x:a.x,y:a.y}},r.prototype.getCanvasByPoint=function(t,e){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),L_({x:t,y:e},n)},r.prototype.focus=function(t,e,n){if(wt(t)&&(t=this.graph.findById(t)),t){var i=0,a=0;if(t.getType&&t.getType()==="edge"){var o=t.getSource().get("group").getMatrix(),s=t.getTarget().get("group").getMatrix();o&&s?(i=(o[6]+s[6])/2,a=(o[7]+s[7])/2):(o||s)&&(i=o?o[6]:s[6],a=o?o[7]:s[7])}else{var l=t.get("group"),u=l.getMatrix();u||(u=[1,0,0,0,1,0,0,0,1]),i=u[6],a=u[7]}this.focusPoint({x:i,y:a},e,n)}},r.prototype.changeSize=function(t,e){var n=this.graph;if(!ir(t)||!ir(e))throw Error("invalid canvas width & height, please make sure width & height type is number");n.set({width:t,height:e});var i=n.get("canvas");i.changeSize(t,e);var a=n.get("plugins");a.forEach(function(o){o.get("gridContainer")&&o.positionInit()})},r.prototype.destroy=function(){this.graph=null,this.destroyed=!1},r}();function MD(r){return MD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MD(r)}function M$(r){if(typeof r!="string")return r;var t=function(_){if(typeof _!="string")return _;try{return JSON.parse(_.trim())}catch{return _.trim()}},e=t(r);if(typeof e!="string")return e;for(var n=function(_){return _[_.length-1]},i=r.trim(),a=[],o=[],s=function(){for(var _=[],A=0;A<arguments.length;A++)_[A]=arguments[A];return _.some(function(k){return n(o)===k})},l=function(){return n(a)},u=null,c=0,f="";c<i.length;){var d=i[c],h=s('"',"'");if(!h&&!d.trim()){c+=1;continue}var v=i[c-1]==="\\",p=s("}"),g=s("]"),m=s(","),y=l();if(h)if(n(o)===d&&!v){o.pop();var b=t(f);y.push(b),u=b,f=""}else f+=d;else if(g&&d===",")f&&(y.push(t(f)),f="");else if(p&&d===":")o.push(","),f&&(y.push(f),f="");else if(m&&d===",")f&&(y.push(t(f)),f=""),o.pop();else if(d==="}"&&(p||m)){f&&(y.push(t(f)),f=""),m&&o.pop();for(var w={},S=1;S<y.length;S+=2)w[y[S-1]]=y[S];a.pop(),a.length&&n(a).push(w),o.pop(),u=w}else d==="]"&&g?(f&&(y.push(t(f)),f=""),a.pop(),a.length&&n(a).push(y),o.pop(),u=y):d==="{"?(a.push([]),o.push("}")):d==="["?(a.push([]),o.push("]")):d==='"'?o.push('"'):d==="'"?o.push("'"):f+=d;c+=1}return u||f}var CIe=function(t){return t.split("-").reduce(function(e,n){return e+n.charAt(0).toUpperCase()+n.slice(1)})},EIe=function(t){return function(e){for(var n=t.length,i=[],a=0,o="";a<n;)if(t[a]==="{"&&t[a+1]==="{")i.push(o),o="",a+=2;else if(t[a]==="}"&&t[a+1]==="}"){if(i.length){var s=i.pop();o=me(e,o,s.endsWith("=")?'"{'.concat(o,'}"'):o),i.push(s+o)}a+=2,o=""}else o+=t[a],a+=1;return i.push(o),i.map(function(l,u){return i[u-1]&&i[u-1].endsWith("=")?'"{'.concat(l,'}"'):l}).join("")}};function lQ(r,t){var e={},n=r.getAttributeNames&&r.getAttributeNames()||[],i=r.children&&Array.from(r.children).map(function(s){return lQ(s,t)}),a={},o=r.tagName?r.tagName.toLowerCase():"group";return o==="text"&&(e.text=r.innerText),a.type=o,o==="img"&&(a.type="image"),Array.from(n).forEach(function(s){var l=CIe(s),u=r.getAttribute(s);try{if(l==="style"||l==="attrs"){var c=M$(u);e=P(P({},e),c)}else a[l]=M$(u)}catch(f){if(l==="style")throw f;a[l]=u}}),a.attrs=e,t&&t.style&&a.name&&MD(t.style[a.name])==="object"&&(a.attrs=P(P({},a.attrs),t.style[a.name])),t&&t.style&&a.keyshape&&(a.attrs=P(P({},a.attrs),t.style)),i.length&&(a.children=i),a}function _Ie(r,t,e){var n=r.attrs,i=n===void 0?{}:n,a={x:t.x||0,y:t.y||0,width:e.width||0,height:e.height||0},o,s;switch(r.type){case"maker":case"circle":i.r&&(s=2*i.r,o=2*i.r);break;case"text":i.text&&(s=_Z(i.text,i.fontSize||12)[0],o=16,a.y+=o,a.height=o,a.width=s,r.attrs=P({fontSize:12,fill:"#000"},i));break;default:i.width&&(s=i.width),i.height&&(o=i.height)}return o>=0&&(a.height=o),s>=0&&(a.width=s),i.marginTop&&(a.y+=i.marginTop),i.marginLeft&&(a.x+=i.marginLeft),a}function uQ(r,t){var e;t===void 0&&(t={x:0,y:0});var n=P({x:0,y:0,width:0,height:0},t);if((e=r.children)===null||e===void 0?void 0:e.length){var i=r.attrs,a=i===void 0?{}:i,o=a.marginTop,s=P({},t);o&&(s.y+=o);for(var l=0;l<r.children.length;l++){r.children[l].attrs.key="".concat(a.key||"root"," -").concat(l," ");var u=uQ(r.children[l],s);if(u.bbox){var c=u.bbox;u.attrs.next==="inline"?s.x+=u.bbox.width:s.y+=u.bbox.height,c.width+c.x>n.width&&(n.width=c.width+c.x),c.height+c.y>n.height&&(n.height=c.height+c.y)}}}return r.bbox=_Ie(r,t,n),r.attrs=P(P({},r.attrs),r.bbox),r}function cQ(r,t){var e,n,i,a,o=(r||{}).type,s=((t==null?void 0:t.attrs)||{}).key;if(s&&r&&(r.attrs.key=s),!r&&t)return{action:"delete",val:t,type:o,key:s};if(r&&!t)return{action:"add",val:r,type:o};if(!r&&!t)return{action:"same",type:o};var l=[];if(((e=r.children)===null||e===void 0?void 0:e.length)>0||((n=t.children)===null||n===void 0?void 0:n.length)>0)for(var u=Math.max((i=r.children)===null||i===void 0?void 0:i.length,(a=t.children)===null||a===void 0?void 0:a.length),c=t.children||[],f=r.children||[],d=0;d<u;d+=1)l.push(cQ(f[d],c[d]));var h=Object.keys(t.attrs),v=Object.keys(r.attrs);return t.type!==r.type?{action:"restructure",nowTarget:r,formerTarget:t,key:s,children:l}:h.filter(function(p){return p!=="children"}).some(function(p){return r.attrs[p]!==t.attrs[p]||!v.includes(p)})?{action:"change",val:r,children:l,type:o,key:s}:{action:"same",children:l,type:o,key:s}}function I$(r){var t={},e=function(i){var a=typeof r=="function"?r(i):r,o=EIe(a)(i),s=document.createElement("div");s.innerHTML=o;var l=s.children[0],u=uQ(lQ(l,i));return s.remove(),u};return{draw:function(i,a){var o=e(i),s=a,l=function u(c){var f=c.attrs,d=f===void 0?{}:f,h=c.bbox,v=c.type,p=c.children,g=xn(c,["attrs","bbox","type","children"]);if(c.type!=="group"){var m=a.addShape(c.type,P({attrs:d,origin:{bbox:h,type:v,children:p}},g));c.keyshape&&(s=m)}c.children&&c.children.forEach(function(y){return u(y)})};return l(o),t[i.id]=[o],s},update:function(i,a){t[i.id]||(t[i.id]=[]);var o=a.getContainer(),s=o.get("children"),l=e(i),u=t[i.id].pop(),c=cQ(l,u),f=function v(p){var g;p.type!=="group"&&o.addShape(p.type,{attrs:p.attrs}),((g=p.children)===null||g===void 0?void 0:g.length)&&p.children.map(function(m){return v(m)})},d=function v(p){var g,m=s.find(function(y){return y.attrs.key===p.attrs.key});m&&o.removeChild(m),((g=p.children)===null||g===void 0?void 0:g.length)&&p.children.map(function(y){return v(y)})},h=function v(p){var g=p.key;if(p.type!=="group"){var m=s.find(function(b){return b.attrs.key===g});switch(p.action){case"change":if(m){var y=p.val.keyshape?a.getOriginStyle():{};m.attr(P(P({},y),p.val.attrs))}break;case"add":f(p.val);break;case"delete":d(p.val);break;case"restructure":d(p.formerTarget),f(p.nowTarget);break}}p.children&&p.children.forEach(function(b){return v(b)})};h(c),t[i.id].push(l)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var GI={};function P$(r){return GI[r]||(GI[r]=Ju(r)),GI[r]}var TIe={defaultShapeType:"defaultType",className:null,getShape:function(t){var e=this,n=e[t]||e[e.defaultShapeType]||e["simple-circle"];return n},draw:function(t,e,n){var i=this.getShape(t);n.shapeMap={};var a=i.draw(e,n);return i.afterDraw&&i.afterDraw(e,n,a),a},baseUpdate:function(t,e,n,i){var a,o,s=this.getShape(t);s.update&&(s.mergeStyle=(a=s.getOptions)===null||a===void 0?void 0:a.call(s,e,i),(o=s.update)===null||o===void 0||o.call(s,e,n,i)),s.afterUpdate&&s.afterUpdate(e,n)},setState:function(t,e,n,i){var a=this.getShape(t);a.setState(e,n,i)},shouldUpdate:function(t){var e=this.getShape(t);return!!e.update},getControlPoints:function(t,e){var n=this.getShape(t);return n.getControlPoints(e)},getAnchorPoints:function(t,e){var n=this.getShape(t);return n.getAnchorPoints(e)}},UI={options:{},draw:function(t,e){return this.drawShape(t,e)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){var e=this.options.anchorPoints,n=t.anchorPoints||e;return n}},_a=function(){function r(){}return r.registerFactory=function(t,e){var n=P$(t),i=TIe,a=P(P({},i),e);return r[n]=a,a.className=n,a},r.getFactory=function(t){var e=P$(t);return r[e]},r.registerNode=function(t,e,n){var i=r.Node,a;if(typeof e=="string"||typeof e=="function"){var o=I$(e);a=P(P({},i.getShape("single-node")),o)}else if(e.jsx){var s=e.jsx,o=I$(s);a=P(P(P({},i.getShape("single-node")),o),e)}else{i.getShape(n);var l=n?i.getShape(n):UI;a=P(P({},l),e)}return a.type=t,a.itemType="node",i[t]=a,a},r.registerEdge=function(t,e,n){var i=r.Edge,a=n?i.getShape(n):UI,o=P(P({},a),e);return o.type=t,o.itemType="edge",i[t]=o,o},r.registerCombo=function(t,e,n){var i=r.Combo,a=n?i.getShape(n):UI,o=P(P({},a),e);return o.type=t,o.itemType="combo",i[t]=o,o},r}();_a.registerFactory("node",{defaultShapeType:"circle"});_a.registerFactory("edge",{defaultShapeType:"line"});_a.registerFactory("combo",{defaultShapeType:"circle"});var HI="bboxCache",VI="bboxCanvasCache",fQ=function(){function r(t){this._cfg={},this.destroyed=!1;var e={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(e,this.getDefaultCfg(),t);var n=this.get("model"),i=n.id,a=this.get("type");i||(i=kD(a),this.get("model").id=i),this.set("id",i);var o=t.group;o&&(o.set("item",this),o.set("id",i)),this.init(),this.draw();var s=n.shape||n.type||(a==="edge"?"line":"circle"),l=this.get("shapeFactory");if(l&&l[s]){var u=l[s].options;if(u&&u.stateStyles){var c=this.get("styles")||n.stateStyles;c=Kt({},u.stateStyles,c),this.set("styles",c)}}}return r.prototype.calculateBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=B_(t,e);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},r.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=B_(t,e);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},r.prototype.drawInner=function(){var t=this,e=t.get("shapeFactory"),n=t.get("group"),i=t.get("model");n.clear();var a=i.visible;if(a!==void 0&&!a&&t.changeVisibility(a),!!e){t.updatePosition(i);var o=t.getShapeCfg(i),s=o.type,l=e.draw(s,o,n);l&&(t.set("keyShape",l),l.set("isKeyShape",!0),l.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(e,s)}},r.prototype.setOriginStyle=function(){var t=this.get("group"),e=t.get("children"),n=this.getKeyShape(),i=this,a=n.get("name");if(this.get("originStyle")){var h=this.get("originStyle");a&&!h[a]&&(h[a]={});for(var v=this.getCurrentStatesStyle(),p=function(m){var y=e[m],b=y.get("name"),w=y.attr();if(b&&b!==a){var S=v[b];h[b]||(h[b]={}),S?Object.keys(w).forEach(function(A){var k=w[A];k!==S[A]&&(h[b][A]=k)}):h[b]=y.get("type")!=="image"?Jr(w):i.getShapeStyleByName(b)}else{var E=y.attr(),_={};Object.keys(v).forEach(function(A){var k=v[A];(A===a||!Oa(k))&&(_[A]=k)}),Object.keys(E).forEach(function(A){var k=E[A];_[A]!==k&&(a?h[a][A]=k:h[A]=k)})}},s=0;s<e.length;s++)p(s);delete h.path,delete h.matrix,delete h.x,delete h.y,h[a]&&(delete h[a].x,delete h[a].y,delete h[a].matrix,delete h[a].path),i.set("originStyle",h)}else{for(var o={},s=0;s<e.length;s++){var l=e[s],u=l.get("type"),c=l.get("name");if(c&&c!==a)o[c]=u!=="image"?Jr(l.attr()):i.getShapeStyleByName(c),u==="text"&&o[c]&&(delete o[c].x,delete o[c].y,delete o[c].matrix);else{var f=i.getShapeStyleByName();if(delete f.path,delete f.matrix,!a)Object.assign(o,f);else if(c)o[a]=f;else{var d=kD("shape");l.set("name",d),t.shapeMap[d]=l,o[d]=u!=="image"?Jr(l.attr()):i.getShapeStyleByName(c)}}}i.set("originStyle",o)}},r.prototype.restoreStates=function(t,e){var n=this,i=n.get("states");q(i,function(a){t.setState(e,a,!0,n)})},r.prototype.init=function(){var t=_a.getFactory(this.get("type"));this.set("shapeFactory",t)},r.prototype.get=function(t){return this._cfg[t]},r.prototype.set=function(t,e){Oa(t)?this._cfg=P(P({},this._cfg),t):this._cfg[t]=e},r.prototype.getDefaultCfg=function(){return{}},r.prototype.clearCache=function(){this.set(HI,null),this.set(VI,null)},r.prototype.beforeDraw=function(){},r.prototype.afterDraw=function(){},r.prototype.afterUpdate=function(){},r.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},r.prototype.getShapeStyleByName=function(t){var e=this.get("group"),n;if(t?n=e.shapeMap[t]:n=this.getKeyShape(),n){var i={};return q(n.attr(),function(a,o){(o!=="img"||wt(a))&&(i[o]=a)}),i}return{}},r.prototype.getShapeCfg=function(t,e){var n=this.get("styles");if(n){var i=t;return i.style=P(P({},n),t.style),i}return t},r.prototype.getStateStyle=function(t){var e=this.get("styles"),n=e&&e[t];return n},r.prototype.getOriginStyle=function(){return this.get("originStyle")},r.prototype.getCurrentStatesStyle=function(){var t=this,e={},n=t.getStates();return!n||!n.length?this.get("originStyle"):(q(t.getStates(),function(i){e=Object.assign(e,t.getStateStyle(i))}),e)},r.prototype.setState=function(t,e){var n=this.get("states"),i=this.get("shapeFactory"),a=t,o=t;wt(e)&&(a="".concat(t,":").concat(e),o="".concat(t,":"));var s=n;if(Pd(e)){var l=n.indexOf(o);if(e){if(l>-1)return;n.push(a)}else l>-1&&n.splice(l,1)}else if(wt(e)){var u=n.filter(function(d){return d.includes(o)});u.length>0&&this.clearStates(u),s=s.filter(function(d){return!d.includes(o)}),s.push(a),this.set("states",s)}if(i){var c=this.get("model"),f=c.type;i.setState(f,t,e,this)}},r.prototype.clearStates=function(t){var e=this,n=e.getStates(),i=e.get("shapeFactory"),a=e.get("model"),o=a.type;t||(t=n),wt(t)&&(t=[t]);var s=n.filter(function(l){return t.indexOf(l)===-1});e.set("states",s),t.forEach(function(l){i.setState(o,l,!1,e)})},r.prototype.getContainer=function(){return this.get("group")},r.prototype.getKeyShape=function(){return this.get("keyShape")},r.prototype.getModel=function(){return this.get("model")},r.prototype.getType=function(){return this.get("type")},r.prototype.getID=function(){return this.get("id")},r.prototype.isItem=function(){return!0},r.prototype.getStates=function(){return this.get("states")},r.prototype.hasState=function(t){var e=this.getStates();return e.indexOf(t)>=0},r.prototype.refresh=function(t){var e=this.get("model");this.updatePosition(e),this.updateShape(t),this.afterUpdate(),this.clearCache()},r.prototype.getUpdateType=function(t){},r.prototype.update=function(t,e){e===void 0&&(e=void 0);var n=this.get("model");if(e==="move")this.updatePosition(t);else{var i=n.visible,a=t.visible;i!==a&&a!==void 0&&this.changeVisibility(a);var o={x:n.x,y:n.y};t.x=isNaN(+t.x)?n.x:+t.x,t.y=isNaN(+t.y)?n.y:+t.y;var s=this.get("styles");if(t.stateStyles){var l=t.stateStyles;cr(s,l),delete t.stateStyles}Object.assign(n,t),(o.x!==t.x||o.y!==t.y)&&this.updatePosition(t),this.updateShape(e)}this.afterUpdate(),this.clearCache()},r.prototype.updateShape=function(t){var e=this.get("shapeFactory"),n=this.get("model"),i=n.type;if(e.shouldUpdate(i)&&i===this.get("currentShape")){var a=this.getShapeCfg(n,t);e.baseUpdate(i,a,this,t),t!=="move"&&this.setOriginStyle()}else this.draw();this.restoreStates(e,i)},r.prototype.updatePosition=function(t){var e=this.get("model"),n=isNaN(+t.x)?+e.x:+t.x,i=isNaN(+t.y)?+e.y:+t.y,a=this.get("group");if(isNaN(n)||isNaN(i))return!1;e.x=n,e.y=i;var o=a.getMatrix();return o&&o[6]===n&&o[7]===i?!1:(a.resetMatrix(),dZ(a,{x:n,y:i}),this.clearCache(),!0)},r.prototype.getBBox=function(){var t=this.get(HI);return t||(t=this.calculateBBox(),this.set(HI,t)),t},r.prototype.getCanvasBBox=function(){var t=this.get(VI);return t||(t=this.calculateCanvasBBox(),this.set(VI,t)),t},r.prototype.toFront=function(){var t=this.get("group");t.toFront()},r.prototype.toBack=function(){var t=this.get("group");t.toBack()},r.prototype.show=function(){this.changeVisibility(!0)},r.prototype.hide=function(){this.changeVisibility(!1)},r.prototype.changeVisibility=function(t){var e=this.get("group");t?e.show():e.hide(),this.set("visible",t)},r.prototype.isVisible=function(){return this.get("visible")},r.prototype.enableCapture=function(t){var e=this.get("group");e&&e.set("capture",t)},r.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),e.shapeMap={},this.clearCache(),e.remove(),this._cfg=null,this.destroyed=!0}},r}(),bE={source:"start",target:"end"},Mc="Node",ny="Point",AIe="Anchor",kIe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},t.prototype.setEnd=function(e,n){var i=bE[e]+ny,a=e+Mc,o=this.get(a);o&&!o.destroyed&&o.removeEdge(this),Oa(n)?(this.set(i,n),this.set(a,null)):n&&(n.addEdge(this),this.set(a,n),this.set(i,null))},t.prototype.getLinkPoint=function(e,n,i){var a=bE[e]+ny,o=e+Mc,s=this.get(a);if(!s){var l=this.get(o),u=e+AIe,c=this.getPrePoint(e,i),f=n[u];xt(f)||(s=l.getLinkPointByAnchor(f)),s=s||l.getLinkPoint(c),xt(s.index)||this.set("".concat(e,"AnchorIndex"),s.index)}return s},t.prototype.getPrePoint=function(e,n){if(n&&n.length){var i=e==="source"?0:n.length-1;return n[i]}var a=e==="source"?"target":"source";return this.getEndPoint(a)},t.prototype.getEndPoint=function(e){var n=e+Mc,i=bE[e]+ny,a=this.get(n);return a?a.get("model"):this.get(i)},t.prototype.getControlPointsByCenter=function(e){var n=this.getEndPoint("source"),i=this.getEndPoint("target"),a=this.get("shapeFactory"),o=e.type;return a.getControlPoints(o,{startPoint:n,endPoint:i})},t.prototype.getEndCenter=function(e){var n=e+Mc,i=bE[e]+ny,a=this.get(n);if(a){var o=a.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(i)},t.prototype.init=function(){r.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},t.prototype.getShapeCfg=function(e,n){var i=this,a=i.get("linkCenter"),o=(n==null?void 0:n.includes("move"))?e:r.prototype.getShapeCfg.call(this,e);if(a)o.startPoint=i.getEndCenter("source"),o.endPoint=i.getEndCenter("target");else{var s=o.controlPoints||i.getControlPointsByCenter(o);o.startPoint=i.getLinkPoint("source",e,s),o.endPoint=i.getLinkPoint("target",e,s)}return o.sourceNode=i.get("sourceNode"),o.targetNode=i.get("targetNode"),o},t.prototype.getModel=function(){var e=this.get("model"),n=this.get("source".concat(Mc)),i=this.get("target".concat(Mc));return n?delete e["source".concat(Mc)]:e.source=this.get("start".concat(ny)),i?delete e["target".concat(Mc)]:e.target=this.get("end".concat(ny)),!wt(e.source)&&!Oa(e.source)&&(e.source=e.source.getID()),!wt(e.target)&&!Oa(e.target)&&(e.target=e.target.getID()),e},t.prototype.setSource=function(e){this.setEnd("source",e),this.set("source",e)},t.prototype.setTarget=function(e){this.setEnd("target",e),this.set("target",e)},t.prototype.getSource=function(){return this.get("source")},t.prototype.getTarget=function(){return this.get("target")},t.prototype.updatePosition=function(){return!1},t.prototype.update=function(e,n){n===void 0&&(n=void 0);var i=this.get("model"),a=i.visible,o=e.visible;a!==o&&o!==void 0&&this.changeVisibility(o);var s=this.get("styles");if(e.stateStyles){var l=e.stateStyles;cr(s,l),delete e.stateStyles}Object.assign(i,e),this.updateShape(n),this.afterUpdate(),this.clearCache()},t.prototype.destroy=function(){var e=this.get("source".concat(Mc)),n=this.get("target".concat(Mc));e&&!e.destroyed&&e.removeEdge(this),n&&!n.destroyed&&n.removeEdge(this),r.prototype.destroy.call(this)},t}(fQ),WI="anchorPointsCache",MIe="bboxCache",dQ=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getNearestPoint=function(e,n){for(var i=0,a=e[0],o=F_(e[0],n),s=0;s<e.length;s++){var l=e[s],u=F_(l,n);u<o&&(a=l,o=u,i=s)}return a.anchorIndex=i,a},t.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},t.prototype.getEdges=function(){return this.get("edges")},t.prototype.getInEdges=function(){var e=this;return this.get("edges").filter(function(n){return n.get("target")===e})},t.prototype.getOutEdges=function(){var e=this;return this.get("edges").filter(function(n){return n.get("source")===e})},t.prototype.getNeighbors=function(e){var n=this,i=this.get("edges");if(e==="target"){var a=function(u){return u.getSource()===n};return i.filter(a).map(function(l){return l.getTarget()})}if(e==="source"){var o=function(u){return u.getTarget()===n};return i.filter(o).map(function(l){return l.getSource()})}var s=function(u){return u.getSource()===n?u.getTarget():u.getSource()};return i.map(s)},t.prototype.getLinkPointByAnchor=function(e){var n=this.getAnchorPoints();return n[e]},t.prototype.getLinkPoint=function(e){var n=this.get("keyShape"),i=n.get("type"),a=this.get("type"),o,s,l=this.getBBox();a==="combo"?(o=l.centerX||(l.maxX+l.minX)/2,s=l.centerY||(l.maxY+l.minY)/2):(o=l.centerX,s=l.centerY);var u=this.getAnchorPoints(),c;switch(i){case"circle":c=uZ({x:o,y:s,r:l.width/2},e);break;case"ellipse":c=cZ({x:o,y:s,rx:l.width/2,ry:l.height/2},e);break;default:c=lZ(l,e)}var f=c;return u.length&&(f||(f=e),f=this.getNearestPoint(u,f)),f||(f={x:o,y:s}),f},t.prototype.getAnchorPoints=function(){var e=this.get(WI);if(!e){e=[];var n=this.get("shapeFactory"),i=this.getBBox(),a=this.get("model"),o=this.getShapeCfg(a),s=a.type,l=n.getAnchorPoints(s,o)||[];q(l,function(u,c){var f={x:i.minX+u[0]*i.width,y:i.minY+u[1]*i.height,anchorIndex:c};e.push(f)}),this.set(WI,e)}return e},t.prototype.addEdge=function(e){this.get("edges").push(e)},t.prototype.lock=function(){this.set("locked",!0)},t.prototype.unlock=function(){this.set("locked",!1)},t.prototype.hasLocked=function(){return this.get("locked")},t.prototype.removeEdge=function(e){var n=this.getEdges(),i=n.indexOf(e);i>-1&&n.splice(i,1)},t.prototype.clearCache=function(){this.set(MIe,null),this.set(WI,null)},t.prototype.getUpdateType=function(e){var n,i,a,o,s;if(!!e){var l=!xt(e.x),u=!xt(e.y),c=Object.keys(e);if(c.length===1&&(l||u)||c.length===2&&l&&u)return"move";if(ir(e.x)||ir(e.y)||e.type||e.anchorPoints||e.size||(e==null?void 0:e.style)&&(((n=e==null?void 0:e.style)===null||n===void 0?void 0:n.r)||((i=e==null?void 0:e.style)===null||i===void 0?void 0:i.width)||((a=e==null?void 0:e.style)===null||a===void 0?void 0:a.height)||((o=e==null?void 0:e.style)===null||o===void 0?void 0:o.rx)||((s=e==null?void 0:e.style)===null||s===void 0?void 0:s.ry)))return"bbox|label";var f=c.includes("label")||c.includes("labelCfg");return f?"style|label":"style"}},t}(fQ),R$="bboxCache",D$="bboxCanvasCache",jI="sizeCache",O$="anchorPointsCache",IIe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},t.prototype.getShapeCfg=function(e){var n=this.get("styles"),i=this.get("bbox");if(n&&i){var a=e,o={r:Math.hypot(i.height,i.width)/2||Ar.defaultCombo.size[0]/2,width:i.width||Ar.defaultCombo.size[0],height:i.height||Ar.defaultCombo.size[1]};a.style=P(P(P({},n),e.style),o);var s=e.padding||Ar.defaultCombo.padding;return ir(s)?(o.r+=s,o.width+=s*2,o.height+=s*2):(o.r+=s[0],o.width+=s[1]+s[3]||s[1]*2,o.height+=s[0]+s[2]||s[0]*2),this.set(jI,o),a}return e},t.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var e=this.get("keyShape"),n=this.get("group"),i=B_(e,n);i.centerX=(i.minX+i.maxX)/2,i.centerY=(i.minY+i.maxY)/2;var a=this.get(jI),o=this.get(R$)||{},s=o.x,l=o.x;if(a){a.width=Math.max(a.width,i.width),a.height=Math.max(a.height,i.height);var u=e.get("type");u==="circle"?(i.width=a.r*2,i.height=a.r*2):(i.width=a.width,i.height=a.height),i.minX=i.centerX-i.width/2,i.minY=i.centerY-i.height/2,i.maxX=i.centerX+i.width/2,i.maxY=i.centerY+i.height/2}else i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i.centerX=(i.minX+i.maxX)/2,i.centerY=(i.minY+i.maxY)/2;return i.x=i.minX,i.y=i.minY,(i.x!==s||i.y!==l)&&this.set(O$,null),i}},t.prototype.getChildren=function(){var e=this;return{nodes:e.getNodes(),combos:e.getCombos()}},t.prototype.getNodes=function(){var e=this;return e.get("nodes")},t.prototype.getCombos=function(){var e=this;return e.get("combos")},t.prototype.addChild=function(e){var n=this,i=e.getType();switch(i){case"node":n.addNode(e);break;case"combo":n.addCombo(e);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},t.prototype.addCombo=function(e){var n=this;return n.get("combos").push(e),!0},t.prototype.addNode=function(e){var n=this;return n.get("nodes").push(e),!0},t.prototype.removeChild=function(e){var n=this,i=e.getType();switch(i){case"node":n.removeNode(e);break;case"combo":n.removeCombo(e);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},t.prototype.removeCombo=function(e){if(!!e){var n=this.getCombos(),i=n.indexOf(e);return i>-1?(n.splice(i,1),!0):!1}},t.prototype.removeNode=function(e){if(!!e){var n=this.getNodes(),i=n.indexOf(e);return i>-1?(n.splice(i,1),!0):!1}},t.prototype.getUpdateType=function(e){},t.prototype.getBBox=function(){this.set(D$,null);var e=this.calculateCanvasBBox();return e},t.prototype.clearCache=function(){this.set(R$,null),this.set(D$,null),this.set(O$,null)},t.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),n=this.get("group");e&&n.stopAnimate(),n.shapeMap={},this.clearCache(),this.set(jI,null),this.set("bbox",null),n.remove(),this._cfg=null,this.destroyed=!0}},t}(dQ),gx="node",xE="edge",L$="vedge",mx="combo",PIe="default",F$="Mapper",Qf="stateStyles",RIe=function(){function r(t){var e=this;this.edgeToBeUpdateMap={},this.throttleRefresh=X0(function(n){var i,a=e.graph;if(!(!a||a.get("destroyed"))){var o=e.edgeToBeUpdateMap;!o||!((i=Object.keys(o))===null||i===void 0?void 0:i.length)||(Object.keys(o).forEach(function(s){var l=o[s].edge;!l||l.destroyed||l.refresh(o[s].updateType)}),e.edgeToBeUpdateMap={})}},16,{trailing:!0,leading:!0}),this.graph=t,this.destroyed=!1}return r.prototype.addItem=function(t,e){var n=this.graph,i=t===L$?xE:t,a=n.get("".concat(i,"Group"))||n.get("group"),o=Ju(i),s=null,l=n.get(i+Ju(Qf))||{},u=n.get(PIe+o);e[Qf]&&(l=e[Qf]),u&&q(u,function(y,b){Hn(y)&&!gt(y)?e[b]=Kt({},y,e[b]):gt(y)?e[b]=e[b]||Jr(u[b]):e[b]=e[b]||u[b]});var c=n.get(i+F$);if(c){var f=c(e);f[Qf]&&(l=f[Qf],delete f[Qf]),q(f,function(y,b){Hn(y)&&!gt(y)?e[b]=Kt({},e[b],y):e[b]=f[b]||e[b]})}if(n.emit("beforeadditem",{type:t,model:e}),t===xE||t===L$){var d=void 0,h=void 0;if(d=e.source,h=e.target,d&&wt(d)&&(d=n.findById(d)),h&&wt(h)&&(h=n.findById(h)),!d||!h){console.warn("The source or target node of edge ".concat(e.id," does not exist!"));return}d.getType&&d.getType()==="combo"&&(e.isComboEdge=!0),h.getType&&h.getType()==="combo"&&(e.isComboEdge=!0),s=new kIe({model:e,source:d,target:h,styles:l,linkCenter:n.get("linkCenter"),group:a.addGroup()})}else if(t===gx)s=new dQ({model:e,styles:l,group:a.addGroup()});else if(t===mx){var v=e.children,p=G2(v,n);isNaN(p.x)?isNaN(e.x)&&(e.x=Math.random()*100):e.x=p.x,isNaN(p.y)?isNaN(e.y)&&(e.y=Math.random()*100):e.y=p.y;var g=a.addGroup();g.setZIndex(e.depth),s=new IIe({model:e,styles:l,bbox:e.collapsed?G2([],n):p,group:g});var m=s.getModel();(v||[]).forEach(function(y){var b=n.findById(y.id);s.addChild(b),y.depth=m.depth+2}),e.collapsed&&setTimeout(function(){s.destroyed||n.collapseCombo(s)},0)}if(s)return n.get("".concat(t,"s")).push(s),n.get("itemMap")[s.get("id")]=s,n.emit("afteradditem",{item:s,model:e}),s},r.prototype.updateItem=function(t,e){var n=this,i,a,o=this.graph;if(wt(t)&&(t=o.findById(t)),!(!t||t.destroyed)){var s="";t.getType&&(s=t.getType());var l=o.get(s+F$),u=t.getModel(),c=t.getUpdateType(e);if(l){var f=Kt({},u,e),d=l(f),h=Kt({},u,d,e);d[Qf]&&(t.set("styles",h[Qf]),delete h[Qf]),q(h,function(S,E){e[E]=S})}else q(e,function(S,E){u[E]&&Hn(S)&&!gt(S)&&(e[E]=P(P({},u[E]),e[E]))});if(o.emit("beforeupdateitem",{item:t,cfg:e}),s===xE){if(e.source){var v=e.source;wt(v)&&(v=o.findById(v)),t.setSource(v)}if(e.target){var p=e.target;wt(p)&&(p=o.findById(p)),t.setTarget(p)}t.update(e)}if(s===gx||s===mx){t.update(e,c);var g=t.getEdges(),m=(c==null?void 0:c.includes("bbox"))||c==="move";if(s===gx)c==="move"?q(g,function(S){n.edgeToBeUpdateMap[S.getID()]={edge:S,updateType:c},n.throttleRefresh()}):m&&q(g,function(S){S.refresh(c)});else if(m&&s===mx){var y=t.get("shapeFactory"),b=u.type||"circle",w=u.animate===void 0||e.animate===void 0?(a=(i=y[b])===null||i===void 0?void 0:i.options)===null||a===void 0?void 0:a.animate:u.animate||e.animate;w?setTimeout(function(){if(!(!t||t.destroyed)){var S=t.getKeyShape();!S||S.destroyed||q(g,function(E){E&&!E.destroyed&&E.refresh()})}},201):q(g,function(S){S.refresh()})}}o.emit("afterupdateitem",{item:t,cfg:e})}},r.prototype.updateCombo=function(t,e){var n=this,i,a,o=this.graph;if(wt(t)&&(t=o.findById(t)),!(!t||t.destroyed)){var s=t.getModel(),l=G2(e,o,t),u=l.x,c=l.y;t.set("bbox",l),t.update({x:u||s.x,y:c||s.y});var f=t.get("shapeFactory"),d=s.type||"circle",h=s.animate===void 0?(a=(i=f[d])===null||i===void 0?void 0:i.options)===null||a===void 0?void 0:a.animate:s.animate;h?setTimeout(function(){if(!(!t||t.destroyed)){var v=t.getKeyShape();!v||v.destroyed||(t.getShapeCfg(s),n.updateComboEdges(t))}},201):this.updateComboEdges(t)}},r.prototype.updateComboEdges=function(t){for(var e=t.getEdges()||[],n=0;n<e.length;n++){var i=e[n];if(i&&!i.destroyed){var a=i.get("shapeFactory"),o=i.getShapeCfg(i.getModel()),s=i.getContainer();s.clear();var l=a.draw(o.type,o,s);i.set("keyShape",l),l.set("isKeyShape",!0),l.set("draggable",!0),i.setOriginStyle()}}},r.prototype.collapseCombo=function(t){var e=this.graph;wt(t)&&(t=e.findById(t));var n=t.getChildren();n.nodes.forEach(function(i){e.hideItem(i)}),n.combos.forEach(function(i){e.hideItem(i)})},r.prototype.expandCombo=function(t){var e=this.graph;wt(t)&&(t=e.findById(t));var n=t.getChildren();n.nodes.forEach(function(i){e.showItem(i)}),n.combos.forEach(function(i){i.getModel().collapsed?i.show():e.showItem(i)})},r.prototype.removeItem=function(t){var e=this,n=this.graph;if(wt(t)&&(t=n.findById(t)),!(!t||t.destroyed)){var i=Jr(t.getModel());n.emit("beforeremoveitem",{item:i});var a="";t.getType&&(a=t.getType());var o=n.get("".concat(a,"s")),s=o.indexOf(t);if(s>-1&&o.splice(s,1),a===xE){var l=n.get("v".concat(a,"s")),u=l.indexOf(t);u>-1&&l.splice(u,1)}var c=t.get("id"),f=n.get("itemMap");delete f[c];var d=n.get("comboTrees"),h=t.get("id");if(a===gx){var v=t.getModel().comboId;if(d&&v){var p=d,g=!1;d.forEach(function(E){g||Ol(E,function(_){if(_.id===h&&p){var A=p.indexOf(_);return p.splice(A,1),g=!0,!1}return p=_.children,!0})})}for(var m=t.getEdges(),y=m.length-1;y>=0;y--)n.removeItem(m[y],!1);v&&n.updateCombo(v)}else if(a===mx){var b=t.getModel().parentId,w,S=!1;(d||[]).forEach(function(_){S||Ol(_,function(A){return A.id===h?(w=A,S=!0,!1):!0})}),w.removed=!0,w&&w.children&&w.children.forEach(function(_){e.removeItem(_.id)});for(var m=t.getEdges(),y=m.length;y>=0;y--)n.removeItem(m[y],!1);b&&n.updateCombo(b)}t.destroy(),n.emit("afterremoveitem",{item:i,type:a})}},r.prototype.setItemState=function(t,e,n){var i=this.graph,a=e;wt(n)&&(a="".concat(e,":").concat(n)),!(t.hasState(a)===n&&n||wt(n)&&t.hasState(a))&&(i.emit("beforeitemstatechange",{item:t,state:a,enabled:n}),t.setState(e,n),i.autoPaint(),i.emit("afteritemstatechange",{item:t,state:a,enabled:n}))},r.prototype.priorityState=function(t,e){var n=this.graph,i=t;wt(t)&&(i=n.findById(t)),this.setItemState(i,e,!1),this.setItemState(i,e,!0)},r.prototype.clearItemStates=function(t,e){var n=this.graph;wt(t)&&(t=n.findById(t)),n.emit("beforeitemstatesclear",{item:t,states:e}),t.clearStates(e),n.emit("afteritemstatesclear",{item:t,states:e})},r.prototype.refreshItem=function(t){var e=this.graph;wt(t)&&(t=e.findById(t)),e.emit("beforeitemrefresh",{item:t}),t.refresh(),e.emit("afteritemrefresh",{item:t})},r.prototype.addCombos=function(t,e){var n=this,i=this.graph;(t||[]).forEach(function(o){Hh(o,function(s){var l;return e.forEach(function(u){u.id===s.id&&(u.children=s.children,u.depth=s.depth,l=u)}),l&&n.addItem("combo",l),!0})});var a=i.get("comboGroup");a&&a.sort()},r.prototype.changeItemVisibility=function(t,e){var n=this,i=this.graph;if(wt(t)&&(t=i.findById(t)),!t){console.warn("The item to be shown or hidden does not exist!");return}if(i.emit("beforeitemvisibilitychange",{item:t,visible:e}),t.changeVisibility(e),t.getType&&t.getType()===gx){var a=t.getEdges();q(a,function(c){e&&!(c.get("source").isVisible()&&c.get("target").isVisible())||n.changeItemVisibility(c,e)})}else if(t.getType&&t.getType()===mx){var o=i.get("comboTrees"),s=t.get("id"),l=[],u=!1;(o||[]).forEach(function(f){u||!f.children||f.children.length===0||Ol(f,function(d){return d.id===s?(l=d.children,u=!0,!1):!0})}),l&&(!e||e&&!t.getModel().collapsed)&&l.forEach(function(f){var d=i.findById(f.id);n.changeItemVisibility(d,e)});var a=t.getEdges();q(a,function(f){e&&!(f.get("source").isVisible()&&f.get("target").isVisible())||n.changeItemVisibility(f,e)})}return i.emit("afteritemvisibilitychange",{item:t,visible:e}),t},r.prototype.destroy=function(){this.graph=null,this.destroyed=!0},r}(),Cp=null,DIe=function(){function r(t){this.graph=t,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return r.checkCache=function(t,e,n){if(!!n[e]){var i=n[e].indexOf(t);i>=0&&n[e].splice(i,1)}},r.cacheState=function(t,e,n){n[e]||(n[e]=[]),n[e].push(t)},r.prototype.updateState=function(t,e,n){var i=this,a=r.checkCache,o=r.cacheState;if(!t.destroyed){var s=this.cachedStates,l=s.enabled,u=s.disabled;n?(a(t,e,u),o(t,e,l)):(a(t,e,l),o(t,e,u)),Cp&&clearTimeout(Cp),Cp=setTimeout(function(){Cp=null,i.updateGraphStates()},16)}},r.prototype.updateStates=function(t,e,n){var i=this;wt(e)?this.updateState(t,e,n):e.forEach(function(a){i.updateState(t,a,n)})},r.prototype.updateGraphStates=function(){var t=this.graph.get("states"),e=this.cachedStates;q(e.disabled,function(n,i){t[i]&&(t[i]=t[i].filter(function(a){return n.indexOf(a)<0&&!n.destroyed}))}),q(e.enabled,function(n,i){if(!t[i])t[i]=n;else{var a={};t[i].forEach(function(o){o.destroyed||(a[o.get("id")]=!0)}),n.forEach(function(o){if(!o.destroyed){var s=o.get("id");a[s]||(a[s]=!0,t[i].push(o))}})}}),this.graph.emit("graphstatechange",{states:t}),this.cachedStates={enabled:{},disabled:{}}},r.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Cp&&clearTimeout(Cp),Cp=null,this.destroyed=!0},r}(),OIe=function(t,e){return!t||!e?t:t.replace(/\\?\{([^{}]+)\}/g,function(n,i){if(n.charAt(0)==="\\")return n.slice(1);var a=e[i];return a===0&&(a="0"),a||""})},hQ=function(t){var e=[];if(t.length<2)throw new Error("point length must largn than 2, now it's ".concat(t.length));for(var n=0,i=t;n<i.length;n++){var a=i[n],o=a.x,s=a.y;e.push(o),e.push(s)}var l=HF(e);return l.unshift(["M",t[0].x,t[0].y]),l},H_=function(t,e,n,i){n===void 0&&(n=0),i===void 0&&(i=0);var a={x:(1-n)*t.x+n*e.x,y:(1-n)*t.y+n*e.y},o=[0,0];cv(o,[e.x-t.x,e.y-t.y]),(!o||!o[0]&&!o[1])&&(o=[0,0]);var s=[-o[1]*i,o[0]*i];return a.x+=s[0],a.y+=s[1],a},LIe=function(t,e){var n=t.length;if(!n)return"";for(var i="",a="",o=0;o<n;o++){var s=t[o];o===0?a="M{x} {y}":a="L{x} {y}",i+=OIe(a,s)}return e&&(i+="Z"),i},ID=function(t){var e=[];return t.forEach(function(n){var i=n[0];if(i!=="A")for(var a=1;a<n.length;a=a+2)e.push([n[a],n[a+1]]);else{var o=n.length;e.push([n[o-2],n[o-1]])}}),e},PD=function(t){if(t.length<2)throw new Error("point length must largn than 2, now it's ".concat(t.length));var e=t[0],n=t[1],i=t[t.length-1],a=t[t.length-2];t.unshift(i),t.unshift(a),t.push(e),t.push(n);for(var o=[],s=1;s<t.length-2;s+=1){var l=t[s-1].x,u=t[s-1].y,c=t[s].x,f=t[s].y,d=t[s+1].x,h=t[s+1].y,v=s!==t.length-2?t[s+2].x:d,p=s!==t.length-2?t[s+2].y:h,g=c+(d-l)/6,m=f+(h-u)/6,y=d-(v-c)/6,b=h-(p-f)/6;o.push(["C",g,m,y,b,d,h])}return o.unshift(["M",i.x,i.y]),o},N$=function(t,e){return pa([0,0],cv([0,0],t),e)},B$=function(t,e){var n=[t[1]-e[1],e[0]-t[0]],i=Math.sqrt(n[0]*n[0]+n[1]*n[1]);if(i===0)throw new Error("p0 should not be equal to p1");return[n[0]/i,n[1]/i]},z$=function(t,e){return[e[0]-t[0],e[1]-t[1]]};function RD(r,t){var e=function(f){var d=[f[0][0],f[0][1]-t],h=[f[0][0],f[0][1]+t];return"M ".concat(d," A ").concat(t,",").concat(t,",0,0,0,").concat(h," A ").concat(t,",").concat(t,",0,0,0,").concat(d)},n=function(f){var d=pa([0,0],B$(f[0],f[1]),t),h=pa([0,0],d,-1),v=Pa([0,0],f[0],d),p=Pa([0,0],f[1],d),g=Pa([0,0],f[1],h),m=Pa([0,0],f[0],h);return"M ".concat(v," L ").concat(p," A ").concat([t,t,"0,0,0",g].join(",")," L ").concat(m," A ").concat([t,t,"0,0,0",v].join(","))};if(!r||r.length<1)return"";if(r.length===1)return e(r);if(r.length===2)return n(r);for(var i=new Array(r.length),a=0;a<i.length;++a){var o=a===0?r[r.length-1]:r[a-1],s=r[a],l=pa([0,0],B$(o,s),t);i[a]=[Pa([0,0],o,l),Pa([0,0],s,l)]}var u="A ".concat([t,t,"0,0,0,"].join(","));return i=i.map(function(c,f){var d="";return f===0&&(d="M ".concat(i[i.length-1][1]," ")),d+="".concat(u+c[0]," L ").concat(c[1]),d}),i.join(" ")}function vQ(r,t){var e=r.length,n=function(c){var f=[c[0][0],c[0][1]-t],d=[c[0][0],c[0][1]+t];return"M ".concat(f," A ").concat([t,t,"0,0,0",d].join(",")," A ").concat([t,t,"0,0,0",f].join(","))},i=function(c){var f=z$(c[0],c[1]),d=N$(f,t),h=Pa([0,0],c[0],pa([0,0],d,-1)),v=Pa([0,0],c[1],d),p=1.2*t,g=N$(cv([0,0],f),p),m=pa([0,0],g,-1),y=Pa([0,0],h,m),b=Pa([0,0],v,m),w=Pa([0,0],h,g);return"M ".concat(h," C ").concat([y,b,v].join(",")," S ").concat([w,h].join(",")," Z")};if(!r||e<1)return"";if(e===1)return n(r);if(e===2)return i(r);for(var a=r.map(function(u,c){var f=r[(c+1)%e];return{p:u,v:cv([0,0],z$(u,f))}}),o=0;o<a.length;++o){var s=o>0?o-1:e-1,l=cv([0,0],Pa([0,0],a[s].v,pa([0,0],a[o].v,-1)));a[o].p=Pa([0,0],a[o].p,pa([0,0],l,t))}return a.map(function(u){var c=u.p;return{x:c[0],y:c[1]}})}var FIe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",getSpline:hQ,getControlPoint:H_,pointsToPolygon:LIe,pathToPoints:ID,getClosedSpline:PD,roundedHull:RD,paddedHull:vQ}),$$=function(t,e,n){return(t.y-n.y)*(e.x-n.x)-(t.x-n.x)*(e.y-n.y)},G$=function(t){var e=t.map(function(s){return{x:s.getModel().x,y:s.getModel().y}});if(e.sort(function(s,l){return s.x===l.x?s.y-l.y:s.x-l.x}),e.length===1)return e;for(var n=[],i=0;i<e.length;i++){for(;n.length>=2&&$$(n[n.length-2],n[n.length-1],e[i])<=0;)n.pop();n.push(e[i])}for(var a=[],i=e.length-1;i>=0;i--){for(;a.length>=2&&$$(a[a.length-2],a[a.length-1],e[i])<=0;)a.pop();a.push(e[i])}a.pop(),n.pop();var o=n.concat(a);return o},NIe={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function BIe(r,t,e){var n=!1,i=function(l,u){return t.cells[l+u*t.width]},a=function(l,u){var c=0;return i(l-1,u-1)>=e&&(c+=1),i(l,u-1)>e&&(c+=2),i(l-1,u)>e&&(c+=4),i(l,u)>e&&(c+=8),c},o=function(l,u){for(var c=l,f=u,d,h,v=0;v<t.width*t.height;v++){if(d=c,h=f,r.findIndex(function(g){return g.x===c&&g.y===f})>-1){if(!(r[0].x!==c||r[0].y!==f))return!0}else r.push({x:c,y:f});var p=a(c,f);switch(p){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:c++;break;case 12:case 14:case 4:c--;break;case 6:d===0&&(h===-1?c-=1:c+=1);break;case 1:case 13:case 5:f--;break;case 9:d===1&&(h===0?f-=1:f+=1);break;case 10:case 8:case 11:f++;break;default:return console.warn("Marching squares invalid state: ".concat(p)),!0}}};this.march=function(){for(var s=0;s<t.width&&!n;s+=1)for(var l=0;l<t.height&&!n;l+=1)i(s,l)>e&&a(s,l)!==15&&(n=o(s,l));return n}}var zIe=function(t,e,n){var i=Math.ceil(t/n),a=Math.ceil(e/n),o=new Float32Array(Math.max(0,i*a)).fill(0);return{cells:o,width:i,height:a}},$Ie=function(t,e,n){var i=null,a=Number.POSITIVE_INFINITY;return e.forEach(function(o){var s={x:t.getModel().x,y:t.getModel().y},l={x:o.getModel().x,y:o.getModel().y},u=N_(s,l),c=new kg(s.x,s.y,l.x,l.y),f=n.reduce(function(d,h){return OF(h,c)>0?d+1:d},0);u*Math.pow(f+1,2)<a&&(i=o,a=u*Math.pow(f+1,2))}),i},pQ=function(t,e){var n=Number.POSITIVE_INFINITY,i=null;return t.forEach(function(a){var o=OF(a,e);o>=0&&o<n&&(i=a,n=o)}),i},GIe=function(t,e,n,i){var a=[],o=[];o.push(t);for(var s=!0,l=0,u=function(h,v){var p=!1;return v.forEach(function(g){p||(sD(h,{x:g.x1,y:g.y1})||sD(h,{x:g.x2,y:g.y2}))&&(p=!0)}),p},c=function(h,v){for(var p=0,g=v;p<g.length;p++){var m=g[p],y=m.getBBox(),b=[[y.x,y.y],[y.x+y.width,y.y],[y.x,y.y+y.height],[y.x+y.width,y.y+y.height]];if(cw(b,h.x,h.y))return!0}return!1};s&&l<n;){s=!1;for(var f=function(){var h=o.pop(),v=pQ(e,h);if(v){var p=pZ(v,h),g=p[0],m=p[1];if(m===2){var y=function(w){for(var S=i,E=U$(v,S,g,w),_=u(E,o)||u(E,a),A=c(E,e);!_&&A&&S>=1;)S/=1.5,E=U$(v,S,g,w),_=u(E,o)||u(E,a),A=c(E,e);E&&!_&&(!w||!A)&&(o.push(new kg(h.x1,h.y1,E.x,E.y)),o.push(new kg(E.x,E.y,h.x2,h.y2)),s=!0)};y(!0),s||y(!1)}}s||a.push(h),l+=1};!s&&o.length;)f()}for(;o.length;)a.push(o.pop());return a};function UIe(r,t,e,n,i){var a=$Ie(r,e,t);if(a===null)return[];var o=function(f){for(var d=[];f.length>0;){var h=f.pop();if(f.length===0){d.push(h);break}var v=f.pop(),p=new kg(h.x1,h.y1,v.x2,v.y2),g=pQ(t,p);g?(d.push(h),f.push(v)):f.push(p)}return d},s=new kg(r.getModel().x,r.getModel().y,a.getModel().x,a.getModel().y),l=GIe(s,t,n,i),u=o(l);return u}var HIe=function(t,e,n){var i=Object.assign(NIe,n),a=gZ(t.map(function(y){return{x:y.getModel().x,y:y.getModel().y}}));t=t.sort(function(y,b){return N_({x:y.getModel().x,y:y.getModel().y},a)-N_({x:b.getModel().x,y:b.getModel().y},a)});var o=[],s=[];t.forEach(function(y){var b=UIe(y,e,o,i.maxRoutingIterations,i.morphBuffer);b.forEach(function(w){s.push(w)}),o.push(y)});for(var l=VIe(t,s,i.nodeR0),u=zIe(l.width,l.height,i.pixelGroupSize),c=[],f=[],d=0;d<i.maxMarchingIterations;d++)if(WIe(t,e,s,l,u,i),c=[],f=[],!!new BIe(c,u,i.threshold).march()){var h=c.map(function(y){return{x:Math.round(y.x*i.pixelGroupSize+l.minX),y:Math.round(y.y*i.pixelGroupSize+l.minY)}});if(h){var v=h.length;if(i.skip>1)for(v=Math.floor(h.length/i.skip);v<3&&i.skip>1;)i.skip-=1,v=Math.floor(h.length/i.skip);for(var p=0,g=0;g<v;g+=1,p+=i.skip)f.push({x:h[p].x,y:h[p].y})}var m=function(){for(var b=0,w=t;b<w.length;b++){var S=w[b],E=f.map(function(_){return[_.x,_.y]});if(!cw(E,S.getBBox().centerX,S.getBBox().centerY))return!1}return!0};if(f&&m())return f;if(i.threshold*=.9,d<=i.maxMarchingIterations*.5)i.memberInfluenceFactor*=1.2,i.edgeInfluenceFactor*=1.2;else if(i.nonMemberInfluenceFactor!==0&&e.length>0)i.nonMemberInfluenceFactor*=.8;else break}return f};function VIe(r,t,e){var n={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},i=[];r.forEach(function(l){i.push(l.getBBox())}),t.forEach(function(l){i.push(l.getBBox())});for(var a=0,o=i;a<o.length;a++){var s=o[a];n.minX=(s.minX<n.minX?s.minX:n.minX)-e,n.minY=(s.minY<n.minY?s.minY:n.minY)-e,n.maxX=(s.maxX>n.maxX?s.maxX:n.maxX)+e,n.maxY=(s.maxY>n.maxY?s.maxY:n.maxY)+e}return n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.x=n.minX,n.y=n.minY,n}function WIe(r,t,e,n,i,a){function o(h,v){var p=Math.floor((h-v)/a.pixelGroupSize);return p<0?0:p}function s(h,v){return h*a.pixelGroupSize+v}var l=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),u=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),c=function(v,p){var g=Math.min(o(v.minX,p+n.minX),i.width),m=Math.min(o(v.minY,p+n.minY),i.height),y=Math.min(o(v.maxX,-p+n.minX),i.width),b=Math.min(o(v.maxY,-p+n.minY),i.height);return[g,m,y,b]},f=function(v,p){for(var g=v.getBBox(),m=c(g,a.nodeR1),y=m[0],b=m[1],w=m[2],S=m[3],E=b;E<S;E+=1)for(var _=y;_<w;_+=1)if(!(p<0&&i[_+E*i.width]<=0)){var A=s(_,n.minX),k=s(E,n.minY),T=yZ({x:A,y:k},{x:g.minX,y:g.minY,width:g.width,height:g.height});if(T<Math.pow(a.nodeR1,2)){var I=Math.sqrt(T)-a.nodeR1;i.cells[_+E*i.width]+=p*I*I}}},d=function(v,p){for(var g=v.getBBox(),m=c(g,a.edgeR1),y=m[0],b=m[1],w=m[2],S=m[3],E=b;E<S;E+=1)for(var _=y;_<w;_+=1)if(!(p<0&&i.cells[_+E*i.width]<=0)){var A=s(_,n.minX),k=s(E,n.minY),T=mZ({x:A,y:k},v);if(T<Math.pow(a.edgeR1,2)){var I=Math.sqrt(T)-a.edgeR1;i.cells[_+E*i.width]+=p*I*I}}};a.nodeInfluenceFactor&&r.forEach(function(h){f(h,a.nodeInfluenceFactor/l)}),a.edgeInfluenceFactor&&e.forEach(function(h){d(h,a.edgeInfluenceFactor/u)}),a.negativeNodeInfluenceFactor&&t.forEach(function(h){f(h,a.negativeNodeInfluenceFactor/l)})}function U$(r,t,e,n){var i=r.getBBox(),a=e[0],o=e[1],s=e[2],l=e[3],u={topLeft:{x:i.minX-t,y:i.minY-t},topRight:{x:i.maxX+t,y:i.minY-t},bottomLeft:{x:i.minX-t,y:i.maxY+t},bottomRight:{x:i.maxX+t,y:i.maxY+t}},c=i.height*i.width;function f(v,p){return i.width*((v.y-i.minY+(p.y-i.minY))*.5)}if(o){if(a)return n?u.topLeft:u.bottomRight;if(s)return n?u.bottomLeft:u.topRight;var d=f(o,l);return d<c*.5?o.y>l.y?n?u.topLeft:u.bottomRight:n?u.topRight:u.bottomLeft:o.y<l.y?n?u.bottomLeft:u.topRight:n?u.bottomRight:u.topLeft}if(l){if(a)return n?u.topRight:u.bottomLeft;if(s)return n?u.bottomRight:u.topLeft}var h=f(a,s);return h<c*.5?a.x>s.x?n?u.topLeft:u.bottomRight:n?u.bottomLeft:u.topRight:a.x<s.x?n?u.topRight:u.bottomLeft:n?u.bottomRight:u.topLeft}var jIe=function(){function r(t,e){this.cfg=Kt(this.getDefaultCfg(),e),this.graph=t,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(n){return wt(n)?t.findById(n):n}),this.nonMembers=this.cfg.nonMembers.map(function(n){return wt(n)?t.findById(n):n}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return r.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},r.prototype.setPadding=function(){var t=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+t:10+t,this.cfg.bubbleCfg={nodeR0:this.padding-t,nodeR1:this.padding-t,morphBuffer:this.padding-t}},r.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},r.prototype.calcPath=function(t,e){var n,i,a;switch(this.type){case"round-convex":n=G$(t),a=RD(n.map(function(o){return[o.x,o.y]}),this.padding),i=mw(a);break;case"smooth-convex":n=G$(t),n.length===2?(a=RD(n.map(function(o){return[o.x,o.y]}),this.padding),i=mw(a)):n.length>2&&(a=vQ(n.map(function(o){return[o.x,o.y]}),this.padding),i=PD(a));break;case"bubble":n=HIe(t,e,this.cfg.bubbleCfg),i=n.length>=2&&PD(n);break}return i},r.prototype.render=function(){this.group.addShape("path",{attrs:P({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id,capture:!1}),this.group.toBack()},r.prototype.addMember=function(t){if(!!t){wt(t)&&(t=this.graph.findById(t)),this.members.push(t);var e=this.nonMembers.indexOf(t);return e>-1&&this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},r.prototype.addNonMember=function(t){if(!!t){wt(t)&&(t=this.graph.findById(t)),this.nonMembers.push(t);var e=this.members.indexOf(t);return e>-1&&this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},r.prototype.removeMember=function(t){if(!!t){wt(t)&&(t=this.graph.findById(t));var e=this.members.indexOf(t);return e>-1?(this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0):!1}},r.prototype.removeNonMember=function(t){if(!!t){wt(t)&&(t=this.graph.findById(t));var e=this.nonMembers.indexOf(t);return e>-1?(this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0):!1}},r.prototype.updateData=function(t,e){var n=this;this.group.findById(this.id).remove(),t&&(this.members=t.map(function(i){return wt(i)?n.graph.findById(i):i})),e&&(this.nonMembers=e.map(function(i){return wt(i)?n.graph.findById(i):i})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},r.prototype.updateStyle=function(t){var e=this.group.findById(this.id);e.attr(P({},t))},r.prototype.updateCfg=function(t){var e=this;this.cfg=Kt(this.cfg,t),this.id=this.cfg.id,this.group=this.cfg.group,t.members&&(this.members=this.cfg.members.map(function(n){return wt(n)?e.graph.findById(n):n})),t.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(n){return wt(n)?e.graph.findById(n):n})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},r.prototype.contain=function(t){var e=this,n;wt(t)?n=this.graph.findById(t):n=t;var i,a=n.getKeyShape();if(n.get("type")==="path")i=ID(a.attr("path"));else{var o=a.getCanvasBBox();i=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return i=i.map(function(s){var l=e.graph.getPointByCanvas(s[0],s[1]);return[l.x,l.y]}),vZ(i,ID(this.path))},r.prototype.destroy=function(){this.group.remove(),this.cfg=null},r}(),yx=Ai,YIe="node",XIe=function(r){Ve(t,r);function t(e){var n=r.call(this)||this;return n.cfg=Kt(n.getDefaultCfg(),e),n.init(),n.animating=!1,n.destroyed=!1,n.cfg.enabledStack&&(n.undoStack=new Ly(n.cfg.maxStep),n.redoStack=new Ly(n.cfg.maxStep)),n}return t.prototype.init=function(){this.initCanvas();var e=new SIe(this),n=new WAe(this),i=new RIe(this),a=new DIe(this);this.set({viewController:e,modeController:n,itemController:i,stateController:a}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},t.prototype.initGroups=function(){var e=this.get("canvas");if(!!e){var n=e.get("el"),i=(n||{}).id,a=i===void 0?"g6":i,o=e.addGroup({id:"".concat(a,"-root"),className:Ar.rootContainerClassName});if(this.get("groupByTypes")){var s=o.addGroup({id:"".concat(a,"-edge"),className:Ar.edgeContainerClassName}),l=o.addGroup({id:"".concat(a,"-node"),className:Ar.nodeContainerClassName}),u=o.addGroup({id:"".concat(a,"-combo"),className:Ar.comboContainerClassName});u.toBack(),this.set({nodeGroup:l,edgeGroup:s,comboGroup:u})}var c=o.addGroup({id:"".concat(a,"-delegate"),className:Ar.delegateContainerClassName});this.set({delegateGroup:c}),this.set("group",o)}},t.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},t.prototype.set=function(e,n){return Oa(e)?this.cfg=P(P({},this.cfg),e):this.cfg[e]=n,e==="enabledStack"&&n&&!this.undoStack&&!this.redoStack&&(this.undoStack=new Ly(this.cfg.maxStep),this.redoStack=new Ly(this.cfg.maxStep)),this},t.prototype.get=function(e){var n;return(n=this.cfg)===null||n===void 0?void 0:n[e]},t.prototype.getGroup=function(){return this.get("group")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.getMinZoom=function(){return this.get("minZoom")},t.prototype.setMinZoom=function(e){return this.set("minZoom",e)},t.prototype.getMaxZoom=function(){return this.get("maxZoom")},t.prototype.setMaxZoom=function(e){return this.set("maxZoom",e)},t.prototype.getWidth=function(){return this.get("width")},t.prototype.getHeight=function(){return this.get("height")},t.prototype.clearItemStates=function(e,n){wt(e)&&(e=this.findById(e));var i=this.get("itemController");n||(n=e.get("states")),i.clearItemStates(e,n);var a=this.get("stateController");a.updateStates(e,n,!1)},t.prototype.node=function(e){typeof e=="function"&&this.set("nodeMapper",e)},t.prototype.edge=function(e){typeof e=="function"&&this.set("edgeMapper",e)},t.prototype.combo=function(e){typeof e=="function"&&this.set("comboMapper",e)},t.prototype.findById=function(e){return this.get("itemMap")[e]},t.prototype.find=function(e,n){var i,a=this.get("".concat(e,"s"));return q(a,function(o,s){if(n(o,s))return i=o,i}),i},t.prototype.findAll=function(e,n){var i=[];return q(this.get("".concat(e,"s")),function(a,o){n(a,o)&&i.push(a)}),i},t.prototype.findAllByState=function(e,n){return this.findAll(e,function(i){return i.hasState(n)})},t.prototype.getAnimateCfgWithCallback=function(e){var n=e.animateCfg,i=e.callback,a;if(!n)a={duration:500,callback:i};else if(a=Jr(n),n.callback){var o=n.callback;a.callback=function(){i(),o()}}else a.callback=i;return a},t.prototype.translate=function(e,n,i,a){var o=this,s=this.get("group"),l=Jr(s.getMatrix());if(l||(l=[1,0,0,0,1,0,0,0,1]),i){var u=this.getAnimateCfgWithCallback({animateCfg:a,callback:function(){return o.emit("viewportchange",{action:"translate",matrix:s.getMatrix()})}});oD(s,{x:s.getCanvasBBox().x+e,y:s.getCanvasBBox().y+n},i,u||{duration:500,easing:"easeCubic"})}else l=yx(l,[["t",e,n]]),s.setMatrix(l),this.emit("viewportchange",{action:"translate",matrix:l}),this.autoPaint()},t.prototype.moveTo=function(e,n,i,a){var o=this.get("group");oD(o,{x:e,y:n},i,a||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:o.getMatrix()})},t.prototype.fitView=function(e,n){e&&this.set("fitViewPadding",e);var i=this.get("viewController");n?i.fitViewByRules(n):i.fitView(),this.autoPaint()},t.prototype.fitCenter=function(){var e=this.get("viewController");e.fitCenter(),this.autoPaint()},t.prototype.addBehaviors=function(e,n){var i=this.get("modeController");return i.manipulateBehaviors(e,n,!0),this},t.prototype.removeBehaviors=function(e,n){var i=this.get("modeController");return i.manipulateBehaviors(e,n,!1),this},t.prototype.updateBehavior=function(e,n,i){var a=this.get("modeController");return a.updateBehavior(e,n,i),this},t.prototype.zoom=function(e,n,i,a){var o=this,s=this.get("group"),l=Jr(s.getMatrix()),u=this.get("minZoom"),c=this.get("maxZoom");if(l||(l=[1,0,0,0,1,0,0,0,1]),n?l=yx(l,[["t",-n.x,-n.y],["s",e,e],["t",n.x,n.y]]):l=yx(l,[["s",e,e]]),u&&l[0]<u||c&&l[0]>c)return!1;if(i){var f=Jr(s.getMatrix());f||(f=[1,0,0,0,1,0,0,0,1]);var d=f[0],h=d*e,v=this.getAnimateCfgWithCallback({animateCfg:a,callback:function(){return o.emit("viewportchange",{action:"zoom",matrix:s.getMatrix()})}});s.animate(function(p){if(p===1)f=l;else{var g=bZ(d,h,p)/f[0];n?f=yx(f,[["t",-n.x,-n.y],["s",g,g],["t",n.x,n.y]]):f=yx(f,[["s",g,g]])}return{matrix:f}},v)}else s.setMatrix(l),this.emit("viewportchange",{action:"zoom",matrix:l}),this.autoPaint();return!0},t.prototype.zoomTo=function(e,n,i,a){var o=e/this.getZoom();return this.zoom(o,n,i,a)},t.prototype.focusItem=function(e,n,i){var a=this.get("viewController"),o=!1;n?o=!0:n===void 0&&(o=this.get("animate"));var s={};i?s=i:i===void 0&&(s=this.get("animateCfg")),a.focus(e,o,s),this.autoPaint()},t.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},t.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},t.prototype.getPointByClient=function(e,n){var i=this.get("viewController");return i.getPointByClient(e,n)},t.prototype.getClientByPoint=function(e,n){var i=this.get("viewController");return i.getClientByPoint(e,n)},t.prototype.getPointByCanvas=function(e,n){var i=this.get("viewController");return i.getPointByCanvas(e,n)},t.prototype.getCanvasByPoint=function(e,n){var i=this.get("viewController");return i.getCanvasByPoint(e,n)},t.prototype.getGraphCenterPoint=function(){var e=this.get("group").getCanvasBBox();return{x:(e.minX+e.maxX)/2,y:(e.minY+e.maxY)/2}},t.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},t.prototype.showItem=function(e,n){n===void 0&&(n=!0);var i=this.get("itemController"),a=i.changeItemVisibility(e,!0);if(n&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!1}],u.nodes=[{id:o,visible:!0}];break;case"edge":l.nodes=[{id:o,visible:!1}],u.edges=[{id:o,visible:!0}];break;case"combo":l.nodes=[{id:o,visible:!1}],u.combos=[{id:o,visible:!0}];break}this.pushStack("visible",{before:l,after:u})}},t.prototype.hideItem=function(e,n){n===void 0&&(n=!0);var i=this.get("itemController"),a=i.changeItemVisibility(e,!1);if(n&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!0}],u.nodes=[{id:o,visible:!1}];break;case"edge":l.nodes=[{id:o,visible:!0}],u.edges=[{id:o,visible:!1}];break;case"combo":l.nodes=[{id:o,visible:!0}],u.combos=[{id:o,visible:!1}];break}this.pushStack("visible",{before:l,after:u})}},t.prototype.refreshItem=function(e){var n=this.get("itemController");n.refreshItem(e)},t.prototype.setAutoPaint=function(e){var n=this;n.set("autoPaint",e);var i=n.get("canvas");i.set("autoDraw",e)},t.prototype.remove=function(e,n){n===void 0&&(n=!0),this.removeItem(e,n)},t.prototype.removeItem=function(e,n){n===void 0&&(n=!0);var i=e;if(wt(e)&&(i=this.findById(e)),!i&&wt(e))console.warn("The item to be removed does not exist!");else if(i){var a="";if(i.getType&&(a=i.getType()),n&&this.get("enabledStack")){var o=P(P({},i.getModel()),{itemType:a}),s={};switch(a){case"node":{s.nodes=[o],s.edges=[];for(var l=i.getEdges(),u=l.length-1;u>=0;u--)s.edges.push(P(P({},l[u].getModel()),{itemType:"edge"}));break}case"edge":s.edges=[o];break;case"combo":s.combos=[o];break}this.pushStack("delete",{before:s,after:{}})}if(a==="node"){var c=i.getModel();c.comboId&&this.updateComboTree(i,void 0,!1)}var f=this.get("itemController");if(f.removeItem(i),a==="combo"){var d=fD(this.get("comboTrees"));this.set("comboTrees",d)}}},t.prototype.addItem=function(e,n,i,a){i===void 0&&(i=!0),a===void 0&&(a=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!a);var s=this.get("itemController");if(!VAe(e,n))return!1;if(n.id&&this.findById(n.id)){console.warn("This item exists already. Be sure the id %c".concat(n.id,"%c is unique."),"font-size: 20px; color: red;","");return}var l,u=this.get("comboTrees");if(u||(u=[]),e==="combo"){var c=this.get("itemMap"),f=!1;if(u.forEach(function(w){f||Hh(w,function(S){if(n.parentId===S.id){f=!0;var E=P({id:n.id,depth:S.depth+2},n);S.children?S.children.push(E):S.children=[E],n.depth=E.depth,l=s.addItem(e,n)}var _=c[S.id];return f&&_&&_.getType&&_.getType()==="combo"&&s.updateCombo(_,S.children),!0})}),!f){var d=P({id:n.id,depth:0},n);n.depth=d.depth,u.push(d),l=s.addItem(e,n)}this.set("comboTrees",u)}else if(e==="node"&&wt(n.comboId)&&u){var h=this.findById(n.comboId);h&&h.getType&&h.getType()!=="combo"&&console.warn("'".concat(n.comboId,"' is not a id of a combo in the graph, the node will be added without combo.")),l=s.addItem(e,n);var v=this.get("itemMap"),p=!1,g=!1;(u||[]).forEach(function(w){g||p||Hh(w,function(S){if(S.id===n.id)return g=!0,!1;if(n.comboId===S.id&&!g){p=!0;var E=Jr(n);E.itemType="node",S.children?S.children.push(E):S.children=[E],E.depth=S.depth+1}return p&&v[S.id].getType&&v[S.id].getType()==="combo"&&s.updateCombo(v[S.id],S.children),!0})})}else l=s.addItem(e,n);if(e==="node"&&n.comboId||e==="combo"&&n.parentId){var h=this.findById(n.comboId||n.parentId);h&&h.getType&&h.getType()==="combo"&&h.addChild(l)}var m=this.get("combos");if(m&&m.length>0&&this.sortCombos(),this.autoPaint(),i&&this.get("enabledStack")){var y=P(P({},l.getModel()),{itemType:e}),b={};switch(e){case"node":b.nodes=[y];break;case"edge":b.edges=[y];break;case"combo":b.combos=[y];break}this.pushStack("add",{before:{},after:b})}return l},t.prototype.add=function(e,n,i,a){return i===void 0&&(i=!0),a===void 0&&(a=!0),this.addItem(e,n,i,a)},t.prototype.updateItem=function(e,n,i){var a=this;i===void 0&&(i=!0);var o=this.get("itemController"),s;wt(e)?s=this.findById(e):s=e;var l=Jr(s.getModel()),u="";s.getType&&(u=s.getType());var c=$i([],s.getStates(),!0);if(u==="combo"&&q(c,function(v){return a.setItemState(s,v,!1)}),o.updateItem(s,n),u==="combo"&&q(c,function(v){return a.setItemState(s,v,!0)}),i&&this.get("enabledStack")){var f={nodes:[],edges:[],combos:[]},d={nodes:[],edges:[],combos:[]},h=P({id:l.id},n);switch(u){case"node":f.nodes.push(l),d.nodes.push(h);break;case"edge":f.edges.push(l),d.edges.push(h);break;case"combo":f.combos.push(l),d.combos.push(h);break}u==="node"&&f.nodes.push(l),this.pushStack("update",{before:f,after:d})}},t.prototype.update=function(e,n,i){i===void 0&&(i=!0),this.updateItem(e,n,i)},t.prototype.setItemState=function(e,n,i){wt(e)&&(e=this.findById(e));var a=this.get("itemController");a.setItemState(e,n,i);var o=this.get("stateController");wt(i)?o.updateState(e,"".concat(n,":").concat(i),!0):o.updateState(e,n,i)},t.prototype.priorityState=function(e,n){var i=this.get("itemController");i.priorityState(e,n)},t.prototype.data=function(e){k4(e),this.set("data",e)},t.prototype.render=function(){var e=this;this.set("comboSorted",!1);var n=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!n)throw new Error("data must be defined first");var i=n.nodes,a=i===void 0?[]:i,o=n.edges,s=o===void 0?[]:o,l=n.combos,u=l===void 0?[]:l;if(this.clear(!0),this.emit("beforerender"),q(a,function(g){e.add("node",g,!1,!1)}),u&&u.length!==0){var c=cD(u,a);this.set("comboTrees",c),e.addCombos(u)}q(s,function(g){e.add("edge",g,!1,!1)});var f=e.get("animate");(e.get("fitView")||e.get("fitCenter"))&&e.set("animate",!1);var d=e.get("layoutController");if(d){if(d.layout(h),this.destroyed)return}else e.get("fitView")&&e.fitView(),e.get("fitCenter")&&e.fitCenter(),e.emit("afterrender"),e.set("animate",f);function h(){e.get("fitView")?e.fitView():e.get("fitCenter")&&e.fitCenter(),e.autoPaint(),e.emit("afterrender"),(e.get("fitView")||e.get("fitCenter"))&&e.set("animate",f)}if(!this.get("groupByTypes"))if(u&&u.length!==0)this.sortCombos();else if(n.nodes&&n.edges&&n.nodes.length<n.edges.length){var v=this.getNodes();v.forEach(function(g){g.toFront()})}else{var p=this.getEdges();p.forEach(function(g){g.toBack()})}this.get("enabledStack")&&this.pushStack("render")},t.prototype.read=function(e){this.data(e),this.render()},t.prototype.diffItems=function(e,n,i){var a=this,o,s=this.get("itemMap");q(i,function(l){if(o=s[l.id],o){if(a.get("animate")&&e===YIe){var u=o.getContainer().getMatrix();u||(u=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:u[6],y:u[7]})}a.updateItem(o,l,!1)}else o=a.addItem(e,l,!1);o&&n["".concat(e,"s")].push(o)})},t.prototype.changeData=function(e,n){n===void 0&&(n=!0);var i=this,a=e||i.get("data");if(!k4(a))return this;n&&this.get("enabledStack")&&this.pushStack("changedata",{before:i.save(),after:a}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(g){return i.clearItemStates(g)}),this.getEdges().map(function(g){return i.clearItemStates(g)});var o=this.get("canvas"),s=o.get("localRefresh");o.set("localRefresh",!1),i.get("data")||(i.data(a),i.render());var l=this.get("itemMap"),u={nodes:[],edges:[]},c=a.combos;if(c){var f=cD(c,a.nodes);this.set("comboTrees",f)}else this.set("comboTrees",[]);this.diffItems("node",u,a.nodes),q(l,function(g,m){l[m].getModel().depth=0,!(g.getType&&g.getType()==="edge")&&(g.getType&&g.getType()==="combo"?(delete l[m],g.destroy()):u.nodes.indexOf(g)<0&&(delete l[m],i.remove(g,!1)))});for(var d=this.getCombos(),h=d.length,v=h-1;v>=0;v--)d[v].destroyed&&d.splice(v,1);c&&(i.addCombos(c),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",u,a.edges),q(l,function(g,m){g.getType&&(g.getType()==="node"||g.getType()==="combo")||u.edges.indexOf(g)<0&&(delete l[m],i.remove(g,!1))}),this.set({nodes:u.nodes,edges:u.edges});var p=this.get("layoutController");return p&&(p.changeData(),i.get("animate")&&!p.getLayoutType()?i.positionsAnimate():i.autoPaint()),setTimeout(function(){o.set("localRefresh",s)},16),this},t.prototype.addCombos=function(e){var n=this,i=n.get("comboTrees"),a=this.get("itemController");a.addCombos(i,e)},t.prototype.createCombo=function(e,n){var i=this;this.set("comboSorted",!1);var a="",o;if(!!e){if(wt(e))a=e,o={id:e};else{if(a=e.id,!a){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}o=e}var s=n.map(function(u){var c=i.findById(u),f=c.getModel(),d="";c.getType&&(d=c.getType());var h={id:c.getID(),itemType:d};return d==="combo"?(h.parentId=a,f.parentId=a):d==="node"&&(h.comboId=a,f.comboId=a),h});o.children=s,this.addItem("combo",o,!1),this.set("comboSorted",!1);var l=this.get("comboTrees");(l||[]).forEach(function(u){Hh(u,function(c){return c.id===a?(c.itemType="combo",c.children=s,!1):!0})}),l&&this.sortCombos()}},t.prototype.uncombo=function(e){var n=this,i,a=this,o=e;if(wt(e)&&(o=this.findById(e)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item is not a combo!");return}var s=o.getModel().parentId,l=a.get("comboTrees");l||(l=[]);var u=this.get("itemMap"),c=o.get("id"),f,d=[],h=this.get("combos"),v=this.findById(s);if(l.forEach(function(g){f||Hh(g,function(m){var y;if(m.id===c){f=m;var b=o.getEdges();b.forEach(function(S){n.removeItem(S,!1)});var w=h.indexOf(o);h.splice(w,1),delete u[c],o.destroy(),n.emit("afterremoveitem",{item:o,type:"combo"})}if(s&&f&&m.id===s){v.removeCombo(o),d=m.children;var w=d.indexOf(f);return w!==-1&&d.splice(w,1),(y=f.children)===null||y===void 0||y.forEach(function(E){var _=n.findById(E.id),A=_.getModel();_.getType&&_.getType()==="combo"?(E.parentId=s,delete E.comboId,A.parentId=s,delete A.comboId):_.getType&&_.getType()==="node"&&(E.comboId=s,A.comboId=s),v.addChild(_),d.push(E)}),!1}return!0})}),!s&&f){var p=l.indexOf(f);l.splice(p,1),(i=f.children)===null||i===void 0||i.forEach(function(g){g.parentId=void 0;var m=n.findById(g.id).getModel();delete m.parentId,delete m.comboId,g.itemType!=="node"&&l.push(g)})}},t.prototype.updateCombos=function(){var e=this,n=this,i=this.get("comboTrees"),a=n.get("itemController"),o=n.get("itemMap");(i||[]).forEach(function(s){Hh(s,function(l){if(!l)return!0;var u=o[l.id];if(u&&u.getType&&u.getType()==="combo"){var c=$i([],u.getStates(),!0);q(c,function(f){return e.setItemState(u,f,!1)}),a.updateCombo(u,l.children),q(c,function(f){return e.setItemState(u,f,!0)})}return!0})}),n.sortCombos()},t.prototype.updateCombo=function(e){var n=this,i=this,a=e,o;if(wt(e)&&(a=this.findById(e)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}o=a.get("id");var s=this.get("comboTrees"),l=i.get("itemController"),u=i.get("itemMap");(s||[]).forEach(function(c){Hh(c,function(f){if(!f)return!0;var d=u[f.id];if(o===f.id&&d&&d.getType&&d.getType()==="combo"){var h=$i([],d.getStates(),!0);q(h,function(v){d.getStateStyle(v)&&n.setItemState(d,v,!1)}),l.updateCombo(d,f.children),q(h,function(v){d.getStateStyle(v)&&n.setItemState(d,v,!0)}),o&&(o=f.parentId)}return!0})})},t.prototype.updateComboTree=function(e,n,i){i===void 0&&(i=!0);var a=this;this.set("comboSorted",!1);var o;wt(e)?o=a.findById(e):o=e;var s=o.getModel(),l=s.comboId||s.parentId,u="";if(o.getType&&(u=o.getType()),n&&u==="combo"){var c=this.get("comboTrees"),f=!0,d;if((c||[]).forEach(function(y){d||Ol(y,function(b){if(!d)return b.id===o.getID()&&(d=b),!0})}),Ol(d,function(y){return y.id===n?(f=!1,!1):!0}),!f){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(i&&this.get("enabledStack")){var h={},v={};u==="combo"?(h.combos=[{id:s.id,parentId:s.parentId}],v.combos=[{id:s.id,parentId:n}]):u==="node"&&(h.nodes=[{id:s.id,parentId:s.comboId}],v.nodes=[{id:s.id,parentId:n}]),this.pushStack("updateComboTree",{before:h,after:v})}if(s.parentId||s.comboId){var p=this.findById(s.parentId||s.comboId);p&&p.removeChild(o)}if(u==="combo"?s.parentId=n:u==="node"&&(s.comboId=n),n){var g=this.findById(n);g&&g.addChild(o)}if(l){var g=this.findById(l);g&&g.removeChild(o)}var m=fD(this.get("comboTrees"),s.id,n);this.set("comboTrees",m),this.updateCombos()},t.prototype.save=function(){var e=[],n=[],i=[];return q(this.get("nodes"),function(a){e.push(a.getModel())}),q(this.get("edges"),function(a){n.push(a.getModel())}),q(this.get("combos"),function(a){i.push(a.getModel())}),{nodes:e,edges:n,combos:i}},t.prototype.changeSize=function(e,n){var i=this.get("viewController");return i.changeSize(e,n),this},t.prototype.refresh=function(){var e=this;if(e.emit("beforegraphrefresh"),e.get("animate"))e.positionsAnimate();else{var n=e.get("nodes"),i=e.get("edges"),a=e.get("edges");q(n,function(o){o.refresh()}),q(i,function(o){o.refresh()}),q(a,function(o){o.refresh()})}e.emit("aftergraphrefresh"),e.autoPaint()},t.prototype.getNodes=function(){return this.get("nodes")},t.prototype.getEdges=function(){return this.get("edges")},t.prototype.getCombos=function(){return this.get("combos")},t.prototype.getComboChildren=function(e){if(wt(e)&&(e=this.findById(e)),!e||e.getType&&e.getType()!=="combo"){console.warn("The combo does not exist!");return}return e.getChildren()},t.prototype.positionsAnimate=function(){var e=this;e.emit("beforeanimate");var n=e.get("animateCfg"),i=n.onFrame,a=e.getNodes(),o=a.map(function(l){var u=l.getModel();return{id:u.id,x:u.x,y:u.y}});e.isAnimating()&&e.stopAnimate();var s=e.get("canvas");s.animate(function(l){q(o,function(u){var c=e.findById(u.id);if(!(!c||c.destroyed)){var f=c.get("originAttrs"),d=c.get("model");if(!f){var h=c.getContainer().getMatrix();h||(h=[1,0,0,0,1,0,0,0,1]),f={x:h[6],y:h[7]},c.set("originAttrs",f)}if(i){var v=i(c,l,u,f);c.set("model",Object.assign(d,v))}else d.x=f.x+(u.x-f.x)*l,d.y=f.y+(u.y-f.y)*l}}),e.refreshPositions()},{duration:n.duration,easing:n.easing,callback:function(){q(a,function(u){u.set("originAttrs",null)}),n.callback&&n.callback(),e.emit("afteranimate"),e.animating=!1}})},t.prototype.refreshPositions=function(){var e=this;e.emit("beforegraphrefreshposition");var n=e.get("nodes"),i=e.get("edges"),a=e.get("vedges"),o=e.get("combos"),s,l={};q(n,function(u){s=u.getModel();var c=u.get("originAttrs");if(!(c&&s.x===c.x&&s.y===c.y)){var f=u.updatePosition({x:s.x,y:s.y});l[s.id]=f,s.comboId&&(l[s.comboId]=l[s.comboId]||f)}}),o&&o.length!==0&&e.updateCombos(),q(i,function(u){var c=u.getSource().getModel(),f=u.getTarget();if(!Oa(f)){var d=f.getModel();(l[c.id]||l[d.id]||u.getModel().isComboEdge)&&u.refresh()}}),q(a,function(u){u.refresh()}),e.emit("aftergraphrefreshposition"),e.autoPaint()},t.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},t.prototype.isAnimating=function(){return this.animating},t.prototype.getZoom=function(){var e=this.get("group").getMatrix();return e?e[0]:1},t.prototype.getCurrentMode=function(){var e=this.get("modeController");return e.getMode()},t.prototype.setMode=function(e){var n=this.get("modeController");return n.setMode(e),this},t.prototype.clear=function(e){var n;return e===void 0&&(e=!1),(n=this.get("canvas"))===null||n===void 0||n.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),e||this.emit("afterrender"),this},t.prototype.updateLayout=function(e,n,i){var a=this,o=this.get("layoutController");if(wt(e)&&(e={type:e}),n){var s=i;s||(n==="begin"?s={x:0,y:0}:s={x:this.getWidth()/2,y:this.getHeight()/2}),s=this.getPointByCanvas(s.x,s.y);var l=["force","gForce","fruchterman"];l.includes(e.type)||!e.type&&l.includes(o==null?void 0:o.layoutType)?e.center=[s.x,s.y]:this.once("afterlayout",function(f){var d=a.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];s.x=s.x*d[0]+d[6],s.y=s.y*d[0]+d[7];var h=a.getGroup().getCanvasBBox(),v=h.minX,p=h.maxX,g=h.minY,m=h.maxY,y={x:(v+p)/2,y:(g+m)/2};n==="begin"&&(y.x=v,y.y=g),a.translate(s.x-y.x,s.y-y.y)})}var u=this.get("layout"),c={};Object.assign(c,u,e),this.set("layout",c),o.isLayoutTypeSame(c)&&c.gpuEnabled===u.gpuEnabled?o.updateLayoutCfg(c):o.changeLayout(c)},t.prototype.destroyLayout=function(){var e=this.get("layoutController");e.destroyLayout()},t.prototype.layout=function(){var e=this.get("layoutController"),n=this.get("layout");if(!(!n||!e)){if(n.workerEnabled){e.layout();return}e.layoutMethod?e.relayout(!0):e.layout()}},t.prototype.collapseCombo=function(e){var n=this;if(wt(e)&&(e=this.findById(e)),!e){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:e});var i=e.getModel(),a=this.get("itemController");a.collapseCombo(e),i.collapsed=!0;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],u=this.get("comboTrees"),c=!1;(u||[]).forEach(function(h){c||Ol(h,function(v){if(c&&v.depth<=i.depth)return!1;if(i.id===v.id&&(c=!0),c){var p=n.findById(v.id);p&&p.getType&&p.getType()==="combo"&&(s=s.concat(p.getNodes()),l=l.concat(p.getCombos()))}return!0})});var f={},d=[];o.forEach(function(h){if(!(h.isVisible()&&!h.getModel().isVEdge)){var v=h.getSource(),p=h.getTarget();if((s.includes(v)||l.includes(v))&&!s.includes(p)&&!l.includes(p)||v.getModel().id===i.id){var g=h.getModel();if(g.isVEdge){n.removeItem(h,!1);return}for(var m=p.getModel();!p.isVisible();){if(p=n.findById(m.parentId||m.comboId),!p||!m.parentId&&!m.comboId)return;m=p.getModel()}var y=m.id;if(f["".concat(i.id,"-").concat(y)]){f["".concat(i.id,"-").concat(y)]+=g.size||1;return}var b=n.addItem("vedge",{source:i.id,target:y,isVEdge:!0},!1);f["".concat(i.id,"-").concat(y)]=g.size||1,d.push(b)}else if(!s.includes(v)&&!l.includes(v)&&(s.includes(p)||l.includes(p))||p.getModel().id===i.id){var g=h.getModel();if(g.isVEdge){n.removeItem(h,!1);return}for(var w=v.getModel();!v.isVisible();){if(v=n.findById(w.parentId||w.comboId),!v||!w.parentId&&!w.comboId)return;w=v.getModel()}var S=w.id;if(f["".concat(S,"-").concat(i.id)]){f["".concat(S,"-").concat(i.id)]+=g.size||1;return}var b=n.addItem("vedge",{target:i.id,source:S,isVEdge:!0},!1);f["".concat(S,"-").concat(i.id)]=g.size||1,d.push(b)}}}),d.forEach(function(h){var v=h.getModel();n.updateItem(h,{size:f["".concat(v.source,"-").concat(v.target)]},!1)}),this.emit("aftercollapseexpandcombo",{action:"collapse",item:e})},t.prototype.expandCombo=function(e){var n=this;if(wt(e)&&(e=this.findById(e)),!e||e.getType&&e.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:e});var i=e.getModel(),a=this.get("itemController");a.expandCombo(e),i.collapsed=!1;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],u=this.get("comboTrees"),c=!1;(u||[]).forEach(function(h){c||Ol(h,function(v){if(c&&v.depth<=i.depth)return!1;if(i.id===v.id&&(c=!0),c){var p=n.findById(v.id);p&&p.getType&&p.getType()==="combo"&&(s=s.concat(p.getNodes()),l=l.concat(p.getCombos()))}return!0})});var f={},d={};o.forEach(function(h){if(!(h.isVisible()&&!h.getModel().isVEdge)){var v=h.getSource(),p=h.getTarget(),g=v.get("id"),m=p.get("id");if((s.includes(v)||l.includes(v))&&!s.includes(p)&&!l.includes(p)||g===i.id){if(h.getModel().isVEdge){n.removeItem(h,!1);return}for(var y=p.getModel();!p.isVisible();){if(p=n.findById(y.comboId||y.parentId),!p||!y.parentId&&!y.comboId)return;y=p.getModel()}m=y.id;for(var b=v.getModel();!v.isVisible();){if(v=n.findById(b.comboId||b.parentId),!v||!b.parentId&&!b.comboId)return;if(b.comboId===i.id||b.parentId===i.id)break;b=v.getModel()}if(g=b.id,m){var w="".concat(g,"-").concat(m);if(f[w]){f[w]+=h.getModel().size||1,n.updateItem(d[w],{size:f[w]},!1);return}var S=n.addItem("vedge",{source:g,target:m,isVEdge:!0},!1);f[w]=h.getModel().size||1,d[w]=S}}else if(!s.includes(v)&&!l.includes(v)&&(s.includes(p)||l.includes(p))||m===i.id){if(h.getModel().isVEdge){n.removeItem(h,!1);return}for(var b=v.getModel();!v.isVisible();){if(v=n.findById(b.comboId||b.parentId),!v||!b.parentId&&!b.comboId)return;b=v.getModel()}g=b.id;for(var y=p.getModel();!p.isVisible();){if(p=n.findById(y.comboId||y.parentId),!p||!y.parentId&&!y.comboId)return;if(y.comboId===i.id||y.parentId===i.id)break;y=p.getModel()}if(m=y.id,g){var w="".concat(g,"-").concat(m);if(f[w]){f[w]+=h.getModel().size||1,n.updateItem(d[w],{size:f[w]},!1);return}var S=n.addItem("vedge",{target:m,source:g,isVEdge:!0},!1);f[w]=h.getModel().size||1,d[w]=S}}else(s.includes(v)||l.includes(v))&&(s.includes(p)||l.includes(p))&&v.isVisible()&&p.isVisible()&&h.show()}}),this.emit("aftercollapseexpandcombo",{action:"expand",item:e})},t.prototype.collapseExpandCombo=function(e){if(wt(e)&&(e=this.findById(e)),!(!e||e.getType&&e.getType()!=="combo")){for(var n=e.getModel(),i=this.findById(n.parentId);i;){var a=i.getModel();if(a.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),i=void 0;return}i=this.findById(a.parentId)}var o=n.collapsed;o?this.expandCombo(e):this.collapseCombo(e),this.updateCombo(e)}},t.prototype.sortCombos=function(){var e=this,n=this.get("comboSorted");if(!n){this.set("comboSorted",!0);var i=[],a={},o=this.get("comboTrees");(o||[]).forEach(function(l){Ol(l,function(u){return i[u.depth]?i[u.depth].push(u.id):i[u.depth]=[u.id],a[u.id]=u.depth,!0})});var s=this.getEdges().concat(this.get("vedges"));(s||[]).forEach(function(l){var u=l.getModel(),c=a[u.source]||0,f=a[u.target]||0,d=Math.max(c,f);i[d]?i[d].push(u.id):i[d]=[u.id]}),i.forEach(function(l){if(!(!l||!l.length))for(var u=l.length-1;u>=0;u--){var c=e.findById(l[u]);c&&c.toFront()}})}},t.prototype.getNeighbors=function(e,n){var i=e;return wt(e)&&(i=this.findById(e)),i.getNeighbors(n)},t.prototype.getNodeDegree=function(e,n,i){n===void 0&&(n=void 0),i===void 0&&(i=!1);var a=e;wt(e)&&(a=this.findById(e));var o=this.get("degrees");(!o||i)&&(o=Rd(this.save()),this.set("degrees",o));var s=o[a.getID()],l=0;if(!s)return 0;switch(n){case"in":l=s.inDegree;break;case"out":l=s.outDegree;break;case"all":l=s;break;default:l=s.degree;break}return l},t.prototype.getUndoStack=function(){return this.undoStack},t.prototype.getRedoStack=function(){return this.redoStack},t.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},t.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},t.prototype.pushStack=function(e,n,i){if(e===void 0&&(e="update"),i===void 0&&(i="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var a=n?Jr(n):{before:{},after:Jr(this.save())};i==="redo"?this.redoStack.push({action:e,data:a}):this.undoStack.push({action:e,data:a}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},t.prototype.getAdjMatrix=function(e,n){e===void 0&&(e=!0),n===void 0&&(n=this.get("directed"));var i=this.get("adjMatrix");return(!i||!e)&&(i=Ag(this.save(),n),this.set("adjMatrix",i)),i},t.prototype.getShortestPathMatrix=function(e,n){e===void 0&&(e=!0),n===void 0&&(n=this.get("directed"));var i=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!i||!e)&&(i=Ag(this.save(),n),this.set("adjMatrix",i)),(!a||!e)&&(a=uw(this.save(),n),this.set("shortestPathMatrix",a)),a},t.prototype.on=function(e,n,i){return r.prototype.on.call(this,e,n,i)},t.prototype.destroy=function(){var e,n,i,a,o;this.clear(),this.clearStack(),(e=this.get("itemController"))===null||e===void 0||e.destroy(),(n=this.get("modeController"))===null||n===void 0||n.destroy(),(i=this.get("viewController"))===null||i===void 0||i.destroy(),(a=this.get("stateController"))===null||a===void 0||a.destroy(),(o=this.get("canvas"))===null||o===void 0||o.destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},t.prototype.createHull=function(e){if(!e.members||e.members.length<1){console.warn("Create hull failed! The members is empty.");return}var n=this.get("hullGroup"),i=this.get("hullMap");if(i||(i={},this.set("hullMap",i)),(!n||n.get("destroyed"))&&(n=this.get("group").addGroup({id:"hullGroup"}),n.toBack(),this.set("hullGroup",n)),i[e.id])return console.warn("Existed hull id."),i[e.id];var a=n.addGroup({id:"".concat(e.id,"-container")}),o=new jIe(this,P(P({},e),{group:a})),s=o.id;return i[s]=o,o},t.prototype.getHulls=function(){return this.get("hullMap")},t.prototype.getHullById=function(e){return this.get("hullMap")[e]},t.prototype.removeHull=function(e){var n,i;wt(e)?i=this.getHullById(e):i=e,(n=this.get("hullMap"))===null||n===void 0||delete n[i.id],i.destroy()},t.prototype.removeHulls=function(){var e=this.getHulls();!e||!Object.keys(e).length||(Object.keys(e).forEach(function(n){var i=e[n];i.destroy()}),this.set("hullMap",{}))},t}(wA);function DD(r){return DD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DD(r)}var iy=Ai,H$="-shape",YI="-label",wE=["startArrow","endArrow"],V$={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},qIe={lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},SE={edge:qIe,node:V$,combo:V$},OD="-label-bg",WF={options:{labelCfg:{style:{fontFamily:Ar.windowFontFamily}},descriptionCfg:{style:{fontFamily:Ar.windowFontFamily}}},itemType:"",type:"",getCustomConfig:function(t){return{}},getOptions:function(t,e){return e==="move"||(e==null?void 0:e.includes("bbox"))?{}:Kt({},this.options,this.getCustomConfig(t)||{},t)},draw:function(t,e){e.shapeMap={},this.mergeStyle=this.getOptions(t);var n=this.drawShape(t,e);if(n.set("className",this.itemType+H$),e.shapeMap[this.itemType+H$]=n,t.label){var i=this.drawLabel(t,e);i.set("className",this.itemType+YI),e.shapeMap[this.itemType+YI]=i}return n},afterDraw:function(t,e,n){},drawShape:function(t,e){return null},drawLabel:function(t,e){var n=(this.mergeStyle||this.getOptions(t)||{}).labelCfg,i=n||{},a=this.getLabelStyle(t,i,e),o=a.rotate;delete a.rotate;var s=e.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape",labelRelated:!0});if(e.shapeMap["text-shape"]=s,!isNaN(o)&&o!==""){var l=s.getBBox(),u=[1,0,0,0,1,0,0,0,1];if(a.rotateCenter)switch(a.rotateCenter){case"center":u=iy(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break;case"lefttop":u=iy(u,[["t",-a.x,-a.y],["r",o],["t",a.x,a.y]]);break;case"leftcenter":u=iy(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);break;default:u=iy(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break}else u=iy(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);s.setMatrix(u)}if(a.background){var c=this.drawLabelBg(t,e,s),f=this.itemType+OD;c.set("classname",f),e.shapeMap[f]=c,s.toFront()}return s},drawLabelBg:function(t,e,n){var i=this.options.labelCfg,a=cr({},i,t.labelCfg),o=this.getLabelBgStyleByPosition(n,a),s=e.addShape("rect",{name:"text-bg-shape",attrs:o,labelRelated:!0});return e.shapeMap["text-bg-shape"]=s,s},getLabelStyleByPosition:function(t,e,n){return{text:t.label}},getLabelBgStyleByPosition:function(t,e){return{}},getLabelStyle:function(t,e,n){var i=this.getLabelStyleByPosition(t,e,n),a="".concat(this.itemType,"Label"),o=Ar[a]?Ar[a].style:null;return P(P(P({},o),i),e.style)},getShapeStyle:function(t){return t.style},update:function(t,e,n){this.updateShapeStyle(t,e,n),this.updateLabel(t,e,n)},updateShapeStyle:function(t,e,n){var i,a=e.getContainer(),o=e.getKeyShape(),s=cr({},o.attr(),t.style),l=function(f){var d,h=s[f];if(Oa(h)){var v=((i=a.shapeMap)===null||i===void 0?void 0:i[f])||a.find(function(p){return p.get("name")===f});v==null||v.attr(h)}else o.attr((d={},d[f]=h,d))};for(var u in s)l(u)},updateLabel:function(t,e,n){var i,a;if(t.label||t.label===""){var o=e.getContainer(),s=(this.mergeStyle||this.getOptions({},n)||{}).labelCfg,l=s===void 0?{}:s,u=this.itemType+YI,c=o.shapeMap[u]||o.find(function(w){return w.get("className")===u}),f=this.itemType+OD,d=o.shapeMap[f]||o.find(function(w){return w.get("className")===f});if(c){(!n||n==="bbox|label"||this.itemType==="edge"&&n!=="style")&&(l=Kt(l,t.labelCfg));var v=this.getLabelStyleByPosition(t,l,o),p=(i=t.labelCfg)===null||i===void 0?void 0:i.style,g=P(P({},v),p),m=g.rotate;if(delete g.rotate,!isNaN(m)&&m!==""){var y=[1,0,0,0,1,0,0,0,1];y=iy(y,[["t",-g.x,-g.y],["r",m],["t",g.x,g.y]]),g.matrix=y,c.attr(g)}else((a=c.getMatrix())===null||a===void 0?void 0:a[4])!==1&&c.resetMatrix(),c.attr(g);if(!d)g.background&&(d=this.drawLabelBg(t,o,c),d.set("classname",f),o.shapeMap[f]=d,c.toFront());else if(g.background){var b=this.getLabelBgStyleByPosition(c,l);d.attr(b)}else o.removeChild(d)}else{var h=this.drawLabel(t,o);h.set("className",u),o.shapeMap[u]=h}}},afterUpdate:function(t,e){},setState:function(t,e,n){var i,a,o,s=n.get("keyShape");if(!(!s||s.destroyed)){var l=n.getType(),u=Pd(e)?t:"".concat(t,":").concat(e),c=this.getStateStyle(u,n),f=n.getStateStyle(u);if(!(!f&&!c)){var d=cr({},f||c),h=n.getContainer(),v={x:1,y:1,cx:1,cy:1,matrix:1};if(l==="combo"&&(v.r=1,v.width=1,v.height=1),e){var p=function(N){var G,L=d[N];if(Oa(L)&&!wE.includes(N)){var F=((o=h.shapeMap)===null||o===void 0?void 0:o[N])||h.find(function(W){return W.get("name")===N});F==null||F.attr(L)}else s.attr((G={},G[N]=L,G))};for(var g in d)p(g)}else{var m=U2(n.getCurrentStatesStyle()),y=n.getModel(),b=cr({},y.style,U2(n.getOriginStyle())),w=s.get("name"),S=s.attr(),E={};Object.keys(S).forEach(function(U){if(U!=="img"){var N=S[U];N&&DD(N)==="object"?E[U]=Jr(N):E[U]=N}});var _={},A=function(N){var G=d[N];if(Oa(G)&&!wE.includes(N)){var L=h.shapeMap[N]||h.find(function(H){return H.get("name")===N});if(L){var F=U2(L.attr());q(G,function(H,K){if(N===w&&E[K]&&!v[K]){delete E[K];var ie=b[N][K]||SE[l][K];s.attr(K,ie)}else if(F[K]||F[K]===0){delete F[K];var ee=b[N][K]||SE[l][K];L.attr(K,ee)}}),_[N]=F}}else if(E[N]&&!v[N]){delete E[N];var W=b[N]||(b[w]?b[w][N]:void 0)||SE[l][N];s.attr(N,W)}};for(var k in d)A(k);w?_[w]=E:cr(_,E);for(var g in m)if(!v[g]){var T=m[g];(!Oa(T)||wE.includes(g))&&(w?(cr(b[w],(a={},a[g]=T,a)),delete b[g]):cr(b,(i={},i[g]=T,i)),delete m[g])}var I={};Kt(I,b,_,m);var D=!1,O=function(N){var G,L,F=I[N];if(Oa(F)&&!wE.includes(N)){var W=h.shapeMap[N]||h.find(function(K){return K.get("name")===N});W&&((W.get("type")==="text"||W.get("labelRelated"))&&(delete F.x,delete F.y,delete F.matrix),N===w&&(l==="combo"&&(delete F.r,delete F.width,delete F.height),D=!0),W.attr(F))}else if(!D){var H=F||SE[l][N];l==="combo"?w||s.attr((G={},G[N]=H,G)):s.attr((L={},L[N]=H,L))}};for(var B in I)O(B)}}}},getStateStyle:function(t,e){var n=e.getModel(),i=e.getType(),a=this.getOptions(n),o=a.stateStyles,s=a.style,l=s===void 0?{}:s,u=n.stateStyles?n.stateStyles[t]:o&&o[t];return i==="combo"?Jr(u):cr({},l,u)},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){var e,n,i=(t==null?void 0:t.anchorPoints)||((e=this.getCustomConfig(t))===null||e===void 0?void 0:e.anchorPoints)||((n=this.options)===null||n===void 0?void 0:n.anchorPoints);return i}},KIe={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:Ar.nodeLabel.offset,getSize:function(t){var e,n=((e=this.mergeStyle)===null||e===void 0?void 0:e.size)||t.size||this.getOptions({}).size||Ar.defaultNode.size;return gt(n)&&n.length===1&&(n=[n[0],n[0]]),gt(n)||(n=[n,n]),n},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition;if(n==="center")return{x:0,y:0,text:t.label};var i=e.offset;xt(i)&&(i=this.offset);var a=this.getSize(t),o;switch(n){case"top":o={x:0,y:-a[1]/2-i,textBaseline:"bottom"};break;case"bottom":o={x:0,y:a[1]/2+i,textBaseline:"top"};break;case"left":o={x:-a[0]/2-i,y:0,textAlign:"right"};break;default:o={x:a[0]/2+i,y:0,textAlign:"left"};break}return o.text=t.label,o},getLabelBgStyleByPosition:function(t,e){var n;if(!t)return{};var i=(n=e.style)===null||n===void 0?void 0:n.background;if(!i)return{};var a=t.getBBox(),o=VF(i.padding),s=a.width+o[1]+o[3],l=a.height+o[0]+o[2];return P(P({x:a.minX-o[3],y:a.minY-o[0]},i),{width:s,height:l})},drawShape:function(t,e){var n=this.shapeType,i=this.getShapeStyle(t),a=e.addShape(n,{attrs:i,draggable:!0,name:"node-shape"});return e.shapeMap["node-shape"]=a,a},updateLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,i=e.shapeMap["link-point-left"]||e.find(function(I){return I.get("className")==="link-point-left"}),a=e.shapeMap["link-point-right"]||e.find(function(I){return I.get("className")==="link-point-right"}),o=e.shapeMap["link-point-top"]||e.find(function(I){return I.get("className")==="link-point-top"}),s=e.shapeMap["link-point-bottom"]||e.find(function(I){return I.get("className")==="link-point-bottom"}),l;i&&(l=i.attr()),a&&!l&&(l=a.attr()),o&&!l&&(l=o.attr()),s&&!l&&(l=s.attr()),l||(l=n);var u=cr({},l,t.linkPoints),c=u.fill,f=u.stroke,d=u.lineWidth,h=u.size/2;h||(h=u.r);var v=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},p=v.left,g=v.right,m=v.top,y=v.bottom,b=this.getSize(t),w=b[0],S=b[1],E={r:h,fill:c,stroke:f,lineWidth:d};if(i)!p&&p!==void 0?(i.remove(),delete e.shapeMap["link-point-left"]):i.attr(P(P({},E),{x:-w/2,y:0}));else if(p){var _="link-point-left";e.shapeMap[_]=e.addShape("circle",{attrs:P(P({},E),{x:-w/2,y:0}),className:_,name:_,isAnchorPoint:!0})}if(a)!g&&g!==void 0&&(a.remove(),delete e.shapeMap["link-point-right"]),a.attr(P(P({},E),{x:w/2,y:0}));else if(g){var A="link-point-right";e.shapeMap[A]=e.addShape("circle",{attrs:P(P({},E),{x:w/2,y:0}),className:A,name:A,isAnchorPoint:!0})}if(o)!m&&m!==void 0&&(o.remove(),delete e.shapeMap["link-point-top"]),o.attr(P(P({},E),{x:0,y:-S/2}));else if(m){var k="link-point-top";e.shapeMap[k]=e.addShape("circle",{attrs:P(P({},E),{x:0,y:-S/2}),className:k,name:k,isAnchorPoint:!0})}if(s)!y&&y!==void 0?(s.remove(),delete e.shapeMap["link-point-bottom"]):s.attr(P(P({},E),{x:0,y:S/2}));else if(y){var T="link-point-bottom";e.shapeMap[T]=e.addShape("circle",{attrs:P(P({},E),{x:0,y:S/2}),className:T,name:T,isAnchorPoint:!0})}},updateShape:function(t,e,n,i,a){var o=e.get("keyShape");o.attr(P({},n)),this.updateLabel(t,e,a),i&&this.updateIcon(t,e)},updateIcon:function(t,e){var n=this,i=e.getContainer(),a=(this.mergeStyle||this.getOptions(t)).icon,o=t.icon?t.icon:{show:void 0,text:void 0},s=o.show,l=o.text,u=i.shapeMap["".concat(this.type,"-icon")]||i.find(function(m){return m.get("name")==="".concat(n.type,"-icon")});if(u)if(s||s===void 0){var c=cr({},u.attr(),a),f=c.width,d=f===void 0?20:f,h=c.height,v=h===void 0?20:h;(c.fontFamily==="iconfont"||c.hasOwnProperty("text"))&&(d=0,v=0),u.attr(P(P({},c),{x:-d/2,y:-v/2}))}else u.remove();else if(s){var p="".concat(this.type,"-icon");if(l)i.shapeMap[p]=i.addShape("text",{attrs:P({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},a),className:p,name:p});else{var d=a.width,v=a.height;i.shapeMap[p]=i.addShape("image",{attrs:P(P({},a),{x:-d/2,y:-v/2}),className:p,name:p})}var g=i.shapeMap["node-label"]||i.find(function(m){return m.get("name")==="node-label"});g&&g.toFront()}}},ZIe=P(P({},WF),KIe);_a.registerNode("single-node",ZIe);var CE="edge-shape";function QIe(r){var t=r;return r==="start"?t="end":r==="end"&&(t="start"),t}var JIe={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:Ar.defaultEdge.size,style:{x:0,y:0,stroke:Ar.defaultEdge.style.stroke,lineAppendWidth:Ar.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Ar.edgeLabel.style.fill,fontSize:Ar.edgeLabel.style.fontSize,fontFamily:Ar.windowFontFamily}},stateStyles:P({},Ar.edgeStateStyles)},getPath:function(t){var e=[];return q(t,function(n,i){i===0?e.push(["M",n.x,n.y]):e.push(["L",n.x,n.y])}),e},getShapeStyle:function(t){var e=this.options.style,n={stroke:t.color},i=cr({},e,n,t.style),a=t.size||Ar.defaultEdge.size;t=this.getPathPoints(t);var o=t.startPoint,s=t.endPoint,l=this.getControlPoints(t),u=[o];l&&(u=u.concat(l)),u.push(s);var c=this.getPath(u),f=cr({},Ar.defaultEdge.style,{stroke:Ar.defaultEdge.color,lineWidth:a,path:c},i);return f},updateShapeStyle:function(t,e,n){var i,a=e.getContainer(),o=((i=e.getKeyShape)===null||i===void 0?void 0:i.call(e))||a.shapeMap["edge-shape"],s=t.size;t=this.getPathPoints(t);var l=t.startPoint,u=t.endPoint,c=this.getControlPoints(t),f=[l];c&&(f=f.concat(c)),f.push(u);var d=o.attr(),h=t.style||{};h.stroke===void 0&&(h.stroke=t.color);var v=t.sourceNode,p=t.targetNode,g={radius:h.radius};c||(g={source:v,target:p,offset:h.offset,radius:h.radius});var m=this.getPath(f,g),y={};n==="move"?y={path:m}:(d.endArrow&&h.endArrow===!1&&(t.style.endArrow={path:""}),d.startArrow&&h.startArrow===!1&&(t.style.startArrow={path:""}),y=P({},t.style),y.lineWidth===void 0&&(y.lineWdith=(ir(s)?s:s==null?void 0:s[0])||d.lineWidth),y.path===void 0&&(y.path=m),y.stroke===void 0&&(y.stroke=d.stroke||t.color)),o&&o.attr(y)},getLabelStyleByPosition:function(t,e,n){var i=e.position||this.labelPosition,a={},o=n==null?void 0:n.shapeMap[CE],s;i==="start"?s=0:i==="end"?s=1:s=.5;var l=e.refX||this.refX,u=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return a.x=t.startPoint.x+l,a.y=t.startPoint.y+u,a.text=t.label,a;var c;xt(e.autoRotate)?c=this.labelAutoRotate:c=e.autoRotate;var f=SZ(o,s,l,u,c);return a.x=f.x,a.y=f.y,a.rotate=f.rotate,a.textAlign=this._getTextAlign(i,f.angle),a.text=t.label,a},getLabelBgStyleByPosition:function(t,e){if(!t)return{};var n=t.getBBox(),i=e.style&&e.style.background;if(!i)return{};var a=i.padding,o=n.width+a[1]+a[3],s=n.height+a[0]+a[2],l=P(P({},i),{width:o,height:s,x:n.minX-a[3],y:n.minY-a[0],matrix:[1,0,0,0,1,0,0,0,1]}),u;return xt(e.autoRotate)?u=this.labelAutoRotate:u=e.autoRotate,u&&(l.matrix=t.attr("matrix")||[1,0,0,0,1,0,0,0,1]),l},_getTextAlign:function(t,e){var n="center";return e?(e=e%(Math.PI*2),t!=="center"&&(e>=0&&e<=Math.PI/2||e>=3/2*Math.PI&&e<2*Math.PI?n=t:n=QIe(t)),n):t},getControlPoints:function(t){return t.controlPoints},getPathPoints:function(t){return t},drawShape:function(t,e){var n=this.getShapeStyle(t),i=e.addShape("path",{className:CE,name:CE,attrs:n});return e.shapeMap[CE]=i,i},drawLabel:function(t,e){var n=this.options.labelCfg,i=Kt({},n,t.labelCfg),a=this.getLabelStyle(t,i,e),o=a.rotate;delete a.rotate;var s=e.addShape("text",{attrs:a,name:"text-shape",labelRelated:!0});if(e.shapeMap["text-shape"]=s,!isNaN(o)&&o!==""&&s.rotateAtStart(o),a.background){var l=this.drawLabelBg(t,e,s,a,o),u=this.itemType+OD;l.set("classname",u),e.shapeMap[u]=l,s.toFront()}return s},drawLabelBg:function(t,e,n,i,a){var o=this.options.labelCfg,s=Kt({},o,t.labelCfg),l=this.getLabelBgStyleByPosition(n,s),u=e.addShape("rect",{name:"text-bg-shape",attrs:l,labelRelated:!0});return e.shapeMap["text-bg-shape"]=u,u}},ePe=P(P({},WF),JIe);_a.registerEdge("single-edge",ePe);_a.registerEdge("line",{getControlPoints:function(){}},"single-edge");_a.registerEdge("spline",{getPath:function(t){var e=hQ(t);return e}},"single-edge");_a.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint,i={x:(e.x+n.x)/2,y:(e.y+n.y)/2},a,o;if(t.controlPoints!==void 0){if(o=t.controlPoints[0],a=aD(e,o,n),e.x<=n.x&&e.y>n.y?this.clockwise=a.x>o.x?0:1:e.x<=n.x&&e.y<n.y?this.clockwise=a.x>o.x?1:0:e.x>n.x&&e.y<=n.y?this.clockwise=a.y<o.y?0:1:this.clockwise=a.y<o.y?1:0,(o.x-e.x)/(o.y-e.y)===(n.x-e.x)/(n.y-e.y))return[]}else{t.curveOffset===void 0&&(t.curveOffset=this.curveOffset),gt(t.curveOffset)&&(t.curveOffset=t.curveOffset[0]),t.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:n.x-e.x,y:n.y-e.y},l=Math.atan2(s.y,s.x);o={x:t.curveOffset*Math.cos(-Math.PI/2+l)+i.x,y:t.curveOffset*Math.sin(-Math.PI/2+l)+i.y},a=aD(e,o,n)}var u=F_(e,a),c=[{x:u,y:u}];return c},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),t.length===2?e.push(["L",t[1].x,t[1].y]):e.push(["A",t[1].x,t[1].y,0,0,this.clockwise,t[2].x,t[2].y]),e}},"single-edge");_a.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(t){var e=t.controlPoints;if(!e||!e.length){var n=t.startPoint,i=t.endPoint;t.curveOffset===void 0&&(t.curveOffset=this.curveOffset),t.curvePosition===void 0&&(t.curvePosition=this.curvePosition),gt(this.curveOffset)&&(t.curveOffset=t.curveOffset[0]),gt(this.curvePosition)&&(t.curvePosition=t.curveOffset[0]);var a=H_(n,i,t.curvePosition,t.curveOffset);e=[a]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["Q",t[1].x,t[1].y,t[2].x,t[2].y]),e}},"single-edge");_a.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(t){var e=t.controlPoints;if(t.curveOffset===void 0&&(t.curveOffset=this.curveOffset),t.curvePosition===void 0&&(t.curvePosition=this.curvePosition),ir(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),ir(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]),!e||!e.length||e.length<2){var n=t.startPoint,i=t.endPoint,a=H_(n,i,t.curvePosition[0],t.curveOffset[0]),o=H_(n,i,t.curvePosition[1],t.curveOffset[1]);e=[a,o]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]),e}},"single-edge");_a.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;t.curvePosition===void 0&&(t.curvePosition=this.curvePosition),t.curveOffset===void 0&&(t.curveOffset=this.curveOffset),t.minCurveOffset===void 0&&(t.minCurveOffset=this.minCurveOffset),ir(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),ir(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),ir(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]);var i=n.y-e.y,a=[0,0];t.curveOffset?a=t.curveOffset:Math.abs(i)<Math.abs(t.minCurveOffset[0])&&(a=t.minCurveOffset);var o={x:e.x,y:e.y+i*this.curvePosition[0]+a[0]},s={x:n.x,y:n.y-i*this.curvePosition[1]+a[1]};return[o,s]}},"cubic");_a.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;t.curvePosition===void 0&&(t.curvePosition=this.curvePosition),t.curveOffset===void 0&&(t.curveOffset=this.curveOffset),t.minCurveOffset===void 0&&(t.minCurveOffset=this.minCurveOffset),ir(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),ir(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),ir(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]);var i=n.x-e.x,a=[0,0];t.curveOffset?a=t.curveOffset:Math.abs(i)<Math.abs(t.minCurveOffset[0])&&(a=t.minCurveOffset);var o={x:e.x+i*this.curvePosition[0]+a[0],y:e.y},s={x:n.x-i*this.curvePosition[1]+a[1],y:n.y},l=[o,s];return l}},"cubic");_a.registerEdge("loop",{getPathPoints:function(t){return wZ(t)},getControlPoints:function(t){return t.controlPoints},afterDraw:function(t){t.controlPoints=void 0},afterUpdate:function(t){t.controlPoints=void 0}},"cubic");var tPe={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:Ar.comboLabel.refX,refY:Ar.comboLabel.refY,options:{style:{stroke:Ar.defaultCombo.style.stroke,fill:Ar.defaultCombo.style.fill,lineWidth:Ar.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ar.comboLabel.style.fill,fontSize:Ar.comboLabel.style.fontSize,fontFamily:Ar.windowFontFamily}},stateStyles:P({},Ar.comboStateStyles)},getSize:function(t){var e=Jr(t.size||this.options.size||Ar.defaultCombo.size);return gt(e)&&e.length===1&&(e=[e[0],e[0]]),gt(e)||(e=[e,e]),e},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,i=t.style,a=t.padding||this.options.padding;gt(a)&&(a=a[0]);var o=e.refX,s=e.refY;xt(o)&&(o=this.refX),xt(s)&&(s=this.refY);var l=this.getSize(t),u=Math.max(i.r,l[0]/2)||l[0]/2,c=u+a,f;switch(n){case"top":f={x:0,y:-c-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":f={x:0,y:c+s,textBaseline:"bottom",textAlign:"center"};break;case"left":f={x:-c+o,y:0,textAlign:"left"};break;case"center":f={x:0,y:0,text:t.label,textAlign:"center"};break;default:f={x:c+o,y:0,textAlign:"right"};break}return f.text=t.label,f},drawShape:function(t,e){var n=this.shapeType,i=this.getShapeStyle(t),a=e.addShape(n,{attrs:i,draggable:!0,name:"combo-shape"});return a},updateShape:function(t,e,n){var i=e.get("keyShape"),a=t.animate===void 0?this.options.animate:t.animate;a&&i.animate?i.animate(n,{duration:200,easing:"easeLinear"}):i.attr(P({},n)),this.updateLabel(t,e)}},rPe=P(P({},WF),tPe);_a.registerCombo("single-combo",rPe);_a.registerCombo("circle",{options:{size:[Ar.defaultCombo.size[0],Ar.defaultCombo.size[0]],padding:Ar.defaultCombo.padding[0],animate:!0,style:{stroke:Ar.defaultCombo.style.stroke,fill:Ar.defaultCombo.style.fill,lineWidth:Ar.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ar.comboLabel.style.fill,fontSize:Ar.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:P({},Ar.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(t,e){var n=this.getShapeStyle(t);delete n.height,delete n.width;var i=e.addShape("circle",{attrs:n,className:"circle-combo",name:"circle-combo",draggable:!0});return i},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;gt(n)&&(n=n[0]);var i={stroke:t.color},a=cr({},e,i,t.style),o;if(t.fixSize)o=ir(t.fixSize)?t.fixSize:t.fixSize[0];else{var s=this.getSize(t);!ir(a.r)||isNaN(a.r)?o=s[0]/2||Ar.defaultCombo.style.r:o=Math.max(a.r,s[0]/2)||s[0]/2}a.r=o+n;var l=P({x:0,y:0},a);return t.style?t.style.r=o:t.style={r:o},l},update:function(t,e){var n=this.getSize(t),i=t.padding||this.options.padding;gt(i)&&(i=i[0]);var a=Jr(t.style),o;t.fixSize?o=ir(t.fixSize)?t.fixSize:t.fixSize[0]:o=Math.max(a.r,n[0]/2)||n[0]/2,a.r=o+i;var s=e.get("sizeCache");s&&(s.r=a.r);var l={stroke:t.color},u=e.get("keyShape"),c=cr({},u.attr(),l,a);t.style?t.style.r=o:t.style={r:o},this.updateShape(t,e,c,!0)}},"single-combo");_a.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:Ar.defaultCombo.style.stroke,fill:Ar.defaultCombo.style.fill,lineWidth:Ar.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ar.comboLabel.style.fill,fontSize:Ar.comboLabel.style.fontSize,fontFamily:Ar.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:P({},Ar.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(t,e){var n=this.getShapeStyle(t),i=e.addShape("rect",{attrs:n,className:"rect-combo",name:"rect-combo",draggable:!0});return i},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,i=t.style,a=t.padding||this.options.padding;ir(a)&&(a=[a,a,a,a]);var o=e.refX,s=e.refY;xt(o)&&(o=this.refX),xt(s)&&(s=this.refY);var l=i.width/2+a[3],u=i.height/2+a[0],c;switch(n){case"top":c={x:0-l+o,y:0-u+s,textBaseline:"top",textAlign:"left"};break;case"bottom":c={x:0,y:u+s,textBaseline:"bottom",textAlign:"center"};break;case"left":c={x:0-l+s,y:0,textAlign:"left"};break;case"center":c={x:0,y:0,text:t.label,textAlign:"center"};break;default:c={x:l+o,y:0,textAlign:"right"};break}return c.text=t.label,c},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;ir(n)&&(n=[n,n,n,n]);var i={stroke:t.color},a=cr({},e,i,t.style),o=this.getSize(t),s,l,u=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;u?ir(u)?(s=u,l=u):(s=u[0],l=u[1]):(!ir(a.width)||isNaN(a.width)?s=o[0]||Ar.defaultCombo.style.width:s=Math.max(a.width,o[0])||o[0],!ir(a.height)||isNaN(a.height)?l=o[1]||Ar.defaultCombo.style.height:l=Math.max(a.height,o[1])||o[1]);var c=-s/2-n[3],f=-l/2-n[0];a.width=s+n[1]+n[3],a.height=l+n[0]+n[2];var d=P({x:c,y:f},a);return t.style?(t.style.width=s,t.style.height=l):t.style={width:s,height:l},d},update:function(t,e){var n=this.getSize(t),i=t.padding||this.options.padding;ir(i)&&(i=[i,i,i,i]);var a=Jr(t.style),o,s,l=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;l?ir(l)?(o=l,s=l):(o=l[0],s=l[1]):(o=Math.max(a.width,n[0])||n[0],s=Math.max(a.height,n[1])||n[1]),a.width=o+i[1]+i[3],a.height=s+i[0]+i[2];var u=e.get("sizeCache");u&&(u.width=a.width,u.height=a.height),a.x=-o/2-i[3],a.y=-s/2-i[0];var c={stroke:t.color},f=e.get("keyShape"),d=cr({},f.attr(),c,a);t.style?(t.style.width=o,t.style.height=s):t.style={width:o,height:s},this.updateShape(t,e,d,!1)},updateShape:function(t,e,n){var i=e.get("keyShape"),a=t.animate===void 0?this.options.animate:t.animate;a&&i.animate?i.animate(n,{duration:200,easing:"easeLinear"}):i.attr(P({},n)),this.updateLabel(t,e)}},"single-combo");_a.registerNode("simple-circle",{options:{size:Ar.defaultNode.size,style:{x:0,y:0,stroke:Ar.defaultNode.style.stroke,fill:Ar.defaultNode.style.fill,lineWidth:Ar.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ar.nodeLabel.style.fill,fontSize:Ar.nodeLabel.style.fontSize,fontFamily:Ar.windowFontFamily}},stateStyles:P({},Ar.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",shapeMap:{},drawShape:function(t,e){var n=this.getShapeStyle(t),i="".concat(this.type,"-keyShape"),a=e.addShape("circle",{attrs:n,className:"".concat(this.type,"-keyShape"),name:i,draggable:!0});return e.shapeMap[i]=a,a},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},i=Kt({},e,n),a=this.getSize(t),o=a[0]/2,s=P({x:0,y:0,r:o},i);return s},update:function(t,e,n){var i=this.getSize(t),a={stroke:t.color,r:i[0]/2},o=e.get("keyShape"),s=Kt({},o.attr(),a,t.style);this.updateShape(t,e,s,!0,n)}},"single-node");_a.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:Ar.defaultNode.style.stroke,fill:Ar.defaultNode.style.fill,lineWidth:Ar.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ar.nodeLabel.style.fill,fontSize:Ar.nodeLabel.style.fontSize,fontFamily:Ar.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:P({},Ar.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t),i=e.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return i},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},i=cr({},e,n),a=this.getSize(t),o=i.width||a[0],s=i.height||a[1],l=P({x:-o/2,y:-s/2,width:o,height:s},i);return l},update:function(t,e,n){e.getContainer();var i=(this.mergeStyle||this.getOptions(t)).style,a=this.getSize(t),o=e.get("keyShape");t.size||(a[0]=o.attr("width")||i.width,a[1]=o.attr("height")||i.height);var s={stroke:t.color,x:-a[0]/2,y:-a[1]/2,width:a[0],height:a[1]},l=cr({},i,o.attr(),s);l=cr(l,t.style),this.updateShape(t,e,l,!1,n)}},"single-node");_a.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,labelCfg:{style:{fontFamily:Ar.windowFontFamily}},clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(t,e){var n=this.shapeType,i=this.getShapeStyle(t);delete i.fill;var a=e.addShape(n,{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return this.drawClip(t,a),a},drawClip:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).clipCfg;if(!!n.show){var i=n.type,a=n.x,o=n.y,s=n.style;if(i==="circle"){var l=n.r;e.setClip({type:"circle",attrs:P({r:l,x:a,y:o},s)})}else if(i==="rect"){var u=n.width,c=n.height,f=a-u/2,d=o-c/2;e.setClip({type:"rect",attrs:P({x:f,y:d,width:u,height:c},s)})}else if(i==="ellipse"){var h=n.rx,v=n.ry;e.setClip({type:"ellipse",attrs:P({x:a,y:o,rx:h,ry:v},s)})}else if(i==="polygon"){var p=n.points;e.setClip({type:"polygon",attrs:P({points:p},s)})}else if(i==="path"){var g=n.path;e.setClip({type:"path",attrs:P({path:g},s)})}}},getShapeStyle:function(t){var e=this.mergeStyle||this.getOptions(t),n=e.style,i=e.img,a=this.getSize(t),o=a[0],s=a[1];n&&(o=n.width||a[0],s=n.height||a[1]);var l=P({x:-o/2,y:-s/2,width:o,height:s,img:i},n);return l},updateShapeStyle:function(t,e){var n=e.getContainer(),i="".concat(this.itemType,"-shape"),a=n.shapeMap[i]||n.find(function(s){return s.get("className")===i})||e.getKeyShape(),o=this.getShapeStyle(t);a&&!a.destroyed&&a.attr(o)}},"single-node");var nPe={triangle:function(t,e,n){t===void 0&&(t=10),e===void 0&&(e=15),n===void 0&&(n=0);var i=n*2,a="M ".concat(i,",0 L ").concat(i+e,",-").concat(t/2," L ").concat(i+e,",").concat(t/2," Z");return a},vee:function(t,e,n){t===void 0&&(t=15),e===void 0&&(e=20),n===void 0&&(n=0);var i=n*2,a="M ".concat(i,",0 L ").concat(i+e,",-").concat(t/2,`
        L `).concat(i+2*e/3,",0 L ").concat(i+e,",").concat(t/2," Z");return a},circle:function(t,e){t===void 0&&(t=5),e===void 0&&(e=0);var n=e*2,i="M ".concat(n,`, 0
            a `).concat(t,",").concat(t," 0 1,0 ").concat(t*2,`,0
            a `).concat(t,",").concat(t," 0 1,0 ").concat(-t*2,",0");return i},rect:function(t,e,n){t===void 0&&(t=10),e===void 0&&(e=10),n===void 0&&(n=0);var i=n*2,a="M ".concat(i,",").concat(-t/2,` 
        L `).concat(i+e,",").concat(-t/2,` 
        L `).concat(i+e,",").concat(t/2,` 
        L `).concat(i,",").concat(t/2," Z");return a},diamond:function(t,e,n){t===void 0&&(t=15),e===void 0&&(e=15),n===void 0&&(n=0);var i=n*2,a="M ".concat(i,`,0 
        L `).concat(i+e/2,",").concat(-t/2,` 
        L `).concat(i+e,`,0 
        L `).concat(i+e/2,",").concat(t/2," Z");return a},triangleRect:function(t,e,n,i,a,o){t===void 0&&(t=15),e===void 0&&(e=15),n===void 0&&(n=15),i===void 0&&(i=3),a===void 0&&(a=5),o===void 0&&(o=0);var s=o*2,l=s+e+a,u="M ".concat(s,",0 L ").concat(s+e,",-").concat(t/2," L ").concat(s+e,",").concat(t/2,` Z
            M `).concat(l,", -").concat(n/2,`
            L `).concat(l+i," -").concat(n/2,`
            L `).concat(l+i," ").concat(n/2,`
            L `).concat(l," ").concat(n/2,`
            Z`);return u}},iPe={collapse:function(t,e,n){return[["M",t-n,e],["a",n,n,0,1,0,n*2,0],["a",n,n,0,1,0,-n*2,0],["M",t-n+4,e],["L",t+n-4,e]]},expand:function(t,e,n){return[["M",t-n,e],["a",n,n,0,1,0,n*2,0],["a",n,n,0,1,0,-n*2,0],["M",t-n+4,e],["L",t-n+2*n-4,e],["M",t-n+n,e-n+4],["L",t,e+n-4]]},upTriangle:function(t,e,n){var i=n*Math.cos(Math.PI/6),a=n*Math.sin(Math.PI/6);return[["M",t-i,e+a],["L",t+i,e+a],["L",t,e-n],["Z"]]},downTriangle:function(t,e,n){var i=n*Math.cos(Math.PI/6),a=n*Math.sin(Math.PI/6);return[["M",t-i,e-a],["L",t+i,e-a],["L",t,e+n],["Z"]]}},aPe=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],oPe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",defaultSubjectColors:aPe}),sPe=Ai,ac=P(P(P(P(P(P({},wIe),HAe),FIe),LAe),oPe),{transform:sPe,mat3:OTe}),lPe=function(){function r(t){this.graph=t,this.layoutCfg=t.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return r.prototype.initLayout=function(){},r.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},r.prototype.getLayoutCfgType=function(t){var e=t.type;if(e)return e;var n=t.pipes;return Array.isArray(n)?n.map(function(i){return(i==null?void 0:i.type)||""}):null},r.prototype.isLayoutTypeSame=function(t){var e=this.getLayoutCfgType(t);return Array.isArray(this.layoutType)?this.layoutType.every(function(n,i){return n===e[i]}):(t==null?void 0:t.type)===this.layoutType},r.prototype.refreshLayout=function(){var t=this.graph;!t||(t.get("animate")?t.positionsAnimate():t.refreshPositions())},r.prototype.changeLayout=function(t){this.layoutCfg=t,this.destoryLayoutMethods(),this.layout()},r.prototype.changeData=function(){this.destoryLayoutMethods(),this.layout()},r.prototype.destoryLayoutMethods=function(){var t=this.layoutMethods;t==null||t.forEach(function(e){e.destroy()}),this.layoutMethods=[]},r.prototype.destroyLayout=function(){var t=this.graph;this.destoryLayoutMethods(),t.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},r.prototype.setDataFromGraph=function(){for(var t=[],e=[],n=[],i=[],a=[],o=[],s=[],l=this.graph.getNodes(),u=this.graph.getEdges(),c=this.graph.getCombos(),f=l.length,d=0;d<f;d++){var h=l[d];if(!(!h||h.destroyed)){var v=h.getModel();if(!h.isVisible()){e.push(v);continue}t.push(v)}}for(var p=u.length,d=0;d<p;d++){var g=u[d];if(!(!g||g.destroyed)){var v=g.getModel();if(!g.isVisible()){i.push(v);continue}v.isComboEdge?a.push(v):n.push(v)}}for(var m=c.length,d=0;d<m;d++){var y=c[d];if(!y.destroyed){var v=y.getModel();if(!y.isVisible()){i.push(v);continue}o.push(v)}}return{nodes:t,hiddenNodes:e,edges:n,hiddenEdges:i,combos:o,hiddenCombos:s,comboEdges:a}},r.prototype.reLayoutMethod=function(t,e){var n=this;return new Promise(function(i,a){var o=n.graph,s=e==null?void 0:e.type;e.onLayoutEnd=function(){o.emit("aftersublayout",{type:s}),i()},t.init(n.data),s==="force"&&(t.ticking=!1,t.forceSimulation.stop()),o.emit("beforesublayout",{type:s}),t.execute(),t.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd()})},r.prototype.relayout=function(t){var e=this,n=this,i=n.graph,a=n.layoutMethods,o=n.layoutCfg;if(t){this.data=this.setDataFromGraph();var s=this.data.nodes;if(!s)return!1;this.initPositions(o.center,s)}i.emit("beforelayout");var l=Promise.resolve();a==null||a.forEach(function(u,c){var f=o[c];l=l.then(function(){return e.reLayoutMethod(u,f)})}),l.then(function(){o.onAllLayoutEnd&&o.onAllLayoutEnd()}).catch(function(u){console.warn("relayout failed",u)})},r.prototype.filterLayoutData=function(t,e){var n=t.nodes,i=t.edges,a=xn(t,["nodes","edges"]);if(!n)return t;var o,s;yr(e==null?void 0:e.nodesFilter)?o=e.nodesFilter:o=function(){return!0};var l=n.filter(o);if(yr(e==null?void 0:e.edgesFilter))s=e.edgesFilter;else{var u=l.reduce(function(c,f){return c[f.id]=!0,c},{});s=function(f){return u[f.source]&&u[f.target]}}return P({nodes:l,edges:i.filter(s)},a)},r.prototype.getLayoutBBox=function(t){var e=this.graph,n=xs(e.getNodes(),function(o){return o.getModel().layoutOrder}),i=Object.values(n).map(function(o){var s=sQ(o);return s.size=[s.width,s.height],s}),a=Object.values(xs(t,"layoutOrder"));return{groupNodes:a,layoutNodes:i}},r.prototype.layoutAnimate=function(){},r.prototype.moveToZero=function(){var t=this.graph,e=t.get("data"),n=e.nodes;if(!(n[0].x===void 0||n[0].x===null||V2(n[0].x))){for(var i=[0,0],a=n.length,o=0;o<a;o++){var s=n[o];i[0]+=s.x,i[1]+=s.y}i[0]/=n.length,i[1]/=n.length;for(var o=0;o<a;o++){var s=n[o];s.x-=i[0],s.y-=i[1]}}},r.prototype.initPositions=function(t,e){var n=this.graph;if(!e)return!1;var i=e?e.length:0;if(!!i){var a=n.get("width")*.85,o=n.get("height")*.85,s=Math.ceil(Math.sqrt(i)*(a/o)),l=Math.ceil(i/s),u=a/(s-1),c=o/(l-1);(!isFinite(u)||!u)&&(u=0),(!isFinite(c)||!u)&&(c=0);for(var f=t[0]-a/2,d=t[1]-o/2,h=!0,v=0;v<i;v++){var p=e[v];V2(+p.x)&&(h=!1,p.x=v%s*u+f),V2(+p.y)&&(h=!1,p.y=Math.floor(v/s)*c+d)}return h}},r.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},r}(),uPe=function(){function r(t){this.graph=t,this.destroyed=!1,this.initEvents()}return r}(),V_;(function(r){r.CLICK="click",r.DBLCLICK="dblclick",r.MOUSEDOWN="mousedown",r.MOUDEUP="mouseup",r.CONTEXTMENU="contextmenu",r.MOUSEENTER="mouseenter",r.MOUSEOUT="mouseout",r.MOUSEOVER="mouseover",r.MOUSEMOVE="mousemove",r.MOUSELEAVE="mouseleave",r.DRAGSTART="dragstart",r.DRAGEND="dragend",r.DRAG="drag",r.DRAGENTER="dragenter",r.DRAGLEAVE="dragleave",r.DRAGOVER="dragover",r.DRAGOUT="dragout",r.DDROP="drop",r.KEYUP="keyup",r.KEYDOWN="keydown",r.WHEEL="wheel",r.FOCUS="focus",r.BLUR="blur",r.TOUCHSTART="touchstart",r.TOUCHMOVE="touchmove",r.TOUCHEND="touchend",r.CANVAS_TOUCHSTART="canvas:touchstart",r.CANVAS_TOUCHMOVE="canvas:touchmove",r.CANVAS_TOUCHEND="canvas:touchend",r.NODE_TOUCHSTART="node:touchstart",r.NODE_TOUCHMOVE="node:touchmove",r.NODE_TOUCHEND="node:touchend",r.COMBO_TOUCHSTART="combo:touchstart",r.COMBO_TOUCHMOVE="combo:touchmove",r.COMBO_TOUCHEND="combo:touchend",r.EDGE_TOUCHSTART="edge:touchstart",r.EDGE_TOUCHMOVE="edge:touchmove",r.EDGE_TOUCHEND="edge:touchend",r.NODE_CONTEXTMENU="node:contextmenu",r.NODE_CLICK="node:click",r.NODE_DBLCLICK="node:dblclick",r.NODE_MOUSEDOWN="node:mousedown",r.NODE_MOUSEUP="node:mouseup",r.NODE_MOUSEENTER="node:mouseenter",r.NODE_MOUSELEAVE="node:mouseleave",r.NODE_MOUSEMOVE="node:mousemove",r.NODE_MOUSEOUT="node:mouseout",r.NODE_MOUSEOVER="node:mouseover",r.NODE_DROP="node:drop",r.NODE_DRAGOVER="node:dragover",r.NODE_DRAGENTER="node:dragenter",r.NODE_DRAGLEAVE="node:dragleave",r.NODE_DRAGSTART="node:dragstart",r.NODE_DRAG="node:drag",r.NODE_DRAGEND="node:dragend",r.NODE_TAP="node:tap",r.NODE_PANSTART="node:panstart",r.NODE_PANMOVE="node:panmove",r.NODE_PANEND="node:panend",r.COMBO_CONTEXTMENU="combo:contextmenu",r.COMBO_CLICK="combo:click",r.COMBO_DBLCLICK="combo:dblclick",r.COMBO_MOUSEDOWN="combo:mousedown",r.COMBO_MOUSEUP="combo:mouseup",r.COMBO_MOUSEENTER="combo:mouseenter",r.COMBO_MOUSELEAVE="combo:mouseleave",r.COMBO_MOUSEMOVE="combo:mousemove",r.COMBO_MOUSEOUT="combo:mouseout",r.COMBO_MOUSEOVER="combo:mouseover",r.COMBO_DROP="combo:drop",r.COMBO_DRAGOVER="combo:dragover",r.COMBO_DRAGENTER="combo:dragenter",r.COMBO_DRAGLEAVE="combo:dragleave",r.COMBO_DRAGSTART="combo:dragstart",r.COMBO_DRAG="combo:drag",r.COMBO_DRAGEND="combo:dragend",r.COMBO_TAP="combo:tap",r.COMBO_PANSTART="combo:panstart",r.COMBO_PANMOVE="combo:panmove",r.COMBO_PANEND="combo:panend",r.EDGE_CONTEXTMENU="edge:contextmenu",r.EDGE_CLICK="edge:click",r.EDGE_DBLCLICK="edge:dblclick",r.EDGE_MOUSEDOWN="edge:mousedown",r.EDGE_MOUSEUP="edge:mouseup",r.EDGE_MOUSEENTER="edge:mouseenter",r.EDGE_MOUSELEAVE="edge:mouseleave",r.EDGE_MOUSEMOVE="edge:mousemove",r.EDGE_MOUSEOUT="edge:mouseout",r.EDGE_MOUSEOVER="edge:mouseover",r.EDGE_DROP="edge:drop",r.EDGE_DRAGOVER="edge:dragover",r.EDGE_DRAGENTER="edge:dragenter",r.EDGE_DRAGLEAVE="edge:dragleave",r.CANVAS_CONTEXTMENU="canvas:contextmenu",r.CANVAS_CLICK="canvas:click",r.CANVAS_DBLCLICK="canvas:dblclick",r.CANVAS_MOUSEDOWN="canvas:mousedown",r.CANVAS_MOUSEUP="canvas:mouseup",r.CANVAS_MOUSEENTER="canvas:mouseenter",r.CANVAS_MOUSELEAVE="canvas:mouseleave",r.CANVAS_MOUSEMOVE="canvas:mousemove",r.CANVAS_MOUSEOUT="canvas:mouseout",r.CANVAS_MOUSEOVER="canvas:mouseover",r.CANVAS_DROP="canvas:drop",r.CANVAS_DRAGENTER="canvas:dragenter",r.CANVAS_DRAGLEAVE="canvas:dragleave",r.CANVAS_DRAGSTART="canvas:dragstart",r.CANVAS_DRAG="canvas:drag",r.CANVAS_DRAGEND="canvas:dragend",r.CANVAS_TAP="canvas:tap",r.CANVAS_PANSTART="canvas:panstart",r.CANVAS_PANMOVE="canvas:panmove",r.CANVAS_PANEND="canvas:panend",r.BEFORERENDER="beforerender",r.AFTERRENDER="afterrender",r.BEFOREADDITEM="beforeadditem",r.AFTERADDITEM="afteradditem",r.BEFOREREMOVEITEM="beforeremoveitem",r.AFTERREMOVEITEM="afterremoveitem",r.BEFOREUPDATEITEM="beforeupdateitem",r.AFTERUPDATEITEM="afterupdateitem",r.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",r.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",r.BEFOREITEMSTATECHANGE="beforeitemstatechange",r.AFTERITEMSTATECHANGE="afteritemstatechange",r.BEFOREITEMREFRESH="beforeitemrefresh",r.AFTERITEMREFRESH="afteritemrefresh",r.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",r.AFTERITEMSTATESCLEAR="afteritemstatesclear",r.BEFOREMODECHANGE="beforemodechange",r.AFTERMODECHANGE="aftermodechange",r.BEFORELAYOUT="beforelayout",r.AFTERLAYOUT="afterlayout",r.BEFORECREATEEDGE="beforecreateedge",r.AFTERCREATEEDGE="aftercreateedge",r.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",r.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",r.BEFOREGRAPHREFRESH="beforegraphrefresh",r.AFTERGRAPHREFRESH="aftergraphrefresh",r.BEFOREANIMATE="beforeanimate",r.AFTERANIMATE="afteranimate",r.BEFOREPAINT="beforepaint",r.AFTERPAINT="afterpaint",r.BEFORECOLLAPSEEXPANDCOMBO="beforecollapseexpandcombo",r.AFTERCOLLAPSEEXPANDCOMBO="aftercollapseexpandcombo",r.GRAPHSTATECHANGE="graphstatechange",r.AFTERACTIVATERELATIONS="afteractivaterelations",r.NODESELECTCHANGE="nodeselectchange",r.TOOLTIPCHANGE="tooltipchange",r.WHEELZOOM="wheelzoom",r.VIEWPORTCHANGE="viewportchange",r.DRAGNODEEND="dragnodeend",r.STACKCHANGE="stackchange",r.TAP="tap",r.PINCHSTART="pinchstart",r.PINCHMOVE="pinchmove",r.PANSTART="panstart",r.PANMOVE="panmove",r.PANEND="panend"})(V_||(V_={}));var Ud=_a.registerNode,gQ=_a.registerEdge,cPe=_a.registerCombo,mQ=_K.registerBehavior,dr=Ar,la=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MESSAGE=t.ALGORITHM=void 0;var e={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};t.ALGORITHM=e;var n={SUCCESS:"SUCCESS",FAILURE:"FAILURE"};t.MESSAGE=n});zn(la);la.MESSAGE;la.ALGORITHM;var lS=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(a,o){var s=a.nodes,l=a.edges,u=[],c={};if(!s)throw new Error("invalid nodes data!");return s&&s.forEach(function(f,d){c[f.id]=d;var h=[];u.push(h)}),l&&l.forEach(function(f){var d=f.source,h=f.target,v=c[d],p=c[h];!v&&v!==0||!p&&p!==0||(u[v][p]=1,o||(u[p][v]=1))}),u},n=e;t.default=n});zn(lS);var jF=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LinkedListNode=void 0;var e=function(s,l){return s===l},n=function(){function o(s,l){l===void 0&&(l=null),this.value=s,this.next=l}return o.prototype.toString=function(s){return s?s(this.value):"".concat(this.value)},o}();t.LinkedListNode=n;var i=function(){function o(s){s===void 0&&(s=e),this.head=null,this.tail=null,this.compare=s}return o.prototype.prepend=function(s){var l=new n(s,this.head);return this.head=l,this.tail||(this.tail=l),this},o.prototype.append=function(s){var l=new n(s);return this.head?(this.tail.next=l,this.tail=l,this):(this.head=l,this.tail=l,this)},o.prototype.delete=function(s){if(!this.head)return null;for(var l=null;this.head&&this.compare(this.head.value,s);)l=this.head,this.head=this.head.next;var u=this.head;if(u!==null)for(;u.next;)this.compare(u.next.value,s)?(l=u.next,u.next=u.next.next):u=u.next;return this.compare(this.tail.value,s)&&(this.tail=u),l},o.prototype.find=function(s){var l=s.value,u=l===void 0?void 0:l,c=s.callback,f=c===void 0?void 0:c;if(!this.head)return null;for(var d=this.head;d;){if(f&&f(d.value)||u!==void 0&&this.compare(d.value,u))return d;d=d.next}return null},o.prototype.deleteTail=function(){var s=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,s;for(var l=this.head;l.next;)l.next.next?l=l.next:l.next=null;return this.tail=l,s},o.prototype.deleteHead=function(){if(!this.head)return null;var s=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),s},o.prototype.fromArray=function(s){var l=this;return s.forEach(function(u){return l.append(u)}),this},o.prototype.toArray=function(){for(var s=[],l=this.head;l;)s.push(l),l=l.next;return s},o.prototype.reverse=function(){for(var s=this.head,l=null,u=null;s;)u=s.next,s.next=l,l=s,s=u;this.tail=this.head,this.head=l},o.prototype.toString=function(s){return s===void 0&&(s=void 0),this.toArray().map(function(l){return l.toString(s)}).toString()},o}(),a=i;t.default=a});zn(jF);jF.LinkedListNode;var yQ=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(jF);function n(o){return o&&o.__esModule?o:{default:o}}var i=function(){function o(){this.linkedList=new e.default}return o.prototype.isEmpty=function(){return!this.linkedList.head},o.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},o.prototype.enqueue=function(s){this.linkedList.append(s)},o.prototype.dequeue=function(){var s=this.linkedList.deleteHead();return s?s.value:null},o.prototype.toString=function(s){return this.linkedList.toString(s)},o}(),a=i;t.default=a});zn(yQ);var wa=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueId=t.getOutEdgesNodeId=t.getNeighbors=t.getEdgesByNodeId=void 0;var e=function(s,l,u){l===void 0&&(l=[]);var c=l.filter(function(v){return v.source===s||v.target===s});if(u==="target"){var f=function(p){return p.source===s};return c.filter(f).map(function(v){return v.target})}if(u==="source"){var d=function(p){return p.target===s};return c.filter(d).map(function(v){return v.source})}var h=function(p){return p.source===s?p.target:p.source};return c.map(h)};t.getNeighbors=e;var n=function(s,l){return l.filter(function(u){return u.source===s})};t.getOutEdgesNodeId=n;var i=function(s,l){return l.filter(function(u){return u.source===s||u.target===s})};t.getEdgesByNodeId=i;var a=function(s){s===void 0&&(s=0);var l="".concat(Math.random()).split(".")[1].substr(0,5),u="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(s,"-").concat(l).concat(u)};t.uniqueId=a});zn(wa);wa.uniqueId;wa.getOutEdgesNodeId;wa.getNeighbors;wa.getEdgesByNodeId;var bQ=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(yQ);function n(s){return s&&s.__esModule?s:{default:s}}function i(s){s===void 0&&(s={});var l=s,u=function(){},c=function(){var f={};return function(d){var h=d.next,v=h;return f[v]?!1:(f[v]=!0,!0)}}();return l.allowTraversal=s.allowTraversal||c,l.enter=s.enter||u,l.leave=s.leave||u,l}var a=function(l,u,c,f){f===void 0&&(f=!0);var d=i(c),h=new e.default,v=l.edges,p=v===void 0?[]:v;h.enqueue(u);for(var g="",m=function(){var b=h.dequeue();d.enter({current:b,previous:g}),(0,wa.getNeighbors)(b,p,f?"target":void 0).forEach(function(w){d.allowTraversal({previous:g,current:b,next:w})&&h.enqueue(w)}),d.leave({current:b,previous:g}),g=b};!h.isEmpty();)m()},o=a;t.default=o});zn(bQ);var uS=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,t.detectStrongConnectComponents=t.detectConnectedComponents=void 0;var e=function(o){for(var s=o.nodes,l=s===void 0?[]:s,u=o.edges,c=u===void 0?[]:u,f=[],d={},h=[],v=function y(b){h.push(b),d[b.id]=!0;for(var w=(0,wa.getNeighbors)(b.id,c),S=function(A){var k=w[A];if(!d[k]){var T=l.filter(function(I){return I.id===k});T.length>0&&y(T[0])}},E=0;E<w.length;++E)S(E)},p=0;p<l.length;p++){var g=l[p];if(!d[g.id]){v(g);for(var m=[];h.length>0;)m.push(h.pop());f.push(m)}}return f};t.detectConnectedComponents=e;var n=function(o){for(var s=o.nodes,l=s===void 0?[]:s,u=o.edges,c=u===void 0?[]:u,f=[],d={},h={},v={},p=[],g=0,m=function S(E){h[E.id]=g,v[E.id]=g,g+=1,f.push(E),d[E.id]=!0;for(var _=(0,wa.getNeighbors)(E.id,c,"target").filter(function(D){return l.map(function(O){return O.id}).indexOf(D)>-1}),A=function(O){var B=_[O];if(!h[B]&&h[B]!==0){var U=l.filter(function(N){return N.id===B});U.length>0&&S(U[0]),v[E.id]=Math.min(v[E.id],v[B])}else d[B]&&(v[E.id]=Math.min(v[E.id],h[B]))},k=0;k<_.length;k++)A(k);if(v[E.id]===h[E.id]){for(var T=[];f.length>0;){var I=f.pop();if(d[I.id]=!1,T.push(I),I===E)break}T.length>0&&p.push(T)}},y=0,b=l;y<b.length;y++){var w=b[y];!h[w.id]&&h[w.id]!==0&&m(w)}return p};t.detectStrongConnectComponents=n;function i(a,o){return o?n(a):e(a)}});zn(uS);uS.detectStrongConnectComponents;uS.detectConnectedComponents;var cS=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getOutDegree=t.getInDegree=t.default=void 0;var e=function(s){var l={},u=s.nodes,c=u===void 0?[]:u,f=s.edges,d=f===void 0?[]:f;return c.forEach(function(h){l[h.id]={degree:0,inDegree:0,outDegree:0}}),d.forEach(function(h){l[h.source].degree++,l[h.source].outDegree++,l[h.target].degree++,l[h.target].inDegree++}),l},n=e;t.default=n;var i=function(s,l){var u=e(s);return u[l]?e(s)[l].inDegree:0};t.getInDegree=i;var a=function(s,l){var u=e(s);return u[l]?e(s)[l].outDegree:0};t.getOutDegree=a});zn(cS);cS.getOutDegree;cS.getInDegree;var YF=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;function e(a){a===void 0&&(a={});var o=a,s=function(){},l=function(){var u={};return function(c){var f=c.next;return u[f]?!1:(u[f]=!0,!0)}}();return o.allowTraversal=a.allowTraversal||l,o.enter=a.enter||s,o.leave=a.leave||s,o}function n(a,o,s,l){l.enter({current:o,previous:s});var u=a.edges,c=u===void 0?[]:u;(0,wa.getNeighbors)(o,c,"target").forEach(function(f){l.allowTraversal({previous:s,current:o,next:f})&&n(a,f,o,l)}),l.leave({current:o,previous:s})}function i(a,o,s){n(a,o,"",e(s))}});zn(YF);var fS=un(function(r,t){function e(h){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},e(h)}Object.defineProperty(t,"__esModule",{value:!0}),t.detectAllUndirectedCycle=t.detectAllDirectedCycle=t.detectAllCycles=t.default=void 0;var n=s(YF),i=o(uS);function a(h){if(typeof WeakMap!="function")return null;var v=new WeakMap,p=new WeakMap;return(a=function(m){return m?p:v})(h)}function o(h,v){if(!v&&h&&h.__esModule)return h;if(h===null||e(h)!=="object"&&typeof h!="function")return{default:h};var p=a(v);if(p&&p.has(h))return p.get(h);var g={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in h)if(y!=="default"&&Object.prototype.hasOwnProperty.call(h,y)){var b=m?Object.getOwnPropertyDescriptor(h,y):null;b&&(b.get||b.set)?Object.defineProperty(g,y,b):g[y]=h[y]}return g.default=h,p&&p.set(h,g),g}function s(h){return h&&h.__esModule?h:{default:h}}var l=function(v){var p=null,g=v.nodes,m=g===void 0?[]:g,y={},b={},w={},S={};m.forEach(function(A){b[A.id]=A});for(var E={enter:function(k){var T=k.current,I=k.previous;if(w[T]){p={};for(var D=T,O=I;O!==T;)p[D]=O,D=O,O=y[O];p[D]=O}else w[T]=T,delete b[T],y[T]=I},leave:function(k){var T=k.current;S[T]=T,delete w[T]},allowTraversal:function(k){var T=k.next;return p?!1:!S[T]}};Object.keys(b).length;){var _=Object.keys(b)[0];(0,n.default)(v,_,E)}return p},u=function(v,p,g){var m,y;g===void 0&&(g=!0);for(var b=[],w=(0,i.default)(v,!1),S=0,E=w;S<E.length;S++){var _=E[S];if(!!_.length)for(var A=_[0],k=A.id,T=[A],I=(m={},m[k]=A,m),D=(y={},y[k]=new Set,y);T.length>0;)for(var O=T.pop(),B=O.id,U=(0,wa.getNeighbors)(B,v.edges),N=function(F){var W,H=U[F],K=v.nodes.find(function(he){return he.id===H});if(H===B)b.push((W={},W[H]=O,W));else if(!(H in D))I[H]=O,T.push(K),D[H]=new Set([O]);else if(!D[B].has(K)){for(var ie=!0,ee=[K,O],Q=I[B];D[H].size&&!D[H].has(Q)&&(ee.push(Q),Q!==I[Q.id]);)Q=I[Q.id];if(ee.push(Q),p&&g?(ie=!1,ee.findIndex(function(he){return p.indexOf(he.id)>-1})>-1&&(ie=!0)):p&&!g&&ee.findIndex(function(he){return p.indexOf(he.id)>-1})>-1&&(ie=!1),ie){for(var be={},fe=1;fe<ee.length;fe+=1)be[ee[fe-1].id]=ee[fe];ee.length&&(be[ee[ee.length-1].id]=ee[0]),b.push(be)}D[H].add(O)}},G=0;G<U.length;G+=1)N(G)}return b};t.detectAllUndirectedCycle=u;var c=function(v,p,g){g===void 0&&(g=!0);for(var m=[],y=new Set,b=[],w=[],S={},E={},_=function(Q){for(var be=[Q];be.length>0;){var fe=be.pop();y.has(fe)&&(y.delete(fe),b[fe.id].forEach(function(he){be.push(he)}),b[fe.id].clear())}},A=function ee(Q,be,fe){var he=!1;if(p&&g===!1&&p.indexOf(Q.id)>-1)return he;m.push(Q),y.add(Q);for(var Ee=fe[Q.id],He=0;He<Ee.length;He+=1){var nt=S[Ee[He]];if(nt===be){for(var st={},z=1;z<m.length;z+=1)st[m[z-1].id]=m[z];m.length&&(st[m[m.length-1].id]=m[0]),w.push(st),he=!0}else y.has(nt)||ee(nt,be,fe)&&(he=!0)}if(he)_(Q);else for(var He=0;He<Ee.length;He+=1){var nt=S[Ee[He]];b[nt.id].has(Q)||b[nt.id].add(Q)}return m.pop(),he},k=v.nodes,T=k===void 0?[]:k,I=0;I<T.length;I+=1){var D=T[I],O=D.id;E[O]=I,S[I]=D}if(p&&g)for(var B=function(Q){var be=p[Q];E[T[Q].id]=E[be],E[be]=0,S[0]=T.find(function(fe){return fe.id===be}),S[E[T[Q].id]]=T[Q]},I=0;I<p.length;I++)B(I);for(var U=function(Q){for(var be,fe,he=1/0,Ee=0;Ee<Q.length;Ee+=1)for(var He=Q[Ee],nt=0;nt<He.length;nt++){var st=E[He[nt].id];st<he&&(he=st,fe=Ee)}for(var z=Q[fe],j=[],Ee=0;Ee<z.length;Ee+=1){var X=z[Ee];j[X.id]=[];for(var ae=0,ue=(0,wa.getNeighbors)(X.id,v.edges,"target").filter(function(Le){return z.map(function(se){return se.id}).indexOf(Le)>-1});ae<ue.length;ae++){var Be=ue[ae];Be===X.id&&!(g===!1&&p.indexOf(X.id)>-1)?w.push((be={},be[X.id]=X,be)):j[X.id].push(E[Be])}}return{component:z,adjList:j,minIdx:he}},N=0;N<T.length;){var G=T.filter(function(ee){return E[ee.id]>=N}),L=(0,i.detectStrongConnectComponents)({nodes:G,edges:v.edges}).filter(function(ee){return ee.length>1});if(L.length===0)break;var F=U(L),W=F.minIdx,H=F.adjList,K=F.component;if(K.length>1){K.forEach(function(ee){b[ee.id]=new Set});var ie=S[W];if(p&&g&&p.indexOf(ie.id)===-1)return w;A(ie,ie,H),N=W+1}else break}return w};t.detectAllDirectedCycle=c;var f=function(v,p,g,m){return m===void 0&&(m=!0),p?c(v,g,m):u(v,g,m)};t.detectAllCycles=f;var d=l;t.default=d});zn(fS);fS.detectAllUndirectedCycle;fS.detectAllDirectedCycle;fS.detectAllCycles;var LA=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(s,l,u){for(var c=1/0,f,d=0;d<l.length;d++){var h=l[d].id;!u[h]&&s[h]<=c&&(c=s[h],f=l[d])}return f},n=function(s,l,u,c){var f=s.nodes,d=f===void 0?[]:f,h=s.edges,v=h===void 0?[]:h,p={},g={},m={};d.forEach(function(A,k){var T=A.id;g[T]=1/0,T===l&&(g[T]=0)});for(var y=d.length,b=function(k){var T=e(g,d,p),I=T.id;if(p[I]=!0,g[I]===1/0)return"continue";var D=[];u?D=(0,wa.getOutEdgesNodeId)(I,v):D=(0,wa.getEdgesByNodeId)(I,v),D.forEach(function(O){var B=O.target,U=O.source,N=B===I?U:B,G=c&&O[c]?O[c]:1;g[N]>g[T.id]+G?(g[N]=g[T.id]+G,m[N]=[T.id]):g[N]===g[T.id]+G&&m[N].push(T.id)})},w=0;w<y;w++)b();m[l]=[l];var S={};for(var E in g)g[E]!==1/0&&a(l,E,m,S);var _={};for(var E in S)_[E]=S[E][0];return{length:g,path:_,allPath:S}},i=n;t.default=i;function a(o,s,l,u){if(o===s)return[o];if(u[s])return u[s];for(var c=[],f=0,d=l[s];f<d.length;f++){var h=d[f],v=a(o,h,l,u);if(!v)return;for(var p=0,g=v;p<g.length;p++){var m=g[p];(0,_g.isArray)(m)?c.push((0,M_.__spreadArray)((0,M_.__spreadArray)([],m,!0),[s],!1)):c.push([m,s])}}return u[s]=c,u[s]}});zn(LA);var yw=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.findShortestPath=t.findAllPath=void 0;var e=n(LA);function n(o){return o&&o.__esModule?o:{default:o}}var i=function(s,l,u,c,f){var d=(0,e.default)(s,l,c,f),h=d.length,v=d.path,p=d.allPath;return{length:h[u],path:v[u],allPath:p[u]}};t.findShortestPath=i;var a=function(s,l,u,c){var f;if(l===u)return[[l]];var d=s.edges,h=d===void 0?[]:d,v=[l],p=(f={},f[l]=!0,f),g=[],m=[],y=c?(0,wa.getNeighbors)(l,h,"target"):(0,wa.getNeighbors)(l,h);for(g.push(y);v.length>0&&g.length>0;){var b=g[g.length-1];if(b.length){var w=b.shift();w&&(v.push(w),p[w]=!0,y=c?(0,wa.getNeighbors)(w,h,"target"):(0,wa.getNeighbors)(w,h),g.push(y.filter(function(_){return!p[_]})))}else{var S=v.pop();p[S]=!1,g.pop();continue}if(v[v.length-1]===u){var E=v.map(function(A){return A});m.push(E);var S=v.pop();p[S]=!1,g.pop()}}return m};t.findAllPath=a});zn(yw);yw.findShortestPath;yw.findAllPath;var XF=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(lS);function n(o){return o&&o.__esModule?o:{default:o}}var i=function(s,l){for(var u=(0,e.default)(s,l),c=[],f=u.length,d=0;d<f;d+=1){c[d]=[];for(var h=0;h<f;h+=1)d===h?c[d][h]=0:u[d][h]===0||!u[d][h]?c[d][h]=1/0:c[d][h]=u[d][h]}for(var v=0;v<f;v+=1)for(var d=0;d<f;d+=1)for(var h=0;h<f;h+=1)c[d][h]>c[d][v]+c[v][h]&&(c[d][h]=c[d][v]+c[v][h]);return c},a=i;t.default=a});zn(XF);var xQ=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(lS);function n(o){return o&&o.__esModule?o:{default:o}}var i=function(s,l,u,c){l===void 0&&(l=!1),u===void 0&&(u="weight"),c===void 0&&(c=1e3);var f=s.nodes,d=f===void 0?[]:f,h=s.edges,v=h===void 0?[]:h,p={},g={};d.forEach(function(k,T){var I=(0,wa.uniqueId)();k.clusterId=I,p[I]={id:I,nodes:[k]},g[k.id]={node:k,idx:T}});var m=(0,e.default)(s,l),y={};m.forEach(function(k,T){var I=d[T].id;y[I]={},k.forEach(function(D,O){if(!!D){var B=d[O].id;y[I][B]=D}})});for(var b=0,w=function(){var T=!1;if(d.forEach(function(I){var D={};Object.keys(y[I.id]).forEach(function(W){var H=y[I.id][W],K=g[W].node,ie=K.clusterId;D[ie]||(D[ie]=0),D[ie]+=H});var O=-1/0,B=[];if(Object.keys(D).forEach(function(W){O<D[W]?(O=D[W],B=[W]):O===D[W]&&B.push(W)}),!(B.length===1&&B[0]===I.clusterId)){var U=B.indexOf(I.clusterId);if(U>=0&&B.splice(U,1),B&&B.length){T=!0;var N=p[I.clusterId],G=N.nodes.indexOf(I);N.nodes.splice(G,1);var L=Math.floor(Math.random()*B.length),F=p[B[L]];F.nodes.push(I),I.clusterId=F.id}}}),!T)return"break";b++};b<c;){var S=w();if(S==="break")break}Object.keys(p).forEach(function(k){var T=p[k];(!T.nodes||!T.nodes.length)&&delete p[k]});var E=[],_={};v.forEach(function(k){var T=k.source,I=k.target,D=k[u]||1,O=g[T].node.clusterId,B=g[I].node.clusterId,U="".concat(O,"---").concat(B);if(_[U])_[U].weight+=D,_[U].count++;else{var N={source:O,target:B,weight:D,count:1};_[U]=N,E.push(N)}});var A=[];return Object.keys(p).forEach(function(k){A.push(p[k])}),{clusters:A,clusterEdges:E}},a=i;t.default=a});zn(xQ);var qF=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){function i(a){this.arr=a}return i.prototype.getArr=function(){return this.arr||[]},i.prototype.add=function(a){var o,s=a.arr;if(!((o=this.arr)===null||o===void 0?void 0:o.length))return new i(s);if(!(s==null?void 0:s.length))return new i(this.arr);if(this.arr.length===s.length){var l=[];for(var u in this.arr)l[u]=this.arr[u]+s[u];return new i(l)}},i.prototype.subtract=function(a){var o,s=a.arr;if(!((o=this.arr)===null||o===void 0?void 0:o.length))return new i(s);if(!(s==null?void 0:s.length))return new i(this.arr);if(this.arr.length===s.length){var l=[];for(var u in this.arr)l[u]=this.arr[u]-s[u];return new i(l)}},i.prototype.avg=function(a){var o=[];if(a!==0)for(var s in this.arr)o[s]=this.arr[s]/a;return new i(o)},i.prototype.negate=function(){var a=[];for(var o in this.arr)a[o]=-this.arr[o];return new i(a)},i.prototype.squareEuclideanDistance=function(a){var o,s=a.arr;if(!((o=this.arr)===null||o===void 0?void 0:o.length)||!(s==null?void 0:s.length))return 0;if(this.arr.length===s.length){var l=0;for(var u in this.arr)l+=Math.pow(this.arr[u]-a.arr[u],2);return l}},i.prototype.euclideanDistance=function(a){var o,s=a.arr;if(!((o=this.arr)===null||o===void 0?void 0:o.length)||!(s==null?void 0:s.length))return 0;if(this.arr.length===s.length){var l=0;for(var u in this.arr)l+=Math.pow(this.arr[u]-a.arr[u],2);return Math.sqrt(l)}else console.error("The two vectors are unequal in length.")},i.prototype.normalize=function(){var a=[],o=(0,_g.clone)(this.arr);o.sort(function(c,f){return c-f});var s=o[o.length-1],l=o[0];for(var u in this.arr)a[u]=(this.arr[u]-l)/(s-l);return new i(a)},i.prototype.norm2=function(){var a;if(!((a=this.arr)===null||a===void 0?void 0:a.length))return 0;var o=0;for(var s in this.arr)o+=Math.pow(this.arr[s],2);return Math.sqrt(o)},i.prototype.dot=function(a){var o,s=a.arr;if(!((o=this.arr)===null||o===void 0?void 0:o.length)||!(s==null?void 0:s.length))return 0;if(this.arr.length===s.length){var l=0;for(var u in this.arr)l+=this.arr[u]*a.arr[u];return l}else console.error("The two vectors are unequal in length.")},i.prototype.equal=function(a){var o,s=a.arr;if(((o=this.arr)===null||o===void 0?void 0:o.length)!==(s==null?void 0:s.length))return!1;for(var l in this.arr)if(this.arr[l]!==s[l])return!1;return!0},i}(),n=e;t.default=n});zn(qF);var Kp=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.secondReg=t.dateReg=void 0;var e=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/;t.secondReg=e;var n=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/;t.dateReg=n});zn(Kp);Kp.secondReg;Kp.dateReg;var dS=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getPropertyWeight=t.getAllSortProperties=t.getAllProperties=t.default=void 0;var e=function(l,u){l===void 0&&(l=[]),u===void 0&&(u=100);var c={};l.forEach(function(d){!d.properties||Object.keys(d.properties).forEach(function(h){if(h==="id"||!"".concat(d.properties[h]).match(Kp.secondReg)&&!"".concat(d.properties[h]).match(Kp.dateReg)&&isNaN(Number(d.properties[h]))){c.hasOwnProperty(h)&&delete c[h];return}c.hasOwnProperty(h)?c[h]+=1:c[h]=1})});var f=Object.keys(c).sort(function(d,h){return c[h]-c[d]});return f.length<u?f:f.slice(0,u)};t.getAllSortProperties=e;var n=function(l,u){return u.map(function(c){if(l.hasOwnProperty(c)){if(!isNaN(Number(l[c])))return Number(l[c]);if(l[c].match(Kp.secondReg)||l[c].match(Kp.dateReg))return Number(Date.parse(new Date(l[c])))/1e3}return 0})},i=function(l){for(var u=e(l),c=[],f=0;f<l.length;f++)c[f]=n(l[f].properties,u);return c};t.getPropertyWeight=i;var a=function(l,u){u===void 0&&(u=void 0);var c=[];return l.forEach(function(f){u===void 0&&c.push(f),f[u]!==void 0&&c.push(f[u])}),c};t.getAllProperties=a;var o={getAllSortProperties:e,getPropertyWeight:i,getAllProperties:a};t.default=o});zn(dS);dS.getPropertyWeight;dS.getAllSortProperties;dS.getAllProperties;var W_=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DistanceType=void 0;var e;t.DistanceType=e,function(n){n.EuclideanDistance="euclideanDistance"}(e||(t.DistanceType=e={}))});zn(W_);W_.DistanceType;var hS=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.oneHot=t.getDistance=t.getAllKeyValueMap=t.default=void 0;var e=n(qF);function n(l){return l&&l.__esModule?l:{default:l}}var i=function(u,c,f){var d=[];(c==null?void 0:c.length)?d=c:(u.forEach(function(v){d=d.concat(Object.keys(v))}),d=(0,_g.uniq)(d));var h={};return d.forEach(function(v){var p=[];u.forEach(function(g){g[v]!==void 0&&g[v]!==""&&p.push(g[v])}),p.length&&!(f==null?void 0:f.includes(v))&&(h[v]=(0,_g.uniq)(p))}),h};t.getAllKeyValueMap=i;var a=function(u,c,f){var d=i(u,c,f),h=[];if(!!Object.keys(d).length)return u.forEach(function(v,p){var g=[];if(Object.keys(d).length===1){var m=Object.keys(d)[0],y=d[m];y.every(function(b){return!isNaN(Number(b))})&&(g=[v[m]])}else Object.keys(d).forEach(function(b){for(var w=v[b],S=d[b],E=S.findIndex(function(k){return w===k}),_=[],A=0;A<S.length;A++)A===E?_.push(1):_.push(0);g=g.concat(_)});h[p]=g}),h};t.oneHot=a;var o=function(u,c,f,d){f===void 0&&(f=W_.DistanceType.EuclideanDistance);var h=0;switch(f){case W_.DistanceType.EuclideanDistance:h=new e.default(u).euclideanDistance(new e.default(c));break}return h};t.getDistance=o;var s={getAllKeyValueMap:i,oneHot:a,getDistance:o};t.default=s});zn(hS);hS.oneHot;hS.getDistance;hS.getAllKeyValueMap;var wQ=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=i(lS),n=i(qF);function i(u){return u&&u.__esModule?u:{default:u}}var a=function(c,f,d,h){for(var v=f.length,p=2*h,g=0,m=0;m<v;m++)for(var y=c[m].clusterId,b=0;b<v;b++){var w=c[b].clusterId;if(y===w){var S=f[m][b]||0,E=d[m]||0,_=d[b]||0;g+=S-E*_/p}}return g*=1/p,g},o=function(c,f){c===void 0&&(c=[]);for(var d=c.length,h=new n.default([]),v=0;v<d;v++)h=h.add(new n.default(f[v]));var p=h.avg(d);p.normalize();for(var g=0,v=0;v<d;v++){var m=new n.default(f[v]),y=m.squareEuclideanDistance(p);g+=y}var b=[];c.forEach(function(){b.push([])});for(var v=0;v<d;v++){var m=new n.default(f[v]);c[v].clusterInertial=0;for(var w=0;w<d;w++){if(v===w){b[v][w]=0;continue}var S=new n.default(f[w]);b[v][w]=m.squareEuclideanDistance(S),c[v].clusterInertial+=b[v][w]}}for(var E=0,_=2*d*g,v=0;v<d;v++)for(var A=c[v].clusterId,w=0;w<d;w++){var k=c[w].clusterId;if(!(v===w||A!==k)){var T=c[v].clusterInertial*c[w].clusterInertial/Math.pow(_,2)-b[v][w]/_;E+=T}}return Number(E.toFixed(4))},s=function(c,f,d,h,v,p,g,m,y){f===void 0&&(f=!1),d===void 0&&(d="weight"),h===void 0&&(h=1e-4),v===void 0&&(v=!1),p===void 0&&(p=void 0),g===void 0&&(g=[]),m===void 0&&(m=["id"]),y===void 0&&(y=1);var b=c.nodes,w=b===void 0?[]:b,S=c.edges,E=S===void 0?[]:S,_=[];if(v){w.forEach(function(he,Ee){he.properties=he.properties||{},he.originIndex=Ee});var A=[];w.every(function(he){return he.hasOwnProperty("nodeType")})&&(A=Array.from(new Set(w.map(function(he){return he.nodeType}))),w.forEach(function(he){he.properties.nodeType=A.findIndex(function(Ee){return Ee===he.nodeType})}));var k=(0,dS.getAllProperties)(w,p);_=(0,hS.oneHot)(k,g,m)}var T=1,I={},D={};w.forEach(function(he,Ee){var He=String(T++);he.clusterId=He,I[He]={id:He,nodes:[he]},D[he.id]={node:he,idx:Ee}});var O=(0,e.default)(c,f),B=[],U={},N=0;O.forEach(function(he,Ee){var He=0,nt=w[Ee].id;U[nt]={},he.forEach(function(st,z){if(!!st){He+=st;var j=w[z].id;U[nt][j]=st,N+=st}}),B.push(He)}),N/=2;for(var G=1/0,L=1/0,F=0,W=[],H={};;){v&&w.every(function(he){return he.hasOwnProperty("properties")})?G=a(w,O,B,N)+o(w,_)*y:G=a(w,O,B,N),F===0&&(L=G,W=w,H=I);var K=G>0&&G>L&&G-L<h;if(G>L&&(W=w.map(function(he){return{node:he,clusterId:he.clusterId}}),H=(0,_g.clone)(I),L=G),K||F>100)break;F++,Object.keys(I).forEach(function(he){var Ee=0;E.forEach(function(He){var nt=He.source,st=He.target,z=D[nt].node.clusterId,j=D[st].node.clusterId;(z===he&&j!==he||j===he&&z!==he)&&(Ee=Ee+(He[d]||1))}),I[he].sumTot=Ee}),w.forEach(function(he,Ee){var He=I[he.clusterId],nt=0,st,z=B[Ee]/(2*N),j=0,X=He.nodes;X.forEach(function(ce){var de=D[ce.id].idx;j+=O[Ee][de]||0});var ae=j-He.sumTot*z,ue=X.filter(function(ce){return ce.id!==he.id}),Be=[];ue.forEach(function(ce,de){Be[de]=_[ce.originIndex]});var Ze=o(ue,_)*y,Le=U[he.id];if(Object.keys(Le).forEach(function(ce){var de=D[ce].node,Fe=de.clusterId;if(Fe!==he.clusterId){var Ue=I[Fe],lt=Ue.nodes;if(!(!lt||!lt.length)){var ut=0;lt.forEach(function(mt){var Me=D[mt.id].idx;ut+=O[Ee][Me]||0});var We=ut-Ue.sumTot*z,J=lt.concat([he]),Pe=[];J.forEach(function(mt,Me){Pe[Me]=_[mt.originIndex]});var Ce=o(J,_)*y,ct=We-ae;v&&(ct=We+Ce-(ae+Ze)),ct>nt&&(nt=ct,st=Ue)}}}),nt>0){st.nodes.push(he);var se=he.clusterId;he.clusterId=st.id;var Se=He.nodes.indexOf(he);He.nodes.splice(Se,1);var Y=0,ve=0;E.forEach(function(ce){var de=ce.source,Fe=ce.target,Ue=D[de].node.clusterId,lt=D[Fe].node.clusterId;(Ue===st.id&&lt!==st.id||lt===st.id&&Ue!==st.id)&&(Y=Y+(ce[d]||1)),(Ue===se&&lt!==se||lt===se&&Ue!==se)&&(ve=ve+(ce[d]||1))}),st.sumTot=Y,He.sumTot=ve}})}var ie={},ee=0;Object.keys(H).forEach(function(he){var Ee=H[he];if(!Ee.nodes||!Ee.nodes.length){delete H[he];return}var He=String(ee+1);He!==he&&(Ee.id=He,Ee.nodes=Ee.nodes.map(function(nt){return{id:nt.id,clusterId:He}}),H[He]=Ee,ie[he]=He,delete H[he],ee++)}),W.forEach(function(he){var Ee=he.node,He=he.clusterId;Ee.clusterId=He,Ee.clusterId&&ie[Ee.clusterId]&&(Ee.clusterId=ie[Ee.clusterId])});var Q=[],be={};E.forEach(function(he){var Ee=he.source,He=he.target,nt=he[d]||1,st=D[Ee].node.clusterId,z=D[He].node.clusterId,j="".concat(st,"---").concat(z);if(be[j])be[j].weight+=nt,be[j].count++;else{var X={source:st,target:z,weight:nt,count:1};be[j]=X,Q.push(X)}});var fe=[];return Object.keys(H).forEach(function(he){fe.push(H[he])}),{clusters:fe,clusterEdges:Q}},l=s;t.default=l});zn(wQ);var SQ=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){function i(a){this.count=a.length,this.parent={};for(var o=0,s=a;o<s.length;o++){var l=s[o];this.parent[l]=l}}return i.prototype.find=function(a){for(;this.parent[a]!==a;)a=this.parent[a];return a},i.prototype.union=function(a,o){var s=this.find(a),l=this.find(o);s!==l&&(s<l?(this.parent[o]!==o&&this.union(this.parent[o],a),this.parent[o]=this.parent[a]):(this.parent[a]!==a&&this.union(this.parent[a],o),this.parent[a]=this.parent[o]))},i.prototype.connected=function(a,o){return this.find(a)===this.find(o)},i}(),n=e;t.default=n});zn(SQ);var CQ=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(o,s){return o-s},n=function(){function a(o){o===void 0&&(o=e),this.compareFn=o,this.list=[]}return a.prototype.getLeft=function(o){return 2*o+1},a.prototype.getRight=function(o){return 2*o+2},a.prototype.getParent=function(o){return o===0?null:Math.floor((o-1)/2)},a.prototype.isEmpty=function(){return this.list.length<=0},a.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},a.prototype.delMin=function(){var o=this.top(),s=this.list.pop();return this.list.length>0&&(this.list[0]=s,this.moveDown(0)),o},a.prototype.insert=function(o){if(o!==null){this.list.push(o);var s=this.list.length-1;return this.moveUp(s),!0}return!1},a.prototype.moveUp=function(o){for(var s=this.getParent(o);o&&o>0&&this.compareFn(this.list[s],this.list[o])>0;){var l=this.list[s];this.list[s]=this.list[o],this.list[o]=l,o=s,s=this.getParent(o)}},a.prototype.moveDown=function(o){var s,l=o,u=this.getLeft(o),c=this.getRight(o),f=this.list.length;u!==null&&u<f&&this.compareFn(this.list[l],this.list[u])>0?l=u:c!==null&&c<f&&this.compareFn(this.list[l],this.list[c])>0&&(l=c),o!==l&&(s=[this.list[l],this.list[o]],this.list[o]=s[0],this.list[l]=s[1],this.moveDown(l))},a}(),i=n;t.default=i});zn(CQ);var EQ=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=i(SQ),n=i(CQ);function i(u){return u&&u.__esModule?u:{default:u}}var a=function(c,f){var d=[],h=c.nodes,v=h===void 0?[]:h,p=c.edges,g=p===void 0?[]:p;if(v.length===0)return d;var m=v[0],y=new Set;y.add(m);var b=function(k,T){return f?k.weight-T.weight:0},w=new n.default(b);for((0,wa.getEdgesByNodeId)(m.id,g).forEach(function(A){w.insert(A)});!w.isEmpty();){var S=w.delMin(),E=S.source,_=S.target;y.has(E)&&y.has(_)||(d.push(S),y.has(E)||(y.add(E),(0,wa.getEdgesByNodeId)(E,g).forEach(function(A){w.insert(A)})),y.has(_)||(y.add(_),(0,wa.getEdgesByNodeId)(_,g).forEach(function(A){w.insert(A)})))}return d},o=function(c,f){var d=[],h=c.nodes,v=h===void 0?[]:h,p=c.edges,g=p===void 0?[]:p;if(v.length===0)return d;var m=g.map(function(E){return E});f&&m.sort(function(E,_){return E.weight-_.weight});for(var y=new e.default(v.map(function(E){return E.id}));m.length>0;){var b=m.shift(),w=b.source,S=b.target;y.connected(w,S)||(d.push(b),y.union(w,S))}return d},s=function(c,f,d){var h={prim:a,kruskal:o};return d?h[d](c,f):o(c,f)},l=s;t.default=l});zn(EQ);var _Q=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(cS);function n(o){return o&&o.__esModule?o:{default:o}}var i=function(s,l,u){typeof l!="number"&&(l=1e-6),typeof u!="number"&&(u=.85);for(var c=1,f=0,d=1e3,h=s.nodes,v=h===void 0?[]:h,p=s.edges,g=p===void 0?[]:p,m=v.length,y,b={},w={},S=0;S<m;++S){var E=v[S],_=E.id;b[_]=1/m,w[_]=1/m}for(var A=(0,e.default)(s);d>0&&c>l;){f=0;for(var S=0;S<m;++S){var E=v[S],_=E.id;if(y=0,A[E.id].inDegree===0)b[_]=0;else{for(var k=(0,wa.getNeighbors)(_,g,"source"),T=0;T<k.length;++T){var I=k[T],D=A[I].outDegree;D>0&&(y+=w[I]/D)}b[_]=u*y,f+=b[_]}}f=(1-f)/m,c=0;for(var S=0;S<m;++S){var E=v[S],_=E.id;y=b[_]+f,c+=Math.abs(y-w[_]),w[_]=y}d-=1}return w},a=i;t.default=a});zn(_Q);var ya=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.VACANT_NODE_LABEL=t.VACANT_NODE_ID=t.VACANT_GRAPH_ID=t.VACANT_EDGE_LABEL=t.VACANT_EDGE_ID=t.Node=t.Graph=t.Edge=t.AUTO_EDGE_ID=void 0;var e=-1;t.VACANT_EDGE_ID=e;var n=-1;t.VACANT_NODE_ID=n;var i="-1";t.VACANT_EDGE_LABEL=i;var a="-1";t.VACANT_NODE_LABEL=a;var o=-1;t.VACANT_GRAPH_ID=o;var s="-1";t.AUTO_EDGE_ID=s;var l=function(){function f(d,h,v,p){d===void 0&&(d=e),h===void 0&&(h=n),v===void 0&&(v=n),p===void 0&&(p=i),this.id=d,this.from=h,this.to=v,this.label=p}return f}();t.Edge=l;var u=function(){function f(d,h){d===void 0&&(d=n),h===void 0&&(h=a),this.id=d,this.label=h,this.edges=[],this.edgeMap={}}return f.prototype.addEdge=function(d){this.edges.push(d),this.edgeMap[d.id]=d},f}();t.Node=u;var c=function(){function f(d,h,v){d===void 0&&(d=n),h===void 0&&(h=!0),v===void 0&&(v=!1),this.id=d,this.edgeIdAutoIncrease=h,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=v}return f.prototype.getNodeNum=function(){return this.nodes.length},f.prototype.addNode=function(d,h){if(!this.nodeMap[d]){var v=new u(d,h);this.nodes.push(v),this.nodeMap[d]=v,this.nodeLabelMap[h]||(this.nodeLabelMap[h]=[]),this.nodeLabelMap[h].push(d)}},f.prototype.addEdge=function(d,h,v,p){if((this.edgeIdAutoIncrease||d===void 0)&&(d=this.counter++),!(this.nodeMap[h]&&this.nodeMap[v]&&this.nodeMap[v].edgeMap[d])){var g=new l(d,h,v,p);if(this.edges.push(g),this.edgeMap[d]=g,this.nodeMap[h].addEdge(g),this.edgeLabelMap[p]||(this.edgeLabelMap[p]=[]),this.edgeLabelMap[p].push(g),!this.directed){var m=new l(d,v,h,p);this.nodeMap[v].addEdge(m),this.edgeLabelMap[p].push(m)}}},f}();t.Graph=c});zn(ya);ya.VACANT_NODE_LABEL;ya.VACANT_NODE_ID;ya.VACANT_GRAPH_ID;ya.VACANT_EDGE_LABEL;ya.VACANT_EDGE_ID;ya.Node;ya.Graph;ya.Edge;ya.AUTO_EDGE_ID;var TQ=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){function f(d,h,v,p,g){this.fromNode=d,this.toNode=h,this.nodeEdgeNodeLabel={nodeLabel1:v||ya.VACANT_NODE_LABEL,edgeLabel:p||ya.VACANT_EDGE_LABEL,nodeLabel2:g||ya.VACANT_NODE_LABEL}}return f.prototype.equalTo=function(d){return this.fromNode===d.formNode&&this.toNode===d.toNode&&this.nodeEdgeNodeLabel===d.nodeEdgeNodeLabel},f.prototype.notEqualTo=function(d){return!this.equalTo(d)},f}(),n=function(){function f(){this.rmpath=[],this.dfsEdgeList=[]}return f.prototype.equalTo=function(d){var h=this.dfsEdgeList.length,v=d.length;if(h!==v)return!1;for(var p=0;p<h;p++)if(this.dfsEdgeList[p]!==d[p])return!1;return!0},f.prototype.notEqualTo=function(d){return!this.equalTo(d)},f.prototype.pushBack=function(d,h,v,p,g){return this.dfsEdgeList.push(new e(d,h,v,p,g)),this.dfsEdgeList},f.prototype.toGraph=function(d,h){d===void 0&&(d=ya.VACANT_GRAPH_ID),h===void 0&&(h=!1);var v=new ya.Graph(d,!0,h);return this.dfsEdgeList.forEach(function(p){var g=p.fromNode,m=p.toNode,y=p.nodeEdgeNodeLabel,b=y.nodeLabel1,w=y.edgeLabel,S=y.nodeLabel2;b!==ya.VACANT_NODE_LABEL&&v.addNode(g,b),S!==ya.VACANT_NODE_LABEL&&v.addNode(m,S),b!==ya.VACANT_NODE_LABEL&&S!==b&&v.addEdge(void 0,g,m,w)}),v},f.prototype.buildRmpath=function(){this.rmpath=[];for(var d=void 0,h=this.dfsEdgeList.length,v=h-1;v>=0;v--){var p=this.dfsEdgeList[v],g=p.fromNode,m=p.toNode;g<m&&(d===void 0||m===d)&&(this.rmpath.push(v),d=g)}return this.rmpath},f.prototype.getNodeNum=function(){var d={};return this.dfsEdgeList.forEach(function(h){d[h.fromNode]||(d[h.fromNode]=!0),d[h.toNode]||(d[h.toNode]=!0)}),Object.keys(d).length},f}(),i=function(){function f(d){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!d){for(;d;){var h=d.edge;this.edges.push(h),this.nodesUsed[h.from]=1,this.nodesUsed[h.to]=1,this.edgesUsed[h.id]=1,d=d.preNode}this.edges=this.edges.reverse()}}return f.prototype.hasNode=function(d){return this.nodesUsed[d.id]===1},f.prototype.hasEdge=function(d){return this.edgesUsed[d.id]===1},f}(),a=function(){function f(d){var h=d.graphs,v=d.minSupport,p=v===void 0?2:v,g=d.minNodeNum,m=g===void 0?1:g,y=d.maxNodeNum,b=y===void 0?4:y,w=d.top,S=w===void 0?10:w,E=d.directed,_=E===void 0?!1:E,A=d.verbose,k=A===void 0?!1:A;this.graphs=h,this.dfsCode=new n,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=p,this.top=S,this.directed=_,this.counter=0,this.maxNodeNum=b,this.minNodeNum=m,this.verbose=k,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return f.prototype.findForwardRootEdges=function(d,h){var v=this,p=[],g=d.nodeMap;return h.edges.forEach(function(m){(v.directed||h.label<=g[m.to].label)&&p.push(m)}),p},f.prototype.findBackwardEdge=function(d,h,v,p){if(!this.directed&&h===v)return null;for(var g=d.nodeMap,m=g[v.to],y=m.edges,b=y.length,w=0;w<b;w++){var S=y[w];if(!(p.hasEdge(S)||S.to!==h.from)){if(this.directed){if(g[h.from].label<g[v.to].label||g[h.from].label===g[v.to].label&&h.label<=S.label)return S}else if(h.label<S.label||h.label===S.label&&g[h.to].label<=g[v.to].label)return S}}return null},f.prototype.findForwardPureEdges=function(d,h,v,p){for(var g=[],m=h.to,y=d.nodeMap[m].edges,b=y.length,w=0;w<b;w++){var S=y[w],E=d.nodeMap[S.to];v<=E.label&&!p.hasNode(E)&&g.push(S)}return g},f.prototype.findForwardRmpathEdges=function(d,h,v,p){for(var g=[],m=d.nodeMap,y=m[h.to].label,b=m[h.from],w=b.edges,S=w.length,E=0;E<S;E++){var _=w[E],A=m[_.to].label;h.to===_.to||v>A||p.hasNode(m[_.to])||(h.label<_.label||h.label===_.label&&y<=A)&&g.push(_)}return g},f.prototype.getSupport=function(d){var h={};return d.forEach(function(v){h[v.graphId]||(h[v.graphId]=!0)}),Object.keys(h).length},f.prototype.findMinLabel=function(d){var h=void 0;return Object.keys(d).forEach(function(v){var p=d[v],g=p.nodeLabel1,m=p.edgeLabel,y=p.nodeLabel2;if(!h){h={nodeLabel1:g,edgeLabel:m,nodeLabel2:y};return}(g<h.nodeLabel1||g===h.nodeLabel1&&m<h.edgeLabel||g===h.nodeLabel1&&m===h.edgeLabel&&y<h.nodeLabel2)&&(h={nodeLabel1:g,edgeLabel:m,nodeLabel2:y})}),h},f.prototype.isMin=function(){var d=this,h=this.dfsCode;if(this.verbose&&console.log("isMin checking",h),h.dfsEdgeList.length===1)return!0;var v=this.directed,p=h.toGraph(ya.VACANT_GRAPH_ID,v),g=p.nodeMap,m=new n,y={};p.nodes.forEach(function(E){var _=d.findForwardRootEdges(p,E);_.forEach(function(A){var k=g[A.to],T="".concat(E.label,"-").concat(A.label,"-").concat(k.label);y[T]||(y[T]={projected:[],nodeLabel1:E.label,edgeLabel:A.label,nodeLabel2:k.label});var I={graphId:p.id,edge:A,preNode:null};y[T].projected.push(I)})});var b=this.findMinLabel(y);if(!!b){m.dfsEdgeList.push(new e(0,1,b.nodeLabel1,b.edgeLabel,b.nodeLabel2));var w=function E(_){for(var A=m.buildRmpath(),k=m.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,T=m.dfsEdgeList[A[0]].toNode,I={},D=!1,O=0,B=v?-1:0,U=function(he){if(D)return"break";_.forEach(function(Ee){var He=new i(Ee),nt=d.findBackwardEdge(p,He.edges[A[he]],He.edges[A[0]],He);nt&&(I[nt.label]||(I[nt.label]={projected:[],edgeLabel:nt.label}),I[nt.label].projected.push({graphId:p.id,edge:I,preNode:Ee}),O=m.dfsEdgeList[A[he]].fromNode,D=!0)})},N=A.length-1;N>B;N--){var G=U(N);if(G==="break")break}if(D){var L=d.findMinLabel(I);m.dfsEdgeList.push(new e(T,O,ya.VACANT_NODE_LABEL,L.edgeLabel,ya.VACANT_NODE_LABEL));var F=m.dfsEdgeList.length-1;return d.dfsCode.dfsEdgeList[F]!==m.dfsEdgeList[F]?!1:E(I[L.edgeLabel].projected)}var W={};D=!1;var H=0;_.forEach(function(fe){var he=new i(fe),Ee=d.findForwardPureEdges(p,he.edges[A[0]],k,he);Ee.length>0&&(D=!0,H=T,Ee.forEach(function(He){var nt="".concat(He.label,"-").concat(g[He.to].label);W[nt]||(W[nt]={projected:[],edgeLabel:He.label,nodeLabel2:g[He.to].label}),W[nt].projected.push({graphId:p.id,edge:He,preNode:fe})}))});for(var K=A.length,ie=function(he){if(D)return"break";var Ee=A[he];_.forEach(function(He){var nt=new i(He),st=d.findForwardRmpathEdges(p,nt.edges[Ee],k,nt);st.length>0&&(D=!0,H=m.dfsEdgeList[Ee].fromNode,st.forEach(function(z){var j="".concat(z.label,"-").concat(g[z.to].label);W[j]||(W[j]={projected:[],edgeLabel:z.label,nodeLabel2:g[z.to].label}),W[j].projected.push({graphId:p.id,edge:z,preNode:He})}))})},N=0;N<K;N++){var ee=ie(N);if(ee==="break")break}if(!D)return!0;var Q=d.findMinLabel(W);m.dfsEdgeList.push(new e(H,T+1,ya.VACANT_NODE_LABEL,Q.edgeLabel,Q.nodeLabel2));var be=m.dfsEdgeList.length-1;return h.dfsEdgeList[be]!==m.dfsEdgeList[be]?!1:E(W["".concat(Q.edgeLabel,"-").concat(Q.nodeLabel2)].projected)},S="".concat(b.nodeLabel1,"-").concat(b.edgeLabel,"-").concat(b.nodeLabel2);return w(y[S].projected)}},f.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var d=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,_g.clone)(d))}},f.prototype.subGraphMining=function(d){var h=this,v=this.getSupport(d);if(!(v<this.minSupport)&&!!this.isMin()){this.report();var p=this.dfsCode.getNodeNum(),g=this.dfsCode.buildRmpath(),m=this.dfsCode.dfsEdgeList[g[0]].toNode,y=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,b={},w={};d.forEach(function(S){for(var E=h.graphs[S.graphId],_=E.nodeMap,A=new i(S),k=g.length-1;k>=0;k--){var T=h.findBackwardEdge(E,A.edges[g[k]],A.edges[g[0]],A);if(T){var I="".concat(h.dfsCode.dfsEdgeList[g[k]].fromNode,"-").concat(T.label);w[I]||(w[I]={projected:[],toNodeId:h.dfsCode.dfsEdgeList[g[k]].fromNode,edgeLabel:T.label}),w[I].projected.push({graphId:S.graphId,edge:T,preNode:S})}}if(!(p>=h.maxNodeNum)){var D=h.findForwardPureEdges(E,A.edges[g[0]],y,A);D.forEach(function(B){var U="".concat(m,"-").concat(B.label,"-").concat(_[B.to].label);b[U]||(b[U]={projected:[],fromNodeId:m,edgeLabel:B.label,nodeLabel2:_[B.to].label}),b[U].projected.push({graphId:S.graphId,edge:B,preNode:S})});for(var O=function(U){var N=h.findForwardRmpathEdges(E,A.edges[g[U]],y,A);N.forEach(function(G){var L="".concat(h.dfsCode.dfsEdgeList[g[U]].fromNode,"-").concat(G.label,"-").concat(_[G.to].label);b[L]||(b[L]={projected:[],fromNodeId:h.dfsCode.dfsEdgeList[g[U]].fromNode,edgeLabel:G.label,nodeLabel2:_[G.to].label}),b[L].projected.push({graphId:S.graphId,edge:G,preNode:S})})},k=0;k<g.length;k++)O(k)}}),Object.keys(w).forEach(function(S){var E=w[S],_=E.toNodeId,A=E.edgeLabel;h.dfsCode.dfsEdgeList.push(new e(m,_,"-1",A,"-1")),h.subGraphMining(w[S].projected),h.dfsCode.dfsEdgeList.pop()}),Object.keys(b).forEach(function(S){var E=b[S],_=E.fromNodeId,A=E.edgeLabel,k=E.nodeLabel2;h.dfsCode.dfsEdgeList.push(new e(_,m+1,ya.VACANT_NODE_LABEL,A,k)),h.subGraphMining(b[S].projected),h.dfsCode.dfsEdgeList.pop()})}},f.prototype.generate1EdgeFrequentSubGraphs=function(){var d=this.graphs,h=this.directed,v=this.minSupport,p=this.frequentSize1Subgraphs,g={},m={},y={},b={};return Object.keys(d).forEach(function(w){var S=d[w],E=S.nodeMap;S.nodes.forEach(function(_,A){var k=_.label,T="".concat(w,"-").concat(k);if(!y[T]){var I=g[k]||0;I++,g[k]=I}y[T]={graphKey:w,label:k},_.edges.forEach(function(D){var O=k,B=E[D.to].label;if(!h&&O>B){var U=B;B=O,O=U}var N=D.label,G="".concat(w,"-").concat(O,"-").concat(N,"-").concat(B),L="".concat(O,"-").concat(N,"-").concat(B);if(!m[L]){var F=m[L]||0;F++,m[L]=F}b[G]={graphId:w,nodeLabel1:O,edgeLabel:N,nodeLabel2:B}})})}),Object.keys(g).forEach(function(w){var S=g[w];if(!(S<v)){var E={nodes:[],edges:[]};E.nodes.push({id:"0",label:w}),p.push(E)}}),p},f.prototype.run=function(){var d=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var h=this.graphs;this.directed;var v={};Object.keys(h).forEach(function(p){var g=h[p],m=g.nodeMap;g.nodes.forEach(function(y){var b=d.findForwardRootEdges(g,y);b.forEach(function(w){var S=m[w.to],E="".concat(y.label,"-").concat(w.label,"-").concat(S.label);v[E]||(v[E]={projected:[],nodeLabel1:y.label,edgeLabel:w.label,nodeLabel2:S.label});var _={graphId:p,edge:w,preNode:null};v[E].projected.push(_)})})}),Object.keys(v).forEach(function(p){var g=v[p],m=g.projected,y=g.nodeLabel1,b=g.edgeLabel,w=g.nodeLabel2;d.dfsCode.dfsEdgeList.push(new e(0,1,y,b,w)),d.subGraphMining(m),d.dfsCode.dfsEdgeList.pop()})}},f}(),o=function(d,h,v,p){var g={};return Object.keys(d).forEach(function(m,y){var b=d[m],w=new ya.Graph(y,!0,h),S={};b.nodes.forEach(function(E,_){w.addNode(_,E[v]),S[E.id]=_}),b.edges.forEach(function(E,_){var A=S[E.source],k=S[E.target];w.addEdge(-1,A,k,E[p])}),w&&w.getNodeNum()&&(g[w.id]=w)}),g},s=function(d,h,v){var p=[];return d.forEach(function(g){var m={nodes:[],edges:[]};g.nodes.forEach(function(y){var b;m.nodes.push((b={id:"".concat(y.id)},b[h]=y.label,b))}),g.edges.forEach(function(y){var b;m.edges.push((b={source:"".concat(y.from),target:"".concat(y.to)},b[v]=y.label,b))}),p.push(m)}),p},l="cluster",u=function(d){var h=d.graphs,v=d.directed,p=v===void 0?!1:v,g=d.nodeLabelProp,m=g===void 0?l:g,y=d.edgeLabelProp,b=y===void 0?l:y,w=o(h,p,m,b),S=d.minSupport,E=d.maxNodeNum,_=d.minNodeNum,A=d.verbose,k=d.top,T={graphs:w,minSupport:S,maxNodeNum:E,minNodeNum:_,top:k,verbose:A,directed:p},I=new a(T);I.run();var D=s(I.frequentSubgraphs,m,b);return D},c=u;t.default=c});zn(TQ);var AQ=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=a(XF),n=a(TQ),i=a(LA);function a(b){return b&&b.__esModule?b:{default:b}}var o=function(w,S,E,_){E===void 0&&(E="cluster"),_===void 0&&(_=2);var A=[],k=w.nodes;return S.forEach(function(T,I){A.push(s(k,T,I,E,_))}),A},s=function(w,S,E,_,A){var k=[E],T=[],I={};return S.forEach(function(D,O){if(D<=A&&E!==O){k.push(O),T.push(w[O]);var B=w[O][_];I[B]?(I[B].count++,I[B].dists.push(D)):I[B]={count:1,dists:[D]}}}),Object.keys(I).forEach(function(D){I[D].dists=I[D].dists.sort(function(O,B){return O-B})}),{nodeIdx:E,nodeId:w[E].id,nodeIdxs:k,neighbors:T,neighborNum:k.length-1,nodeLabelCountMap:I}},l=function(w,S,E,_,A){var k=Math.ceil(E/S),T={},I=0;return _.forEach(function(D,O){for(var B=0,U=0,N=D.nodeIdxs,G=D.neighborNum-1;B<k;){for(var L=N[1+Math.floor(Math.random()*G)],F=0;(T["".concat(O,"-").concat(L)]||T["".concat(L,"-").concat(O)])&&(L=Math.floor(Math.random()*S),F++,!(F>2*S)););if(F<2*S&&(T["".concat(O,"-").concat(L)]={start:O,end:L,distance:A[O][L]},B++,I++,I>=E))return T;if(U++,U>2*S)break}if(B<k){var W=k-B;k=(k+W)/(S-O-1)}}),T},u=function(w,S,E,_){var A=E.nodes;return _||(_={}),Object.keys(w).forEach(function(k){var T,I;if(!(_&&_[k])){_[k]={nodes:[],edges:[]};var D=w[k],O=(T=S[D.start])===null||T===void 0?void 0:T.nodeIdxs,B=(I=S[D.end])===null||I===void 0?void 0:I.nodeIdxs;if(!(!O||!B)){var U=new Set(B),N=O.filter(function(H){return U.has(H)});if(!(!N||!N.length)){for(var G={},L=N.length,F=0;F<L;F++){var W=A[N[F]];_[k].nodes.push(W),G[W.id]=!0}E.edges.forEach(function(H){G[H.source]&&G[H.target]&&_[k].edges.push(H)})}}}}),_},c=function(w,S,E,_){var A,k,T={};w.nodes.forEach(function(D){T[D.id]=D});var I=0;return!((A=S==null?void 0:S.edges)===null||A===void 0?void 0:A.length)||((k=S==null?void 0:S.nodes)===null||k===void 0?void 0:k.length)<2?0:(w.edges.forEach(function(D){var O=T[D.source][E],B=T[D.target][E],U=S==null?void 0:S.nodes[0][E],N=S==null?void 0:S.nodes[1][E],G=S==null?void 0:S.edges[0][_];D[_]===G&&(O===U&&B===N||O===N&&B===U)&&I++}),I)},f=function(w,S,E){for(var _=1/0,A=0,k=function(D){var O=w[D],B=Object.keys(O).sort(function(H,K){return O[H]-O[K]}),U=10,N=[];B.forEach(function(H,K){N[K%U]||(N[K%U]={graphs:[],totalCount:0,aveCount:0}),N[K%U].graphs.push(H),N[K%U].totalCount+=O[H]});var G=0,L=[];N.forEach(function(H){var K=H.totalCount/H.graphs.length;H.aveCount=K,L.push(K);var ie=0,ee=H.length;H.graphs.forEach(function(Q,be){var fe=O[Q];H.graphs.forEach(function(he,Ee){be!==Ee&&(ie+=Math.abs(fe-O[he]))})}),ie/=ee*(ee-1)/2,G+=ie}),G/=N.length;var F=0;L.forEach(function(H,K){L.forEach(function(ie,ee){K!==ee&&(F+=Math.abs(H-ie))}),F/=L.length*(L.length-1)/2});var W=F-G;_<W&&(_=W,A=D)},T=0;T<S;T++)k(T);return{structure:E[A],structureCountMap:w[A]}},d=function(w,S){var E={},_={};return w.forEach(function(A,k){E[A.id]={idx:k,node:A,degree:0,inDegree:0,outDegree:0};var T=A[S];_[T]||(_[T]=[]),_[T].push(A)}),{nodeMap:E,nodeLabelMap:_}},h=function(w,S,E){var _={},A={};return w.forEach(function(k,T){_["".concat(wa.uniqueId)]={idx:T,edge:k};var I=k[S];A[I]||(A[I]=[]),A[I].push(k);var D=E[k.source];D&&(D.degree++,D.outDegree++);var O=E[k.target];O&&(O.degree++,O.inDegree++)}),{edgeMap:_,edgeLabelMap:A}},v=function(w,S,E){var _=S.length,A={};return S.forEach(function(k,T){for(var I=E?0:T+1,D=w[T].id,O=I;O<_;O++)if(T!==O){var B=w[O].id,U=k[O];A["".concat(D,"-").concat(B)]=U,E||(A["".concat(B,"-").concat(D)]=U)}}),A},p=function(w,S,E,_,A,k,T,I,D,O,B){var U,N="".concat(S.id,"-").concat(E.id);if(O&&O[N])return O[N];var G=B?B[N]:void 0;if(!G){var L=(U={},U[N]={start:_[S.id].idx,end:_[E.id].idx,distance:A},U);B=u(L,k,w,B),G=B[N]}return c(G,T,I,D)},g=function(w,S,E,_){var A,k,T,I=(A=w[S])===null||A===void 0?void 0:A.degree,D=(k=w[S])===null||k===void 0?void 0:k.inDegree,O=(T=w[S])===null||T===void 0?void 0:T.outDegree;return w[S]===void 0&&(I=1/0,D=1/0,O=1/0,_[S].forEach(function(B){var U=E[B.id].degree;I>U&&(I=U);var N=E[B.id].inDegree;D>N&&(D=N);var G=E[B.id].outDegree;O>G&&(O=G)}),w[S]={degree:I,inDegree:D,outDegree:O}),{minPatternNodeLabelDegree:I,minPatternNodeLabelInDegree:D,minPatternNodeLabelOutDegree:O}},m=function(w,S,E,_,A,k,T){var I;if(E===void 0&&(E=!1),k===void 0&&(k="cluster"),T===void 0&&(T="cluster"),!(!w||!w.nodes)){var D=w.nodes.length;if(!!D){var O=(0,e.default)(w,E),B=(0,e.default)(S,E),U=v(w.nodes,O,E),N=v(S.nodes,B,E),G=d(w.nodes,k),L=G.nodeMap,F=G.nodeLabelMap,W=d(S.nodes,k),H=W.nodeMap,K=W.nodeLabelMap;h(w.edges,T,L);var ie=h(S.edges,T,H).edgeLabelMap,ee=[];B==null||B.forEach(function(Ht){ee=ee.concat(Ht)}),A||(A=Math.max.apply(Math,(0,M_.__spreadArray)((0,M_.__spreadArray)([],ee,!1),[2],!1))),_||(_=A);var Q=o(w,O,k,_),be=o(S,B,k,_),fe=Math.min(100,D*(D-1)/2),he=l(_,D,fe,Q,O),Ee=u(he,Q,w),He=10,nt=1,st=1,z=4,j={graphs:Ee,nodeLabelProp:k,edgeLabelProp:T,minSupport:nt,minNodeNum:st,maxNodeNum:z,directed:E},X=(0,n.default)(j).slice(0,He),ae=X.length,ue=[];X.forEach(function(Ht,Er){ue[Er]={},Object.keys(Ee).forEach(function(it){var At=Ee[it],vr=c(At,Ht,k,T);ue[Er][it]=vr})});var Be=f(ue,ae,X),Ze=Be.structure,Le=Be.structureCountMap,se=S.nodes[0],Se=[],Y=(I=S.nodes[0])===null||I===void 0?void 0:I[k],ve=-1/0;S.nodes.forEach(function(Ht){var Er=Ht[k],it=F[Er];(it==null?void 0:it.length)>ve&&(ve=it.length,Se=it,Y=Er,se=Ht)});var ce={},de={},Fe={},Ue={},lt={},ut={};Object.keys(K).forEach(function(Ht,Er){lt[Ht]=[],E&&(ut[Ht]=[]);var it=K[Ht],At={};it.forEach(function(Ot){var Nt=N["".concat(se.id,"-").concat(Ot.id)];if(Nt&&lt[Ht].push(Nt),At["".concat(se.id,"-").concat(Ot.id)]={start:0,end:H[Ot.id].idx,distance:Nt},E){var fr=N["".concat(Ot.id,"-").concat(se.id)];fr&&ut[Ht].push(fr)}}),lt[Ht]=lt[Ht].sort(function(Ot,Nt){return Ot-Nt}),E&&(ut[Ht]=ut[Ht].sort(function(Ot,Nt){return Ot-Nt})),de=u(At,be,S,de);var vr=[];if(Object.keys(At).forEach(function(Ot){if(Fe[Ot]){vr.push(Fe[Ot]);return}var Nt=de[Ot];Fe[Ot]=c(Nt,Ze,k,T),vr.push(Fe[Ot])}),vr=vr.sort(function(Ot,Nt){return Nt-Ot}),Ue["".concat(se.id,"-").concat(Ht)]=vr,Ht!==Y)for(var ze=(Se==null?void 0:Se.length)||0,_e=function(Nt){var fr=Se[Nt],sn=Q[L[fr.id].idx],en=sn.nodeLabelCountMap[Ht],Zr=K[Ht].length;if(!en||en.count<Zr)return Se.splice(Nt,1),"continue";for(var Wn=!1,gn=0;gn<Zr;gn++)if(en.dists[gn]>lt[Ht][gn]){Wn=!0;break}if(Wn)return Se.splice(Nt,1),"continue";var Pr={};sn.neighbors.forEach(function(Dn){var Xr=U["".concat(fr.id,"-").concat(Dn.id)];Pr["".concat(fr.id,"-").concat(Dn.id)]={start:L[fr.id].idx,end:L[Dn.id].idx,distance:Xr}}),Ee=u(Pr,Q,w,Ee);var vn=[];Object.keys(Pr).forEach(function(Dn){if(Le[Dn]){vn.push(Le[Dn]);return}var Xr=Ee[Dn];Le[Dn]=c(Xr,Ze,k,T),vn.push(Le[Dn])}),vn=vn.sort(function(Dn,Xr){return Xr-Dn});for(var Lr=!1,gn=0;gn<Zr;gn++)if(vn[gn]<vr[gn]){Lr=!0;break}if(Lr)return Se.splice(Nt,1),"continue"},Ke=ze-1;Ke>=0;Ke--)_e(Ke)});var We=[];Se==null||Se.forEach(function(Ht){for(var Er=L[Ht.id].idx,it=s(w.nodes,O[Er],Er,k,A),At=it.neighbors,vr=At.length,ze=!1,_e=vr-1;_e>=0;_e--){if(At.length+1<S.nodes.length){ze=!0;return}var Ke=At[_e],Ot=Ke[k];if(!K[Ot]||!K[Ot].length){At.splice(_e,1);continue}if(!lt[Ot]||!lt[Ot].length){At.splice(_e,1);continue}var Nt="".concat(Ht.id,"-").concat(Ke.id),fr=U[Nt],sn=lt[Ot].length-1,en=lt[Ot][sn];if(fr>en){At.splice(_e,1);continue}if(E){var Zr="".concat(Ke.id,"-").concat(Ht.id),Wn=U[Zr];sn=ut[Ot].length-1;var gn=ut[Ot][sn];if(Wn>gn){At.splice(_e,1);continue}}var Pr=Le[Nt]?Le[Nt]:p(w,Ht,Ke,L,fr,Q,Ze,k,T,Le,Ee),vn="".concat(se.id,"-").concat(Ot),Lr=Ue[vn][Ue[vn].length-1];if(Pr<Lr){At.splice(_e,1);continue}var Dn=g(ce,Ot,H,K),Xr=Dn.minPatternNodeLabelDegree;if(Dn.minPatternNodeLabelInDegree,Dn.minPatternNodeLabelOutDegree,L[Ke.id].degree<Xr){At.splice(_e,1);continue}}ze||We.push({nodes:[Ht].concat(At)})});var J=(0,i.default)(S,se.id,!1).length,Pe={};E?(Object.keys(J).forEach(function(Ht){var Er=H[Ht].node[k];Pe[Er]?Pe[Er].push(J[Ht]):Pe[Er]=[J[Ht]]}),Object.keys(Pe).forEach(function(Ht){Pe[Ht].sort(function(Er,it){return Er-it})})):Pe=lt;for(var Ce=We.length,ct=function(Er){var it=We[Er],At=it.nodes[0],vr={},ze={};it.nodes.forEach(function(oi,to){ze[oi.id]={idx:to,node:oi,degree:0,inDegree:0,outDegree:0};var Qi=oi[k];vr[Qi]?vr[Qi]++:vr[Qi]=1});var _e=[],Ke={};w.edges.forEach(function(oi){ze[oi.source]&&ze[oi.target]&&(_e.push(oi),Ke[oi[T]]?Ke[oi[T]]++:Ke[oi[T]]=1,ze[oi.source].degree++,ze[oi.target].degree++,ze[oi.source].outDegree++,ze[oi.target].inDegree++)});for(var Ot=Object.keys(ie).length,Nt=!1,fr=0;fr<Ot;fr++){var sn=Object.keys(ie)[fr];if(!Ke[sn]||Ke[sn]<ie[sn].length){Nt=!0;break}}if(Nt)return We.splice(Er,1),"continue";var en=_e.length;if(en<S.edges.length)return We.splice(Er,1),"break";for(var Zr=!1,Wn=function(to){var Qi=_e[to],hs=Qi[T],gl=ie[hs];if(!gl||!gl.length)return Ke[hs]--,gl&&Ke[hs]<gl.length?(Zr=!0,"break"):(_e.splice(to,1),ze[Qi.source].degree--,ze[Qi.target].degree--,ze[Qi.source].outDegree--,ze[Qi.target].inDegree--,"continue");var Yd=ze[Qi.source].node[k],Xd=ze[Qi.target].node[k],lc=!1;if(gl.forEach(function(gf){var mf=H[gf.source].node,uc=H[gf.target].node;mf[k]===Yd&&uc[k]===Xd&&(lc=!0),!E&&mf[k]===Xd&&uc[k]===Yd&&(lc=!0)}),!lc)return Ke[hs]--,gl&&Ke[hs]<gl.length?(Zr=!0,"break"):(_e.splice(to,1),ze[Qi.source].degree--,ze[Qi.target].degree--,ze[Qi.source].outDegree--,ze[Qi.target].inDegree--,"continue")},fr=en-1;fr>=0;fr--){var gn=Wn(fr);if(gn==="break")break}if(Zr)return We.splice(Er,1),"continue";it.edges=_e;var Pr=(0,i.default)(it,it.nodes[0].id,!1).length;if(Object.keys(Pr).reverse().forEach(function(oi){if(!(oi===it.nodes[0].id||Zr)){if(Pr[oi]===1/0){var to=ze[oi].node[k];if(vr[to]--,vr[to]<K[to].length){Zr=!0;return}var Qi=it.nodes.indexOf(ze[oi].node);it.nodes.splice(Qi,1),ze[oi]=void 0;return}var hs=L[oi].node[k];if(!Pe[hs]||!Pe[hs].length||Pr[oi]>Pe[hs][Pe[hs].length-1]){var to=ze[oi].node[k];if(vr[to]--,vr[to]<K[to].length){Zr=!0;return}var Qi=it.nodes.indexOf(ze[oi].node);it.nodes.splice(Qi,1),ze[oi]=void 0}}}),Zr)return We.splice(Er,1),"continue";for(var vn=!0,Lr=0;vn&&!Zr;){vn=!1;var Dn=E?ze[At.id].degree<H[se.id].degree||ze[At.id].inDegree<H[se.id].inDegree||ze[At.id].outDegree<H[se.id].outDegree:ze[At.id].degree<H[se.id].degree;if(Dn){Zr=!0;break}if(vr[At[k]]<K[At[k]].length){Zr=!0;break}for(var Xr=it.nodes.length,fi=Xr-1;fi>=0;fi--){var Ui=it.nodes[fi],Va=ze[Ui.id].degree,fo=ze[Ui.id].inDegree,ho=ze[Ui.id].outDegree,Po=Ui[k],ku=g(ce,Po,H,K),sc=ku.minPatternNodeLabelDegree,Xl=ku.minPatternNodeLabelInDegree,pf=ku.minPatternNodeLabelOutDegree,ql=E?Va<sc||fo<Xl||ho<pf:Va<sc;if(ql){if(vr[Ui[k]]--,vr[Ui[k]]<K[Ui[k]].length){Zr=!0;break}it.nodes.splice(fi,1),ze[Ui.id]=void 0,vn=!0}}if(Zr||!vn&&Lr!==0)break;en=_e.length;for(var Kl=en-1;Kl>=0;Kl--){var qo=_e[Kl];if(!ze[qo.source]||!ze[qo.target]){_e.splice(Kl,1);var Zl=qo[T];if(Ke[Zl]--,ze[qo.source]&&(ze[qo.source].degree--,ze[qo.source].outDegree--),ze[qo.target]&&(ze[qo.target].degree--,ze[qo.target].inDegree--),ie[Zl]&&Ke[Zl]<ie[Zl].length){Zr=!0;break}vn=!0}}Lr++}if(Zr||Zr||it.nodes.length<S.nodes.length||_e.length<S.edges.length)return We.splice(Er,1),"continue"},mt=Ce-1;mt>=0;mt--){var Me=ct(mt);if(Me==="break")break}for(var ht=We.length,ar=function(Er){var it=We[Er],At={};it.edges.forEach(function(_e){var Ke="".concat(_e.source,"-").concat(_e.target,"-").concat(_e.label);At[Ke]?At[Ke]++:At[Ke]=1});for(var vr=function(Ke){var Ot=We[Ke],Nt={};Ot.edges.forEach(function(sn){var en="".concat(sn.source,"-").concat(sn.target,"-").concat(sn.label);Nt[en]?Nt[en]++:Nt[en]=1});var fr=!0;Object.keys(Nt).length!==Object.keys(At).length?fr=!1:Object.keys(At).forEach(function(sn){Nt[sn]!==At[sn]&&(fr=!1)}),fr&&We.splice(Ke,1)},ze=ht-1;ze>Er;ze--)vr(ze);ht=We.length},mt=0;mt<=ht-1;mt++)ar(mt);return We}}},y=m;t.default=y});zn(AQ);var kQ=un(function(r,t){function e(b){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},e(b)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GADDI",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"breadthFirstSearch",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"connectedComponent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"depthFirstSearch",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"detectCycle",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"dijkstra",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"findAllPath",{enumerable:!0,get:function(){return yw.findAllPath}}),Object.defineProperty(t,"findShortestPath",{enumerable:!0,get:function(){return yw.findShortestPath}}),Object.defineProperty(t,"floydWarshall",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"getAdjMatrix",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"getDegree",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"getInDegree",{enumerable:!0,get:function(){return o.getInDegree}}),Object.defineProperty(t,"getNeighbors",{enumerable:!0,get:function(){return wa.getNeighbors}}),Object.defineProperty(t,"getOutDegree",{enumerable:!0,get:function(){return o.getOutDegree}}),Object.defineProperty(t,"labelPropagation",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"louvain",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"minimumSpanningTree",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"pageRank",{enumerable:!0,get:function(){return v.default}});var n=y(lS),i=y(bQ),a=y(uS),o=m(cS),s=y(fS),l=y(YF),u=y(LA),c=y(XF),f=y(xQ),d=y(wQ),h=y(EQ),v=y(_Q),p=y(AQ);function g(b){if(typeof WeakMap!="function")return null;var w=new WeakMap,S=new WeakMap;return(g=function(_){return _?S:w})(b)}function m(b,w){if(!w&&b&&b.__esModule)return b;if(b===null||e(b)!=="object"&&typeof b!="function")return{default:b};var S=g(w);if(S&&S.has(b))return S.get(b);var E={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in b)if(A!=="default"&&Object.prototype.hasOwnProperty.call(b,A)){var k=_?Object.getOwnPropertyDescriptor(b,A):null;k&&(k.get||k.set)?Object.defineProperty(E,A,k):E[A]=b[A]}return E.default=b,S&&S.set(b,E),E}function y(b){return b&&b.__esModule?b:{default:b}}});zn(kQ);var MQ=un(function(r,t){function e(l){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},e(l)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(kQ);function i(l){if(typeof WeakMap!="function")return null;var u=new WeakMap,c=new WeakMap;return(i=function(d){return d?c:u})(l)}function a(l,u){if(!u&&l&&l.__esModule)return l;if(l===null||e(l)!=="object"&&typeof l!="function")return{default:l};var c=i(u);if(c&&c.has(l))return c.get(l);var f={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in l)if(h!=="default"&&Object.prototype.hasOwnProperty.call(l,h)){var v=d?Object.getOwnPropertyDescriptor(l,h):null;v&&(v.get||v.set)?Object.defineProperty(f,h,v):f[h]=l[h]}return f.default=l,c&&c.set(l,f),f}var o=typeof self!="undefined"?self:{};o.onmessage=function(l){var u=l.data,c=u._algorithmType,f=u.data;if(!!c){if(typeof n[c]=="function"){var d=n[c].apply(n,f);o.postMessage({_algorithmType:la.MESSAGE.SUCCESS,data:d});return}o.postMessage({_algorithmType:la.MESSAGE.FAILURE})}};var s=null;t.default=s});zn(MQ);var IQ=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(MQ);function n(o){return o&&o.__esModule?o:{default:o}}var i=function(s){return function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return new Promise(function(c,f){var d=new e.default;d.postMessage({_algorithmType:s,data:l}),d.onmessage=function(h){var v=h.data,p=v.data,g=v._algorithmType;la.MESSAGE.SUCCESS===g?c(p):f(),d.terminate()}})}},a=i;t.default=a});zn(IQ);var Hr=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.pageRankAsync=t.minimumSpanningTreeAsync=t.louvainAsync=t.labelPropagationAsync=t.getOutDegreeAsync=t.getNeighborsAsync=t.getInDegreeAsync=t.getDegreeAsync=t.getAdjMatrixAsync=t.floydWarshallAsync=t.findShortestPathAsync=t.findAllPathAsync=t.dijkstraAsync=t.detectCycleAsync=t.detectAllUndirectedCycleAsync=t.detectAllDirectedCycleAsync=t.detectAllCyclesAsync=t.connectedComponentAsync=t.GADDIAsync=void 0;var e=n(IQ);function n(_){return _&&_.__esModule?_:{default:_}}var i=function(A,k){return(0,e.default)(la.ALGORITHM.getAdjMatrix).apply(void 0,[A,k])};t.getAdjMatrixAsync=i;var a=function(A,k){return(0,e.default)(la.ALGORITHM.connectedComponent).apply(void 0,[A,k])};t.connectedComponentAsync=a;var o=function(A){return(0,e.default)(la.ALGORITHM.getDegree)(A)};t.getDegreeAsync=o;var s=function(A,k){return(0,e.default)(la.ALGORITHM.getInDegree)(A,k)};t.getInDegreeAsync=s;var l=function(A,k){return(0,e.default)(la.ALGORITHM.getOutDegree)(A,k)};t.getOutDegreeAsync=l;var u=function(A){return(0,e.default)(la.ALGORITHM.detectCycle)(A)};t.detectCycleAsync=u;var c=function(A){return(0,e.default)(la.ALGORITHM.detectAllCycles)(A)};t.detectAllCyclesAsync=c;var f=function(A){return(0,e.default)(la.ALGORITHM.detectAllDirectedCycle)(A)};t.detectAllDirectedCycleAsync=f;var d=function(A){return(0,e.default)(la.ALGORITHM.detectAllUndirectedCycle)(A)};t.detectAllUndirectedCycleAsync=d;var h=function(A,k,T,I){return(0,e.default)(la.ALGORITHM.dijkstra).apply(void 0,[A,k,T,I])};t.dijkstraAsync=h;var v=function(A,k,T,I){return(0,e.default)(la.ALGORITHM.findAllPath).apply(void 0,[A,k,T,I])};t.findAllPathAsync=v;var p=function(A,k,T,I,D){return(0,e.default)(la.ALGORITHM.findShortestPath).apply(void 0,[A,k,T,I,D])};t.findShortestPathAsync=p;var g=function(A,k){return(0,e.default)(la.ALGORITHM.floydWarshall).apply(void 0,[A,k])};t.floydWarshallAsync=g;var m=function(A,k,T,I){return I===void 0&&(I=1e3),(0,e.default)(la.ALGORITHM.labelPropagation)(A,k,T,I)};t.labelPropagationAsync=m;var y=function(A,k,T,I){return(0,e.default)(la.ALGORITHM.louvain)(A,k,T,I)};t.louvainAsync=y;var b=function(A,k,T){return(0,e.default)(la.ALGORITHM.minimumSpanningTree).apply(void 0,[A,k,T])};t.minimumSpanningTreeAsync=b;var w=function(A,k,T){return(0,e.default)(la.ALGORITHM.pageRank).apply(void 0,[A,k,T])};t.pageRankAsync=w;var S=function(A,k,T){return(0,e.default)(la.ALGORITHM.getNeighbors).apply(void 0,[A,k,T])};t.getNeighborsAsync=S;var E=function(A,k,T,I,D,O,B){return T===void 0&&(T=!1),O===void 0&&(O="cluster"),B===void 0&&(B="cluster"),(0,e.default)(la.ALGORITHM.GADDI).apply(void 0,[A,k,T,I,D,O,B])};t.GADDIAsync=E});zn(Hr);Hr.pageRankAsync;Hr.minimumSpanningTreeAsync;Hr.louvainAsync;Hr.labelPropagationAsync;Hr.getOutDegreeAsync;Hr.getNeighborsAsync;Hr.getInDegreeAsync;Hr.getDegreeAsync;Hr.getAdjMatrixAsync;Hr.floydWarshallAsync;Hr.findShortestPathAsync;Hr.findAllPathAsync;Hr.dijkstraAsync;Hr.detectCycleAsync;Hr.detectAllUndirectedCycleAsync;Hr.detectAllDirectedCycleAsync;Hr.detectAllCyclesAsync;Hr.connectedComponentAsync;Hr.GADDIAsync;var KF=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GADDIAsync",{enumerable:!0,get:function(){return Hr.GADDIAsync}}),Object.defineProperty(t,"connectedComponentAsync",{enumerable:!0,get:function(){return Hr.connectedComponentAsync}}),t.default=void 0,Object.defineProperty(t,"detectAllCyclesAsync",{enumerable:!0,get:function(){return Hr.detectAllCyclesAsync}}),Object.defineProperty(t,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return Hr.detectAllDirectedCycleAsync}}),Object.defineProperty(t,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return Hr.detectAllUndirectedCycleAsync}}),Object.defineProperty(t,"detectCycleAsync",{enumerable:!0,get:function(){return Hr.detectCycleAsync}}),t.detectDirectedCycleAsync=void 0,Object.defineProperty(t,"dijkstraAsync",{enumerable:!0,get:function(){return Hr.dijkstraAsync}}),Object.defineProperty(t,"findAllPathAsync",{enumerable:!0,get:function(){return Hr.findAllPathAsync}}),Object.defineProperty(t,"findShortestPathAsync",{enumerable:!0,get:function(){return Hr.findShortestPathAsync}}),Object.defineProperty(t,"floydWarshallAsync",{enumerable:!0,get:function(){return Hr.floydWarshallAsync}}),Object.defineProperty(t,"getAdjMatrixAsync",{enumerable:!0,get:function(){return Hr.getAdjMatrixAsync}}),Object.defineProperty(t,"getDegreeAsync",{enumerable:!0,get:function(){return Hr.getDegreeAsync}}),Object.defineProperty(t,"getInDegreeAsync",{enumerable:!0,get:function(){return Hr.getInDegreeAsync}}),Object.defineProperty(t,"getNeighborsAsync",{enumerable:!0,get:function(){return Hr.getNeighborsAsync}}),Object.defineProperty(t,"getOutDegreeAsync",{enumerable:!0,get:function(){return Hr.getOutDegreeAsync}}),Object.defineProperty(t,"labelPropagationAsync",{enumerable:!0,get:function(){return Hr.labelPropagationAsync}}),Object.defineProperty(t,"louvainAsync",{enumerable:!0,get:function(){return Hr.louvainAsync}}),Object.defineProperty(t,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return Hr.minimumSpanningTreeAsync}}),Object.defineProperty(t,"pageRankAsync",{enumerable:!0,get:function(){return Hr.pageRankAsync}});var e=Hr.detectCycleAsync;t.detectDirectedCycleAsync=e;var n={getAdjMatrixAsync:Hr.getAdjMatrixAsync,connectedComponentAsync:Hr.connectedComponentAsync,getDegreeAsync:Hr.getDegreeAsync,getInDegreeAsync:Hr.getInDegreeAsync,getOutDegreeAsync:Hr.getOutDegreeAsync,detectCycleAsync:Hr.detectCycleAsync,detectDirectedCycleAsync:e,detectAllCyclesAsync:Hr.detectAllCyclesAsync,detectAllDirectedCycleAsync:Hr.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:Hr.detectAllUndirectedCycleAsync,dijkstraAsync:Hr.dijkstraAsync,findAllPathAsync:Hr.findAllPathAsync,findShortestPathAsync:Hr.findShortestPathAsync,floydWarshallAsync:Hr.floydWarshallAsync,labelPropagationAsync:Hr.labelPropagationAsync,louvainAsync:Hr.louvainAsync,minimumSpanningTreeAsync:Hr.minimumSpanningTreeAsync,pageRankAsync:Hr.pageRankAsync,getNeighborsAsync:Hr.getNeighborsAsync,GADDIAsync:Hr.GADDIAsync};t.default=n}),fPe=zn(KF),dPe=KF.detectDirectedCycleAsync,hPe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fPe,__moduleExports:KF,detectDirectedCycleAsync:dPe});function vPe(){return window?window.devicePixelRatio:1}function PQ(r,t,e,n){var i=r-e,a=t-n;return Math.sqrt(i*i+a*a)}function Zp(r,t,e,n,i,a){return i>=r&&i<=r+e&&a>=t&&a<=t+n}function bw(r,t){return!(t.minX>r.maxX||t.maxX<r.minX||t.minY>r.maxY||t.maxY<r.minY)}function pPe(r,t){return!r||!t?r||t:{minX:Math.min(r.minX,t.minX),minY:Math.min(r.minY,t.minY),maxX:Math.max(r.maxX,t.maxX),maxY:Math.max(r.maxY,t.maxY)}}function W$(r,t){return r[0]===t[0]&&r[1]===t[1]}var gPe=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,mPe=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,yPe=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,RQ=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function DQ(r,t){var e=r.match(RQ);q(e,function(n){var i=n.split(":");t.addColorStop(i[0],i[1])})}function bPe(r,t,e){var n=gPe.exec(e),i=parseFloat(n[1])%360*(Math.PI/180),a=n[2],o=t.getBBox(),s,l;i>=0&&i<1/2*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):1/2*Math.PI<=i&&i<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=i&&i<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var u=Math.tan(i),c=u*u,f=(l.x-s.x+u*(l.y-s.y))/(c+1)+s.x,d=u*(l.x-s.x+u*(l.y-s.y))/(c+1)+s.y,h=r.createLinearGradient(s.x,s.y,f,d);return DQ(a,h),h}function xPe(r,t,e){var n=mPe.exec(e),i=parseFloat(n[1]),a=parseFloat(n[2]),o=parseFloat(n[3]),s=n[4];if(o===0){var l=s.match(RQ);return l[l.length-1].split(":")[1]}var u=t.getBBox(),c=u.maxX-u.minX,f=u.maxY-u.minY,d=Math.sqrt(c*c+f*f)/2,h=r.createRadialGradient(u.minX+c*i,u.minY+f*a,0,u.minX+c/2,u.minY+f/2,o*d);return DQ(s,h),h}function wPe(r,t,e){if(t.get("patternSource")&&t.get("patternSource")===e)return t.get("pattern");var n,i,a=yPe.exec(e),o=a[1],s=a[2];function l(){n=r.createPattern(i,o),t.set("pattern",n),t.set("patternSource",e)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?l():(i.onload=l,i.src=i.src),n}function SPe(r,t,e){var n=t.getBBox();if(isNaN(n.x)||isNaN(n.y)||isNaN(n.width)||isNaN(n.height))return e;if(wt(e)){if(e[1]==="("||e[2]==="("){if(e[0]==="l")return bPe(r,t,e);if(e[0]==="r")return xPe(r,t,e);if(e[0]==="p")return wPe(r,t,e)}return e}if(e instanceof CanvasPattern)return e}function CPe(r){var t=0,e=0,n=0,i=0;return gt(r)?r.length===1?t=e=n=i=r[0]:r.length===2?(t=n=r[0],e=i=r[1]):r.length===3?(t=r[0],e=i=r[1],n=r[2]):(t=r[0],e=r[1],n=r[2],i=r[3]):t=e=n=i=r,[t,e,n,i]}function EE(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function LD(r,t){return EE(r)*EE(t)?(r[0]*t[0]+r[1]*t[1])/(EE(r)*EE(t)):1}function j$(r,t){return(r[0]*t[1]<r[1]*t[0]?-1:1)*Math.acos(LD(r,t))}function j_(r,t){var e=t[1],n=t[2],i=yA(bA(t[3]),Math.PI*2),a=t[4],o=t[5],s=r[0],l=r[1],u=t[6],c=t[7],f=Math.cos(i)*(s-u)/2+Math.sin(i)*(l-c)/2,d=-1*Math.sin(i)*(s-u)/2+Math.cos(i)*(l-c)/2,h=f*f/(e*e)+d*d/(n*n);h>1&&(e*=Math.sqrt(h),n*=Math.sqrt(h));var v=e*e*(d*d)+n*n*(f*f),p=v?Math.sqrt((e*e*(n*n)-v)/v):1;a===o&&(p*=-1),isNaN(p)&&(p=0);var g=n?p*e*d/n:0,m=e?p*-n*f/e:0,y=(s+u)/2+Math.cos(i)*g-Math.sin(i)*m,b=(l+c)/2+Math.sin(i)*g+Math.cos(i)*m,w=[(f-g)/e,(d-m)/n],S=[(-1*f-g)/e,(-1*d-m)/n],E=j$([1,0],w),_=j$(w,S);return LD(w,S)<=-1&&(_=Math.PI),LD(w,S)>=1&&(_=0),o===0&&_>0&&(_=_-2*Math.PI),o===1&&_<0&&(_=_+2*Math.PI),{cx:y,cy:b,rx:W$(r,[u,c])?0:e,ry:W$(r,[u,c])?0:n,startAngle:E,endAngle:E+_,xRotation:i,arcFlag:a,sweepFlag:o}}var Y_=Math.sin,X_=Math.cos,ZF=Math.atan2,_E=Math.PI;function OQ(r,t,e,n,i,a,o){var s=t.stroke,l=t.lineWidth,u=e-i,c=n-a,f=ZF(c,u),d=new rN({type:"path",canvas:r.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*X_(_E/6)+","+10*Y_(_E/6)+" L0,0 L"+10*X_(_E/6)+",-"+10*Y_(_E/6),stroke:s,lineWidth:l}});d.translate(i,a),d.rotateAtPoint(i,a,f),r.set(o?"startArrowShape":"endArrowShape",d)}function LQ(r,t,e,n,i,a,o){var s=t.startArrow,l=t.endArrow,u=t.stroke,c=t.lineWidth,f=o?s:l,d=f.d,h=f.fill,v=f.stroke,p=f.lineWidth,g=xn(f,["d","fill","stroke","lineWidth"]),m=e-i,y=n-a,b=ZF(y,m);d&&(i=i-X_(b)*d,a=a-Y_(b)*d);var w=new rN({type:"path",canvas:r.get("canvas"),isArrowShape:!0,attrs:P(P({},g),{stroke:v||u,lineWidth:p||c,fill:h})});w.translate(i,a),w.rotateAtPoint(i,a,b),r.set(o?"startArrowShape":"endArrowShape",w)}function ug(r,t,e,n,i){var a=ZF(n-t,e-r);return{dx:X_(a)*i,dy:Y_(a)*i}}function QF(r,t,e,n,i,a){typeof t.startArrow=="object"?LQ(r,t,e,n,i,a,!0):t.startArrow?OQ(r,t,e,n,i,a,!0):r.set("startArrowShape",null)}function JF(r,t,e,n,i,a){typeof t.endArrow=="object"?LQ(r,t,e,n,i,a,!1):t.endArrow?OQ(r,t,e,n,i,a,!1):r.set("startArrowShape",null)}var Y$={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function w0(r,t){var e=t.attr();for(var n in e){var i=e[n],a=Y$[n]?Y$[n]:n;a==="matrix"&&i?r.transform(i[0],i[1],i[3],i[4],i[6],i[7]):a==="lineDash"&&r.setLineDash?gt(i)&&r.setLineDash(i):(a==="strokeStyle"||a==="fillStyle"?i=SPe(r,t,i):a==="globalAlpha"&&(i=i*r.globalAlpha),r[a]=i)}}function FD(r,t,e){for(var n=0;n<t.length;n++){var i=t[n];i.cfg.visible?i.draw(r,e):i.skipDraw()}}function EPe(r,t,e){var n=r.get("refreshElements");q(n,function(i){if(i!==r)for(var a=i.cfg.parent;a&&a!==r&&!a.cfg.refresh;)a.cfg.refresh=!0,a=a.cfg.parent}),n[0]===r?eN(t):ND(t,e)}function ND(r,t){for(var e=0;e<r.length;e++){var n=r[e];if(n.cfg.visible)if(n.cfg.hasChanged)n.cfg.refresh=!0,n.isGroup()&&eN(n.cfg.children);else if(n.cfg.refresh)n.isGroup()&&ND(n.cfg.children,t);else{var i=_Pe(n,t);n.cfg.refresh=i,i&&n.isGroup()&&ND(n.cfg.children,t)}}}function FQ(r){for(var t=0;t<r.length;t++){var e=r[t];e.cfg.hasChanged=!1,e.isGroup()&&!e.destroyed&&FQ(e.cfg.children)}}function eN(r,t){for(var e=0;e<r.length;e++){var n=r[e];n.cfg.refresh=!0,n.isGroup()&&eN(n.get("children"))}}function _Pe(r,t){var e=r.cfg.cacheCanvasBBox,n=r.cfg.isInView&&e&&bw(e,t);return n}function NQ(r,t,e,n){var i=e.path,a=e.startArrow,o=e.endArrow;if(!!i){var s=[0,0],l=[0,0],u={dx:0,dy:0};t.beginPath();for(var c=0;c<i.length;c++){var f=i[c],d=f[0];if(c===0&&a&&a.d){var h=r.getStartTangent();u=ug(h[0][0],h[0][1],h[1][0],h[1][1],a.d)}else if(c===i.length-2&&i[c+1][0]==="Z"&&o&&o.d){var v=i[c+1];if(v[0]==="Z"){var h=r.getEndTangent();u=ug(h[0][0],h[0][1],h[1][0],h[1][1],o.d)}}else if(c===i.length-1&&o&&o.d&&i[0]!=="Z"){var h=r.getEndTangent();u=ug(h[0][0],h[0][1],h[1][0],h[1][1],o.d)}var p=u.dx,g=u.dy;switch(d){case"M":t.moveTo(f[1]-p,f[2]-g),l=[f[1],f[2]];break;case"L":t.lineTo(f[1]-p,f[2]-g);break;case"Q":t.quadraticCurveTo(f[1],f[2],f[3]-p,f[4]-g);break;case"C":t.bezierCurveTo(f[1],f[2],f[3],f[4],f[5]-p,f[6]-g);break;case"A":{var m=void 0;n?(m=n[c],m||(m=j_(s,f),n[c]=m)):m=j_(s,f);var y=m.cx,b=m.cy,w=m.rx,S=m.ry,E=m.startAngle,_=m.endAngle,A=m.xRotation,k=m.sweepFlag;if(t.ellipse)t.ellipse(y,b,w,S,A,E,_,1-k);else{var T=w>S?w:S,I=w>S?1:w/S,D=w>S?S/w:1;t.translate(y,b),t.rotate(A),t.scale(I,D),t.arc(0,0,T,E,_,1-k),t.scale(1/I,1/D),t.rotate(-A),t.translate(-y,-b)}break}case"Z":t.closePath();break}if(d==="Z")s=l;else{var O=f.length;s=[f[O-2],f[O-1]]}}}}function BQ(r,t){var e=r.get("canvas");e&&(t==="remove"&&(r._cacheCanvasBBox=r.get("cacheCanvasBBox")),r.get("hasChanged")||(r.set("hasChanged",!0),r.cfg.parent&&r.cfg.parent.get("hasChanged")||(e.refreshElement(r,t,e),e.get("autoDraw")&&e.draw())))}function TPe(r){var t;if(r.destroyed)t=r._cacheCanvasBBox;else{var e=r.get("cacheCanvasBBox"),n=e&&!!(e.width&&e.height),i=r.getCanvasBBox(),a=i&&!!(i.width&&i.height);n&&a?t=pPe(e,i):n?t=e:a&&(t=i)}return t}function APe(r){if(!r.length)return null;var t=[],e=[],n=[],i=[];return q(r,function(a){var o=TPe(a);o&&(t.push(o.minX),e.push(o.minY),n.push(o.maxX),i.push(o.maxY))}),{minX:Os(t),minY:Os(e),maxX:bs(n),maxY:bs(i)}}function kPe(r,t){return!r||!t||!bw(r,t)?null:{minX:Math.max(r.minX,t.minX),minY:Math.max(r.minY,t.minY),maxX:Math.min(r.maxX,t.maxX),maxY:Math.min(r.maxY,t.maxY)}}var tN=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onCanvasChange=function(e){BQ(this,e)},t.prototype.getShapeBase=function(){return PT},t.prototype.getGroupBase=function(){return t},t.prototype._applyClip=function(e,n){n&&(e.save(),w0(e,n),n.createPath(e),e.restore(),e.clip(),n._afterDraw())},t.prototype.cacheCanvasBBox=function(){var e=this.cfg.children,n=[],i=[];q(e,function(d){var h=d.cfg.cacheCanvasBBox;h&&d.cfg.isInView&&(n.push(h.minX,h.maxX),i.push(h.minY,h.maxY))});var a=null;if(n.length){var o=Os(n),s=bs(n),l=Os(i),u=bs(i);a={minX:o,minY:l,x:o,y:l,maxX:s,maxY:u,width:s-o,height:u-l};var c=this.cfg.canvas;if(c){var f=c.getViewRange();this.set("isInView",bw(a,f))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",a)},t.prototype.draw=function(e,n){var i=this.cfg.children,a=n?this.cfg.refresh:!0;i.length&&a&&(e.save(),w0(e,this),this._applyClip(e,this.getClip()),FD(e,i,n),e.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},t}(kA),MPe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return P(P({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.getShapeBase=function(){return PT},t.prototype.getGroupBase=function(){return tN},t.prototype.onCanvasChange=function(e){BQ(this,e)},t.prototype.calculateBBox=function(){var e=this.get("type"),n=this.getHitLineWidth(),i=IA(e),a=i(this),o=n/2,s=a.x-o,l=a.y-o,u=a.x+a.width+o,c=a.y+a.height+o;return{x:s,minX:s,y:l,minY:l,width:a.width+n,height:a.height+n,maxX:u,maxY:c}},t.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},t.prototype.isStroke=function(){return!!this.attrs.stroke},t.prototype._applyClip=function(e,n){n&&(e.save(),w0(e,n),n.createPath(e),e.restore(),e.clip(),n._afterDraw())},t.prototype.draw=function(e,n){var i=this.cfg.clipShape;if(n){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var a=this.getCanvasBBox();if(!bw(n,a)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}e.save(),w0(e,this),this._applyClip(e,i),this.drawPath(e),e.restore(),this._afterDraw()},t.prototype.getCanvasViewBox=function(){var e=this.cfg.canvas;return e?e.getViewRange():null},t.prototype.cacheCanvasBBox=function(){var e=this.getCanvasViewBox();if(e){var n=this.getCanvasBBox(),i=bw(n,e);this.set("isInView",i),i?this.set("cacheCanvasBBox",n):this.set("cacheCanvasBBox",null)}},t.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},t.prototype.drawPath=function(e){this.createPath(e),this.strokeAndFill(e),this.afterDrawPath(e)},t.prototype.fill=function(e){e.fill()},t.prototype.stroke=function(e){e.stroke()},t.prototype.strokeAndFill=function(e){var n=this.attrs,i=n.lineWidth,a=n.opacity,o=n.strokeOpacity,s=n.fillOpacity;this.isFill()&&(!xt(s)&&s!==1?(e.globalAlpha=s,this.fill(e),e.globalAlpha=a):this.fill(e)),this.isStroke()&&i>0&&(!xt(o)&&o!==1&&(e.globalAlpha=o),this.stroke(e)),this.afterDrawPath(e)},t.prototype.createPath=function(e){},t.prototype.afterDrawPath=function(e){},t.prototype.isInShape=function(e,n){var i=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(e,n,i,a,o)},t.prototype.isInStrokeOrPath=function(e,n,i,a,o){return!1},t.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var e=this.attrs;return e.lineWidth+e.lineAppendWidth},t}(MA),oc=MPe,IPe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return P(P({},e),{x:0,y:0,r:0})},t.prototype.isInStrokeOrPath=function(e,n,i,a,o){var s=this.attr(),l=s.x,u=s.y,c=s.r,f=o/2,d=PQ(l,u,e,n);return a&&i?d<=c+f:a?d<=c:i?d>=c-f&&d<=c+f:!1},t.prototype.createPath=function(e){var n=this.attr(),i=n.x,a=n.y,o=n.r;e.beginPath(),e.arc(i,a,o,0,Math.PI*2,!1),e.closePath()},t}(oc),PPe=IPe;function TE(r,t,e,n){return r/(e*e)+t/(n*n)}var RPe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return P(P({},e),{x:0,y:0,rx:0,ry:0})},t.prototype.isInStrokeOrPath=function(e,n,i,a,o){var s=this.attr(),l=o/2,u=s.x,c=s.y,f=s.rx,d=s.ry,h=(e-u)*(e-u),v=(n-c)*(n-c);return a&&i?TE(h,v,f+l,d+l)<=1:a?TE(h,v,f,d)<=1:i?TE(h,v,f-l,d-l)>=1&&TE(h,v,f+l,d+l)<=1:!1},t.prototype.createPath=function(e){var n=this.attr(),i=n.x,a=n.y,o=n.rx,s=n.ry;if(e.beginPath(),e.ellipse)e.ellipse(i,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,u=o>s?1:o/s,c=o>s?s/o:1;e.save(),e.translate(i,a),e.scale(u,c),e.arc(0,0,l,0,Math.PI*2),e.restore(),e.closePath()}},t}(oc),DPe=RPe;function X$(r){return r instanceof HTMLElement&&wt(r.nodeName)&&r.nodeName.toUpperCase()==="CANVAS"}var OPe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return P(P({},e),{x:0,y:0,width:0,height:0})},t.prototype.initAttrs=function(e){this._setImage(e.img)},t.prototype.isStroke=function(){return!1},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var e=this.get("canvas");e?e.draw():this.createPath(this.get("context"))}},t.prototype._setImage=function(e){var n=this,i=this.attrs;if(wt(e)){var a=new Image;a.onload=function(){if(n.destroyed)return!1;n.attr("img",a),n.set("loading",!1),n._afterLoading();var o=n.get("callback");o&&o.call(n)},a.crossOrigin="Anonymous",a.src=e,this.set("loading",!0)}else e instanceof Image?(i.width||(i.width=e.width),i.height||(i.height=e.height)):X$(e)&&(i.width||(i.width=Number(e.getAttribute("width"))),i.height||(i.height,Number(e.getAttribute("height"))))},t.prototype.onAttrChange=function(e,n,i){r.prototype.onAttrChange.call(this,e,n,i),e==="img"&&this._setImage(n)},t.prototype.createPath=function(e){if(this.get("loading")){this.set("toDraw",!0),this.set("context",e);return}var n=this.attr(),i=n.x,a=n.y,o=n.width,s=n.height,l=n.sx,u=n.sy,c=n.swidth,f=n.sheight,d=n.img;(d instanceof Image||X$(d))&&(!xt(l)&&!xt(u)&&!xt(c)&&!xt(f)?e.drawImage(d,l,u,c,f,i,a,o,s):e.drawImage(d,i,a,o,s))},t}(oc),LPe=OPe;function ev(r,t,e,n,i,a,o){var s=Math.min(r,e),l=Math.max(r,e),u=Math.min(t,n),c=Math.max(t,n),f=i/2;return a>=s-f&&a<=l+f&&o>=u-f&&o<=c+f?Ho.pointToLine(r,t,e,n,a,o)<=i/2:!1}var FPe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return P(P({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(e,n,i){r.prototype.onAttrChange.call(this,e,n,i),this.setArrow()},t.prototype.setArrow=function(){var e=this.attr(),n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.startArrow,l=e.endArrow;s&&QF(this,e,a,o,n,i),l&&JF(this,e,n,i,a,o)},t.prototype.isInStrokeOrPath=function(e,n,i,a,o){if(!i||!o)return!1;var s=this.attr(),l=s.x1,u=s.y1,c=s.x2,f=s.y2;return ev(l,u,c,f,o,e,n)},t.prototype.createPath=function(e){var n=this.attr(),i=n.x1,a=n.y1,o=n.x2,s=n.y2,l=n.startArrow,u=n.endArrow,c={dx:0,dy:0},f={dx:0,dy:0};l&&l.d&&(c=ug(i,a,o,s,n.startArrow.d)),u&&u.d&&(f=ug(i,a,o,s,n.endArrow.d)),e.beginPath(),e.moveTo(i+c.dx,a+c.dy),e.lineTo(o-f.dx,s-f.dy)},t.prototype.afterDrawPath=function(e){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(e),i&&i.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr(),n=e.x1,i=e.y1,a=e.x2,o=e.y2;return Ho.length(n,i,a,o)},t.prototype.getPoint=function(e){var n=this.attr(),i=n.x1,a=n.y1,o=n.x2,s=n.y2;return Ho.pointAt(i,a,o,s,e)},t}(oc),NPe=FPe,BPe={circle:function(r,t,e){return[["M",r-e,t],["A",e,e,0,1,0,r+e,t],["A",e,e,0,1,0,r-e,t]]},square:function(r,t,e){return[["M",r-e,t-e],["L",r+e,t-e],["L",r+e,t+e],["L",r-e,t+e],["Z"]]},diamond:function(r,t,e){return[["M",r-e,t],["L",r,t-e],["L",r+e,t],["L",r,t+e],["Z"]]},triangle:function(r,t,e){var n=e*Math.sin(.3333333333333333*Math.PI);return[["M",r-e,t+n],["L",r,t-n],["L",r+e,t+n],["Z"]]},"triangle-down":function(r,t,e){var n=e*Math.sin(.3333333333333333*Math.PI);return[["M",r-e,t-n],["L",r+e,t-n],["L",r,t+n],["Z"]]}},zPe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.initAttrs=function(e){this._resetParamsCache()},t.prototype._resetParamsCache=function(){this.set("paramsCache",{})},t.prototype.onAttrChange=function(e,n,i){r.prototype.onAttrChange.call(this,e,n,i),["symbol","x","y","r","radius"].indexOf(e)!==-1&&this._resetParamsCache()},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._getR=function(e){return xt(e.r)?e.radius:e.r},t.prototype._getPath=function(){var e=this.attr(),n=e.x,i=e.y,a=e.symbol||"circle",o=this._getR(e),s,l;if(yr(a))s=a,l=s(n,i,o),l=aQ(l);else{if(s=t.Symbols[a],!s)return console.warn(a+" marker is not supported."),null;l=s(n,i,o)}return l},t.prototype.createPath=function(e){var n=this._getPath(),i=this.get("paramsCache");NQ(this,e,{path:n},i)},t.Symbols=BPe,t}(oc),$Pe=zPe;function zQ(r,t,e){var n=RA();return r.createPath(n),n.isPointInPath(t,e)}var GPe=1e-6;function XI(r){return Math.abs(r)<GPe?0:r<0?-1:1}function UPe(r,t,e){return(e[0]-r[0])*(t[1]-r[1])===(t[0]-r[0])*(e[1]-r[1])&&Math.min(r[0],t[0])<=e[0]&&e[0]<=Math.max(r[0],t[0])&&Math.min(r[1],t[1])<=e[1]&&e[1]<=Math.max(r[1],t[1])}function $Q(r,t,e){var n=!1,i=r.length;if(i<=2)return!1;for(var a=0;a<i;a++){var o=r[a],s=r[(a+1)%i];if(UPe(o,s,[t,e]))return!0;XI(o[1]-e)>0!=XI(s[1]-e)>0&&XI(t-(e-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(n=!n)}return n}function o1(r,t,e,n,i,a,o,s){var l=(Math.atan2(s-t,o-r)+Math.PI*2)%(Math.PI*2);if(l<n||l>i)return!1;var u={x:r+e*Math.cos(l),y:t+e*Math.sin(l)};return PQ(u.x,u.y,o,s)<=a/2}var HPe=Ai;function VPe(r){for(var t=!1,e=r.length,n=0;n<e;n++){var i=r[n],a=i[0];if(a==="C"||a==="A"||a==="Q"){t=!0;break}}return t}function WPe(r,t,e,n,i){for(var a=!1,o=t/2,s=0;s<r.length;s++){var l=r[s],u=l.currentPoint,c=l.params,f=l.prePoint,d=l.box;if(!(d&&!Zp(d.x-o,d.y-o,d.width+t,d.height+t,e,n))){switch(l.command){case"L":case"Z":a=ev(f[0],f[1],u[0],u[1],t,e,n);break;case"Q":var h=tQ.pointDistance(f[0],f[1],c[1],c[2],c[3],c[4],e,n);a=h<=t/2;break;case"C":var v=I1.pointDistance(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6],e,n,i);a=v<=t/2;break;case"A":var p=l.arcParams,g=p.cx,m=p.cy,y=p.rx,b=p.ry,w=p.startAngle,S=p.endAngle,E=p.xRotation,_=[e,n,1],A=y>b?y:b,k=y>b?1:y/b,T=y>b?b/y:1,I=HPe(null,[["t",-g,-m],["r",-E],["s",1/k,1/T]]);of(_,_,I),a=o1(0,0,A,w,S,t,_[0],_[1]);break}if(a)break}}return a}function jPe(r){for(var t=r.length,e=[],n=[],i=[],a=0;a<t;a++){var o=r[a],s=o[0];s==="M"?(i.length&&(n.push(i),i=[]),i.push([o[1],o[2]])):s==="Z"?i.length&&(e.push(i),i=[]):i.push([o[1],o[2]])}return i.length>0&&n.push(i),{polygons:e,polylines:n}}var AE=P({hasArc:VPe,extractPolygons:jPe,isPointInStroke:WPe},LF);function q$(r,t,e){for(var n=!1,i=0;i<r.length;i++){var a=r[i];if(n=$Q(a,t,e),n)break}return n}var YPe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return P(P({},e),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this._setPathArr(e.path),this.setArrow()},t.prototype.onAttrChange=function(e,n,i){r.prototype.onAttrChange.call(this,e,n,i),e==="path"&&this._setPathArr(n),this.setArrow()},t.prototype._setPathArr=function(e){this.attrs.path=aQ(e);var n=AE.hasArc(e);this.set("hasArc",n),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},t.prototype.getSegments=function(){var e=this.get("segements");return e||(e=oQ(this.attr("path")),this.set("segments",e)),e},t.prototype.setArrow=function(){var e=this.attr(),n=e.startArrow,i=e.endArrow;if(n){var a=this.getStartTangent();QF(this,e,a[0][0],a[0][1],a[1][0],a[1][1])}if(i){var a=this.getEndTangent();JF(this,e,a[0][0],a[0][1],a[1][0],a[1][1])}},t.prototype.isInStrokeOrPath=function(e,n,i,a,o){var s=this.getSegments(),l=this.get("hasArc"),u=!1;if(i){var c=this.getTotalLength();u=AE.isPointInStroke(s,o,e,n,c)}if(!u&&a)if(l)u=zQ(this,e,n);else{var f=this.attr("path"),d=AE.extractPolygons(f);u=q$(d.polygons,e,n)||q$(d.polylines,e,n)}return u},t.prototype.createPath=function(e){var n=this.attr(),i=this.get("paramsCache");NQ(this,e,n,i)},t.prototype.afterDrawPath=function(e){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(e),i&&i.draw(e)},t.prototype.getTotalLength=function(){var e=this.get("totalLength");return xt(e)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):e},t.prototype.getPoint=function(e){var n=this.get("tCache");n||(this._calculateCurve(),this._setTcache(),n=this.get("tCache"));var i,a,o=this.get("curve");if(!n||n.length===0)return o?{x:o[0][1],y:o[0][2]}:null;q(n,function(c,f){e>=c[0]&&e<=c[1]&&(i=(e-c[0])/(c[1]-c[0]),a=f)});var s=o[a];if(xt(s)||xt(a))return null;var l=s.length,u=o[a+1];return I1.pointAt(s[l-2],s[l-1],u[1],u[2],u[3],u[4],u[5],u[6],i)},t.prototype._calculateCurve=function(){var e=this.attr().path;this.set("curve",AE.pathToCurve(e))},t.prototype._setTcache=function(){var e=0,n=0,i=[],a,o,s,l,u=this.get("curve");if(!!u){if(q(u,function(c,f){s=u[f+1],l=c.length,s&&(e+=I1.length(c[l-2],c[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",e),e===0){this.set("tCache",[]);return}q(u,function(c,f){s=u[f+1],l=c.length,s&&(a=[],a[0]=n/e,o=I1.length(c[l-2],c[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),n+=o||0,a[1]=n/e,i.push(a))}),this.set("tCache",i)}},t.prototype.getStartTangent=function(){var e=this.getSegments(),n;if(e.length>1){var i=e[0].currentPoint,a=e[1].currentPoint,o=e[1].startTangent;n=[],o?(n.push([i[0]-o[0],i[1]-o[1]]),n.push([i[0],i[1]])):(n.push([a[0],a[1]]),n.push([i[0],i[1]]))}return n},t.prototype.getEndTangent=function(){var e=this.getSegments(),n=e.length,i;if(n>1){var a=e[n-2].currentPoint,o=e[n-1].currentPoint,s=e[n-1].endTangent;i=[],s?(i.push([o[0]-s[0],o[1]-s[1]]),i.push([o[0],o[1]])):(i.push([a[0],a[1]]),i.push([o[0],o[1]]))}return i},t}(oc),rN=YPe;function GQ(r,t,e,n,i){var a=r.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=r[o][0],l=r[o][1],u=r[o+1][0],c=r[o+1][1];if(ev(s,l,u,c,t,e,n))return!0}if(i){var f=r[0],d=r[a-1];if(ev(f[0],f[1],d[0],d[1],t,e,n))return!0}return!1}var XPe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.isInStrokeOrPath=function(e,n,i,a,o){var s=this.attr().points,l=!1;return i&&(l=GQ(s,o,e,n,!0)),!l&&a&&(l=$Q(s,e,n)),l},t.prototype.createPath=function(e){var n=this.attr(),i=n.points;if(!(i.length<2)){e.beginPath();for(var a=0;a<i.length;a++){var o=i[a];a===0?e.moveTo(o[0],o[1]):e.lineTo(o[0],o[1])}e.closePath()}},t}(oc),qPe=XPe,KPe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return P(P({},e),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(e,n,i){r.prototype.onAttrChange.call(this,e,n,i),this.setArrow(),["points"].indexOf(e)!==-1&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.setArrow=function(){var e=this.attr(),n=this.attrs,i=n.points,a=n.startArrow,o=n.endArrow,s=i.length,l=i[0][0],u=i[0][1],c=i[s-1][0],f=i[s-1][1];a&&QF(this,e,i[1][0],i[1][1],l,u),o&&JF(this,e,i[s-2][0],i[s-2][1],c,f)},t.prototype.isFill=function(){return!1},t.prototype.isInStrokeOrPath=function(e,n,i,a,o){if(!i||!o)return!1;var s=this.attr().points;return GQ(s,o,e,n,!1)},t.prototype.isStroke=function(){return!0},t.prototype.createPath=function(e){var n=this.attr(),i=n.points,a=n.startArrow,o=n.endArrow,s=i.length;if(!(i.length<2)){var l=i[0][0],u=i[0][1],c=i[s-1][0],f=i[s-1][1];if(a&&a.d){var d=ug(l,u,i[1][0],i[1][1],a.d);l+=d.dx,u+=d.dy}if(o&&o.d){var d=ug(i[s-2][0],i[s-2][1],c,f,o.d);c-=d.dx,f-=d.dy}e.beginPath(),e.moveTo(l,u);for(var h=0;h<s-1;h++){var v=i[h];e.lineTo(v[0],v[1])}e.lineTo(c,f)}},t.prototype.afterDrawPath=function(e){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(e),i&&i.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr().points,n=this.get("totalLength");return xt(n)?(this.set("totalLength",iQ.length(e)),this.get("totalLength")):n},t.prototype.getPoint=function(e){var n=this.attr().points,i=this.get("tCache");i||(this._setTcache(),i=this.get("tCache"));var a,o;return q(i,function(s,l){e>=s[0]&&e<=s[1]&&(a=(e-s[0])/(s[1]-s[0]),o=l)}),Ho.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],a)},t.prototype._setTcache=function(){var e=this.attr().points;if(!(!e||e.length===0)){var n=this.getTotalLength();if(!(n<=0)){var i=0,a=[],o,s;q(e,function(l,u){e[u+1]&&(o=[],o[0]=i/n,s=Ho.length(l[0],l[1],e[u+1][0],e[u+1][1]),i+=s,o[1]=i/n,a.push(o))}),this.set("tCache",a)}}},t.prototype.getStartTangent=function(){var e=this.attr().points,n=[];return n.push([e[1][0],e[1][1]]),n.push([e[0][0],e[0][1]]),n},t.prototype.getEndTangent=function(){var e=this.attr().points,n=e.length-1,i=[];return i.push([e[n-1][0],e[n-1][1]]),i.push([e[n][0],e[n][1]]),i},t}(oc),ZPe=KPe;function QPe(r,t,e,n,i,a,o){var s=i/2;return Zp(r-s,t-s,e,i,a,o)||Zp(r+e-s,t-s,i,n,a,o)||Zp(r+s,t+n-s,e,i,a,o)||Zp(r-s,t+s,i,n,a,o)}function JPe(r,t,e,n,i,a,o,s){return ev(r+i,t,r+e-i,t,a,o,s)||ev(r+e,t+i,r+e,t+n-i,a,o,s)||ev(r+e-i,t+n,r+i,t+n,a,o,s)||ev(r,t+n-i,r,t+i,a,o,s)||o1(r+e-i,t+i,i,1.5*Math.PI,2*Math.PI,a,o,s)||o1(r+e-i,t+n-i,i,0,.5*Math.PI,a,o,s)||o1(r+i,t+n-i,i,.5*Math.PI,Math.PI,a,o,s)||o1(r+i,t+i,i,Math.PI,1.5*Math.PI,a,o,s)}var eRe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return P(P({},e),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.isInStrokeOrPath=function(e,n,i,a,o){var s=this.attr(),l=s.x,u=s.y,c=s.width,f=s.height,d=s.radius;if(d){var v=!1;return i&&(v=JPe(l,u,c,f,d,o,e,n)),!v&&a&&(v=zQ(this,e,n)),v}else{var h=o/2;if(a&&i)return Zp(l-h,u-h,c+h,f+h,e,n);if(a)return Zp(l,u,c,f,e,n);if(i)return QPe(l,u,c,f,o,e,n)}},t.prototype.createPath=function(e){var n=this.attr(),i=n.x,a=n.y,o=n.width,s=n.height,l=n.radius;if(e.beginPath(),l===0)e.rect(i,a,o,s);else{var u=CPe(l),c=u[0],f=u[1],d=u[2],h=u[3];e.moveTo(i+c,a),e.lineTo(i+o-f,a),f!==0&&e.arc(i+o-f,a+f,f,-Math.PI/2,0),e.lineTo(i+o,a+s-d),d!==0&&e.arc(i+o-d,a+s-d,d,0,Math.PI/2),e.lineTo(i+h,a+s),h!==0&&e.arc(i+h,a+s-h,h,Math.PI/2,Math.PI),e.lineTo(i,a+c),c!==0&&e.arc(i+c,a+c,c,Math.PI,Math.PI*1.5),e.closePath()}},t}(oc),tRe=eRe,rRe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return P(P({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.isOnlyHitBox=function(){return!0},t.prototype.initAttrs=function(e){this._assembleFont(),e.text&&this._setText(e.text)},t.prototype._assembleFont=function(){var e=this.attrs;e.font=OA(e)},t.prototype._setText=function(e){var n=null;wt(e)&&e.indexOf(`
`)!==-1&&(n=e.split(`
`)),this.set("textArr",n)},t.prototype.onAttrChange=function(e,n,i){r.prototype.onAttrChange.call(this,e,n,i),e.startsWith("font")&&this._assembleFont(),e==="text"&&this._setText(n)},t.prototype._getSpaceingY=function(){var e=this.attrs,n=e.lineHeight,i=e.fontSize*1;return n?n-i:i*.14},t.prototype._drawTextArr=function(e,n,i){var a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,u=a.fontSize*1,c=this._getSpaceingY(),f=DA(a.text,a.fontSize,a.lineHeight),d;q(n,function(h,v){d=l+v*(c+u)-f+u,o==="middle"&&(d+=f-u-(f-u)/2),o==="top"&&(d+=f-u),xt(h)||(i?e.fillText(h,s,d):e.strokeText(h,s,d))})},t.prototype._drawText=function(e,n){var i=this.attr(),a=i.x,o=i.y,s=this.get("textArr");if(s)this._drawTextArr(e,s,n);else{var l=i.text;xt(l)||(n?e.fillText(l,a,o):e.strokeText(l,a,o))}},t.prototype.strokeAndFill=function(e){var n=this.attrs,i=n.lineWidth,a=n.opacity,o=n.strokeOpacity,s=n.fillOpacity;this.isStroke()&&i>0&&(!xt(o)&&o!==1&&(e.globalAlpha=a),this.stroke(e)),this.isFill()&&(!xt(s)&&s!==1?(e.globalAlpha=s,this.fill(e),e.globalAlpha=a):this.fill(e)),this.afterDrawPath(e)},t.prototype.fill=function(e){this._drawText(e,!0)},t.prototype.stroke=function(e){this._drawText(e,!1)},t}(oc),nRe=rRe;function iRe(r,t){if(t){var e=_A(t);return md(e,r)}return r}function UQ(r,t,e){var n=r.getTotalMatrix();if(n){var i=iRe([t,e,1],n),a=i[0],o=i[1];return[a,o]}return[t,e]}function K$(r,t,e){if(r.isCanvas&&r.isCanvas())return!0;if(!fw(r)||r.cfg.isInView===!1)return!1;if(r.cfg.clipShape){var n=UQ(r,t,e),i=n[0],a=n[1];if(r.isClipped(i,a))return!1}var o=r.cfg.cacheCanvasBBox||r.getCanvasBBox();return t>=o.minX&&t<=o.maxX&&e>=o.minY&&e<=o.maxY}function HQ(r,t,e){if(!K$(r,t,e))return null;for(var n=null,i=r.getChildren(),a=i.length,o=a-1;o>=0;o--){var s=i[o];if(s.isGroup())n=HQ(s,t,e);else if(K$(s,t,e)){var l=s,u=UQ(s,t,e),c=u[0],f=u[1];l.isInShape(c,f)&&(n=s)}if(n)break}return n}var hd=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return e.renderer="canvas",e.autoDraw=!0,e.localRefresh=!0,e.refreshElements=[],e.clipView=!0,e.quickHit=!1,e},t.prototype.onCanvasChange=function(e){(e==="attr"||e==="sort"||e==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},t.prototype.getShapeBase=function(){return PT},t.prototype.getGroupBase=function(){return tN},t.prototype.getPixelRatio=function(){var e=this.get("pixelRatio")||vPe();return e>=1?Math.ceil(e):1},t.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},t.prototype.createDom=function(){var e=document.createElement("canvas"),n=e.getContext("2d");return this.set("context",n),e},t.prototype.setDOMSize=function(e,n){r.prototype.setDOMSize.call(this,e,n);var i=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*e,a.height=o*n,o>1&&i.scale(o,o)},t.prototype.clear=function(){r.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),n=this.get("el");e.clearRect(0,0,n.width,n.height)},t.prototype.getShape=function(e,n){var i;return this.get("quickHit")?i=HQ(this,e,n):i=r.prototype.getShape.call(this,e,n,null),i},t.prototype._getRefreshRegion=function(){var e=this.get("refreshElements"),n=this.getViewRange(),i;if(e.length&&e[0]===this)i=n;else if(i=APe(e),i){i.minX=Math.floor(i.minX),i.minY=Math.floor(i.minY),i.maxX=Math.ceil(i.maxX),i.maxY=Math.ceil(i.maxY),i.maxY+=1;var a=this.get("clipView");a&&(i=kPe(i,n))}return i},t.prototype.refreshElement=function(e){var n=this.get("refreshElements");n.push(e)},t.prototype._clearFrame=function(){var e=this.get("drawFrame");e&&(bK(e),this.set("drawFrame",null),this.set("refreshElements",[]))},t.prototype.draw=function(){var e=this.get("drawFrame");this.get("autoDraw")&&e||this._startDraw()},t.prototype._drawAll=function(){var e=this.get("context"),n=this.get("el"),i=this.getChildren();e.clearRect(0,0,n.width,n.height),w0(e,this),FD(e,i),this.set("refreshElements",[])},t.prototype._drawRegion=function(){var e=this.get("context"),n=this.get("refreshElements"),i=this.getChildren(),a=this._getRefreshRegion();a?(e.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),e.save(),e.beginPath(),e.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),e.clip(),w0(e,this),EPe(this,i,a),FD(e,i,a),e.restore()):n.length&&FQ(n),q(n,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},t.prototype._startDraw=function(){var e=this,n=this.get("drawFrame");n||(n=yK(function(){e.get("localRefresh")?e._drawRegion():e._drawAll(),e.set("drawFrame",null)}),this.set("drawFrame",n))},t.prototype.skipDraw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.width=0,e.height=0,e.parentNode.removeChild(e)},t}(AA),aRe="0.5.12",oRe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Shape:PT,version:aRe,Canvas:hd,Group:tN,getArcParams:j_,Event:Z0,Base:EA,AbstractCanvas:AA,AbstractGroup:kA,AbstractShape:MA,getBBoxMethod:IA,registerBBox:Cu,getTextHeight:DA,assembleFont:OA,isAllowCapture:fw,multiplyVec2:md,invert:_A,getOffScreenContext:RA,PathUtil:LF}),BD={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},Jn={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function wu(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function VQ(r){var t=BD[r.type],e=r.getParent();if(!t)throw new Error("the type "+r.type+" is not supported by svg");var n=wu(t);if(r.get("id")&&(n.id=r.get("id")),r.set("el",n),r.set("attrs",{}),e){var i=e.get("el");i||(i=e.createDom(),e.set("el",i)),i.appendChild(n)}return n}function WQ(r,t){var e=r.get("el"),n=SK(e.children).sort(t),i=document.createDocumentFragment();n.forEach(function(a){i.appendChild(a)}),e.appendChild(i)}function sRe(r,t){var e=r.parentNode,n=Array.from(e.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),i=n[t],a=n.indexOf(r);if(i){if(a>t)e.insertBefore(r,i);else if(a<t){var o=n[t+1];o?e.insertBefore(r,o):e.appendChild(r)}}else e.appendChild(r)}function lRe(r,t){var e=r.cfg.el,n=r.attr(),i={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(!i.dx&&!i.dy&&!i.blur&&!i.color)e.removeAttribute("filter");else{var a=t.find("filter",i);a||(a=t.addShadow(i)),e.setAttribute("filter","url(#"+a+")")}}function vS(r){var t=r.attr().matrix;if(t){for(var e=r.cfg.el,n=[],i=0;i<9;i+=3)n.push(t[i]+","+t[i+1]);n=n.join(","),n.indexOf("NaN")===-1?e.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",t)}}function xw(r,t){var e=r.getClip(),n=r.get("el");if(!e)n.removeAttribute("clip-path");else if(e&&!n.hasAttribute("clip-path")){VQ(e),e.createPath(t);var i=t.addClip(e);n.setAttribute("clip-path","url(#"+i+")")}}function jQ(r,t){t.forEach(function(e){e.draw(r)})}function YQ(r,t){var e=r.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context"),i=r.getParent(),a=i?i.getChildren():[e],o=r.get("el");if(t==="remove"){var s=r.get("isClipShape");if(s){var l=o&&o.parentNode,u=l&&l.parentNode;l&&u&&u.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(t==="show")o.setAttribute("visibility","visible");else if(t==="hide")o.setAttribute("visibility","hidden");else if(t==="zIndex")sRe(o,a.indexOf(r));else if(t==="sort"){var c=r.get("children");c&&c.length&&WQ(r,function(f,d){return c.indexOf(f)-c.indexOf(d)?1:0})}else t==="clear"?o&&(o.innerHTML=""):t==="matrix"?vS(r):t==="clip"?xw(r,n):t==="attr"||t==="add"&&r.draw(n)}}var nN=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.isEntityGroup=function(){return!0},t.prototype.createDom=function(){var e=wu("g");this.set("el",e);var n=this.getParent();if(n){var i=n.get("el");i||(i=n.createDom(),n.set("el",i)),i.appendChild(e)}return e},t.prototype.afterAttrsChange=function(e){r.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var i=n.get("context");this.createPath(i,e)}},t.prototype.onCanvasChange=function(e){YQ(this,e)},t.prototype.getShapeBase=function(){return RT},t.prototype.getGroupBase=function(){return t},t.prototype.draw=function(e){var n=this.getChildren(),i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||this.createDom(),xw(this,e),this.createPath(e),n.length&&jQ(e,n))},t.prototype.createPath=function(e,n){var i=this.attr(),a=this.get("el");q(n||i,function(o,s){Jn[s]&&a.setAttribute(Jn[s],o)}),vS(this)},t}(kA),uRe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="svg",e.canFill=!1,e.canStroke=!1,e}return t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return P(P({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.afterAttrsChange=function(e){r.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var i=n.get("context");this.draw(i,e)}},t.prototype.getShapeBase=function(){return RT},t.prototype.getGroupBase=function(){return nN},t.prototype.onCanvasChange=function(e){YQ(this,e)},t.prototype.calculateBBox=function(){var e=this.get("el"),n=null;if(e)n=e.getBBox();else{var i=IA(this.get("type"));i&&(n=i(this))}if(n){var a=n.x,o=n.y,s=n.width,l=n.height,u=this.getHitLineWidth(),c=u/2,f=a-c,d=o-c,h=a+s+c,v=o+l+c;return{x:f,y:d,minX:f,minY:d,maxX:h,maxY:v,width:s+u,height:l+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},t.prototype.isFill=function(){var e=this.attr(),n=e.fill,i=e.fillStyle;return(n||i||this.isClipShape())&&this.canFill},t.prototype.isStroke=function(){var e=this.attr(),n=e.stroke,i=e.strokeStyle;return(n||i)&&this.canStroke},t.prototype.draw=function(e,n){var i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||VQ(this),xw(this,e),this.createPath(e,n),this.shadow(e,n),this.strokeAndFill(e,n),this.transform(n))},t.prototype.createPath=function(e,n){},t.prototype.strokeAndFill=function(e,n){var i=n||this.attr(),a=i.fill,o=i.fillStyle,s=i.stroke,l=i.strokeStyle,u=i.fillOpacity,c=i.strokeOpacity,f=i.lineWidth,d=this.get("el");this.canFill&&(n?"fill"in i?this._setColor(e,"fill",a):"fillStyle"in i&&this._setColor(e,"fill",o):this._setColor(e,"fill",a||o),u&&d.setAttribute(Jn.fillOpacity,u)),this.canStroke&&f>0&&(n?"stroke"in i?this._setColor(e,"stroke",s):"strokeStyle"in i&&this._setColor(e,"stroke",l):this._setColor(e,"stroke",s||l),c&&d.setAttribute(Jn.strokeOpacity,c),f&&d.setAttribute(Jn.lineWidth,f))},t.prototype._setColor=function(e,n,i){var a=this.get("el");if(!i){a.setAttribute(Jn[n],"none");return}if(i=i.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(i)){var o=e.find("gradient",i);o||(o=e.addGradient(i)),a.setAttribute(Jn[n],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(i)){var o=e.find("pattern",i);o||(o=e.addPattern(i)),a.setAttribute(Jn[n],"url(#"+o+")")}else a.setAttribute(Jn[n],i)},t.prototype.shadow=function(e,n){var i=this.attr(),a=n||i,o=a.shadowOffsetX,s=a.shadowOffsetY,l=a.shadowBlur,u=a.shadowColor;(o||s||l||u)&&lRe(this,e)},t.prototype.transform=function(e){var n=this.attr(),i=(e||n).matrix;i&&vS(this)},t.prototype.isInShape=function(e,n){return this.isPointInPath(e,n)},t.prototype.isPointInPath=function(e,n){var i=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=e+o.left,l=n+o.top,u=document.elementFromPoint(s,l);return!!(u&&u.isEqualNode(i))},t.prototype.getHitLineWidth=function(){var e=this.attrs,n=e.lineWidth,i=e.lineAppendWidth;return this.isStroke()?n+i:0},t}(MA),Eu=uRe,cRe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="circle",e.canFill=!0,e.canStroke=!0,e}return t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return P(P({},e),{x:0,y:0,r:0})},t.prototype.createPath=function(e,n){var i=this.attr(),a=this.get("el");q(n||i,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):Jn[s]&&a.setAttribute(Jn[s],o)})},t}(Eu),fRe=cRe,dRe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dom",e.canFill=!1,e.canStroke=!1,e}return t.prototype.createPath=function(e,n){var i=this.attr(),a=this.get("el");if(q(n||i,function(u,c){Jn[c]&&a.setAttribute(Jn[c],u)}),typeof i.html=="function"){var o=i.html.call(this,i);if(o instanceof Element||o instanceof HTMLDocument){for(var s=a.childNodes,l=s.length-1;l>=0;l--)a.removeChild(s[l]);a.appendChild(o)}else a.innerHTML=o}else a.innerHTML=i.html},t}(Eu),hRe=dRe,vRe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="ellipse",e.canFill=!0,e.canStroke=!0,e}return t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return P(P({},e),{x:0,y:0,rx:0,ry:0})},t.prototype.createPath=function(e,n){var i=this.attr(),a=this.get("el");q(n||i,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):Jn[s]&&a.setAttribute(Jn[s],o)})},t}(Eu),pRe=vRe,gRe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="image",e.canFill=!1,e.canStroke=!1,e}return t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return P(P({},e),{x:0,y:0,width:0,height:0})},t.prototype.createPath=function(e,n){var i=this,a=this.attr(),o=this.get("el");q(n||a,function(s,l){l==="img"?i._setImage(a.img):Jn[l]&&o.setAttribute(Jn[l],s)})},t.prototype.setAttr=function(e,n){this.attrs[e]=n,e==="img"&&this._setImage(n)},t.prototype._setImage=function(e){var n=this.attr(),i=this.get("el");if(wt(e))i.setAttribute("href",e);else if(e instanceof window.Image)n.width||(i.setAttribute("width",e.width),this.attr("width",e.width)),n.height||(i.setAttribute("height",e.height),this.attr("height",e.height)),i.setAttribute("href",e.src);else if(e instanceof HTMLElement&&wt(e.nodeName)&&e.nodeName.toUpperCase()==="CANVAS")i.setAttribute("href",e.toDataURL());else if(e instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+e.width),a.setAttribute("height",""+e.height),a.getContext("2d").putImageData(e,0,0),n.width||(i.setAttribute("width",""+e.width),this.attr("width",e.width)),n.height||(i.setAttribute("height",""+e.height),this.attr("height",e.height)),i.setAttribute("href",a.toDataURL())}},t}(Eu),mRe=gRe,yRe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="line",e.canFill=!1,e.canStroke=!0,e}return t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return P(P({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.createPath=function(e,n){var i=this.attr(),a=this.get("el");q(n||i,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var l=Hn(o)?e.addArrow(i,Jn[s]):e.getDefaultArrow(i,Jn[s]);a.setAttribute(Jn[s],"url(#"+l+")")}else a.removeAttribute(Jn[s]);else Jn[s]&&a.setAttribute(Jn[s],o)})},t.prototype.getTotalLength=function(){var e=this.attr(),n=e.x1,i=e.y1,a=e.x2,o=e.y2;return Ho.length(n,i,a,o)},t.prototype.getPoint=function(e){var n=this.attr(),i=n.x1,a=n.y1,o=n.x2,s=n.y2;return Ho.pointAt(i,a,o,s,e)},t}(Eu),bRe=yRe,kE={circle:function(r,t,e){return[["M",r,t],["m",-e,0],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0]]},square:function(r,t,e){return[["M",r-e,t-e],["L",r+e,t-e],["L",r+e,t+e],["L",r-e,t+e],["Z"]]},diamond:function(r,t,e){return[["M",r-e,t],["L",r,t-e],["L",r+e,t],["L",r,t+e],["Z"]]},triangle:function(r,t,e){var n=e*Math.sin(.3333333333333333*Math.PI);return[["M",r-e,t+n],["L",r,t-n],["L",r+e,t+n],["z"]]},triangleDown:function(r,t,e){var n=e*Math.sin(.3333333333333333*Math.PI);return[["M",r-e,t-n],["L",r+e,t-n],["L",r,t+n],["Z"]]}},Z$={get:function(r){return kE[r]},register:function(r,t){kE[r]=t},remove:function(r){delete kE[r]},getAll:function(){return kE}},xRe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="marker",e.canFill=!0,e.canStroke=!0,e}return t.prototype.createPath=function(e){var n=this.get("el");n.setAttribute("d",this._assembleMarker())},t.prototype._assembleMarker=function(){var e=this._getPath();return gt(e)?e.map(function(n){return n.join(" ")}).join(""):e},t.prototype._getPath=function(){var e=this.attr(),n=e.x,i=e.y,a=e.r||e.radius,o=e.symbol||"circle",s;return yr(o)?s=o:s=Z$.get(o),s?s(n,i,a):(console.warn(s+" symbol is not exist."),null)},t.symbolsFactory=Z$,t}(Eu),wRe=xRe,SRe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="path",e.canFill=!0,e.canStroke=!0,e}return t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return P(P({},e),{startArrow:!1,endArrow:!1})},t.prototype.createPath=function(e,n){var i=this,a=this.attr(),o=this.get("el");q(n||a,function(s,l){if(l==="path"&&gt(s))o.setAttribute("d",i._formatPath(s));else if(l==="startArrow"||l==="endArrow")if(s){var u=Hn(s)?e.addArrow(a,Jn[l]):e.getDefaultArrow(a,Jn[l]);o.setAttribute(Jn[l],"url(#"+u+")")}else o.removeAttribute(Jn[l]);else Jn[l]&&o.setAttribute(Jn[l],s)})},t.prototype._formatPath=function(e){var n=e.map(function(i){return i.join(" ")}).join("");return~n.indexOf("NaN")?"":n},t.prototype.getTotalLength=function(){var e=this.get("el");return e?e.getTotalLength():null},t.prototype.getPoint=function(e){var n=this.get("el"),i=this.getTotalLength();if(i===0)return null;var a=n?n.getPointAtLength(e*i):null;return a?{x:a.x,y:a.y}:null},t}(Eu),CRe=SRe,ERe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="polygon",e.canFill=!0,e.canStroke=!0,e}return t.prototype.createPath=function(e,n){var i=this.attr(),a=this.get("el");q(n||i,function(o,s){s==="points"&&gt(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):Jn[s]&&a.setAttribute(Jn[s],o)})},t}(Eu),_Re=ERe,TRe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="polyline",e.canFill=!0,e.canStroke=!0,e}return t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return P(P({},e),{startArrow:!1,endArrow:!1})},t.prototype.onAttrChange=function(e,n,i){r.prototype.onAttrChange.call(this,e,n,i),["points"].indexOf(e)!==-1&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.createPath=function(e,n){var i=this.attr(),a=this.get("el");q(n||i,function(o,s){s==="points"&&gt(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):Jn[s]&&a.setAttribute(Jn[s],o)})},t.prototype.getTotalLength=function(){var e=this.attr().points,n=this.get("totalLength");return xt(n)?(this.set("totalLength",iQ.length(e)),this.get("totalLength")):n},t.prototype.getPoint=function(e){var n=this.attr().points,i=this.get("tCache");i||(this._setTcache(),i=this.get("tCache"));var a,o;return q(i,function(s,l){e>=s[0]&&e<=s[1]&&(a=(e-s[0])/(s[1]-s[0]),o=l)}),Ho.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],a)},t.prototype._setTcache=function(){var e=this.attr().points;if(!(!e||e.length===0)){var n=this.getTotalLength();if(!(n<=0)){var i=0,a=[],o,s;q(e,function(l,u){e[u+1]&&(o=[],o[0]=i/n,s=Ho.length(l[0],l[1],e[u+1][0],e[u+1][1]),i+=s,o[1]=i/n,a.push(o))}),this.set("tCache",a)}}},t.prototype.getStartTangent=function(){var e=this.attr().points,n=[];return n.push([e[1][0],e[1][1]]),n.push([e[0][0],e[0][1]]),n},t.prototype.getEndTangent=function(){var e=this.attr().points,n=e.length-1,i=[];return i.push([e[n-1][0],e[n-1][1]]),i.push([e[n][0],e[n][1]]),i},t}(Eu),ARe=TRe;function kRe(r){var t=0,e=0,n=0,i=0;return gt(r)?r.length===1?t=e=n=i=r[0]:r.length===2?(t=n=r[0],e=i=r[1]):r.length===3?(t=r[0],e=i=r[1],n=r[2]):(t=r[0],e=r[1],n=r[2],i=r[3]):t=e=n=i=r,{r1:t,r2:e,r3:n,r4:i}}var MRe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="rect",e.canFill=!0,e.canStroke=!0,e}return t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return P(P({},e),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.createPath=function(e,n){var i=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];q(n||a,function(u,c){l.indexOf(c)!==-1&&!s?(o.setAttribute("d",i._assembleRect(a)),s=!0):l.indexOf(c)===-1&&Jn[c]&&o.setAttribute(Jn[c],u)})},t.prototype._assembleRect=function(e){var n=e.x,i=e.y,a=e.width,o=e.height,s=e.radius;if(!s)return"M "+n+","+i+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=kRe(s);gt(s)?s.length===1?l.r1=l.r2=l.r3=l.r4=s[0]:s.length===2?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):s.length===3?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;var u=[["M "+(n+l.r1)+","+i],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]];return u.join(" ")},t}(Eu),IRe=MRe,Q$=.3,PRe={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},RRe={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},DRe={left:"left",start:"left",center:"middle",right:"end",end:"end"},ORe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="text",e.canFill=!0,e.canStroke=!0,e}return t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return P(P({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.createPath=function(e,n){var i=this,a=this.attr(),o=this.get("el");this._setFont(),q(n||a,function(s,l){l==="text"?i._setText(""+s):l==="matrix"&&s?vS(i):Jn[l]&&o.setAttribute(Jn[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},t.prototype._setFont=function(){var e=this.get("el"),n=this.attr(),i=n.textBaseline,a=n.textAlign,o=DZ();o&&o.name==="firefox"?e.setAttribute("dominant-baseline",RRe[i]||"alphabetic"):e.setAttribute("alignment-baseline",PRe[i]||"baseline"),e.setAttribute("text-anchor",DRe[a]||"left")},t.prototype._setText=function(e){var n=this.get("el"),i=this.attr(),a=i.x,o=i.textBaseline,s=o===void 0?"bottom":o;if(!e)n.innerHTML="";else if(~e.indexOf(`
`)){var l=e.split(`
`),u=l.length-1,c="";q(l,function(f,d){d===0?s==="alphabetic"?c+='<tspan x="'+a+'" dy="'+-u+'em">'+f+"</tspan>":s==="top"?c+='<tspan x="'+a+'" dy="0.9em">'+f+"</tspan>":s==="middle"?c+='<tspan x="'+a+'" dy="'+-(u-1)/2+'em">'+f+"</tspan>":s==="bottom"?c+='<tspan x="'+a+'" dy="-'+(u+Q$)+'em">'+f+"</tspan>":s==="hanging"&&(c+='<tspan x="'+a+'" dy="'+(-(u-1)-Q$)+'em">'+f+"</tspan>"):c+='<tspan x="'+a+'" dy="1em">'+f+"</tspan>"}),n.innerHTML=c}else n.innerHTML=e},t}(Eu),LRe=ORe,FRe=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,NRe=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,BRe=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function XQ(r){var t=r.match(BRe);if(!t)return"";var e="";return t.sort(function(n,i){return n=n.split(":"),i=i.split(":"),Number(n[0])-Number(i[0])}),q(t,function(n){n=n.split(":"),e+='<stop offset="'+n[0]+'" stop-color="'+n[1]+'"></stop>'}),e}function zRe(r,t){var e=FRe.exec(r),n=yA(bA(parseFloat(e[1])),Math.PI*2),i=e[2],a,o;n>=0&&n<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=n&&n<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=n&&n<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(n),l=s*s,u=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,c=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;t.setAttribute("x1",a.x),t.setAttribute("y1",a.y),t.setAttribute("x2",u),t.setAttribute("y2",c),t.innerHTML=XQ(i)}function $Re(r,t){var e=NRe.exec(r),n=parseFloat(e[1]),i=parseFloat(e[2]),a=parseFloat(e[3]),o=e[4];t.setAttribute("cx",n),t.setAttribute("cy",i),t.setAttribute("r",a),t.innerHTML=XQ(o)}var GRe=function(){function r(t){this.cfg={};var e=null,n=ec("gradient_");return t.toLowerCase()[0]==="l"?(e=wu("linearGradient"),zRe(t,e)):(e=wu("radialGradient"),$Re(t,e)),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}return r.prototype.match=function(t,e){return this.cfg===e},r}(),URe={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},HRe={x:"-40%",y:"-40%",width:"200%",height:"200%"},VRe=function(){function r(t){this.type="filter",this.cfg={},this.type="filter";var e=wu("filter");return q(HRe,function(n,i){e.setAttribute(i,n)}),this.el=e,this.id=ec("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}return r.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,i=this.cfg;return q(Object.keys(i),function(a){if(i[a]!==e[a])return n=!1,!1}),n},r.prototype.update=function(t,e){var n=this.cfg;return n[URe[t]]=e,this._parseShadow(n,this.el),this},r.prototype._parseShadow=function(t,e){var n=`<feDropShadow
      dx="`+(t.dx||0)+`"
      dy="`+(t.dy||0)+`"
      stdDeviation="`+(t.blur?t.blur/10:0)+`"
      flood-color="`+(t.color?t.color:"#000")+`"
      flood-opacity="`+(t.opacity?t.opacity:1)+`"
      />`;e.innerHTML=n},r}(),J$=function(){function r(t,e){this.cfg={};var n=wu("marker"),i=ec("marker_");n.setAttribute("id",i);var a=wu("path");a.setAttribute("stroke",t.stroke||"none"),a.setAttribute("fill",t.fill||"none"),n.appendChild(a),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=a,this.id=i;var o=t[e==="marker-start"?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",o===!0?this._setDefaultPath(e,a):(this.cfg=o,this._setMarker(t.lineWidth,a)),this}return r.prototype.match=function(){return!1},r.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY",""+5)},r.prototype._setMarker=function(t,e){var n=this.el,i=this.cfg.path,a=this.cfg.d;gt(i)&&(i=i.map(function(o){return o.join(" ")}).join("")),e.setAttribute("d",i),n.appendChild(e),a&&n.setAttribute("refX",""+a/t)},r.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},r}(),WRe=function(){function r(t){this.type="clip",this.cfg={};var e=wu("clipPath");this.el=e,this.id=ec("clip_"),e.id=this.id;var n=t.cfg.el;return e.appendChild(n),this.cfg=t,this}return r.prototype.match=function(){return!1},r.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},r}(),jRe=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,YRe=function(){function r(t){this.cfg={};var e=wu("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=wu("image");e.appendChild(n);var i=ec("pattern_");e.id=i,this.el=e,this.id=i,this.cfg=t;var a=jRe.exec(t),o=a[2];n.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function l(){e.setAttribute("width",""+s.width),e.setAttribute("height",""+s.height)}return s.complete?l():(s.onload=l,s.src=s.src),this}return r.prototype.match=function(t,e){return this.cfg===e},r}(),XRe=function(){function r(t){var e=wu("defs"),n=ec("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}return r.prototype.find=function(t,e){for(var n=this.children,i=null,a=0;a<n.length;a++)if(n[a].match(t,e)){i=n[a].id;break}return i},r.prototype.findById=function(t){for(var e=this.children,n=null,i=0;i<e.length;i++)if(e[i].id===t){n=e[i];break}return n},r.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},r.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var i=new J$(t,e);return this.defaultArrow[n]=i,this.el.appendChild(i.el),this.add(i),i.id},r.prototype.addGradient=function(t){var e=new GRe(t);return this.el.appendChild(e.el),this.add(e),e.id},r.prototype.addArrow=function(t,e){var n=new J$(t,e);return this.el.appendChild(n.el),this.add(n),n.id},r.prototype.addShadow=function(t){var e=new VRe(t);return this.el.appendChild(e.el),this.add(e),e.id},r.prototype.addPattern=function(t){var e=new YRe(t);return this.el.appendChild(e.el),this.add(e),e.id},r.prototype.addClip=function(t){var e=new WRe(t);return this.el.appendChild(e.el),this.add(e),e.id},r}(),Xy=function(r){Ve(t,r);function t(e){return r.call(this,P(P({},e),{autoDraw:!0,renderer:"svg"}))||this}return t.prototype.getShapeBase=function(){return RT},t.prototype.getGroupBase=function(){return nN},t.prototype.getShape=function(e,n,i){var a=i.target||i.srcElement;if(!BD[a.tagName]){for(var o=a.parentNode;o&&!BD[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},t.prototype.createDom=function(){var e=wu("svg"),n=new XRe(e);return e.setAttribute("width",""+this.get("width")),e.setAttribute("height",""+this.get("height")),this.set("context",n),e},t.prototype.onCanvasChange=function(e){var n=this.get("context"),i=this.get("el");if(e==="sort"){var a=this.get("children");a&&a.length&&WQ(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if(e==="clear"){if(i){i.innerHTML="";var o=n.el;o.innerHTML="",i.appendChild(o)}}else e==="matrix"?vS(this):e==="clip"?xw(this,n):e==="changeSize"&&(i.setAttribute("width",""+this.get("width")),i.setAttribute("height",""+this.get("height")))},t.prototype.draw=function(){var e=this.get("context"),n=this.getChildren();xw(this,e),n.length&&jQ(e,n)},t}(AA),qRe="0.5.6",KRe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Shape:RT,version:qRe,Canvas:Xy,Group:nN,Event:Z0,Base:EA,AbstractCanvas:AA,AbstractGroup:kA,AbstractShape:MA,getBBoxMethod:IA,registerBBox:Cu,getTextHeight:DA,assembleFont:OA,isAllowCapture:fw,multiplyVec2:md,invert:_A,getOffScreenContext:RA,PathUtil:LF}),bx={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ZRe=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},xx=un(function(r){var t=Array.prototype.concat,e=Array.prototype.slice,n=r.exports=function(a){for(var o=[],s=0,l=a.length;s<l;s++){var u=a[s];ZRe(u)?o=t.call(o,e.call(u)):o.push(u)}return o};n.wrap=function(i){return function(){return i(n(arguments))}}}),Qp=un(function(r){var t=Object.hasOwnProperty,e={};for(var n in bx)t.call(bx,n)&&(e[bx[n]]=n);var i=r.exports={to:{},get:{}};i.get=function(s){var l=s.substring(0,3).toLowerCase(),u,c;switch(l){case"hsl":u=i.get.hsl(s),c="hsl";break;case"hwb":u=i.get.hwb(s),c="hwb";break;default:u=i.get.rgb(s),c="rgb";break}return u?{model:c,value:u}:null},i.get.rgb=function(s){if(!s)return null;var l=/^#([a-f0-9]{3,4})$/i,u=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,c=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,f=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,d=/^(\w+)$/,h=[0,0,0,1],v,p,g;if(v=s.match(u)){for(g=v[2],v=v[1],p=0;p<3;p++){var m=p*2;h[p]=parseInt(v.slice(m,m+2),16)}g&&(h[3]=parseInt(g,16)/255)}else if(v=s.match(l)){for(v=v[1],g=v[3],p=0;p<3;p++)h[p]=parseInt(v[p]+v[p],16);g&&(h[3]=parseInt(g+g,16)/255)}else if(v=s.match(c)){for(p=0;p<3;p++)h[p]=parseInt(v[p+1],0);v[4]&&(v[5]?h[3]=parseFloat(v[4])*.01:h[3]=parseFloat(v[4]))}else if(v=s.match(f)){for(p=0;p<3;p++)h[p]=Math.round(parseFloat(v[p+1])*2.55);v[4]&&(v[5]?h[3]=parseFloat(v[4])*.01:h[3]=parseFloat(v[4]))}else return(v=s.match(d))?v[1]==="transparent"?[0,0,0,0]:t.call(bx,v[1])?(h=bx[v[1]],h[3]=1,h):null:null;for(p=0;p<3;p++)h[p]=a(h[p],0,255);return h[3]=a(h[3],0,1),h},i.get.hsl=function(s){if(!s)return null;var l=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,u=s.match(l);if(u){var c=parseFloat(u[4]),f=(parseFloat(u[1])%360+360)%360,d=a(parseFloat(u[2]),0,100),h=a(parseFloat(u[3]),0,100),v=a(isNaN(c)?1:c,0,1);return[f,d,h,v]}return null},i.get.hwb=function(s){if(!s)return null;var l=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,u=s.match(l);if(u){var c=parseFloat(u[4]),f=(parseFloat(u[1])%360+360)%360,d=a(parseFloat(u[2]),0,100),h=a(parseFloat(u[3]),0,100),v=a(isNaN(c)?1:c,0,1);return[f,d,h,v]}return null},i.to.hex=function(){var s=xx(arguments);return"#"+o(s[0])+o(s[1])+o(s[2])+(s[3]<1?o(Math.round(s[3]*255)):"")},i.to.rgb=function(){var s=xx(arguments);return s.length<4||s[3]===1?"rgb("+Math.round(s[0])+", "+Math.round(s[1])+", "+Math.round(s[2])+")":"rgba("+Math.round(s[0])+", "+Math.round(s[1])+", "+Math.round(s[2])+", "+s[3]+")"},i.to.rgb.percent=function(){var s=xx(arguments),l=Math.round(s[0]/255*100),u=Math.round(s[1]/255*100),c=Math.round(s[2]/255*100);return s.length<4||s[3]===1?"rgb("+l+"%, "+u+"%, "+c+"%)":"rgba("+l+"%, "+u+"%, "+c+"%, "+s[3]+")"},i.to.hsl=function(){var s=xx(arguments);return s.length<4||s[3]===1?"hsl("+s[0]+", "+s[1]+"%, "+s[2]+"%)":"hsla("+s[0]+", "+s[1]+"%, "+s[2]+"%, "+s[3]+")"},i.to.hwb=function(){var s=xx(arguments),l="";return s.length>=4&&s[3]!==1&&(l=", "+s[3]),"hwb("+s[0]+", "+s[1]+"%, "+s[2]+"%"+l+")"},i.to.keyword=function(s){return e[s.slice(0,3)]};function a(s,l,u){return Math.min(Math.max(l,s),u)}function o(s){var l=Math.round(s).toString(16).toUpperCase();return l.length<2?"0"+l:l}});Qp.to;Qp.get;var Ep={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ha=un(function(r){var t={};for(var e in Ep)Ep.hasOwnProperty(e)&&(t[Ep[e]]=e);var n=r.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var i in n)if(n.hasOwnProperty(i)){if(!("channels"in n[i]))throw new Error("missing channels property: "+i);if(!("labels"in n[i]))throw new Error("missing channel labels property: "+i);if(n[i].labels.length!==n[i].channels)throw new Error("channel and label counts mismatch: "+i);var a=n[i].channels,o=n[i].labels;delete n[i].channels,delete n[i].labels,Object.defineProperty(n[i],"channels",{value:a}),Object.defineProperty(n[i],"labels",{value:o})}n.rgb.hsl=function(l){var u=l[0]/255,c=l[1]/255,f=l[2]/255,d=Math.min(u,c,f),h=Math.max(u,c,f),v=h-d,p,g,m;return h===d?p=0:u===h?p=(c-f)/v:c===h?p=2+(f-u)/v:f===h&&(p=4+(u-c)/v),p=Math.min(p*60,360),p<0&&(p+=360),m=(d+h)/2,h===d?g=0:m<=.5?g=v/(h+d):g=v/(2-h-d),[p,g*100,m*100]},n.rgb.hsv=function(l){var u,c,f,d,h,v=l[0]/255,p=l[1]/255,g=l[2]/255,m=Math.max(v,p,g),y=m-Math.min(v,p,g),b=function(w){return(m-w)/6/y+1/2};return y===0?d=h=0:(h=y/m,u=b(v),c=b(p),f=b(g),v===m?d=f-c:p===m?d=1/3+u-f:g===m&&(d=2/3+c-u),d<0?d+=1:d>1&&(d-=1)),[d*360,h*100,m*100]},n.rgb.hwb=function(l){var u=l[0],c=l[1],f=l[2],d=n.rgb.hsl(l)[0],h=1/255*Math.min(u,Math.min(c,f));return f=1-1/255*Math.max(u,Math.max(c,f)),[d,h*100,f*100]},n.rgb.cmyk=function(l){var u=l[0]/255,c=l[1]/255,f=l[2]/255,d,h,v,p;return p=Math.min(1-u,1-c,1-f),d=(1-u-p)/(1-p)||0,h=(1-c-p)/(1-p)||0,v=(1-f-p)/(1-p)||0,[d*100,h*100,v*100,p*100]};function s(l,u){return Math.pow(l[0]-u[0],2)+Math.pow(l[1]-u[1],2)+Math.pow(l[2]-u[2],2)}n.rgb.keyword=function(l){var u=t[l];if(u)return u;var c=1/0,f;for(var d in Ep)if(Ep.hasOwnProperty(d)){var h=Ep[d],v=s(l,h);v<c&&(c=v,f=d)}return f},n.keyword.rgb=function(l){return Ep[l]},n.rgb.xyz=function(l){var u=l[0]/255,c=l[1]/255,f=l[2]/255;u=u>.04045?Math.pow((u+.055)/1.055,2.4):u/12.92,c=c>.04045?Math.pow((c+.055)/1.055,2.4):c/12.92,f=f>.04045?Math.pow((f+.055)/1.055,2.4):f/12.92;var d=u*.4124+c*.3576+f*.1805,h=u*.2126+c*.7152+f*.0722,v=u*.0193+c*.1192+f*.9505;return[d*100,h*100,v*100]},n.rgb.lab=function(l){var u=n.rgb.xyz(l),c=u[0],f=u[1],d=u[2],h,v,p;return c/=95.047,f/=100,d/=108.883,c=c>.008856?Math.pow(c,1/3):7.787*c+16/116,f=f>.008856?Math.pow(f,1/3):7.787*f+16/116,d=d>.008856?Math.pow(d,1/3):7.787*d+16/116,h=116*f-16,v=500*(c-f),p=200*(f-d),[h,v,p]},n.hsl.rgb=function(l){var u=l[0]/360,c=l[1]/100,f=l[2]/100,d,h,v,p,g;if(c===0)return g=f*255,[g,g,g];f<.5?h=f*(1+c):h=f+c-f*c,d=2*f-h,p=[0,0,0];for(var m=0;m<3;m++)v=u+1/3*-(m-1),v<0&&v++,v>1&&v--,6*v<1?g=d+(h-d)*6*v:2*v<1?g=h:3*v<2?g=d+(h-d)*(2/3-v)*6:g=d,p[m]=g*255;return p},n.hsl.hsv=function(l){var u=l[0],c=l[1]/100,f=l[2]/100,d=c,h=Math.max(f,.01),v,p;return f*=2,c*=f<=1?f:2-f,d*=h<=1?h:2-h,p=(f+c)/2,v=f===0?2*d/(h+d):2*c/(f+c),[u,v*100,p*100]},n.hsv.rgb=function(l){var u=l[0]/60,c=l[1]/100,f=l[2]/100,d=Math.floor(u)%6,h=u-Math.floor(u),v=255*f*(1-c),p=255*f*(1-c*h),g=255*f*(1-c*(1-h));switch(f*=255,d){case 0:return[f,g,v];case 1:return[p,f,v];case 2:return[v,f,g];case 3:return[v,p,f];case 4:return[g,v,f];case 5:return[f,v,p]}},n.hsv.hsl=function(l){var u=l[0],c=l[1]/100,f=l[2]/100,d=Math.max(f,.01),h,v,p;return p=(2-c)*f,h=(2-c)*d,v=c*d,v/=h<=1?h:2-h,v=v||0,p/=2,[u,v*100,p*100]},n.hwb.rgb=function(l){var u=l[0]/360,c=l[1]/100,f=l[2]/100,d=c+f,h,v,p,g;d>1&&(c/=d,f/=d),h=Math.floor(6*u),v=1-f,p=6*u-h,(h&1)!==0&&(p=1-p),g=c+p*(v-c);var m,y,b;switch(h){default:case 6:case 0:m=v,y=g,b=c;break;case 1:m=g,y=v,b=c;break;case 2:m=c,y=v,b=g;break;case 3:m=c,y=g,b=v;break;case 4:m=g,y=c,b=v;break;case 5:m=v,y=c,b=g;break}return[m*255,y*255,b*255]},n.cmyk.rgb=function(l){var u=l[0]/100,c=l[1]/100,f=l[2]/100,d=l[3]/100,h,v,p;return h=1-Math.min(1,u*(1-d)+d),v=1-Math.min(1,c*(1-d)+d),p=1-Math.min(1,f*(1-d)+d),[h*255,v*255,p*255]},n.xyz.rgb=function(l){var u=l[0]/100,c=l[1]/100,f=l[2]/100,d,h,v;return d=u*3.2406+c*-1.5372+f*-.4986,h=u*-.9689+c*1.8758+f*.0415,v=u*.0557+c*-.204+f*1.057,d=d>.0031308?1.055*Math.pow(d,1/2.4)-.055:d*12.92,h=h>.0031308?1.055*Math.pow(h,1/2.4)-.055:h*12.92,v=v>.0031308?1.055*Math.pow(v,1/2.4)-.055:v*12.92,d=Math.min(Math.max(0,d),1),h=Math.min(Math.max(0,h),1),v=Math.min(Math.max(0,v),1),[d*255,h*255,v*255]},n.xyz.lab=function(l){var u=l[0],c=l[1],f=l[2],d,h,v;return u/=95.047,c/=100,f/=108.883,u=u>.008856?Math.pow(u,1/3):7.787*u+16/116,c=c>.008856?Math.pow(c,1/3):7.787*c+16/116,f=f>.008856?Math.pow(f,1/3):7.787*f+16/116,d=116*c-16,h=500*(u-c),v=200*(c-f),[d,h,v]},n.lab.xyz=function(l){var u=l[0],c=l[1],f=l[2],d,h,v;h=(u+16)/116,d=c/500+h,v=h-f/200;var p=Math.pow(h,3),g=Math.pow(d,3),m=Math.pow(v,3);return h=p>.008856?p:(h-16/116)/7.787,d=g>.008856?g:(d-16/116)/7.787,v=m>.008856?m:(v-16/116)/7.787,d*=95.047,h*=100,v*=108.883,[d,h,v]},n.lab.lch=function(l){var u=l[0],c=l[1],f=l[2],d,h,v;return d=Math.atan2(f,c),h=d*360/2/Math.PI,h<0&&(h+=360),v=Math.sqrt(c*c+f*f),[u,v,h]},n.lch.lab=function(l){var u=l[0],c=l[1],f=l[2],d,h,v;return v=f/360*2*Math.PI,d=c*Math.cos(v),h=c*Math.sin(v),[u,d,h]},n.rgb.ansi16=function(l){var u=l[0],c=l[1],f=l[2],d=1 in arguments?arguments[1]:n.rgb.hsv(l)[2];if(d=Math.round(d/50),d===0)return 30;var h=30+(Math.round(f/255)<<2|Math.round(c/255)<<1|Math.round(u/255));return d===2&&(h+=60),h},n.hsv.ansi16=function(l){return n.rgb.ansi16(n.hsv.rgb(l),l[2])},n.rgb.ansi256=function(l){var u=l[0],c=l[1],f=l[2];if(u===c&&c===f)return u<8?16:u>248?231:Math.round((u-8)/247*24)+232;var d=16+36*Math.round(u/255*5)+6*Math.round(c/255*5)+Math.round(f/255*5);return d},n.ansi16.rgb=function(l){var u=l%10;if(u===0||u===7)return l>50&&(u+=3.5),u=u/10.5*255,[u,u,u];var c=(~~(l>50)+1)*.5,f=(u&1)*c*255,d=(u>>1&1)*c*255,h=(u>>2&1)*c*255;return[f,d,h]},n.ansi256.rgb=function(l){if(l>=232){var u=(l-232)*10+8;return[u,u,u]}l-=16;var c,f=Math.floor(l/36)/5*255,d=Math.floor((c=l%36)/6)/5*255,h=c%6/5*255;return[f,d,h]},n.rgb.hex=function(l){var u=((Math.round(l[0])&255)<<16)+((Math.round(l[1])&255)<<8)+(Math.round(l[2])&255),c=u.toString(16).toUpperCase();return"000000".substring(c.length)+c},n.hex.rgb=function(l){var u=l.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!u)return[0,0,0];var c=u[0];u[0].length===3&&(c=c.split("").map(function(p){return p+p}).join(""));var f=parseInt(c,16),d=f>>16&255,h=f>>8&255,v=f&255;return[d,h,v]},n.rgb.hcg=function(l){var u=l[0]/255,c=l[1]/255,f=l[2]/255,d=Math.max(Math.max(u,c),f),h=Math.min(Math.min(u,c),f),v=d-h,p,g;return v<1?p=h/(1-v):p=0,v<=0?g=0:d===u?g=(c-f)/v%6:d===c?g=2+(f-u)/v:g=4+(u-c)/v+4,g/=6,g%=1,[g*360,v*100,p*100]},n.hsl.hcg=function(l){var u=l[1]/100,c=l[2]/100,f=1,d=0;return c<.5?f=2*u*c:f=2*u*(1-c),f<1&&(d=(c-.5*f)/(1-f)),[l[0],f*100,d*100]},n.hsv.hcg=function(l){var u=l[1]/100,c=l[2]/100,f=u*c,d=0;return f<1&&(d=(c-f)/(1-f)),[l[0],f*100,d*100]},n.hcg.rgb=function(l){var u=l[0]/360,c=l[1]/100,f=l[2]/100;if(c===0)return[f*255,f*255,f*255];var d=[0,0,0],h=u%1*6,v=h%1,p=1-v,g=0;switch(Math.floor(h)){case 0:d[0]=1,d[1]=v,d[2]=0;break;case 1:d[0]=p,d[1]=1,d[2]=0;break;case 2:d[0]=0,d[1]=1,d[2]=v;break;case 3:d[0]=0,d[1]=p,d[2]=1;break;case 4:d[0]=v,d[1]=0,d[2]=1;break;default:d[0]=1,d[1]=0,d[2]=p}return g=(1-c)*f,[(c*d[0]+g)*255,(c*d[1]+g)*255,(c*d[2]+g)*255]},n.hcg.hsv=function(l){var u=l[1]/100,c=l[2]/100,f=u+c*(1-u),d=0;return f>0&&(d=u/f),[l[0],d*100,f*100]},n.hcg.hsl=function(l){var u=l[1]/100,c=l[2]/100,f=c*(1-u)+.5*u,d=0;return f>0&&f<.5?d=u/(2*f):f>=.5&&f<1&&(d=u/(2*(1-f))),[l[0],d*100,f*100]},n.hcg.hwb=function(l){var u=l[1]/100,c=l[2]/100,f=u+c*(1-u);return[l[0],(f-u)*100,(1-f)*100]},n.hwb.hcg=function(l){var u=l[1]/100,c=l[2]/100,f=1-c,d=f-u,h=0;return d<1&&(h=(f-d)/(1-d)),[l[0],d*100,h*100]},n.apple.rgb=function(l){return[l[0]/65535*255,l[1]/65535*255,l[2]/65535*255]},n.rgb.apple=function(l){return[l[0]/255*65535,l[1]/255*65535,l[2]/255*65535]},n.gray.rgb=function(l){return[l[0]/100*255,l[0]/100*255,l[0]/100*255]},n.gray.hsl=n.gray.hsv=function(l){return[0,0,l[0]]},n.gray.hwb=function(l){return[0,100,l[0]]},n.gray.cmyk=function(l){return[0,0,0,l[0]]},n.gray.lab=function(l){return[l[0],0,0]},n.gray.hex=function(l){var u=Math.round(l[0]/100*255)&255,c=(u<<16)+(u<<8)+u,f=c.toString(16).toUpperCase();return"000000".substring(f.length)+f},n.rgb.gray=function(l){var u=(l[0]+l[1]+l[2])/3;return[u/255*100]}});Ha.rgb;Ha.hsl;Ha.hsv;Ha.hwb;Ha.cmyk;Ha.xyz;Ha.lab;Ha.lch;Ha.hex;Ha.keyword;Ha.ansi16;Ha.ansi256;Ha.hcg;Ha.apple;Ha.gray;function QRe(){for(var r={},t=Object.keys(Ha),e=t.length,n=0;n<e;n++)r[t[n]]={distance:-1,parent:null};return r}function JRe(r){var t=QRe(),e=[r];for(t[r].distance=0;e.length;)for(var n=e.pop(),i=Object.keys(Ha[n]),a=i.length,o=0;o<a;o++){var s=i[o],l=t[s];l.distance===-1&&(l.distance=t[n].distance+1,l.parent=n,e.unshift(s))}return t}function eDe(r,t){return function(e){return t(r(e))}}function tDe(r,t){for(var e=[t[r].parent,r],n=Ha[t[r].parent][r],i=t[r].parent;t[i].parent;)e.unshift(t[i].parent),n=eDe(Ha[t[i].parent][i],n),i=t[i].parent;return n.conversion=e,n}var rDe=function(r){for(var t=JRe(r),e={},n=Object.keys(t),i=n.length,a=0;a<i;a++){var o=n[a],s=t[o];s.parent!==null&&(e[o]=tDe(o,t))}return e},Ay={},nDe=Object.keys(Ha);function iDe(r){var t=function(e){return e==null?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),r(e))};return"conversion"in r&&(t.conversion=r.conversion),t}function aDe(r){var t=function(e){if(e==null)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=r(e);if(typeof n=="object")for(var i=n.length,a=0;a<i;a++)n[a]=Math.round(n[a]);return n};return"conversion"in r&&(t.conversion=r.conversion),t}nDe.forEach(function(r){Ay[r]={},Object.defineProperty(Ay[r],"channels",{value:Ha[r].channels}),Object.defineProperty(Ay[r],"labels",{value:Ha[r].labels});var t=rDe(r),e=Object.keys(t);e.forEach(function(n){var i=t[n];Ay[r][n]=aDe(i),Ay[r][n].raw=iDe(i)})});var Ll=Ay,iN=[].slice,qQ=["keyword","gray","hex"],zD={};Object.keys(Ll).forEach(function(r){zD[iN.call(Ll[r].labels).sort().join("")]=r});var q_={};function as(r,t){if(!(this instanceof as))return new as(r,t);if(t&&t in qQ&&(t=null),t&&!(t in Ll))throw new Error("Unknown model: "+t);var e,n;if(r==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(r instanceof as)this.model=r.model,this.color=r.color.slice(),this.valpha=r.valpha;else if(typeof r=="string"){var i=Qp.get(r);if(i===null)throw new Error("Unable to parse color from string: "+r);this.model=i.model,n=Ll[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(r.length){this.model=t||"rgb",n=Ll[this.model].channels;var a=iN.call(r,0,n);this.color=$D(a,n),this.valpha=typeof r[n]=="number"?r[n]:1}else if(typeof r=="number")r&=16777215,this.model="rgb",this.color=[r>>16&255,r>>8&255,r&255],this.valpha=1;else{this.valpha=1;var o=Object.keys(r);"alpha"in r&&(o.splice(o.indexOf("alpha"),1),this.valpha=typeof r.alpha=="number"?r.alpha:0);var s=o.sort().join("");if(!(s in zD))throw new Error("Unable to parse color from object: "+JSON.stringify(r));this.model=zD[s];var l=Ll[this.model].labels,u=[];for(e=0;e<l.length;e++)u.push(r[l[e]]);this.color=$D(u)}if(q_[this.model])for(n=Ll[this.model].channels,e=0;e<n;e++){var c=q_[this.model][e];c&&(this.color[e]=c(this.color[e]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}as.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(r){var t=this.model in Qp.to?this:this.rgb();t=t.round(typeof r=="number"?r:1);var e=t.valpha===1?t.color:t.color.concat(this.valpha);return Qp.to[t.model](e)},percentString:function(r){var t=this.rgb().round(typeof r=="number"?r:1),e=t.valpha===1?t.color:t.color.concat(this.valpha);return Qp.to.rgb.percent(e)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var r={},t=Ll[this.model].channels,e=Ll[this.model].labels,n=0;n<t;n++)r[e[n]]=this.color[n];return this.valpha!==1&&(r.alpha=this.valpha),r},unitArray:function(){var r=this.rgb().color;return r[0]/=255,r[1]/=255,r[2]/=255,this.valpha!==1&&r.push(this.valpha),r},unitObject:function(){var r=this.rgb().object();return r.r/=255,r.g/=255,r.b/=255,this.valpha!==1&&(r.alpha=this.valpha),r},round:function(r){return r=Math.max(r||0,0),new as(this.color.map(sDe(r)).concat(this.valpha),this.model)},alpha:function(r){return arguments.length?new as(this.color.concat(Math.max(0,Math.min(1,r))),this.model):this.valpha},red:za("rgb",0,mo(255)),green:za("rgb",1,mo(255)),blue:za("rgb",2,mo(255)),hue:za(["hsl","hsv","hsl","hwb","hcg"],0,function(r){return(r%360+360)%360}),saturationl:za("hsl",1,mo(100)),lightness:za("hsl",2,mo(100)),saturationv:za("hsv",1,mo(100)),value:za("hsv",2,mo(100)),chroma:za("hcg",1,mo(100)),gray:za("hcg",2,mo(100)),white:za("hwb",1,mo(100)),wblack:za("hwb",2,mo(100)),cyan:za("cmyk",0,mo(100)),magenta:za("cmyk",1,mo(100)),yellow:za("cmyk",2,mo(100)),black:za("cmyk",3,mo(100)),x:za("xyz",0,mo(100)),y:za("xyz",1,mo(100)),z:za("xyz",2,mo(100)),l:za("lab",0,mo(100)),a:za("lab",1),b:za("lab",2),keyword:function(r){return arguments.length?new as(r):Ll[this.model].keyword(this.color)},hex:function(r){return arguments.length?new as(r):Qp.to.hex(this.rgb().round().color)},rgbNumber:function(){var r=this.rgb().color;return(r[0]&255)<<16|(r[1]&255)<<8|r[2]&255},luminosity:function(){for(var r=this.rgb().color,t=[],e=0;e<r.length;e++){var n=r[e]/255;t[e]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(r){var t=this.luminosity(),e=r.luminosity();return t>e?(t+.05)/(e+.05):(e+.05)/(t+.05)},level:function(r){var t=this.contrast(r);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var r=this.rgb().color,t=(r[0]*299+r[1]*587+r[2]*114)/1e3;return t<128},isLight:function(){return!this.isDark()},negate:function(){for(var r=this.rgb(),t=0;t<3;t++)r.color[t]=255-r.color[t];return r},lighten:function(r){var t=this.hsl();return t.color[2]+=t.color[2]*r,t},darken:function(r){var t=this.hsl();return t.color[2]-=t.color[2]*r,t},saturate:function(r){var t=this.hsl();return t.color[1]+=t.color[1]*r,t},desaturate:function(r){var t=this.hsl();return t.color[1]-=t.color[1]*r,t},whiten:function(r){var t=this.hwb();return t.color[1]+=t.color[1]*r,t},blacken:function(r){var t=this.hwb();return t.color[2]+=t.color[2]*r,t},grayscale:function(){var r=this.rgb().color,t=r[0]*.3+r[1]*.59+r[2]*.11;return as.rgb(t,t,t)},fade:function(r){return this.alpha(this.valpha-this.valpha*r)},opaquer:function(r){return this.alpha(this.valpha+this.valpha*r)},rotate:function(r){var t=this.hsl(),e=t.color[0];return e=(e+r)%360,e=e<0?360+e:e,t.color[0]=e,t},mix:function(r,t){if(!r||!r.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof r);var e=r.rgb(),n=this.rgb(),i=t===void 0?.5:t,a=2*i-1,o=e.alpha()-n.alpha(),s=((a*o===-1?a:(a+o)/(1+a*o))+1)/2,l=1-s;return as.rgb(s*e.red()+l*n.red(),s*e.green()+l*n.green(),s*e.blue()+l*n.blue(),e.alpha()*i+n.alpha()*(1-i))}};Object.keys(Ll).forEach(function(r){if(qQ.indexOf(r)===-1){var t=Ll[r].channels;as.prototype[r]=function(){if(this.model===r)return new as(this);if(arguments.length)return new as(arguments,r);var e=typeof arguments[t]=="number"?t:this.valpha;return new as(lDe(Ll[this.model][r].raw(this.color)).concat(e),r)},as[r]=function(e){return typeof e=="number"&&(e=$D(iN.call(arguments),t)),new as(e,r)}}});function oDe(r,t){return Number(r.toFixed(t))}function sDe(r){return function(t){return oDe(t,r)}}function za(r,t,e){return r=Array.isArray(r)?r:[r],r.forEach(function(n){(q_[n]||(q_[n]=[]))[t]=e}),r=r[0],function(n){var i;return arguments.length?(e&&(n=e(n)),i=this[r](),i.color[t]=n,i):(i=this[r]().color[t],e&&(i=e(i)),i)}}function mo(r){return function(t){return Math.max(0,Math.min(r,t))}}function lDe(r){return Array.isArray(r)?r:[r]}function $D(r,t){for(var e=0;e<t;e++)typeof r[e]!="number"&&(r[e]=0);return r}var R1=as,ME=un(function(r){(function(t){var e=/^\s+/,n=/\s+$/,i=0,a=t.round,o=t.min,s=t.max,l=t.random;function u(z,j){if(z=z||"",j=j||{},z instanceof u)return z;if(!(this instanceof u))return new u(z,j);var X=c(z);this._originalInput=z,this._r=X.r,this._g=X.g,this._b=X.b,this._a=X.a,this._roundA=a(100*this._a)/100,this._format=j.format||X.format,this._gradientType=j.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=X.ok,this._tc_id=i++}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var z=this.toRgb();return(z.r*299+z.g*587+z.b*114)/1e3},getLuminance:function(){var z=this.toRgb(),j,X,ae,ue,Be,Ze;return j=z.r/255,X=z.g/255,ae=z.b/255,j<=.03928?ue=j/12.92:ue=t.pow((j+.055)/1.055,2.4),X<=.03928?Be=X/12.92:Be=t.pow((X+.055)/1.055,2.4),ae<=.03928?Ze=ae/12.92:Ze=t.pow((ae+.055)/1.055,2.4),.2126*ue+.7152*Be+.0722*Ze},setAlpha:function(z){return this._a=F(z),this._roundA=a(100*this._a)/100,this},toHsv:function(){var z=v(this._r,this._g,this._b);return{h:z.h*360,s:z.s,v:z.v,a:this._a}},toHsvString:function(){var z=v(this._r,this._g,this._b),j=a(z.h*360),X=a(z.s*100),ae=a(z.v*100);return this._a==1?"hsv("+j+", "+X+"%, "+ae+"%)":"hsva("+j+", "+X+"%, "+ae+"%, "+this._roundA+")"},toHsl:function(){var z=d(this._r,this._g,this._b);return{h:z.h*360,s:z.s,l:z.l,a:this._a}},toHslString:function(){var z=d(this._r,this._g,this._b),j=a(z.h*360),X=a(z.s*100),ae=a(z.l*100);return this._a==1?"hsl("+j+", "+X+"%, "+ae+"%)":"hsla("+j+", "+X+"%, "+ae+"%, "+this._roundA+")"},toHex:function(z){return g(this._r,this._g,this._b,z)},toHexString:function(z){return"#"+this.toHex(z)},toHex8:function(z){return m(this._r,this._g,this._b,this._a,z)},toHex8String:function(z){return"#"+this.toHex8(z)},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(W(this._r,255)*100)+"%",g:a(W(this._g,255)*100)+"%",b:a(W(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+a(W(this._r,255)*100)+"%, "+a(W(this._g,255)*100)+"%, "+a(W(this._b,255)*100)+"%)":"rgba("+a(W(this._r,255)*100)+"%, "+a(W(this._g,255)*100)+"%, "+a(W(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:G[g(this._r,this._g,this._b,!0)]||!1},toFilter:function(z){var j="#"+y(this._r,this._g,this._b,this._a),X=j,ae=this._gradientType?"GradientType = 1, ":"";if(z){var ue=u(z);X="#"+y(ue._r,ue._g,ue._b,ue._a)}return"progid:DXImageTransform.Microsoft.gradient("+ae+"startColorstr="+j+",endColorstr="+X+")"},toString:function(z){var j=!!z;z=z||this._format;var X=!1,ae=this._a<1&&this._a>=0,ue=!j&&ae&&(z==="hex"||z==="hex6"||z==="hex3"||z==="hex4"||z==="hex8"||z==="name");return ue?z==="name"&&this._a===0?this.toName():this.toRgbString():(z==="rgb"&&(X=this.toRgbString()),z==="prgb"&&(X=this.toPercentageRgbString()),(z==="hex"||z==="hex6")&&(X=this.toHexString()),z==="hex3"&&(X=this.toHexString(!0)),z==="hex4"&&(X=this.toHex8String(!0)),z==="hex8"&&(X=this.toHex8String()),z==="name"&&(X=this.toName()),z==="hsl"&&(X=this.toHslString()),z==="hsv"&&(X=this.toHsvString()),X||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(z,j){var X=z.apply(null,[this].concat([].slice.call(j)));return this._r=X._r,this._g=X._g,this._b=X._b,this.setAlpha(X._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(A,arguments)},desaturate:function(){return this._applyModification(b,arguments)},saturate:function(){return this._applyModification(w,arguments)},greyscale:function(){return this._applyModification(S,arguments)},spin:function(){return this._applyModification(k,arguments)},_applyCombination:function(z,j){return z.apply(null,[this].concat([].slice.call(j)))},analogous:function(){return this._applyCombination(B,arguments)},complement:function(){return this._applyCombination(T,arguments)},monochromatic:function(){return this._applyCombination(U,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(I,arguments)},tetrad:function(){return this._applyCombination(D,arguments)}},u.fromRatio=function(z,j){if(typeof z=="object"){var X={};for(var ae in z)z.hasOwnProperty(ae)&&(ae==="a"?X[ae]=z[ae]:X[ae]=be(z[ae]));z=X}return u(z,j)};function c(z){var j={r:0,g:0,b:0},X=1,ae=null,ue=null,Be=null,Ze=!1,Le=!1;return typeof z=="string"&&(z=nt(z)),typeof z=="object"&&(He(z.r)&&He(z.g)&&He(z.b)?(j=f(z.r,z.g,z.b),Ze=!0,Le=String(z.r).substr(-1)==="%"?"prgb":"rgb"):He(z.h)&&He(z.s)&&He(z.v)?(ae=be(z.s),ue=be(z.v),j=p(z.h,ae,ue),Ze=!0,Le="hsv"):He(z.h)&&He(z.s)&&He(z.l)&&(ae=be(z.s),Be=be(z.l),j=h(z.h,ae,Be),Ze=!0,Le="hsl"),z.hasOwnProperty("a")&&(X=z.a)),X=F(X),{ok:Ze,format:z.format||Le,r:o(255,s(j.r,0)),g:o(255,s(j.g,0)),b:o(255,s(j.b,0)),a:X}}function f(z,j,X){return{r:W(z,255)*255,g:W(j,255)*255,b:W(X,255)*255}}function d(z,j,X){z=W(z,255),j=W(j,255),X=W(X,255);var ae=s(z,j,X),ue=o(z,j,X),Be,Ze,Le=(ae+ue)/2;if(ae==ue)Be=Ze=0;else{var se=ae-ue;switch(Ze=Le>.5?se/(2-ae-ue):se/(ae+ue),ae){case z:Be=(j-X)/se+(j<X?6:0);break;case j:Be=(X-z)/se+2;break;case X:Be=(z-j)/se+4;break}Be/=6}return{h:Be,s:Ze,l:Le}}function h(z,j,X){var ae,ue,Be;z=W(z,360),j=W(j,100),X=W(X,100);function Ze(Se,Y,ve){return ve<0&&(ve+=1),ve>1&&(ve-=1),ve<1/6?Se+(Y-Se)*6*ve:ve<1/2?Y:ve<2/3?Se+(Y-Se)*(2/3-ve)*6:Se}if(j===0)ae=ue=Be=X;else{var Le=X<.5?X*(1+j):X+j-X*j,se=2*X-Le;ae=Ze(se,Le,z+1/3),ue=Ze(se,Le,z),Be=Ze(se,Le,z-1/3)}return{r:ae*255,g:ue*255,b:Be*255}}function v(z,j,X){z=W(z,255),j=W(j,255),X=W(X,255);var ae=s(z,j,X),ue=o(z,j,X),Be,Ze,Le=ae,se=ae-ue;if(Ze=ae===0?0:se/ae,ae==ue)Be=0;else{switch(ae){case z:Be=(j-X)/se+(j<X?6:0);break;case j:Be=(X-z)/se+2;break;case X:Be=(z-j)/se+4;break}Be/=6}return{h:Be,s:Ze,v:Le}}function p(z,j,X){z=W(z,360)*6,j=W(j,100),X=W(X,100);var ae=t.floor(z),ue=z-ae,Be=X*(1-j),Ze=X*(1-ue*j),Le=X*(1-(1-ue)*j),se=ae%6,Se=[X,Ze,Be,Be,Le,X][se],Y=[Le,X,X,Ze,Be,Be][se],ve=[Be,Be,Le,X,X,Ze][se];return{r:Se*255,g:Y*255,b:ve*255}}function g(z,j,X,ae){var ue=[Q(a(z).toString(16)),Q(a(j).toString(16)),Q(a(X).toString(16))];return ae&&ue[0].charAt(0)==ue[0].charAt(1)&&ue[1].charAt(0)==ue[1].charAt(1)&&ue[2].charAt(0)==ue[2].charAt(1)?ue[0].charAt(0)+ue[1].charAt(0)+ue[2].charAt(0):ue.join("")}function m(z,j,X,ae,ue){var Be=[Q(a(z).toString(16)),Q(a(j).toString(16)),Q(a(X).toString(16)),Q(fe(ae))];return ue&&Be[0].charAt(0)==Be[0].charAt(1)&&Be[1].charAt(0)==Be[1].charAt(1)&&Be[2].charAt(0)==Be[2].charAt(1)&&Be[3].charAt(0)==Be[3].charAt(1)?Be[0].charAt(0)+Be[1].charAt(0)+Be[2].charAt(0)+Be[3].charAt(0):Be.join("")}function y(z,j,X,ae){var ue=[Q(fe(ae)),Q(a(z).toString(16)),Q(a(j).toString(16)),Q(a(X).toString(16))];return ue.join("")}u.equals=function(z,j){return!z||!j?!1:u(z).toRgbString()==u(j).toRgbString()},u.random=function(){return u.fromRatio({r:l(),g:l(),b:l()})};function b(z,j){j=j===0?0:j||10;var X=u(z).toHsl();return X.s-=j/100,X.s=H(X.s),u(X)}function w(z,j){j=j===0?0:j||10;var X=u(z).toHsl();return X.s+=j/100,X.s=H(X.s),u(X)}function S(z){return u(z).desaturate(100)}function E(z,j){j=j===0?0:j||10;var X=u(z).toHsl();return X.l+=j/100,X.l=H(X.l),u(X)}function _(z,j){j=j===0?0:j||10;var X=u(z).toRgb();return X.r=s(0,o(255,X.r-a(255*-(j/100)))),X.g=s(0,o(255,X.g-a(255*-(j/100)))),X.b=s(0,o(255,X.b-a(255*-(j/100)))),u(X)}function A(z,j){j=j===0?0:j||10;var X=u(z).toHsl();return X.l-=j/100,X.l=H(X.l),u(X)}function k(z,j){var X=u(z).toHsl(),ae=(X.h+j)%360;return X.h=ae<0?360+ae:ae,u(X)}function T(z){var j=u(z).toHsl();return j.h=(j.h+180)%360,u(j)}function I(z){var j=u(z).toHsl(),X=j.h;return[u(z),u({h:(X+120)%360,s:j.s,l:j.l}),u({h:(X+240)%360,s:j.s,l:j.l})]}function D(z){var j=u(z).toHsl(),X=j.h;return[u(z),u({h:(X+90)%360,s:j.s,l:j.l}),u({h:(X+180)%360,s:j.s,l:j.l}),u({h:(X+270)%360,s:j.s,l:j.l})]}function O(z){var j=u(z).toHsl(),X=j.h;return[u(z),u({h:(X+72)%360,s:j.s,l:j.l}),u({h:(X+216)%360,s:j.s,l:j.l})]}function B(z,j,X){j=j||6,X=X||30;var ae=u(z).toHsl(),ue=360/X,Be=[u(z)];for(ae.h=(ae.h-(ue*j>>1)+720)%360;--j;)ae.h=(ae.h+ue)%360,Be.push(u(ae));return Be}function U(z,j){j=j||6;for(var X=u(z).toHsv(),ae=X.h,ue=X.s,Be=X.v,Ze=[],Le=1/j;j--;)Ze.push(u({h:ae,s:ue,v:Be})),Be=(Be+Le)%1;return Ze}u.mix=function(z,j,X){X=X===0?0:X||50;var ae=u(z).toRgb(),ue=u(j).toRgb(),Be=X/100,Ze={r:(ue.r-ae.r)*Be+ae.r,g:(ue.g-ae.g)*Be+ae.g,b:(ue.b-ae.b)*Be+ae.b,a:(ue.a-ae.a)*Be+ae.a};return u(Ze)},u.readability=function(z,j){var X=u(z),ae=u(j);return(t.max(X.getLuminance(),ae.getLuminance())+.05)/(t.min(X.getLuminance(),ae.getLuminance())+.05)},u.isReadable=function(z,j,X){var ae=u.readability(z,j),ue,Be;switch(Be=!1,ue=st(X),ue.level+ue.size){case"AAsmall":case"AAAlarge":Be=ae>=4.5;break;case"AAlarge":Be=ae>=3;break;case"AAAsmall":Be=ae>=7;break}return Be},u.mostReadable=function(z,j,X){var ae=null,ue=0,Be,Ze,Le,se;X=X||{},Ze=X.includeFallbackColors,Le=X.level,se=X.size;for(var Se=0;Se<j.length;Se++)Be=u.readability(z,j[Se]),Be>ue&&(ue=Be,ae=u(j[Se]));return u.isReadable(z,ae,{level:Le,size:se})||!Ze?ae:(X.includeFallbackColors=!1,u.mostReadable(z,["#fff","#000"],X))};var N=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},G=u.hexNames=L(N);function L(z){var j={};for(var X in z)z.hasOwnProperty(X)&&(j[z[X]]=X);return j}function F(z){return z=parseFloat(z),(isNaN(z)||z<0||z>1)&&(z=1),z}function W(z,j){ie(z)&&(z="100%");var X=ee(z);return z=o(j,s(0,parseFloat(z))),X&&(z=parseInt(z*j,10)/100),t.abs(z-j)<1e-6?1:z%j/parseFloat(j)}function H(z){return o(1,s(0,z))}function K(z){return parseInt(z,16)}function ie(z){return typeof z=="string"&&z.indexOf(".")!=-1&&parseFloat(z)===1}function ee(z){return typeof z=="string"&&z.indexOf("%")!=-1}function Q(z){return z.length==1?"0"+z:""+z}function be(z){return z<=1&&(z=z*100+"%"),z}function fe(z){return t.round(parseFloat(z)*255).toString(16)}function he(z){return K(z)/255}var Ee=function(){var z="[-\\+]?\\d+%?",j="[-\\+]?\\d*\\.\\d+%?",X="(?:"+j+")|(?:"+z+")",ae="[\\s|\\(]+("+X+")[,|\\s]+("+X+")[,|\\s]+("+X+")\\s*\\)?",ue="[\\s|\\(]+("+X+")[,|\\s]+("+X+")[,|\\s]+("+X+")[,|\\s]+("+X+")\\s*\\)?";return{CSS_UNIT:new RegExp(X),rgb:new RegExp("rgb"+ae),rgba:new RegExp("rgba"+ue),hsl:new RegExp("hsl"+ae),hsla:new RegExp("hsla"+ue),hsv:new RegExp("hsv"+ae),hsva:new RegExp("hsva"+ue),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function He(z){return!!Ee.CSS_UNIT.exec(z)}function nt(z){z=z.replace(e,"").replace(n,"").toLowerCase();var j=!1;if(N[z])z=N[z],j=!0;else if(z=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var X;return(X=Ee.rgb.exec(z))?{r:X[1],g:X[2],b:X[3]}:(X=Ee.rgba.exec(z))?{r:X[1],g:X[2],b:X[3],a:X[4]}:(X=Ee.hsl.exec(z))?{h:X[1],s:X[2],l:X[3]}:(X=Ee.hsla.exec(z))?{h:X[1],s:X[2],l:X[3],a:X[4]}:(X=Ee.hsv.exec(z))?{h:X[1],s:X[2],v:X[3]}:(X=Ee.hsva.exec(z))?{h:X[1],s:X[2],v:X[3],a:X[4]}:(X=Ee.hex8.exec(z))?{r:K(X[1]),g:K(X[2]),b:K(X[3]),a:he(X[4]),format:j?"name":"hex8"}:(X=Ee.hex6.exec(z))?{r:K(X[1]),g:K(X[2]),b:K(X[3]),format:j?"name":"hex"}:(X=Ee.hex4.exec(z))?{r:K(X[1]+""+X[1]),g:K(X[2]+""+X[2]),b:K(X[3]+""+X[3]),a:he(X[4]+""+X[4]),format:j?"name":"hex8"}:(X=Ee.hex3.exec(z))?{r:K(X[1]+""+X[1]),g:K(X[2]+""+X[2]),b:K(X[3]+""+X[3]),format:j?"name":"hex"}:!1}function st(z){var j,X;return z=z||{level:"AA",size:"small"},j=(z.level||"AA").toUpperCase(),X=(z.size||"small").toLowerCase(),j!=="AA"&&j!=="AAA"&&(j="AA"),X!=="small"&&X!=="large"&&(X="small"),{level:j,size:X}}r.exports?r.exports=u:window.tinycolor=u})(Math)}),IE=2,e6=.16,uDe=.05,cDe=.05,fDe=.15,KQ=5,ZQ=4,dDe=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function t6(r,t,e){var n;return Math.round(r.h)>=60&&Math.round(r.h)<=240?n=e?Math.round(r.h)-IE*t:Math.round(r.h)+IE*t:n=e?Math.round(r.h)+IE*t:Math.round(r.h)-IE*t,n<0?n+=360:n>=360&&(n-=360),n}function r6(r,t,e){if(r.h===0&&r.s===0)return r.s;var n;return e?n=r.s-e6*t:t===ZQ?n=r.s+e6:n=r.s+uDe*t,n>1&&(n=1),e&&t===KQ&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2))}function n6(r,t,e){var n;return e?n=r.v+cDe*t:n=r.v-fDe*t,n>1&&(n=1),Number(n.toFixed(2))}function K_(r){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=[],n=ME(r),i=KQ;i>0;i-=1){var a=n.toHsv(),o=ME({h:t6(a,i,!0),s:r6(a,i,!0),v:n6(a,i,!0)}).toHexString();e.push(o)}e.push(n.toHexString());for(var s=1;s<=ZQ;s+=1){var l=n.toHsv(),u=ME({h:t6(l,s),s:r6(l,s),v:n6(l,s)}).toHexString();e.push(u)}return t.theme==="dark"?dDe.map(function(c){var f=c.index,d=c.opacity,h=ME.mix(t.backgroundColor||"#141414",e[f],d*100).toHexString();return h}):e}var qI={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ss={},KI={};Object.keys(qI).forEach(function(r){Ss[r]=K_(qI[r]),Ss[r].primary=Ss[r][5],KI[r]=K_(qI[r],{theme:"dark",backgroundColor:"#141414"}),KI[r].primary=KI[r][5]});Ss.red;Ss.volcano;Ss.gold;Ss.orange;Ss.yellow;Ss.lime;Ss.green;Ss.cyan;Ss.blue;Ss.geekblue;Ss.purple;Ss.magenta;Ss.grey;var wo=function(t,e,n){var i=R1(t),a=R1(e);return R1([(1-n)*i.red()+n*a.red(),(1-n)*i.green()+n*a.green(),(1-n)*i.blue()+n*a.blue()]).rgb()},hDe=function(t,e,n){e===void 0&&(e="#fff"),n===void 0&&(n="rgb(150, 150, 150)");var i=wo(e,t,.05).rgb().toString(),a=wo(e,t,.1).rgb().toString(),o=wo(e,t,.2).rgb().toString(),s=wo(e,t,.4).rgb().toString(),l=wo(e,n,.02).rgb().toString(),u=wo(e,n,.05).rgb().toString(),c=wo(e,n,.1).rgb().toString(),f=wo(e,n,.2).rgb().toString(),d=wo(e,n,.3).rgb().toString(),h=K_(t,{theme:"default",backgroundColor:e}),v=R1(t).hex().toLowerCase(),p=h.indexOf(v),g=t;return p!==-1&&(g=h[p+1]),{mainStroke:t,mainFill:a,activeStroke:t,activeFill:i,inactiveStroke:s,inactiveFill:i,selectedStroke:t,selectedFill:e,highlightStroke:g,highlightFill:o,disableStroke:d,disableFill:u,edgeMainStroke:d,edgeActiveStroke:t,edgeInactiveStroke:f,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:c,comboMainStroke:d,comboMainFill:l,comboActiveStroke:t,comboActiveFill:i,comboInactiveStroke:d,comboInactiveFill:l,comboSelectedStroke:t,comboSelectedFill:l,comboHighlightStroke:g,comboHighlightFill:l,comboDisableStroke:f,comboDisableFill:u}},vDe=function(t,e,n){e===void 0&&(e="#fff"),n===void 0&&(n="#777");var i=wo(e,t,.2).rgb().toString(),a=wo(e,t,.3).rgb().toString(),o=wo(e,t,.6).rgb().toString(),s=wo(e,t,.8).rgb().toString(),l=wo(e,n,.2).rgb().toString(),u=wo(e,n,.25).rgb().toString(),c=wo(e,n,.3).rgb().toString(),f=wo(e,n,.4).rgb().toString(),d=wo(e,n,.5).rgb().toString(),h=K_(t,{theme:"dark",backgroundColor:e}),v=R1(t).hex().toLowerCase(),p=h.indexOf(v),g=t;return p!==-1&&(g=h[p+1]),{mainStroke:s,mainFill:i,activeStroke:t,activeFill:a,inactiveStroke:s,inactiveFill:i,selectedStroke:t,selectedFill:i,highlightStroke:t,highlightFill:o,disableStroke:d,disableFill:u,edgeMainStroke:n,edgeActiveStroke:t,edgeInactiveStroke:n,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:c,comboMainStroke:f,comboMainFill:u,comboActiveStroke:t,comboActiveFill:l,comboInactiveStroke:f,comboInactiveFill:u,comboSelectedStroke:t,comboSelectedFill:l,comboHighlightStroke:g,comboHighlightFill:u,comboDisableStroke:f,comboDisableFill:l}},aN=function(t,e,n,i){return e===void 0&&(e="#fff"),n===void 0&&(n="default"),n==="default"?hDe(t,e,"rgb(150, 150, 150)"):vDe(t,e,"#777")},pDe=function(t,e,n,i){e===void 0&&(e="#fff"),n===void 0&&(n="default");var a=[];return t.forEach(function(o){a.push(aN(o,e,n))}),a},gDe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",mixColor:wo,getColorsWithSubjectColor:aN,getColorSetsBySubjectColors:pDe}),mDe="rgb(95, 149, 255)",yDe="rgb(255, 255, 255)",i6="rgb(0, 0, 0)",Vn=aN(mDe,yDe),cg={version:"0.5.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Vn.mainStroke,fill:Vn.mainFill},size:20,color:Vn.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Vn.activeFill,stroke:Vn.activeStroke}},nodeStateStyles:{active:{fill:Vn.activeFill,stroke:Vn.activeStroke,lineWidth:2,shadowColor:Vn.mainStroke,shadowBlur:10},selected:{fill:Vn.selectedFill,stroke:Vn.selectedStroke,lineWidth:4,shadowColor:Vn.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Vn.highlightFill,stroke:Vn.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Vn.inactiveFill,stroke:Vn.inactiveStroke,lineWidth:1},disable:{fill:Vn.disableFill,stroke:Vn.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:i6,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Vn.edgeMainStroke,lineAppendWidth:2},color:Vn.edgeMainStroke},edgeStateStyles:{active:{stroke:Vn.edgeActiveStroke,lineWidth:1},selected:{stroke:Vn.edgeSelectedStroke,lineWidth:2,shadowColor:Vn.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Vn.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Vn.edgeInactiveStroke,lineWidth:1},disable:{stroke:Vn.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:i6,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Vn.comboMainFill,lineWidth:1,stroke:Vn.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Vn.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Vn.comboActiveStroke,lineWidth:1,fill:Vn.comboActiveFill},selected:{stroke:Vn.comboSelectedStroke,lineWidth:2,fill:Vn.comboSelectedFill,shadowColor:Vn.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Vn.comboHighlightStroke,lineWidth:2,fill:Vn.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Vn.comboInactiveStroke,fill:Vn.comboInactiveFill,lineWidth:1},disable:{stroke:Vn.comboDisableStroke,fill:Vn.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"};function qu(r,t,e){if(r){if(typeof r.addEventListener=="function")return r.addEventListener(t,e,!1),{remove:function(){r.removeEventListener(t,e,!1)}};if(typeof r.attachEvent=="function")return r.attachEvent("on"+t,e),{remove:function(){r.detachEvent("on"+t,e)}}}}var s1,ZI,QQ,GD;function bDe(){s1=document.createElement("table"),ZI=document.createElement("tr"),QQ=/^\s*<(\w+|!)[^>]*>/,GD={tr:document.createElement("tbody"),tbody:s1,thead:s1,tfoot:s1,td:ZI,th:ZI,"*":document.createElement("div")}}function Ri(r){s1||bDe();var t=QQ.test(r)&&RegExp.$1;(!t||!(t in GD))&&(t="*");var e=GD[t];r=typeof r=="string"?r.replace(/(^\s*)|(\s*$)/g,""):r,e.innerHTML=""+r;var n=e.childNodes[0];return n&&e.contains(n)&&e.removeChild(n),n}function ol(r,t,e){var n;try{n=window.getComputedStyle?window.getComputedStyle(r,null)[t]:r.style[t]}catch{}finally{n=n===void 0?e:n}return n}function xDe(r,t){var e=ol(r,"height",t);return e==="auto"&&(e=r.offsetHeight),parseFloat(e)}function wDe(r,t){var e=xDe(r,t),n=parseFloat(ol(r,"borderTopWidth"))||0,i=parseFloat(ol(r,"paddingTop"))||0,a=parseFloat(ol(r,"paddingBottom"))||0,o=parseFloat(ol(r,"borderBottomWidth"))||0,s=parseFloat(ol(r,"marginTop"))||0,l=parseFloat(ol(r,"marginBottom"))||0;return e+n+o+i+a+s+l}function SDe(r,t){var e=ol(r,"width",t);return e==="auto"&&(e=r.offsetWidth),parseFloat(e)}function CDe(r,t){var e=SDe(r,t),n=parseFloat(ol(r,"borderLeftWidth"))||0,i=parseFloat(ol(r,"paddingLeft"))||0,a=parseFloat(ol(r,"paddingRight"))||0,o=parseFloat(ol(r,"borderRightWidth"))||0,s=parseFloat(ol(r,"marginRight"))||0,l=parseFloat(ol(r,"marginLeft"))||0;return e+n+o+i+a+l+s}function pn(r,t){if(r)for(var e in t)t.hasOwnProperty(e)&&(r.style[e]=t[e]);return r}var EDe=ac.cloneEvent,_De=ac.isViewportChanged,TDe=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;return n.extendEvents=[],n.dragging=!1,n.preItem=null,n.graph=e,n.destroyed=!1,n.initEvents(),n}return t.prototype.initEvents=function(){var e=this,n=e.graph,i=e.extendEvents,a=i===void 0?[]:i,o=n.get("canvas"),s=o.get("el"),l=jy(this,"onCanvasEvents"),u=jy(this,"onExtendEvents"),c=jy(this,"onWheelEvent");o.off("*").on("*",l),this.canvasHandler=l,a.push(qu(s,"DOMMouseScroll",c)),a.push(qu(s,"mousewheel",c)),typeof window!="undefined"&&(a.push(qu(window,"keydown",u)),a.push(qu(window,"keyup",u)),a.push(qu(window,"focus",u)))},t.getItemRoot=function(e){for(;e&&!e.get("item");)e=e.get("parent");return e},t.prototype.onCanvasEvents=function(e){var n=this.graph,i=n.get("canvas"),a=e.target,o=e.type;e.canvasX=e.x,e.canvasY=e.y;var s={x:e.canvasX,y:e.canvasY},l=n.get("group"),u=l.getMatrix();if(u||(u=[1,0,0,0,1,0,0,0,1]),_De(u)&&(s=n.getPointByClient(e.clientX,e.clientY)),e.x=s.x,e.y=s.y,e.currentTarget=n,a===i){(o==="mousemove"||o==="mouseleave")&&this.handleMouseMove(e,"canvas"),e.target=i,e.item=null,n.emit(o,e),n.emit("canvas:".concat(o),e);return}var c=t.getItemRoot(a);if(!c){n.emit(o,e);return}var f=c.get("item");if(!f.destroyed){var d=f.getType();if(e.target=a,e.item=f,e.canvasX===e.x&&e.canvasY===e.y){var h=n.getCanvasByPoint(e.x,e.y);e.canvasX=h.x,e.canvasY=h.y}n.emit(o,e),e.name&&!e.name.includes(":")?n.emit("".concat(d,":").concat(o),e):n.emit(e.name,e),o==="dragstart"&&(this.dragging=!0),o==="dragend"&&(this.dragging=!1),o==="mousemove"&&this.handleMouseMove(e,d)}},t.prototype.onExtendEvents=function(e){this.graph.emit(e.type,e)},t.prototype.onWheelEvent=function(e){xt(e.wheelDelta)&&(e.wheelDelta=-e.detail),this.graph.emit("wheel",e)},t.prototype.handleMouseMove=function(e,n){var i=this,a=i.graph,o=i.preItem,s=a.get("canvas"),l=e.target===s?null:e.item;e=EDe(e),o&&o!==l&&!o.destroyed&&(e.item=o,this.emitCustomEvent(o.getType(),"mouseleave",e),this.dragging&&this.emitCustomEvent(o.getType(),"dragleave",e)),l&&o!==l&&(e.item=l,this.emitCustomEvent(n,"mouseenter",e),this.dragging&&this.emitCustomEvent(n,"dragenter",e)),this.preItem=l},t.prototype.emitCustomEvent=function(e,n,i){i.type=n,this.graph.emit("".concat(e,":").concat(n),i)},t.prototype.destroy=function(){var e=this,n=e.graph,i=e.canvasHandler,a=e.extendEvents,o=n.get("canvas");o.off("*",i),q(a,function(s){s.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},t}(uPe);class Cs{constructor(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=()=>{}}layout(t){return this.init(t),this.execute(!0)}init(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[]}execute(t){}executeWithWorker(){}getDefaultCfg(){return{}}updateCfg(t){t&&Object.assign(this,t)}getType(){return"base"}destroy(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}const D1=r=>typeof r=="string",ls=Array.isArray,xr=r=>typeof r=="number",UD=r=>Number.isNaN(Number(r)),ff=r=>r!==null&&typeof r=="object",ww=r=>{if(r===null)return r;if(r instanceof Date)return new Date(r.getTime());if(r instanceof Array){const t=[];return r.forEach(e=>{t.push(e)}),t.map(e=>ww(e))}if(typeof r=="object"&&r!=={}){const t=Object.assign({},r);return Object.keys(t).forEach(e=>{t[e]=ww(t[e])}),t}return r},ri=(r,t)=>{const e=r[t];return ff(e)?e.cell:e},pS=(r,t,e)=>{const n=[];for(let i=0;i<r;i++)n[i]=0;return e&&e.forEach(i=>{const a=ri(i,"source"),o=ri(i,"target");a&&(n[t[a]]+=1),o&&(n[t[o]]+=1)}),n},JQ=r=>{const t=[],e=r.length;for(let n=0;n<e;n+=1){t[n]=[];for(let i=0;i<e;i+=1)n===i?t[n][i]=0:r[n][i]===0||!r[n][i]?t[n][i]=1/0:t[n][i]=r[n][i]}for(let n=0;n<e;n+=1)for(let i=0;i<e;i+=1)for(let a=0;a<e;a+=1)t[i][a]>t[i][n]+t[n][a]&&(t[i][a]=t[i][n]+t[n][a]);return t},eJ=(r,t)=>{const{nodes:e,edges:n}=r,i=[],a={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach((o,s)=>{a[o.id]=s;const l=[];i.push(l)}),n&&n.forEach(o=>{const s=ri(o,"source"),l=ri(o,"target"),u=a[s],c=a[l];i[u][c]=1,t||(i[c][u]=1)}),i},ADe=(r,t)=>{const e=[];return r.forEach(n=>{const i=[];n.forEach(a=>{i.push(a*t)}),e.push(i)}),e},tJ=(r,t)=>{if(r&&r.children){for(let e=r.children.length-1;e>=0;e--)if(!tJ(r.children[e],t))return}return!!t(r)},PE=(r,t)=>{typeof t=="function"&&tJ(r,t)},tv=r=>typeof r=="function",RE=new Map,zs=(r,t)=>{if(RE.get(r)&&console.warn(`The layout with the name ${r} exists already, it will be overridden`),ff(t)){class e extends Cs{constructor(i){super();const a=this,o={},s=a.getDefaultCfg();Object.assign(o,s,t,i),Object.keys(o).forEach(l=>{const u=o[l];a[l]=u})}}RE.set(r,e)}else RE.set(r,t);return RE.get(r)};class rJ extends Cs{constructor(t){super();this.begin=[0,0],this.preventOverlap=!0,this.preventOverlapPadding=10,this.condense=!1,this.sortBy="degree",this.nodeSize=30,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.row=0,this.col=0,this.cellWidth=0,this.cellHeight=0,this.cellUsed={},this.id2manPos={},this.onLayoutEnd=()=>{},this.updateCfg(t)}getDefaultCfg(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}}execute(){const t=this,e=t.nodes,n=t.edges,i=e.length,a=t.begin;if(i===0)return t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n};if(i===1)return e[0].x=a[0],e[0].y=a[1],t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n};const o=[];e.forEach(c=>{o.push(c)});const s={};if(o.forEach((c,f)=>{s[c.id]=f}),(t.sortBy==="degree"||!D1(t.sortBy)||o[0][t.sortBy]===void 0)&&(t.sortBy="degree",UD(e[0].degree))){const c=pS(o.length,s,n);o.forEach((f,d)=>{f.degree=c[d]})}o.sort((c,f)=>f[t.sortBy]-c[t.sortBy]),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);const l=t.rows,u=t.cols!=null?t.cols:t.columns;if(t.cells=i,l!=null&&u!=null?(t.rows=l,t.cols=u):l!=null&&u==null?(t.rows=l,t.cols=Math.ceil(t.cells/t.rows)):l==null&&u!=null?(t.cols=u,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells){const c=t.small(),f=t.large();(c-1)*f>=t.cells?t.small(c-1):(f-1)*c>=t.cells&&t.large(f-1)}else for(;t.cols*t.rows<t.cells;){const c=t.small(),f=t.large();(f+1)*c>=t.cells?t.large(f+1):t.small(c+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&o.forEach(c=>{(!c.x||!c.y)&&(c.x=0,c.y=0);let f,d;ls(c.size)?(f=c.size[0],d=c.size[1]):xr(c.size)?(f=c.size,d=c.size):ff(c.size)&&(f=c.size.width,d=c.size.height),(f===void 0||d===void 0)&&(ls(t.nodeSize)?(f=t.nodeSize[0],d=t.nodeSize[1]):xr(t.nodeSize)?(f=t.nodeSize,d=t.nodeSize):(f=30,d=30));const h=t.preventOverlapPadding,v=f+h,p=d+h;t.cellWidth=Math.max(t.cellWidth,v),t.cellHeight=Math.max(t.cellHeight,p)}),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(let c=0;c<o.length;c++){const f=o[c];let d;if(t.position&&(d=t.position(f)),d&&(d.row!==void 0||d.col!==void 0)){const h={row:d.row,col:d.col};if(h.col===void 0)for(h.col=0;t.used(h.row,h.col);)h.col++;else if(h.row===void 0)for(h.row=0;t.used(h.row,h.col);)h.row++;t.id2manPos[f.id]=h,t.use(h.row,h.col)}t.getPos(f)}return t.onLayoutEnd&&t.onLayoutEnd(),{edges:n,nodes:o}}small(t){const e=this;let n;const i=e.rows||5,a=e.cols||5;return t==null?n=Math.min(i,a):Math.min(i,a)===e.rows?e.rows=t:e.cols=t,n}large(t){const e=this;let n;const i=e.rows||5,a=e.cols||5;return t==null?n=Math.max(i,a):Math.max(i,a)===e.rows?e.rows=t:e.cols=t,n}used(t,e){return this.cellUsed[`c-${t}-${e}`]||!1}use(t,e){const n=this;n.cellUsed[`c-${t}-${e}`]=!0}moveToNextCell(){const t=this,e=t.cols||5;t.col++,t.col>=e&&(t.col=0,t.row++)}getPos(t){const e=this,n=e.begin,i=e.cellWidth,a=e.cellHeight;let o,s;const l=e.id2manPos[t.id];if(l)o=l.col*i+i/2+n[0],s=l.row*a+a/2+n[1];else{for(;e.used(e.row,e.col);)e.moveToNextCell();o=e.col*i+i/2+n[0],s=e.row*a+a/2+n[1],e.use(e.row,e.col),e.moveToNextCell()}t.x=o,t.y=s}getType(){return"grid"}}class nJ extends Cs{constructor(t){super();this.center=[0,0],this.width=300,this.height=300,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.updateCfg(t)}getDefaultCfg(){return{center:[0,0],width:300,height:300}}execute(){const t=this,e=t.nodes,n=.9,i=t.center;return!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),e&&e.forEach(a=>{a.x=(Math.random()-.5)*n*t.width+i[0],a.y=(Math.random()-.5)*n*t.height+i[1]}),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:this.edges}}getType(){return"random"}}const QI=(r,t)=>{let e;return r?xr(r)?e=n=>r:e=r:e=n=>t||1,e};class iJ extends Cs{constructor(t){super();this.maxIteration=1e3,this.workerEnabled=!1,this.edgeStrength=200,this.nodeStrength=1e3,this.coulombDisScale=.005,this.damping=.9,this.maxSpeed=1e3,this.minMovement=.5,this.interval=.02,this.factor=1,this.linkDistance=1,this.gravity=10,this.preventOverlap=!0,this.tick=()=>{},this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.updateCfg(t)}getDefaultCfg(){return{maxIteration:500,gravity:10,enableTick:!0}}execute(){var t,e;const n=this,i=n.nodes;if(n.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(n.timeInterval),!i||i.length===0){(t=n.onLayoutEnd)===null||t===void 0||t.call(n);return}!n.width&&typeof window!="undefined"&&(n.width=window.innerWidth),!n.height&&typeof window!="undefined"&&(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);const a=n.center;if(i.length===1){i[0].x=a[0],i[0].y=a[1],(e=n.onLayoutEnd)===null||e===void 0||e.call(n);return}const o={},s={};i.forEach((f,d)=>{xr(f.x)||(f.x=Math.random()*n.width),xr(f.y)||(f.y=Math.random()*n.height),o[f.id]=f,s[f.id]=d}),n.nodeMap=o,n.nodeIdxMap=s,n.linkDistance=QI(n.linkDistance,1),n.nodeStrength=QI(n.nodeStrength,1),n.edgeStrength=QI(n.edgeStrength,1);const l=n.nodeSize;let u;if(n.preventOverlap){const f=n.nodeSpacing;let d;xr(f)?d=()=>f:tv(f)?d=f:d=()=>0,l?ls(l)?u=h=>(l[0]>l[1]?l[0]:l[1])+d(h):u=h=>l+d(h):u=h=>h.size?ls(h.size)?(h.size[0]>h.size[1]?h.size[0]:h.size[1])+d(h):ff(h.size)?(h.size.width>h.size.height?h.size.width:h.size.height)+d(h):h.size+d(h):10+d(h)}n.nodeSize=u;const c=n.edges;n.degrees=pS(i.length,n.nodeIdxMap,c),n.getMass||(n.getMass=f=>n.degrees[n.nodeIdxMap[f.id]]||1),n.run()}run(){var t;const e=this,{maxIteration:n,nodes:i,workerEnabled:a,minMovement:o}=e;if(!!i)if(a){for(let s=0;s<n;s++){const l=e.runOneStep(s);if(e.reachMoveThreshold(i,l,o))break}(t=e.onLayoutEnd)===null||t===void 0||t.call(e)}else{if(typeof window=="undefined")return;let s=0;this.timeInterval=window.setInterval(()=>{var l,u;if(!i)return;const c=e.runOneStep(s)||[];e.reachMoveThreshold(i,c,o)&&((l=e.onLayoutEnd)===null||l===void 0||l.call(e),window.clearInterval(e.timeInterval)),s++,s>=n&&((u=e.onLayoutEnd)===null||u===void 0||u.call(e),window.clearInterval(e.timeInterval))},0)}}reachMoveThreshold(t,e,n){let i=0;return t.forEach((a,o)=>{const s=a.x-e[o].x,l=a.y-e[o].y;i+=Math.sqrt(s*s+l*l)}),i/=t.length,i<n}runOneStep(t){var e;const n=this,{nodes:i,edges:a}=n,o=[],s=[];if(!i)return;i.forEach((c,f)=>{o[2*f]=0,o[2*f+1]=0,s[2*f]=0,s[2*f+1]=0}),n.calRepulsive(o,i),a&&n.calAttractive(o,a),n.calGravity(o,i);const l=Math.max(.02,n.interval-t*.002);n.updateVelocity(o,s,l,i);const u=[];return i.forEach(c=>{u.push({x:c.x,y:c.y})}),n.updatePosition(s,l,i),(e=n.tick)===null||e===void 0||e.call(n),u}calRepulsive(t,e){const n=this,i=n.getMass,a=n.nodeStrength,o=n.factor,s=n.coulombDisScale,l=n.preventOverlap,u=n.nodeSize;e.forEach((c,f)=>{const d=i?i(c):1;e.forEach((h,v)=>{if(f>=v)return;const p=c.x-h.x,g=c.y-h.y,m=Math.sqrt(p*p+g*g)+.01,y=(m+.1)*s,b=p/m,w=g/m,S=(a(c)+a(h))/2*o/(y*y),E=i?i(h):1;if(t[2*f]+=b*S,t[2*f+1]+=w*S,t[2*v]-=b*S,t[2*v+1]-=w*S,l&&m<(u(c)+u(h))/2){const _=(a(c)+a(h))/2/(m*m);t[2*f]+=b*_/d,t[2*f+1]+=w*_/d,t[2*v]-=b*_/E,t[2*v+1]-=w*_/E}})})}calAttractive(t,e){const n=this,i=n.nodeMap,a=n.nodeIdxMap,o=n.linkDistance,s=n.edgeStrength,l=n.getMass;e.forEach((u,c)=>{const f=ri(u,"source"),d=ri(u,"target"),h=i[f],v=i[d],p=v.x-h.x,g=v.y-h.y,m=Math.sqrt(p*p+g*g)+.01,y=p/m,b=g/m,E=((o(u)||1)-m)*s(u),_=a[f],A=a[d],k=l?l(h):1,T=l?l(v):1;t[2*_]-=y*E/k,t[2*_+1]-=b*E/k,t[2*A]+=y*E/T,t[2*A+1]+=b*E/T})}calGravity(t,e){const n=this,i=n.center,a=n.gravity,o=n.degrees,s=e.length;for(let l=0;l<s;l++){const u=e[l];let c=u.x-i[0],f=u.y-i[1],d=a;if(n.getCenter){const h=n.getCenter(u,o[l]);h&&xr(h[0])&&xr(h[1])&&xr(h[2])&&(c=u.x-h[0],f=u.y-h[1],d=h[2])}!d||(t[2*l]-=d*c,t[2*l+1]-=d*f)}}updateVelocity(t,e,n,i){const a=this,o=n*a.damping;i.forEach((s,l)=>{let u=t[2*l]*o||.01,c=t[2*l+1]*o||.01;const f=Math.sqrt(u*u+c*c);if(f>a.maxSpeed){const d=a.maxSpeed/f;u=d*u,c=d*c}e[2*l]=u,e[2*l+1]=c})}updatePosition(t,e,n){n.forEach((i,a)=>{if(xr(i.fx)&&xr(i.fy)){i.x=i.fx,i.y=i.fy;return}const o=t[2*a]*e,s=t[2*a+1]*e;i.x+=o,i.y+=s})}stop(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)}destroy(){const t=this;t.stop(),t.tick=null,t.nodes=null,t.edges=null,t.destroyed=!0}getType(){return"gForce"}}function aJ(r,t){var e,n=1;r==null&&(r=0),t==null&&(t=0);function i(){var a,o=e.length,s,l=0,u=0;for(a=0;a<o;++a)s=e[a],l+=s.x,u+=s.y;for(l=(l/o-r)*n,u=(u/o-t)*n,a=0;a<o;++a)s=e[a],s.x-=l,s.y-=u}return i.initialize=function(a){e=a},i.x=function(a){return arguments.length?(r=+a,i):r},i.y=function(a){return arguments.length?(t=+a,i):t},i.strength=function(a){return arguments.length?(n=+a,i):n},i}function kDe(r){const t=+this._x.call(null,r),e=+this._y.call(null,r);return oJ(this.cover(t,e),t,e,r)}function oJ(r,t,e,n){if(isNaN(t)||isNaN(e))return r;var i,a=r._root,o={data:n},s=r._x0,l=r._y0,u=r._x1,c=r._y1,f,d,h,v,p,g,m,y;if(!a)return r._root=o,r;for(;a.length;)if((p=t>=(f=(s+u)/2))?s=f:u=f,(g=e>=(d=(l+c)/2))?l=d:c=d,i=a,!(a=a[m=g<<1|p]))return i[m]=o,r;if(h=+r._x.call(null,a.data),v=+r._y.call(null,a.data),t===h&&e===v)return o.next=a,i?i[m]=o:r._root=o,r;do i=i?i[m]=new Array(4):r._root=new Array(4),(p=t>=(f=(s+u)/2))?s=f:u=f,(g=e>=(d=(l+c)/2))?l=d:c=d;while((m=g<<1|p)===(y=(v>=d)<<1|h>=f));return i[y]=a,i[m]=o,r}function MDe(r){var t,e,n=r.length,i,a,o=new Array(n),s=new Array(n),l=1/0,u=1/0,c=-1/0,f=-1/0;for(e=0;e<n;++e)isNaN(i=+this._x.call(null,t=r[e]))||isNaN(a=+this._y.call(null,t))||(o[e]=i,s[e]=a,i<l&&(l=i),i>c&&(c=i),a<u&&(u=a),a>f&&(f=a));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),e=0;e<n;++e)oJ(this,o[e],s[e],r[e]);return this}function IDe(r,t){if(isNaN(r=+r)||isNaN(t=+t))return this;var e=this._x0,n=this._y0,i=this._x1,a=this._y1;if(isNaN(e))i=(e=Math.floor(r))+1,a=(n=Math.floor(t))+1;else{for(var o=i-e||1,s=this._root,l,u;e>r||r>=i||n>t||t>=a;)switch(u=(t<n)<<1|r<e,l=new Array(4),l[u]=s,s=l,o*=2,u){case 0:i=e+o,a=n+o;break;case 1:e=i-o,a=n+o;break;case 2:i=e+o,n=a-o;break;case 3:e=i-o,n=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=n,this._x1=i,this._y1=a,this}function PDe(){var r=[];return this.visit(function(t){if(!t.length)do r.push(t.data);while(t=t.next)}),r}function RDe(r){return arguments.length?this.cover(+r[0][0],+r[0][1]).cover(+r[1][0],+r[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ds(r,t,e,n,i){this.node=r,this.x0=t,this.y0=e,this.x1=n,this.y1=i}function DDe(r,t,e){var n,i=this._x0,a=this._y0,o,s,l,u,c=this._x1,f=this._y1,d=[],h=this._root,v,p;for(h&&d.push(new Ds(h,i,a,c,f)),e==null?e=1/0:(i=r-e,a=t-e,c=r+e,f=t+e,e*=e);v=d.pop();)if(!(!(h=v.node)||(o=v.x0)>c||(s=v.y0)>f||(l=v.x1)<i||(u=v.y1)<a))if(h.length){var g=(o+l)/2,m=(s+u)/2;d.push(new Ds(h[3],g,m,l,u),new Ds(h[2],o,m,g,u),new Ds(h[1],g,s,l,m),new Ds(h[0],o,s,g,m)),(p=(t>=m)<<1|r>=g)&&(v=d[d.length-1],d[d.length-1]=d[d.length-1-p],d[d.length-1-p]=v)}else{var y=r-+this._x.call(null,h.data),b=t-+this._y.call(null,h.data),w=y*y+b*b;if(w<e){var S=Math.sqrt(e=w);i=r-S,a=t-S,c=r+S,f=t+S,n=h.data}}return n}function ODe(r){if(isNaN(c=+this._x.call(null,r))||isNaN(f=+this._y.call(null,r)))return this;var t,e=this._root,n,i,a,o=this._x0,s=this._y0,l=this._x1,u=this._y1,c,f,d,h,v,p,g,m;if(!e)return this;if(e.length)for(;;){if((v=c>=(d=(o+l)/2))?o=d:l=d,(p=f>=(h=(s+u)/2))?s=h:u=h,t=e,!(e=e[g=p<<1|v]))return this;if(!e.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(n=t,m=g)}for(;e.data!==r;)if(i=e,!(e=e.next))return this;return(a=e.next)&&delete e.next,i?(a?i.next=a:delete i.next,this):t?(a?t[g]=a:delete t[g],(e=t[0]||t[1]||t[2]||t[3])&&e===(t[3]||t[2]||t[1]||t[0])&&!e.length&&(n?n[m]=e:this._root=e),this):(this._root=a,this)}function LDe(r){for(var t=0,e=r.length;t<e;++t)this.remove(r[t]);return this}function FDe(){return this._root}function NDe(){var r=0;return this.visit(function(t){if(!t.length)do++r;while(t=t.next)}),r}function BDe(r){var t=[],e,n=this._root,i,a,o,s,l;for(n&&t.push(new Ds(n,this._x0,this._y0,this._x1,this._y1));e=t.pop();)if(!r(n=e.node,a=e.x0,o=e.y0,s=e.x1,l=e.y1)&&n.length){var u=(a+s)/2,c=(o+l)/2;(i=n[3])&&t.push(new Ds(i,u,c,s,l)),(i=n[2])&&t.push(new Ds(i,a,c,u,l)),(i=n[1])&&t.push(new Ds(i,u,o,s,c)),(i=n[0])&&t.push(new Ds(i,a,o,u,c))}return this}function zDe(r){var t=[],e=[],n;for(this._root&&t.push(new Ds(this._root,this._x0,this._y0,this._x1,this._y1));n=t.pop();){var i=n.node;if(i.length){var a,o=n.x0,s=n.y0,l=n.x1,u=n.y1,c=(o+l)/2,f=(s+u)/2;(a=i[0])&&t.push(new Ds(a,o,s,c,f)),(a=i[1])&&t.push(new Ds(a,c,s,l,f)),(a=i[2])&&t.push(new Ds(a,o,f,c,u)),(a=i[3])&&t.push(new Ds(a,c,f,l,u))}e.push(n)}for(;n=e.pop();)r(n.node,n.x0,n.y0,n.x1,n.y1);return this}function $De(r){return r[0]}function GDe(r){return arguments.length?(this._x=r,this):this._x}function UDe(r){return r[1]}function HDe(r){return arguments.length?(this._y=r,this):this._y}function oN(r,t,e){var n=new sN(t==null?$De:t,e==null?UDe:e,NaN,NaN,NaN,NaN);return r==null?n:n.addAll(r)}function sN(r,t,e,n,i,a){this._x=r,this._y=t,this._x0=e,this._y0=n,this._x1=i,this._y1=a,this._root=void 0}function a6(r){for(var t={data:r.data},e=t;r=r.next;)e=e.next={data:r.data};return t}var $s=oN.prototype=sN.prototype;$s.copy=function(){var r=new sN(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,e,n;if(!t)return r;if(!t.length)return r._root=a6(t),r;for(e=[{source:t,target:r._root=new Array(4)}];t=e.pop();)for(var i=0;i<4;++i)(n=t.source[i])&&(n.length?e.push({source:n,target:t.target[i]=new Array(4)}):t.target[i]=a6(n));return r};$s.add=kDe;$s.addAll=MDe;$s.cover=IDe;$s.data=PDe;$s.extent=RDe;$s.find=DDe;$s.remove=ODe;$s.removeAll=LDe;$s.root=FDe;$s.size=NDe;$s.visit=BDe;$s.visitAfter=zDe;$s.x=GDe;$s.y=HDe;function Ls(r){return function(){return r}}function rv(r){return(r()-.5)*1e-6}function VDe(r){return r.x+r.vx}function WDe(r){return r.y+r.vy}function sJ(r){var t,e,n,i=1,a=1;typeof r!="function"&&(r=Ls(r==null?1:+r));function o(){for(var u,c=t.length,f,d,h,v,p,g,m=0;m<a;++m)for(f=oN(t,VDe,WDe).visitAfter(s),u=0;u<c;++u)d=t[u],p=e[d.index],g=p*p,h=d.x+d.vx,v=d.y+d.vy,f.visit(y);function y(b,w,S,E,_){var A=b.data,k=b.r,T=p+k;if(A){if(A.index>d.index){var I=h-A.x-A.vx,D=v-A.y-A.vy,O=I*I+D*D;O<T*T&&(I===0&&(I=rv(n),O+=I*I),D===0&&(D=rv(n),O+=D*D),O=(T-(O=Math.sqrt(O)))/O*i,d.vx+=(I*=O)*(T=(k*=k)/(g+k)),d.vy+=(D*=O)*T,A.vx-=I*(T=1-T),A.vy-=D*T)}return}return w>h+T||E<h-T||S>v+T||_<v-T}}function s(u){if(u.data)return u.r=e[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(!!t){var u,c=t.length,f;for(e=new Array(c),u=0;u<c;++u)f=t[u],e[f.index]=+r(f,u,t)}}return o.initialize=function(u,c){t=u,n=c,l()},o.iterations=function(u){return arguments.length?(a=+u,o):a},o.strength=function(u){return arguments.length?(i=+u,o):i},o.radius=function(u){return arguments.length?(r=typeof u=="function"?u:Ls(+u),l(),o):r},o}function jDe(r){return r.index}function o6(r,t){var e=r.get(t);if(!e)throw new Error("node not found: "+t);return e}function Z_(r){var t=jDe,e=f,n,i=Ls(30),a,o,s,l,u,c=1;r==null&&(r=[]);function f(g){return 1/Math.min(s[g.source.index],s[g.target.index])}function d(g){for(var m=0,y=r.length;m<c;++m)for(var b=0,w,S,E,_,A,k,T;b<y;++b)w=r[b],S=w.source,E=w.target,_=E.x+E.vx-S.x-S.vx||rv(u),A=E.y+E.vy-S.y-S.vy||rv(u),k=Math.sqrt(_*_+A*A),k=(k-a[b])/k*g*n[b],_*=k,A*=k,E.vx-=_*(T=l[b]),E.vy-=A*T,S.vx+=_*(T=1-T),S.vy+=A*T}function h(){if(!!o){var g,m=o.length,y=r.length,b=new Map(o.map((S,E)=>[t(S,E,o),S])),w;for(g=0,s=new Array(m);g<y;++g)w=r[g],w.index=g,typeof w.source!="object"&&(w.source=o6(b,w.source)),typeof w.target!="object"&&(w.target=o6(b,w.target)),s[w.source.index]=(s[w.source.index]||0)+1,s[w.target.index]=(s[w.target.index]||0)+1;for(g=0,l=new Array(y);g<y;++g)w=r[g],l[g]=s[w.source.index]/(s[w.source.index]+s[w.target.index]);n=new Array(y),v(),a=new Array(y),p()}}function v(){if(!!o)for(var g=0,m=r.length;g<m;++g)n[g]=+e(r[g],g,r)}function p(){if(!!o)for(var g=0,m=r.length;g<m;++g)a[g]=+i(r[g],g,r)}return d.initialize=function(g,m){o=g,u=m,h()},d.links=function(g){return arguments.length?(r=g,h(),d):r},d.id=function(g){return arguments.length?(t=g,d):t},d.iterations=function(g){return arguments.length?(c=+g,d):c},d.strength=function(g){return arguments.length?(e=typeof g=="function"?g:Ls(+g),v(),d):e},d.distance=function(g){return arguments.length?(i=typeof g=="function"?g:Ls(+g),p(),d):i},d}var YDe={value:()=>{}};function lJ(){for(var r=0,t=arguments.length,e={},n;r<t;++r){if(!(n=arguments[r]+"")||n in e||/[\s.]/.test(n))throw new Error("illegal type: "+n);e[n]=[]}return new W2(e)}function W2(r){this._=r}function XDe(r,t){return r.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}W2.prototype=lJ.prototype={constructor:W2,on:function(r,t){var e=this._,n=XDe(r+"",e),i,a=-1,o=n.length;if(arguments.length<2){for(;++a<o;)if((i=(r=n[a]).type)&&(i=qDe(e[i],r.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(r=n[a]).type)e[i]=s6(e[i],r.name,t);else if(t==null)for(i in e)e[i]=s6(e[i],r.name,null);return this},copy:function(){var r={},t=this._;for(var e in t)r[e]=t[e].slice();return new W2(r)},call:function(r,t){if((i=arguments.length-2)>0)for(var e=new Array(i),n=0,i,a;n<i;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(a=this._[r],n=0,i=a.length;n<i;++n)a[n].value.apply(t,e)},apply:function(r,t,e){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var n=this._[r],i=0,a=n.length;i<a;++i)n[i].value.apply(t,e)}};function qDe(r,t){for(var e=0,n=r.length,i;e<n;++e)if((i=r[e]).name===t)return i.value}function s6(r,t,e){for(var n=0,i=r.length;n<i;++n)if(r[n].name===t){r[n]=YDe,r=r.slice(0,n).concat(r.slice(n+1));break}return e!=null&&r.push({name:t,value:e}),r}var S0=0,l1=0,wx=0,uJ=1e3,Q_,u1,J_=0,Ig=0,FA=0,Sw=typeof performance=="object"&&performance.now?performance:Date,cJ=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function fJ(){return Ig||(cJ(KDe),Ig=Sw.now()+FA)}function KDe(){Ig=0}function HD(){this._call=this._time=this._next=null}HD.prototype=dJ.prototype={constructor:HD,restart:function(r,t,e){if(typeof r!="function")throw new TypeError("callback is not a function");e=(e==null?fJ():+e)+(t==null?0:+t),!this._next&&u1!==this&&(u1?u1._next=this:Q_=this,u1=this),this._call=r,this._time=e,VD()},stop:function(){this._call&&(this._call=null,this._time=1/0,VD())}};function dJ(r,t,e){var n=new HD;return n.restart(r,t,e),n}function ZDe(){fJ(),++S0;for(var r=Q_,t;r;)(t=Ig-r._time)>=0&&r._call.call(null,t),r=r._next;--S0}function l6(){Ig=(J_=Sw.now())+FA,S0=l1=0;try{ZDe()}finally{S0=0,JDe(),Ig=0}}function QDe(){var r=Sw.now(),t=r-J_;t>uJ&&(FA-=t,J_=r)}function JDe(){for(var r,t=Q_,e,n=1/0;t;)t._call?(n>t._time&&(n=t._time),r=t,t=t._next):(e=t._next,t._next=null,t=r?r._next=e:Q_=e);u1=r,VD(n)}function VD(r){if(!S0){l1&&(l1=clearTimeout(l1));var t=r-Ig;t>24?(r<1/0&&(l1=setTimeout(l6,r-Sw.now()-FA)),wx&&(wx=clearInterval(wx))):(wx||(J_=Sw.now(),wx=setInterval(QDe,uJ)),S0=1,cJ(l6))}}const eOe=1664525,tOe=1013904223,u6=4294967296;function rOe(){let r=1;return()=>(r=(eOe*r+tOe)%u6)/u6}function nOe(r){return r.x}function iOe(r){return r.y}var aOe=10,oOe=Math.PI*(3-Math.sqrt(5));function lN(r){var t,e=1,n=.001,i=1-Math.pow(n,1/300),a=0,o=.6,s=new Map,l=dJ(f),u=lJ("tick","end"),c=rOe();r==null&&(r=[]);function f(){d(),u.call("tick",t),e<n&&(l.stop(),u.call("end",t))}function d(p){var g,m=r.length,y;p===void 0&&(p=1);for(var b=0;b<p;++b)for(e+=(a-e)*i,s.forEach(function(w){w(e)}),g=0;g<m;++g)y=r[g],y.fx==null?y.x+=y.vx*=o:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=o:(y.y=y.fy,y.vy=0);return t}function h(){for(var p=0,g=r.length,m;p<g;++p){if(m=r[p],m.index=p,m.fx!=null&&(m.x=m.fx),m.fy!=null&&(m.y=m.fy),isNaN(m.x)||isNaN(m.y)){var y=aOe*Math.sqrt(.5+p),b=p*oOe;m.x=y*Math.cos(b),m.y=y*Math.sin(b)}(isNaN(m.vx)||isNaN(m.vy))&&(m.vx=m.vy=0)}}function v(p){return p.initialize&&p.initialize(r,c),p}return h(),t={tick:d,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(p){return arguments.length?(r=p,h(),s.forEach(v),t):r},alpha:function(p){return arguments.length?(e=+p,t):e},alphaMin:function(p){return arguments.length?(n=+p,t):n},alphaDecay:function(p){return arguments.length?(i=+p,t):+i},alphaTarget:function(p){return arguments.length?(a=+p,t):a},velocityDecay:function(p){return arguments.length?(o=1-p,t):1-o},randomSource:function(p){return arguments.length?(c=p,s.forEach(v),t):c},force:function(p,g){return arguments.length>1?(g==null?s.delete(p):s.set(p,v(g)),t):s.get(p)},find:function(p,g,m){var y=0,b=r.length,w,S,E,_,A;for(m==null?m=1/0:m*=m,y=0;y<b;++y)_=r[y],w=p-_.x,S=g-_.y,E=w*w+S*S,E<m&&(A=_,m=E);return A},on:function(p,g){return arguments.length>1?(u.on(p,g),t):u.on(p)}}}function uN(){var r,t,e,n,i=Ls(-30),a,o=1,s=1/0,l=.81;function u(h){var v,p=r.length,g=oN(r,nOe,iOe).visitAfter(f);for(n=h,v=0;v<p;++v)t=r[v],g.visit(d)}function c(){if(!!r){var h,v=r.length,p;for(a=new Array(v),h=0;h<v;++h)p=r[h],a[p.index]=+i(p,h,r)}}function f(h){var v=0,p,g,m=0,y,b,w;if(h.length){for(y=b=w=0;w<4;++w)(p=h[w])&&(g=Math.abs(p.value))&&(v+=p.value,m+=g,y+=g*p.x,b+=g*p.y);h.x=y/m,h.y=b/m}else{p=h,p.x=p.data.x,p.y=p.data.y;do v+=a[p.data.index];while(p=p.next)}h.value=v}function d(h,v,p,g){if(!h.value)return!0;var m=h.x-t.x,y=h.y-t.y,b=g-v,w=m*m+y*y;if(b*b/l<w)return w<s&&(m===0&&(m=rv(e),w+=m*m),y===0&&(y=rv(e),w+=y*y),w<o&&(w=Math.sqrt(o*w)),t.vx+=m*h.value*n/w,t.vy+=y*h.value*n/w),!0;if(h.length||w>=s)return;(h.data!==t||h.next)&&(m===0&&(m=rv(e),w+=m*m),y===0&&(y=rv(e),w+=y*y),w<o&&(w=Math.sqrt(o*w)));do h.data!==t&&(b=a[h.data.index]*n/w,t.vx+=m*b,t.vy+=y*b);while(h=h.next)}return u.initialize=function(h,v){r=h,e=v,c()},u.strength=function(h){return arguments.length?(i=typeof h=="function"?h:Ls(+h),c(),u):i},u.distanceMin=function(h){return arguments.length?(o=h*h,u):Math.sqrt(o)},u.distanceMax=function(h){return arguments.length?(s=h*h,u):Math.sqrt(s)},u.theta=function(h){return arguments.length?(l=h*h,u):Math.sqrt(l)},u}function hJ(r){var t=Ls(.1),e,n,i;typeof r!="function"&&(r=Ls(r==null?0:+r));function a(s){for(var l=0,u=e.length,c;l<u;++l)c=e[l],c.vx+=(i[l]-c.x)*n[l]*s}function o(){if(!!e){var s,l=e.length;for(n=new Array(l),i=new Array(l),s=0;s<l;++s)n[s]=isNaN(i[s]=+r(e[s],s,e))?0:+t(e[s],s,e)}}return a.initialize=function(s){e=s,o()},a.strength=function(s){return arguments.length?(t=typeof s=="function"?s:Ls(+s),o(),a):t},a.x=function(s){return arguments.length?(r=typeof s=="function"?s:Ls(+s),o(),a):r},a}function vJ(r){var t=Ls(.1),e,n,i;typeof r!="function"&&(r=Ls(r==null?0:+r));function a(s){for(var l=0,u=e.length,c;l<u;++l)c=e[l],c.vy+=(i[l]-c.y)*n[l]*s}function o(){if(!!e){var s,l=e.length;for(n=new Array(l),i=new Array(l),s=0;s<l;++s)n[s]=isNaN(i[s]=+r(e[s],s,e))?0:+t(e[s],s,e)}}return a.initialize=function(s){e=s,o()},a.strength=function(s){return arguments.length?(t=typeof s=="function"?s:Ls(+s),o(),a):t},a.y=function(s){return arguments.length?(r=typeof s=="function"?s:Ls(+s),o(),a):r},a}function sOe(){function r(ee){return()=>ee}let t=ee=>ee.cluster,e=r(1),n=r(-1),i=r(100),a=r(.1),o=[0,0],s=[],l={},u=[],c=100,f=100,d={none:{x:0,y:0}},h=[],v,p="force",g=!0,m=.1;function y(ee){if(!g)return y;v.tick(),A();for(let Q=0,be=s.length,fe,he=ee*m;Q<be;++Q)fe=s[Q],fe.vx+=(d[t(fe)].x-fe.x)*he,fe.vy+=(d[t(fe)].y-fe.y)*he}function b(){!s||w()}function w(){if(!s||!s.length)return;if(t(s[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");const ee=S();v=lN(ee.nodes).force("x",hJ(c).strength(.1)).force("y",vJ(f).strength(.1)).force("collide",sJ(Q=>Q.r).iterations(4)).force("charge",uN().strength(n)).force("links",Z_(ee.nodes.length?ee.links:[]).distance(i).strength(a)),h=v.nodes(),A()}function S(){const ee=[],Q=[],be={};let fe=[],he={},Ee=[];return he=E(s),Ee=_(u),fe=Object.keys(he),fe.forEach((He,nt)=>{const st=he[He];ee.push({id:He,size:st.count,r:Math.sqrt(st.sumforceNodeSize/Math.PI)}),be[He]=nt}),Ee.forEach(He=>{const nt=ri(He,"source"),st=ri(He,"target"),z=be[nt],j=be[st];z!==void 0&&j!==void 0&&Q.push({source:z,target:j,count:He.count})}),{nodes:ee,links:Q}}function E(ee){const Q={};return ee.forEach(be=>{const fe=t(be);Q[fe]||(Q[fe]={count:0,sumforceNodeSize:0})}),ee.forEach(be=>{const fe=t(be),he=e(be),Ee=Q[fe];Ee.count=Ee.count+1,Ee.sumforceNodeSize=Ee.sumforceNodeSize+Math.PI*(he*he)*1.3,Q[fe]=Ee}),Q}function _(ee){const Q={},be=[];return ee.forEach(he=>{const Ee=k(he);let He=0;Q[Ee]!==void 0&&(He=Q[Ee]),He+=1,Q[Ee]=He}),Object.entries(Q).forEach(([he,Ee])=>{const He=he.split("~")[0],nt=he.split("~")[1];He!==void 0&&nt!==void 0&&be.push({source:He,target:nt,count:Ee})}),be}function A(){return d={none:{x:0,y:0}},h.forEach(ee=>{d[ee.id]={x:ee.x-o[0],y:ee.y-o[1]}}),d}function k(ee){const Q=ri(ee,"source"),be=ri(ee,"target"),fe=t(l[Q]),he=t(l[be]);return fe<=he?`${fe}~${he}`:`${he}~${fe}`}function T(ee){l={},ee.forEach(Q=>{l[Q.id]=Q})}function I(ee){return arguments.length?(p=ee,b(),y):p}function D(ee){return arguments.length?typeof ee=="string"?(t=Q=>Q[ee],y):(t=ee,y):t}function O(ee){return arguments.length?(g=ee,y):g}function B(ee){return arguments.length?(m=ee,y):m}function U(ee){return arguments.length?(c=ee,y):c}function N(ee){return arguments.length?(f=ee,y):f}function G(ee){return arguments.length?(T(ee||[]),s=ee||[],y):s}function L(ee){return arguments.length?(u=ee||[],b(),y):u}function F(ee){return arguments.length?(typeof ee=="function"?e=ee:e=r(+ee),b(),y):e}function W(ee){return arguments.length?(typeof ee=="function"?n=ee:n=r(+ee),b(),y):n}function H(ee){return arguments.length?(typeof ee=="function"?i=ee:i=r(+ee),b(),y):i}function K(ee){return arguments.length?(typeof ee=="function"?a=ee:a=r(+ee),b(),y):a}function ie(ee){return arguments.length?(o=ee,y):o}return y.initialize=ee=>{s=ee,b()},y.template=I,y.groupBy=D,y.enableGrouping=O,y.strength=B,y.centerX=U,y.centerY=N,y.nodes=G,y.links=L,y.forceNodeSize=F,y.nodeSize=y.forceNodeSize,y.forceCharge=W,y.forceLinkDistance=H,y.forceLinkStrength=K,y.offset=ie,y.getFocis=A,y}const cN={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};class pJ extends Cs{constructor(t){super();this.center=[0,0],this.nodeStrength=null,this.edgeStrength=null,this.preventOverlap=!1,this.clusterNodeStrength=null,this.clusterEdgeStrength=null,this.clusterEdgeDistance=null,this.clusterNodeSize=null,this.clusterFociStrength=null,this.linkDistance=50,this.alphaDecay=.028,this.alphaMin=.001,this.alpha=.3,this.collideStrength=1,this.workerEnabled=!1,this.tick=()=>{},this.onLayoutEnd=()=>{},this.ticking=void 0,t&&this.updateCfg(t)}getDefaultCfg(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick(){},onLayoutEnd(){},workerEnabled:!1}}init(t){const e=this;e.nodes=t.nodes||[];const n=t.edges||[];e.edges=n.map(i=>{const a={},o=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(i).forEach(s=>{o.indexOf(s)>-1||(a[s]=i[s])}),a}),e.ticking=!1}execute(t){const e=this,n=e.nodes,i=e.edges;if(e.ticking)return;let a=e.forceSimulation;const o=e.alphaMin,s=e.alphaDecay,l=e.alpha;if(a){if(t){if(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(n),e.clusterForce.links(i)),a.nodes(n),i&&e.edgeForce)e.edgeForce.links(i);else if(i&&!e.edgeForce){const u=Z_().id(c=>c.id).links(i);e.edgeStrength&&u.strength(e.edgeStrength),e.linkDistance&&u.distance(e.linkDistance),e.edgeForce=u,a.force("link",u)}}e.preventOverlap&&e.overlapProcess(a),a.alpha(l).restart(),this.ticking=!0}else try{const u=uN();if(e.nodeStrength&&u.strength(e.nodeStrength),a=lN().nodes(n),e.clustering){const c=sOe();c.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),i&&c.links(i),n&&c.nodes(n),c.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=c,a.force("group",c)}if(a.force("center",aJ(e.center[0],e.center[1])).force("charge",u).alpha(l).alphaDecay(s).alphaMin(o),e.preventOverlap&&e.overlapProcess(a),i){const c=Z_().id(f=>f.id).links(i);e.edgeStrength&&c.strength(e.edgeStrength),e.linkDistance&&c.distance(e.linkDistance),e.edgeForce=c,a.force("link",c)}if(e.workerEnabled&&!uOe()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!e.workerEnabled)a.on("tick",()=>{e.tick()}).on("end",()=>{e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()}),e.ticking=!0;else{a.stop();const c=lOe(a);for(let f=1;f<=c;f++)a.tick(),postMessage({nodes:n,currentTick:f,totalTicks:c,type:cN.TICK},void 0);e.ticking=!1}e.forceSimulation=a,e.ticking=!0}catch(u){e.ticking=!1,console.warn(u)}}overlapProcess(t){const e=this,n=e.nodeSize,i=e.nodeSpacing;let a,o;const s=e.collideStrength;if(xr(i)?o=()=>i:tv(i)?o=i:o=()=>0,!n)a=l=>l.size?ls(l.size)?(l.size[0]>l.size[1]?l.size[0]:l.size[1])/2+o(l):ff(l.size)?(l.size.width>l.size.height?l.size.width:l.size.height)/2+o(l):l.size/2+o(l):10+o(l);else if(tv(n))a=l=>n(l)+o(l);else if(ls(n)){const u=(n[0]>n[1]?n[0]:n[1])/2;a=c=>u+o(c)}else if(xr(n)){const l=n/2;a=u=>l+o(u)}else a=()=>10;t.force("collisionForce",sJ(a).strength(s))}updateCfg(t){const e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.forceSimulation=null,Object.assign(e,t)}destroy(){const t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.nodes=null,t.edges=null,t.destroyed=!0}}function lOe(r){const t=r.alphaMin(),e=r.alphaTarget(),n=r.alpha(),i=Math.log((t-e)/(n-e))/Math.log(1-r.alphaDecay());return Math.ceil(i)}function uOe(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}function cOe(r,t,e,n){r.forEach((i,a)=>{r[a].children=[],r[a].parent=[]}),n?t.forEach(i=>{const a=ri(i,"source"),o=ri(i,"target");let s=0;a&&(s=e[a]);let l=0;o&&(l=e[o]);const u=r[s].children,c=r[l].parent;u.push(r[l].id),c.push(r[s].id)}):t.forEach(i=>{const a=ri(i,"source"),o=ri(i,"target");let s=0;a&&(s=e[a]);let l=0;o&&(l=e[o]);const u=r[s].children,c=r[l].children;u.push(r[l].id),c.push(r[s].id)})}function fOe(r,t,e){const n=e.length;for(let i=0;i<n;i++){const a=ri(e[i],"source"),o=ri(e[i],"target");if(r.id===a&&t.id===o||t.id===a&&r.id===o)return!0}return!1}function dOe(r,t){const e=r.degree,n=t.degree;return e<n?-1:e>n?1:0}class gJ extends Cs{constructor(t){super();this.radius=null,this.startRadius=null,this.endRadius=null,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.divisions=1,this.ordering=null,this.angleRatio=1,this.nodes=[],this.edges=[],this.nodeMap={},this.degrees=[],this.width=300,this.height=300,this.updateCfg(t)}getDefaultCfg(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}}execute(){const t=this,e=t.nodes,n=t.edges,i=e.length;if(i===0){t.onLayoutEnd&&t.onLayoutEnd();return}!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);const a=t.center;if(i===1){e[0].x=a[0],e[0].y=a[1],t.onLayoutEnd&&t.onLayoutEnd();return}let o=t.radius,s=t.startRadius,l=t.endRadius;const u=t.divisions,c=t.startAngle,f=t.endAngle,d=(f-c)/i,h={};e.forEach((S,E)=>{h[S.id]=E}),t.nodeMap=h;const v=pS(e.length,h,n);t.degrees=v,!o&&!s&&!l?o=t.height>t.width?t.width/2:t.height/2:!s&&l?s=l:s&&!l&&(l=s);const p=t.angleRatio,g=d*p,m=t.ordering;let y=[];m==="topology"?y=t.topologyOrdering():m==="topology-directed"?y=t.topologyOrdering(!0):m==="degree"?y=t.degreeOrdering():y=e;const b=t.clockwise,w=Math.ceil(i/u);for(let S=0;S<i;++S){let E=o;!E&&s!==null&&l!==null&&(E=s+S*(l-s)/(i-1)),E||(E=10+S*100/(i-1));let _=c+S%w*g+2*Math.PI/u*Math.floor(S/w);b||(_=f-S%w*g-2*Math.PI/u*Math.floor(S/w)),y[S].x=a[0]+Math.cos(_)*E,y[S].y=a[1]+Math.sin(_)*E,y[S].weight=v[S]}return t.onLayoutEnd&&t.onLayoutEnd(),{nodes:y,edges:this.edges}}topologyOrdering(t=!1){const e=this,n=e.degrees,i=e.edges,a=e.nodes,o=ww(a),s=e.nodeMap,l=[o[0]],u=[a[0]],c=[],f=a.length;c[0]=!0,cOe(o,i,s,t);let d=0;return o.forEach((h,v)=>{if(v!==0)if((v===f-1||n[v]!==n[v+1]||fOe(l[d],h,i))&&!c[v])l.push(h),u.push(a[s[h.id]]),c[v]=!0,d++;else{const p=l[d].children;let g=!1;for(let y=0;y<p.length;y++){const b=s[p[y]];if(n[b]===n[v]&&!c[b]){l.push(o[b]),u.push(a[s[o[b].id]]),c[b]=!0,g=!0;break}}let m=0;for(;!g&&(c[m]||(l.push(o[m]),u.push(a[s[o[m].id]]),c[m]=!0,g=!0),m++,m!==f););}}),u}degreeOrdering(){const t=this,e=t.nodes,n=[],i=t.degrees;return e.forEach((a,o)=>{a.degree=i[o],n.push(a)}),n.sort(dOe),n}getType(){return"circular"}}var hOe=un(function(r,t){(function(){var e,n="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",f=1,d=2,h=4,v=1,p=2,g=1,m=2,y=4,b=8,w=16,S=32,E=64,_=128,A=256,k=512,T=30,I="...",D=800,O=16,B=1,U=2,N=3,G=1/0,L=9007199254740991,F=17976931348623157e292,W=0/0,H=4294967295,K=H-1,ie=H>>>1,ee=[["ary",_],["bind",g],["bindKey",m],["curry",b],["curryRight",w],["flip",k],["partial",S],["partialRight",E],["rearg",A]],Q="[object Arguments]",be="[object Array]",fe="[object AsyncFunction]",he="[object Boolean]",Ee="[object Date]",He="[object DOMException]",nt="[object Error]",st="[object Function]",z="[object GeneratorFunction]",j="[object Map]",X="[object Number]",ae="[object Null]",ue="[object Object]",Be="[object Promise]",Ze="[object Proxy]",Le="[object RegExp]",se="[object Set]",Se="[object String]",Y="[object Symbol]",ve="[object Undefined]",ce="[object WeakMap]",de="[object WeakSet]",Fe="[object ArrayBuffer]",Ue="[object DataView]",lt="[object Float32Array]",ut="[object Float64Array]",We="[object Int8Array]",J="[object Int16Array]",Pe="[object Int32Array]",Ce="[object Uint8Array]",ct="[object Uint8ClampedArray]",mt="[object Uint16Array]",Me="[object Uint32Array]",ht=/\b__p \+= '';/g,ar=/\b(__p \+=) '' \+/g,Ht=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Er=/&(?:amp|lt|gt|quot|#39);/g,it=/[&<>"']/g,At=RegExp(Er.source),vr=RegExp(it.source),ze=/<%-([\s\S]+?)%>/g,_e=/<%([\s\S]+?)%>/g,Ke=/<%=([\s\S]+?)%>/g,Ot=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nt=/^\w*$/,fr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sn=/[\\^$.*+?()[\]{}|]/g,en=RegExp(sn.source),Zr=/^\s+/,Wn=/\s/,gn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pr=/\{\n\/\* \[wrapped with (.+)\] \*/,vn=/,? & /,Lr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Dn=/[()=,{}\[\]\/\s]/,Xr=/\\(\\)?/g,fi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ui=/\w*$/,Va=/^[-+]0x[0-9a-f]+$/i,fo=/^0b[01]+$/i,ho=/^\[object .+?Constructor\]$/,Po=/^0o[0-7]+$/i,ku=/^(?:0|[1-9]\d*)$/,sc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xl=/($^)/,pf=/['\n\r\u2028\u2029\\]/g,ql="\\ud800-\\udfff",Kl="\\u0300-\\u036f",qo="\\ufe20-\\ufe2f",Zl="\\u20d0-\\u20ff",oi=Kl+qo+Zl,to="\\u2700-\\u27bf",Qi="a-z\\xdf-\\xf6\\xf8-\\xff",hs="\\xac\\xb1\\xd7\\xf7",gl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Yd="\\u2000-\\u206f",Xd=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",lc="A-Z\\xc0-\\xd6\\xd8-\\xde",gf="\\ufe0e\\ufe0f",mf=hs+gl+Yd+Xd,uc="['\u2019]",qd="["+ql+"]",Bv="["+mf+"]",Kd="["+oi+"]",lm="\\d+",yf="["+to+"]",Zd="["+Qi+"]",zv="[^"+ql+mf+lm+to+Qi+lc+"]",bf="\\ud83c[\\udffb-\\udfff]",Tk="(?:"+Kd+"|"+bf+")",DS="[^"+ql+"]",lb="(?:\\ud83c[\\udde6-\\uddff]){2}",ub="[\\ud800-\\udbff][\\udc00-\\udfff]",Ro="["+lc+"]",vs="\\u200d",$v="(?:"+Zd+"|"+zv+")",Ak="(?:"+Ro+"|"+zv+")",OS="(?:"+uc+"(?:d|ll|m|re|s|t|ve))?",cb="(?:"+uc+"(?:D|LL|M|RE|S|T|VE))?",fb=Tk+"?",LS="["+gf+"]?",kk="(?:"+vs+"(?:"+[DS,lb,ub].join("|")+")"+LS+fb+")*",db="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mk="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",FS=LS+fb+kk,Ik="(?:"+[yf,lb,ub].join("|")+")"+FS,Pk="(?:"+[DS+Kd+"?",Kd,lb,ub,qd].join("|")+")",Rk=RegExp(uc,"g"),Dk=RegExp(Kd,"g"),hb=RegExp(bf+"(?="+bf+")|"+Pk+FS,"g"),Ok=RegExp([Ro+"?"+Zd+"+"+OS+"(?="+[Bv,Ro,"$"].join("|")+")",Ak+"+"+cb+"(?="+[Bv,Ro+$v,"$"].join("|")+")",Ro+"?"+$v+"+"+OS,Ro+"+"+cb,Mk,db,lm,Ik].join("|"),"g"),xf=RegExp("["+vs+ql+oi+gf+"]"),Lk=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Fk=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],um=-1,Oi={};Oi[lt]=Oi[ut]=Oi[We]=Oi[J]=Oi[Pe]=Oi[Ce]=Oi[ct]=Oi[mt]=Oi[Me]=!0,Oi[Q]=Oi[be]=Oi[Fe]=Oi[he]=Oi[Ue]=Oi[Ee]=Oi[nt]=Oi[st]=Oi[j]=Oi[X]=Oi[ue]=Oi[Le]=Oi[se]=Oi[Se]=Oi[ce]=!1;var Li={};Li[Q]=Li[be]=Li[Fe]=Li[Ue]=Li[he]=Li[Ee]=Li[lt]=Li[ut]=Li[We]=Li[J]=Li[Pe]=Li[j]=Li[X]=Li[ue]=Li[Le]=Li[se]=Li[Se]=Li[Y]=Li[Ce]=Li[ct]=Li[mt]=Li[Me]=!0,Li[nt]=Li[st]=Li[ce]=!1;var NS={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Nk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vb={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},pb={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},cc=parseFloat,cm=parseInt,gb=typeof dd=="object"&&dd&&dd.Object===Object&&dd,BS=typeof self=="object"&&self&&self.Object===Object&&self,vo=gb||BS||Function("return this")(),mb=t&&!t.nodeType&&t,wf=mb&&!0&&r&&!r.nodeType&&r,zS=wf&&wf.exports===mb,yb=zS&&gb.process,Gs=function(){try{var rt=wf&&wf.require&&wf.require("util").types;return rt||yb&&yb.binding&&yb.binding("util")}catch{}}(),$S=Gs&&Gs.isArrayBuffer,Sf=Gs&&Gs.isDate,GS=Gs&&Gs.isMap,US=Gs&&Gs.isRegExp,Qd=Gs&&Gs.isSet,HS=Gs&&Gs.isTypedArray;function ro(rt,Bt,Et){switch(Et.length){case 0:return rt.call(Bt);case 1:return rt.call(Bt,Et[0]);case 2:return rt.call(Bt,Et[0],Et[1]);case 3:return rt.call(Bt,Et[0],Et[1],Et[2])}return rt.apply(Bt,Et)}function VS(rt,Bt,Et,Mr){for(var wn=-1,si=rt==null?0:rt.length;++wn<si;){var Wa=rt[wn];Bt(Mr,Wa,Et(Wa),rt)}return Mr}function po(rt,Bt){for(var Et=-1,Mr=rt==null?0:rt.length;++Et<Mr&&Bt(rt[Et],Et,rt)!==!1;);return rt}function WS(rt,Bt){for(var Et=rt==null?0:rt.length;Et--&&Bt(rt[Et],Et,rt)!==!1;);return rt}function fc(rt,Bt){for(var Et=-1,Mr=rt==null?0:rt.length;++Et<Mr;)if(!Bt(rt[Et],Et,rt))return!1;return!0}function Ql(rt,Bt){for(var Et=-1,Mr=rt==null?0:rt.length,wn=0,si=[];++Et<Mr;){var Wa=rt[Et];Bt(Wa,Et,rt)&&(si[wn++]=Wa)}return si}function fm(rt,Bt){var Et=rt==null?0:rt.length;return!!Et&&Iu(rt,Bt,0)>-1}function bb(rt,Bt,Et){for(var Mr=-1,wn=rt==null?0:rt.length;++Mr<wn;)if(Et(Bt,rt[Mr]))return!0;return!1}function Ji(rt,Bt){for(var Et=-1,Mr=rt==null?0:rt.length,wn=Array(Mr);++Et<Mr;)wn[Et]=Bt(rt[Et],Et,rt);return wn}function Mu(rt,Bt){for(var Et=-1,Mr=Bt.length,wn=rt.length;++Et<Mr;)rt[wn+Et]=Bt[Et];return rt}function xb(rt,Bt,Et,Mr){var wn=-1,si=rt==null?0:rt.length;for(Mr&&si&&(Et=rt[++wn]);++wn<si;)Et=Bt(Et,rt[wn],wn,rt);return Et}function Bk(rt,Bt,Et,Mr){var wn=rt==null?0:rt.length;for(Mr&&wn&&(Et=rt[--wn]);wn--;)Et=Bt(Et,rt[wn],wn,rt);return Et}function dm(rt,Bt){for(var Et=-1,Mr=rt==null?0:rt.length;++Et<Mr;)if(Bt(rt[Et],Et,rt))return!0;return!1}var aa=Ef("length");function jS(rt){return rt.split("")}function zk(rt){return rt.match(Lr)||[]}function ml(rt,Bt,Et){var Mr;return Et(rt,function(wn,si,Wa){if(Bt(wn,si,Wa))return Mr=si,!1}),Mr}function Jd(rt,Bt,Et,Mr){for(var wn=rt.length,si=Et+(Mr?1:-1);Mr?si--:++si<wn;)if(Bt(rt[si],si,rt))return si;return-1}function Iu(rt,Bt,Et){return Bt===Bt?rh(rt,Bt,Et):Jd(rt,hm,Et)}function Cf(rt,Bt,Et,Mr){for(var wn=Et-1,si=rt.length;++wn<si;)if(Mr(rt[wn],Bt))return wn;return-1}function hm(rt){return rt!==rt}function Gv(rt,Bt){var Et=rt==null?0:rt.length;return Et?vm(rt,Bt)/Et:W}function Ef(rt){return function(Bt){return Bt==null?e:Bt[rt]}}function eh(rt){return function(Bt){return rt==null?e:rt[Bt]}}function wb(rt,Bt,Et,Mr,wn){return wn(rt,function(si,Wa,bi){Et=Mr?(Mr=!1,si):Bt(Et,si,Wa,bi)}),Et}function Sb(rt,Bt){var Et=rt.length;for(rt.sort(Bt);Et--;)rt[Et]=rt[Et].value;return rt}function vm(rt,Bt){for(var Et,Mr=-1,wn=rt.length;++Mr<wn;){var si=Bt(rt[Mr]);si!==e&&(Et=Et===e?si:Et+si)}return Et}function Cb(rt,Bt){for(var Et=-1,Mr=Array(rt);++Et<rt;)Mr[Et]=Bt(Et);return Mr}function $k(rt,Bt){return Ji(Bt,function(Et){return[Et,rt[Et]]})}function YS(rt){return rt&&rt.slice(0,ZS(rt)+1).replace(Zr,"")}function Ts(rt){return function(Bt){return rt(Bt)}}function Uv(rt,Bt){return Ji(Bt,function(Et){return rt[Et]})}function dc(rt,Bt){return rt.has(Bt)}function pm(rt,Bt){for(var Et=-1,Mr=rt.length;++Et<Mr&&Iu(Bt,rt[Et],0)>-1;);return Et}function gm(rt,Bt){for(var Et=rt.length;Et--&&Iu(Bt,rt[Et],0)>-1;);return Et}function th(rt,Bt){for(var Et=rt.length,Mr=0;Et--;)rt[Et]===Bt&&++Mr;return Mr}var Eb=eh(NS),_b=eh(Nk);function Tb(rt){return"\\"+pb[rt]}function Ab(rt,Bt){return rt==null?e:rt[Bt]}function _f(rt){return xf.test(rt)}function XS(rt){return Lk.test(rt)}function qS(rt){for(var Bt,Et=[];!(Bt=rt.next()).done;)Et.push(Bt.value);return Et}function mm(rt){var Bt=-1,Et=Array(rt.size);return rt.forEach(function(Mr,wn){Et[++Bt]=[wn,Mr]}),Et}function kb(rt,Bt){return function(Et){return rt(Bt(Et))}}function Pu(rt,Bt){for(var Et=-1,Mr=rt.length,wn=0,si=[];++Et<Mr;){var Wa=rt[Et];(Wa===Bt||Wa===c)&&(rt[Et]=c,si[wn++]=Et)}return si}function Hv(rt){var Bt=-1,Et=Array(rt.size);return rt.forEach(function(Mr){Et[++Bt]=Mr}),Et}function KS(rt){var Bt=-1,Et=Array(rt.size);return rt.forEach(function(Mr){Et[++Bt]=[Mr,Mr]}),Et}function rh(rt,Bt,Et){for(var Mr=Et-1,wn=rt.length;++Mr<wn;)if(rt[Mr]===Bt)return Mr;return-1}function Mb(rt,Bt,Et){for(var Mr=Et+1;Mr--;)if(rt[Mr]===Bt)return Mr;return Mr}function hc(rt){return _f(rt)?Uk(rt):aa(rt)}function Ko(rt){return _f(rt)?Ib(rt):jS(rt)}function ZS(rt){for(var Bt=rt.length;Bt--&&Wn.test(rt.charAt(Bt)););return Bt}var Gk=eh(vb);function Uk(rt){for(var Bt=hb.lastIndex=0;hb.test(rt);)++Bt;return Bt}function Ib(rt){return rt.match(hb)||[]}function Hk(rt){return rt.match(Ok)||[]}var Vk=function rt(Bt){Bt=Bt==null?vo:nh.defaults(vo.Object(),Bt,nh.pick(vo,Fk));var Et=Bt.Array,Mr=Bt.Date,wn=Bt.Error,si=Bt.Function,Wa=Bt.Math,bi=Bt.Object,Pb=Bt.RegExp,Wk=Bt.String,Us=Bt.TypeError,ym=Et.prototype,jk=si.prototype,ih=bi.prototype,bm=Bt["__core-js_shared__"],Vv=jk.toString,li=ih.hasOwnProperty,Yk=0,Wv=function(){var x=/[^.]+$/.exec(bm&&bm.keys&&bm.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),Zo=ih.toString,ah=Vv.call(bi),QS=vo._,JS=Pb("^"+Vv.call(li).replace(sn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jv=zS?Bt.Buffer:e,Ru=Bt.Symbol,Yv=Bt.Uint8Array,Rb=jv?jv.allocUnsafe:e,xm=kb(bi.getPrototypeOf,bi),Tf=bi.create,ja=ih.propertyIsEnumerable,Xv=ym.splice,Db=Ru?Ru.isConcatSpreadable:e,yl=Ru?Ru.iterator:e,vc=Ru?Ru.toStringTag:e,qv=function(){try{var x=Ct(bi,"defineProperty");return x({},"",{}),x}catch{}}(),Xk=Bt.clearTimeout!==vo.clearTimeout&&Bt.clearTimeout,qk=Mr&&Mr.now!==vo.Date.now&&Mr.now,Kk=Bt.setTimeout!==vo.setTimeout&&Bt.setTimeout,wm=Wa.ceil,oh=Wa.floor,Sm=bi.getOwnPropertySymbols,Zk=jv?jv.isBuffer:e,Ob=Bt.isFinite,eC=ym.join,Qk=kb(bi.keys,bi),ga=Wa.max,Do=Wa.min,pc=Mr.now,Cm=Bt.parseInt,Lb=Wa.random,tC=ym.reverse,Em=Ct(Bt,"DataView"),sh=Ct(Bt,"Map"),_m=Ct(Bt,"Promise"),Af=Ct(Bt,"Set"),lh=Ct(Bt,"WeakMap"),uh=Ct(bi,"create"),Kv=lh&&new lh,Oo={},rC=Fi(Em),Jk=Fi(sh),Du=Fi(_m),Fb=Fi(Af),kf=Fi(lh),Mf=Ru?Ru.prototype:e,ch=Mf?Mf.valueOf:e,Nb=Mf?Mf.toString:e;function oe(x){if(Na(x)&&!Pn(x)&&!(x instanceof jn)){if(x instanceof Hs)return x;if(li.call(x,"__wrapped__"))return Fa(x)}return new Hs(x)}var If=function(){function x(){}return function(C){if(!ka(C))return{};if(Tf)return Tf(C);x.prototype=C;var M=new x;return x.prototype=e,M}}();function Zv(){}function Hs(x,C){this.__wrapped__=x,this.__actions__=[],this.__chain__=!!C,this.__index__=0,this.__values__=e}oe.templateSettings={escape:ze,evaluate:_e,interpolate:Ke,variable:"",imports:{_:oe}},oe.prototype=Zv.prototype,oe.prototype.constructor=oe,Hs.prototype=If(Zv.prototype),Hs.prototype.constructor=Hs;function jn(x){this.__wrapped__=x,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=H,this.__views__=[]}function eM(){var x=new jn(this.__wrapped__);return x.__actions__=ps(this.__actions__),x.__dir__=this.__dir__,x.__filtered__=this.__filtered__,x.__iteratees__=ps(this.__iteratees__),x.__takeCount__=this.__takeCount__,x.__views__=ps(this.__views__),x}function tM(){if(this.__filtered__){var x=new jn(this);x.__dir__=-1,x.__filtered__=!0}else x=this.clone(),x.__dir__*=-1;return x}function rM(){var x=this.__wrapped__.value(),C=this.__dir__,M=Pn(x),$=C<0,Z=M?x.length:0,ye=Yt(0,Z,this.__views__),Ne=ye.start,Ye=ye.end,ot=Ye-Ne,jt=$?Ye:Ne-1,Xt=this.__iteratees__,nr=Xt.length,Tr=0,Ur=Do(ot,this.__takeCount__);if(!M||!$&&Z==ot&&Ur==ot)return zm(x,this.__actions__);var fn=[];e:for(;ot--&&Tr<Ur;){jt+=C;for(var Gn=-1,dn=x[jt];++Gn<nr;){var Qn=Xt[Gn],ui=Qn.iteratee,Al=Qn.type,ks=ui(dn);if(Al==U)dn=ks;else if(!ks){if(Al==B)continue e;break e}}fn[Tr++]=dn}return fn}jn.prototype=If(Zv.prototype),jn.prototype.constructor=jn;function Pf(x){var C=-1,M=x==null?0:x.length;for(this.clear();++C<M;){var $=x[C];this.set($[0],$[1])}}function nM(){this.__data__=uh?uh(null):{},this.size=0}function nC(x){var C=this.has(x)&&delete this.__data__[x];return this.size-=C?1:0,C}function iC(x){var C=this.__data__;if(uh){var M=C[x];return M===l?e:M}return li.call(C,x)?C[x]:e}function iM(x){var C=this.__data__;return uh?C[x]!==e:li.call(C,x)}function aM(x,C){var M=this.__data__;return this.size+=this.has(x)?0:1,M[x]=uh&&C===e?l:C,this}Pf.prototype.clear=nM,Pf.prototype.delete=nC,Pf.prototype.get=iC,Pf.prototype.has=iM,Pf.prototype.set=aM;function bl(x){var C=-1,M=x==null?0:x.length;for(this.clear();++C<M;){var $=x[C];this.set($[0],$[1])}}function Tm(){this.__data__=[],this.size=0}function oM(x){var C=this.__data__,M=Of(C,x);if(M<0)return!1;var $=C.length-1;return M==$?C.pop():Xv.call(C,M,1),--this.size,!0}function sM(x){var C=this.__data__,M=Of(C,x);return M<0?e:C[M][1]}function lM(x){return Of(this.__data__,x)>-1}function uM(x,C){var M=this.__data__,$=Of(M,x);return $<0?(++this.size,M.push([x,C])):M[$][1]=C,this}bl.prototype.clear=Tm,bl.prototype.delete=oM,bl.prototype.get=sM,bl.prototype.has=lM,bl.prototype.set=uM;function Ou(x){var C=-1,M=x==null?0:x.length;for(this.clear();++C<M;){var $=x[C];this.set($[0],$[1])}}function aC(){this.size=0,this.__data__={hash:new Pf,map:new(sh||bl),string:new Pf}}function cM(x){var C=Te(this,x).delete(x);return this.size-=C?1:0,C}function fM(x){return Te(this,x).get(x)}function dM(x){return Te(this,x).has(x)}function hM(x,C){var M=Te(this,x),$=M.size;return M.set(x,C),this.size+=M.size==$?0:1,this}Ou.prototype.clear=aC,Ou.prototype.delete=cM,Ou.prototype.get=fM,Ou.prototype.has=dM,Ou.prototype.set=hM;function Rf(x){var C=-1,M=x==null?0:x.length;for(this.__data__=new Ou;++C<M;)this.add(x[C])}function fh(x){return this.__data__.set(x,l),this}function vM(x){return this.__data__.has(x)}Rf.prototype.add=Rf.prototype.push=fh,Rf.prototype.has=vM;function xl(x){var C=this.__data__=new bl(x);this.size=C.size}function oC(){this.__data__=new bl,this.size=0}function Bb(x){var C=this.__data__,M=C.delete(x);return this.size=C.size,M}function pM(x){return this.__data__.get(x)}function sC(x){return this.__data__.has(x)}function gM(x,C){var M=this.__data__;if(M instanceof bl){var $=M.__data__;if(!sh||$.length<i-1)return $.push([x,C]),this.size=++M.size,this;M=this.__data__=new Ou($)}return M.set(x,C),this.size=M.size,this}xl.prototype.clear=oC,xl.prototype.delete=Bb,xl.prototype.get=pM,xl.prototype.has=sC,xl.prototype.set=gM;function lC(x,C){var M=Pn(x),$=!M&&pp(x),Z=!M&&!$&&Ch(x),ye=!M&&!$&&!Z&&jm(x),Ne=M||$||Z||ye,Ye=Ne?Cb(x.length,Wk):[],ot=Ye.length;for(var jt in x)(C||li.call(x,jt))&&!(Ne&&(jt=="length"||Z&&(jt=="offset"||jt=="parent")||ye&&(jt=="buffer"||jt=="byteLength"||jt=="byteOffset")||$t(jt,ot)))&&Ye.push(jt);return Ye}function uC(x){var C=x.length;return C?x[Nm(0,C-1)]:e}function mM(x,C){return ta(ps(x),mc(C,0,x.length))}function yM(x){return ta(ps(x))}function Df(x,C,M){(M!==e&&!zu(x[C],M)||M===e&&!(C in x))&&Lu(x,C,M)}function Qv(x,C,M){var $=x[C];(!(li.call(x,C)&&zu($,M))||M===e&&!(C in x))&&Lu(x,C,M)}function Of(x,C){for(var M=x.length;M--;)if(zu(x[M][0],C))return M;return-1}function bM(x,C,M,$){return Jl(x,function(Z,ye,Ne){C($,Z,M(Z),Ne)}),$}function Lf(x,C){return x&&tu(C,Fo(C),x)}function dh(x,C){return x&&tu(C,Ys(C),x)}function Lu(x,C,M){C=="__proto__"&&qv?qv(x,C,{configurable:!0,enumerable:!0,value:M,writable:!0}):x[C]=M}function gc(x,C){for(var M=-1,$=C.length,Z=Et($),ye=x==null;++M<$;)Z[M]=ye?e:LM(x,C[M]);return Z}function mc(x,C,M){return x===x&&(M!==e&&(x=x<=M?x:M),C!==e&&(x=x>=C?x:C)),x}function go(x,C,M,$,Z,ye){var Ne,Ye=C&f,ot=C&d,jt=C&h;if(M&&(Ne=Z?M(x,$,Z,ye):M(x)),Ne!==e)return Ne;if(!ka(x))return x;var Xt=Pn(x);if(Xt){if(Ne=or(x),!Ye)return ps(x,Ne)}else{var nr=Pt(x),Tr=nr==st||nr==z;if(Ch(x))return wh(x,Ye);if(nr==ue||nr==Q||Tr&&!Z){if(Ne=ot||Tr?{}:Ut(x),!Ye)return ot?CC(x,dh(Ne,x)):Cc(x,Lf(Ne,x))}else{if(!Li[nr])return Z?x:{};Ne=er(x,nr,Ye)}}ye||(ye=new xl);var Ur=ye.get(x);if(Ur)return Ur;ye.set(x,Ne),x3(x)?x.forEach(function(dn){Ne.add(go(dn,C,M,dn,x,ye))}):y3(x)&&x.forEach(function(dn,Qn){Ne.set(Qn,go(dn,C,M,Qn,x,ye))});var fn=jt?ot?ex:Jb:ot?Ys:Fo,Gn=Xt?e:fn(x);return po(Gn||x,function(dn,Qn){Gn&&(Qn=dn,dn=x[Qn]),Qv(Ne,Qn,go(dn,C,M,Qn,x,ye))}),Ne}function zb(x){var C=Fo(x);return function(M){return Am(M,x,C)}}function Am(x,C,M){var $=M.length;if(x==null)return!$;for(x=bi(x);$--;){var Z=M[$],ye=C[Z],Ne=x[Z];if(Ne===e&&!(Z in x)||!ye(Ne))return!1}return!0}function km(x,C,M){if(typeof x!="function")throw new Us(o);return Mn(function(){x.apply(e,M)},C)}function Ff(x,C,M,$){var Z=-1,ye=fm,Ne=!0,Ye=x.length,ot=[],jt=C.length;if(!Ye)return ot;M&&(C=Ji(C,Ts(M))),$?(ye=bb,Ne=!1):C.length>=i&&(ye=dc,Ne=!1,C=new Rf(C));e:for(;++Z<Ye;){var Xt=x[Z],nr=M==null?Xt:M(Xt);if(Xt=$||Xt!==0?Xt:0,Ne&&nr===nr){for(var Tr=jt;Tr--;)if(C[Tr]===nr)continue e;ot.push(Xt)}else ye(C,nr,$)||ot.push(Xt)}return ot}var Jl=EC(wl),Jv=EC(Im,!0);function cC(x,C){var M=!0;return Jl(x,function($,Z,ye){return M=!!C($,Z,ye),M}),M}function ep(x,C,M){for(var $=-1,Z=x.length;++$<Z;){var ye=x[$],Ne=C(ye);if(Ne!=null&&(Ye===e?Ne===Ne&&!Tl(Ne):M(Ne,Ye)))var Ye=Ne,ot=ye}return ot}function fC(x,C,M,$){var Z=x.length;for(M=Fn(M),M<0&&(M=-M>Z?0:Z+M),$=$===e||$>Z?Z:Fn($),$<0&&($+=Z),$=M>$?0:S3($);M<$;)x[M++]=C;return x}function $b(x,C){var M=[];return Jl(x,function($,Z,ye){C($,Z,ye)&&M.push($)}),M}function no(x,C,M,$,Z){var ye=-1,Ne=x.length;for(M||(M=bt),Z||(Z=[]);++ye<Ne;){var Ye=x[ye];C>0&&M(Ye)?C>1?no(Ye,C-1,M,$,Z):Mu(Z,Ye):$||(Z[Z.length]=Ye)}return Z}var tp=Yb(),Mm=Yb(!0);function wl(x,C){return x&&tp(x,C,Fo)}function Im(x,C){return x&&Mm(x,C,Fo)}function rp(x,C){return Ql(C,function(M){return Xf(x[M])})}function yc(x,C){C=Sl(C,x);for(var M=0,$=C.length;x!=null&&M<$;)x=x[mi(C[M++])];return M&&M==$?x:e}function Pm(x,C,M){var $=C(x);return Pn(x)?$:Mu($,M(x))}function Lo(x){return x==null?x===e?ve:ae:vc&&vc in bi(x)?dt(x):Fr(x)}function Rm(x,C){return x>C}function Gb(x,C){return x!=null&&li.call(x,C)}function Ub(x,C){return x!=null&&C in bi(x)}function dC(x,C,M){return x>=Do(C,M)&&x<ga(C,M)}function np(x,C,M){for(var $=M?bb:fm,Z=x[0].length,ye=x.length,Ne=ye,Ye=Et(ye),ot=1/0,jt=[];Ne--;){var Xt=x[Ne];Ne&&C&&(Xt=Ji(Xt,Ts(C))),ot=Do(Xt.length,ot),Ye[Ne]=!M&&(C||Z>=120&&Xt.length>=120)?new Rf(Ne&&Xt):e}Xt=x[0];var nr=-1,Tr=Ye[0];e:for(;++nr<Z&&jt.length<ot;){var Ur=Xt[nr],fn=C?C(Ur):Ur;if(Ur=M||Ur!==0?Ur:0,!(Tr?dc(Tr,fn):$(jt,fn,M))){for(Ne=ye;--Ne;){var Gn=Ye[Ne];if(!(Gn?dc(Gn,fn):$(x[Ne],fn,M)))continue e}Tr&&Tr.push(fn),jt.push(Ur)}}return jt}function hC(x,C,M,$){return wl(x,function(Z,ye,Ne){C($,M(Z),ye,Ne)}),$}function hh(x,C,M){C=Sl(C,x),x=mr(x,C);var $=x==null?x:x[mi(pe(C))];return $==null?e:ro($,x,M)}function Dm(x){return Na(x)&&Lo(x)==Q}function vC(x){return Na(x)&&Lo(x)==Fe}function pC(x){return Na(x)&&Lo(x)==Ee}function Nf(x,C,M,$,Z){return x===C?!0:x==null||C==null||!Na(x)&&!Na(C)?x!==x&&C!==C:Hb(x,C,M,$,Nf,Z)}function Hb(x,C,M,$,Z,ye){var Ne=Pn(x),Ye=Pn(C),ot=Ne?be:Pt(x),jt=Ye?be:Pt(C);ot=ot==Q?ue:ot,jt=jt==Q?ue:jt;var Xt=ot==ue,nr=jt==ue,Tr=ot==jt;if(Tr&&Ch(x)){if(!Ch(C))return!1;Ne=!0,Xt=!1}if(Tr&&!Xt)return ye||(ye=new xl),Ne||jm(x)?kC(x,C,M,$,Z,ye):MC(x,C,ot,M,$,Z,ye);if(!(M&v)){var Ur=Xt&&li.call(x,"__wrapped__"),fn=nr&&li.call(C,"__wrapped__");if(Ur||fn){var Gn=Ur?x.value():x,dn=fn?C.value():C;return ye||(ye=new xl),Z(Gn,dn,M,$,ye)}}return Tr?(ye||(ye=new xl),IC(x,C,M,$,Z,ye)):!1}function ip(x){return Na(x)&&Pt(x)==j}function Om(x,C,M,$){var Z=M.length,ye=Z,Ne=!$;if(x==null)return!ye;for(x=bi(x);Z--;){var Ye=M[Z];if(Ne&&Ye[2]?Ye[1]!==x[Ye[0]]:!(Ye[0]in x))return!1}for(;++Z<ye;){Ye=M[Z];var ot=Ye[0],jt=x[ot],Xt=Ye[1];if(Ne&&Ye[2]){if(jt===e&&!(ot in x))return!1}else{var nr=new xl;if($)var Tr=$(jt,Xt,ot,x,C,nr);if(!(Tr===e?Nf(Xt,jt,v|p,$,nr):Tr))return!1}}return!0}function ap(x){if(!ka(x)||rr(x))return!1;var C=Xf(x)?JS:ho;return C.test(Fi(x))}function Fu(x){return Na(x)&&Lo(x)==Le}function op(x){return Na(x)&&Pt(x)==se}function Bf(x){return Na(x)&&BC(x.length)&&!!Oi[Lo(x)]}function vh(x){return typeof x=="function"?x:x==null?Xs:typeof x=="object"?Pn(x)?lp(x[0],x[1]):sp(x):D3(x)}function zf(x){if(!Jt(x))return Qk(x);var C=[];for(var M in bi(x))li.call(x,M)&&M!="constructor"&&C.push(M);return C}function $f(x){if(!ka(x))return Dt(x);var C=Jt(x),M=[];for(var $ in x)$=="constructor"&&(C||!li.call(x,$))||M.push($);return M}function Nu(x,C){return x<C}function bc(x,C){var M=-1,$=js(x)?Et(x.length):[];return Jl(x,function(Z,ye,Ne){$[++M]=C(Z,ye,Ne)}),$}function sp(x){var C=ft(x);return C.length==1&&C[0][2]?Vr(C[0][0],C[0][1]):function(M){return M===x||Om(M,x,C)}}function lp(x,C){return Rt(x)&&Ir(C)?Vr(mi(x),C):function(M){var $=LM(M,x);return $===e&&$===C?FM(M,x):Nf(C,$,v|p)}}function xc(x,C,M,$,Z){x!==C&&tp(C,function(ye,Ne){if(Z||(Z=new xl),ka(ye))Vb(x,C,Ne,M,xc,$,Z);else{var Ye=$?$(Wr(x,Ne),ye,Ne+"",x,C,Z):e;Ye===e&&(Ye=ye),Df(x,Ne,Ye)}},Ys)}function Vb(x,C,M,$,Z,ye,Ne){var Ye=Wr(x,M),ot=Wr(C,M),jt=Ne.get(ot);if(jt){Df(x,M,jt);return}var Xt=ye?ye(Ye,ot,M+"",x,C,Ne):e,nr=Xt===e;if(nr){var Tr=Pn(ot),Ur=!Tr&&Ch(ot),fn=!Tr&&!Ur&&jm(ot);Xt=ot,Tr||Ur||fn?Pn(Ye)?Xt=Ye:Ya(Ye)?Xt=ps(Ye):Ur?(nr=!1,Xt=wh(ot,!0)):fn?(nr=!1,Xt=Sh(ot,!0)):Xt=[]:rx(ot)||pp(ot)?(Xt=Ye,pp(Ye)?Xt=C3(Ye):(!ka(Ye)||Xf(Ye))&&(Xt=Ut(ot))):nr=!1}nr&&(Ne.set(ot,Xt),Z(Xt,ot,$,ye,Ne),Ne.delete(ot)),Df(x,M,Xt)}function Lm(x,C){var M=x.length;if(!!M)return C+=C<0?M:0,$t(C,M)?x[C]:e}function Gf(x,C,M){C.length?C=Ji(C,function(ye){return Pn(ye)?function(Ne){return yc(Ne,ye.length===1?ye[0]:ye)}:ye}):C=[Xs];var $=-1;C=Ji(C,Ts(te()));var Z=bc(x,function(ye,Ne,Ye){var ot=Ji(C,function(jt){return jt(ye)});return{criteria:ot,index:++$,value:ye}});return Sb(Z,function(ye,Ne){return wC(ye,Ne,M)})}function ph(x,C){return gC(x,C,function(M,$){return FM(x,$)})}function gC(x,C,M){for(var $=-1,Z=C.length,ye={};++$<Z;){var Ne=C[$],Ye=yc(x,Ne);M(Ye,Ne)&&gh(ye,Sl(Ne,x),Ye)}return ye}function xM(x){return function(C){return yc(C,x)}}function Fm(x,C,M,$){var Z=$?Cf:Iu,ye=-1,Ne=C.length,Ye=x;for(x===C&&(C=ps(C)),M&&(Ye=Ji(x,Ts(M)));++ye<Ne;)for(var ot=0,jt=C[ye],Xt=M?M(jt):jt;(ot=Z(Ye,Xt,ot,$))>-1;)Ye!==x&&Xv.call(Ye,ot,1),Xv.call(x,ot,1);return x}function Wb(x,C){for(var M=x?C.length:0,$=M-1;M--;){var Z=C[M];if(M==$||Z!==ye){var ye=Z;$t(Z)?Xv.call(x,Z,1):mh(x,Z)}}return x}function Nm(x,C){return x+oh(Lb()*(C-x+1))}function wM(x,C,M,$){for(var Z=-1,ye=ga(wm((C-x)/(M||1)),0),Ne=Et(ye);ye--;)Ne[$?ye:++Z]=x,x+=M;return Ne}function wc(x,C){var M="";if(!x||C<1||C>L)return M;do C%2&&(M+=x),C=oh(C/2),C&&(x+=x);while(C);return M}function Ln(x,C){return ea(Qr(x,C,Xs),x+"")}function SM(x){return uC(Ym(x))}function CM(x,C){var M=Ym(x);return ta(M,mc(C,0,M.length))}function gh(x,C,M,$){if(!ka(x))return x;C=Sl(C,x);for(var Z=-1,ye=C.length,Ne=ye-1,Ye=x;Ye!=null&&++Z<ye;){var ot=mi(C[Z]),jt=M;if(ot==="__proto__"||ot==="constructor"||ot==="prototype")return x;if(Z!=Ne){var Xt=Ye[ot];jt=$?$(Xt,ot,Ye):e,jt===e&&(jt=ka(Xt)?Xt:$t(C[Z+1])?[]:{})}Qv(Ye,ot,jt),Ye=Ye[ot]}return x}var mC=Kv?function(x,C){return Kv.set(x,C),x}:Xs,EM=qv?function(x,C){return qv(x,"toString",{configurable:!0,enumerable:!1,value:BM(C),writable:!0})}:Xs;function _M(x){return ta(Ym(x))}function Vs(x,C,M){var $=-1,Z=x.length;C<0&&(C=-C>Z?0:Z+C),M=M>Z?Z:M,M<0&&(M+=Z),Z=C>M?0:M-C>>>0,C>>>=0;for(var ye=Et(Z);++$<Z;)ye[$]=x[$+C];return ye}function TM(x,C){var M;return Jl(x,function($,Z,ye){return M=C($,Z,ye),!M}),!!M}function Bm(x,C,M){var $=0,Z=x==null?$:x.length;if(typeof C=="number"&&C===C&&Z<=ie){for(;$<Z;){var ye=$+Z>>>1,Ne=x[ye];Ne!==null&&!Tl(Ne)&&(M?Ne<=C:Ne<C)?$=ye+1:Z=ye}return Z}return jb(x,C,Xs,M)}function jb(x,C,M,$){var Z=0,ye=x==null?0:x.length;if(ye===0)return 0;C=M(C);for(var Ne=C!==C,Ye=C===null,ot=Tl(C),jt=C===e;Z<ye;){var Xt=oh((Z+ye)/2),nr=M(x[Xt]),Tr=nr!==e,Ur=nr===null,fn=nr===nr,Gn=Tl(nr);if(Ne)var dn=$||fn;else jt?dn=fn&&($||Tr):Ye?dn=fn&&Tr&&($||!Ur):ot?dn=fn&&Tr&&!Ur&&($||!Gn):Ur||Gn?dn=!1:dn=$?nr<=C:nr<C;dn?Z=Xt+1:ye=Xt}return Do(ye,K)}function yC(x,C){for(var M=-1,$=x.length,Z=0,ye=[];++M<$;){var Ne=x[M],Ye=C?C(Ne):Ne;if(!M||!zu(Ye,ot)){var ot=Ye;ye[Z++]=Ne===0?0:Ne}}return ye}function bC(x){return typeof x=="number"?x:Tl(x)?W:+x}function As(x){if(typeof x=="string")return x;if(Pn(x))return Ji(x,As)+"";if(Tl(x))return Nb?Nb.call(x):"";var C=x+"";return C=="0"&&1/x==-G?"-0":C}function eu(x,C,M){var $=-1,Z=fm,ye=x.length,Ne=!0,Ye=[],ot=Ye;if(M)Ne=!1,Z=bb;else if(ye>=i){var jt=C?null:kM(x);if(jt)return Hv(jt);Ne=!1,Z=dc,ot=new Rf}else ot=C?[]:Ye;e:for(;++$<ye;){var Xt=x[$],nr=C?C(Xt):Xt;if(Xt=M||Xt!==0?Xt:0,Ne&&nr===nr){for(var Tr=ot.length;Tr--;)if(ot[Tr]===nr)continue e;C&&ot.push(nr),Ye.push(Xt)}else Z(ot,nr,M)||(ot!==Ye&&ot.push(nr),Ye.push(Xt))}return Ye}function mh(x,C){return C=Sl(C,x),x=mr(x,C),x==null||delete x[mi(pe(C))]}function up(x,C,M,$){return gh(x,C,M(yc(x,C)),$)}function Uf(x,C,M,$){for(var Z=x.length,ye=$?Z:-1;($?ye--:++ye<Z)&&C(x[ye],ye,x););return M?Vs(x,$?0:ye,$?ye+1:Z):Vs(x,$?ye+1:0,$?Z:ye)}function zm(x,C){var M=x;return M instanceof jn&&(M=M.value()),xb(C,function($,Z){return Z.func.apply(Z.thisArg,Mu([$],Z.args))},M)}function yh(x,C,M){var $=x.length;if($<2)return $?eu(x[0]):[];for(var Z=-1,ye=Et($);++Z<$;)for(var Ne=x[Z],Ye=-1;++Ye<$;)Ye!=Z&&(ye[Z]=Ff(ye[Z]||Ne,x[Ye],C,M));return eu(no(ye,1),C,M)}function cp(x,C,M){for(var $=-1,Z=x.length,ye=C.length,Ne={};++$<Z;){var Ye=$<ye?C[$]:e;M(Ne,x[$],Ye)}return Ne}function bh(x){return Ya(x)?x:[]}function fp(x){return typeof x=="function"?x:Xs}function Sl(x,C){return Pn(x)?x:Rt(x,C)?[x]:_i(Mi(x))}var $m=Ln;function Cl(x,C,M){var $=x.length;return M=M===e?$:M,!C&&M>=$?x:Vs(x,C,M)}var xh=Xk||function(x){return vo.clearTimeout(x)};function wh(x,C){if(C)return x.slice();var M=x.length,$=Rb?Rb(M):new x.constructor(M);return x.copy($),$}function Hf(x){var C=new x.constructor(x.byteLength);return new Yv(C).set(new Yv(x)),C}function dp(x,C){var M=C?Hf(x.buffer):x.buffer;return new x.constructor(M,x.byteOffset,x.byteLength)}function hp(x){var C=new x.constructor(x.source,Ui.exec(x));return C.lastIndex=x.lastIndex,C}function xC(x){return ch?bi(ch.call(x)):{}}function Sh(x,C){var M=C?Hf(x.buffer):x.buffer;return new x.constructor(M,x.byteOffset,x.length)}function Sc(x,C){if(x!==C){var M=x!==e,$=x===null,Z=x===x,ye=Tl(x),Ne=C!==e,Ye=C===null,ot=C===C,jt=Tl(C);if(!Ye&&!jt&&!ye&&x>C||ye&&Ne&&ot&&!Ye&&!jt||$&&Ne&&ot||!M&&ot||!Z)return 1;if(!$&&!ye&&!jt&&x<C||jt&&M&&Z&&!$&&!ye||Ye&&M&&Z||!Ne&&Z||!ot)return-1}return 0}function wC(x,C,M){for(var $=-1,Z=x.criteria,ye=C.criteria,Ne=Z.length,Ye=M.length;++$<Ne;){var ot=Sc(Z[$],ye[$]);if(ot){if($>=Ye)return ot;var jt=M[$];return ot*(jt=="desc"?-1:1)}}return x.index-C.index}function Gm(x,C,M,$){for(var Z=-1,ye=x.length,Ne=M.length,Ye=-1,ot=C.length,jt=ga(ye-Ne,0),Xt=Et(ot+jt),nr=!$;++Ye<ot;)Xt[Ye]=C[Ye];for(;++Z<Ne;)(nr||Z<ye)&&(Xt[M[Z]]=x[Z]);for(;jt--;)Xt[Ye++]=x[Z++];return Xt}function SC(x,C,M,$){for(var Z=-1,ye=x.length,Ne=-1,Ye=M.length,ot=-1,jt=C.length,Xt=ga(ye-Ye,0),nr=Et(Xt+jt),Tr=!$;++Z<Xt;)nr[Z]=x[Z];for(var Ur=Z;++ot<jt;)nr[Ur+ot]=C[ot];for(;++Ne<Ye;)(Tr||Z<ye)&&(nr[Ur+M[Ne]]=x[Z++]);return nr}function ps(x,C){var M=-1,$=x.length;for(C||(C=Et($));++M<$;)C[M]=x[M];return C}function tu(x,C,M,$){var Z=!M;M||(M={});for(var ye=-1,Ne=C.length;++ye<Ne;){var Ye=C[ye],ot=$?$(M[Ye],x[Ye],Ye,M,x):e;ot===e&&(ot=x[Ye]),Z?Lu(M,Ye,ot):Qv(M,Ye,ot)}return M}function Cc(x,C){return tu(x,yt(x),C)}function CC(x,C){return tu(x,Gt(x),C)}function vp(x,C){return function(M,$){var Z=Pn(M)?VS:bM,ye=C?C():{};return Z(M,x,te($,2),ye)}}function Vf(x){return Ln(function(C,M){var $=-1,Z=M.length,ye=Z>1?M[Z-1]:e,Ne=Z>2?M[2]:e;for(ye=x.length>3&&typeof ye=="function"?(Z--,ye):e,Ne&&Qt(M[0],M[1],Ne)&&(ye=Z<3?e:ye,Z=1),C=bi(C);++$<Z;){var Ye=M[$];Ye&&x(C,Ye,$,ye)}return C})}function EC(x,C){return function(M,$){if(M==null)return M;if(!js(M))return x(M,$);for(var Z=M.length,ye=C?Z:-1,Ne=bi(M);(C?ye--:++ye<Z)&&$(Ne[ye],ye,Ne)!==!1;);return M}}function Yb(x){return function(C,M,$){for(var Z=-1,ye=bi(C),Ne=$(C),Ye=Ne.length;Ye--;){var ot=Ne[x?Ye:++Z];if(M(ye[ot],ot,ye)===!1)break}return C}}function AM(x,C,M){var $=C&g,Z=ru(x);function ye(){var Ne=this&&this!==vo&&this instanceof ye?Z:x;return Ne.apply($?M:this,arguments)}return ye}function El(x){return function(C){C=Mi(C);var M=_f(C)?Ko(C):e,$=M?M[0]:C.charAt(0),Z=M?Cl(M,1).join(""):C.slice(1);return $[x]()+Z}}function Wf(x){return function(C){return xb(P3(I3(C).replace(Rk,"")),x,"")}}function ru(x){return function(){var C=arguments;switch(C.length){case 0:return new x;case 1:return new x(C[0]);case 2:return new x(C[0],C[1]);case 3:return new x(C[0],C[1],C[2]);case 4:return new x(C[0],C[1],C[2],C[3]);case 5:return new x(C[0],C[1],C[2],C[3],C[4]);case 6:return new x(C[0],C[1],C[2],C[3],C[4],C[5]);case 7:return new x(C[0],C[1],C[2],C[3],C[4],C[5],C[6])}var M=If(x.prototype),$=x.apply(M,C);return ka($)?$:M}}function Ec(x,C,M){var $=ru(x);function Z(){for(var ye=arguments.length,Ne=Et(ye),Ye=ye,ot=V(Z);Ye--;)Ne[Ye]=arguments[Ye];var jt=ye<3&&Ne[0]!==ot&&Ne[ye-1]!==ot?[]:Pu(Ne,ot);if(ye-=jt.length,ye<M)return _C(x,C,jf,Z.placeholder,e,Ne,jt,e,e,M-ye);var Xt=this&&this!==vo&&this instanceof Z?$:x;return ro(Xt,this,Ne)}return Z}function Xb(x){return function(C,M,$){var Z=bi(C);if(!js(C)){var ye=te(M,3);C=Fo(C),M=function(Ye){return ye(Z[Ye],Ye,Z)}}var Ne=x(C,M,$);return Ne>-1?Z[ye?C[Ne]:Ne]:e}}function Um(x){return iu(function(C){var M=C.length,$=M,Z=Hs.prototype.thru;for(x&&C.reverse();$--;){var ye=C[$];if(typeof ye!="function")throw new Us(o);if(Z&&!Ne&&Wm(ye)=="wrapper")var Ne=new Hs([],!0)}for($=Ne?$:M;++$<M;){ye=C[$];var Ye=Wm(ye),ot=Ye=="wrapper"?Vm(ye):e;ot&&Lt(ot[0])&&ot[1]==(_|b|S|A)&&!ot[4].length&&ot[9]==1?Ne=Ne[Wm(ot[0])].apply(Ne,ot[3]):Ne=ye.length==1&&Lt(ye)?Ne[Ye]():Ne.thru(ye)}return function(){var jt=arguments,Xt=jt[0];if(Ne&&jt.length==1&&Pn(Xt))return Ne.plant(Xt).value();for(var nr=0,Tr=M?C[nr].apply(this,jt):Xt;++nr<M;)Tr=C[nr].call(this,Tr);return Tr}})}function jf(x,C,M,$,Z,ye,Ne,Ye,ot,jt){var Xt=C&_,nr=C&g,Tr=C&m,Ur=C&(b|w),fn=C&k,Gn=Tr?e:ru(x);function dn(){for(var Qn=arguments.length,ui=Et(Qn),Al=Qn;Al--;)ui[Al]=arguments[Al];if(Ur)var ks=V(dn),kl=th(ui,ks);if($&&(ui=Gm(ui,$,Z,Ur)),ye&&(ui=SC(ui,ye,Ne,Ur)),Qn-=kl,Ur&&Qn<jt){var Xa=Pu(ui,ks);return _C(x,C,jf,dn.placeholder,M,ui,Xa,Ye,ot,jt-Qn)}var $u=nr?M:this,Kf=Tr?$u[x]:x;return Qn=ui.length,Ye?ui=mn(ui,Ye):fn&&Qn>1&&ui.reverse(),Xt&&ot<Qn&&(ui.length=ot),this&&this!==vo&&this instanceof dn&&(Kf=Gn||ru(Kf)),Kf.apply($u,ui)}return dn}function qb(x,C){return function(M,$){return hC(M,x,C($),{})}}function io(x,C){return function(M,$){var Z;if(M===e&&$===e)return C;if(M!==e&&(Z=M),$!==e){if(Z===e)return $;typeof M=="string"||typeof $=="string"?(M=As(M),$=As($)):(M=bC(M),$=bC($)),Z=x(M,$)}return Z}}function nu(x){return iu(function(C){return C=Ji(C,Ts(te())),Ln(function(M){var $=this;return x(C,function(Z){return ro(Z,$,M)})})})}function Wi(x,C){C=C===e?" ":As(C);var M=C.length;if(M<2)return M?wc(C,x):C;var $=wc(C,wm(x/hc(C)));return _f(C)?Cl(Ko($),0,x).join(""):$.slice(0,x)}function gs(x,C,M,$){var Z=C&g,ye=ru(x);function Ne(){for(var Ye=-1,ot=arguments.length,jt=-1,Xt=$.length,nr=Et(Xt+ot),Tr=this&&this!==vo&&this instanceof Ne?ye:x;++jt<Xt;)nr[jt]=$[jt];for(;ot--;)nr[jt++]=arguments[++Ye];return ro(Tr,Z?M:this,nr)}return Ne}function Kb(x){return function(C,M,$){return $&&typeof $!="number"&&Qt(C,M,$)&&(M=$=e),C=qf(C),M===e?(M=C,C=0):M=qf(M),$=$===e?C<M?1:-1:qf($),wM(C,M,$,x)}}function Hm(x){return function(C,M){return typeof C=="string"&&typeof M=="string"||(C=ou(C),M=ou(M)),x(C,M)}}function _C(x,C,M,$,Z,ye,Ne,Ye,ot,jt){var Xt=C&b,nr=Xt?Ne:e,Tr=Xt?e:Ne,Ur=Xt?ye:e,fn=Xt?e:ye;C|=Xt?S:E,C&=~(Xt?E:S),C&y||(C&=~(g|m));var Gn=[x,C,Z,Ur,nr,fn,Tr,Ye,ot,jt],dn=M.apply(e,Gn);return Lt(x)&&ln(dn,Gn),dn.placeholder=$,Ta(dn,x,C)}function Zb(x){var C=Wa[x];return function(M,$){if(M=ou(M),$=$==null?0:Do(Fn($),292),$&&Ob(M)){var Z=(Mi(M)+"e").split("e"),ye=C(Z[0]+"e"+(+Z[1]+$));return Z=(Mi(ye)+"e").split("e"),+(Z[0]+"e"+(+Z[1]-$))}return C(M)}}var kM=Af&&1/Hv(new Af([,-0]))[1]==G?function(x){return new Af(x)}:GM;function Qb(x){return function(C){var M=Pt(C);return M==j?mm(C):M==se?KS(C):$k(C,x(C))}}function Bu(x,C,M,$,Z,ye,Ne,Ye){var ot=C&m;if(!ot&&typeof x!="function")throw new Us(o);var jt=$?$.length:0;if(jt||(C&=~(S|E),$=Z=e),Ne=Ne===e?Ne:ga(Fn(Ne),0),Ye=Ye===e?Ye:Fn(Ye),jt-=Z?Z.length:0,C&E){var Xt=$,nr=Z;$=Z=e}var Tr=ot?e:Vm(x),Ur=[x,C,M,$,Z,Xt,nr,ye,Ne,Ye];if(Tr&&qt(Ur,Tr),x=Ur[0],C=Ur[1],M=Ur[2],$=Ur[3],Z=Ur[4],Ye=Ur[9]=Ur[9]===e?ot?0:x.length:ga(Ur[9]-jt,0),!Ye&&C&(b|w)&&(C&=~(b|w)),!C||C==g)var fn=AM(x,C,M);else C==b||C==w?fn=Ec(x,C,Ye):(C==S||C==(g|S))&&!Z.length?fn=gs(x,C,M,$):fn=jf.apply(e,Ur);var Gn=Tr?mC:ln;return Ta(Gn(fn,Ur),x,C)}function TC(x,C,M,$){return x===e||zu(x,ih[M])&&!li.call($,M)?C:x}function AC(x,C,M,$,Z,ye){return ka(x)&&ka(C)&&(ye.set(C,x),xc(x,C,e,AC,ye),ye.delete(C)),x}function MM(x){return rx(x)?e:x}function kC(x,C,M,$,Z,ye){var Ne=M&v,Ye=x.length,ot=C.length;if(Ye!=ot&&!(Ne&&ot>Ye))return!1;var jt=ye.get(x),Xt=ye.get(C);if(jt&&Xt)return jt==C&&Xt==x;var nr=-1,Tr=!0,Ur=M&p?new Rf:e;for(ye.set(x,C),ye.set(C,x);++nr<Ye;){var fn=x[nr],Gn=C[nr];if($)var dn=Ne?$(Gn,fn,nr,C,x,ye):$(fn,Gn,nr,x,C,ye);if(dn!==e){if(dn)continue;Tr=!1;break}if(Ur){if(!dm(C,function(Qn,ui){if(!dc(Ur,ui)&&(fn===Qn||Z(fn,Qn,M,$,ye)))return Ur.push(ui)})){Tr=!1;break}}else if(!(fn===Gn||Z(fn,Gn,M,$,ye))){Tr=!1;break}}return ye.delete(x),ye.delete(C),Tr}function MC(x,C,M,$,Z,ye,Ne){switch(M){case Ue:if(x.byteLength!=C.byteLength||x.byteOffset!=C.byteOffset)return!1;x=x.buffer,C=C.buffer;case Fe:return!(x.byteLength!=C.byteLength||!ye(new Yv(x),new Yv(C)));case he:case Ee:case X:return zu(+x,+C);case nt:return x.name==C.name&&x.message==C.message;case Le:case Se:return x==C+"";case j:var Ye=mm;case se:var ot=$&v;if(Ye||(Ye=Hv),x.size!=C.size&&!ot)return!1;var jt=Ne.get(x);if(jt)return jt==C;$|=p,Ne.set(x,C);var Xt=kC(Ye(x),Ye(C),$,Z,ye,Ne);return Ne.delete(x),Xt;case Y:if(ch)return ch.call(x)==ch.call(C)}return!1}function IC(x,C,M,$,Z,ye){var Ne=M&v,Ye=Jb(x),ot=Ye.length,jt=Jb(C),Xt=jt.length;if(ot!=Xt&&!Ne)return!1;for(var nr=ot;nr--;){var Tr=Ye[nr];if(!(Ne?Tr in C:li.call(C,Tr)))return!1}var Ur=ye.get(x),fn=ye.get(C);if(Ur&&fn)return Ur==C&&fn==x;var Gn=!0;ye.set(x,C),ye.set(C,x);for(var dn=Ne;++nr<ot;){Tr=Ye[nr];var Qn=x[Tr],ui=C[Tr];if($)var Al=Ne?$(ui,Qn,Tr,C,x,ye):$(Qn,ui,Tr,x,C,ye);if(!(Al===e?Qn===ui||Z(Qn,ui,M,$,ye):Al)){Gn=!1;break}dn||(dn=Tr=="constructor")}if(Gn&&!dn){var ks=x.constructor,kl=C.constructor;ks!=kl&&"constructor"in x&&"constructor"in C&&!(typeof ks=="function"&&ks instanceof ks&&typeof kl=="function"&&kl instanceof kl)&&(Gn=!1)}return ye.delete(x),ye.delete(C),Gn}function iu(x){return ea(Qr(x,e,at),x+"")}function Jb(x){return Pm(x,Fo,yt)}function ex(x){return Pm(x,Ys,Gt)}var Vm=Kv?function(x){return Kv.get(x)}:GM;function Wm(x){for(var C=x.name+"",M=Oo[C],$=li.call(Oo,C)?M.length:0;$--;){var Z=M[$],ye=Z.func;if(ye==null||ye==x)return Z.name}return C}function V(x){var C=li.call(oe,"placeholder")?oe:x;return C.placeholder}function te(){var x=oe.iteratee||zM;return x=x===zM?vh:x,arguments.length?x(arguments[0],arguments[1]):x}function Te(x,C){var M=x.__data__;return hr(C)?M[typeof C=="string"?"string":"hash"]:M.map}function ft(x){for(var C=Fo(x),M=C.length;M--;){var $=C[M],Z=x[$];C[M]=[$,Z,Ir(Z)]}return C}function Ct(x,C){var M=Ab(x,C);return ap(M)?M:e}function dt(x){var C=li.call(x,vc),M=x[vc];try{x[vc]=e;var $=!0}catch{}var Z=Zo.call(x);return $&&(C?x[vc]=M:delete x[vc]),Z}var yt=Sm?function(x){return x==null?[]:(x=bi(x),Ql(Sm(x),function(C){return ja.call(x,C)}))}:UM,Gt=Sm?function(x){for(var C=[];x;)Mu(C,yt(x)),x=xm(x);return C}:UM,Pt=Lo;(Em&&Pt(new Em(new ArrayBuffer(1)))!=Ue||sh&&Pt(new sh)!=j||_m&&Pt(_m.resolve())!=Be||Af&&Pt(new Af)!=se||lh&&Pt(new lh)!=ce)&&(Pt=function(x){var C=Lo(x),M=C==ue?x.constructor:e,$=M?Fi(M):"";if($)switch($){case rC:return Ue;case Jk:return j;case Du:return Be;case Fb:return se;case kf:return ce}return C});function Yt(x,C,M){for(var $=-1,Z=M.length;++$<Z;){var ye=M[$],Ne=ye.size;switch(ye.type){case"drop":x+=Ne;break;case"dropRight":C-=Ne;break;case"take":C=Do(C,x+Ne);break;case"takeRight":x=ga(x,C-Ne);break}}return{start:x,end:C}}function Vt(x){var C=x.match(Pr);return C?C[1].split(vn):[]}function Zt(x,C,M){C=Sl(C,x);for(var $=-1,Z=C.length,ye=!1;++$<Z;){var Ne=mi(C[$]);if(!(ye=x!=null&&M(x,Ne)))break;x=x[Ne]}return ye||++$!=Z?ye:(Z=x==null?0:x.length,!!Z&&BC(Z)&&$t(Ne,Z)&&(Pn(x)||pp(x)))}function or(x){var C=x.length,M=new x.constructor(C);return C&&typeof x[0]=="string"&&li.call(x,"index")&&(M.index=x.index,M.input=x.input),M}function Ut(x){return typeof x.constructor=="function"&&!Jt(x)?If(xm(x)):{}}function er(x,C,M){var $=x.constructor;switch(C){case Fe:return Hf(x);case he:case Ee:return new $(+x);case Ue:return dp(x,M);case lt:case ut:case We:case J:case Pe:case Ce:case ct:case mt:case Me:return Sh(x,M);case j:return new $;case X:case Se:return new $(x);case Le:return hp(x);case se:return new $;case Y:return xC(x)}}function Qe(x,C){var M=C.length;if(!M)return x;var $=M-1;return C[$]=(M>1?"& ":"")+C[$],C=C.join(M>2?", ":" "),x.replace(gn,`{
/* [wrapped with `+C+`] */
`)}function bt(x){return Pn(x)||pp(x)||!!(Db&&x&&x[Db])}function $t(x,C){var M=typeof x;return C=C==null?L:C,!!C&&(M=="number"||M!="symbol"&&ku.test(x))&&x>-1&&x%1==0&&x<C}function Qt(x,C,M){if(!ka(M))return!1;var $=typeof C;return($=="number"?js(M)&&$t(C,M.length):$=="string"&&C in M)?zu(M[C],x):!1}function Rt(x,C){if(Pn(x))return!1;var M=typeof x;return M=="number"||M=="symbol"||M=="boolean"||x==null||Tl(x)?!0:Nt.test(x)||!Ot.test(x)||C!=null&&x in bi(C)}function hr(x){var C=typeof x;return C=="string"||C=="number"||C=="symbol"||C=="boolean"?x!=="__proto__":x===null}function Lt(x){var C=Wm(x),M=oe[C];if(typeof M!="function"||!(C in jn.prototype))return!1;if(x===M)return!0;var $=Vm(M);return!!$&&x===$[0]}function rr(x){return!!Wv&&Wv in x}var Ft=bm?Xf:HM;function Jt(x){var C=x&&x.constructor,M=typeof C=="function"&&C.prototype||ih;return x===M}function Ir(x){return x===x&&!ka(x)}function Vr(x,C){return function(M){return M==null?!1:M[x]===C&&(C!==e||x in bi(M))}}function sr(x){var C=FC(x,function($){return M.size===u&&M.clear(),$}),M=C.cache;return C}function qt(x,C){var M=x[1],$=C[1],Z=M|$,ye=Z<(g|m|_),Ne=$==_&&M==b||$==_&&M==A&&x[7].length<=C[8]||$==(_|A)&&C[7].length<=C[8]&&M==b;if(!(ye||Ne))return x;$&g&&(x[2]=C[2],Z|=M&g?0:y);var Ye=C[3];if(Ye){var ot=x[3];x[3]=ot?Gm(ot,Ye,C[4]):Ye,x[4]=ot?Pu(x[3],c):C[4]}return Ye=C[5],Ye&&(ot=x[5],x[5]=ot?SC(ot,Ye,C[6]):Ye,x[6]=ot?Pu(x[5],c):C[6]),Ye=C[7],Ye&&(x[7]=Ye),$&_&&(x[8]=x[8]==null?C[8]:Do(x[8],C[8])),x[9]==null&&(x[9]=C[9]),x[0]=C[0],x[1]=Z,x}function Dt(x){var C=[];if(x!=null)for(var M in bi(x))C.push(M);return C}function Fr(x){return Zo.call(x)}function Qr(x,C,M){return C=ga(C===e?x.length-1:C,0),function(){for(var $=arguments,Z=-1,ye=ga($.length-C,0),Ne=Et(ye);++Z<ye;)Ne[Z]=$[C+Z];Z=-1;for(var Ye=Et(C+1);++Z<C;)Ye[Z]=$[Z];return Ye[C]=M(Ne),ro(x,this,Ye)}}function mr(x,C){return C.length<2?x:yc(x,Vs(C,0,-1))}function mn(x,C){for(var M=x.length,$=Do(C.length,M),Z=ps(x);$--;){var ye=C[$];x[$]=$t(ye,M)?Z[ye]:e}return x}function Wr(x,C){if(!(C==="constructor"&&typeof x[C]=="function")&&C!="__proto__")return x[C]}var ln=Sn(mC),Mn=Kk||function(x,C){return vo.setTimeout(x,C)},ea=Sn(EM);function Ta(x,C,M){var $=C+"";return ea(x,Qe($,Aa(Vt($),M)))}function Sn(x){var C=0,M=0;return function(){var $=pc(),Z=O-($-M);if(M=$,Z>0){if(++C>=D)return arguments[0]}else C=0;return x.apply(e,arguments)}}function ta(x,C){var M=-1,$=x.length,Z=$-1;for(C=C===e?$:C;++M<C;){var ye=Nm(M,Z),Ne=x[ye];x[ye]=x[M],x[M]=Ne}return x.length=C,x}var _i=sr(function(x){var C=[];return x.charCodeAt(0)===46&&C.push(""),x.replace(fr,function(M,$,Z,ye){C.push(Z?ye.replace(Xr,"$1"):$||M)}),C});function mi(x){if(typeof x=="string"||Tl(x))return x;var C=x+"";return C=="0"&&1/x==-G?"-0":C}function Fi(x){if(x!=null){try{return Vv.call(x)}catch{}try{return x+""}catch{}}return""}function Aa(x,C){return po(ee,function(M){var $="_."+M[0];C&M[1]&&!fm(x,$)&&x.push($)}),x.sort()}function Fa(x){if(x instanceof jn)return x.clone();var C=new Hs(x.__wrapped__,x.__chain__);return C.__actions__=ps(x.__actions__),C.__index__=x.__index__,C.__values__=x.__values__,C}function ao(x,C,M){(M?Qt(x,C,M):C===e)?C=1:C=ga(Fn(C),0);var $=x==null?0:x.length;if(!$||C<1)return[];for(var Z=0,ye=0,Ne=Et(wm($/C));Z<$;)Ne[ye++]=Vs(x,Z,Z+=C);return Ne}function oa(x){for(var C=-1,M=x==null?0:x.length,$=0,Z=[];++C<M;){var ye=x[C];ye&&(Z[$++]=ye)}return Z}function tn(){var x=arguments.length;if(!x)return[];for(var C=Et(x-1),M=arguments[0],$=x;$--;)C[$-1]=arguments[$];return Mu(Pn(M)?ps(M):[M],no(C,1))}var oo=Ln(function(x,C){return Ya(x)?Ff(x,no(C,1,Ya,!0)):[]}),Yn=Ln(function(x,C){var M=pe(C);return Ya(M)&&(M=e),Ya(x)?Ff(x,no(C,1,Ya,!0),te(M,2)):[]}),Dr=Ln(function(x,C){var M=pe(C);return Ya(M)&&(M=e),Ya(x)?Ff(x,no(C,1,Ya,!0),e,M):[]});function Cn(x,C,M){var $=x==null?0:x.length;return $?(C=M||C===e?1:Fn(C),Vs(x,C<0?0:C,$)):[]}function On(x,C,M){var $=x==null?0:x.length;return $?(C=M||C===e?1:Fn(C),C=$-C,Vs(x,0,C<0?0:C)):[]}function sa(x,C){return x&&x.length?Uf(x,te(C,3),!0,!0):[]}function au(x,C){return x&&x.length?Uf(x,te(C,3),!0):[]}function Yf(x,C,M,$){var Z=x==null?0:x.length;return Z?(M&&typeof M!="number"&&Qt(x,C,M)&&(M=0,$=Z),fC(x,C,M,$)):[]}function we(x,C,M){var $=x==null?0:x.length;if(!$)return-1;var Z=M==null?0:Fn(M);return Z<0&&(Z=ga($+Z,0)),Jd(x,te(C,3),Z)}function vt(x,C,M){var $=x==null?0:x.length;if(!$)return-1;var Z=$-1;return M!==e&&(Z=Fn(M),Z=M<0?ga($+Z,0):Do(Z,$-1)),Jd(x,te(C,3),Z,!0)}function at(x){var C=x==null?0:x.length;return C?no(x,1):[]}function pr(x){var C=x==null?0:x.length;return C?no(x,G):[]}function yn(x,C){var M=x==null?0:x.length;return M?(C=C===e?1:Fn(C),no(x,C)):[]}function xe(x){for(var C=-1,M=x==null?0:x.length,$={};++C<M;){var Z=x[C];$[Z[0]]=Z[1]}return $}function ne(x){return x&&x.length?x[0]:e}function De(x,C,M){var $=x==null?0:x.length;if(!$)return-1;var Z=M==null?0:Fn(M);return Z<0&&(Z=ga($+Z,0)),Iu(x,C,Z)}function qe(x){var C=x==null?0:x.length;return C?Vs(x,0,-1):[]}var et=Ln(function(x){var C=Ji(x,bh);return C.length&&C[0]===x[0]?np(C):[]}),$e=Ln(function(x){var C=pe(x),M=Ji(x,bh);return C===pe(M)?C=e:M.pop(),M.length&&M[0]===x[0]?np(M,te(C,2)):[]}),Oe=Ln(function(x){var C=pe(x),M=Ji(x,bh);return C=typeof C=="function"?C:e,C&&M.pop(),M.length&&M[0]===x[0]?np(M,e,C):[]});function je(x,C){return x==null?"":eC.call(x,C)}function pe(x){var C=x==null?0:x.length;return C?x[C-1]:e}function Ie(x,C,M){var $=x==null?0:x.length;if(!$)return-1;var Z=$;return M!==e&&(Z=Fn(M),Z=Z<0?ga($+Z,0):Do(Z,$-1)),C===C?Mb(x,C,Z):Jd(x,hm,Z,!0)}function ge(x,C){return x&&x.length?Lm(x,Fn(C)):e}var Xe=Ln(tt);function tt(x,C){return x&&x.length&&C&&C.length?Fm(x,C):x}function _t(x,C,M){return x&&x.length&&C&&C.length?Fm(x,C,te(M,2)):x}function kt(x,C,M){return x&&x.length&&C&&C.length?Fm(x,C,e,M):x}var St=iu(function(x,C){var M=x==null?0:x.length,$=gc(x,C);return Wb(x,Ji(C,function(Z){return $t(Z,M)?+Z:Z}).sort(Sc)),$});function Wt(x,C){var M=[];if(!(x&&x.length))return M;var $=-1,Z=[],ye=x.length;for(C=te(C,3);++$<ye;){var Ne=x[$];C(Ne,$,x)&&(M.push(Ne),Z.push($))}return Wb(x,Z),M}function _r(x){return x==null?x:tC.call(x)}function rn(x,C,M){var $=x==null?0:x.length;return $?(M&&typeof M!="number"&&Qt(x,C,M)?(C=0,M=$):(C=C==null?0:Fn(C),M=M===e?$:Fn(M)),Vs(x,C,M)):[]}function br(x,C){return Bm(x,C)}function Or(x,C,M){return jb(x,C,te(M,2))}function qr(x,C){var M=x==null?0:x.length;if(M){var $=Bm(x,C);if($<M&&zu(x[$],C))return $}return-1}function $n(x,C){return Bm(x,C,!0)}function ra(x,C,M){return jb(x,C,te(M,2),!0)}function Qo(x,C){var M=x==null?0:x.length;if(M){var $=Bm(x,C,!0)-1;if(zu(x[$],C))return $}return-1}function tx(x){return x&&x.length?yC(x):[]}function Ws(x,C){return x&&x.length?yC(x,te(C,2)):[]}function PC(x){var C=x==null?0:x.length;return C?Vs(x,1,C):[]}function _l(x,C,M){return x&&x.length?(C=M||C===e?1:Fn(C),Vs(x,0,C<0?0:C)):[]}function RC(x,C,M){var $=x==null?0:x.length;return $?(C=M||C===e?1:Fn(C),C=$-C,Vs(x,C<0?0:C,$)):[]}function Qae(x,C){return x&&x.length?Uf(x,te(C,3),!1,!0):[]}function Jae(x,C){return x&&x.length?Uf(x,te(C,3)):[]}var eoe=Ln(function(x){return eu(no(x,1,Ya,!0))}),toe=Ln(function(x){var C=pe(x);return Ya(C)&&(C=e),eu(no(x,1,Ya,!0),te(C,2))}),roe=Ln(function(x){var C=pe(x);return C=typeof C=="function"?C:e,eu(no(x,1,Ya,!0),e,C)});function noe(x){return x&&x.length?eu(x):[]}function ioe(x,C){return x&&x.length?eu(x,te(C,2)):[]}function aoe(x,C){return C=typeof C=="function"?C:e,x&&x.length?eu(x,e,C):[]}function IM(x){if(!(x&&x.length))return[];var C=0;return x=Ql(x,function(M){if(Ya(M))return C=ga(M.length,C),!0}),Cb(C,function(M){return Ji(x,Ef(M))})}function o3(x,C){if(!(x&&x.length))return[];var M=IM(x);return C==null?M:Ji(M,function($){return ro(C,e,$)})}var ooe=Ln(function(x,C){return Ya(x)?Ff(x,C):[]}),soe=Ln(function(x){return yh(Ql(x,Ya))}),loe=Ln(function(x){var C=pe(x);return Ya(C)&&(C=e),yh(Ql(x,Ya),te(C,2))}),uoe=Ln(function(x){var C=pe(x);return C=typeof C=="function"?C:e,yh(Ql(x,Ya),e,C)}),coe=Ln(IM);function foe(x,C){return cp(x||[],C||[],Qv)}function doe(x,C){return cp(x||[],C||[],gh)}var hoe=Ln(function(x){var C=x.length,M=C>1?x[C-1]:e;return M=typeof M=="function"?(x.pop(),M):e,o3(x,M)});function s3(x){var C=oe(x);return C.__chain__=!0,C}function voe(x,C){return C(x),x}function DC(x,C){return C(x)}var poe=iu(function(x){var C=x.length,M=C?x[0]:0,$=this.__wrapped__,Z=function(ye){return gc(ye,x)};return C>1||this.__actions__.length||!($ instanceof jn)||!$t(M)?this.thru(Z):($=$.slice(M,+M+(C?1:0)),$.__actions__.push({func:DC,args:[Z],thisArg:e}),new Hs($,this.__chain__).thru(function(ye){return C&&!ye.length&&ye.push(e),ye}))});function goe(){return s3(this)}function moe(){return new Hs(this.value(),this.__chain__)}function yoe(){this.__values__===e&&(this.__values__=w3(this.value()));var x=this.__index__>=this.__values__.length,C=x?e:this.__values__[this.__index__++];return{done:x,value:C}}function boe(){return this}function xoe(x){for(var C,M=this;M instanceof Zv;){var $=Fa(M);$.__index__=0,$.__values__=e,C?Z.__wrapped__=$:C=$;var Z=$;M=M.__wrapped__}return Z.__wrapped__=x,C}function woe(){var x=this.__wrapped__;if(x instanceof jn){var C=x;return this.__actions__.length&&(C=new jn(this)),C=C.reverse(),C.__actions__.push({func:DC,args:[_r],thisArg:e}),new Hs(C,this.__chain__)}return this.thru(_r)}function Soe(){return zm(this.__wrapped__,this.__actions__)}var Coe=vp(function(x,C,M){li.call(x,M)?++x[M]:Lu(x,M,1)});function Eoe(x,C,M){var $=Pn(x)?fc:cC;return M&&Qt(x,C,M)&&(C=e),$(x,te(C,3))}function _oe(x,C){var M=Pn(x)?Ql:$b;return M(x,te(C,3))}var Toe=Xb(we),Aoe=Xb(vt);function koe(x,C){return no(OC(x,C),1)}function Moe(x,C){return no(OC(x,C),G)}function Ioe(x,C,M){return M=M===e?1:Fn(M),no(OC(x,C),M)}function l3(x,C){var M=Pn(x)?po:Jl;return M(x,te(C,3))}function u3(x,C){var M=Pn(x)?WS:Jv;return M(x,te(C,3))}var Poe=vp(function(x,C,M){li.call(x,M)?x[M].push(C):Lu(x,M,[C])});function Roe(x,C,M,$){x=js(x)?x:Ym(x),M=M&&!$?Fn(M):0;var Z=x.length;return M<0&&(M=ga(Z+M,0)),zC(x)?M<=Z&&x.indexOf(C,M)>-1:!!Z&&Iu(x,C,M)>-1}var Doe=Ln(function(x,C,M){var $=-1,Z=typeof C=="function",ye=js(x)?Et(x.length):[];return Jl(x,function(Ne){ye[++$]=Z?ro(C,Ne,M):hh(Ne,C,M)}),ye}),Ooe=vp(function(x,C,M){Lu(x,M,C)});function OC(x,C){var M=Pn(x)?Ji:bc;return M(x,te(C,3))}function Loe(x,C,M,$){return x==null?[]:(Pn(C)||(C=C==null?[]:[C]),M=$?e:M,Pn(M)||(M=M==null?[]:[M]),Gf(x,C,M))}var Foe=vp(function(x,C,M){x[M?0:1].push(C)},function(){return[[],[]]});function Noe(x,C,M){var $=Pn(x)?xb:wb,Z=arguments.length<3;return $(x,te(C,4),M,Z,Jl)}function Boe(x,C,M){var $=Pn(x)?Bk:wb,Z=arguments.length<3;return $(x,te(C,4),M,Z,Jv)}function zoe(x,C){var M=Pn(x)?Ql:$b;return M(x,NC(te(C,3)))}function $oe(x){var C=Pn(x)?uC:SM;return C(x)}function Goe(x,C,M){(M?Qt(x,C,M):C===e)?C=1:C=Fn(C);var $=Pn(x)?mM:CM;return $(x,C)}function Uoe(x){var C=Pn(x)?yM:_M;return C(x)}function Hoe(x){if(x==null)return 0;if(js(x))return zC(x)?hc(x):x.length;var C=Pt(x);return C==j||C==se?x.size:zf(x).length}function Voe(x,C,M){var $=Pn(x)?dm:TM;return M&&Qt(x,C,M)&&(C=e),$(x,te(C,3))}var Woe=Ln(function(x,C){if(x==null)return[];var M=C.length;return M>1&&Qt(x,C[0],C[1])?C=[]:M>2&&Qt(C[0],C[1],C[2])&&(C=[C[0]]),Gf(x,no(C,1),[])}),LC=qk||function(){return vo.Date.now()};function joe(x,C){if(typeof C!="function")throw new Us(o);return x=Fn(x),function(){if(--x<1)return C.apply(this,arguments)}}function c3(x,C,M){return C=M?e:C,C=x&&C==null?x.length:C,Bu(x,_,e,e,e,e,C)}function f3(x,C){var M;if(typeof C!="function")throw new Us(o);return x=Fn(x),function(){return--x>0&&(M=C.apply(this,arguments)),x<=1&&(C=e),M}}var PM=Ln(function(x,C,M){var $=g;if(M.length){var Z=Pu(M,V(PM));$|=S}return Bu(x,$,C,M,Z)}),d3=Ln(function(x,C,M){var $=g|m;if(M.length){var Z=Pu(M,V(d3));$|=S}return Bu(C,$,x,M,Z)});function h3(x,C,M){C=M?e:C;var $=Bu(x,b,e,e,e,e,e,C);return $.placeholder=h3.placeholder,$}function v3(x,C,M){C=M?e:C;var $=Bu(x,w,e,e,e,e,e,C);return $.placeholder=v3.placeholder,$}function p3(x,C,M){var $,Z,ye,Ne,Ye,ot,jt=0,Xt=!1,nr=!1,Tr=!0;if(typeof x!="function")throw new Us(o);C=ou(C)||0,ka(M)&&(Xt=!!M.leading,nr="maxWait"in M,ye=nr?ga(ou(M.maxWait)||0,C):ye,Tr="trailing"in M?!!M.trailing:Tr);function Ur(Xa){var $u=$,Kf=Z;return $=Z=e,jt=Xa,Ne=x.apply(Kf,$u),Ne}function fn(Xa){return jt=Xa,Ye=Mn(Qn,C),Xt?Ur(Xa):Ne}function Gn(Xa){var $u=Xa-ot,Kf=Xa-jt,O3=C-$u;return nr?Do(O3,ye-Kf):O3}function dn(Xa){var $u=Xa-ot,Kf=Xa-jt;return ot===e||$u>=C||$u<0||nr&&Kf>=ye}function Qn(){var Xa=LC();if(dn(Xa))return ui(Xa);Ye=Mn(Qn,Gn(Xa))}function ui(Xa){return Ye=e,Tr&&$?Ur(Xa):($=Z=e,Ne)}function Al(){Ye!==e&&xh(Ye),jt=0,$=ot=Z=Ye=e}function ks(){return Ye===e?Ne:ui(LC())}function kl(){var Xa=LC(),$u=dn(Xa);if($=arguments,Z=this,ot=Xa,$u){if(Ye===e)return fn(ot);if(nr)return xh(Ye),Ye=Mn(Qn,C),Ur(ot)}return Ye===e&&(Ye=Mn(Qn,C)),Ne}return kl.cancel=Al,kl.flush=ks,kl}var Yoe=Ln(function(x,C){return km(x,1,C)}),Xoe=Ln(function(x,C,M){return km(x,ou(C)||0,M)});function qoe(x){return Bu(x,k)}function FC(x,C){if(typeof x!="function"||C!=null&&typeof C!="function")throw new Us(o);var M=function(){var $=arguments,Z=C?C.apply(this,$):$[0],ye=M.cache;if(ye.has(Z))return ye.get(Z);var Ne=x.apply(this,$);return M.cache=ye.set(Z,Ne)||ye,Ne};return M.cache=new(FC.Cache||Ou),M}FC.Cache=Ou;function NC(x){if(typeof x!="function")throw new Us(o);return function(){var C=arguments;switch(C.length){case 0:return!x.call(this);case 1:return!x.call(this,C[0]);case 2:return!x.call(this,C[0],C[1]);case 3:return!x.call(this,C[0],C[1],C[2])}return!x.apply(this,C)}}function Koe(x){return f3(2,x)}var Zoe=$m(function(x,C){C=C.length==1&&Pn(C[0])?Ji(C[0],Ts(te())):Ji(no(C,1),Ts(te()));var M=C.length;return Ln(function($){for(var Z=-1,ye=Do($.length,M);++Z<ye;)$[Z]=C[Z].call(this,$[Z]);return ro(x,this,$)})}),RM=Ln(function(x,C){var M=Pu(C,V(RM));return Bu(x,S,e,C,M)}),g3=Ln(function(x,C){var M=Pu(C,V(g3));return Bu(x,E,e,C,M)}),Qoe=iu(function(x,C){return Bu(x,A,e,e,e,C)});function Joe(x,C){if(typeof x!="function")throw new Us(o);return C=C===e?C:Fn(C),Ln(x,C)}function ese(x,C){if(typeof x!="function")throw new Us(o);return C=C==null?0:ga(Fn(C),0),Ln(function(M){var $=M[C],Z=Cl(M,0,C);return $&&Mu(Z,$),ro(x,this,Z)})}function tse(x,C,M){var $=!0,Z=!0;if(typeof x!="function")throw new Us(o);return ka(M)&&($="leading"in M?!!M.leading:$,Z="trailing"in M?!!M.trailing:Z),p3(x,C,{leading:$,maxWait:C,trailing:Z})}function rse(x){return c3(x,1)}function nse(x,C){return RM(fp(C),x)}function ise(){if(!arguments.length)return[];var x=arguments[0];return Pn(x)?x:[x]}function ase(x){return go(x,h)}function ose(x,C){return C=typeof C=="function"?C:e,go(x,h,C)}function sse(x){return go(x,f|h)}function lse(x,C){return C=typeof C=="function"?C:e,go(x,f|h,C)}function use(x,C){return C==null||Am(x,C,Fo(C))}function zu(x,C){return x===C||x!==x&&C!==C}var cse=Hm(Rm),fse=Hm(function(x,C){return x>=C}),pp=Dm(function(){return arguments}())?Dm:function(x){return Na(x)&&li.call(x,"callee")&&!ja.call(x,"callee")},Pn=Et.isArray,dse=$S?Ts($S):vC;function js(x){return x!=null&&BC(x.length)&&!Xf(x)}function Ya(x){return Na(x)&&js(x)}function hse(x){return x===!0||x===!1||Na(x)&&Lo(x)==he}var Ch=Zk||HM,vse=Sf?Ts(Sf):pC;function pse(x){return Na(x)&&x.nodeType===1&&!rx(x)}function gse(x){if(x==null)return!0;if(js(x)&&(Pn(x)||typeof x=="string"||typeof x.splice=="function"||Ch(x)||jm(x)||pp(x)))return!x.length;var C=Pt(x);if(C==j||C==se)return!x.size;if(Jt(x))return!zf(x).length;for(var M in x)if(li.call(x,M))return!1;return!0}function mse(x,C){return Nf(x,C)}function yse(x,C,M){M=typeof M=="function"?M:e;var $=M?M(x,C):e;return $===e?Nf(x,C,e,M):!!$}function DM(x){if(!Na(x))return!1;var C=Lo(x);return C==nt||C==He||typeof x.message=="string"&&typeof x.name=="string"&&!rx(x)}function bse(x){return typeof x=="number"&&Ob(x)}function Xf(x){if(!ka(x))return!1;var C=Lo(x);return C==st||C==z||C==fe||C==Ze}function m3(x){return typeof x=="number"&&x==Fn(x)}function BC(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=L}function ka(x){var C=typeof x;return x!=null&&(C=="object"||C=="function")}function Na(x){return x!=null&&typeof x=="object"}var y3=GS?Ts(GS):ip;function xse(x,C){return x===C||Om(x,C,ft(C))}function wse(x,C,M){return M=typeof M=="function"?M:e,Om(x,C,ft(C),M)}function Sse(x){return b3(x)&&x!=+x}function Cse(x){if(Ft(x))throw new wn(a);return ap(x)}function Ese(x){return x===null}function _se(x){return x==null}function b3(x){return typeof x=="number"||Na(x)&&Lo(x)==X}function rx(x){if(!Na(x)||Lo(x)!=ue)return!1;var C=xm(x);if(C===null)return!0;var M=li.call(C,"constructor")&&C.constructor;return typeof M=="function"&&M instanceof M&&Vv.call(M)==ah}var OM=US?Ts(US):Fu;function Tse(x){return m3(x)&&x>=-L&&x<=L}var x3=Qd?Ts(Qd):op;function zC(x){return typeof x=="string"||!Pn(x)&&Na(x)&&Lo(x)==Se}function Tl(x){return typeof x=="symbol"||Na(x)&&Lo(x)==Y}var jm=HS?Ts(HS):Bf;function Ase(x){return x===e}function kse(x){return Na(x)&&Pt(x)==ce}function Mse(x){return Na(x)&&Lo(x)==de}var Ise=Hm(Nu),Pse=Hm(function(x,C){return x<=C});function w3(x){if(!x)return[];if(js(x))return zC(x)?Ko(x):ps(x);if(yl&&x[yl])return qS(x[yl]());var C=Pt(x),M=C==j?mm:C==se?Hv:Ym;return M(x)}function qf(x){if(!x)return x===0?x:0;if(x=ou(x),x===G||x===-G){var C=x<0?-1:1;return C*F}return x===x?x:0}function Fn(x){var C=qf(x),M=C%1;return C===C?M?C-M:C:0}function S3(x){return x?mc(Fn(x),0,H):0}function ou(x){if(typeof x=="number")return x;if(Tl(x))return W;if(ka(x)){var C=typeof x.valueOf=="function"?x.valueOf():x;x=ka(C)?C+"":C}if(typeof x!="string")return x===0?x:+x;x=YS(x);var M=fo.test(x);return M||Po.test(x)?cm(x.slice(2),M?2:8):Va.test(x)?W:+x}function C3(x){return tu(x,Ys(x))}function Rse(x){return x?mc(Fn(x),-L,L):x===0?x:0}function Mi(x){return x==null?"":As(x)}var Dse=Vf(function(x,C){if(Jt(C)||js(C)){tu(C,Fo(C),x);return}for(var M in C)li.call(C,M)&&Qv(x,M,C[M])}),E3=Vf(function(x,C){tu(C,Ys(C),x)}),$C=Vf(function(x,C,M,$){tu(C,Ys(C),x,$)}),Ose=Vf(function(x,C,M,$){tu(C,Fo(C),x,$)}),Lse=iu(gc);function Fse(x,C){var M=If(x);return C==null?M:Lf(M,C)}var Nse=Ln(function(x,C){x=bi(x);var M=-1,$=C.length,Z=$>2?C[2]:e;for(Z&&Qt(C[0],C[1],Z)&&($=1);++M<$;)for(var ye=C[M],Ne=Ys(ye),Ye=-1,ot=Ne.length;++Ye<ot;){var jt=Ne[Ye],Xt=x[jt];(Xt===e||zu(Xt,ih[jt])&&!li.call(x,jt))&&(x[jt]=ye[jt])}return x}),Bse=Ln(function(x){return x.push(e,AC),ro(_3,e,x)});function zse(x,C){return ml(x,te(C,3),wl)}function $se(x,C){return ml(x,te(C,3),Im)}function Gse(x,C){return x==null?x:tp(x,te(C,3),Ys)}function Use(x,C){return x==null?x:Mm(x,te(C,3),Ys)}function Hse(x,C){return x&&wl(x,te(C,3))}function Vse(x,C){return x&&Im(x,te(C,3))}function Wse(x){return x==null?[]:rp(x,Fo(x))}function jse(x){return x==null?[]:rp(x,Ys(x))}function LM(x,C,M){var $=x==null?e:yc(x,C);return $===e?M:$}function Yse(x,C){return x!=null&&Zt(x,C,Gb)}function FM(x,C){return x!=null&&Zt(x,C,Ub)}var Xse=qb(function(x,C,M){C!=null&&typeof C.toString!="function"&&(C=Zo.call(C)),x[C]=M},BM(Xs)),qse=qb(function(x,C,M){C!=null&&typeof C.toString!="function"&&(C=Zo.call(C)),li.call(x,C)?x[C].push(M):x[C]=[M]},te),Kse=Ln(hh);function Fo(x){return js(x)?lC(x):zf(x)}function Ys(x){return js(x)?lC(x,!0):$f(x)}function Zse(x,C){var M={};return C=te(C,3),wl(x,function($,Z,ye){Lu(M,C($,Z,ye),$)}),M}function Qse(x,C){var M={};return C=te(C,3),wl(x,function($,Z,ye){Lu(M,Z,C($,Z,ye))}),M}var Jse=Vf(function(x,C,M){xc(x,C,M)}),_3=Vf(function(x,C,M,$){xc(x,C,M,$)}),ele=iu(function(x,C){var M={};if(x==null)return M;var $=!1;C=Ji(C,function(ye){return ye=Sl(ye,x),$||($=ye.length>1),ye}),tu(x,ex(x),M),$&&(M=go(M,f|d|h,MM));for(var Z=C.length;Z--;)mh(M,C[Z]);return M});function tle(x,C){return T3(x,NC(te(C)))}var rle=iu(function(x,C){return x==null?{}:ph(x,C)});function T3(x,C){if(x==null)return{};var M=Ji(ex(x),function($){return[$]});return C=te(C),gC(x,M,function($,Z){return C($,Z[0])})}function nle(x,C,M){C=Sl(C,x);var $=-1,Z=C.length;for(Z||(Z=1,x=e);++$<Z;){var ye=x==null?e:x[mi(C[$])];ye===e&&($=Z,ye=M),x=Xf(ye)?ye.call(x):ye}return x}function ile(x,C,M){return x==null?x:gh(x,C,M)}function ale(x,C,M,$){return $=typeof $=="function"?$:e,x==null?x:gh(x,C,M,$)}var A3=Qb(Fo),k3=Qb(Ys);function ole(x,C,M){var $=Pn(x),Z=$||Ch(x)||jm(x);if(C=te(C,4),M==null){var ye=x&&x.constructor;Z?M=$?new ye:[]:ka(x)?M=Xf(ye)?If(xm(x)):{}:M={}}return(Z?po:wl)(x,function(Ne,Ye,ot){return C(M,Ne,Ye,ot)}),M}function sle(x,C){return x==null?!0:mh(x,C)}function lle(x,C,M){return x==null?x:up(x,C,fp(M))}function ule(x,C,M,$){return $=typeof $=="function"?$:e,x==null?x:up(x,C,fp(M),$)}function Ym(x){return x==null?[]:Uv(x,Fo(x))}function cle(x){return x==null?[]:Uv(x,Ys(x))}function fle(x,C,M){return M===e&&(M=C,C=e),M!==e&&(M=ou(M),M=M===M?M:0),C!==e&&(C=ou(C),C=C===C?C:0),mc(ou(x),C,M)}function dle(x,C,M){return C=qf(C),M===e?(M=C,C=0):M=qf(M),x=ou(x),dC(x,C,M)}function hle(x,C,M){if(M&&typeof M!="boolean"&&Qt(x,C,M)&&(C=M=e),M===e&&(typeof C=="boolean"?(M=C,C=e):typeof x=="boolean"&&(M=x,x=e)),x===e&&C===e?(x=0,C=1):(x=qf(x),C===e?(C=x,x=0):C=qf(C)),x>C){var $=x;x=C,C=$}if(M||x%1||C%1){var Z=Lb();return Do(x+Z*(C-x+cc("1e-"+((Z+"").length-1))),C)}return Nm(x,C)}var vle=Wf(function(x,C,M){return C=C.toLowerCase(),x+(M?M3(C):C)});function M3(x){return NM(Mi(x).toLowerCase())}function I3(x){return x=Mi(x),x&&x.replace(sc,Eb).replace(Dk,"")}function ple(x,C,M){x=Mi(x),C=As(C);var $=x.length;M=M===e?$:mc(Fn(M),0,$);var Z=M;return M-=C.length,M>=0&&x.slice(M,Z)==C}function gle(x){return x=Mi(x),x&&vr.test(x)?x.replace(it,_b):x}function mle(x){return x=Mi(x),x&&en.test(x)?x.replace(sn,"\\$&"):x}var yle=Wf(function(x,C,M){return x+(M?"-":"")+C.toLowerCase()}),ble=Wf(function(x,C,M){return x+(M?" ":"")+C.toLowerCase()}),xle=El("toLowerCase");function wle(x,C,M){x=Mi(x),C=Fn(C);var $=C?hc(x):0;if(!C||$>=C)return x;var Z=(C-$)/2;return Wi(oh(Z),M)+x+Wi(wm(Z),M)}function Sle(x,C,M){x=Mi(x),C=Fn(C);var $=C?hc(x):0;return C&&$<C?x+Wi(C-$,M):x}function Cle(x,C,M){x=Mi(x),C=Fn(C);var $=C?hc(x):0;return C&&$<C?Wi(C-$,M)+x:x}function Ele(x,C,M){return M||C==null?C=0:C&&(C=+C),Cm(Mi(x).replace(Zr,""),C||0)}function _le(x,C,M){return(M?Qt(x,C,M):C===e)?C=1:C=Fn(C),wc(Mi(x),C)}function Tle(){var x=arguments,C=Mi(x[0]);return x.length<3?C:C.replace(x[1],x[2])}var Ale=Wf(function(x,C,M){return x+(M?"_":"")+C.toLowerCase()});function kle(x,C,M){return M&&typeof M!="number"&&Qt(x,C,M)&&(C=M=e),M=M===e?H:M>>>0,M?(x=Mi(x),x&&(typeof C=="string"||C!=null&&!OM(C))&&(C=As(C),!C&&_f(x))?Cl(Ko(x),0,M):x.split(C,M)):[]}var Mle=Wf(function(x,C,M){return x+(M?" ":"")+NM(C)});function Ile(x,C,M){return x=Mi(x),M=M==null?0:mc(Fn(M),0,x.length),C=As(C),x.slice(M,M+C.length)==C}function Ple(x,C,M){var $=oe.templateSettings;M&&Qt(x,C,M)&&(C=e),x=Mi(x),C=$C({},C,$,TC);var Z=$C({},C.imports,$.imports,TC),ye=Fo(Z),Ne=Uv(Z,ye),Ye,ot,jt=0,Xt=C.interpolate||Xl,nr="__p += '",Tr=Pb((C.escape||Xl).source+"|"+Xt.source+"|"+(Xt===Ke?fi:Xl).source+"|"+(C.evaluate||Xl).source+"|$","g"),Ur="//# sourceURL="+(li.call(C,"sourceURL")?(C.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++um+"]")+`
`;x.replace(Tr,function(dn,Qn,ui,Al,ks,kl){return ui||(ui=Al),nr+=x.slice(jt,kl).replace(pf,Tb),Qn&&(Ye=!0,nr+=`' +
__e(`+Qn+`) +
'`),ks&&(ot=!0,nr+=`';
`+ks+`;
__p += '`),ui&&(nr+=`' +
((__t = (`+ui+`)) == null ? '' : __t) +
'`),jt=kl+dn.length,dn}),nr+=`';
`;var fn=li.call(C,"variable")&&C.variable;if(!fn)nr=`with (obj) {
`+nr+`
}
`;else if(Dn.test(fn))throw new wn(s);nr=(ot?nr.replace(ht,""):nr).replace(ar,"$1").replace(Ht,"$1;"),nr="function("+(fn||"obj")+`) {
`+(fn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ye?", __e = _.escape":"")+(ot?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+nr+`return __p
}`;var Gn=R3(function(){return si(ye,Ur+"return "+nr).apply(e,Ne)});if(Gn.source=nr,DM(Gn))throw Gn;return Gn}function Rle(x){return Mi(x).toLowerCase()}function Dle(x){return Mi(x).toUpperCase()}function Ole(x,C,M){if(x=Mi(x),x&&(M||C===e))return YS(x);if(!x||!(C=As(C)))return x;var $=Ko(x),Z=Ko(C),ye=pm($,Z),Ne=gm($,Z)+1;return Cl($,ye,Ne).join("")}function Lle(x,C,M){if(x=Mi(x),x&&(M||C===e))return x.slice(0,ZS(x)+1);if(!x||!(C=As(C)))return x;var $=Ko(x),Z=gm($,Ko(C))+1;return Cl($,0,Z).join("")}function Fle(x,C,M){if(x=Mi(x),x&&(M||C===e))return x.replace(Zr,"");if(!x||!(C=As(C)))return x;var $=Ko(x),Z=pm($,Ko(C));return Cl($,Z).join("")}function Nle(x,C){var M=T,$=I;if(ka(C)){var Z="separator"in C?C.separator:Z;M="length"in C?Fn(C.length):M,$="omission"in C?As(C.omission):$}x=Mi(x);var ye=x.length;if(_f(x)){var Ne=Ko(x);ye=Ne.length}if(M>=ye)return x;var Ye=M-hc($);if(Ye<1)return $;var ot=Ne?Cl(Ne,0,Ye).join(""):x.slice(0,Ye);if(Z===e)return ot+$;if(Ne&&(Ye+=ot.length-Ye),OM(Z)){if(x.slice(Ye).search(Z)){var jt,Xt=ot;for(Z.global||(Z=Pb(Z.source,Mi(Ui.exec(Z))+"g")),Z.lastIndex=0;jt=Z.exec(Xt);)var nr=jt.index;ot=ot.slice(0,nr===e?Ye:nr)}}else if(x.indexOf(As(Z),Ye)!=Ye){var Tr=ot.lastIndexOf(Z);Tr>-1&&(ot=ot.slice(0,Tr))}return ot+$}function Ble(x){return x=Mi(x),x&&At.test(x)?x.replace(Er,Gk):x}var zle=Wf(function(x,C,M){return x+(M?" ":"")+C.toUpperCase()}),NM=El("toUpperCase");function P3(x,C,M){return x=Mi(x),C=M?e:C,C===e?XS(x)?Hk(x):zk(x):x.match(C)||[]}var R3=Ln(function(x,C){try{return ro(x,e,C)}catch(M){return DM(M)?M:new wn(M)}}),$le=iu(function(x,C){return po(C,function(M){M=mi(M),Lu(x,M,PM(x[M],x))}),x});function Gle(x){var C=x==null?0:x.length,M=te();return x=C?Ji(x,function($){if(typeof $[1]!="function")throw new Us(o);return[M($[0]),$[1]]}):[],Ln(function($){for(var Z=-1;++Z<C;){var ye=x[Z];if(ro(ye[0],this,$))return ro(ye[1],this,$)}})}function Ule(x){return zb(go(x,f))}function BM(x){return function(){return x}}function Hle(x,C){return x==null||x!==x?C:x}var Vle=Um(),Wle=Um(!0);function Xs(x){return x}function zM(x){return vh(typeof x=="function"?x:go(x,f))}function jle(x){return sp(go(x,f))}function Yle(x,C){return lp(x,go(C,f))}var Xle=Ln(function(x,C){return function(M){return hh(M,x,C)}}),qle=Ln(function(x,C){return function(M){return hh(x,M,C)}});function $M(x,C,M){var $=Fo(C),Z=rp(C,$);M==null&&!(ka(C)&&(Z.length||!$.length))&&(M=C,C=x,x=this,Z=rp(C,Fo(C)));var ye=!(ka(M)&&"chain"in M)||!!M.chain,Ne=Xf(x);return po(Z,function(Ye){var ot=C[Ye];x[Ye]=ot,Ne&&(x.prototype[Ye]=function(){var jt=this.__chain__;if(ye||jt){var Xt=x(this.__wrapped__),nr=Xt.__actions__=ps(this.__actions__);return nr.push({func:ot,args:arguments,thisArg:x}),Xt.__chain__=jt,Xt}return ot.apply(x,Mu([this.value()],arguments))})}),x}function Kle(){return vo._===this&&(vo._=QS),this}function GM(){}function Zle(x){return x=Fn(x),Ln(function(C){return Lm(C,x)})}var Qle=nu(Ji),Jle=nu(fc),eue=nu(dm);function D3(x){return Rt(x)?Ef(mi(x)):xM(x)}function tue(x){return function(C){return x==null?e:yc(x,C)}}var rue=Kb(),nue=Kb(!0);function UM(){return[]}function HM(){return!1}function iue(){return{}}function aue(){return""}function oue(){return!0}function sue(x,C){if(x=Fn(x),x<1||x>L)return[];var M=H,$=Do(x,H);C=te(C),x-=H;for(var Z=Cb($,C);++M<x;)C(M);return Z}function lue(x){return Pn(x)?Ji(x,mi):Tl(x)?[x]:ps(_i(Mi(x)))}function uue(x){var C=++Yk;return Mi(x)+C}var cue=io(function(x,C){return x+C},0),fue=Zb("ceil"),due=io(function(x,C){return x/C},1),hue=Zb("floor");function vue(x){return x&&x.length?ep(x,Xs,Rm):e}function pue(x,C){return x&&x.length?ep(x,te(C,2),Rm):e}function gue(x){return Gv(x,Xs)}function mue(x,C){return Gv(x,te(C,2))}function yue(x){return x&&x.length?ep(x,Xs,Nu):e}function bue(x,C){return x&&x.length?ep(x,te(C,2),Nu):e}var xue=io(function(x,C){return x*C},1),wue=Zb("round"),Sue=io(function(x,C){return x-C},0);function Cue(x){return x&&x.length?vm(x,Xs):0}function Eue(x,C){return x&&x.length?vm(x,te(C,2)):0}return oe.after=joe,oe.ary=c3,oe.assign=Dse,oe.assignIn=E3,oe.assignInWith=$C,oe.assignWith=Ose,oe.at=Lse,oe.before=f3,oe.bind=PM,oe.bindAll=$le,oe.bindKey=d3,oe.castArray=ise,oe.chain=s3,oe.chunk=ao,oe.compact=oa,oe.concat=tn,oe.cond=Gle,oe.conforms=Ule,oe.constant=BM,oe.countBy=Coe,oe.create=Fse,oe.curry=h3,oe.curryRight=v3,oe.debounce=p3,oe.defaults=Nse,oe.defaultsDeep=Bse,oe.defer=Yoe,oe.delay=Xoe,oe.difference=oo,oe.differenceBy=Yn,oe.differenceWith=Dr,oe.drop=Cn,oe.dropRight=On,oe.dropRightWhile=sa,oe.dropWhile=au,oe.fill=Yf,oe.filter=_oe,oe.flatMap=koe,oe.flatMapDeep=Moe,oe.flatMapDepth=Ioe,oe.flatten=at,oe.flattenDeep=pr,oe.flattenDepth=yn,oe.flip=qoe,oe.flow=Vle,oe.flowRight=Wle,oe.fromPairs=xe,oe.functions=Wse,oe.functionsIn=jse,oe.groupBy=Poe,oe.initial=qe,oe.intersection=et,oe.intersectionBy=$e,oe.intersectionWith=Oe,oe.invert=Xse,oe.invertBy=qse,oe.invokeMap=Doe,oe.iteratee=zM,oe.keyBy=Ooe,oe.keys=Fo,oe.keysIn=Ys,oe.map=OC,oe.mapKeys=Zse,oe.mapValues=Qse,oe.matches=jle,oe.matchesProperty=Yle,oe.memoize=FC,oe.merge=Jse,oe.mergeWith=_3,oe.method=Xle,oe.methodOf=qle,oe.mixin=$M,oe.negate=NC,oe.nthArg=Zle,oe.omit=ele,oe.omitBy=tle,oe.once=Koe,oe.orderBy=Loe,oe.over=Qle,oe.overArgs=Zoe,oe.overEvery=Jle,oe.overSome=eue,oe.partial=RM,oe.partialRight=g3,oe.partition=Foe,oe.pick=rle,oe.pickBy=T3,oe.property=D3,oe.propertyOf=tue,oe.pull=Xe,oe.pullAll=tt,oe.pullAllBy=_t,oe.pullAllWith=kt,oe.pullAt=St,oe.range=rue,oe.rangeRight=nue,oe.rearg=Qoe,oe.reject=zoe,oe.remove=Wt,oe.rest=Joe,oe.reverse=_r,oe.sampleSize=Goe,oe.set=ile,oe.setWith=ale,oe.shuffle=Uoe,oe.slice=rn,oe.sortBy=Woe,oe.sortedUniq=tx,oe.sortedUniqBy=Ws,oe.split=kle,oe.spread=ese,oe.tail=PC,oe.take=_l,oe.takeRight=RC,oe.takeRightWhile=Qae,oe.takeWhile=Jae,oe.tap=voe,oe.throttle=tse,oe.thru=DC,oe.toArray=w3,oe.toPairs=A3,oe.toPairsIn=k3,oe.toPath=lue,oe.toPlainObject=C3,oe.transform=ole,oe.unary=rse,oe.union=eoe,oe.unionBy=toe,oe.unionWith=roe,oe.uniq=noe,oe.uniqBy=ioe,oe.uniqWith=aoe,oe.unset=sle,oe.unzip=IM,oe.unzipWith=o3,oe.update=lle,oe.updateWith=ule,oe.values=Ym,oe.valuesIn=cle,oe.without=ooe,oe.words=P3,oe.wrap=nse,oe.xor=soe,oe.xorBy=loe,oe.xorWith=uoe,oe.zip=coe,oe.zipObject=foe,oe.zipObjectDeep=doe,oe.zipWith=hoe,oe.entries=A3,oe.entriesIn=k3,oe.extend=E3,oe.extendWith=$C,$M(oe,oe),oe.add=cue,oe.attempt=R3,oe.camelCase=vle,oe.capitalize=M3,oe.ceil=fue,oe.clamp=fle,oe.clone=ase,oe.cloneDeep=sse,oe.cloneDeepWith=lse,oe.cloneWith=ose,oe.conformsTo=use,oe.deburr=I3,oe.defaultTo=Hle,oe.divide=due,oe.endsWith=ple,oe.eq=zu,oe.escape=gle,oe.escapeRegExp=mle,oe.every=Eoe,oe.find=Toe,oe.findIndex=we,oe.findKey=zse,oe.findLast=Aoe,oe.findLastIndex=vt,oe.findLastKey=$se,oe.floor=hue,oe.forEach=l3,oe.forEachRight=u3,oe.forIn=Gse,oe.forInRight=Use,oe.forOwn=Hse,oe.forOwnRight=Vse,oe.get=LM,oe.gt=cse,oe.gte=fse,oe.has=Yse,oe.hasIn=FM,oe.head=ne,oe.identity=Xs,oe.includes=Roe,oe.indexOf=De,oe.inRange=dle,oe.invoke=Kse,oe.isArguments=pp,oe.isArray=Pn,oe.isArrayBuffer=dse,oe.isArrayLike=js,oe.isArrayLikeObject=Ya,oe.isBoolean=hse,oe.isBuffer=Ch,oe.isDate=vse,oe.isElement=pse,oe.isEmpty=gse,oe.isEqual=mse,oe.isEqualWith=yse,oe.isError=DM,oe.isFinite=bse,oe.isFunction=Xf,oe.isInteger=m3,oe.isLength=BC,oe.isMap=y3,oe.isMatch=xse,oe.isMatchWith=wse,oe.isNaN=Sse,oe.isNative=Cse,oe.isNil=_se,oe.isNull=Ese,oe.isNumber=b3,oe.isObject=ka,oe.isObjectLike=Na,oe.isPlainObject=rx,oe.isRegExp=OM,oe.isSafeInteger=Tse,oe.isSet=x3,oe.isString=zC,oe.isSymbol=Tl,oe.isTypedArray=jm,oe.isUndefined=Ase,oe.isWeakMap=kse,oe.isWeakSet=Mse,oe.join=je,oe.kebabCase=yle,oe.last=pe,oe.lastIndexOf=Ie,oe.lowerCase=ble,oe.lowerFirst=xle,oe.lt=Ise,oe.lte=Pse,oe.max=vue,oe.maxBy=pue,oe.mean=gue,oe.meanBy=mue,oe.min=yue,oe.minBy=bue,oe.stubArray=UM,oe.stubFalse=HM,oe.stubObject=iue,oe.stubString=aue,oe.stubTrue=oue,oe.multiply=xue,oe.nth=ge,oe.noConflict=Kle,oe.noop=GM,oe.now=LC,oe.pad=wle,oe.padEnd=Sle,oe.padStart=Cle,oe.parseInt=Ele,oe.random=hle,oe.reduce=Noe,oe.reduceRight=Boe,oe.repeat=_le,oe.replace=Tle,oe.result=nle,oe.round=wue,oe.runInContext=rt,oe.sample=$oe,oe.size=Hoe,oe.snakeCase=Ale,oe.some=Voe,oe.sortedIndex=br,oe.sortedIndexBy=Or,oe.sortedIndexOf=qr,oe.sortedLastIndex=$n,oe.sortedLastIndexBy=ra,oe.sortedLastIndexOf=Qo,oe.startCase=Mle,oe.startsWith=Ile,oe.subtract=Sue,oe.sum=Cue,oe.sumBy=Eue,oe.template=Ple,oe.times=sue,oe.toFinite=qf,oe.toInteger=Fn,oe.toLength=S3,oe.toLower=Rle,oe.toNumber=ou,oe.toSafeInteger=Rse,oe.toString=Mi,oe.toUpper=Dle,oe.trim=Ole,oe.trimEnd=Lle,oe.trimStart=Fle,oe.truncate=Nle,oe.unescape=Ble,oe.uniqueId=uue,oe.upperCase=zle,oe.upperFirst=NM,oe.each=l3,oe.eachRight=u3,oe.first=ne,$M(oe,function(){var x={};return wl(oe,function(C,M){li.call(oe.prototype,M)||(x[M]=C)}),x}(),{chain:!1}),oe.VERSION=n,po(["bind","bindKey","curry","curryRight","partial","partialRight"],function(x){oe[x].placeholder=oe}),po(["drop","take"],function(x,C){jn.prototype[x]=function(M){M=M===e?1:ga(Fn(M),0);var $=this.__filtered__&&!C?new jn(this):this.clone();return $.__filtered__?$.__takeCount__=Do(M,$.__takeCount__):$.__views__.push({size:Do(M,H),type:x+($.__dir__<0?"Right":"")}),$},jn.prototype[x+"Right"]=function(M){return this.reverse()[x](M).reverse()}}),po(["filter","map","takeWhile"],function(x,C){var M=C+1,$=M==B||M==N;jn.prototype[x]=function(Z){var ye=this.clone();return ye.__iteratees__.push({iteratee:te(Z,3),type:M}),ye.__filtered__=ye.__filtered__||$,ye}}),po(["head","last"],function(x,C){var M="take"+(C?"Right":"");jn.prototype[x]=function(){return this[M](1).value()[0]}}),po(["initial","tail"],function(x,C){var M="drop"+(C?"":"Right");jn.prototype[x]=function(){return this.__filtered__?new jn(this):this[M](1)}}),jn.prototype.compact=function(){return this.filter(Xs)},jn.prototype.find=function(x){return this.filter(x).head()},jn.prototype.findLast=function(x){return this.reverse().find(x)},jn.prototype.invokeMap=Ln(function(x,C){return typeof x=="function"?new jn(this):this.map(function(M){return hh(M,x,C)})}),jn.prototype.reject=function(x){return this.filter(NC(te(x)))},jn.prototype.slice=function(x,C){x=Fn(x);var M=this;return M.__filtered__&&(x>0||C<0)?new jn(M):(x<0?M=M.takeRight(-x):x&&(M=M.drop(x)),C!==e&&(C=Fn(C),M=C<0?M.dropRight(-C):M.take(C-x)),M)},jn.prototype.takeRightWhile=function(x){return this.reverse().takeWhile(x).reverse()},jn.prototype.toArray=function(){return this.take(H)},wl(jn.prototype,function(x,C){var M=/^(?:filter|find|map|reject)|While$/.test(C),$=/^(?:head|last)$/.test(C),Z=oe[$?"take"+(C=="last"?"Right":""):C],ye=$||/^find/.test(C);!Z||(oe.prototype[C]=function(){var Ne=this.__wrapped__,Ye=$?[1]:arguments,ot=Ne instanceof jn,jt=Ye[0],Xt=ot||Pn(Ne),nr=function(Qn){var ui=Z.apply(oe,Mu([Qn],Ye));return $&&Tr?ui[0]:ui};Xt&&M&&typeof jt=="function"&&jt.length!=1&&(ot=Xt=!1);var Tr=this.__chain__,Ur=!!this.__actions__.length,fn=ye&&!Tr,Gn=ot&&!Ur;if(!ye&&Xt){Ne=Gn?Ne:new jn(this);var dn=x.apply(Ne,Ye);return dn.__actions__.push({func:DC,args:[nr],thisArg:e}),new Hs(dn,Tr)}return fn&&Gn?x.apply(this,Ye):(dn=this.thru(nr),fn?$?dn.value()[0]:dn.value():dn)})}),po(["pop","push","shift","sort","splice","unshift"],function(x){var C=ym[x],M=/^(?:push|sort|unshift)$/.test(x)?"tap":"thru",$=/^(?:pop|shift)$/.test(x);oe.prototype[x]=function(){var Z=arguments;if($&&!this.__chain__){var ye=this.value();return C.apply(Pn(ye)?ye:[],Z)}return this[M](function(Ne){return C.apply(Pn(Ne)?Ne:[],Z)})}}),wl(jn.prototype,function(x,C){var M=oe[C];if(M){var $=M.name+"";li.call(Oo,$)||(Oo[$]=[]),Oo[$].push({name:C,func:M})}}),Oo[jf(e,m).name]=[{name:"wrapper",func:e}],jn.prototype.clone=eM,jn.prototype.reverse=tM,jn.prototype.value=rM,oe.prototype.at=poe,oe.prototype.chain=goe,oe.prototype.commit=moe,oe.prototype.next=yoe,oe.prototype.plant=xoe,oe.prototype.reverse=woe,oe.prototype.toJSON=oe.prototype.valueOf=oe.prototype.value=Soe,oe.prototype.first=oe.prototype.head,yl&&(oe.prototype[yl]=boe),oe},nh=Vk();wf?((wf.exports=nh)._=nh,mb._=nh):vo._=nh}).call(dd)}),eT;if(typeof j2e=="function")try{eT=hOe}catch{}eT||(eT=window._);var gr=eT,fN=Zn,vOe="\0",Pg="\0",c6="";function Zn(r){this._isDirected=gr.has(r,"directed")?r.directed:!0,this._isMultigraph=gr.has(r,"multigraph")?r.multigraph:!1,this._isCompound=gr.has(r,"compound")?r.compound:!1,this._label=void 0,this._defaultNodeLabelFn=gr.constant(void 0),this._defaultEdgeLabelFn=gr.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Pg]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}Zn.prototype._nodeCount=0;Zn.prototype._edgeCount=0;Zn.prototype.isDirected=function(){return this._isDirected};Zn.prototype.isMultigraph=function(){return this._isMultigraph};Zn.prototype.isCompound=function(){return this._isCompound};Zn.prototype.setGraph=function(r){return this._label=r,this};Zn.prototype.graph=function(){return this._label};Zn.prototype.setDefaultNodeLabel=function(r){return gr.isFunction(r)||(r=gr.constant(r)),this._defaultNodeLabelFn=r,this};Zn.prototype.nodeCount=function(){return this._nodeCount};Zn.prototype.nodes=function(){return gr.keys(this._nodes)};Zn.prototype.sources=function(){return gr.filter(this.nodes(),gr.bind(function(r){return gr.isEmpty(this._in[r])},this))};Zn.prototype.sinks=function(){return gr.filter(this.nodes(),gr.bind(function(r){return gr.isEmpty(this._out[r])},this))};Zn.prototype.setNodes=function(r,t){var e=arguments;return gr.each(r,gr.bind(function(n){e.length>1?this.setNode(n,t):this.setNode(n)},this)),this};Zn.prototype.setNode=function(r,t){return gr.has(this._nodes,r)?(arguments.length>1&&(this._nodes[r]=t),this):(this._nodes[r]=arguments.length>1?t:this._defaultNodeLabelFn(r),this._isCompound&&(this._parent[r]=Pg,this._children[r]={},this._children[Pg][r]=!0),this._in[r]={},this._preds[r]={},this._out[r]={},this._sucs[r]={},++this._nodeCount,this)};Zn.prototype.node=function(r){return this._nodes[r]};Zn.prototype.hasNode=function(r){return gr.has(this._nodes,r)};Zn.prototype.removeNode=function(r){var t=this;if(gr.has(this._nodes,r)){var e=function(n){t.removeEdge(t._edgeObjs[n])};delete this._nodes[r],this._isCompound&&(this._removeFromParentsChildList(r),delete this._parent[r],gr.each(this.children(r),gr.bind(function(n){this.setParent(n)},this)),delete this._children[r]),gr.each(gr.keys(this._in[r]),e),delete this._in[r],delete this._preds[r],gr.each(gr.keys(this._out[r]),e),delete this._out[r],delete this._sucs[r],--this._nodeCount}return this};Zn.prototype.setParent=function(r,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(gr.isUndefined(t))t=Pg;else{t+="";for(var e=t;!gr.isUndefined(e);e=this.parent(e))if(e===r)throw new Error("Setting "+t+" as parent of "+r+" would create create a cycle");this.setNode(t)}return this.setNode(r),this._removeFromParentsChildList(r),this._parent[r]=t,this._children[t][r]=!0,this};Zn.prototype._removeFromParentsChildList=function(r){delete this._children[this._parent[r]][r]};Zn.prototype.parent=function(r){if(this._isCompound){var t=this._parent[r];if(t!==Pg)return t}};Zn.prototype.children=function(r){if(gr.isUndefined(r)&&(r=Pg),this._isCompound){var t=this._children[r];if(t)return gr.keys(t)}else{if(r===Pg)return this.nodes();if(this.hasNode(r))return[]}};Zn.prototype.predecessors=function(r){var t=this._preds[r];if(t)return gr.keys(t)};Zn.prototype.successors=function(r){var t=this._sucs[r];if(t)return gr.keys(t)};Zn.prototype.neighbors=function(r){var t=this.predecessors(r);if(t)return gr.union(t,this.successors(r))};Zn.prototype.isLeaf=function(r){var t;return this.isDirected()?t=this.successors(r):t=this.neighbors(r),t.length===0};Zn.prototype.filterNodes=function(r){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph()),gr.each(this._nodes,gr.bind(function(a,o){r(o)&&t.setNode(o,a)},this)),gr.each(this._edgeObjs,gr.bind(function(a){t.hasNode(a.v)&&t.hasNode(a.w)&&t.setEdge(a,this.edge(a))},this));var e=this,n={};function i(a){var o=e.parent(a);return o===void 0||t.hasNode(o)?(n[a]=o,o):o in n?n[o]:i(o)}return this._isCompound&&gr.each(t.nodes(),function(a){t.setParent(a,i(a))}),t};Zn.prototype.setDefaultEdgeLabel=function(r){return gr.isFunction(r)||(r=gr.constant(r)),this._defaultEdgeLabelFn=r,this};Zn.prototype.edgeCount=function(){return this._edgeCount};Zn.prototype.edges=function(){return gr.values(this._edgeObjs)};Zn.prototype.setPath=function(r,t){var e=this,n=arguments;return gr.reduce(r,function(i,a){return n.length>1?e.setEdge(i,a,t):e.setEdge(i,a),a}),this};Zn.prototype.setEdge=function(){var r,t,e,n,i=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(r=a.v,t=a.w,e=a.name,arguments.length===2&&(n=arguments[1],i=!0)):(r=a,t=arguments[1],e=arguments[3],arguments.length>2&&(n=arguments[2],i=!0)),r=""+r,t=""+t,gr.isUndefined(e)||(e=""+e);var o=gS(this._isDirected,r,t,e);if(gr.has(this._edgeLabels,o))return i&&(this._edgeLabels[o]=n),this;if(!gr.isUndefined(e)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(r),this.setNode(t),this._edgeLabels[o]=i?n:this._defaultEdgeLabelFn(r,t,e);var s=pOe(this._isDirected,r,t,e);return r=s.v,t=s.w,Object.freeze(s),this._edgeObjs[o]=s,f6(this._preds[t],r),f6(this._sucs[r],t),this._in[t][o]=s,this._out[r][o]=s,this._edgeCount++,this};Zn.prototype.edge=function(r,t,e){var n=arguments.length===1?dN(this._isDirected,arguments[0]):gS(this._isDirected,r,t,e);return this._edgeLabels[n]};Zn.prototype.hasEdge=function(r,t,e){var n=arguments.length===1?dN(this._isDirected,arguments[0]):gS(this._isDirected,r,t,e);return gr.has(this._edgeLabels,n)};Zn.prototype.removeEdge=function(r,t,e){var n=arguments.length===1?dN(this._isDirected,arguments[0]):gS(this._isDirected,r,t,e),i=this._edgeObjs[n];return i&&(r=i.v,t=i.w,delete this._edgeLabels[n],delete this._edgeObjs[n],d6(this._preds[t],r),d6(this._sucs[r],t),delete this._in[t][n],delete this._out[r][n],this._edgeCount--),this};Zn.prototype.inEdges=function(r,t){var e=this._in[r];if(e){var n=gr.values(e);return t?gr.filter(n,function(i){return i.v===t}):n}};Zn.prototype.outEdges=function(r,t){var e=this._out[r];if(e){var n=gr.values(e);return t?gr.filter(n,function(i){return i.w===t}):n}};Zn.prototype.nodeEdges=function(r,t){var e=this.inEdges(r,t);if(e)return e.concat(this.outEdges(r,t))};function f6(r,t){r[t]?r[t]++:r[t]=1}function d6(r,t){--r[t]||delete r[t]}function gS(r,t,e,n){var i=""+t,a=""+e;if(!r&&i>a){var o=i;i=a,a=o}return i+c6+a+c6+(gr.isUndefined(n)?vOe:n)}function pOe(r,t,e,n){var i=""+t,a=""+e;if(!r&&i>a){var o=i;i=a,a=o}var s={v:i,w:a};return n&&(s.name=n),s}function dN(r,t){return gS(r,t.v,t.w,t.name)}var gOe="2.1.4",h6={Graph:fN,version:gOe},hN={write:mOe,read:xOe};function mOe(r){var t={options:{directed:r.isDirected(),multigraph:r.isMultigraph(),compound:r.isCompound()},nodes:yOe(r),edges:bOe(r)};return gr.isUndefined(r.graph())||(t.value=gr.clone(r.graph())),t}function yOe(r){return gr.map(r.nodes(),function(t){var e=r.node(t),n=r.parent(t),i={v:t};return gr.isUndefined(e)||(i.value=e),gr.isUndefined(n)||(i.parent=n),i})}function bOe(r){return gr.map(r.edges(),function(t){var e=r.edge(t),n={v:t.v,w:t.w};return gr.isUndefined(t.name)||(n.name=t.name),gr.isUndefined(e)||(n.value=e),n})}function xOe(r){var t=new fN(r.options).setGraph(r.value);return gr.each(r.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),gr.each(r.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}hN.write;hN.read;var wOe=SOe;function SOe(r){var t={},e=[],n;function i(a){gr.has(t,a)||(t[a]=!0,n.push(a),gr.each(r.successors(a),i),gr.each(r.predecessors(a),i))}return gr.each(r.nodes(),function(a){n=[],i(a),n.length&&e.push(n)}),e}var mJ=_u;function _u(){this._arr=[],this._keyIndices={}}_u.prototype.size=function(){return this._arr.length};_u.prototype.keys=function(){return this._arr.map(function(r){return r.key})};_u.prototype.has=function(r){return gr.has(this._keyIndices,r)};_u.prototype.priority=function(r){var t=this._keyIndices[r];if(t!==void 0)return this._arr[t].priority};_u.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};_u.prototype.add=function(r,t){var e=this._keyIndices;if(r=String(r),!gr.has(e,r)){var n=this._arr,i=n.length;return e[r]=i,n.push({key:r,priority:t}),this._decrease(i),!0}return!1};_u.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key};_u.prototype.decrease=function(r,t){var e=this._keyIndices[r];if(t>this._arr[e].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[e].priority+" New: "+t);this._arr[e].priority=t,this._decrease(e)};_u.prototype._heapify=function(r){var t=this._arr,e=2*r,n=e+1,i=r;e<t.length&&(i=t[e].priority<t[i].priority?e:i,n<t.length&&(i=t[n].priority<t[i].priority?n:i),i!==r&&(this._swap(r,i),this._heapify(i)))};_u.prototype._decrease=function(r){for(var t=this._arr,e=t[r].priority,n;r!==0&&(n=r>>1,!(t[n].priority<e));)this._swap(r,n),r=n};_u.prototype._swap=function(r,t){var e=this._arr,n=this._keyIndices,i=e[r],a=e[t];e[r]=a,e[t]=i,n[a.key]=r,n[i.key]=t};var yJ=EOe,COe=gr.constant(1);function EOe(r,t,e,n){return _Oe(r,String(t),e||COe,n||function(i){return r.outEdges(i)})}function _Oe(r,t,e,n){var i={},a=new mJ,o,s,l=function(u){var c=u.v!==o?u.v:u.w,f=i[c],d=e(u),h=s.distance+d;if(d<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+u+" Weight: "+d);h<f.distance&&(f.distance=h,f.predecessor=o,a.decrease(c,h))};for(r.nodes().forEach(function(u){var c=u===t?0:Number.POSITIVE_INFINITY;i[u]={distance:c},a.add(u,c)});a.size()>0&&(o=a.removeMin(),s=i[o],s.distance!==Number.POSITIVE_INFINITY);)n(o).forEach(l);return i}var TOe=AOe;function AOe(r,t,e){return gr.transform(r.nodes(),function(n,i){n[i]=yJ(r,i,t,e)},{})}var bJ=kOe;function kOe(r){var t=0,e=[],n={},i=[];function a(o){var s=n[o]={onStack:!0,lowlink:t,index:t++};if(e.push(o),r.successors(o).forEach(function(c){gr.has(n,c)?n[c].onStack&&(s.lowlink=Math.min(s.lowlink,n[c].index)):(a(c),s.lowlink=Math.min(s.lowlink,n[c].lowlink))}),s.lowlink===s.index){var l=[],u;do u=e.pop(),n[u].onStack=!1,l.push(u);while(o!==u);i.push(l)}}return r.nodes().forEach(function(o){gr.has(n,o)||a(o)}),i}var MOe=IOe;function IOe(r){return gr.filter(bJ(r),function(t){return t.length>1||t.length===1&&r.hasEdge(t[0],t[0])})}var POe=DOe,ROe=gr.constant(1);function DOe(r,t,e){return OOe(r,t||ROe,e||function(n){return r.outEdges(n)})}function OOe(r,t,e){var n={},i=r.nodes();return i.forEach(function(a){n[a]={},n[a][a]={distance:0},i.forEach(function(o){a!==o&&(n[a][o]={distance:Number.POSITIVE_INFINITY})}),e(a).forEach(function(o){var s=o.v===a?o.w:o.v,l=t(o);n[a][s]={distance:l,predecessor:a}})}),i.forEach(function(a){var o=n[a];i.forEach(function(s){var l=n[s];i.forEach(function(u){var c=l[a],f=o[u],d=l[u],h=c.distance+f.distance;h<d.distance&&(d.distance=h,d.predecessor=f.predecessor)})})}),n}var WD=xJ;xJ.CycleException=jD;function xJ(r){var t={},e={},n=[];function i(a){if(gr.has(e,a))throw new jD;gr.has(t,a)||(e[a]=!0,t[a]=!0,gr.each(r.predecessors(a),i),delete e[a],n.push(a))}if(gr.each(r.sinks(),i),gr.size(t)!==r.nodeCount())throw new jD;return n}function jD(){}var LOe=FOe;function FOe(r){try{WD(r)}catch(t){if(t instanceof WD.CycleException)return!1;throw t}return!0}var wJ=NOe;function NOe(r,t,e){gr.isArray(t)||(t=[t]);var n=(r.isDirected()?r.successors:r.neighbors).bind(r),i=[],a={};return gr.each(t,function(o){if(!r.hasNode(o))throw new Error("Graph does not have node: "+o);SJ(r,o,e==="post",a,n,i)}),i}function SJ(r,t,e,n,i,a){gr.has(n,t)||(n[t]=!0,e||a.push(t),gr.each(i(t),function(o){SJ(r,o,e,n,i,a)}),e&&a.push(t))}var BOe=zOe;function zOe(r,t){return wJ(r,t,"post")}var $Oe=GOe;function GOe(r,t){return wJ(r,t,"pre")}var UOe=HOe;function HOe(r,t){var e=new fN,n={},i=new mJ,a;function o(l){var u=l.v===a?l.w:l.v,c=i.priority(u);if(c!==void 0){var f=t(l);f<c&&(n[u]=a,i.decrease(u,f))}}if(r.nodeCount()===0)return e;gr.each(r.nodes(),function(l){i.add(l,Number.POSITIVE_INFINITY),e.setNode(l)}),i.decrease(r.nodes()[0],0);for(var s=!1;i.size()>0;){if(a=i.removeMin(),gr.has(n,a))e.setEdge(a,n[a]);else{if(s)throw new Error("Input graph is not connected: "+r);s=!0}r.nodeEdges(a).forEach(o)}return e}var Tu={components:wOe,dijkstra:yJ,dijkstraAll:TOe,findCycles:MOe,floydWarshall:POe,isAcyclic:LOe,postorder:BOe,preorder:$Oe,prim:UOe,tarjan:bJ,topsort:WD};Tu.components;Tu.dijkstra;Tu.dijkstraAll;Tu.findCycles;Tu.floydWarshall;Tu.isAcyclic;Tu.postorder;Tu.preorder;Tu.prim;Tu.tarjan;Tu.topsort;var mS={Graph:h6.Graph,json:hN,alg:Tu,version:h6.version};mS.Graph;mS.json;mS.alg;mS.version;let YD=mS;!YD&&typeof window!="undefined"&&(YD=window.graphlib);Array.prototype.flat||(Array.prototype.flat=function(r){let t=r||1;if(!isFinite(t))return;const e=this.length;let n=[];if(this.length===0)return this;for(;t--;){const i=[];let a=!1;if(n.length===0){a=!0;for(let o=0;o<e;o++)this[o]instanceof Array?n.push(...this[o]):n.push(this[o])}else{for(let o=0;o<n.length;o++)n[o]instanceof Array?(a=!0,i.push(...n[o])):i.push(n[o]);n=i}if(!a&&t===1/0)break}return n});var Hd=YD;const v6=r=>{r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev},VOe=(r,t)=>{if(r!=="_next"&&r!=="_prev")return t};class WOe{constructor(){const t={};t._next=t._prev=t,this.isentinel=t}dequeue(){const t=this.isentinel,e=t._prev;if(e!==t)return v6(e),e}enqueue(){const t=this.isentinel,e=t._prev;if(e!==t)return v6(e),e}toString(){const t=[],e=this.isentinel;let n=e._prev;for(;n!==e;)t.push(JSON.stringify(n,VOe)),n=n._prev;return`[${t.join(", ")}]`}}const jOe=Hd.Graph,YOe=()=>1,XOe=(r,t)=>{var e;if(r.nodeCount()<=1)return[];const n=KOe(r,t||YOe);return(e=qOe(n.graph,n.buckets,n.zeroIdx).map(a=>r.outEdges(a.v,a.w)))===null||e===void 0?void 0:e.flat()},qOe=(r,t,e)=>{let n=[];const i=t[t.length-1],a=t[0];let o;for(;r.nodeCount();){for(;o=a.dequeue();)JI(r,t,e,o);for(;o=i.dequeue();)JI(r,t,e,o);if(r.nodeCount()){for(let s=t.length-2;s>0;--s)if(o=t[s].dequeue(),o){n=n.concat(JI(r,t,e,o,!0));break}}}return n},JI=(r,t,e,n,i)=>{var a,o;const s=i?[]:void 0;return(a=r.inEdges(n.v))===null||a===void 0||a.forEach(l=>{const u=r.edge(l),c=r.node(l.v);i&&s.push({v:l.v,w:l.w}),c.out===void 0&&(c.out=0),c.out-=u,XD(t,e,c)}),(o=r.outEdges(n.v))===null||o===void 0||o.forEach(l=>{const u=r.edge(l),c=l.w,f=r.node(c);f.in===void 0&&(f.in=0),f.in-=u,XD(t,e,f)}),r.removeNode(n.v),s},KOe=(r,t)=>{const e=new jOe;let n=0,i=0;r.nodes().forEach(l=>{e.setNode(l,{v:l,in:0,out:0})}),r.edges().forEach(l=>{const u=e.edge(l.v,l.w)||0,c=t==null?void 0:t(l),f=u+c;e.setEdge(l.v,l.w,f),i=Math.max(i,e.node(l.v).out+=c),n=Math.max(n,e.node(l.w).in+=c)});const a=[],o=i+n+3;for(let l=0;l<o;l++)a.push(new WOe);const s=n+1;return e.nodes().forEach(l=>{XD(a,s,e.node(l))}),{buckets:a,zeroIdx:s,graph:e}},XD=(r,t,e)=>{e.out?e.in?r[e.out-e.in+t].enqueue(e):r[r.length-1].enqueue(e):r[0].enqueue(e)},ZOe=r=>{const t=n=>i=>n.edge(i).weight,e=r.graph().acyclicer==="greedy"?XOe(r,t(r)):QOe(r);e==null||e.forEach(n=>{const i=r.edge(n);r.removeEdge(n),i.forwardName=n.name,i.reversed=!0,r.setEdge(n.w,n.v,i,`rev-${Math.random()}`)})},QOe=r=>{const t=[],e={},n={},i=a=>{var o;n.hasOwnProperty(a)||(n[a]=!0,e[a]=!0,(o=r.outEdges(a))===null||o===void 0||o.forEach(s=>{e.hasOwnProperty(s.w)?t.push(s):i(s.w)}),delete e[a])};return r.nodes().forEach(i),t},JOe=r=>{r.edges().forEach(t=>{const e=r.edge(t);if(e.reversed){r.removeEdge(t);const n=e.forwardName;delete e.reversed,delete e.forwardName,r.setEdge(t.w,t.v,e,n)}})};var p6={run:ZOe,undo:JOe};const CJ=Hd.Graph,EJ=(r,t,e,n)=>{let i;do i=`${n}${Math.random()}`;while(r.hasNode(i));return e.dummy=t,r.setNode(i,e),i},_J=r=>{const t=new CJ().setGraph(r.graph());return r.nodes().forEach(e=>{t.setNode(e,r.node(e))}),r.edges().forEach(e=>{const n=t.edge(e.v,e.w)||{weight:0,minlen:1},i=r.edge(e);t.setEdge(e.v,e.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),t},eLe=r=>{const t=new CJ({multigraph:r.isMultigraph()}).setGraph(r.graph());return r.nodes().forEach(e=>{var n;((n=r.children(e))===null||n===void 0?void 0:n.length)||t.setNode(e,r.node(e))}),r.edges().forEach(e=>t.setEdge(e,r.edge(e))),t},NA=(r,t)=>{const e={};return r==null||r.forEach((n,i)=>{e[n]=t[i]}),e},tLe=r=>{const t=r.nodes().map(e=>{var n;const i={};return(n=r.outEdges(e))===null||n===void 0||n.forEach(a=>{i[a.w]=(i[a.w]||0)+r.edge(a).weight}),i});return NA(r.nodes(),t)},rLe=r=>{const t=r.nodes().map(e=>{var n;const i={};return(n=r.inEdges(e))===null||n===void 0||n.forEach(a=>{i[a.v]=(i[a.v]||0)+r.edge(a).weight}),i});return NA(r.nodes(),t)},nLe=(r,t)=>{const e=r.x,n=r.y,i=t.x-e,a=t.y-n;let o=r.width/2,s=r.height/2;if(!i&&!a)return{x:0,y:0};let l,u;return Math.abs(a)*o>Math.abs(i)*s?(a<0&&(s=-s),l=s*i/a,u=s):(i<0&&(o=-o),l=o,u=o*a/i),{x:e+l,y:n+u}},iLe=r=>{const t=[],e=[],n=kJ(r)+1;for(let i=0;i<n;i++)t.push([]),e.push([]);return r.nodes().forEach(i=>{const o=r.node(i).rank;o!==void 0&&t[o]&&e[o].push(i)}),e==null||e.forEach((i,a)=>{i==null||i.sort((o,s)=>{var l,u;return((l=r.node(o))===null||l===void 0?void 0:l.order)-((u=r.node(s))===null||u===void 0?void 0:u.order)}),i.forEach(o=>{t[a].push(o)})}),t},TJ=r=>{const t=r.nodes().filter(n=>r.node(n).rank!==void 0).map(n=>r.node(n).rank),e=Math.min(...t);r.nodes().forEach(n=>{const i=r.node(n);i.hasOwnProperty("rank")&&(i.rank||(i.rank=0),i.rank-=e)})},AJ=r=>{const t=r.nodes().filter(o=>r.node(o).rank!==void 0).map(o=>r.node(o).rank),e=Math.min(...t),n=[];r.nodes().forEach(o=>{var s;const l=(((s=r.node(o))===null||s===void 0?void 0:s.rank)||0)-e;n[l]||(n[l]=[]),n[l].push(o)});let i=0;const a=r.graph().nodeRankFactor||0;for(let o=0;o<n.length;o++){const s=n[o];s===void 0&&o%a!==0?--i:i&&(s==null||s.forEach(l=>{r.node(l).rank||(r.node(l).rank=0),r.node(l).rank+=i}))}},aLe=(r,t,e,n)=>{const i={width:0,height:0};return xr(e)&&xr(n)&&(i.rank=e,i.order=n),EJ(r,"border",i,t)},kJ=r=>{const t=r.nodes().map(e=>{const n=r.node(e).rank;return n!==void 0?n:-1/0});return Math.max(...t)},oLe=(r,t)=>{const e={lhs:[],rhs:[]};return r==null||r.forEach(n=>{t(n)?e.lhs.push(n):e.rhs.push(n)}),e},MJ=(r,t)=>{const e=Date.now();try{return t()}finally{console.log(`${r} time: ${Date.now()-e}ms`)}},IJ=(r,t)=>t(),vN=(r,t)=>{let e=1/0,n;return r==null||r.forEach(i=>{const a=t(i);e>a&&(e=a,n=i)}),n};var eo={addDummyNode:EJ,simplify:_J,asNonCompoundGraph:eLe,successorWeights:tLe,predecessorWeights:rLe,intersectRect:nLe,buildLayerMatrix:iLe,normalizeRanks:TJ,removeEmptyRanks:AJ,addBorderNode:aLe,maxRank:kJ,partition:oLe,time:MJ,notime:IJ,zipObject:NA,minBy:vN};const sLe=r=>{r.graph().dummyChains=[],r.edges().forEach(t=>lLe(r,t))},lLe=(r,t)=>{var e,n;let i=t.v,a=r.node(i).rank;const o=t.w,s=r.node(o).rank,l=t.name,u=r.edge(t),c=u.labelRank;if(s===a+1)return;r.removeEdge(t);let f,d,h;for(h=0,++a;a<s;++h,++a)u.points=[],d={edgeLabel:u,width:0,height:0,edgeObj:t,rank:a},f=eo.addDummyNode(r,"edge",d,"_d"),a===c&&(d.width=u.width,d.height=u.height,d.dummy="edge-label",d.labelpos=u.labelpos),r.setEdge(i,f,{weight:u.weight},l),h===0&&(r.graph().dummyChains||(r.graph().dummyChains=[]),(n=(e=r.graph())===null||e===void 0?void 0:e.dummyChains)===null||n===void 0||n.push(f)),i=f;r.setEdge(i,o,{weight:u.weight},l)},uLe=r=>{var t;(t=r.graph().dummyChains)===null||t===void 0||t.forEach(e=>{var n;let i=r.node(e);const a=i.edgeLabel;let o;i.edgeObj&&r.setEdge(i.edgeObj,a);let s=e;for(;i.dummy;)o=(n=r.successors(s))===null||n===void 0?void 0:n[0],r.removeNode(s),a.points.push({x:i.x,y:i.y}),i.dummy==="edge-label"&&(a.x=i.x,a.y=i.y,a.width=i.width,a.height=i.height),s=o,i=r.node(s)})};var g6={run:sLe,undo:uLe};const PJ=r=>{var t;const e={},n=i=>{var a;const o=r.node(i);if(e.hasOwnProperty(i))return o.rank;e[i]=!0;const s=(a=r.outEdges(i))===null||a===void 0?void 0:a.map(u=>n(u.w)-r.edge(u).minlen||1/0);let l=Math.min(...s);return(l===Number.POSITIVE_INFINITY||l===void 0||l===null)&&(l=0),o.rank=l,l};(t=r.sources())===null||t===void 0||t.forEach(i=>n(i))},cLe=r=>{var t;const e={};let n=0;const i=o=>{var s;const l=r.node(o);if(e.hasOwnProperty(o))return l.rank;e[o]=!0;const u=(s=r.outEdges(o))===null||s===void 0?void 0:s.map(f=>i(f.w)-r.edge(f).minlen||1/0);let c=Math.min(...u);return(c===Number.POSITIVE_INFINITY||c===void 0||c===null)&&(c=0),l.rank=c,n=Math.min(l.rank,n),l.rank};(t=r.sources())===null||t===void 0||t.forEach(o=>i(o)),n+=1;const a=(o,s)=>{var l;const u=r.node(o),c=isNaN(u.layer)?s:u.layer;(u.rank===void 0||u.rank<c)&&(u.rank=c),(l=r.outEdges(o))===null||l===void 0||l.map(f=>{a(f.w,c+r.edge(f).minlen)})};r.nodes().forEach(o=>{const s=r.node(o);isNaN(s.layer)?s.rank-=n:a(o,s.layer)})},yv=(r,t)=>r.node(t.w).rank-r.node(t.v).rank-r.edge(t).minlen,RJ=Hd.Graph,fLe=r=>{const t=new RJ({directed:!1}),e=r.nodes()[0],n=r.nodeCount();t.setNode(e,{});let i,a;for(;dLe(t,r)<n;)i=DJ(t,r),a=t.hasNode(i.v)?yv(r,i):-yv(r,i),OJ(t,r,a);return t},dLe=(r,t)=>{const e=n=>{t.nodeEdges(n).forEach(i=>{const a=i.v,o=n===a?i.w:a;!r.hasNode(o)&&!yv(t,i)&&(r.setNode(o,{}),r.setEdge(n,o,{}),e(o))})};return r.nodes().forEach(e),r.nodeCount()},hLe=r=>{const t=new RJ({directed:!1}),e=r.nodes()[0],n=r.nodeCount();t.setNode(e,{});let i,a;for(;vLe(t,r)<n;)i=DJ(t,r),a=t.hasNode(i.v)?yv(r,i):-yv(r,i),OJ(t,r,a);return t},vLe=(r,t)=>{const e=n=>{var i;(i=t.nodeEdges(n))===null||i===void 0||i.forEach(a=>{const o=a.v,s=n===o?a.w:o;!r.hasNode(s)&&(t.node(s).layer!==void 0||!yv(t,a))&&(r.setNode(s,{}),r.setEdge(n,s,{}),e(s))})};return r.nodes().forEach(e),r.nodeCount()},DJ=(r,t)=>vN(t.edges(),e=>r.hasNode(e.v)!==r.hasNode(e.w)?yv(t,e):1/0),OJ=(r,t,e)=>{r.nodes().forEach(n=>{t.node(n).rank||(t.node(n).rank=0),t.node(n).rank+=e})},pLe=Hd.alg,{preorder:gLe,postorder:mLe}=pLe,Kg=r=>{r=_J(r),PJ(r);const t=fLe(r);gN(t),pN(t,r);let e,n;for(;e=NJ(t);)n=BJ(t,r,e),zJ(t,r,e,n)},pN=(r,t)=>{let e=mLe(r,r.nodes());e=e==null?void 0:e.slice(0,(e==null?void 0:e.length)-1),e==null||e.forEach(n=>{yLe(r,t,n)})},yLe=(r,t,e)=>{const i=r.node(e).parent;r.edge(e,i).cutvalue=LJ(r,t,e)},LJ=(r,t,e)=>{var n;const a=r.node(e).parent;let o=!0,s=t.edge(e,a),l=0;return s||(o=!1,s=t.edge(a,e)),l=s.weight,(n=t.nodeEdges(e))===null||n===void 0||n.forEach(u=>{const c=u.v===e,f=c?u.w:u.v;if(f!==a){const d=c===o,h=t.edge(u).weight;if(l+=d?h:-h,xLe(r,e,f)){const v=r.edge(e,f).cutvalue;l+=d?-v:v}}}),l},gN=(r,t)=>{t!==void 0&&(t=r.nodes()[0]),FJ(r,{},1,t)},FJ=(r,t,e,n,i)=>{var a;const o=e;let s=e;const l=r.node(n);return t[n]=!0,(a=r.neighbors(n))===null||a===void 0||a.forEach(u=>{t.hasOwnProperty(u)||(s=FJ(r,t,s,u,n))}),l.low=o,l.lim=s++,i?l.parent=i:delete l.parent,s},NJ=r=>r.edges().find(t=>r.edge(t).cutvalue<0),BJ=(r,t,e)=>{let n=e.v,i=e.w;t.hasEdge(n,i)||(n=e.w,i=e.v);const a=r.node(n),o=r.node(i);let s=a,l=!1;a.lim>o.lim&&(s=o,l=!0);const u=t.edges().filter(c=>l===m6(r,r.node(c.v),s)&&l!==m6(r,r.node(c.w),s));return vN(u,c=>yv(t,c))},zJ=(r,t,e,n)=>{const i=e.v,a=e.w;r.removeEdge(i,a),r.setEdge(n.v,n.w,{}),gN(r),pN(r,t),bLe(r,t)},bLe=(r,t)=>{const e=r.nodes().find(i=>!t.node(i).parent);let n=gLe(r,e);n=n==null?void 0:n.slice(1),n==null||n.forEach(i=>{const a=r.node(i).parent;let o=t.edge(i,a),s=!1;o||(o=t.edge(a,i),s=!0),t.node(i).rank=t.node(a).rank+(s?o.minlen:-o.minlen)})},xLe=(r,t,e)=>r.hasEdge(t,e),m6=(r,t,e)=>e.low<=t.lim&&t.lim<=e.lim;Kg.initLowLimValues=gN;Kg.initCutValues=pN;Kg.calcCutValue=LJ;Kg.leaveEdge=NJ;Kg.enterEdge=BJ;Kg.exchangeEdges=zJ;const wLe=r=>{switch(r.graph().ranker){case"network-simplex":CLe(r);break;case"tight-tree":y6(r);break;case"longest-path":SLe(r);break;default:y6(r)}},SLe=PJ,y6=r=>{cLe(r),hLe(r)},CLe=r=>{Kg(r)},ELe=r=>{var t;const e=TLe(r);(t=r.graph().dummyChains)===null||t===void 0||t.forEach(n=>{var i,a;let o=r.node(n);const s=o.edgeObj;if(!s)return;const l=_Le(r,e,s.v,s.w),u=l.path,c=l.lca;let f=0,d=u[f],h=!0;for(;n!==s.w;){if(o=r.node(n),h){for(;(d=u[f])!==c&&r.node(d).maxRank<o.rank;)f++;d===c&&(h=!1)}if(!h){for(;f<u.length-1&&((i=r.node(d=u[f+1]))===null||i===void 0?void 0:i.minRank)<=o.rank;)f++;d=u[f]}r.setParent(n,d),n=(a=r.successors(n))===null||a===void 0?void 0:a[0]}})},_Le=(r,t,e,n)=>{const i=[],a=[],o=Math.min(t[e].low,t[n].low),s=Math.max(t[e].lim,t[n].lim);let l,u;l=e;do l=r.parent(l),i.push(l);while(l&&(t[l].low>o||s>t[l].lim));for(u=l,l=n;(l=r.parent(l))!==u;)a.push(l);return{lca:u,path:i.concat(a.reverse())}},TLe=r=>{var t;const e={};let n=0;const i=a=>{var o;const s=n;(o=r.children(a))===null||o===void 0||o.forEach(i),e[a]={low:s,lim:n++}};return(t=r.children())===null||t===void 0||t.forEach(i),e},ALe=r=>{var t;const e=eo.addDummyNode(r,"root",{},"_root"),n=kLe(r),i=Math.max(...Object.values(n))-1,a=2*i+1;r.graph().nestingRoot=e,r.edges().forEach(s=>{r.edge(s).minlen*=a});const o=MLe(r)+1;(t=r.children())===null||t===void 0||t.forEach(s=>{$J(r,e,a,o,i,n,s)}),r.graph().nodeRankFactor=a},$J=(r,t,e,n,i,a,o)=>{const s=r.children(o);if(!(s==null?void 0:s.length)){o!==t&&r.setEdge(t,o,{weight:0,minlen:e});return}const l=eo.addBorderNode(r,"_bt"),u=eo.addBorderNode(r,"_bb"),c=r.node(o);r.setParent(l,o),c.borderTop=l,r.setParent(u,o),c.borderBottom=u,s==null||s.forEach(f=>{$J(r,t,e,n,i,a,f);const d=r.node(f),h=d.borderTop?d.borderTop:f,v=d.borderBottom?d.borderBottom:f,p=d.borderTop?n:2*n,g=h!==v?1:i-a[o]+1;r.setEdge(l,h,{minlen:g,weight:p,nestingEdge:!0}),r.setEdge(v,u,{minlen:g,weight:p,nestingEdge:!0})}),r.parent(o)||r.setEdge(t,l,{weight:0,minlen:i+a[o]})},kLe=r=>{var t;const e={},n=(i,a)=>{const o=r.children(i);o==null||o.forEach(s=>n(s,a+1)),e[i]=a};return(t=r.children())===null||t===void 0||t.forEach(i=>n(i,1)),e},MLe=r=>{let t=0;return r.edges().forEach(e=>{t+=r.edge(e).weight}),t},ILe=r=>{const t=r.graph();t.nestingRoot&&r.removeNode(t.nestingRoot),delete t.nestingRoot,r.edges().forEach(e=>{r.edge(e).nestingEdge&&r.removeEdge(e)})};var b6={run:ALe,cleanup:ILe};const PLe=r=>{var t;const e=n=>{const i=r.children(n),a=r.node(n);if((i==null?void 0:i.length)&&i.forEach(o=>e(o)),a.hasOwnProperty("minRank")){a.borderLeft=[],a.borderRight=[];for(let o=a.minRank,s=a.maxRank+1;o<s;++o)x6(r,"borderLeft","_bl",n,a,o),x6(r,"borderRight","_br",n,a,o)}};(t=r.children())===null||t===void 0||t.forEach(n=>e(n))},x6=(r,t,e,n,i,a)=>{const o={rank:a,width:0,height:0,borderType:t},s=i[t][a-1],l=eo.addDummyNode(r,"border",o,e);i[t][a]=l,r.setParent(l,n),s&&r.setEdge(s,l,{weight:1})},RLe=r=>{var t;const e=(t=r.graph().rankdir)===null||t===void 0?void 0:t.toLowerCase();(e==="lr"||e==="rl")&&GJ(r)},DLe=r=>{var t;const e=(t=r.graph().rankdir)===null||t===void 0?void 0:t.toLowerCase();(e==="bt"||e==="rl")&&OLe(r),(e==="lr"||e==="rl")&&(LLe(r),GJ(r))},GJ=r=>{r.nodes().forEach(t=>{w6(r.node(t))}),r.edges().forEach(t=>{w6(r.edge(t))})},w6=r=>{const t=r.width;r.width=r.height,r.height=t},OLe=r=>{r.nodes().forEach(t=>{eP(r.node(t))}),r.edges().forEach(t=>{var e;const n=r.edge(t);(e=n.points)===null||e===void 0||e.forEach(i=>eP(i)),n.hasOwnProperty("y")&&eP(n)})},eP=r=>{r.y=-r.y},LLe=r=>{r.nodes().forEach(t=>{tP(r.node(t))}),r.edges().forEach(t=>{var e;const n=r.edge(t);(e=n.points)===null||e===void 0||e.forEach(i=>tP(i)),n.hasOwnProperty("x")&&tP(n)})},tP=r=>{const t=r.x;r.x=r.y,r.y=t};var S6={adjust:RLe,undo:DLe};const C6=r=>{const t={},e=r.nodes().filter(c=>{var f;return!((f=r.children(c))===null||f===void 0?void 0:f.length)}),n=e.map(c=>r.node(c).rank),i=Math.max(...n),a=[];for(let c=0;c<i+1;c++)a.push([]);const o=c=>{var f;if(t.hasOwnProperty(c))return;t[c]=!0;const d=r.node(c);isNaN(d.rank)||a[d.rank].push(c),(f=r.successors(c))===null||f===void 0||f.forEach(h=>o(h))},s=e.sort((c,f)=>r.node(c).rank-r.node(f).rank),u=s.filter(c=>r.node(c).fixorder!==void 0).sort((c,f)=>r.node(c).fixorder-r.node(f).fixorder);return u==null||u.forEach(c=>{isNaN(r.node(c).rank)||a[r.node(c).rank].push(c),t[c]=!0}),s==null||s.forEach(o),a},FLe=(r,t,e)=>{const n=NA(e,e.map((c,f)=>f)),a=t.map(c=>{var f;const d=(f=r.outEdges(c))===null||f===void 0?void 0:f.map(h=>({pos:n[h.w]||0,weight:r.edge(h).weight}));return d==null?void 0:d.sort((h,v)=>h.pos-v.pos)}).flat().filter(c=>c!==void 0);let o=1;for(;o<e.length;)o<<=1;const s=2*o-1;o-=1;const l=Array(s).fill(0,0,s);let u=0;return a==null||a.forEach(c=>{let f=c.pos+o;l[f]+=c.weight;let d=0;for(;f>0;)f%2&&(d+=l[f+1]),f=f-1>>1,l[f]+=c.weight;u+=c.weight*d}),u},E6=(r,t)=>{let e=0;for(let n=1;n<(t==null?void 0:t.length);++n)e+=FLe(r,t[n-1],t[n]);return e},NLe=Hd.Graph,BLe=(r,t,e)=>{const n=zLe(r),i=new NLe({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(a=>r.node(a));return r.nodes().forEach(a=>{const o=r.node(a),s=r.parent(a);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(i.setNode(a),i.setParent(a,s||n),r[e](a).forEach(l=>{const u=l.v===a?l.w:l.v,c=i.edge(u,a),f=c!==void 0?c.weight:0;i.setEdge(u,a,{weight:r.edge(l).weight+f})}),o.hasOwnProperty("minRank")&&i.setNode(a,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),i},zLe=r=>{let t;for(;r.hasNode(t=`_root${Math.random()}`););return t},$Le=(r,t,e)=>{const n={};let i;e==null||e.forEach(a=>{let o=r.parent(a),s,l;for(;o;){if(s=r.parent(o),s?(l=n[s],n[s]=o):(l=i,i=o),l&&l!==o){t.setEdge(l,o);return}o=s}})},GLe=(r,t)=>t.map(e=>{const n=r.inEdges(e);if(!(n==null?void 0:n.length))return{v:e};{const i={sum:0,weight:0};return n==null||n.forEach(a=>{const o=r.edge(a),s=r.node(a.v);i.sum+=o.weight*s.order,i.weight+=o.weight}),{v:e,barycenter:i.sum/i.weight,weight:i.weight}}}),ULe=(r,t)=>{var e,n,i;const a={};r==null||r.forEach((s,l)=>{const u=a[s.v]={i:l,indegree:0,in:[],out:[],vs:[s.v]};s.barycenter!==void 0&&(u.barycenter=s.barycenter,u.weight=s.weight)}),(e=t.edges())===null||e===void 0||e.forEach(s=>{const l=a[s.v],u=a[s.w];l!==void 0&&u!==void 0&&(u.indegree++,l.out.push(a[s.w]))});const o=(i=(n=Object.values(a)).filter)===null||i===void 0?void 0:i.call(n,s=>!s.indegree);return HLe(o)},HLe=r=>{var t,e;const n=[],i=l=>u=>{u.merged||(u.barycenter===void 0||l.barycenter===void 0||u.barycenter>=l.barycenter)&&VLe(l,u)},a=l=>u=>{u.in.push(l),--u.indegree===0&&r.push(u)};for(;r==null?void 0:r.length;){const l=r.pop();n.push(l),(t=l.in.reverse())===null||t===void 0||t.forEach(u=>i(l)(u)),(e=l.out)===null||e===void 0||e.forEach(u=>a(l)(u))}const o=n.filter(l=>!l.merged),s=["vs","i","barycenter","weight"];return o.map(l=>{const u={};return s==null||s.forEach(c=>{l[c]!==void 0&&(u[c]=l[c])}),u})},VLe=(r,t)=>{var e;let n=0,i=0;r.weight&&(n+=r.barycenter*r.weight,i+=r.weight),t.weight&&(n+=t.barycenter*t.weight,i+=t.weight),r.vs=(e=t.vs)===null||e===void 0?void 0:e.concat(r.vs),r.barycenter=n/i,r.weight=i,r.i=Math.min(t.i,r.i),t.merged=!0},WLe=(r,t,e)=>{const n=eo.partition(r,f=>f.hasOwnProperty("fixorder")&&!isNaN(f.fixorder)||f.hasOwnProperty("barycenter")),i=n.lhs,a=n.rhs.sort((f,d)=>-f.i- -d.i),o=[];let s=0,l=0,u=0;i==null||i.sort(jLe(!!t,!!e)),u=_6(o,a,u),i==null||i.forEach(f=>{var d;u+=(d=f.vs)===null||d===void 0?void 0:d.length,o.push(f.vs),s+=f.barycenter*f.weight,l+=f.weight,u=_6(o,a,u)});const c={vs:o.flat()};return l&&(c.barycenter=s/l,c.weight=l),c},_6=(r,t,e)=>{let n=e,i;for(;t.length&&(i=t[t.length-1]).i<=n;)t.pop(),r==null||r.push(i.vs),n++;return n},jLe=(r,t)=>(e,n)=>{if(e.fixorder!==void 0&&n.fixorder!==void 0)return e.fixorder-n.fixorder;if(e.barycenter<n.barycenter)return-1;if(e.barycenter>n.barycenter)return 1;if(t&&e.order!==void 0&&n.order!==void 0){if(e.order<n.order)return-1;if(e.order>n.order)return 1}return r?n.i-e.i:e.i-n.i},UJ=(r,t,e,n,i)=>{var a,o,s,l;let u=r.children(t);const c=r.node(t),f=c?c.borderLeft:void 0,d=c?c.borderRight:void 0,h={};f&&(u=u==null?void 0:u.filter(m=>m!==f&&m!==d));const v=GLe(r,u||[]);v==null||v.forEach(m=>{var y;if((y=r.children(m.v))===null||y===void 0?void 0:y.length){const b=UJ(r,m.v,e,n);h[m.v]=b,b.hasOwnProperty("barycenter")&&XLe(m,b)}});const p=ULe(v,e);YLe(p,h),(a=p.filter(m=>{var y;return!!m.vs||((y=m.vs)===null||y===void 0?void 0:y.length)>0}))===null||a===void 0||a.forEach(m=>{const y=r.node(m.vs[0]);m.fixorder=y.fixorder,m.order=y.order});const g=WLe(p,n,i);if(f&&(g.vs=[f,g.vs,d].flat(),(o=r.predecessors(f))===null||o===void 0?void 0:o.length)){const m=r.node(((s=r.predecessors(f))===null||s===void 0?void 0:s[0])||{}),y=r.node(((l=r.predecessors(d))===null||l===void 0?void 0:l[0])||{});g.hasOwnProperty("barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+m.order+y.order)/(g.weight+2),g.weight+=2}return g},YLe=(r,t)=>{r==null||r.forEach(e=>{var n;const i=(n=e.vs)===null||n===void 0?void 0:n.map(a=>t[a]?t[a].vs:a);e.vs=i.flat()})},XLe=(r,t)=>{r.barycenter!==void 0?(r.barycenter=(r.barycenter*r.weight+t.barycenter*t.weight)/(r.weight+t.weight),r.weight+=t.weight):(r.barycenter=t.barycenter,r.weight=t.weight)},qLe=Hd.Graph,KLe=r=>{const t=eo.maxRank(r),e=[],n=[];for(let u=1;u<t+1;u++)e.push(u);for(let u=t-1;u>-1;u--)n.push(u);const i=T6(r,e,"inEdges"),a=T6(r,n,"outEdges");let o=C6(r);rP(r,o);let s=Number.POSITIVE_INFINITY,l;for(let u=0,c=0;c<4;++u,++c){A6(u%2?i:a,u%4>=2),o=eo.buildLayerMatrix(r);const f=E6(r,o);f<s&&(c=0,l=ww(o),s=f)}o=C6(r),rP(r,o);for(let u=0,c=0;c<4;++u,++c){A6(u%2?i:a,u%4>=2,!0),o=eo.buildLayerMatrix(r);const f=E6(r,o);f<s&&(c=0,l=ww(o),s=f)}rP(r,l)},T6=(r,t,e)=>t.map(n=>BLe(r,n,e)),A6=(r,t,e)=>{const n=new qLe;r==null||r.forEach(i=>{var a;const o=i.graph().root,s=UJ(i,o,n,t,e);for(let l=0;l<((a=s.vs)===null||a===void 0?void 0:a.length);l++)i.node(s.vs[l]).order=l;$Le(i,n,s.vs)})},rP=(r,t)=>{t==null||t.forEach(e=>{e==null||e.forEach((n,i)=>{r.node(n).order=i})})},ZLe=Hd.Graph,QLe=(r,t)=>{const e={},n=(i,a)=>{let o=0,s=0;const l=i.length,u=a==null?void 0:a[(a==null?void 0:a.length)-1];return a==null||a.forEach((c,f)=>{var d;const h=eFe(r,c),v=h?r.node(h).order:l;(h||c===u)&&((d=a.slice(s,f+1))===null||d===void 0||d.forEach(p=>{var g;(g=r.predecessors(p))===null||g===void 0||g.forEach(m=>{const y=r.node(m),b=y.order;(b<o||v<b)&&!(y.dummy&&r.node(p).dummy)&&HJ(e,m,p)})}),s=f+1,o=v)}),a};return(t==null?void 0:t.length)&&t.reduce(n),e},JLe=(r,t)=>{const e={},n=(a,o,s,l,u)=>{let c;const f=[];for(let d=o;d<s;d++)f.push(d);f.forEach(d=>{var h;c=a[d],r.node(c).dummy&&((h=r.predecessors(c))===null||h===void 0||h.forEach(v=>{const p=r.node(v);p.dummy&&(p.order<l||p.order>u)&&HJ(e,v,c)}))})},i=(a,o)=>{let s=-1,l,u=0;return o==null||o.forEach((c,f)=>{if(r.node(c).dummy==="border"){const d=r.predecessors(c)||[];d.length&&(l=r.node(d[0]).order,n(o,u,f,s,l),u=f,s=l)}n(o,u,o.length,l,a.length)}),o};return(t==null?void 0:t.length)&&t.reduce(i),e},eFe=(r,t)=>{var e;if(r.node(t).dummy)return(e=r.predecessors(t))===null||e===void 0?void 0:e.find(n=>r.node(n).dummy)},HJ=(r,t,e)=>{let n=t,i=e;if(n>i){const o=n;n=i,i=o}let a=r[n];a||(r[n]=a={}),a[i]=!0},tFe=(r,t,e)=>{let n=t,i=e;if(n>i){const a=t;n=i,i=a}return r[n]&&r[n].hasOwnProperty(i)},rFe=(r,t,e,n)=>{const i={},a={},o={};return t==null||t.forEach(s=>{s==null||s.forEach((l,u)=>{i[l]=l,a[l]=l,o[l]=u})}),t==null||t.forEach(s=>{let l=-1;s==null||s.forEach(u=>{let c=n(u);if(c.length){c=c.sort((d,h)=>o[d]-o[h]);const f=(c.length-1)/2;for(let d=Math.floor(f),h=Math.ceil(f);d<=h;++d){const v=c[d];a[u]===u&&l<o[v]&&!tFe(e,u,v)&&(a[v]=u,a[u]=i[u]=i[v],l=o[v])}}})}),{root:i,align:a}},nFe=(r,t,e,n,i)=>{var a;const o={},s=iFe(r,t,e,i),l=i?"borderLeft":"borderRight",u=(d,h)=>{let v=s.nodes(),p=v.pop();const g={};for(;p;)g[p]?d(p):(g[p]=!0,v.push(p),v=v.concat(h(p))),p=v.pop()},c=d=>{o[d]=(s.inEdges(d)||[]).reduce((h,v)=>Math.max(h,(o[v.v]||0)+s.edge(v)),0)},f=d=>{const h=(s.outEdges(d)||[]).reduce((p,g)=>Math.min(p,(o[g.w]||0)-s.edge(g)),Number.POSITIVE_INFINITY),v=r.node(d);h!==Number.POSITIVE_INFINITY&&v.borderType!==l&&(o[d]=Math.max(o[d],h))};return u(c,s.predecessors.bind(s)),u(f,s.successors.bind(s)),(a=Object.values(n))===null||a===void 0||a.forEach(d=>{o[d]=o[e[d]]}),o},iFe=(r,t,e,n)=>{const i=new ZLe,a=r.graph(),o=lFe(a.nodesep,a.edgesep,n);return t==null||t.forEach(s=>{let l;s==null||s.forEach(u=>{const c=e[u];if(i.setNode(c),l){const f=e[l],d=i.edge(f,c);i.setEdge(f,c,Math.max(o(r,u,l),d||0))}l=u})}),i},aFe=(r,t)=>eo.minBy(Object.values(t),e=>{var n;let i=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;return(n=Object.keys(e))===null||n===void 0||n.forEach(o=>{const s=e[o],l=uFe(r,o)/2;i=Math.max(s+l,i),a=Math.min(s-l,a)}),i-a});function oFe(r,t){const e=Object.values(t),n=Math.min(...e),i=Math.max(...e);["u","d"].forEach(a=>{["l","r"].forEach(o=>{const s=a+o,l=r[s];let u;if(l===t)return;const c=Object.values(l);u=o==="l"?n-Math.min(...c):i-Math.max(...c),u&&(r[s]={},Object.keys(l).forEach(f=>{r[s][f]=l[f]+u}))})})}const sFe=(r,t)=>{const e={};return Object.keys(r.ul).forEach(n=>{if(t)e[n]=r[t.toLowerCase()][n];else{const a=Object.values(r).map(o=>o[n]).sort((o,s)=>o-s);e[n]=(a[1]+a[2])/2}}),e},lFe=(r,t,e)=>(n,i,a)=>{const o=n.node(i),s=n.node(a);let l=0,u;if(l+=o.width/2,o.hasOwnProperty("labelpos"))switch((o.labelpos||"").toLowerCase()){case"l":u=-o.width/2;break;case"r":u=o.width/2;break}if(u&&(l+=e?u:-u),u=0,l+=(o.dummy?t:r)/2,l+=(s.dummy?t:r)/2,l+=s.width/2,s.hasOwnProperty("labelpos"))switch((s.labelpos||"").toLowerCase()){case"l":u=s.width/2;break;case"r":u=-s.width/2;break}return u&&(l+=e?u:-u),u=0,l},uFe=(r,t)=>{var e;return((e=r.node(t))===null||e===void 0?void 0:e.width)||0},cFe=r=>{const t=eo.buildLayerMatrix(r),e=r.graph().ranksep;let n=0;t==null||t.forEach(i=>{const a=i.map(s=>r.node(s).height),o=Math.max(...a);i==null||i.forEach(s=>{r.node(s).y=n+o/2}),n+=o+e})},fFe=r=>{const t=eo.buildLayerMatrix(r),e=Object.assign(QLe(r,t),JLe(r,t)),n={};let i;["u","d"].forEach(o=>{i=o==="u"?t:Object.values(t).reverse(),["l","r"].forEach(s=>{s==="r"&&(i=i.map(f=>Object.values(f).reverse()));const l=(o==="u"?r.predecessors:r.successors).bind(r),u=rFe(r,i,e,l),c=nFe(r,i,u.root,u.align,s==="r");s==="r"&&Object.keys(c).forEach(f=>c[f]=-c[f]),n[o+s]=c})});const a=aFe(r,n);return a&&oFe(n,a),sFe(n,r.graph().align)},dFe=r=>{var t;r=eo.asNonCompoundGraph(r),cFe(r);const e=fFe(r);(t=Object.keys(e))===null||t===void 0||t.forEach(n=>{r.node(n).x=e[n]})},hFe=(r,t)=>{const n=r.nodes().filter(o=>{var s;return!((s=r.children(o))===null||s===void 0?void 0:s.length)}).map(o=>r.node(o).rank),i=Math.max(...n),a=[];for(let o=0;o<i+1;o++)a.push([]);t==null||t.forEach(o=>{const s=r.node(o);!s||s.dummy||isNaN(s.rank)||(s.fixorder=a[s.rank].length,a[s.rank].push(o))})},vFe=Hd.Graph,pFe=(r,t)=>{const e=t&&t.debugTiming?eo.time:eo.notime;e("layout",()=>{t&&!t.keepNodeOrder&&t.prevGraph&&e("  inheritOrder",()=>{mFe(r,t.prevGraph)});const n=e("  buildLayoutGraph",()=>EFe(r));t&&t.edgeLabelSpace===!1||e("  makeSpaceForEdgeLabels",()=>{_Fe(n)});try{e("  runLayout",()=>{gFe(n,e,t)})}catch(i){if(i.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,i);return}throw i}e("  updateInputGraph",()=>{yFe(r,n)})})},gFe=(r,t,e)=>{t("    removeSelfEdges",()=>{OFe(r)}),t("    acyclic",()=>{p6.run(r)}),t("    nestingGraph.run",()=>{b6.run(r)}),t("    rank",()=>{wLe(eo.asNonCompoundGraph(r))}),t("    injectEdgeLabelProxies",()=>{TFe(r)}),t("    removeEmptyRanks",()=>{AJ(r)}),t("    nestingGraph.cleanup",()=>{b6.cleanup(r)}),t("    normalizeRanks",()=>{TJ(r)}),t("    assignRankMinMax",()=>{AFe(r)}),t("    removeEdgeLabelProxies",()=>{kFe(r)}),t("    normalize.run",()=>{g6.run(r)}),t("    parentDummyChains",()=>{ELe(r)}),t("    addBorderSegments",()=>{PLe(r)}),e&&e.keepNodeOrder&&t("    initDataOrder",()=>{hFe(r,e.nodeOrder)}),t("    order",()=>{KLe(r)}),t("    insertSelfEdges",()=>{LFe(r)}),t("    adjustCoordinateSystem",()=>{S6.adjust(r)}),t("    position",()=>{dFe(r)}),t("    positionSelfEdges",()=>{FFe(r)}),t("    removeBorderNodes",()=>{DFe(r)}),t("    normalize.undo",()=>{g6.undo(r)}),t("    fixupEdgeLabelCoords",()=>{PFe(r)}),t("    undoCoordinateSystem",()=>{S6.undo(r)}),t("    translateGraph",()=>{MFe(r)}),t("    assignNodeIntersects",()=>{IFe(r)}),t("    reversePoints",()=>{RFe(r)}),t("    acyclic.undo",()=>{p6.undo(r)})},mFe=(r,t)=>{const e=t._nodes||{};r.nodes().forEach(n=>{const i=r.node(n);e[n]!==void 0?(i.fixorder=e[n]._order,delete e[n]._order):delete i.fixorder})},yFe=(r,t)=>{r.nodes().forEach(e=>{var n;const i=r.node(e),a=t.node(e);i&&(i.x=a.x,i.y=a.y,i._order=a.order,i._rank=a.rank,((n=t.children(e))===null||n===void 0?void 0:n.length)&&(i.width=a.width,i.height=a.height))}),r.edges().forEach(e=>{const n=r.edge(e),i=t.edge(e);n.points=i.points,i.hasOwnProperty("x")&&(n.x=i.x,n.y=i.y)}),r.graph().width=t.graph().width,r.graph().height=t.graph().height},bFe=["nodesep","edgesep","ranksep","marginx","marginy"],xFe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},nP=["acyclicer","ranker","rankdir","align"],wFe=["width","height","layer","fixorder"],k6={width:0,height:0},SFe=["minlen","weight","width","height","labeloffset"],CFe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},iP=["labelpos"],EFe=r=>{const t=new vFe({multigraph:!0,compound:!0}),e=oP(r.graph()),n={};return nP==null||nP.forEach(i=>{e[i]!==void 0&&(n[i]=e[i])}),t.setGraph(Object.assign({},xFe,aP(e,bFe),n)),r.nodes().forEach(i=>{const a=oP(r.node(i)),o=aP(a,wFe);Object.keys(k6).forEach(s=>{o[s]===void 0&&(o[s]=k6[s])}),t.setNode(i,o),t.setParent(i,r.parent(i))}),r.edges().forEach(i=>{const a=oP(r.edge(i)),o={};iP==null||iP.forEach(s=>{a[s]!==void 0&&(o[s]=a[s])}),t.setEdge(i,Object.assign({},CFe,aP(a,SFe),o))}),t},_Fe=r=>{const t=r.graph();t.ranksep||(t.ranksep=0),t.ranksep/=2,r.nodes().forEach(e=>{const n=r.node(e);isNaN(n.layer)||(n.layer?n.layer*=2:n.layer=0)}),r.edges().forEach(e=>{var n;const i=r.edge(e);i.minlen*=2,((n=i.labelpos)===null||n===void 0?void 0:n.toLowerCase())!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?i.width+=i.labeloffset:i.height+=i.labeloffset)})},TFe=r=>{r.edges().forEach(t=>{const e=r.edge(t);if(e.width&&e.height){const n=r.node(t.v),i=r.node(t.w),a={e:t,rank:(i.rank-n.rank)/2+n.rank};eo.addDummyNode(r,"edge-proxy",a,"_ep")}})},AFe=r=>{let t=0;r.nodes().forEach(e=>{const n=r.node(e);n.borderTop&&(n.minRank=r.node(n.borderTop).rank,n.maxRank=r.node(n.borderBottom).rank,t=Math.max(t,n.maxRank||-1/0))}),r.graph().maxRank=t},kFe=r=>{r.nodes().forEach(t=>{const e=r.node(t);e.dummy==="edge-proxy"&&(r.edge(e.e).labelRank=e.rank,r.removeNode(t))})},MFe=r=>{let t=Number.POSITIVE_INFINITY,e=0,n=Number.POSITIVE_INFINITY,i=0;const a=r.graph(),o=a.marginx||0,s=a.marginy||0,l=u=>{if(!u)return;const c=u.x,f=u.y,d=u.width,h=u.height;!isNaN(c)&&!isNaN(d)&&(t=Math.min(t,c-d/2),e=Math.max(e,c+d/2)),!isNaN(f)&&!isNaN(h)&&(n=Math.min(n,f-h/2),i=Math.max(i,f+h/2))};r.nodes().forEach(u=>{l(r.node(u))}),r.edges().forEach(u=>{const c=r.edge(u);c.hasOwnProperty("x")&&l(c)}),t-=o,n-=s,r.nodes().forEach(u=>{const c=r.node(u);c.x-=t,c.y-=n}),r.edges().forEach(u=>{var c;const f=r.edge(u);(c=f.points)===null||c===void 0||c.forEach(d=>{d.x-=t,d.y-=n}),f.hasOwnProperty("x")&&(f.x-=t),f.hasOwnProperty("y")&&(f.y-=n)}),a.width=e-t+o,a.height=i-n+s},IFe=r=>{r.edges().forEach(t=>{const e=r.edge(t),n=r.node(t.v),i=r.node(t.w);let a,o;e.points?(a=e.points[0],o=e.points[e.points.length-1]):(e.points=[],a=i,o=n),e.points.unshift(eo.intersectRect(n,a)),e.points.push(eo.intersectRect(i,o))})},PFe=r=>{r.edges().forEach(t=>{const e=r.edge(t);if(e.hasOwnProperty("x"))switch((e.labelpos==="l"||e.labelpos==="r")&&(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset;break}})},RFe=r=>{r.edges().forEach(t=>{const e=r.edge(t);e.reversed&&e.points.reverse()})},DFe=r=>{r.nodes().forEach(t=>{var e,n,i;if((e=r.children(t))===null||e===void 0?void 0:e.length){const a=r.node(t),o=r.node(a.borderTop),s=r.node(a.borderBottom),l=r.node(a.borderLeft[((n=a.borderLeft)===null||n===void 0?void 0:n.length)-1]),u=r.node(a.borderRight[((i=a.borderRight)===null||i===void 0?void 0:i.length)-1]);a.width=Math.abs((u==null?void 0:u.x)-(l==null?void 0:l.x))||10,a.height=Math.abs((s==null?void 0:s.y)-(o==null?void 0:o.y))||10,a.x=((l==null?void 0:l.x)||0)+a.width/2,a.y=((o==null?void 0:o.y)||0)+a.height/2}}),r.nodes().forEach(t=>{r.node(t).dummy==="border"&&r.removeNode(t)})},OFe=r=>{r.edges().forEach(t=>{if(t.v===t.w){const e=r.node(t.v);e.selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:t,label:r.edge(t)}),r.removeEdge(t)}})},LFe=r=>{const t=eo.buildLayerMatrix(r);t==null||t.forEach(e=>{let n=0;e==null||e.forEach((i,a)=>{var o;const s=r.node(i);s.order=a+n,(o=s.selfEdges)===null||o===void 0||o.forEach(l=>{eo.addDummyNode(r,"selfedge",{width:l.label.width,height:l.label.height,rank:s.rank,order:a+ ++n,e:l.e,label:l.label},"_se")}),delete s.selfEdges})})},FFe=r=>{r.nodes().forEach(t=>{const e=r.node(t);if(e.dummy==="selfedge"){const n=r.node(e.e.v),i=n.x+n.width/2,a=n.y,o=e.x-i,s=n.height/2;r.setEdge(e.e,e.label),r.removeNode(t),e.label.points=[{x:i+2*o/3,y:a-s},{x:i+5*o/6,y:a-s},{y:a,x:i+o},{x:i+5*o/6,y:a+s},{x:i+2*o/3,y:a+s}],e.label.x=e.x,e.label.y=e.y}})},aP=(r,t)=>{const e={};return t==null||t.forEach(n=>{r[n]!==void 0&&(e[n]=+r[n])}),e},oP=r=>{const t={};return Object.keys(r).forEach(e=>{const n=r[e];t[e.toLowerCase()]=n}),t};var sP={graphlib:Hd,layout:pFe,util:{time:MJ,notime:IJ}};class mN extends Cs{constructor(t){super();this.rankdir="TB",this.nodesep=50,this.ranksep=50,this.controlPoints=!1,this.sortByCombo=!1,this.edgeLabelSpace=!0,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.layoutNode=e=>{const n=this,{nodes:i}=n,a=i.find(o=>o.id===e);return a?a.layout!==!1:!0},this.updateCfg(t)}getDefaultCfg(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}}execute(){const t=this,{nodes:e,nodeSize:n,rankdir:i,combos:a,begin:o}=t;if(!e)return;const s=t.edges||[],l=new sP.graphlib.Graph({multigraph:!0,compound:!0});let u;n?ls(n)?u=()=>n:u=()=>[n,n]:u=p=>p.size?ls(p.size)?p.size:ff(p.size)?[p.size.width||40,p.size.height||40]:[p.size,p.size]:[40,40];let c=DE(t.nodesepFunc,t.nodesep,50),f=DE(t.ranksepFunc,t.ranksep,50);(i==="LR"||i==="RL")&&(c=DE(t.ranksepFunc,t.ranksep,50),f=DE(t.nodesepFunc,t.nodesep,50)),l.setDefaultEdgeLabel(()=>({})),l.setGraph(t);const d={};e.filter(p=>p.layout!==!1).forEach(p=>{const g=u(p),m=f(p),y=c(p),b=g[0]+2*y,w=g[1]+2*m,S=p.layer;xr(S)?l.setNode(p.id,{width:b,height:w,layer:S}):l.setNode(p.id,{width:b,height:w}),this.sortByCombo&&p.comboId&&(d[p.comboId]||(d[p.comboId]=!0,l.setNode(p.comboId,{})),l.setParent(p.id,p.comboId))}),this.sortByCombo&&a&&a.forEach(p=>{!p.parentId||(d[p.parentId]||(d[p.parentId]=!0,l.setNode(p.parentId,{})),l.setParent(p.id,p.parentId))}),s.forEach(p=>{const g=ri(p,"source"),m=ri(p,"target");this.layoutNode(g)&&this.layoutNode(m)&&l.setEdge(g,m,{weight:p.weight||1})});let h;t.preset&&(h=new sP.graphlib.Graph({multigraph:!0,compound:!0}),t.preset.nodes.forEach(p=>{h==null||h.setNode(p.id,p)})),sP.layout(l,{prevGraph:h,edgeLabelSpace:t.edgeLabelSpace,keepNodeOrder:Boolean(!!t.nodeOrder),nodeOrder:t.nodeOrder});const v=[0,0];if(o){let p=1/0,g=1/0;l.nodes().forEach(m=>{const y=l.node(m);p>y.x&&(p=y.x),g>y.y&&(g=y.y)}),l.edges().forEach(m=>{l.edge(m).points.forEach(b=>{p>b.x&&(p=b.x),g>b.y&&(g=b.y)})}),v[0]=o[0]-p,v[1]=o[1]-g}return l.nodes().forEach(p=>{const g=l.node(p),m=e.findIndex(y=>y.id===p);!e[m]||(e[m].x=g.x+v[0],e[m].y=g.y+v[1],e[m]._order=g._order)}),l.edges().forEach(p=>{const g=l.edge(p),m=s.findIndex(y=>{const b=ri(y,"source"),w=ri(y,"target");return b===p.v&&w===p.w});t.edgeLabelSpace&&t.controlPoints&&s[m].type!=="loop"&&(s[m].controlPoints=g.points.slice(1,g.points.length-1),s[m].controlPoints.forEach(y=>{y.x+=v[0],y.y+=v[1]}))}),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:s}}getType(){return"dagre"}}function DE(r,t,e){let n;return r?n=r:xr(t)?n=()=>t:n=()=>e,n}const NFe=Object.prototype.toString;function Rl(r){return NFe.call(r).endsWith("Array]")}function BFe(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Rl(r))throw new TypeError("input must be an array");if(r.length===0)throw new TypeError("input must not be empty");var e=t.fromIndex,n=e===void 0?0:e,i=t.toIndex,a=i===void 0?r.length:i;if(n<0||n>=r.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=n||a>r.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=r[n],s=n+1;s<a;s++)r[s]>o&&(o=r[s]);return o}function zFe(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Rl(r))throw new TypeError("input must be an array");if(r.length===0)throw new TypeError("input must not be empty");var e=t.fromIndex,n=e===void 0?0:e,i=t.toIndex,a=i===void 0?r.length:i;if(n<0||n>=r.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=n||a>r.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=r[n],s=n+1;s<a;s++)r[s]<o&&(o=r[s]);return o}function M6(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Rl(r)){if(r.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var e;if(t.output!==void 0){if(!Rl(t.output))throw new TypeError("output option must be an array if specified");e=t.output}else e=new Array(r.length);var n=zFe(r),i=BFe(r);if(n===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=t.min,o=a===void 0?t.autoMinMax?n:0:a,s=t.max,l=s===void 0?t.autoMinMax?i:1:s;if(o>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-o)/(i-n),c=0;c<r.length;c++)e[c]=(r[c]-n)*u+o;return e}const OE=" ".repeat(2),VJ=" ".repeat(4);function $Fe(){return WJ(this)}function WJ(r,t={}){const{maxRows:e=15,maxColumns:n=10,maxNumSize:i=8}=t;return`${r.constructor.name} {
${OE}[
${VJ}${GFe(r,e,n,i)}
${OE}]
${OE}rows: ${r.rows}
${OE}columns: ${r.columns}
}`}function GFe(r,t,e,n){const{rows:i,columns:a}=r,o=Math.min(i,t),s=Math.min(a,e),l=[];for(let u=0;u<o;u++){let c=[];for(let f=0;f<s;f++)c.push(UFe(r.get(u,f),n));l.push(`${c.join(" ")}`)}return s!==a&&(l[l.length-1]+=` ... ${a-e} more columns`),o!==i&&l.push(`... ${i-t} more rows`),l.join(`
${VJ}`)}function UFe(r,t){const e=String(r);if(e.length<=t)return e.padEnd(t," ");const n=r.toPrecision(t-2);if(n.length<=t)return n;const i=r.toExponential(t-2),a=i.indexOf("e"),o=i.slice(a);return i.slice(0,t-o.length)+o}function HFe(r,t){r.prototype.add=function(n){return typeof n=="number"?this.addS(n):this.addM(n)},r.prototype.addS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)+n);return this},r.prototype.addM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)+n.get(i,a));return this},r.add=function(n,i){return new t(n).add(i)},r.prototype.sub=function(n){return typeof n=="number"?this.subS(n):this.subM(n)},r.prototype.subS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)-n);return this},r.prototype.subM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)-n.get(i,a));return this},r.sub=function(n,i){return new t(n).sub(i)},r.prototype.subtract=r.prototype.sub,r.prototype.subtractS=r.prototype.subS,r.prototype.subtractM=r.prototype.subM,r.subtract=r.sub,r.prototype.mul=function(n){return typeof n=="number"?this.mulS(n):this.mulM(n)},r.prototype.mulS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)*n);return this},r.prototype.mulM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)*n.get(i,a));return this},r.mul=function(n,i){return new t(n).mul(i)},r.prototype.multiply=r.prototype.mul,r.prototype.multiplyS=r.prototype.mulS,r.prototype.multiplyM=r.prototype.mulM,r.multiply=r.mul,r.prototype.div=function(n){return typeof n=="number"?this.divS(n):this.divM(n)},r.prototype.divS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)/n);return this},r.prototype.divM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)/n.get(i,a));return this},r.div=function(n,i){return new t(n).div(i)},r.prototype.divide=r.prototype.div,r.prototype.divideS=r.prototype.divS,r.prototype.divideM=r.prototype.divM,r.divide=r.div,r.prototype.mod=function(n){return typeof n=="number"?this.modS(n):this.modM(n)},r.prototype.modS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)%n);return this},r.prototype.modM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)%n.get(i,a));return this},r.mod=function(n,i){return new t(n).mod(i)},r.prototype.modulus=r.prototype.mod,r.prototype.modulusS=r.prototype.modS,r.prototype.modulusM=r.prototype.modM,r.modulus=r.mod,r.prototype.and=function(n){return typeof n=="number"?this.andS(n):this.andM(n)},r.prototype.andS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)&n);return this},r.prototype.andM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)&n.get(i,a));return this},r.and=function(n,i){return new t(n).and(i)},r.prototype.or=function(n){return typeof n=="number"?this.orS(n):this.orM(n)},r.prototype.orS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)|n);return this},r.prototype.orM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)|n.get(i,a));return this},r.or=function(n,i){return new t(n).or(i)},r.prototype.xor=function(n){return typeof n=="number"?this.xorS(n):this.xorM(n)},r.prototype.xorS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)^n);return this},r.prototype.xorM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)^n.get(i,a));return this},r.xor=function(n,i){return new t(n).xor(i)},r.prototype.leftShift=function(n){return typeof n=="number"?this.leftShiftS(n):this.leftShiftM(n)},r.prototype.leftShiftS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)<<n);return this},r.prototype.leftShiftM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)<<n.get(i,a));return this},r.leftShift=function(n,i){return new t(n).leftShift(i)},r.prototype.signPropagatingRightShift=function(n){return typeof n=="number"?this.signPropagatingRightShiftS(n):this.signPropagatingRightShiftM(n)},r.prototype.signPropagatingRightShiftS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>n);return this},r.prototype.signPropagatingRightShiftM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>n.get(i,a));return this},r.signPropagatingRightShift=function(n,i){return new t(n).signPropagatingRightShift(i)},r.prototype.rightShift=function(n){return typeof n=="number"?this.rightShiftS(n):this.rightShiftM(n)},r.prototype.rightShiftS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>>n);return this},r.prototype.rightShiftM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>>n.get(i,a));return this},r.rightShift=function(n,i){return new t(n).rightShift(i)},r.prototype.zeroFillRightShift=r.prototype.rightShift,r.prototype.zeroFillRightShiftS=r.prototype.rightShiftS,r.prototype.zeroFillRightShiftM=r.prototype.rightShiftM,r.zeroFillRightShift=r.rightShift,r.prototype.not=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,~this.get(n,i));return this},r.not=function(n){return new t(n).not()},r.prototype.abs=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.abs(this.get(n,i)));return this},r.abs=function(n){return new t(n).abs()},r.prototype.acos=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.acos(this.get(n,i)));return this},r.acos=function(n){return new t(n).acos()},r.prototype.acosh=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.acosh(this.get(n,i)));return this},r.acosh=function(n){return new t(n).acosh()},r.prototype.asin=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.asin(this.get(n,i)));return this},r.asin=function(n){return new t(n).asin()},r.prototype.asinh=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.asinh(this.get(n,i)));return this},r.asinh=function(n){return new t(n).asinh()},r.prototype.atan=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.atan(this.get(n,i)));return this},r.atan=function(n){return new t(n).atan()},r.prototype.atanh=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.atanh(this.get(n,i)));return this},r.atanh=function(n){return new t(n).atanh()},r.prototype.cbrt=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.cbrt(this.get(n,i)));return this},r.cbrt=function(n){return new t(n).cbrt()},r.prototype.ceil=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.ceil(this.get(n,i)));return this},r.ceil=function(n){return new t(n).ceil()},r.prototype.clz32=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.clz32(this.get(n,i)));return this},r.clz32=function(n){return new t(n).clz32()},r.prototype.cos=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.cos(this.get(n,i)));return this},r.cos=function(n){return new t(n).cos()},r.prototype.cosh=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.cosh(this.get(n,i)));return this},r.cosh=function(n){return new t(n).cosh()},r.prototype.exp=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.exp(this.get(n,i)));return this},r.exp=function(n){return new t(n).exp()},r.prototype.expm1=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.expm1(this.get(n,i)));return this},r.expm1=function(n){return new t(n).expm1()},r.prototype.floor=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.floor(this.get(n,i)));return this},r.floor=function(n){return new t(n).floor()},r.prototype.fround=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.fround(this.get(n,i)));return this},r.fround=function(n){return new t(n).fround()},r.prototype.log=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.log(this.get(n,i)));return this},r.log=function(n){return new t(n).log()},r.prototype.log1p=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.log1p(this.get(n,i)));return this},r.log1p=function(n){return new t(n).log1p()},r.prototype.log10=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.log10(this.get(n,i)));return this},r.log10=function(n){return new t(n).log10()},r.prototype.log2=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.log2(this.get(n,i)));return this},r.log2=function(n){return new t(n).log2()},r.prototype.round=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.round(this.get(n,i)));return this},r.round=function(n){return new t(n).round()},r.prototype.sign=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.sign(this.get(n,i)));return this},r.sign=function(n){return new t(n).sign()},r.prototype.sin=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.sin(this.get(n,i)));return this},r.sin=function(n){return new t(n).sin()},r.prototype.sinh=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.sinh(this.get(n,i)));return this},r.sinh=function(n){return new t(n).sinh()},r.prototype.sqrt=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.sqrt(this.get(n,i)));return this},r.sqrt=function(n){return new t(n).sqrt()},r.prototype.tan=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.tan(this.get(n,i)));return this},r.tan=function(n){return new t(n).tan()},r.prototype.tanh=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.tanh(this.get(n,i)));return this},r.tanh=function(n){return new t(n).tanh()},r.prototype.trunc=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.trunc(this.get(n,i)));return this},r.trunc=function(n){return new t(n).trunc()},r.pow=function(n,i){return new t(n).pow(i)},r.prototype.pow=function(n){return typeof n=="number"?this.powS(n):this.powM(n)},r.prototype.powS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,Math.pow(this.get(i,a),n));return this},r.prototype.powM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,Math.pow(this.get(i,a),n.get(i,a)));return this}}function Hu(r,t,e){let n=e?r.rows:r.rows-1;if(t<0||t>n)throw new RangeError("Row index out of range")}function Vu(r,t,e){let n=e?r.columns:r.columns-1;if(t<0||t>n)throw new RangeError("Column index out of range")}function ky(r,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==r.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function My(r,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==r.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function VFe(r,t){if(!Rl(t))throw new TypeError("row indices must be an array");for(let e=0;e<t.length;e++)if(t[e]<0||t[e]>=r.rows)throw new RangeError("row indices are out of range")}function WFe(r,t){if(!Rl(t))throw new TypeError("column indices must be an array");for(let e=0;e<t.length;e++)if(t[e]<0||t[e]>=r.columns)throw new RangeError("column indices are out of range")}function I6(r,t,e,n,i){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(LE("startRow",t),LE("endRow",e),LE("startColumn",n),LE("endColumn",i),t>e||n>i||t<0||t>=r.rows||e<0||e>=r.rows||n<0||n>=r.columns||i<0||i>=r.columns)throw new RangeError("Submatrix indices are out of range")}function BA(r,t=0){let e=[];for(let n=0;n<r;n++)e.push(t);return e}function LE(r,t){if(typeof t!="number")throw new TypeError(`${r} must be a number`)}function ay(r){if(r.isEmpty())throw new Error("Empty matrix has no elements to index")}function jFe(r){let t=BA(r.rows);for(let e=0;e<r.rows;++e)for(let n=0;n<r.columns;++n)t[e]+=r.get(e,n);return t}function YFe(r){let t=BA(r.columns);for(let e=0;e<r.rows;++e)for(let n=0;n<r.columns;++n)t[n]+=r.get(e,n);return t}function XFe(r){let t=0;for(let e=0;e<r.rows;e++)for(let n=0;n<r.columns;n++)t+=r.get(e,n);return t}function qFe(r){let t=BA(r.rows,1);for(let e=0;e<r.rows;++e)for(let n=0;n<r.columns;++n)t[e]*=r.get(e,n);return t}function KFe(r){let t=BA(r.columns,1);for(let e=0;e<r.rows;++e)for(let n=0;n<r.columns;++n)t[n]*=r.get(e,n);return t}function ZFe(r){let t=1;for(let e=0;e<r.rows;e++)for(let n=0;n<r.columns;n++)t*=r.get(e,n);return t}function QFe(r,t,e){const n=r.rows,i=r.columns,a=[];for(let o=0;o<n;o++){let s=0,l=0,u=0;for(let c=0;c<i;c++)u=r.get(o,c)-e[o],s+=u,l+=u*u;t?a.push((l-s*s/i)/(i-1)):a.push((l-s*s/i)/i)}return a}function JFe(r,t,e){const n=r.rows,i=r.columns,a=[];for(let o=0;o<i;o++){let s=0,l=0,u=0;for(let c=0;c<n;c++)u=r.get(c,o)-e[o],s+=u,l+=u*u;t?a.push((l-s*s/n)/(n-1)):a.push((l-s*s/n)/n)}return a}function eNe(r,t,e){const n=r.rows,i=r.columns,a=n*i;let o=0,s=0,l=0;for(let u=0;u<n;u++)for(let c=0;c<i;c++)l=r.get(u,c)-e,o+=l,s+=l*l;return t?(s-o*o/a)/(a-1):(s-o*o/a)/a}function tNe(r,t){for(let e=0;e<r.rows;e++)for(let n=0;n<r.columns;n++)r.set(e,n,r.get(e,n)-t[e])}function rNe(r,t){for(let e=0;e<r.rows;e++)for(let n=0;n<r.columns;n++)r.set(e,n,r.get(e,n)-t[n])}function nNe(r,t){for(let e=0;e<r.rows;e++)for(let n=0;n<r.columns;n++)r.set(e,n,r.get(e,n)-t)}function iNe(r){const t=[];for(let e=0;e<r.rows;e++){let n=0;for(let i=0;i<r.columns;i++)n+=Math.pow(r.get(e,i),2)/(r.columns-1);t.push(Math.sqrt(n))}return t}function aNe(r,t){for(let e=0;e<r.rows;e++)for(let n=0;n<r.columns;n++)r.set(e,n,r.get(e,n)/t[e])}function oNe(r){const t=[];for(let e=0;e<r.columns;e++){let n=0;for(let i=0;i<r.rows;i++)n+=Math.pow(r.get(i,e),2)/(r.rows-1);t.push(Math.sqrt(n))}return t}function sNe(r,t){for(let e=0;e<r.rows;e++)for(let n=0;n<r.columns;n++)r.set(e,n,r.get(e,n)/t[n])}function lNe(r){const t=r.size-1;let e=0;for(let n=0;n<r.columns;n++)for(let i=0;i<r.rows;i++)e+=Math.pow(r.get(i,n),2)/t;return Math.sqrt(e)}function uNe(r,t){for(let e=0;e<r.rows;e++)for(let n=0;n<r.columns;n++)r.set(e,n,r.get(e,n)/t)}class qn{static from1DArray(t,e,n){if(t*e!==n.length)throw new RangeError("data length does not match given dimensions");let a=new nn(t,e);for(let o=0;o<t;o++)for(let s=0;s<e;s++)a.set(o,s,n[o*e+s]);return a}static rowVector(t){let e=new nn(1,t.length);for(let n=0;n<t.length;n++)e.set(0,n,t[n]);return e}static columnVector(t){let e=new nn(t.length,1);for(let n=0;n<t.length;n++)e.set(n,0,t[n]);return e}static zeros(t,e){return new nn(t,e)}static ones(t,e){return new nn(t,e).fill(1)}static rand(t,e,n={}){if(typeof n!="object")throw new TypeError("options must be an object");const{random:i=Math.random}=n;let a=new nn(t,e);for(let o=0;o<t;o++)for(let s=0;s<e;s++)a.set(o,s,i());return a}static randInt(t,e,n={}){if(typeof n!="object")throw new TypeError("options must be an object");const{min:i=0,max:a=1e3,random:o=Math.random}=n;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(i>=a)throw new RangeError("min must be smaller than max");let s=a-i,l=new nn(t,e);for(let u=0;u<t;u++)for(let c=0;c<e;c++){let f=i+Math.round(o()*s);l.set(u,c,f)}return l}static eye(t,e,n){e===void 0&&(e=t),n===void 0&&(n=1);let i=Math.min(t,e),a=this.zeros(t,e);for(let o=0;o<i;o++)a.set(o,o,n);return a}static diag(t,e,n){let i=t.length;e===void 0&&(e=i),n===void 0&&(n=e);let a=Math.min(i,e,n),o=this.zeros(e,n);for(let s=0;s<a;s++)o.set(s,s,t[s]);return o}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,i=t.columns,a=new nn(n,i);for(let o=0;o<n;o++)for(let s=0;s<i;s++)a.set(o,s,Math.min(t.get(o,s),e.get(o,s)));return a}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,i=t.columns,a=new this(n,i);for(let o=0;o<n;o++)for(let s=0;s<i;s++)a.set(o,s,Math.max(t.get(o,s),e.get(o,s)));return a}static checkMatrix(t){return qn.isMatrix(t)?t:new nn(t)}static isMatrix(t){return t!=null&&t.klass==="Matrix"}get size(){return this.rows*this.columns}apply(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.call(this,e,n);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.push(this.get(e,n));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isEchelonForm(){let t=0,e=0,n=-1,i=!0,a=!1;for(;t<this.rows&&i;){for(e=0,a=!1;e<this.columns&&a===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(a=!0,n=e):(i=!1,a=!0);t++}return i}isReducedEchelonForm(){let t=0,e=0,n=-1,i=!0,a=!1;for(;t<this.rows&&i;){for(e=0,a=!1;e<this.columns&&a===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(a=!0,n=e):(i=!1,a=!0);for(let o=e+1;o<this.rows;o++)this.get(t,o)!==0&&(i=!1);t++}return i}echelonForm(){let t=this.clone(),e=0,n=0;for(;e<t.rows&&n<t.columns;){let i=e;for(let a=e;a<t.rows;a++)t.get(a,n)>t.get(i,n)&&(i=a);if(t.get(i,n)===0)n++;else{t.swapRows(e,i);let a=t.get(e,n);for(let o=n;o<t.columns;o++)t.set(e,o,t.get(e,o)/a);for(let o=e+1;o<t.rows;o++){let s=t.get(o,n)/t.get(e,n);t.set(o,n,0);for(let l=n+1;l<t.columns;l++)t.set(o,l,t.get(o,l)-t.get(e,l)*s)}e++,n++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,n=t.rows,i=n-1;for(;i>=0;)if(t.maxRow(i)===0)i--;else{let a=0,o=!1;for(;a<n&&o===!1;)t.get(i,a)===1?o=!0:a++;for(let s=0;s<i;s++){let l=t.get(s,a);for(let u=a;u<e;u++){let c=t.get(s,u)-l*t.get(i,u);t.set(s,u,c)}}i--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{rows:e=1,columns:n=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(n)||n<=0)throw new TypeError("columns must be a positive integer");let i=new nn(this.rows*e,this.columns*n);for(let a=0;a<e;a++)for(let o=0;o<n;o++)i.setSubMatrix(this,this.rows*a,this.columns*o);return i}fill(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,t);return this}neg(){return this.mulS(-1)}getRow(t){Hu(this,t);let e=[];for(let n=0;n<this.columns;n++)e.push(this.get(t,n));return e}getRowVector(t){return nn.rowVector(this.getRow(t))}setRow(t,e){Hu(this,t),e=ky(this,e);for(let n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}swapRows(t,e){Hu(this,t),Hu(this,e);for(let n=0;n<this.columns;n++){let i=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,i)}return this}getColumn(t){Vu(this,t);let e=[];for(let n=0;n<this.rows;n++)e.push(this.get(n,t));return e}getColumnVector(t){return nn.columnVector(this.getColumn(t))}setColumn(t,e){Vu(this,t),e=My(this,e);for(let n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}swapColumns(t,e){Vu(this,t),Vu(this,e);for(let n=0;n<this.rows;n++){let i=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,i)}return this}addRowVector(t){t=ky(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}subRowVector(t){t=ky(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}mulRowVector(t){t=ky(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}divRowVector(t){t=ky(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}addColumnVector(t){t=My(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}subColumnVector(t){t=My(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}mulColumnVector(t){t=My(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}divColumnVector(t){t=My(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}mulRow(t,e){Hu(this,t);for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}mulColumn(t,e){Vu(this,t);for(let n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}max(){if(this.isEmpty())return NaN;let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxIndex(){ay(this);let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)>t&&(t=this.get(n,i),e[0]=n,e[1]=i);return e}min(){if(this.isEmpty())return NaN;let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minIndex(){ay(this);let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)<t&&(t=this.get(n,i),e[0]=n,e[1]=i);return e}maxRow(t){if(Hu(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}maxRowIndex(t){Hu(this,t),ay(this);let e=this.get(t,0),n=[t,0];for(let i=1;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i),n[1]=i);return n}minRow(t){if(Hu(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}minRowIndex(t){Hu(this,t),ay(this);let e=this.get(t,0),n=[t,0];for(let i=1;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i),n[1]=i);return n}maxColumn(t){if(Vu(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}maxColumnIndex(t){Vu(this,t),ay(this);let e=this.get(0,t),n=[0,t];for(let i=1;i<this.rows;i++)this.get(i,t)>e&&(e=this.get(i,t),n[0]=i);return n}minColumn(t){if(Vu(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}minColumnIndex(t){Vu(this,t),ay(this);let e=this.get(0,t),n=[0,t];for(let i=1;i<this.rows;i++)this.get(i,t)<e&&(e=this.get(i,t),n[0]=i);return n}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let n=0;n<t;n++)e.push(this.get(n,n));return e}norm(t="frobenius"){let e=0;if(t==="max")return this.max();if(t==="frobenius"){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)e=e+this.get(n,i)*this.get(n,i);return Math.sqrt(e)}else throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}dot(t){qn.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let n=0;for(let i=0;i<e.length;i++)n+=e[i]*t[i];return n}mmul(t){t=nn.checkMatrix(t);let e=this.rows,n=this.columns,i=t.columns,a=new nn(e,i),o=new Float64Array(n);for(let s=0;s<i;s++){for(let l=0;l<n;l++)o[l]=t.get(l,s);for(let l=0;l<e;l++){let u=0;for(let c=0;c<n;c++)u+=this.get(l,c)*o[c];a.set(l,s,u)}}return a}strassen2x2(t){t=nn.checkMatrix(t);let e=new nn(2,2);const n=this.get(0,0),i=t.get(0,0),a=this.get(0,1),o=t.get(0,1),s=this.get(1,0),l=t.get(1,0),u=this.get(1,1),c=t.get(1,1),f=(n+u)*(i+c),d=(s+u)*i,h=n*(o-c),v=u*(l-i),p=(n+a)*c,g=(s-n)*(i+o),m=(a-u)*(l+c),y=f+v-p+m,b=h+p,w=d+v,S=f-d+h+g;return e.set(0,0,y),e.set(0,1,b),e.set(1,0,w),e.set(1,1,S),e}strassen3x3(t){t=nn.checkMatrix(t);let e=new nn(3,3);const n=this.get(0,0),i=this.get(0,1),a=this.get(0,2),o=this.get(1,0),s=this.get(1,1),l=this.get(1,2),u=this.get(2,0),c=this.get(2,1),f=this.get(2,2),d=t.get(0,0),h=t.get(0,1),v=t.get(0,2),p=t.get(1,0),g=t.get(1,1),m=t.get(1,2),y=t.get(2,0),b=t.get(2,1),w=t.get(2,2),S=(n+i+a-o-s-c-f)*g,E=(n-o)*(-h+g),_=s*(-d+h+p-g-m-y+w),A=(-n+o+s)*(d-h+g),k=(o+s)*(-d+h),T=n*d,I=(-n+u+c)*(d-v+m),D=(-n+u)*(v-m),O=(u+c)*(-d+v),B=(n+i+a-s-l-u-c)*m,U=c*(-d+v+p-g-m-y+b),N=(-a+c+f)*(g+y-b),G=(a-f)*(g-b),L=a*y,F=(c+f)*(-y+b),W=(-a+s+l)*(m+y-w),H=(a-l)*(m-w),K=(s+l)*(-y+w),ie=i*p,ee=l*b,Q=o*v,be=u*h,fe=f*w,he=T+L+ie,Ee=S+A+k+T+N+L+F,He=T+I+O+B+L+W+K,nt=E+_+A+T+L+W+H,st=E+A+k+T+ee,z=L+W+H+K+Q,j=T+I+D+U+N+G+L,X=N+G+L+F+be,ae=T+I+D+O+fe;return e.set(0,0,he),e.set(0,1,Ee),e.set(0,2,He),e.set(1,0,nt),e.set(1,1,st),e.set(1,2,z),e.set(2,0,j),e.set(2,1,X),e.set(2,2,ae),e}mmulStrassen(t){t=nn.checkMatrix(t);let e=this.clone(),n=e.rows,i=e.columns,a=t.rows,o=t.columns;i!==a&&console.warn(`Multiplying ${n} x ${i} and ${a} x ${o} matrix: dimensions do not match.`);function s(f,d,h){let v=f.rows,p=f.columns;if(v===d&&p===h)return f;{let g=qn.zeros(d,h);return g=g.setSubMatrix(f,0,0),g}}let l=Math.max(n,a),u=Math.max(i,o);e=s(e,l,u),t=s(t,l,u);function c(f,d,h,v){if(h<=512||v<=512)return f.mmul(d);h%2===1&&v%2===1?(f=s(f,h+1,v+1),d=s(d,h+1,v+1)):h%2===1?(f=s(f,h+1,v),d=s(d,h+1,v)):v%2===1&&(f=s(f,h,v+1),d=s(d,h,v+1));let p=parseInt(f.rows/2,10),g=parseInt(f.columns/2,10),m=f.subMatrix(0,p-1,0,g-1),y=d.subMatrix(0,p-1,0,g-1),b=f.subMatrix(0,p-1,g,f.columns-1),w=d.subMatrix(0,p-1,g,d.columns-1),S=f.subMatrix(p,f.rows-1,0,g-1),E=d.subMatrix(p,d.rows-1,0,g-1),_=f.subMatrix(p,f.rows-1,g,f.columns-1),A=d.subMatrix(p,d.rows-1,g,d.columns-1),k=c(qn.add(m,_),qn.add(y,A),p,g),T=c(qn.add(S,_),y,p,g),I=c(m,qn.sub(w,A),p,g),D=c(_,qn.sub(E,y),p,g),O=c(qn.add(m,b),A,p,g),B=c(qn.sub(S,m),qn.add(y,w),p,g),U=c(qn.sub(b,_),qn.add(E,A),p,g),N=qn.add(k,D);N.sub(O),N.add(U);let G=qn.add(I,O),L=qn.add(T,D),F=qn.sub(k,T);F.add(I),F.add(B);let W=qn.zeros(2*N.rows,2*N.columns);return W=W.setSubMatrix(N,0,0),W=W.setSubMatrix(G,N.rows,0),W=W.setSubMatrix(L,0,N.columns),W=W.setSubMatrix(F,N.rows,N.columns),W.subMatrix(0,h-1,0,v-1)}return c(e,t,l,u)}scaleRows(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let i=new nn(this.rows,this.columns);for(let a=0;a<this.rows;a++){const o=this.getRow(a);o.length>0&&M6(o,{min:e,max:n,output:o}),i.setRow(a,o)}return i}scaleColumns(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let i=new nn(this.rows,this.columns);for(let a=0;a<this.columns;a++){const o=this.getColumn(a);o.length&&M6(o,{min:e,max:n,output:o}),i.setColumn(a,o)}return i}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let n=0;n<t;n++){let i=this.get(e,n),a=this.get(e,this.columns-1-n);this.set(e,n,a),this.set(e,this.columns-1-n,i)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let n=0;n<t;n++){let i=this.get(n,e),a=this.get(this.rows-1-n,e);this.set(n,e,a),this.set(this.rows-1-n,e,i)}return this}kroneckerProduct(t){t=nn.checkMatrix(t);let e=this.rows,n=this.columns,i=t.rows,a=t.columns,o=new nn(e*i,n*a);for(let s=0;s<e;s++)for(let l=0;l<n;l++)for(let u=0;u<i;u++)for(let c=0;c<a;c++)o.set(i*s+u,a*l+c,this.get(s,l)*t.get(u,c));return o}kroneckerSum(t){if(t=nn.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let e=this.rows,n=t.rows,i=this.kroneckerProduct(nn.eye(n,n)),a=nn.eye(e,e).kroneckerProduct(t);return i.add(a)}transpose(){let t=new nn(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}sortRows(t=P6){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=P6){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,n,i){I6(this,t,e,n,i);let a=new nn(e-t+1,i-n+1);for(let o=t;o<=e;o++)for(let s=n;s<=i;s++)a.set(o-t,s-n,this.get(o,s));return a}subMatrixRow(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");let i=new nn(t.length,n-e+1);for(let a=0;a<t.length;a++)for(let o=e;o<=n;o++){if(t[a]<0||t[a]>=this.rows)throw new RangeError(`Row index out of range: ${t[a]}`);i.set(a,o-e,this.get(t[a],o))}return i}subMatrixColumn(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");let i=new nn(n-e+1,t.length);for(let a=0;a<t.length;a++)for(let o=e;o<=n;o++){if(t[a]<0||t[a]>=this.columns)throw new RangeError(`Column index out of range: ${t[a]}`);i.set(o-e,a,this.get(o,t[a]))}return i}setSubMatrix(t,e,n){if(t=nn.checkMatrix(t),t.isEmpty())return this;let i=e+t.rows-1,a=n+t.columns-1;I6(this,e,i,n,a);for(let o=0;o<t.rows;o++)for(let s=0;s<t.columns;s++)this.set(e+o,n+s,t.get(o,s));return this}selection(t,e){VFe(this,t),WFe(this,e);let n=new nn(t.length,e.length);for(let i=0;i<t.length;i++){let a=t[i];for(let o=0;o<e.length;o++){let s=e[o];n.set(i,o,this.get(a,s))}}return n}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let n=0;n<t;n++)e+=this.get(n,n);return e}clone(){let t=new nn(this.rows,this.columns);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}sum(t){switch(t){case"row":return jFe(this);case"column":return YFe(this);case void 0:return XFe(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return qFe(this);case"column":return KFe(this);case void 0:return ZFe(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":{for(let n=0;n<this.rows;n++)e[n]/=this.columns;return e}case"column":{for(let n=0;n<this.columns;n++)e[n]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,e={}){if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");const{unbiased:n=!0,mean:i=this.mean(t)}=e;if(typeof n!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!Rl(i))throw new TypeError("mean must be an array");return QFe(this,n,i)}case"column":{if(!Rl(i))throw new TypeError("mean must be an array");return JFe(this,n,i)}case void 0:{if(typeof i!="number")throw new TypeError("mean must be a number");return eNe(this,n,i)}default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){typeof t=="object"&&(e=t,t=void 0);const n=this.variance(t,e);if(t===void 0)return Math.sqrt(n);for(let i=0;i<n.length;i++)n[i]=Math.sqrt(n[i]);return n}center(t,e={}){if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");const{center:n=this.mean(t)}=e;switch(t){case"row":{if(!Rl(n))throw new TypeError("center must be an array");return tNe(this,n),this}case"column":{if(!Rl(n))throw new TypeError("center must be an array");return rNe(this,n),this}case void 0:{if(typeof n!="number")throw new TypeError("center must be a number");return nNe(this,n),this}default:throw new Error(`invalid option: ${t}`)}}scale(t,e={}){if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");let n=e.scale;switch(t){case"row":{if(n===void 0)n=iNe(this);else if(!Rl(n))throw new TypeError("scale must be an array");return aNe(this,n),this}case"column":{if(n===void 0)n=oNe(this);else if(!Rl(n))throw new TypeError("scale must be an array");return sNe(this,n),this}case void 0:{if(n===void 0)n=lNe(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return uNe(this,n),this}default:throw new Error(`invalid option: ${t}`)}}toString(t){return WJ(this,t)}}qn.prototype.klass="Matrix";typeof Symbol!="undefined"&&(qn.prototype[Symbol.for("nodejs.util.inspect.custom")]=$Fe);function P6(r,t){return r-t}qn.random=qn.rand;qn.randomInt=qn.randInt;qn.diagonal=qn.diag;qn.prototype.diagonal=qn.prototype.diag;qn.identity=qn.eye;qn.prototype.negate=qn.prototype.neg;qn.prototype.tensorProduct=qn.prototype.kroneckerProduct;class nn extends qn{constructor(t,e){super();if(nn.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>=0)if(this.data=[],Number.isInteger(e)&&e>=0)for(let n=0;n<t;n++)this.data.push(new Float64Array(e));else throw new TypeError("nColumns must be a positive integer");else if(Rl(t)){const n=t;if(t=n.length,e=t?n[0].length:0,typeof e!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let i=0;i<t;i++){if(n[i].length!==e)throw new RangeError("Inconsistent array dimensions");this.data.push(Float64Array.from(n[i]))}}else throw new TypeError("First argument must be a positive number or an array");this.rows=t,this.columns=e}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}removeRow(t){return Hu(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return e===void 0&&(e=t,t=this.rows),Hu(this,t,!0),e=Float64Array.from(ky(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){Vu(this,t);for(let e=0;e<this.rows;e++){const n=new Float64Array(this.columns-1);for(let i=0;i<t;i++)n[i]=this.data[e][i];for(let i=t+1;i<this.columns;i++)n[i-1]=this.data[e][i];this.data[e]=n}return this.columns-=1,this}addColumn(t,e){typeof e=="undefined"&&(e=t,t=this.columns),Vu(this,t,!0),e=My(this,e);for(let n=0;n<this.rows;n++){const i=new Float64Array(this.columns+1);let a=0;for(;a<t;a++)i[a]=this.data[n][a];for(i[a++]=e[n];a<this.columns+1;a++)i[a]=this.data[n][a-1];this.data[n]=i}return this.columns+=1,this}}HFe(qn,nn);class cNe extends qn{constructor(t){super();this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}}function oy(r,t){let e=0;return Math.abs(r)>Math.abs(t)?(e=t/r,Math.abs(r)*Math.sqrt(1+e*e)):t!==0?(e=r/t,Math.abs(t)*Math.sqrt(1+e*e)):0}class jJ{constructor(t,e={}){if(t=cNe.checkMatrix(t),t.isEmpty())throw new Error("Matrix must be non-empty");let n=t.rows,i=t.columns;const{computeLeftSingularVectors:a=!0,computeRightSingularVectors:o=!0,autoTranspose:s=!1}=e;let l=Boolean(a),u=Boolean(o),c=!1,f;if(n<i)if(!s)f=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{f=t.transpose(),n=f.rows,i=f.columns,c=!0;let T=l;l=u,u=T}else f=t.clone();let d=Math.min(n,i),h=Math.min(n+1,i),v=new Float64Array(h),p=new nn(n,d),g=new nn(i,i),m=new Float64Array(i),y=new Float64Array(n),b=new Float64Array(h);for(let T=0;T<h;T++)b[T]=T;let w=Math.min(n-1,i),S=Math.max(0,Math.min(i-2,n)),E=Math.max(w,S);for(let T=0;T<E;T++){if(T<w){v[T]=0;for(let I=T;I<n;I++)v[T]=oy(v[T],f.get(I,T));if(v[T]!==0){f.get(T,T)<0&&(v[T]=-v[T]);for(let I=T;I<n;I++)f.set(I,T,f.get(I,T)/v[T]);f.set(T,T,f.get(T,T)+1)}v[T]=-v[T]}for(let I=T+1;I<i;I++){if(T<w&&v[T]!==0){let D=0;for(let O=T;O<n;O++)D+=f.get(O,T)*f.get(O,I);D=-D/f.get(T,T);for(let O=T;O<n;O++)f.set(O,I,f.get(O,I)+D*f.get(O,T))}m[I]=f.get(T,I)}if(l&&T<w)for(let I=T;I<n;I++)p.set(I,T,f.get(I,T));if(T<S){m[T]=0;for(let I=T+1;I<i;I++)m[T]=oy(m[T],m[I]);if(m[T]!==0){m[T+1]<0&&(m[T]=0-m[T]);for(let I=T+1;I<i;I++)m[I]/=m[T];m[T+1]+=1}if(m[T]=-m[T],T+1<n&&m[T]!==0){for(let I=T+1;I<n;I++)y[I]=0;for(let I=T+1;I<n;I++)for(let D=T+1;D<i;D++)y[I]+=m[D]*f.get(I,D);for(let I=T+1;I<i;I++){let D=-m[I]/m[T+1];for(let O=T+1;O<n;O++)f.set(O,I,f.get(O,I)+D*y[O])}}if(u)for(let I=T+1;I<i;I++)g.set(I,T,m[I])}}let _=Math.min(i,n+1);if(w<i&&(v[w]=f.get(w,w)),n<_&&(v[_-1]=0),S+1<_&&(m[S]=f.get(S,_-1)),m[_-1]=0,l){for(let T=w;T<d;T++){for(let I=0;I<n;I++)p.set(I,T,0);p.set(T,T,1)}for(let T=w-1;T>=0;T--)if(v[T]!==0){for(let I=T+1;I<d;I++){let D=0;for(let O=T;O<n;O++)D+=p.get(O,T)*p.get(O,I);D=-D/p.get(T,T);for(let O=T;O<n;O++)p.set(O,I,p.get(O,I)+D*p.get(O,T))}for(let I=T;I<n;I++)p.set(I,T,-p.get(I,T));p.set(T,T,1+p.get(T,T));for(let I=0;I<T-1;I++)p.set(I,T,0)}else{for(let I=0;I<n;I++)p.set(I,T,0);p.set(T,T,1)}}if(u)for(let T=i-1;T>=0;T--){if(T<S&&m[T]!==0)for(let I=T+1;I<i;I++){let D=0;for(let O=T+1;O<i;O++)D+=g.get(O,T)*g.get(O,I);D=-D/g.get(T+1,T);for(let O=T+1;O<i;O++)g.set(O,I,g.get(O,I)+D*g.get(O,T))}for(let I=0;I<i;I++)g.set(I,T,0);g.set(T,T,1)}let A=_-1,k=Number.EPSILON;for(;_>0;){let T,I;for(T=_-2;T>=-1&&T!==-1;T--){const D=Number.MIN_VALUE+k*Math.abs(v[T]+Math.abs(v[T+1]));if(Math.abs(m[T])<=D||Number.isNaN(m[T])){m[T]=0;break}}if(T===_-2)I=4;else{let D;for(D=_-1;D>=T&&D!==T;D--){let O=(D!==_?Math.abs(m[D]):0)+(D!==T+1?Math.abs(m[D-1]):0);if(Math.abs(v[D])<=k*O){v[D]=0;break}}D===T?I=3:D===_-1?I=1:(I=2,T=D)}switch(T++,I){case 1:{let D=m[_-2];m[_-2]=0;for(let O=_-2;O>=T;O--){let B=oy(v[O],D),U=v[O]/B,N=D/B;if(v[O]=B,O!==T&&(D=-N*m[O-1],m[O-1]=U*m[O-1]),u)for(let G=0;G<i;G++)B=U*g.get(G,O)+N*g.get(G,_-1),g.set(G,_-1,-N*g.get(G,O)+U*g.get(G,_-1)),g.set(G,O,B)}break}case 2:{let D=m[T-1];m[T-1]=0;for(let O=T;O<_;O++){let B=oy(v[O],D),U=v[O]/B,N=D/B;if(v[O]=B,D=-N*m[O],m[O]=U*m[O],l)for(let G=0;G<n;G++)B=U*p.get(G,O)+N*p.get(G,T-1),p.set(G,T-1,-N*p.get(G,O)+U*p.get(G,T-1)),p.set(G,O,B)}break}case 3:{const D=Math.max(Math.abs(v[_-1]),Math.abs(v[_-2]),Math.abs(m[_-2]),Math.abs(v[T]),Math.abs(m[T])),O=v[_-1]/D,B=v[_-2]/D,U=m[_-2]/D,N=v[T]/D,G=m[T]/D,L=((B+O)*(B-O)+U*U)/2,F=O*U*(O*U);let W=0;(L!==0||F!==0)&&(L<0?W=0-Math.sqrt(L*L+F):W=Math.sqrt(L*L+F),W=F/(L+W));let H=(N+O)*(N-O)+W,K=N*G;for(let ie=T;ie<_-1;ie++){let ee=oy(H,K);ee===0&&(ee=Number.MIN_VALUE);let Q=H/ee,be=K/ee;if(ie!==T&&(m[ie-1]=ee),H=Q*v[ie]+be*m[ie],m[ie]=Q*m[ie]-be*v[ie],K=be*v[ie+1],v[ie+1]=Q*v[ie+1],u)for(let fe=0;fe<i;fe++)ee=Q*g.get(fe,ie)+be*g.get(fe,ie+1),g.set(fe,ie+1,-be*g.get(fe,ie)+Q*g.get(fe,ie+1)),g.set(fe,ie,ee);if(ee=oy(H,K),ee===0&&(ee=Number.MIN_VALUE),Q=H/ee,be=K/ee,v[ie]=ee,H=Q*m[ie]+be*v[ie+1],v[ie+1]=-be*m[ie]+Q*v[ie+1],K=be*m[ie+1],m[ie+1]=Q*m[ie+1],l&&ie<n-1)for(let fe=0;fe<n;fe++)ee=Q*p.get(fe,ie)+be*p.get(fe,ie+1),p.set(fe,ie+1,-be*p.get(fe,ie)+Q*p.get(fe,ie+1)),p.set(fe,ie,ee)}m[_-2]=H;break}case 4:{if(v[T]<=0&&(v[T]=v[T]<0?-v[T]:0,u))for(let D=0;D<=A;D++)g.set(D,T,-g.get(D,T));for(;T<A&&!(v[T]>=v[T+1]);){let D=v[T];if(v[T]=v[T+1],v[T+1]=D,u&&T<i-1)for(let O=0;O<i;O++)D=g.get(O,T+1),g.set(O,T+1,g.get(O,T)),g.set(O,T,D);if(l&&T<n-1)for(let O=0;O<n;O++)D=p.get(O,T+1),p.set(O,T+1,p.get(O,T)),p.set(O,T,D);T++}_--;break}}}if(c){let T=g;g=p,p=T}this.m=n,this.n=i,this.s=v,this.U=p,this.V=g}solve(t){let e=t,n=this.threshold,i=this.s.length,a=nn.zeros(i,i);for(let d=0;d<i;d++)Math.abs(this.s[d])<=n?a.set(d,d,0):a.set(d,d,1/this.s[d]);let o=this.U,s=this.rightSingularVectors,l=s.mmul(a),u=s.rows,c=o.rows,f=nn.zeros(u,c);for(let d=0;d<u;d++)for(let h=0;h<c;h++){let v=0;for(let p=0;p<i;p++)v+=l.get(d,p)*o.get(h,p);f.set(d,h,v)}return f.mmul(e)}solveForDiagonal(t){return this.solve(nn.diag(t))}inverse(){let t=this.V,e=this.threshold,n=t.rows,i=t.columns,a=new nn(n,this.s.length);for(let c=0;c<n;c++)for(let f=0;f<i;f++)Math.abs(this.s[f])>e&&a.set(c,f,t.get(c,f)/this.s[f]);let o=this.U,s=o.rows,l=o.columns,u=new nn(n,s);for(let c=0;c<n;c++)for(let f=0;f<s;f++){let d=0;for(let h=0;h<l;h++)d+=a.get(c,h)*o.get(f,h);u.set(c,f,d)}return u}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s;for(let i=0,a=n.length;i<a;i++)n[i]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return nn.diag(this.s)}}class fNe{constructor(t){this.distances=t.distances,this.dimension=t.dimension||2,this.linkDistance=t.linkDistance}layout(){const t=this,{dimension:e,distances:n,linkDistance:i}=t;try{const a=nn.mul(nn.pow(n,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);const u=new jJ(a),c=nn.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(f=>nn.mul([f],[c]).toJSON()[0].splice(0,e))}catch{const o=[];for(let s=0;s<n.length;s++){const l=Math.random()*i,u=Math.random()*i;o.push([l,u])}return o}}}const dNe=800;class hNe{constructor(t){this.disp=[],this.positions=t.positions,this.adjMatrix=t.adjMatrix,this.focusID=t.focusID,this.radii=t.radii,this.iterations=t.iterations||10,this.height=t.height||10,this.width=t.width||10,this.speed=t.speed||100,this.gravity=t.gravity||10,this.nodeSizeFunc=t.nodeSizeFunc,this.k=t.k||5,this.strictRadial=t.strictRadial,this.nodes=t.nodes}layout(){const t=this,e=t.positions,n=[],i=t.iterations,a=t.width/10;t.maxDisplace=a,t.disp=n;for(let o=0;o<i;o++)e.forEach((s,l)=>{n[l]={x:0,y:0}}),t.getRepulsion(),t.updatePositions();return e}getRepulsion(){const t=this,e=t.positions,n=t.nodes,i=t.disp,a=t.k,o=t.radii||[];e.forEach((s,l)=>{i[l]={x:0,y:0},e.forEach((u,c)=>{if(l===c||o[l]!==o[c])return;let f=s[0]-u[0],d=s[1]-u[1],h=Math.sqrt(f*f+d*d);if(h===0){h=1;const v=l>c?1:-1;f=.01*v,d=.01*v}if(h<t.nodeSizeFunc(n[l])/2+t.nodeSizeFunc(n[c])/2){const v=a*a/h;i[l].x+=f/h*v,i[l].y+=d/h*v}})})}updatePositions(){const t=this,e=t.positions,n=t.disp,i=t.speed,a=t.strictRadial,o=t.focusID,s=t.maxDisplace||t.width/10;a&&n.forEach((u,c)=>{const f=e[c][0]-e[o][0],d=e[c][1]-e[o][1],h=Math.sqrt(f*f+d*d);let v=d/h,p=-f/h;const g=Math.sqrt(u.x*u.x+u.y*u.y);let m=Math.acos((v*u.x+p*u.y)/g);m>Math.PI/2&&(m-=Math.PI/2,v*=-1,p*=-1);const y=Math.cos(m)*g;u.x=v*y,u.y=p*y});const l=t.radii;e.forEach((u,c)=>{if(c===o)return;const f=Math.sqrt(n[c].x*n[c].x+n[c].y*n[c].y);if(f>0&&c!==o){const d=Math.min(s*(i/dNe),f);if(u[0]+=n[c].x/f*d,u[1]+=n[c].y/f*d,a){let h=u[0]-e[o][0],v=u[1]-e[o][1];const p=Math.sqrt(h*h+v*v);h=h/p*l[c],v=v/p*l[c],u[0]=e[o][0]+h,u[1]=e[o][1]+v}}})}}function vNe(r){const t=r.length,e=r[0].length,n=[];for(let i=0;i<t;i++){const a=[];for(let o=0;o<e;o++)r[i][o]!==0?a.push(1/(r[i][o]*r[i][o])):a.push(0);n.push(a)}return n}function pNe(r,t){let e=-1;return r.forEach((n,i)=>{n.id===t&&(e=i)}),e}function R6(r,t){return Math.sqrt((r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1]))}class YJ extends Cs{constructor(t){super();this.maxIteration=1e3,this.focusNode=null,this.unitRadius=null,this.linkDistance=50,this.preventOverlap=!1,this.strictRadial=!0,this.maxPreventOverlapIteration=200,this.sortStrength=10,this.nodes=[],this.edges=[],this.updateCfg(t)}getDefaultCfg(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}}execute(){const t=this,e=t.nodes,n=t.edges||[];if(!e||e.length===0){t.onLayoutEnd&&t.onLayoutEnd();return}!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);const i=t.center;if(e.length===1){e[0].x=i[0],e[0].y=i[1],t.onLayoutEnd&&t.onLayoutEnd();return}const a=t.linkDistance;let o=null;if(D1(t.focusNode)){let I=!1;for(let D=0;D<e.length;D++)e[D].id===t.focusNode&&(o=e[D],t.focusNode=o,I=!0,D=e.length);I||(o=null)}else o=t.focusNode;o||(o=e[0],t.focusNode=o);const s=pNe(e,o.id);t.focusIndex=s;const l=eJ({nodes:e,edges:n},!1),u=JQ(l),c=t.maxToFocus(u,s);t.handleInfinity(u,s,c+1),t.distances=u;const f=u[s],d=t.width||500,h=t.height||500;let v=d-i[0]>i[0]?i[0]:d-i[0],p=h-i[1]>i[1]?i[1]:h-i[1];v===0&&(v=d/2),p===0&&(p=h/2);const g=p>v?v:p,m=Math.max(...f),y=[];f.forEach((I,D)=>{t.unitRadius||(t.unitRadius=g/m),y[D]=I*t.unitRadius}),t.radii=y;const b=t.eIdealDisMatrix();t.eIdealDistances=b;const w=vNe(b);t.weights=w;let E=new fNe({linkDistance:a,distances:b}).layout();E.forEach(I=>{UD(I[0])&&(I[0]=Math.random()*a),UD(I[1])&&(I[1]=Math.random()*a)}),t.positions=E,E.forEach((I,D)=>{e[D].x=I[0]+i[0],e[D].y=I[1]+i[1]}),E.forEach(I=>{I[0]-=E[s][0],I[1]-=E[s][1]}),t.run();const _=t.preventOverlap,A=t.nodeSize;let k;const T=t.strictRadial;if(_){const I=t.nodeSpacing;let D;xr(I)?D=()=>I:tv(I)?D=I:D=()=>0,A?ls(A)?k=U=>(A[0]>A[1]?A[0]:A[1])+D(U):k=U=>A+D(U):k=U=>U.size?ls(U.size)?(U.size[0]>U.size[1]?U.size[0]:U.size[1])+D(U):ff(U.size)?(U.size.width>U.size.height?U.size.width:U.size.height)+D(U):U.size+D(U):10+D(U);const O={nodes:e,nodeSizeFunc:k,adjMatrix:l,positions:E,radii:y,height:h,width:d,strictRadial:T,focusID:s,iterations:t.maxPreventOverlapIteration||200,k:E.length/4.5};E=new hNe(O).layout()}return E.forEach((I,D)=>{e[D].x=I[0]+i[0],e[D].y=I[1]+i[1]}),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n}}run(){const t=this,e=t.maxIteration,n=t.positions||[],i=t.weights||[],a=t.eIdealDistances||[],o=t.radii||[];for(let s=0;s<=e;s++){const l=s/e;t.oneIteration(l,n,o,a,i)}}oneIteration(t,e,n,i,a){const o=this,s=1-t,l=o.focusIndex;e.forEach((u,c)=>{const f=R6(u,[0,0]),d=f===0?0:1/f;if(c===l)return;let h=0,v=0,p=0;e.forEach((m,y)=>{if(c===y)return;const b=R6(u,m),w=b===0?0:1/b,S=i[y][c];p+=a[c][y],h+=a[c][y]*(m[0]+S*(u[0]-m[0])*w),v+=a[c][y]*(m[1]+S*(u[1]-m[1])*w)});const g=n[c]===0?0:1/n[c];p*=s,p+=t*g*g,h*=s,h+=t*g*u[0]*d,u[0]=h/p,v*=s,v+=t*g*u[1]*d,u[1]=v/p})}eIdealDisMatrix(){const t=this,e=t.nodes;if(!e)return[];const n=t.distances,i=t.linkDistance,a=t.radii||[],o=t.unitRadius||50,s=[];return n&&n.forEach((l,u)=>{const c=[];l.forEach((f,d)=>{if(u===d)c.push(0);else if(a[u]===a[d])if(t.sortBy==="data")c.push(f*(Math.abs(u-d)*t.sortStrength)/(a[u]/o));else if(t.sortBy){let h=e[u][t.sortBy]||0,v=e[d][t.sortBy]||0;D1(h)&&(h=h.charCodeAt(0)),D1(v)&&(v=v.charCodeAt(0)),c.push(f*(Math.abs(h-v)*t.sortStrength)/(a[u]/o))}else c.push(f*i/(a[u]/o));else{const h=(i+o)/2;c.push(f*h)}}),s.push(c)}),s}handleInfinity(t,e,n){const i=t.length;for(let a=0;a<i;a++)if(t[e][a]===1/0){t[e][a]=n,t[a][e]=n;for(let o=0;o<i;o++)t[a][o]!==1/0&&t[e][o]===1/0&&(t[e][o]=n+t[a][o],t[o][e]=n+t[a][o])}for(let a=0;a<i;a++)if(a!==e){for(let o=0;o<i;o++)if(t[a][o]===1/0){let s=Math.abs(t[e][a]-t[e][o]);s=s===0?1:s,t[a][o]=s}}}maxToFocus(t,e){let n=0;for(let i=0;i<t[e].length;i++)t[e][i]!==1/0&&(n=t[e][i]>n?t[e][i]:n);return n}getType(){return"radial"}}class XJ extends Cs{constructor(t){super();this.nodeSize=30,this.minNodeSpacing=10,this.preventOverlap=!1,this.equidistant=!1,this.startAngle=3/2*Math.PI,this.clockwise=!0,this.sortBy="degree",this.nodes=[],this.edges=[],this.width=300,this.height=300,this.onLayoutEnd=()=>{},this.updateCfg(t)}getDefaultCfg(){return{nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}}execute(){const t=this,e=t.nodes,n=t.edges,i=e.length;if(i===0){t.onLayoutEnd&&t.onLayoutEnd();return}!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);const a=t.center;if(i===1){e[0].x=a[0],e[0].y=a[1],t.onLayoutEnd&&t.onLayoutEnd();return}const o=[];let s;ls(t.nodeSize)?s=Math.max(t.nodeSize[0],t.nodeSize[1]):s=t.nodeSize,e.forEach(v=>{o.push(v);let p=s;ls(v.size)?p=Math.max(v.size[0],v.size[1]):xr(v.size)?p=v.size:ff(v.size)&&(p=Math.max(v.size.width,v.size.height)),s=Math.max(s,p)}),t.clockwise=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise;const l={},u={};if(o.forEach((v,p)=>{l[v.id]=v,u[v.id]=p}),(t.sortBy==="degree"||!D1(t.sortBy)||o[0][t.sortBy]===void 0)&&(t.sortBy="degree",!xr(e[0].degree))){const v=pS(e.length,u,n);o.forEach((p,g)=>{p.degree=v[g]})}o.sort((v,p)=>p[t.sortBy]-v[t.sortBy]),t.maxValueNode=o[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;const c=[[]];let f=c[0];o.forEach(v=>{if(f.length>0){const p=Math.abs(f[0][t.sortBy]-v[t.sortBy]);t.maxLevelDiff&&p>=t.maxLevelDiff&&(f=[],c.push(f))}f.push(v)});let d=s+t.minNodeSpacing;if(!t.preventOverlap){const v=c.length>0&&c[0].length>1,g=(Math.min(t.width,t.height)/2-d)/(c.length+(v?1:0));d=Math.min(d,g)}let h=0;if(c.forEach(v=>{let p=t.sweep;p===void 0&&(p=2*Math.PI-2*Math.PI/v.length);const g=v.dTheta=p/Math.max(1,v.length-1);if(v.length>1&&t.preventOverlap){const m=Math.cos(g)-Math.cos(0),y=Math.sin(g)-Math.sin(0),b=Math.sqrt(d*d/(m*m+y*y));h=Math.max(b,h)}v.r=h,h+=d}),t.equidistant){let v=0,p=0;for(let g=0;g<c.length;g++){const y=c[g].r-p;v=Math.max(v,y)}p=0,c.forEach((g,m)=>{m===0&&(p=g.r),g.r=p,p+=v})}return c.forEach(v=>{const p=v.dTheta,g=v.r;v.forEach((m,y)=>{const b=t.startAngle+(t.clockwise?1:-1)*p*y;m.x=a[0]+g*Math.cos(b),m.y=a[1]+g*Math.sin(b)})}),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n}}getType(){return"concentric"}}class qJ extends Cs{constructor(t){super();this.center=[0,0],this.linkDistance=50,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.updateCfg(t)}getDefaultCfg(){return{center:[0,0],linkDistance:50}}execute(){const t=this,{nodes:e,edges:n=[]}=t,i=t.center;if(!e||e.length===0){t.onLayoutEnd&&t.onLayoutEnd();return}if(e.length===1){e[0].x=i[0],e[0].y=i[1],t.onLayoutEnd&&t.onLayoutEnd();return}const a=t.linkDistance,o=eJ({nodes:e,edges:n},!1),s=JQ(o);t.handleInfinity(s);const l=ADe(s,a);t.scaledDistances=l;const u=t.runMDS();return t.positions=u,u.forEach((c,f)=>{e[f].x=c[0]+i[0],e[f].y=c[1]+i[1]}),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n}}runMDS(){const t=this,e=2,n=t.scaledDistances,i=nn.mul(nn.pow(n,2),-.5),a=i.mean("row"),o=i.mean("column"),s=i.mean();i.add(s).subRowVector(a).subColumnVector(o);const l=new jJ(i),u=nn.sqrt(l.diagonalMatrix).diagonal();return l.leftSingularVectors.toJSON().map(c=>nn.mul([c],[u]).toJSON()[0].splice(0,e))}handleInfinity(t){let e=-999999;t.forEach(n=>{n.forEach(i=>{i!==1/0&&e<i&&(e=i)})}),t.forEach((n,i)=>{n.forEach((a,o)=>{a===1/0&&(t[i][o]=e)})})}getType(){return"mds"}}const gNe=800;class KJ extends Cs{constructor(t){super();this.maxIteration=1e3,this.workerEnabled=!1,this.gravity=10,this.speed=5,this.clustering=!1,this.clusterGravity=10,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.onLayoutEnd=()=>{},this.tick=()=>{},this.updateCfg(t)}getDefaultCfg(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}execute(){var t,e;const n=this,i=n.nodes;if(n.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(n.timeInterval),!i||i.length===0){(t=n.onLayoutEnd)===null||t===void 0||t.call(n);return}!n.width&&typeof window!="undefined"&&(n.width=window.innerWidth),!n.height&&typeof window!="undefined"&&(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);const a=n.center;if(i.length===1){i[0].x=a[0],i[0].y=a[1],(e=n.onLayoutEnd)===null||e===void 0||e.call(n);return}const o={},s={};return i.forEach((l,u)=>{xr(l.x)||(l.x=Math.random()*this.width),xr(l.y)||(l.y=Math.random()*this.height),o[l.id]=l,s[l.id]=u}),n.nodeMap=o,n.nodeIdxMap=s,n.run()}run(){var t;const e=this,n=e.nodes;if(!n)return;const{edges:i,maxIteration:a,workerEnabled:o,clustering:s}=e,l={};if(s&&n.forEach(u=>{l[u.cluster]===void 0&&(l[u.cluster]={name:u.cluster,cx:0,cy:0,count:0})}),o){for(let u=0;u<a;u++)e.runOneStep(l);(t=e.onLayoutEnd)===null||t===void 0||t.call(e)}else{if(typeof window=="undefined")return;let u=0;this.timeInterval=window.setInterval(()=>{var c;e.runOneStep(l),u++,u>=a&&((c=e.onLayoutEnd)===null||c===void 0||c.call(e),window.clearInterval(e.timeInterval))},0)}return{nodes:n,edges:i}}runOneStep(t){var e;const n=this,i=n.nodes;if(!i)return;const{edges:a,center:o,gravity:s,speed:l,clustering:u}=n,c=n.height*n.width,f=Math.sqrt(c)/10,d=c/(i.length+1),h=Math.sqrt(d),v=[];if(i.forEach((p,g)=>{v[g]={x:0,y:0}}),n.applyCalculate(i,a,v,h,d),u){for(const g in t)t[g].cx=0,t[g].cy=0,t[g].count=0;i.forEach(g=>{const m=t[g.cluster];xr(g.x)&&(m.cx+=g.x),xr(g.y)&&(m.cy+=g.y),m.count++});for(const g in t)t[g].cx/=t[g].count,t[g].cy/=t[g].count;const p=n.clusterGravity||s;i.forEach((g,m)=>{if(!xr(g.x)||!xr(g.y))return;const y=t[g.cluster],b=Math.sqrt((g.x-y.cx)*(g.x-y.cx)+(g.y-y.cy)*(g.y-y.cy)),w=h*p;v[m].x-=w*(g.x-y.cx)/b,v[m].y-=w*(g.y-y.cy)/b})}i.forEach((p,g)=>{if(!xr(p.x)||!xr(p.y))return;const m=.01*h*s;v[g].x-=m*(p.x-o[0]),v[g].y-=m*(p.y-o[1])}),i.forEach((p,g)=>{if(xr(p.fx)&&xr(p.fy)){p.x=p.fx,p.y=p.fy;return}if(!xr(p.x)||!xr(p.y))return;const m=Math.sqrt(v[g].x*v[g].x+v[g].y*v[g].y);if(m>0){const y=Math.min(f*(l/gNe),m);p.x+=v[g].x/m*y,p.y+=v[g].y/m*y}}),(e=n.tick)===null||e===void 0||e.call(n)}applyCalculate(t,e,n,i,a){const o=this;o.calRepulsive(t,n,a),e&&o.calAttractive(e,n,i)}calRepulsive(t,e,n){t.forEach((i,a)=>{e[a]={x:0,y:0},t.forEach((o,s)=>{if(a===s||!xr(i.x)||!xr(o.x)||!xr(i.y)||!xr(o.y))return;let l=i.x-o.x,u=i.y-o.y,c=l*l+u*u;if(c===0){c=1;const d=a>s?1:-1;l=.01*d,u=.01*d}const f=n/c;e[a].x+=l*f,e[a].y+=u*f})})}calAttractive(t,e,n){t.forEach(i=>{const a=ri(i,"source"),o=ri(i,"target");if(!a||!o)return;const s=this.nodeIdxMap[a],l=this.nodeIdxMap[o];if(s===l)return;const u=this.nodeMap[a],c=this.nodeMap[o];if(!xr(c.x)||!xr(u.x)||!xr(c.y)||!xr(u.y))return;const f=c.x-u.x,d=c.y-u.y,h=Math.sqrt(f*f+d*d),v=h*h/n;e[l].x-=f/h*v,e[l].y-=d/h*v,e[s].x+=f/h*v,e[s].y+=d/h*v})}stop(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)}destroy(){const t=this;t.stop(),t.tick=null,t.nodes=null,t.edges=null,t.destroyed=!0}getType(){return"fruchterman"}}function Br(r,t,e,n){!e||Object.defineProperty(r,t,{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(n):void 0})}function Rr(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function D6(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function Yr(r,t,e){return t&&D6(r.prototype,t),e&&D6(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function zr(r,t,e,n,i){var a={};return Object.keys(n).forEach(function(o){a[o]=n[o]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(o,s){return s(r,t,o)||o},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(r,t,a),a=null),a}/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var O6;(function(r){(function(t){var e=typeof dd=="object"?dd:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=i(r);typeof e.Reflect=="undefined"?e.Reflect=r:n=i(e.Reflect,n),t(n);function i(a,o){return function(s,l){typeof a[s]!="function"&&Object.defineProperty(a,s,{configurable:!0,writable:!0,value:l}),o&&o(s,l)}}})(function(t){var e=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",i=n&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",a=n&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",o=typeof Object.create=="function",s={__proto__:[]}instanceof Array,l=!o&&!s,u={create:o?function(){return Y(Object.create(null))}:s?function(){return Y({__proto__:null})}:function(){return Y({})},has:l?function(ve,ce){return e.call(ve,ce)}:function(ve,ce){return ce in ve},get:l?function(ve,ce){return e.call(ve,ce)?ve[ce]:void 0}:function(ve,ce){return ve[ce]}},c=Object.getPrototypeOf(Function),f=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",d=!f&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Le(),h=!f&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:se(),v=!f&&typeof WeakMap=="function"?WeakMap:Se(),p=new v;function g(ve,ce,de,Fe){if(H(de)){if(!He(ve))throw new TypeError;if(!st(ce))throw new TypeError;return T(ve,ce)}else{if(!He(ve))throw new TypeError;if(!ee(ce))throw new TypeError;if(!ee(Fe)&&!H(Fe)&&!K(Fe))throw new TypeError;return K(Fe)&&(Fe=void 0),de=Ee(de),I(ve,ce,de,Fe)}}t("decorate",g);function m(ve,ce){function de(Fe,Ue){if(!ee(Fe))throw new TypeError;if(!H(Ue)&&!z(Ue))throw new TypeError;G(ve,ce,Fe,Ue)}return de}t("metadata",m);function y(ve,ce,de,Fe){if(!ee(de))throw new TypeError;return H(Fe)||(Fe=Ee(Fe)),G(ve,ce,de,Fe)}t("defineMetadata",y);function b(ve,ce,de){if(!ee(ce))throw new TypeError;return H(de)||(de=Ee(de)),O(ve,ce,de)}t("hasMetadata",b);function w(ve,ce,de){if(!ee(ce))throw new TypeError;return H(de)||(de=Ee(de)),B(ve,ce,de)}t("hasOwnMetadata",w);function S(ve,ce,de){if(!ee(ce))throw new TypeError;return H(de)||(de=Ee(de)),U(ve,ce,de)}t("getMetadata",S);function E(ve,ce,de){if(!ee(ce))throw new TypeError;return H(de)||(de=Ee(de)),N(ve,ce,de)}t("getOwnMetadata",E);function _(ve,ce){if(!ee(ve))throw new TypeError;return H(ce)||(ce=Ee(ce)),L(ve,ce)}t("getMetadataKeys",_);function A(ve,ce){if(!ee(ve))throw new TypeError;return H(ce)||(ce=Ee(ce)),F(ve,ce)}t("getOwnMetadataKeys",A);function k(ve,ce,de){if(!ee(ce))throw new TypeError;H(de)||(de=Ee(de));var Fe=D(ce,de,!1);if(H(Fe)||!Fe.delete(ve))return!1;if(Fe.size>0)return!0;var Ue=p.get(ce);return Ue.delete(de),Ue.size>0||p.delete(ce),!0}t("deleteMetadata",k);function T(ve,ce){for(var de=ve.length-1;de>=0;--de){var Fe=ve[de],Ue=Fe(ce);if(!H(Ue)&&!K(Ue)){if(!st(Ue))throw new TypeError;ce=Ue}}return ce}function I(ve,ce,de,Fe){for(var Ue=ve.length-1;Ue>=0;--Ue){var lt=ve[Ue],ut=lt(ce,de,Fe);if(!H(ut)&&!K(ut)){if(!ee(ut))throw new TypeError;Fe=ut}}return Fe}function D(ve,ce,de){var Fe=p.get(ve);if(H(Fe)){if(!de)return;Fe=new d,p.set(ve,Fe)}var Ue=Fe.get(ce);if(H(Ue)){if(!de)return;Ue=new d,Fe.set(ce,Ue)}return Ue}function O(ve,ce,de){var Fe=B(ve,ce,de);if(Fe)return!0;var Ue=Ze(ce);return K(Ue)?!1:O(ve,Ue,de)}function B(ve,ce,de){var Fe=D(ce,de,!1);return H(Fe)?!1:fe(Fe.has(ve))}function U(ve,ce,de){var Fe=B(ve,ce,de);if(Fe)return N(ve,ce,de);var Ue=Ze(ce);if(!K(Ue))return U(ve,Ue,de)}function N(ve,ce,de){var Fe=D(ce,de,!1);if(!H(Fe))return Fe.get(ve)}function G(ve,ce,de,Fe){var Ue=D(de,Fe,!0);Ue.set(ve,ce)}function L(ve,ce){var de=F(ve,ce),Fe=Ze(ve);if(Fe===null)return de;var Ue=L(Fe,ce);if(Ue.length<=0)return de;if(de.length<=0)return Ue;for(var lt=new h,ut=[],We=0,J=de;We<J.length;We++){var Pe=J[We],Ce=lt.has(Pe);Ce||(lt.add(Pe),ut.push(Pe))}for(var ct=0,mt=Ue;ct<mt.length;ct++){var Pe=mt[ct],Ce=lt.has(Pe);Ce||(lt.add(Pe),ut.push(Pe))}return ut}function F(ve,ce){var de=[],Fe=D(ve,ce,!1);if(H(Fe))return de;for(var Ue=Fe.keys(),lt=X(Ue),ut=0;;){var We=ue(lt);if(!We)return de.length=ut,de;var J=ae(We);try{de[ut]=J}catch(Pe){try{Be(lt)}finally{throw Pe}}ut++}}function W(ve){if(ve===null)return 1;switch(typeof ve){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return ve===null?1:6;default:return 6}}function H(ve){return ve===void 0}function K(ve){return ve===null}function ie(ve){return typeof ve=="symbol"}function ee(ve){return typeof ve=="object"?ve!==null:typeof ve=="function"}function Q(ve,ce){switch(W(ve)){case 0:return ve;case 1:return ve;case 2:return ve;case 3:return ve;case 4:return ve;case 5:return ve}var de=ce===3?"string":ce===5?"number":"default",Fe=j(ve,i);if(Fe!==void 0){var Ue=Fe.call(ve,de);if(ee(Ue))throw new TypeError;return Ue}return be(ve,de==="default"?"number":de)}function be(ve,ce){if(ce==="string"){var de=ve.toString;if(nt(de)){var Fe=de.call(ve);if(!ee(Fe))return Fe}var Ue=ve.valueOf;if(nt(Ue)){var Fe=Ue.call(ve);if(!ee(Fe))return Fe}}else{var Ue=ve.valueOf;if(nt(Ue)){var Fe=Ue.call(ve);if(!ee(Fe))return Fe}var lt=ve.toString;if(nt(lt)){var Fe=lt.call(ve);if(!ee(Fe))return Fe}}throw new TypeError}function fe(ve){return!!ve}function he(ve){return""+ve}function Ee(ve){var ce=Q(ve,3);return ie(ce)?ce:he(ce)}function He(ve){return Array.isArray?Array.isArray(ve):ve instanceof Object?ve instanceof Array:Object.prototype.toString.call(ve)==="[object Array]"}function nt(ve){return typeof ve=="function"}function st(ve){return typeof ve=="function"}function z(ve){switch(W(ve)){case 3:return!0;case 4:return!0;default:return!1}}function j(ve,ce){var de=ve[ce];if(de!=null){if(!nt(de))throw new TypeError;return de}}function X(ve){var ce=j(ve,a);if(!nt(ce))throw new TypeError;var de=ce.call(ve);if(!ee(de))throw new TypeError;return de}function ae(ve){return ve.value}function ue(ve){var ce=ve.next();return ce.done?!1:ce}function Be(ve){var ce=ve.return;ce&&ce.call(ve)}function Ze(ve){var ce=Object.getPrototypeOf(ve);if(typeof ve!="function"||ve===c||ce!==c)return ce;var de=ve.prototype,Fe=de&&Object.getPrototypeOf(de);if(Fe==null||Fe===Object.prototype)return ce;var Ue=Fe.constructor;return typeof Ue!="function"||Ue===ve?ce:Ue}function Le(){var ve={},ce=[],de=function(){function ut(We,J,Pe){this._index=0,this._keys=We,this._values=J,this._selector=Pe}return ut.prototype["@@iterator"]=function(){return this},ut.prototype[a]=function(){return this},ut.prototype.next=function(){var We=this._index;if(We>=0&&We<this._keys.length){var J=this._selector(this._keys[We],this._values[We]);return We+1>=this._keys.length?(this._index=-1,this._keys=ce,this._values=ce):this._index++,{value:J,done:!1}}return{value:void 0,done:!0}},ut.prototype.throw=function(We){throw this._index>=0&&(this._index=-1,this._keys=ce,this._values=ce),We},ut.prototype.return=function(We){return this._index>=0&&(this._index=-1,this._keys=ce,this._values=ce),{value:We,done:!0}},ut}();return function(){function ut(){this._keys=[],this._values=[],this._cacheKey=ve,this._cacheIndex=-2}return Object.defineProperty(ut.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),ut.prototype.has=function(We){return this._find(We,!1)>=0},ut.prototype.get=function(We){var J=this._find(We,!1);return J>=0?this._values[J]:void 0},ut.prototype.set=function(We,J){var Pe=this._find(We,!0);return this._values[Pe]=J,this},ut.prototype.delete=function(We){var J=this._find(We,!1);if(J>=0){for(var Pe=this._keys.length,Ce=J+1;Ce<Pe;Ce++)this._keys[Ce-1]=this._keys[Ce],this._values[Ce-1]=this._values[Ce];return this._keys.length--,this._values.length--,We===this._cacheKey&&(this._cacheKey=ve,this._cacheIndex=-2),!0}return!1},ut.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=ve,this._cacheIndex=-2},ut.prototype.keys=function(){return new de(this._keys,this._values,Fe)},ut.prototype.values=function(){return new de(this._keys,this._values,Ue)},ut.prototype.entries=function(){return new de(this._keys,this._values,lt)},ut.prototype["@@iterator"]=function(){return this.entries()},ut.prototype[a]=function(){return this.entries()},ut.prototype._find=function(We,J){return this._cacheKey!==We&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=We)),this._cacheIndex<0&&J&&(this._cacheIndex=this._keys.length,this._keys.push(We),this._values.push(void 0)),this._cacheIndex},ut}();function Fe(ut,We){return ut}function Ue(ut,We){return We}function lt(ut,We){return[ut,We]}}function se(){return function(){function ve(){this._map=new d}return Object.defineProperty(ve.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),ve.prototype.has=function(ce){return this._map.has(ce)},ve.prototype.add=function(ce){return this._map.set(ce,ce),this},ve.prototype.delete=function(ce){return this._map.delete(ce)},ve.prototype.clear=function(){this._map.clear()},ve.prototype.keys=function(){return this._map.keys()},ve.prototype.values=function(){return this._map.values()},ve.prototype.entries=function(){return this._map.entries()},ve.prototype["@@iterator"]=function(){return this.keys()},ve.prototype[a]=function(){return this.keys()},ve}()}function Se(){var ve=16,ce=u.create(),de=Fe();return function(){function J(){this._key=Fe()}return J.prototype.has=function(Pe){var Ce=Ue(Pe,!1);return Ce!==void 0?u.has(Ce,this._key):!1},J.prototype.get=function(Pe){var Ce=Ue(Pe,!1);return Ce!==void 0?u.get(Ce,this._key):void 0},J.prototype.set=function(Pe,Ce){var ct=Ue(Pe,!0);return ct[this._key]=Ce,this},J.prototype.delete=function(Pe){var Ce=Ue(Pe,!1);return Ce!==void 0?delete Ce[this._key]:!1},J.prototype.clear=function(){this._key=Fe()},J}();function Fe(){var J;do J="@@WeakMap@@"+We();while(u.has(ce,J));return ce[J]=!0,J}function Ue(J,Pe){if(!e.call(J,de)){if(!Pe)return;Object.defineProperty(J,de,{value:u.create()})}return J[de]}function lt(J,Pe){for(var Ce=0;Ce<Pe;++Ce)J[Ce]=Math.random()*255|0;return J}function ut(J){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(J)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(J)):lt(new Uint8Array(J),J):lt(new Array(J),J)}function We(){var J=ut(ve);J[6]=J[6]&79|64,J[8]=J[8]&191|128;for(var Pe="",Ce=0;Ce<ve;++Ce){var ct=J[Ce];(Ce===4||Ce===6||Ce===8)&&(Pe+="-"),ct<16&&(Pe+="0"),Pe+=ct.toString(16).toLowerCase()}return Pe}}function Y(ve){return ve.__=void 0,delete ve.__,ve}})})(O6||(O6={}));var mNe=un(function(r){var t=function(e){var n=Object.prototype,i=n.hasOwnProperty,a,o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(L,F,W){return Object.defineProperty(L,F,{value:W,enumerable:!0,configurable:!0,writable:!0}),L[F]}try{c({},"")}catch{c=function(F,W,H){return F[W]=H}}function f(L,F,W,H){var K=F&&F.prototype instanceof y?F:y,ie=Object.create(K.prototype),ee=new U(H||[]);return ie._invoke=I(L,W,ee),ie}e.wrap=f;function d(L,F,W){try{return{type:"normal",arg:L.call(F,W)}}catch(H){return{type:"throw",arg:H}}}var h="suspendedStart",v="suspendedYield",p="executing",g="completed",m={};function y(){}function b(){}function w(){}var S={};c(S,s,function(){return this});var E=Object.getPrototypeOf,_=E&&E(E(N([])));_&&_!==n&&i.call(_,s)&&(S=_);var A=w.prototype=y.prototype=Object.create(S);b.prototype=w,c(A,"constructor",w),c(w,"constructor",b),b.displayName=c(w,u,"GeneratorFunction");function k(L){["next","throw","return"].forEach(function(F){c(L,F,function(W){return this._invoke(F,W)})})}e.isGeneratorFunction=function(L){var F=typeof L=="function"&&L.constructor;return F?F===b||(F.displayName||F.name)==="GeneratorFunction":!1},e.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,w):(L.__proto__=w,c(L,u,"GeneratorFunction")),L.prototype=Object.create(A),L},e.awrap=function(L){return{__await:L}};function T(L,F){function W(ie,ee,Q,be){var fe=d(L[ie],L,ee);if(fe.type==="throw")be(fe.arg);else{var he=fe.arg,Ee=he.value;return Ee&&typeof Ee=="object"&&i.call(Ee,"__await")?F.resolve(Ee.__await).then(function(He){W("next",He,Q,be)},function(He){W("throw",He,Q,be)}):F.resolve(Ee).then(function(He){he.value=He,Q(he)},function(He){return W("throw",He,Q,be)})}}var H;function K(ie,ee){function Q(){return new F(function(be,fe){W(ie,ee,be,fe)})}return H=H?H.then(Q,Q):Q()}this._invoke=K}k(T.prototype),c(T.prototype,l,function(){return this}),e.AsyncIterator=T,e.async=function(L,F,W,H,K){K===void 0&&(K=Promise);var ie=new T(f(L,F,W,H),K);return e.isGeneratorFunction(F)?ie:ie.next().then(function(ee){return ee.done?ee.value:ie.next()})};function I(L,F,W){var H=h;return function(ie,ee){if(H===p)throw new Error("Generator is already running");if(H===g){if(ie==="throw")throw ee;return G()}for(W.method=ie,W.arg=ee;;){var Q=W.delegate;if(Q){var be=D(Q,W);if(be){if(be===m)continue;return be}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(H===h)throw H=g,W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);H=p;var fe=d(L,F,W);if(fe.type==="normal"){if(H=W.done?g:v,fe.arg===m)continue;return{value:fe.arg,done:W.done}}else fe.type==="throw"&&(H=g,W.method="throw",W.arg=fe.arg)}}}function D(L,F){var W=L.iterator[F.method];if(W===a){if(F.delegate=null,F.method==="throw"){if(L.iterator.return&&(F.method="return",F.arg=a,D(L,F),F.method==="throw"))return m;F.method="throw",F.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var H=d(W,L.iterator,F.arg);if(H.type==="throw")return F.method="throw",F.arg=H.arg,F.delegate=null,m;var K=H.arg;if(!K)return F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,m;if(K.done)F[L.resultName]=K.value,F.next=L.nextLoc,F.method!=="return"&&(F.method="next",F.arg=a);else return K;return F.delegate=null,m}k(A),c(A,u,"Generator"),c(A,s,function(){return this}),c(A,"toString",function(){return"[object Generator]"});function O(L){var F={tryLoc:L[0]};1 in L&&(F.catchLoc=L[1]),2 in L&&(F.finallyLoc=L[2],F.afterLoc=L[3]),this.tryEntries.push(F)}function B(L){var F=L.completion||{};F.type="normal",delete F.arg,L.completion=F}function U(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(O,this),this.reset(!0)}e.keys=function(L){var F=[];for(var W in L)F.push(W);return F.reverse(),function H(){for(;F.length;){var K=F.pop();if(K in L)return H.value=K,H.done=!1,H}return H.done=!0,H}};function N(L){if(L){var F=L[s];if(F)return F.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var W=-1,H=function K(){for(;++W<L.length;)if(i.call(L,W))return K.value=L[W],K.done=!1,K;return K.value=a,K.done=!0,K};return H.next=H}}return{next:G}}e.values=N;function G(){return{value:a,done:!0}}return U.prototype={constructor:U,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(B),!L)for(var F in this)F.charAt(0)==="t"&&i.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=a)},stop:function(){this.done=!0;var L=this.tryEntries[0],F=L.completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var F=this;function W(be,fe){return ie.type="throw",ie.arg=L,F.next=be,fe&&(F.method="next",F.arg=a),!!fe}for(var H=this.tryEntries.length-1;H>=0;--H){var K=this.tryEntries[H],ie=K.completion;if(K.tryLoc==="root")return W("end");if(K.tryLoc<=this.prev){var ee=i.call(K,"catchLoc"),Q=i.call(K,"finallyLoc");if(ee&&Q){if(this.prev<K.catchLoc)return W(K.catchLoc,!0);if(this.prev<K.finallyLoc)return W(K.finallyLoc)}else if(ee){if(this.prev<K.catchLoc)return W(K.catchLoc,!0)}else if(Q){if(this.prev<K.finallyLoc)return W(K.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(L,F){for(var W=this.tryEntries.length-1;W>=0;--W){var H=this.tryEntries[W];if(H.tryLoc<=this.prev&&i.call(H,"finallyLoc")&&this.prev<H.finallyLoc){var K=H;break}}K&&(L==="break"||L==="continue")&&K.tryLoc<=F&&F<=K.finallyLoc&&(K=null);var ie=K?K.completion:{};return ie.type=L,ie.arg=F,K?(this.method="next",this.next=K.finallyLoc,m):this.complete(ie)},complete:function(L,F){if(L.type==="throw")throw L.arg;return L.type==="break"||L.type==="continue"?this.next=L.arg:L.type==="return"?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):L.type==="normal"&&F&&(this.next=F),m},finish:function(L){for(var F=this.tryEntries.length-1;F>=0;--F){var W=this.tryEntries[F];if(W.finallyLoc===L)return this.complete(W.completion,W.afterLoc),B(W),m}},catch:function(L){for(var F=this.tryEntries.length-1;F>=0;--F){var W=this.tryEntries[F];if(W.tryLoc===L){var H=W.completion;if(H.type==="throw"){var K=H.arg;B(W)}return K}}throw new Error("illegal catch attempt")},delegateYield:function(L,F,W){return this.delegate={iterator:N(L),resultName:F,nextLoc:W},this.method==="next"&&(this.arg=a),m}},e}(r.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}),kr=mNe;function L6(r,t,e,n,i,a,o){try{var s=r[a](o),l=s.value}catch(u){e(u);return}s.done?t(l):Promise.resolve(l).then(n,i)}function ii(r){return function(){var t=this,e=arguments;return new Promise(function(n,i){var a=r.apply(t,e);function o(l){L6(a,n,i,o,s,"next",l)}function s(l){L6(a,n,i,o,s,"throw",l)}o(void 0)})}}var yNe=-1,bNe=1;function Yc(){return bNe++}var Zg=function r(t){Rr(this,r)},Qg=function(){function r(t){Rr(this,r),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=t}return Yr(r,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(e){return this.lookup[e]>-1}},{key:"create",value:function(e,n){this.lookup[e]=this.components.length;var i=new this.clazz(n||{});return this.components.push(i),this.entities.push(e),i}},{key:"remove",value:function(e){var n=this.lookup[e];n>-1&&n<this.components.length-1&&(this.components[n]=this.components[this.components.length-1],this.entities[n]=this.entities[this.entities.length-1],this.lookup[this.entities[n]]=n),this.components.pop(),this.entities.pop(),delete this.lookup[e]}},{key:"removeKeepSorted",value:function(e){var n=this.lookup[e];if(n>-1){var i=this.entities[n];if(n<this.components.length-1){for(var a=n+1;a<this.components.length;++a)this.components[a-1]=this.components[a];for(var o=n+1;o<this.entities.length;++o)this.entities[o-1]=this.entities[o],this.lookup[this.entities[o-1]]=o-1}this.components.pop(),this.entities.pop(),delete this.lookup[i]}}},{key:"moveItem",value:function(e,n){if(e!==n){for(var i=this.components[e],a=this.entities[e],o=e<n?1:-1,s=e;s!==n;s+=o){var l=s+o;this.components[s]=this.components[l],this.entities[s]=this.entities[l],this.lookup[this.entities[s]]=s}this.components[n]=i,this.entities[n]=a,this.lookup[a]=n}}},{key:"getEntity",value:function(e){return this.entities[e]}},{key:"getComponent",value:function(e){return this.components[e]}},{key:"getComponentByEntity",value:function(e){var n=this.lookup[e];return n>-1?this.components[n]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(e){for(var n=0,i=Object.keys(this.lookup);n<i.length;n++){var a=i[n],o=Number(a);if(this.lookup[o]===e)return o}return yNe}},{key:"find",value:function(e){for(var n=0;n<this.getCount();n++){var i=this.getComponent(n);if(e(i,n))return i}return null}},{key:"findIndex",value:function(e){for(var n=0;n<this.getCount();n++){var i=this.getComponent(n);if(e(i,n))return n}return-1}},{key:"forEach",value:function(e){for(var n=0,i=Object.keys(this.lookup);n<i.length;n++){var a=i[n],o=Number(a),s=this.lookup[o];e(o,this.getComponent(s))}}},{key:"forEachAsync",value:function(){var t=ii(kr.mark(function n(i){var a,o,s,l,u;return kr.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:a=0,o=Object.keys(this.lookup);case 1:if(!(a<o.length)){f.next=10;break}return s=o[a],l=Number(s),u=this.lookup[l],f.next=7,i(l,this.getComponent(u));case 7:a++,f.next=1;break;case 10:case"end":return f.stop()}},n,this)}));function e(n){return t.apply(this,arguments)}return e}()},{key:"map",value:function(e){for(var n=[],i=0,a=Object.keys(this.lookup);i<a.length;i++){var o=a[i],s=Number(o),l=this.lookup[s];n.push(e(s,this.getComponent(l)))}return n}}]),r}();function xNe(r){if(Array.isArray(r))return r}function wNe(r,t){var e=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n=[],i=!0,a=!1,o,s;try{for(e=e.call(r);!(i=(o=e.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(l){a=!0,s=l}finally{try{!i&&e.return!=null&&e.return()}finally{if(a)throw s}}return n}}function qD(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function ZJ(r,t){if(!!r){if(typeof r=="string")return qD(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return qD(r,t)}}function SNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zA(r,t){return xNe(r)||wNe(r,t)||ZJ(r,t)||SNe()}var Ku="named",QJ="name",yN="unmanaged",JJ="optional",$A="inject",Cw="multi_inject",eee="inversify:tagged",tee="inversify:tagged_props",KD="inversify:paramtypes",CNe="design:paramtypes",F6="post_construct";function ENe(){return[$A,Cw,QJ,yN,Ku,JJ]}var N6=ENe(),ss={Request:"Request",Singleton:"Singleton",Transient:"Transient"},is={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},yd={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},_Ne=0;function yS(){return _Ne++}var TNe=function(){function r(t,e){this.id=yS(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type=is.Invalid,this.constraint=function(n){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return r.prototype.clone=function(){var t=new r(this.serviceIdentifier,this.scope);return t.activated=t.scope===ss.Singleton?this.activated:!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},r}(),ANe="Cannot apply @injectable decorator multiple times.",kNe="Metadata key was used more than once in a parameter:",Sx="NULL argument",B6="Key Not Found",MNe="Ambiguous match found for serviceIdentifier:",INe="Could not unbind serviceIdentifier:",PNe="No matching bindings found for serviceIdentifier:",RNe="Missing required @injectable annotation in:",DNe="Missing required @inject or @multiInject annotation in:",ONe=function(r){return"@inject called with undefined this could mean that the class "+r+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},LNe="Circular dependency found:",FNe="Invalid binding type:",NNe="No snapshot available to restore.",BNe="Invalid return type in middleware. Middleware must return!",zNe="Value provided to function binding must be a function!",$Ne="The toSelf function can only be applied when a constructor is used as service identifier",GNe="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",UNe=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return"The number of constructor arguments in the derived class "+(r[0]+" must be >= than the number of constructor arguments of its base class.")},HNe="Invalid Container constructor argument. Container options must be an object.",VNe="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",WNe="Invalid Container option. Auto bind injectable must be a boolean",jNe="Invalid Container option. Skip base check must be a boolean",YNe=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return"@postConstruct error in class "+r[0]+": "+r[1]},XNe=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return"It looks like there is a circular dependency "+("in one of the '"+r[0]+"' bindings. Please investigate bindings with")+("service identifier '"+r[1]+"'.")},qNe="Maximum call stack size exceeded",KNe=function(){function r(){}return r.prototype.getConstructorMetadata=function(t){var e=Reflect.getMetadata(KD,t),n=Reflect.getMetadata(eee,t);return{compilerGeneratedMetadata:e,userGeneratedMetadata:n||{}}},r.prototype.getPropertiesMetadata=function(t){var e=Reflect.getMetadata(tee,t)||[];return e},r}(),j2={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};function ree(r){return r instanceof RangeError||r.message===qNe}function Ew(r){if(typeof r=="function"){var t=r;return t.name}else{if(typeof r=="symbol")return r.toString();var t=r;return t}}function z6(r,t,e){var n="",i=e(r,t);return i.length!==0&&(n=`
Registered bindings:`,i.forEach(function(a){var o="Object";a.implementationType!==null&&(o=GA(a.implementationType)),n=n+`
 `+o,a.constraint.metaData&&(n=n+" - "+a.constraint.metaData)})),n}function nee(r,t){return r.parentRequest===null?!1:r.parentRequest.serviceIdentifier===t?!0:nee(r.parentRequest,t)}function ZNe(r){function t(n,i){i===void 0&&(i=[]);var a=Ew(n.serviceIdentifier);return i.push(a),n.parentRequest!==null?t(n.parentRequest,i):i}var e=t(r);return e.reverse().join(" --> ")}function iee(r){r.childRequests.forEach(function(t){if(nee(t,t.serviceIdentifier)){var e=ZNe(t);throw new Error(LNe+" "+e)}else iee(t)})}function QNe(r,t){if(t.isTagged()||t.isNamed()){var e="",n=t.getNamedTag(),i=t.getCustomTags();return n!==null&&(e+=n.toString()+`
`),i!==null&&i.forEach(function(a){e+=a.toString()+`
`})," "+r+`
 `+r+" - "+e}else return" "+r}function GA(r){if(r.name)return r.name;var t=r.toString(),e=t.match(/^function\s*([^\s(]+)/);return e?e[1]:"Anonymous function: "+t}var aee=function(){function r(t){this.id=yS(),this.container=t}return r.prototype.addPlan=function(t){this.plan=t},r.prototype.setCurrentRequest=function(t){this.currentRequest=t},r}(),bv=function(){function r(t,e){this.key=t,this.value=e}return r.prototype.toString=function(){return this.key===Ku?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},r}(),JNe=function(){function r(t,e){this.parentContext=t,this.rootRequest=e}return r}();function oee(r,t,e,n){var i=eee;lee(i,r,t,n,e)}function see(r,t,e){var n=tee;lee(n,r.constructor,t,e)}function lee(r,t,e,n,i){var a={},o=typeof i=="number",s=i!==void 0&&o?i.toString():e;if(o&&e!==void 0)throw new Error(GNe);Reflect.hasOwnMetadata(r,t)&&(a=Reflect.getMetadata(r,t));var l=a[s];if(!Array.isArray(l))l=[];else for(var u=0,c=l;u<c.length;u++){var f=c[u];if(f.key===n.key)throw new Error(kNe+" "+f.key.toString())}l.push(n),a[s]=l,Reflect.defineMetadata(r,a,t)}var eBe=function(){function r(t){this._cb=t}return r.prototype.unwrap=function(){return this._cb()},r}();function $r(r){return function(t,e,n){if(r===void 0)throw new Error(ONe(t.name));var i=new bv($A,r);typeof n=="number"?oee(t,e,n,i):see(t,e,i)}}var tBe=function(){function r(t){this.str=t}return r.prototype.startsWith=function(t){return this.str.indexOf(t)===0},r.prototype.endsWith=function(t){var e="",n=t.split("").reverse().join("");return e=this.str.split("").reverse().join(""),this.startsWith.call({str:e},n)},r.prototype.contains=function(t){return this.str.indexOf(t)!==-1},r.prototype.equals=function(t){return this.str===t},r.prototype.value=function(){return this.str},r}(),UA=function(){function r(t,e,n,i){this.id=yS(),this.type=t,this.serviceIdentifier=n,this.name=new tBe(e||""),this.metadata=new Array;var a=null;typeof i=="string"?a=new bv(Ku,i):i instanceof bv&&(a=i),a!==null&&this.metadata.push(a)}return r.prototype.hasTag=function(t){for(var e=0,n=this.metadata;e<n.length;e++){var i=n[e];if(i.key===t)return!0}return!1},r.prototype.isArray=function(){return this.hasTag(Cw)},r.prototype.matchesArray=function(t){return this.matchesTag(Cw)(t)},r.prototype.isNamed=function(){return this.hasTag(Ku)},r.prototype.isTagged=function(){return this.metadata.some(function(t){return N6.every(function(e){return t.key!==e})})},r.prototype.isOptional=function(){return this.matchesTag(JJ)(!0)},r.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(t){return t.key===Ku})[0]:null},r.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(t){return N6.every(function(e){return t.key!==e})}):null},r.prototype.matchesNamedTag=function(t){return this.matchesTag(Ku)(t)},r.prototype.matchesTag=function(t){var e=this;return function(n){for(var i=0,a=e.metadata;i<a.length;i++){var o=a[i];if(o.key===t&&o.value===n)return!0}return!1}},r}(),tT=globalThis&&globalThis.__spreadArray||function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r};function rBe(r,t){var e=GA(t),n=uee(r,e,t,!1);return n}function uee(r,t,e,n){var i=r.getConstructorMetadata(e),a=i.compilerGeneratedMetadata;if(a===void 0){var o=RNe+" "+t+".";throw new Error(o)}var s=i.userGeneratedMetadata,l=Object.keys(s),u=e.length===0&&l.length>0,c=l.length>e.length,f=u||c?l.length:e.length,d=iBe(n,t,a,s,f),h=cee(r,e),v=tT(tT([],d),h);return v}function nBe(r,t,e,n,i){var a=i[r.toString()]||[],o=dee(a),s=o.unmanaged!==!0,l=n[r],u=o.inject||o.multiInject;if(l=u||l,l instanceof eBe&&(l=l.unwrap()),s){var c=l===Object,f=l===Function,d=l===void 0,h=c||f||d;if(!t&&h){var v=DNe+" argument "+r+" in class "+e+".";throw new Error(v)}var p=new UA(yd.ConstructorArgument,o.targetName,l);return p.metadata=a,p}return null}function iBe(r,t,e,n,i){for(var a=[],o=0;o<i;o++){var s=o,l=nBe(s,r,t,e,n);l!==null&&a.push(l)}return a}function cee(r,t){for(var e=r.getPropertiesMetadata(t),n=[],i=Object.keys(e),a=0,o=i;a<o.length;a++){var s=o[a],l=e[s],u=dee(e[s]),c=u.targetName||s,f=u.inject||u.multiInject,d=new UA(yd.ClassProperty,c,f);d.metadata=l,n.push(d)}var h=Object.getPrototypeOf(t.prototype).constructor;if(h!==Object){var v=cee(r,h);n=tT(tT([],n),v)}return n}function fee(r,t){var e=Object.getPrototypeOf(t.prototype).constructor;if(e!==Object){var n=GA(e),i=uee(r,n,e,!0),a=i.map(function(l){return l.metadata.filter(function(u){return u.key===yN})}),o=[].concat.apply([],a).length,s=i.length-o;return s>0?s:fee(r,e)}else return 0}function dee(r){var t={};return r.forEach(function(e){t[e.key.toString()]=e.value}),{inject:t[$A],multiInject:t[Cw],targetName:t[QJ],unmanaged:t[yN]}}var bN=function(){function r(t,e,n,i,a){this.id=yS(),this.serviceIdentifier=t,this.parentContext=e,this.parentRequest=n,this.target=a,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=n===null?new Map:null}return r.prototype.addChildRequest=function(t,e,n){var i=new r(t,this.parentContext,this,e,n);return this.childRequests.push(i),i},r}();function ZD(r){return r._bindingDictionary}function aBe(r,t,e,n,i,a){var o=r?Cw:$A,s=new bv(o,e),l=new UA(t,n,e,s);if(i!==void 0){var u=new bv(i,a);l.metadata.push(u)}return l}function $6(r,t,e,n,i){var a=_w(e.container,i.serviceIdentifier),o=[];return a.length===j2.NoBindingsAvailable&&e.container.options.autoBindInjectable&&typeof i.serviceIdentifier=="function"&&r.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(e.container.bind(i.serviceIdentifier).toSelf(),a=_w(e.container,i.serviceIdentifier)),t?o=a:o=a.filter(function(s){var l=new bN(s.serviceIdentifier,e,n,s,i);return s.constraint(l)}),oBe(i.serviceIdentifier,o,i,e.container),o}function oBe(r,t,e,n){switch(t.length){case j2.NoBindingsAvailable:if(e.isOptional())return t;var i=Ew(r),a=PNe;throw a+=QNe(i,e),a+=z6(n,i,_w),new Error(a);case j2.OnlyOneBindingAvailable:if(!e.isArray())return t;case j2.MultipleBindingsAvailable:default:if(e.isArray())return t;var i=Ew(r),a=MNe+" "+i;throw a+=z6(n,i,_w),new Error(a)}}function hee(r,t,e,n,i,a){var o,s;if(i===null){o=$6(r,t,n,null,a),s=new bN(e,n,null,o,a);var l=new JNe(n,s);n.addPlan(l)}else o=$6(r,t,n,i,a),s=i.addChildRequest(a.serviceIdentifier,o,a);o.forEach(function(u){var c=null;if(a.isArray())c=s.addChildRequest(u.serviceIdentifier,u,a);else{if(u.cache)return;c=s}if(u.type===is.Instance&&u.implementationType!==null){var f=rBe(r,u.implementationType);if(!n.container.options.skipBaseClassChecks){var d=fee(r,u.implementationType);if(f.length<d){var h=UNe(GA(u.implementationType));throw new Error(h)}}f.forEach(function(v){hee(r,!1,v.serviceIdentifier,n,c,v)})}})}function _w(r,t){var e=[],n=ZD(r);return n.hasKey(t)?e=n.get(t):r.parent!==null&&(e=_w(r.parent,t)),e}function sBe(r,t,e,n,i,a,o,s){s===void 0&&(s=!1);var l=new aee(t),u=aBe(e,n,i,"",a,o);try{return hee(r,s,i,l,null,u),l}catch(c){throw ree(c)&&l.plan&&iee(l.plan.rootRequest),c}}function lBe(r,t,e,n){var i=new UA(yd.Variable,"",t,new bv(e,n)),a=new aee(r),o=new bN(t,a,null,[],i);return o}var uBe=globalThis&&globalThis.__spreadArray||function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r};function cBe(r,t,e){var n=t.filter(function(a){return a.target!==null&&a.target.type===yd.ClassProperty}),i=n.map(e);return n.forEach(function(a,o){var s="";s=a.target.name.value();var l=i[o];r[s]=l}),r}function fBe(r,t){return new(r.bind.apply(r,uBe([void 0],t)))}function dBe(r,t){if(Reflect.hasMetadata(F6,r)){var e=Reflect.getMetadata(F6,r);try{t[e.value]()}catch(n){throw new Error(YNe(r.name,n.message))}}}function hBe(r,t,e){var n=null;if(t.length>0){var i=t.filter(function(o){return o.target!==null&&o.target.type===yd.ConstructorArgument}),a=i.map(e);n=fBe(r,a),n=cBe(n,t,e)}else n=new r;return dBe(r,n),n}var lP=function(r,t,e){try{return e()}catch(n){throw ree(n)?new Error(XNe(r,t.toString())):n}},QD=function(r){return function(t){t.parentContext.setCurrentRequest(t);var e=t.bindings,n=t.childRequests,i=t.target&&t.target.isArray(),a=!t.parentRequest||!t.parentRequest.target||!t.target||!t.parentRequest.target.matchesArray(t.target.serviceIdentifier);if(i&&a)return n.map(function(f){var d=QD(r);return d(f)});var o=null;if(t.target.isOptional()&&e.length===0)return;var s=e[0],l=s.scope===ss.Singleton,u=s.scope===ss.Request;if(l&&s.activated)return s.cache;if(u&&r!==null&&r.has(s.id))return r.get(s.id);if(s.type===is.ConstantValue)o=s.cache,s.activated=!0;else if(s.type===is.Function)o=s.cache,s.activated=!0;else if(s.type===is.Constructor)o=s.implementationType;else if(s.type===is.DynamicValue&&s.dynamicValue!==null)o=lP("toDynamicValue",s.serviceIdentifier,function(){return s.dynamicValue(t.parentContext)});else if(s.type===is.Factory&&s.factory!==null)o=lP("toFactory",s.serviceIdentifier,function(){return s.factory(t.parentContext)});else if(s.type===is.Provider&&s.provider!==null)o=lP("toProvider",s.serviceIdentifier,function(){return s.provider(t.parentContext)});else if(s.type===is.Instance&&s.implementationType!==null)o=hBe(s.implementationType,n,QD(r));else{var c=Ew(t.serviceIdentifier);throw new Error(FNe+" "+c)}return typeof s.onActivation=="function"&&(o=s.onActivation(t.parentContext,o)),l&&(s.cache=o,s.activated=!0),u&&r!==null&&!r.has(s.id)&&r.set(s.id,o),o}};function vBe(r){var t=QD(r.plan.rootRequest.requestScope);return t(r.plan.rootRequest)}var od=function(r,t){var e=r.parentRequest;return e!==null?t(e)?!0:od(e,t):!1},c1=function(r){return function(t){var e=function(n){return n!==null&&n.target!==null&&n.target.matchesTag(r)(t)};return e.metaData=new bv(r,t),e}},FE=c1(Ku),uP=function(r){return function(t){var e=null;if(t!==null)if(e=t.bindings[0],typeof r=="string"){var n=e.serviceIdentifier;return n===r}else{var i=t.bindings[0].implementationType;return r===i}return!1}},xN=function(){function r(t){this._binding=t}return r.prototype.when=function(t){return this._binding.constraint=t,new ts(this._binding)},r.prototype.whenTargetNamed=function(t){return this._binding.constraint=FE(t),new ts(this._binding)},r.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){var e=t.target!==null&&!t.target.isNamed()&&!t.target.isTagged();return e},new ts(this._binding)},r.prototype.whenTargetTagged=function(t,e){return this._binding.constraint=c1(t)(e),new ts(this._binding)},r.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(e){return uP(t)(e.parentRequest)},new ts(this._binding)},r.prototype.whenParentNamed=function(t){return this._binding.constraint=function(e){return FE(t)(e.parentRequest)},new ts(this._binding)},r.prototype.whenParentTagged=function(t,e){return this._binding.constraint=function(n){return c1(t)(e)(n.parentRequest)},new ts(this._binding)},r.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(e){return od(e,uP(t))},new ts(this._binding)},r.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(e){return!od(e,uP(t))},new ts(this._binding)},r.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(e){return od(e,FE(t))},new ts(this._binding)},r.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(e){return!od(e,FE(t))},new ts(this._binding)},r.prototype.whenAnyAncestorTagged=function(t,e){return this._binding.constraint=function(n){return od(n,c1(t)(e))},new ts(this._binding)},r.prototype.whenNoAncestorTagged=function(t,e){return this._binding.constraint=function(n){return!od(n,c1(t)(e))},new ts(this._binding)},r.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(e){return od(e,t)},new ts(this._binding)},r.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(e){return!od(e,t)},new ts(this._binding)},r}(),ts=function(){function r(t){this._binding=t}return r.prototype.onActivation=function(t){return this._binding.onActivation=t,new xN(this._binding)},r}(),qh=function(){function r(t){this._binding=t,this._bindingWhenSyntax=new xN(this._binding),this._bindingOnSyntax=new ts(this._binding)}return r.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},r.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},r.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},r.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},r.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},r.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},r.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},r.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},r.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},r.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},r.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},r.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},r.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},r.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},r.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},r.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},r}(),pBe=function(){function r(t){this._binding=t}return r.prototype.inRequestScope=function(){return this._binding.scope=ss.Request,new qh(this._binding)},r.prototype.inSingletonScope=function(){return this._binding.scope=ss.Singleton,new qh(this._binding)},r.prototype.inTransientScope=function(){return this._binding.scope=ss.Transient,new qh(this._binding)},r}(),G6=function(){function r(t){this._binding=t,this._bindingWhenSyntax=new xN(this._binding),this._bindingOnSyntax=new ts(this._binding),this._bindingInSyntax=new pBe(t)}return r.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},r.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},r.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},r.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},r.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},r.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},r.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},r.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},r.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},r.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},r.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},r.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},r.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},r.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},r.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},r.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},r.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},r.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},r.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},r}(),gBe=function(){function r(t){this._binding=t}return r.prototype.to=function(t){return this._binding.type=is.Instance,this._binding.implementationType=t,new G6(this._binding)},r.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+$Ne);var t=this._binding.serviceIdentifier;return this.to(t)},r.prototype.toConstantValue=function(t){return this._binding.type=is.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=ss.Singleton,new qh(this._binding)},r.prototype.toDynamicValue=function(t){return this._binding.type=is.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new G6(this._binding)},r.prototype.toConstructor=function(t){return this._binding.type=is.Constructor,this._binding.implementationType=t,this._binding.scope=ss.Singleton,new qh(this._binding)},r.prototype.toFactory=function(t){return this._binding.type=is.Factory,this._binding.factory=t,this._binding.scope=ss.Singleton,new qh(this._binding)},r.prototype.toFunction=function(t){if(typeof t!="function")throw new Error(zNe);var e=this.toConstantValue(t);return this._binding.type=is.Function,this._binding.scope=ss.Singleton,e},r.prototype.toAutoFactory=function(t){return this._binding.type=is.Factory,this._binding.factory=function(e){var n=function(){return e.container.get(t)};return n},this._binding.scope=ss.Singleton,new qh(this._binding)},r.prototype.toProvider=function(t){return this._binding.type=is.Provider,this._binding.provider=t,this._binding.scope=ss.Singleton,new qh(this._binding)},r.prototype.toService=function(t){this.toDynamicValue(function(e){return e.container.get(t)})},r}(),mBe=function(){function r(){}return r.of=function(t,e){var n=new r;return n.bindings=t,n.middleware=e,n},r}(),U6=function(){function r(){this._map=new Map}return r.prototype.getMap=function(){return this._map},r.prototype.add=function(t,e){if(t==null)throw new Error(Sx);if(e==null)throw new Error(Sx);var n=this._map.get(t);n!==void 0?(n.push(e),this._map.set(t,n)):this._map.set(t,[e])},r.prototype.get=function(t){if(t==null)throw new Error(Sx);var e=this._map.get(t);if(e!==void 0)return e;throw new Error(B6)},r.prototype.remove=function(t){if(t==null)throw new Error(Sx);if(!this._map.delete(t))throw new Error(B6)},r.prototype.removeByCondition=function(t){var e=this;this._map.forEach(function(n,i){var a=n.filter(function(o){return!t(o)});a.length>0?e._map.set(i,a):e._map.delete(i)})},r.prototype.hasKey=function(t){if(t==null)throw new Error(Sx);return this._map.has(t)},r.prototype.clone=function(){var t=new r;return this._map.forEach(function(e,n){e.forEach(function(i){return t.add(n,i.clone())})}),t},r.prototype.traverse=function(t){this._map.forEach(function(e,n){t(n,e)})},r}(),yBe=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(r,t||[])).next())})},bBe=globalThis&&globalThis.__generator||function(r,t){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){e.label=u[1];break}if(u[0]===6&&e.label<a[1]){e.label=a[1],a=u;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(u);break}a[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(r,e)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},xBe=globalThis&&globalThis.__spreadArray||function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r},vee=function(){function r(t){this._appliedMiddleware=[];var e=t||{};if(typeof e!="object")throw new Error(""+HNe);if(e.defaultScope===void 0)e.defaultScope=ss.Transient;else if(e.defaultScope!==ss.Singleton&&e.defaultScope!==ss.Transient&&e.defaultScope!==ss.Request)throw new Error(""+VNe);if(e.autoBindInjectable===void 0)e.autoBindInjectable=!1;else if(typeof e.autoBindInjectable!="boolean")throw new Error(""+WNe);if(e.skipBaseClassChecks===void 0)e.skipBaseClassChecks=!1;else if(typeof e.skipBaseClassChecks!="boolean")throw new Error(""+jNe);this.options={autoBindInjectable:e.autoBindInjectable,defaultScope:e.defaultScope,skipBaseClassChecks:e.skipBaseClassChecks},this.id=yS(),this._bindingDictionary=new U6,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new KNe}return r.merge=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=new r,o=xBe([t,e],n).map(function(u){return ZD(u)}),s=ZD(a);function l(u,c){u.traverse(function(f,d){d.forEach(function(h){c.add(h.serviceIdentifier,h.clone())})})}return o.forEach(function(u){l(u,s)}),a},r.prototype.load=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this._getContainerModuleHelpersFactory(),i=0,a=t;i<a.length;i++){var o=a[i],s=n(o.id);o.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)}},r.prototype.loadAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return yBe(this,void 0,void 0,function(){var n,i,a,o,s;return bBe(this,function(l){switch(l.label){case 0:n=this._getContainerModuleHelpersFactory(),i=0,a=t,l.label=1;case 1:return i<a.length?(o=a[i],s=n(o.id),[4,o.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)]):[3,4];case 2:l.sent(),l.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},r.prototype.unload=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=function(a){return function(o){return o.moduleId===a}};e.forEach(function(a){var o=i(a.id);t._bindingDictionary.removeByCondition(o)})},r.prototype.bind=function(t){var e=this.options.defaultScope||ss.Transient,n=new TNe(t,e);return this._bindingDictionary.add(t,n),new gBe(n)},r.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},r.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch{throw new Error(INe+" "+Ew(t))}},r.prototype.unbindAll=function(){this._bindingDictionary=new U6},r.prototype.isBound=function(t){var e=this._bindingDictionary.hasKey(t);return!e&&this.parent&&(e=this.parent.isBound(t)),e},r.prototype.isBoundNamed=function(t,e){return this.isBoundTagged(t,Ku,e)},r.prototype.isBoundTagged=function(t,e,n){var i=!1;if(this._bindingDictionary.hasKey(t)){var a=this._bindingDictionary.get(t),o=lBe(this,t,e,n);i=a.some(function(s){return s.constraint(o)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(t,e,n)),i},r.prototype.snapshot=function(){this._snapshots.push(mBe.of(this._bindingDictionary.clone(),this._middleware))},r.prototype.restore=function(){var t=this._snapshots.pop();if(t===void 0)throw new Error(NNe);this._bindingDictionary=t.bindings,this._middleware=t.middleware},r.prototype.createChild=function(t){var e=new r(t||this.options);return e.parent=this,e},r.prototype.applyMiddleware=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._appliedMiddleware=this._appliedMiddleware.concat(t);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce(function(i,a){return a(i)},n)},r.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},r.prototype.get=function(t){return this._get(!1,!1,yd.Variable,t)},r.prototype.getTagged=function(t,e,n){return this._get(!1,!1,yd.Variable,t,e,n)},r.prototype.getNamed=function(t,e){return this.getTagged(t,Ku,e)},r.prototype.getAll=function(t){return this._get(!0,!0,yd.Variable,t)},r.prototype.getAllTagged=function(t,e,n){return this._get(!1,!0,yd.Variable,t,e,n)},r.prototype.getAllNamed=function(t,e){return this.getAllTagged(t,Ku,e)},r.prototype.resolve=function(t){var e=this.createChild();return e.bind(t).toSelf(),this._appliedMiddleware.forEach(function(n){e.applyMiddleware(n)}),e.get(t)},r.prototype._getContainerModuleHelpersFactory=function(){var t=this,e=function(s,l){s._binding.moduleId=l},n=function(s){return function(l){var u=t.bind.bind(t),c=u(l);return e(c,s),c}},i=function(s){return function(l){var u=t.unbind.bind(t);u(l)}},a=function(s){return function(l){var u=t.isBound.bind(t);return u(l)}},o=function(s){return function(l){var u=t.rebind.bind(t),c=u(l);return e(c,s),c}};return function(s){return{bindFunction:n(s),isboundFunction:a(s),rebindFunction:o(s),unbindFunction:i(s)}}},r.prototype._get=function(t,e,n,i,a,o){var s=null,l={avoidConstraints:t,contextInterceptor:function(u){return u},isMultiInject:e,key:a,serviceIdentifier:i,targetType:n,value:o};if(this._middleware){if(s=this._middleware(l),s==null)throw new Error(BNe)}else s=this._planAndResolve()(l);return s},r.prototype._planAndResolve=function(){var t=this;return function(e){var n=sBe(t._metadataReader,t,e.isMultiInject,e.targetType,e.serviceIdentifier,e.key,e.value,e.avoidConstraints);n=e.contextInterceptor(n);var i=vBe(n);return i}},r}();function gi(){return function(r){if(Reflect.hasOwnMetadata(KD,r))throw new Error(ANe);var t=Reflect.getMetadata(CNe,r)||[];return Reflect.defineMetadata(KD,t,r),r}}function sf(r){return function(t,e,n){var i=new bv(Ku,r);typeof n=="number"?oee(t,e,n,i):see(t,e,i)}}var zt={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")},wBe=function r(){Rr(this,r),this.index=void 0},SBe=function r(){Rr(this,r),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},CBe=function(){function r(){Rr(this,r),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return Yr(r,[{key:"read",value:function(e){return this.reads.find(function(n){return n.index===e.index})||this.reads.push(e),e}},{key:"sample",value:function(e){return this.read(e),e}},{key:"write",value:function(e,n){var i=this.writes.find(function(l){return l.index===n.index});if(i)return n;var a=e.getResourceNode(n);a.resource.version++,a.resource.imported&&(this.hasSideEffect=!0);var o=e.createResourceNode(a.resource),s=e.getResourceNode(o);return s.writer=this,this.writes.push(o),o}}]),r}();function JD(r,t){return JD=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},JD(r,t)}function Es(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&JD(r,t)}function Dd(r){return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(r)}function Ra(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function _s(r,t){if(t&&(Dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ra(r)}function pi(r){return pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pi(r)}var EBe=function r(){Rr(this,r),this.first=void 0,this.last=void 0};function _Be(r){var t=TBe();return function(){var n=pi(r),i;if(t){var a=pi(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _s(this,i)}}function TBe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var H6=function(r){Es(e,r);var t=_Be(e);function e(){var n;Rr(this,e);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a)),n.version=0,n.refs=0,n.name=void 0,n.imported=void 0,n.priority=void 0,n.discardStart=!0,n.discardEnd=!1,n.descriptor=void 0,n.resource=void 0,n}return Yr(e,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){!this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){!this.imported}}]),e}(EBe),ABe=function r(){Rr(this,r),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0},V6,W6,j6,cP,Y6,X6;function uu(r,t){var e;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(e=kBe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){e=r[Symbol.iterator]()},n:function(){var u=e.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(o)throw s}}}}function kBe(r,t){if(!!r){if(typeof r=="string")return q6(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return q6(r,t)}}function q6(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}var MBe=(V6=gi(),W6=$r(zt.RenderEngine),V6(j6=(cP=(X6=function(){function r(){Rr(this,r),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],Br(this,"engine",Y6,this)}return Yr(r,[{key:"execute",value:function(){var t=ii(kr.mark(function n(i){return kr.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.compile(),o.next=3,this.executePassNodes(i);case 3:case"end":return o.stop()}},n,this)}));function e(n){return t.apply(this,arguments)}return e}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach(function(e){e.tearDown&&e.tearDown()}),this.reset()}},{key:"addPass",value:function(e,n,i,a){var o=new SBe;o.execute=i,a&&(o.tearDown=a),o.name=e;var s=new CBe;return s.name=e,this.passNodes.push(s),this.frameGraphPasses.push(o),n(this,s,o),o}},{key:"getPass",value:function(e){return this.frameGraphPasses.find(function(n){return n.name===e})}},{key:"compile",value:function(){var e=this,n=uu(this.passNodes),i;try{for(n.s();!(i=n.n()).done;){var a=i.value;a.refCount=a.writes.length+(a.hasSideEffect?1:0),a.reads.forEach(function(L){e.resourceNodes[L.index].readerCount++})}}catch(L){n.e(L)}finally{n.f()}var o=[],s=uu(this.resourceNodes),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;u.readerCount===0&&o.push(u)}}catch(L){s.e(L)}finally{s.f()}for(;o.length;){var c=o.pop(),f=c&&c.writer;if(f&&--f.refCount===0){var d=uu(f.reads),h;try{for(d.s();!(h=d.n()).done;){var v=h.value,p=this.resourceNodes[v.index];--p.readerCount===0&&o.push(p)}}catch(L){d.e(L)}finally{d.f()}}}this.resourceNodes.forEach(function(L){L.resource.refs+=L.readerCount});var g=uu(this.passNodes),m;try{for(g.s();!(m=g.n()).done;){var y=m.value;if(!!y.refCount){var b=uu(y.reads),w;try{for(b.s();!(w=b.n()).done;){var S=w.value,E=this.resourceNodes[S.index].resource;E.first=E.first?E.first:y,E.last=y}}catch(L){b.e(L)}finally{b.f()}var _=uu(y.writes),A;try{for(_.s();!(A=_.n()).done;){var k=A.value,T=this.resourceNodes[k.index].resource;T.first=T.first?T.first:y,T.last=y}}catch(L){_.e(L)}finally{_.f()}}}}catch(L){g.e(L)}finally{g.f()}for(var I=0;I<2;I++){var D=uu(this.resourceNodes),O;try{for(D.s();!(O=D.n()).done;){var B=O.value,U=B.resource;if(U.priority===I&&U.refs){var N=U.first,G=U.last;N&&G&&(N.devirtualize.push(U),G.destroy.push(U))}}}catch(L){D.e(L)}finally{D.f()}}}},{key:"executePassNodes",value:function(){var t=ii(kr.mark(function n(i){var a,o,s,l,u,c,f,d,h,v,p,g,m,y,b,w,S;return kr.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:a=uu(this.passNodes.entries()),_.prev=1,a.s();case 3:if((o=a.n()).done){_.next=18;break}if(s=zA(o.value,2),l=s[0],u=s[1],!u.refCount){_.next=16;break}c=uu(u.devirtualize);try{for(c.s();!(f=c.n()).done;)d=f.value,d.preExecuteDevirtualize(this.engine)}catch(A){c.e(A)}finally{c.f()}h=uu(u.destroy);try{for(h.s();!(v=h.n()).done;)p=v.value,p.preExecuteDestroy(this.engine)}catch(A){h.e(A)}finally{h.f()}return _.next=12,this.frameGraphPasses[l].execute(this,this.frameGraphPasses[l],i);case 12:g=uu(u.devirtualize);try{for(g.s();!(m=g.n()).done;)y=m.value,y.postExecuteDevirtualize(this.engine)}catch(A){g.e(A)}finally{g.f()}b=uu(u.destroy);try{for(b.s();!(w=b.n()).done;)S=w.value,S.postExecuteDestroy(this.engine)}catch(A){b.e(A)}finally{b.f()}case 16:_.next=3;break;case 18:_.next=23;break;case 20:_.prev=20,_.t0=_.catch(1),a.e(_.t0);case 23:return _.prev=23,a.f(),_.finish(23);case 26:this.reset();case 27:case"end":return _.stop()}},n,this,[[1,20,23,26]])}));function e(n){return t.apply(this,arguments)}return e}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(e){return this.resourceNodes[e.index]}},{key:"createResourceNode",value:function(e){var n=new ABe;n.resource=e,n.version=e.version,this.resourceNodes.push(n);var i=new wBe;return i.index=this.resourceNodes.length-1,i}},{key:"createTexture",value:function(e,n,i){var a=new H6;return a.name=n,a.descriptor=i,this.createResourceNode(a)}},{key:"createRenderTarget",value:function(e,n,i){var a=new H6;return a.name=n,a.descriptor=i,this.createResourceNode(a)}},{key:"present",value:function(e){this.addPass("Present",function(n,i){i.read(e),i.hasSideEffect=!0},ii(kr.mark(function n(){return kr.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:case"end":return a.stop()}},n)})))}}]),r}(),X6),Y6=zr(cP.prototype,"engine",[W6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cP))||j6);function Mt(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var IBe=9007199254740991,PBe="[object Arguments]",RBe="[object Array]",DBe="[object Boolean]",OBe="[object Date]",LBe="[object Error]",FBe="[object Function]",NBe="[object Map]",BBe="[object Number]",zBe="[object Object]",$Be="[object RegExp]",GBe="[object Set]",UBe="[object String]",HBe="[object WeakMap]",VBe="[object ArrayBuffer]",WBe="[object DataView]",jBe="[object Float32Array]",YBe="[object Float64Array]",XBe="[object Int8Array]",qBe="[object Int16Array]",KBe="[object Int32Array]",ZBe="[object Uint8Array]",QBe="[object Uint8ClampedArray]",JBe="[object Uint16Array]",e3e="[object Uint32Array]",fa={};fa[jBe]=fa[YBe]=fa[XBe]=fa[qBe]=fa[KBe]=fa[ZBe]=fa[QBe]=fa[JBe]=fa[e3e]=!0;fa[PBe]=fa[RBe]=fa[VBe]=fa[DBe]=fa[WBe]=fa[OBe]=fa[LBe]=fa[FBe]=fa[NBe]=fa[BBe]=fa[zBe]=fa[$Be]=fa[GBe]=fa[UBe]=fa[HBe]=!1;var t3e=Object.prototype,r3e=t3e.toString;function n3e(r){return a3e(r)&&i3e(r.length)&&!!fa[r3e.call(r)]}function i3e(r){return typeof r=="number"&&r>-1&&r%1===0&&r<=IBe}function a3e(r){return!!r&&Dd(r)==="object"}var K6=n3e;function Z6(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function Q6(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Z6(Object(e),!0).forEach(function(n){Mt(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Z6(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function o3e(r){var t=s3e();return function(){var n=pi(r),i;if(t){var a=pi(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _s(this,i)}}function s3e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var l3e=function(r){Es(e,r);var t=o3e(e);function e(n){var i;return Rr(this,e),i=t.call(this,n),i.dirty=!0,i.attributes=[],i.indices=void 0,i.indicesBuffer=void 0,i.vertexCount=0,i.maxInstancedCount=void 0,i.aabb=void 0,i.entity=void 0,Object.assign(Ra(i),n),i}return Yr(e,[{key:"setAttribute",value:function(i,a,o,s){var l=this.attributes.find(function(u){return u.name===i});return l?(l.data=a,l.dirty=!0):this.attributes.push(Q6(Q6({dirty:!0,name:i,data:a},o),{},{bufferGetter:s})),this.dirty=!0,this}},{key:"setIndex",value:function(i){return this.indices=new Uint32Array(i.buffer?i.buffer:i),this.dirty=!0,this}},{key:"applyMatrix",value:function(i){var a=this.attributes.find(function(d){var h=d.name;return h==="position"}),o=this.attributes.find(function(d){var h=d.name;return h==="normal"});if(a&&(a.dirty=!0,a.data&&a.data.length))for(var s=0;s<a.data.length;s+=3){var l=OK(a.data[s],a.data[s+1],a.data[s+2],1);n1(l,l,i),K6(a.data)?a.data.set([l[0],l[1],l[2]],s):(a.data[s]=l[0],a.data[s+1]=l[1],a.data[s+2]=l[2])}if(o){var u=IK(q0(),i);if(o.data&&o.data.length)for(var c=0;c<o.data.length;c+=3){var f=kn(o.data[c],o.data[c+1],o.data[c+2]);of(f,f,u),k1(f,f),K6(o.data)?o.data.set([f[0],f[1],f[2]],c):(o.data[c]=f[0],o.data[c+1]=f[1],o.data[c+2]=f[2])}}}}]),e}(Zg),Je;(function(r){r[r.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",r[r.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",r[r.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",r[r.POINTS=0]="POINTS",r[r.LINES=1]="LINES",r[r.LINE_LOOP=2]="LINE_LOOP",r[r.LINE_STRIP=3]="LINE_STRIP",r[r.TRIANGLES=4]="TRIANGLES",r[r.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",r[r.TRIANGLE_FAN=6]="TRIANGLE_FAN",r[r.ZERO=0]="ZERO",r[r.ONE=1]="ONE",r[r.SRC_COLOR=768]="SRC_COLOR",r[r.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",r[r.SRC_ALPHA=770]="SRC_ALPHA",r[r.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",r[r.DST_ALPHA=772]="DST_ALPHA",r[r.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",r[r.DST_COLOR=774]="DST_COLOR",r[r.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",r[r.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",r[r.FUNC_ADD=32774]="FUNC_ADD",r[r.BLEND_EQUATION=32777]="BLEND_EQUATION",r[r.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",r[r.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",r[r.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",r[r.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",r[r.MAX_EXT=32776]="MAX_EXT",r[r.MIN_EXT=32775]="MIN_EXT",r[r.BLEND_DST_RGB=32968]="BLEND_DST_RGB",r[r.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",r[r.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",r[r.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",r[r.CONSTANT_COLOR=32769]="CONSTANT_COLOR",r[r.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",r[r.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",r[r.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",r[r.BLEND_COLOR=32773]="BLEND_COLOR",r[r.ARRAY_BUFFER=34962]="ARRAY_BUFFER",r[r.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",r[r.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",r[r.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",r[r.STREAM_DRAW=35040]="STREAM_DRAW",r[r.STATIC_DRAW=35044]="STATIC_DRAW",r[r.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",r[r.BUFFER_SIZE=34660]="BUFFER_SIZE",r[r.BUFFER_USAGE=34661]="BUFFER_USAGE",r[r.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",r[r.FRONT=1028]="FRONT",r[r.BACK=1029]="BACK",r[r.FRONT_AND_BACK=1032]="FRONT_AND_BACK",r[r.CULL_FACE=2884]="CULL_FACE",r[r.BLEND=3042]="BLEND",r[r.DITHER=3024]="DITHER",r[r.STENCIL_TEST=2960]="STENCIL_TEST",r[r.DEPTH_TEST=2929]="DEPTH_TEST",r[r.SCISSOR_TEST=3089]="SCISSOR_TEST",r[r.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",r[r.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",r[r.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",r[r.NO_ERROR=0]="NO_ERROR",r[r.INVALID_ENUM=1280]="INVALID_ENUM",r[r.INVALID_VALUE=1281]="INVALID_VALUE",r[r.INVALID_OPERATION=1282]="INVALID_OPERATION",r[r.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",r[r.CW=2304]="CW",r[r.CCW=2305]="CCW",r[r.LINE_WIDTH=2849]="LINE_WIDTH",r[r.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",r[r.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",r[r.CULL_FACE_MODE=2885]="CULL_FACE_MODE",r[r.FRONT_FACE=2886]="FRONT_FACE",r[r.DEPTH_RANGE=2928]="DEPTH_RANGE",r[r.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",r[r.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",r[r.DEPTH_FUNC=2932]="DEPTH_FUNC",r[r.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",r[r.STENCIL_FUNC=2962]="STENCIL_FUNC",r[r.STENCIL_FAIL=2964]="STENCIL_FAIL",r[r.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",r[r.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",r[r.STENCIL_REF=2967]="STENCIL_REF",r[r.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",r[r.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",r[r.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",r[r.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",r[r.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",r[r.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",r[r.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",r[r.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",r[r.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",r[r.VIEWPORT=2978]="VIEWPORT",r[r.SCISSOR_BOX=3088]="SCISSOR_BOX",r[r.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",r[r.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",r[r.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",r[r.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",r[r.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",r[r.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",r[r.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",r[r.RED_BITS=3410]="RED_BITS",r[r.GREEN_BITS=3411]="GREEN_BITS",r[r.BLUE_BITS=3412]="BLUE_BITS",r[r.ALPHA_BITS=3413]="ALPHA_BITS",r[r.DEPTH_BITS=3414]="DEPTH_BITS",r[r.STENCIL_BITS=3415]="STENCIL_BITS",r[r.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",r[r.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",r[r.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",r[r.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",r[r.SAMPLES=32937]="SAMPLES",r[r.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",r[r.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",r[r.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",r[r.DONT_CARE=4352]="DONT_CARE",r[r.FASTEST=4353]="FASTEST",r[r.NICEST=4354]="NICEST",r[r.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",r[r.BYTE=5120]="BYTE",r[r.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",r[r.SHORT=5122]="SHORT",r[r.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",r[r.INT=5124]="INT",r[r.UNSIGNED_INT=5125]="UNSIGNED_INT",r[r.FLOAT=5126]="FLOAT",r[r.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",r[r.ALPHA=6406]="ALPHA",r[r.RGB=6407]="RGB",r[r.RGBA=6408]="RGBA",r[r.LUMINANCE=6409]="LUMINANCE",r[r.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",r[r.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",r[r.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",r[r.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",r[r.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",r[r.VERTEX_SHADER=35633]="VERTEX_SHADER",r[r.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",r[r.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",r[r.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",r[r.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",r[r.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",r[r.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",r[r.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",r[r.SHADER_TYPE=35663]="SHADER_TYPE",r[r.DELETE_STATUS=35712]="DELETE_STATUS",r[r.LINK_STATUS=35714]="LINK_STATUS",r[r.VALIDATE_STATUS=35715]="VALIDATE_STATUS",r[r.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",r[r.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",r[r.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",r[r.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",r[r.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",r[r.NEVER=512]="NEVER",r[r.LESS=513]="LESS",r[r.EQUAL=514]="EQUAL",r[r.LEQUAL=515]="LEQUAL",r[r.GREATER=516]="GREATER",r[r.NOTEQUAL=517]="NOTEQUAL",r[r.GEQUAL=518]="GEQUAL",r[r.ALWAYS=519]="ALWAYS",r[r.KEEP=7680]="KEEP",r[r.REPLACE=7681]="REPLACE",r[r.INCR=7682]="INCR",r[r.DECR=7683]="DECR",r[r.INVERT=5386]="INVERT",r[r.INCR_WRAP=34055]="INCR_WRAP",r[r.DECR_WRAP=34056]="DECR_WRAP",r[r.VENDOR=7936]="VENDOR",r[r.RENDERER=7937]="RENDERER",r[r.VERSION=7938]="VERSION",r[r.NEAREST=9728]="NEAREST",r[r.LINEAR=9729]="LINEAR",r[r.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",r[r.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",r[r.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",r[r.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",r[r.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",r[r.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",r[r.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",r[r.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",r[r.TEXTURE_2D=3553]="TEXTURE_2D",r[r.TEXTURE=5890]="TEXTURE",r[r.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",r[r.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",r[r.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",r[r.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",r[r.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",r[r.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",r[r.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",r[r.TEXTURE0=33984]="TEXTURE0",r[r.TEXTURE1=33985]="TEXTURE1",r[r.TEXTURE2=33986]="TEXTURE2",r[r.TEXTURE3=33987]="TEXTURE3",r[r.TEXTURE4=33988]="TEXTURE4",r[r.TEXTURE5=33989]="TEXTURE5",r[r.TEXTURE6=33990]="TEXTURE6",r[r.TEXTURE7=33991]="TEXTURE7",r[r.TEXTURE8=33992]="TEXTURE8",r[r.TEXTURE9=33993]="TEXTURE9",r[r.TEXTURE10=33994]="TEXTURE10",r[r.TEXTURE11=33995]="TEXTURE11",r[r.TEXTURE12=33996]="TEXTURE12",r[r.TEXTURE13=33997]="TEXTURE13",r[r.TEXTURE14=33998]="TEXTURE14",r[r.TEXTURE15=33999]="TEXTURE15",r[r.TEXTURE16=34e3]="TEXTURE16",r[r.TEXTURE17=34001]="TEXTURE17",r[r.TEXTURE18=34002]="TEXTURE18",r[r.TEXTURE19=34003]="TEXTURE19",r[r.TEXTURE20=34004]="TEXTURE20",r[r.TEXTURE21=34005]="TEXTURE21",r[r.TEXTURE22=34006]="TEXTURE22",r[r.TEXTURE23=34007]="TEXTURE23",r[r.TEXTURE24=34008]="TEXTURE24",r[r.TEXTURE25=34009]="TEXTURE25",r[r.TEXTURE26=34010]="TEXTURE26",r[r.TEXTURE27=34011]="TEXTURE27",r[r.TEXTURE28=34012]="TEXTURE28",r[r.TEXTURE29=34013]="TEXTURE29",r[r.TEXTURE30=34014]="TEXTURE30",r[r.TEXTURE31=34015]="TEXTURE31",r[r.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",r[r.REPEAT=10497]="REPEAT",r[r.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",r[r.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",r[r.FLOAT_VEC2=35664]="FLOAT_VEC2",r[r.FLOAT_VEC3=35665]="FLOAT_VEC3",r[r.FLOAT_VEC4=35666]="FLOAT_VEC4",r[r.INT_VEC2=35667]="INT_VEC2",r[r.INT_VEC3=35668]="INT_VEC3",r[r.INT_VEC4=35669]="INT_VEC4",r[r.BOOL=35670]="BOOL",r[r.BOOL_VEC2=35671]="BOOL_VEC2",r[r.BOOL_VEC3=35672]="BOOL_VEC3",r[r.BOOL_VEC4=35673]="BOOL_VEC4",r[r.FLOAT_MAT2=35674]="FLOAT_MAT2",r[r.FLOAT_MAT3=35675]="FLOAT_MAT3",r[r.FLOAT_MAT4=35676]="FLOAT_MAT4",r[r.SAMPLER_2D=35678]="SAMPLER_2D",r[r.SAMPLER_CUBE=35680]="SAMPLER_CUBE",r[r.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",r[r.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",r[r.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",r[r.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",r[r.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",r[r.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",r[r.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",r[r.COMPILE_STATUS=35713]="COMPILE_STATUS",r[r.LOW_FLOAT=36336]="LOW_FLOAT",r[r.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",r[r.HIGH_FLOAT=36338]="HIGH_FLOAT",r[r.LOW_INT=36339]="LOW_INT",r[r.MEDIUM_INT=36340]="MEDIUM_INT",r[r.HIGH_INT=36341]="HIGH_INT",r[r.FRAMEBUFFER=36160]="FRAMEBUFFER",r[r.RENDERBUFFER=36161]="RENDERBUFFER",r[r.RGBA4=32854]="RGBA4",r[r.RGB5_A1=32855]="RGB5_A1",r[r.RGB565=36194]="RGB565",r[r.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",r[r.STENCIL_INDEX=6401]="STENCIL_INDEX",r[r.STENCIL_INDEX8=36168]="STENCIL_INDEX8",r[r.DEPTH_STENCIL=34041]="DEPTH_STENCIL",r[r.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",r[r.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",r[r.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",r[r.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",r[r.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",r[r.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",r[r.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",r[r.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",r[r.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",r[r.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",r[r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",r[r.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",r[r.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",r[r.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",r[r.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",r[r.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",r[r.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",r[r.NONE=0]="NONE",r[r.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",r[r.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",r[r.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",r[r.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",r[r.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",r[r.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",r[r.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",r[r.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",r[r.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",r[r.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",r[r.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",r[r.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",r[r.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",r[r.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",r[r.COPY_SRC=1]="COPY_SRC",r[r.COPY_DST=2]="COPY_DST",r[r.SAMPLED=4]="SAMPLED",r[r.STORAGE=8]="STORAGE",r[r.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(Je||(Je={}));var J6,eG,tG,rG,NE,nG,iG,aG,u3e=(J6=gi(),eG=$r(zt.GeometryComponentManager),tG=$r(zt.RenderEngine),J6(rG=(NE=(aG=function(){function r(){Rr(this,r),Br(this,"geometry",nG,this),Br(this,"engine",iG,this)}return Yr(r,[{key:"execute",value:function(){var t=ii(kr.mark(function n(){var i=this;return kr.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:this.geometry.forEach(function(s,l){l.dirty&&(l.attributes.forEach(function(u){if(u.dirty&&u.data){if(!u.buffer)u.buffer=i.engine.createBuffer({data:u.data,type:Je.FLOAT});else{var c;(c=u.buffer)===null||c===void 0||c.subData({data:u.data,offset:0})}u.dirty=!1}}),l.indices&&(l.indicesBuffer?l.indicesBuffer.subData({data:l.indices,offset:0}):l.indicesBuffer=i.engine.createElements({data:l.indices,count:l.indices.length,type:Je.UNSIGNED_INT,usage:Je.STATIC_DRAW})),l.dirty=!1)});case 1:case"end":return o.stop()}},n,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"tearDown",value:function(){this.geometry.forEach(function(e,n){n.indicesBuffer&&n.indicesBuffer.destroy(),n.attributes.forEach(function(i){i.buffer&&i.buffer.destroy()})}),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{vertexCount:3},n=e.vertexCount,i=Yc();return this.geometry.create(i,{vertexCount:n})}},{key:"createInstancedBufferGeometry",value:function(e){var n=e.maxInstancedCount,i=e.vertexCount,a=Yc();return this.geometry.create(a,{maxInstancedCount:n,vertexCount:i})}}]),r}(),aG),nG=zr(NE.prototype,"geometry",[eG],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),iG=zr(NE.prototype,"engine",[tG],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),NE))||rG);function oG(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function sG(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?oG(Object(e),!0).forEach(function(n){Mt(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):oG(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function c3e(r){var t=f3e();return function(){var n=pi(r),i;if(t){var a=pi(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _s(this,i)}}function f3e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var d3e=function(r){Es(e,r);var t=c3e(e);function e(n){var i;return Rr(this,e),i=t.call(this,n),i.vertexShaderGLSL=void 0,i.fragmentShaderGLSL=void 0,i.defines={},i.dirty=!0,i.uniforms=[],i.cull={enable:!0,face:Je.BACK},i.depth={enable:!0},i.blend=void 0,i.entity=void 0,i.type=void 0,Object.assign(Ra(i),n),i}return Yr(e,[{key:"setDefines",value:function(i){return this.defines=sG(sG({},this.defines),i),this}},{key:"setCull",value:function(i){return this.cull=i,this}},{key:"setDepth",value:function(i){return this.depth=i,this}},{key:"setBlend",value:function(i){return this.blend=i,this}},{key:"setUniform",value:function(i,a){var o=this;if(typeof i!="string")return Object.keys(i).forEach(function(l){return o.setUniform(l,i[l])}),this;var s=this.uniforms.find(function(l){return l.name===i});return s?(s.dirty=!0,s.data=a):this.uniforms.push({name:i,dirty:!0,data:a}),this.dirty=!0,this}}]),e}(Zg),lG,uG,cG,fG,dG,Cx,hG,vG,pG,gG;function mG(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function yG(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?mG(Object(e),!0).forEach(function(n){Mt(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):mG(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}var h3e=(lG=gi(),uG=$r(zt.MaterialComponentManager),cG=$r(zt.RenderEngine),fG=$r(zt.ShaderModuleService),lG(dG=(Cx=(gG=function(){function r(){Rr(this,r),Br(this,"material",hG,this),Br(this,"engine",vG,this),Br(this,"shaderModule",pG,this)}return Yr(r,[{key:"execute",value:function(){var t=ii(kr.mark(function n(){return kr.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:case"end":return a.stop()}},n)}));function e(){return t.apply(this,arguments)}return e}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(e){var n=Yc(),i=e.vertexShader,a=e.fragmentShader,o=[];if(!this.engine.supportWebGPU){var s="material-".concat(n);this.shaderModule.registerModule(s,{vs:e.vertexShader,fs:e.fragmentShader});var l=this.shaderModule.getModule(s);i=l.vs,a=l.fs,l.uniforms&&(o=Object.keys(l.uniforms).map(function(u){return{dirty:!0,name:u,data:l.uniforms[u]}}))}return this.material.create(n,yG(yG({vertexShaderGLSL:i,fragmentShaderGLSL:a},e),{},{uniforms:o}))}}]),r}(),gG),hG=zr(Cx.prototype,"material",[uG],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vG=zr(Cx.prototype,"engine",[cG],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pG=zr(Cx.prototype,"shaderModule",[fG],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cx))||dG);function v3e(r){var t=p3e();return function(){var n=pi(r),i;if(t){var a=pi(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _s(this,i)}}function p3e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var eO;(function(r){r[r.Standard=0]="Standard"})(eO||(eO={}));var g3e=function(r){Es(e,r);var t=v3e(e);function e(n){var i;return Rr(this,e),i=t.call(this,n),i.strategy=eO.Standard,i.visibilityPlaneMask=0,i.visible=!1,Object.assign(Ra(i),n),i}return e}(Zg),wN=function(){function r(t,e){Rr(this,r),this.center=void 0,this.halfExtents=void 0,this.min=Ci(),this.max=Ci(),this.update(t,e)}return Yr(r,[{key:"update",value:function(e,n){this.center=e||Ci(),this.halfExtents=n||kn(.5,.5,.5),this.min=nD(this.min,this.center,this.halfExtents),this.max=gd(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(e,n){gd(this.center,n,e),sw(this.center,this.center,.5),nD(this.halfExtents,n,e),sw(this.halfExtents,this.halfExtents,.5),os(this.min,e),os(this.max,n)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(e){var n=this.center,i=n[0],a=n[1],o=n[2],s=this.halfExtents,l=s[0],u=s[1],c=s[2],f=i-l,d=i+l,h=a-u,v=a+u,p=o-c,g=o+c,m=e.center,y=m[0],b=m[1],w=m[2],S=e.halfExtents,E=S[0],_=S[1],A=S[2],k=y-E,T=y+E,I=b-_,D=b+_,O=w-A,B=w+A;k<f&&(f=k),T>d&&(d=T),I<h&&(h=I),D>v&&(v=D),O<p&&(p=O),B>g&&(g=B),n[0]=(f+d)*.5,n[1]=(h+v)*.5,n[2]=(p+g)*.5,s[0]=(d-f)*.5,s[1]=(v-h)*.5,s[2]=(g-p)*.5,this.min[0]=f,this.min[1]=h,this.min[2]=p,this.max[0]=d,this.max[1]=v,this.max[2]=g}},{key:"intersects",value:function(e){var n=this.getMax(),i=this.getMin(),a=e.getMax(),o=e.getMin();return i[0]<=a[0]&&n[0]>=o[0]&&i[1]<=a[1]&&n[1]>=o[1]&&i[2]<=a[2]&&n[2]>=o[2]}},{key:"containsPoint",value:function(e){var n=this.getMin(),i=this.getMax();return!(e[0]<n[0]||e[0]>i[0]||e[1]<n[1]||e[1]>i[1]||e[2]<n[2]||e[2]>i[2])}},{key:"getNegativeFarPoint",value:function(e){return e.pnVertexFlag===273?os(Ci(),this.min):e.pnVertexFlag===272?kn(this.min[0],this.min[1],this.max[2]):e.pnVertexFlag===257?kn(this.min[0],this.max[1],this.min[2]):e.pnVertexFlag===256?kn(this.min[0],this.max[1],this.max[2]):e.pnVertexFlag===17?kn(this.max[0],this.min[1],this.min[2]):e.pnVertexFlag===16?kn(this.max[0],this.min[1],this.max[2]):e.pnVertexFlag===1?kn(this.max[0],this.max[1],this.min[2]):kn(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(e){return e.pnVertexFlag===273?os(Ci(),this.max):e.pnVertexFlag===272?kn(this.max[0],this.max[1],this.min[2]):e.pnVertexFlag===257?kn(this.max[0],this.min[1],this.max[2]):e.pnVertexFlag===256?kn(this.max[0],this.min[1],this.min[2]):e.pnVertexFlag===17?kn(this.min[0],this.max[1],this.max[2]):e.pnVertexFlag===16?kn(this.min[0],this.max[1],this.min[2]):e.pnVertexFlag===1?kn(this.min[0],this.min[1],this.max[2]):kn(this.min[0],this.min[1],this.min[2])}}]),r}();function m3e(r){var t=y3e();return function(){var n=pi(r),i;if(t){var a=pi(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _s(this,i)}}function y3e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var b3e=function(r){Es(e,r);var t=m3e(e);function e(n){var i;return Rr(this,e),i=t.call(this,n),i.material=void 0,i.geometry=void 0,i.aabb=new wN,i.aabbDirty=!0,i.model=void 0,i.visible=!0,i.children=[],Object.assign(Ra(i),n),i}return e}(Zg),x3e=function(){function r(t,e){Rr(this,r),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=t||0,this.normal=e||kn(0,1,0),this.updatePNVertexFlag()}return Yr(r,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(e){return R_(e,this.normal)-this.distance}},{key:"normalize",value:function(){var e=1/DK(this.normal);sw(this.normal,this.normal,e),this.distance*=e}},{key:"intersectsLine",value:function(e,n,i){var a=this.distanceToPoint(e),o=this.distanceToPoint(n),s=a/(a-o),l=s>=0&&s<=1;return l&&i&&Tg(i,e,n,s),l}}]),r}(),jh;(function(r){r[r.OUTSIDE=4294967295]="OUTSIDE",r[r.INSIDE=0]="INSIDE",r[r.INDETERMINATE=2147483647]="INDETERMINATE"})(jh||(jh={}));var w3e=function(){function r(t){if(Rr(this,r),this.planes=[],t)this.planes=t;else for(var e=0;e<6;e++)this.planes.push(new x3e)}return Yr(r,[{key:"extractFromVPMatrix",value:function(e){var n=zA(e,16),i=n[0],a=n[1],o=n[2],s=n[3],l=n[4],u=n[5],c=n[6],f=n[7],d=n[8],h=n[9],v=n[10],p=n[11],g=n[12],m=n[13],y=n[14],b=n[15];ry(this.planes[0].normal,s-i,f-l,p-d),this.planes[0].distance=-(b-g),ry(this.planes[1].normal,s+i,f+l,p+d),this.planes[1].distance=-(b+g),ry(this.planes[2].normal,s+a,f+u,p+h),this.planes[2].distance=-(b+m),ry(this.planes[3].normal,s-a,f-u,p-h),this.planes[3].distance=-(b-m),ry(this.planes[4].normal,s-o,f-c,p-v),this.planes[4].distance=-(b-y),ry(this.planes[5].normal,s+o,f+c,p+v),this.planes[5].distance=-(b+y),this.planes.forEach(function(w){w.normalize(),w.updatePNVertexFlag()})}}]),r}();function S3e(r,t){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[4],t[4]=r[5],t[5]=r[6],t[6]=r[8],t[7]=r[9],t[8]=r[10],t}function C3e(r){var t=zA(r,3),e=t[0],n=t[1],i=t[2],a=e+n*256+i*65536-1;return a}var bG,xG,wG,SG,CG,EG,_G,_p,TG,AG,kG,MG,IG,PG;function RG(r,t){var e;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(e=E3e(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){e=r[Symbol.iterator]()},n:function(){var u=e.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(o)throw s}}}}function E3e(r,t){if(!!r){if(typeof r=="string")return DG(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return DG(r,t)}}function DG(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}var _3e=(bG=gi(),xG=$r(zt.MeshComponentManager),wG=$r(zt.CullableComponentManager),SG=$r(zt.GeometryComponentManager),CG=$r(zt.HierarchyComponentManager),EG=$r(zt.TransformComponentManager),bG(_G=(_p=(PG=function(){function r(){Rr(this,r),Br(this,"mesh",TG,this),Br(this,"cullable",AG,this),Br(this,"geometry",kG,this),Br(this,"hierarchy",MG,this),Br(this,"transform",IG,this),this.planes=void 0}return Yr(r,[{key:"setFrustumPlanes",value:function(e){this.planes=e}},{key:"execute",value:function(){var t=ii(kr.mark(function n(i){var a,o,s,l,u,c,f,d,h,v,p,g,m,y,b,w,S,E,_,A,k;return kr.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:a=RG(i);try{for(a.s();!(o=a.n()).done;){s=o.value,l=s.getScene(),u=s.getCamera(),c=RG(l.getEntities());try{for(c.s();!(f=c.n()).done;)d=f.value,h=this.mesh.getComponentByEntity(d),h&&(v=this.hierarchy.getComponentByEntity(d),p=this.cullable.getComponentByEntity(d),g=h.geometry,m=this.transform.getComponentByEntity(d),g&&g.aabb&&m&&h.aabbDirty&&(y=m.worldTransform,b=g.aabb,w=b.center,S=b.halfExtents,E=xF(Ci(),w,y),_=S3e(y,q0()),A=of(Ci(),S,_),h.aabb.update(E,A),h.aabbDirty=!1),p&&g&&(k=this.cullable.getComponentByEntity((v==null?void 0:v.parentID)||-1),p.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(h.aabb,(k==null?void 0:k.visibilityPlaneMask)||jh.INDETERMINATE,this.planes||u.getFrustum().planes),p.visible=p.visibilityPlaneMask!==jh.OUTSIDE))}catch(D){c.e(D)}finally{c.f()}}}catch(D){a.e(D)}finally{a.f()}case 2:case"end":return I.stop()}},n,this)}));function e(n){return t.apply(this,arguments)}return e}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(e,n,i){if(n===jh.OUTSIDE||n===jh.INSIDE)return n;for(var a=jh.INSIDE,o=0,s=i.length;o<s;++o){var l=o<31?1<<o:0;if(!(o<31&&(n&l)===0)){var u=i[o],c=u.normal,f=u.distance;if(R_(c,e.getNegativeFarPoint(i[o]))+f>0)return jh.OUTSIDE;R_(c,e.getPositiveFarPoint(i[o]))+f>0&&(a|=l)}}return a}}]),r}(),PG),TG=zr(_p.prototype,"mesh",[xG],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),AG=zr(_p.prototype,"cullable",[wG],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kG=zr(_p.prototype,"geometry",[SG],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),MG=zr(_p.prototype,"hierarchy",[CG],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),IG=zr(_p.prototype,"transform",[EG],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_p))||_G),OG,LG,FG,NG,BG,zG,$G,GG,UG,HG,VG,WG,Gu,jG,YG,XG,qG,KG,ZG,QG,JG,e8,t8,r8;function BE(r,t){var e;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(e=T3e(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){e=r[Symbol.iterator]()},n:function(){var u=e.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(o)throw s}}}}function T3e(r,t){if(!!r){if(typeof r=="string")return n8(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return n8(r,t)}}function n8(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}var C0=(OG=gi(),LG=$r(zt.MeshComponentManager),FG=$r(zt.GeometryComponentManager),NG=$r(zt.MaterialComponentManager),BG=$r(zt.CullableComponentManager),zG=$r(zt.TransformComponentManager),$G=$r(zt.HierarchyComponentManager),GG=$r(zt.Systems),UG=sf(zt.FrameGraphSystem),HG=$r(zt.RenderEngine),VG=$r(zt.ResourcePool),OG(WG=(Gu=(r8=t8=function(){function r(){var t=this;Rr(this,r),Br(this,"mesh",jG,this),Br(this,"geometry",YG,this),Br(this,"material",XG,this),Br(this,"cullable",qG,this),Br(this,"transform",KG,this),Br(this,"hierarchy",ZG,this),Br(this,"frameGraphSystem",QG,this),Br(this,"engine",JG,this),Br(this,"resourcePool",e8,this),this.modelCache={},this.setup=function(e,n,i){var a=e.createRenderTarget(n,"color buffer",{width:1,height:1,usage:Je.RENDER_ATTACHMENT|Je.SAMPLED|Je.COPY_SRC});i.data={output:n.write(e,a)}},this.execute=function(){var e=ii(kr.mark(function n(i,a,o){var s,l,u,c,f,d;return kr.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:s=i.getResourceNode(a.data.output),l=t.resourcePool.getOrCreateResource(s.resource),u=BE(o),v.prev=3,u.s();case 5:if((c=u.n()).done){v.next=11;break}return f=c.value,v.next=9,t.initView(f);case 9:v.next=5;break;case 11:v.next=16;break;case 13:v.prev=13,v.t0=v.catch(3),u.e(v.t0);case 16:return v.prev=16,u.f(),v.finish(16);case 19:d=t.engine.getCanvas(),l.resize({width:d.width,height:d.height}),t.engine.setScissor({enable:!1}),t.engine.clear({framebuffer:l,color:o[0].getClearColor(),depth:1}),t.engine.useFramebuffer(l,function(){var p=BE(o),g;try{for(p.s();!(g=p.n()).done;){var m=g.value;t.renderView(m)}}catch(y){p.e(y)}finally{p.f()}});case 24:case"end":return v.stop()}},n,null,[[3,13,16,19]])}));return function(n,i,a){return e.apply(this,arguments)}}()}return Yr(r,[{key:"renderView",value:function(e){var n=e.getScene(),i=e.getCamera(),a=i.getViewTransform(),o=sg(il(),i.getPerspective(),a);i.getFrustum().extractFromVPMatrix(o);var s=e.getViewport(),l=s.x,u=s.y,c=s.width,f=s.height;this.engine.viewport({x:l,y:u,width:c,height:f});var d=BE(n.getEntities()),h;try{for(d.s();!(h=d.n()).done;){var v=h.value;this.renderMesh(v,{camera:i,view:e,viewMatrix:a})}}catch(p){d.e(p)}finally{d.f()}}},{key:"renderMesh",value:function(e,n){var i=n.camera,a=n.view,o=n.viewMatrix,s=this.mesh.getComponentByEntity(e);if(!(!s||!s.visible)){var l=s.material,u=s.geometry;if(!(!u||u.dirty||!l)){var c=this.transform.getComponentByEntity(e),f=sg(il(),o,c.worldTransform),d=a.getViewport(),h=d.width,v=d.height;l.setUniform({projectionMatrix:i.getPerspective(),modelViewMatrix:f,modelMatrix:c.worldTransform,viewMatrix:o,cameraPosition:i.getPosition(),u_viewport:[h,v]}),s.model&&(s.model.draw({uniforms:l.uniforms.reduce(function(p,g){return p[g.name]=g.data,p},{})}),l.uniforms.forEach(function(p){p.dirty=!1}),l.dirty=!1)}}}},{key:"initMesh",value:function(){var t=ii(kr.mark(function n(i,a){var o,s,l,u,c,f,d,h;return kr.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(o=this.mesh.getComponentByEntity(i),o){p.next=3;break}return p.abrupt("return");case 3:if(s=o.material,l=o.geometry,!(!l||l.dirty||!s)){p.next=7;break}return p.abrupt("return");case 7:if(o.model){p.next=24;break}if(u="m-".concat(s.entity,"-g-").concat(l.entity),!this.modelCache[u]){p.next=12;break}return o.model=this.modelCache[u],p.abrupt("return");case 12:return s.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),c=this.engine,f=c.createModel,d=c.createAttribute,h={vs:s.vertexShaderGLSL,fs:s.fragmentShaderGLSL,defines:s.defines,attributes:l.attributes.reduce(function(g,m){return m.data&&m.buffer&&(g[m.name]=d({buffer:m.buffer,attributes:m.attributes,arrayStride:m.arrayStride,stepMode:m.stepMode,divisor:m.stepMode==="vertex"?0:1})),g},{}),uniforms:s.uniforms.reduce(function(g,m){return g[m.name]=m.data,g},{}),scissor:{enable:!0,box:function(){return a.getViewport()}}},s.cull&&(h.cull=s.cull),s.depth&&(h.depth=s.depth),s.blend&&(h.blend=s.blend),l.indicesBuffer&&(h.elements=l.indicesBuffer),l.maxInstancedCount&&(h.instances=l.maxInstancedCount,h.count=l.vertexCount||3),p.next=22,f(h);case 22:o.model=p.sent,this.modelCache[u]=o.model;case 24:case"end":return p.stop()}},n,this)}));function e(n,i){return t.apply(this,arguments)}return e}()},{key:"initView",value:function(){var t=ii(kr.mark(function n(i){var a,o,s,l;return kr.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:a=i.getScene(),o=BE(a.getEntities()),c.prev=2,o.s();case 4:if((s=o.n()).done){c.next=10;break}return l=s.value,c.next=8,this.initMesh(l,i);case 8:c.next=4;break;case 10:c.next=15;break;case 12:c.prev=12,c.t0=c.catch(2),o.e(c.t0);case 15:return c.prev=15,o.f(),c.finish(15);case 18:case"end":return c.stop()}},n,this,[[2,12,15,18]])}));function e(n){return t.apply(this,arguments)}return e}()}]),r}(),t8.IDENTIFIER="Render Pass",r8),jG=zr(Gu.prototype,"mesh",[LG],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),YG=zr(Gu.prototype,"geometry",[FG],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),XG=zr(Gu.prototype,"material",[NG],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qG=zr(Gu.prototype,"cullable",[BG],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),KG=zr(Gu.prototype,"transform",[zG],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ZG=zr(Gu.prototype,"hierarchy",[$G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),QG=zr(Gu.prototype,"frameGraphSystem",[GG,UG],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),JG=zr(Gu.prototype,"engine",[HG],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e8=zr(Gu.prototype,"resourcePool",[VG],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gu))||WG),i8,a8,o8,s8,l8,u8,sy,c8,f8,d8,h8,v8,p8;function fP(r,t){var e;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(e=A3e(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){e=r[Symbol.iterator]()},n:function(){var u=e.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(o)throw s}}}}function A3e(r,t){if(!!r){if(typeof r=="string")return g8(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return g8(r,t)}}function g8(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}var dP={NONE:0,ENCODE:1,HIGHLIGHT:2},tO=(i8=gi(),a8=$r(zt.RenderEngine),o8=$r(zt.ResourcePool),s8=$r(zt.RenderPassFactory),l8=$r(zt.MeshComponentManager),i8(u8=(sy=(p8=v8=function(){function r(){var t=this;Rr(this,r),Br(this,"engine",c8,this),Br(this,"resourcePool",f8,this),Br(this,"renderPassFactory",d8,this),Br(this,"mesh",h8,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(e,n,i){var a=e.createRenderTarget(n,"picking fbo",{width:1,height:1});i.data={output:n.write(e,a)},n.hasSideEffect=!0},this.execute=function(){var e=ii(kr.mark(function n(i,a,o){var s,l,u;return kr.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(t.views=o,!t.alreadyInRendering){f.next=3;break}return f.abrupt("return");case 3:s=fP(o);try{for(u=function(){var h=l.value,v=h.getViewport(),p=v.width,g=v.height;t.alreadyInRendering=!0;var m=i.getResourceNode(a.data.output);t.pickingFBO=t.resourcePool.getOrCreateResource(m.resource),t.pickingFBO.resize({width:p,height:g}),t.engine.useFramebuffer(t.pickingFBO,function(){t.engine.clear({framebuffer:t.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var y=t.renderPassFactory(C0.IDENTIFIER),b=[],w=h.getScene(),S=fP(w.getEntities()),E;try{for(S.s();!(E=S.n()).done;){var _=E.value,A=t.mesh.getComponentByEntity(_),k=A.material;k.setUniform("u_PickingStage",dP.ENCODE),b.push(A)}}catch(T){S.e(T)}finally{S.f()}y.renderView(h),b.forEach(function(T){var I=T.material;I.setUniform("u_PickingStage",dP.HIGHLIGHT)}),t.alreadyInRendering=!1})},s.s();!(l=s.n()).done;)u()}catch(d){s.e(d)}finally{s.f()}case 5:case"end":return f.stop()}},n)}));return function(n,i,a){return e.apply(this,arguments)}}(),this.pick=function(e,n){var i=e.x,a=e.y,o=t.engine,s=o.readPixels,l=o.useFramebuffer,u=n.getViewport(),c=u.width,f=u.height,d=i*window.devicePixelRatio,h=a*window.devicePixelRatio;if(!(d>c||d<0||h>f||h<0)){var v,p;return l(t.pickingFBO,function(){v=s({x:Math.round(d),y:Math.round(f-(a+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:t.pickingFBO}),(v[0]!==0||v[1]!==0||v[2]!==0)&&(p=C3e(v),t.highlightEnabled&&t.highlightPickedFeature(v,n))}),p}}}return Yr(r,[{key:"enableHighlight",value:function(e){this.highlightEnabled=e}},{key:"setHighlightColor",value:function(e){this.highlightColor=e}},{key:"highlightPickedFeature",value:function(e,n){if(e){var i=fP(n.getScene().getEntities()),a;try{for(i.s();!(a=i.n()).done;){var o=a.value,s=this.mesh.getComponentByEntity(o),l=s.material;l.setUniform("u_PickingStage",dP.HIGHLIGHT),l.setUniform("u_PickingColor",[e[0],e[1],e[2]]),l.setUniform("u_HighlightColor",this.highlightColor)}}catch(u){i.e(u)}finally{i.f()}}}}]),r}(),v8.IDENTIFIER="PixelPicking Pass",p8),c8=zr(sy.prototype,"engine",[a8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f8=zr(sy.prototype,"resourcePool",[o8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d8=zr(sy.prototype,"renderPassFactory",[s8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h8=zr(sy.prototype,"mesh",[l8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sy))||u8),m8,y8,b8,x8,zE,w8,S8,C8,E8,k3e=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,M3e=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,I3e=`layout(set = 0, binding = 0) uniform sampler u_TextureSampler;
layout(set = 0, binding = 1) uniform texture2D u_Texture;

layout(location = 0) in vec2 v_UV;
layout(location = 0) out vec4 outColor;

void main() {
  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);
}`,P3e=`layout(location = 0) in vec2 a_Position;
layout(location = 0) out vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,rT=(m8=gi(),y8=$r(zt.RenderEngine),b8=$r(zt.ResourcePool),m8(x8=(zE=(E8=C8=function r(){var t=this;Rr(this,r),Br(this,"engine",w8,this),Br(this,"resourcePool",S8,this),this.model=void 0,this.setup=function(e,n,i){var a=e.getPass(C0.IDENTIFIER);if(a){var o=e.createRenderTarget(n,"render to screen",{width:1,height:1});i.data={input:n.read(a.data.output),output:n.write(e,o)}}},this.execute=function(){var e=ii(kr.mark(function n(i,a){var o,s,l,u,c,f,d;return kr.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(o=t.engine,s=o.createModel,l=o.createAttribute,u=o.createBuffer,t.model){v.next=6;break}return v.next=4,s({vs:t.engine.supportWebGPU?P3e:M3e,fs:t.engine.supportWebGPU?I3e:k3e,attributes:{a_Position:l({buffer:u({data:[-4,-4,4,-4,0,4],type:Je.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:c=v.sent,t.model=c;case 6:f=i.getResourceNode(a.data.input),d=t.resourcePool.getOrCreateResource(f.resource),t.engine.useFramebuffer(null,function(){t.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),t.model.draw({uniforms:{u_Texture:d}})});case 9:case"end":return v.stop()}},n)}));return function(n,i){return e.apply(this,arguments)}}(),this.tearDown=function(){t.model=void 0}},C8.IDENTIFIER="Copy Pass",E8),w8=zr(zE.prototype,"engine",[y8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S8=zr(zE.prototype,"resourcePool",[b8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zE))||x8),_8,T8,A8,k8,M8,I8,P8,ly,R8,D8,O8,L8,F8,R3e=(_8=gi(),T8=$r(zt.Systems),A8=sf(zt.FrameGraphSystem),k8=$r(zt.RenderPassFactory),M8=$r(zt.ConfigService),I8=$r(zt.ResourcePool),_8(P8=(ly=(F8=function(){function r(){Rr(this,r),Br(this,"frameGraphSystem",R8,this),Br(this,"renderPassFactory",D8,this),Br(this,"configService",O8,this),Br(this,"resourcePool",L8,this)}return Yr(r,[{key:"execute",value:function(){var t=ii(kr.mark(function n(i){var a,o,s,l,u,c,f,d;return kr.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:a=this.renderPassFactory(C0.IDENTIFIER),o=a.setup,s=a.execute,this.frameGraphSystem.addPass(C0.IDENTIFIER,o,s),l=this.renderPassFactory(rT.IDENTIFIER),u=l.setup,c=l.execute,f=l.tearDown,d=this.frameGraphSystem.addPass(rT.IDENTIFIER,u,c,f),this.frameGraphSystem.present(d.data.output);case 5:case"end":return v.stop()}},n,this)}));function e(n){return t.apply(this,arguments)}return e}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(e,n){var i=this.renderPassFactory(tO.IDENTIFIER);return i.pick(e,n)}}]),r}(),F8),R8=zr(ly.prototype,"frameGraphSystem",[T8,A8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D8=zr(ly.prototype,"renderPassFactory",[k8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O8=zr(ly.prototype,"configService",[M8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L8=zr(ly.prototype,"resourcePool",[I8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ly))||P8);function D3e(r){var t=O3e();return function(){var n=pi(r),i;if(t){var a=pi(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _s(this,i)}}function O3e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var L3e=function(r){Es(e,r);var t=D3e(e);function e(n){var i;return Rr(this,e),i=t.call(this,n),i.parentID=void 0,Object.assign(Ra(i),n),i}return e}(Zg),N8,B8,z8,$8,G8,Ex,U8,H8,V8,W8,F3e=(N8=gi(),B8=$r(zt.HierarchyComponentManager),z8=$r(zt.TransformComponentManager),$8=$r(zt.MeshComponentManager),N8(G8=(Ex=(W8=function(){function r(){Rr(this,r),Br(this,"hierarchy",U8,this),Br(this,"transform",H8,this),Br(this,"mesh",V8,this)}return Yr(r,[{key:"execute",value:function(){var t=ii(kr.mark(function n(){return kr.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return a.stop()}},n,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var e=this;this.transform.forEach(function(n,i){(i.isDirty()||i.isLocalDirty())&&(e.setMeshAABBDirty(e.mesh.getComponentByEntity(n)),i.updateTransform())})}},{key:"runHierarchyUpdateSystem",value:function(){var e=this;this.hierarchy.forEach(function(n,i){var a=e.transform.getComponentByEntity(n),o=e.transform.getComponentByEntity(i.parentID);a!==null&&o!==null&&a.updateTransformWithParent(o)})}},{key:"attach",value:function(e,n,i){this.hierarchy.contains(e)&&this.detach(e),this.hierarchy.create(e,{parentID:n});var a=this.mesh.getComponentByEntity(n);if(this.setMeshAABBDirty(a),a&&a.children.indexOf(e)===-1&&a.children.push(e),this.hierarchy.getCount()>1)for(var o=this.hierarchy.getCount()-1;o>0;--o)for(var s=this.hierarchy.getEntity(o),l=0;l<o;++l){var u=this.hierarchy.getComponent(l);if(u.parentID===s){this.hierarchy.moveItem(o,l),++o;break}}this.hierarchy.getComponentByEntity(e);var c=this.transform.getComponentByEntity(n);c===null&&(c=this.transform.create(n));var f=this.transform.getComponentByEntity(e);f===null&&(f=this.transform.create(e),c=this.transform.getComponentByEntity(n)),f.parent=c,!i&&c&&(f.matrixTransform(P_(il(),c.worldTransform)),f.updateTransform()),c&&f.updateTransformWithParent(c)}},{key:"detach",value:function(e){var n=this.hierarchy.getComponentByEntity(e);if(n!==null){var i=this.transform.getComponentByEntity(e);i!==null&&(i.parent=null,i.applyTransform()),this.hierarchy.removeKeepSorted(e);var a=this.mesh.getComponentByEntity(n.parentID);if(a){var o=a.children.indexOf(e);a.children.splice(o,1)}this.setMeshAABBDirty(a)}}},{key:"detachChildren",value:function(e){var n=this.mesh.getComponentByEntity(e);n&&(n.children=[]);for(var i=0;i<this.hierarchy.getCount();){var a;if(((a=this.hierarchy.getComponent(i))===null||a===void 0?void 0:a.parentID)===e){var o=this.hierarchy.getEntity(i);this.detach(o)}else++i}}},{key:"setMeshAABBDirty",value:function(e){e&&(e.aabbDirty=!0)}}]),r}(),W8),U8=zr(Ex.prototype,"hierarchy",[B8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H8=zr(Ex.prototype,"transform",[z8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V8=zr(Ex.prototype,"mesh",[$8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ex))||G8);function N3e(r){var t=B3e();return function(){var n=pi(r),i;if(t){var a=pi(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _s(this,i)}}function B3e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var pee=function(r){Es(e,r);var t=N3e(e);function e(n){var i;return Rr(this,e),i=t.call(this,n),i.dirtyFlag=void 0,i.localDirtyFlag=void 0,i.parent=null,i.localPosition=kn(0,0,0),i.localRotation=II(0,0,0,1),i.localScale=kn(1,1,1),i.localTransform=il(),i.position=kn(0,0,0),i.rotation=II(0,0,0,1),i.scaling=kn(1,1,1),i.worldTransform=il(),i.matrixTransform=function(){var a=il();return function(o){sg(a,i.getLocalTransform(),o),_y(i.localScale,a),fx(i.localPosition,a),dx(i.localRotation,a)}}(),i.rotateRollPitchYaw=function(){var a=xo(),o=xo(),s=xo();return function(l,u,c){i.setDirty(),MI(a,l,0,0),MI(o,0,u,0),MI(s,0,0,c),hu(i.localRotation,a,i.localRotation),hu(i.localRotation,i.localRotation,o),hu(i.localRotation,s,i.localRotation),Dy(i.localRotation,i.localRotation)}}(),i.lerp=function(){var a=Ci(),o=xo(),s=Ci(),l=Ci(),u=xo(),c=Ci();return function(f,d,h){i.setDirty(),_y(a,f.worldTransform),fx(s,f.worldTransform),dx(o,f.worldTransform),_y(l,d.worldTransform),fx(c,d.worldTransform),dx(u,d.worldTransform),Tg(i.localScale,a,l,h),N2(i.localRotation,o,u,h),Tg(i.localPosition,s,c,h)}}(),i.translate=function(){var a=Ci();return function(o){return gd(a,i.getPosition(),o),i.setPosition(a),i.setDirty(!0),Ra(i)}}(),i.translateLocal=function(){return function(a){return jTe(a,a,i.localRotation),gd(i.localPosition,i.localPosition,a),i.setLocalDirty(!0),Ra(i)}}(),i.setPosition=function(){var a=il();return function(o){return i.position=o,i.setLocalDirty(!0),i.parent===null?os(i.localPosition,o):(tD(a,i.parent.worldTransform),P_(a,a),xF(i.localPosition,o,a)),Ra(i)}}(),i.rotate=function(){var a=xo();return function(o){if(i.parent===null)hu(i.localRotation,i.localRotation,o),Dy(i.localRotation,i.localRotation);else{var s=i.getRotation(),l=i.parent.getRotation();hx(a,l),u4(a,a),hu(a,a,o),hu(i.localRotation,o,s),Dy(i.localRotation,i.localRotation)}return i.setLocalDirty(),Ra(i)}}(),i.rotateLocal=function(){return function(a){return hu(i.localRotation,i.localRotation,a),Dy(i.localRotation,i.localRotation),i.setLocalDirty(!0),Ra(i)}}(),i.setRotation=function(){var a=xo();return function(o){return i.parent===null?hx(i.localRotation,o):(hx(a,i.parent.getRotation()),u4(a,a),hx(i.localRotation,a),KTe(i.localRotation,i.localRotation,o)),i.setLocalDirty(!0),Ra(i)}}(),i}return Yr(e,[{key:"setLocalPosition",value:function(i){os(this.localPosition,i),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(i){os(this.localScale,i),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(i){return hx(this.localRotation,i),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;i?this.dirtyFlag|=e.DIRTY:this.dirtyFlag&=~e.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;i?(this.localDirtyFlag|=e.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~e.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&this.parent===null&&(tD(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(i){sg(this.worldTransform,i.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),_y(this.localScale,this.worldTransform),fx(this.localPosition,this.worldTransform),dx(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=kn(0,0,0),this.localRotation=II(0,0,0,1),this.localScale=kn(1,1,1)}},{key:"scaleLocal",value:function(i){return this.setLocalDirty(),VTe(this.localScale,this.localScale,i),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(BTe(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return!this.isLocalDirty()&&!this.isDirty()?this.worldTransform:(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform)}},{key:"getPosition",value:function(){return fx(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return dx(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return _y(this.scaling,this.worldTransform),this.scaling}}]),e}(Zg);pee.DIRTY=1<<0;var j8,Y8,X8,hP,q8,K8,z3e=(j8=gi(),Y8=$r(zt.RenderEngine),j8(X8=(hP=(K8=function(){function r(){Rr(this,r),Br(this,"engine",q8,this),this.resourcePool={}}return Yr(r,[{key:"getOrCreateResource",value:function(e){if(!this.resourcePool[e.name]){var n=e.descriptor,i=n.width,a=n.height,o=n.usage;this.resourcePool[e.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:i,height:a,wrapS:Je.CLAMP_TO_EDGE,wrapT:Je.CLAMP_TO_EDGE,usage:o})})}return this.resourcePool[e.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),r}(),K8),q8=zr(hP.prototype,"engine",[Y8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hP))||X8);function $3e(r){var t=G3e();return function(){var n=pi(r),i;if(t){var a=pi(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _s(this,i)}}function G3e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var U3e=function(r){Es(e,r);var t=$3e(e);function e(n){var i;return Rr(this,e),i=t.call(this,n),i.name=void 0,i.name=n.name||"",i}return e}(Zg),Z8,Q8,J8,H3e=(Z8=gi(),Z8(Q8=(J8=function(){function r(){Rr(this,r),this.config=void 0}return Yr(r,[{key:"get",value:function(){return this.config}},{key:"set",value:function(e){this.config=e}}]),r}(),J8))||Q8),eU,tU,rU;(function(r){r.PANSTART="PANSTART",r.PANEND="PANEND",r.PANMOVE="PANMOVE",r.PINCH="PINCH",r.KEYDOWN="KEYDOWN",r.KEYUP="KEYUP",r.HOVER="HOVER"})(rU||(rU={}));var V3e=(eU=gi(),eU(tU=function(){function r(){Rr(this,r)}return Yr(r,[{key:"listen",value:function(e){}},{key:"on",value:function(e,n){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),r}())||tU);function W3e(r){var t=0;switch(r){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16;break}return t}var j3e=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function nU(r){var t={};return r=r.replace(j3e,function(e,n,i){var a=i.split(":"),o=a[0].trim(),s="";switch(a.length>1&&(s=a[1].trim()),n){case"bool":s=s==="true";break;case"float":case"int":s=Number(s);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":s?s=s.replace("[","").replace("]","").split(",").reduce(function(l,u){return l.push(Number(u.trim())),l},[]):s=new Array(W3e(n)).fill(0);break}return t[o]=s,"uniform ".concat(n," ").concat(o,`;
`)}),{content:r,uniforms:t}}function Y3e(r){return r.filter(function(t,e,n){return n.indexOf(t)===e})}var iU,aU,oU;function sU(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function _x(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?sU(Object(e),!0).forEach(function(n){Mt(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):sU(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}var X3e=`varying vec4 v_PickingResult;
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color) {
  bool selected = bool(v_PickingResult.a);

  if (selected) {
    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;

    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));

    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(resultRGB, color.a);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  return filterPickingColor(filterHighlightColor(color));
}
`,q3e=`attribute vec3 a_PickingColor;
varying vec4 v_PickingResult;

uniform vec3 u_PickingColor : [0, 0, 0];
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;
uniform float u_PickingThreshold : 1.0;
uniform float u_PickingBuffer: 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

bool isVertexPicked(vec3 vertexColor) {
  return
    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&
    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&
    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;
}

void setPickingColor(vec3 pickingColor) {
  // compares only in highlight stage
  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));

  // Stores the picking color so that the fragment shader can render it during picking
  v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}`,K3e=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}`,Z3e=/precision\s+(high|low|medium)p\s+float/,Q3e=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,J3e=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,e5e=(iU=gi(),iU(aU=(oU=function(){function r(){Rr(this,r),this.moduleCache={},this.rawContentCache={}}return Yr(r,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:q3e,fs:X3e}),this.registerModule("sdf2d",{vs:"",fs:K3e})}},{key:"registerModule",value:function(e,n){if(!this.rawContentCache[e]){var i=n.vs,a=i===void 0?"":i,o=n.fs,s=o===void 0?"":o,l=n.uniforms,u=nU(a),c=u.content,f=u.uniforms,d=nU(s),h=d.content,v=d.uniforms;this.rawContentCache[e]={fs:h,uniforms:_x(_x(_x({},f),v),l),vs:c}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(e){var n=this;if(this.moduleCache[e])return this.moduleCache[e];var i=this.rawContentCache[e].vs||"",a=this.rawContentCache[e].fs||"",o=this.processModule(i,[],"vs"),s=o.content,l=o.includeList,u=this.processModule(a,[],"fs"),c=u.content,f=u.includeList,d=c,h=Y3e(l.concat(f).concat(e)).reduce(function(v,p){return _x(_x({},v),n.rawContentCache[p].uniforms)},{});return Z3e.test(c)||(d=Q3e+c),this.moduleCache[e]={fs:d.trim(),uniforms:h,vs:s.trim()},this.moduleCache[e]}},{key:"processModule",value:function(e,n,i){var a=this,o=e.replace(J3e,function(s,l){var u=l.split(" "),c=u[0].replace(/"/g,"");if(n.indexOf(c)>-1)return"";var f=a.rawContentCache[c][i];n.push(c);var d=a.processModule(f||"",n,i),h=d.content;return h});return{content:o,includeList:n}}}]),r}(),oU))||aU),Vd=new vee;Vd.bind(zt.ShaderModuleService).to(e5e).inSingletonScope();Vd.bind(zt.NameComponentManager).toConstantValue(new Qg(U3e));Vd.bind(zt.HierarchyComponentManager).toConstantValue(new Qg(L3e));Vd.bind(zt.TransformComponentManager).toConstantValue(new Qg(pee));Vd.bind(zt.MeshComponentManager).toConstantValue(new Qg(b3e));Vd.bind(zt.CullableComponentManager).toConstantValue(new Qg(g3e));Vd.bind(zt.GeometryComponentManager).toConstantValue(new Qg(l3e));Vd.bind(zt.MaterialComponentManager).toConstantValue(new Qg(d3e));function t5e(){var r=new vee;return r.parent=Vd,r.bind(zt.Systems).to(F3e).inSingletonScope().whenTargetNamed(zt.SceneGraphSystem),r.bind(zt.Systems).to(MBe).inSingletonScope().whenTargetNamed(zt.FrameGraphSystem),r.bind(zt.Systems).to(_3e).inSingletonScope().whenTargetNamed(zt.MeshSystem),r.bind(zt.Systems).to(u3e).inSingletonScope().whenTargetNamed(zt.GeometrySystem),r.bind(zt.Systems).to(h3e).inSingletonScope().whenTargetNamed(zt.MaterialSystem),r.bind(zt.Systems).to(R3e).inSingletonScope().whenTargetNamed(zt.RendererSystem),r.bind(zt.ResourcePool).to(z3e).inSingletonScope(),r.bind(zt.ConfigService).to(H3e).inSingletonScope(),r.bind(zt.InteractorService).to(V3e).inSingletonScope(),r.bind(zt.RenderPass).to(C0).inSingletonScope().whenTargetNamed(C0.IDENTIFIER),r.bind(zt.RenderPass).to(rT).inSingletonScope().whenTargetNamed(rT.IDENTIFIER),r.bind(zt.RenderPass).to(tO).inSingletonScope().whenTargetNamed(tO.IDENTIFIER),r.bind(zt.RenderPassFactory).toFactory(function(t){return function(e){return t.container.getNamed(zt.RenderPass,e)}}),r}function SN(r){for(var t=new wN,e=kn(r[0],r[1],r[2]),n=kn(r[0],r[1],r[2]),i=3;i<r.length;){var a=r[i++],o=r[i++],s=r[i++];a<e[0]&&(e[0]=a),o<e[1]&&(e[1]=o),s<e[2]&&(e[2]=s),a>n[0]&&(n[0]=a),o>n[1]&&(n[1]=o),s>n[2]&&(n[2]=s)}return t.setMinMax(e,n),t}var el=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);Ci();Ci();Ci();Ci();Ci();Ci();var lU;(function(r){r.Normal="normal",r.PostProcessing="post-processing"})(lU||(lU={}));var Rg;(function(r){r.Void="Void",r.Boolean="Boolean",r.Float="Float",r.Uint32="Uint32",r.Int32="Int32",r.Vector="Vector",r.Vector2Float="vec2<f32>",r.Vector3Float="vec3<f32>",r.Vector4Float="vec4<f32>",r.Vector2Boolean="vec2<bool>",r.Vector3Boolean="vec3<bool>",r.Vector4Boolean="vec4<bool>",r.Vector2Uint="vec2<u32>",r.Vector3Uint="vec3<u32>",r.Vector4Uint="vec4<u32>",r.Vector2Int="vec2<i32>",r.Vector3Int="vec3<i32>",r.Vector4Int="vec4<i32>",r.Matrix="Matrix",r.Matrix3x3Float="mat3x3<f32>",r.Matrix4x4Float="mat4x4<i32>",r.Struct="Struct",r.FloatArray="Float[]",r.Vector4FloatArray="vec4<f32>[]"})(Rg||(Rg={}));var uU;(function(r){r.Program="Program",r.Identifier="Identifier",r.VariableDeclaration="VariableDeclaration",r.BlockStatement="BlockStatement",r.ReturnStatement="ReturnStatement",r.FunctionDeclaration="FunctionDeclaration",r.VariableDeclarator="VariableDeclarator",r.AssignmentExpression="AssignmentExpression",r.LogicalExpression="LogicalExpression",r.BinaryExpression="BinaryExpression",r.ArrayExpression="ArrayExpression",r.UnaryExpression="UnaryExpression",r.UpdateExpression="UpdateExpression",r.FunctionExpression="FunctionExpression",r.MemberExpression="MemberExpression",r.ConditionalExpression="ConditionalExpression",r.ExpressionStatement="ExpressionStatement",r.CallExpression="CallExpression",r.NumThreadStatement="NumThreadStatement",r.StorageStatement="StorageStatement",r.DoWhileStatement="DoWhileStatement",r.WhileStatement="WhileStatement",r.ForStatement="ForStatement",r.BreakStatement="BreakStatement",r.ContinueStatement="ContinueStatement",r.IfStatement="IfStatement",r.ImportedFunctionStatement="ImportedFunctionStatement"})(uU||(uU={}));var xv;(function(r){r.Input="Input",r.Output="Output",r.Uniform="Uniform",r.Workgroup="Workgroup",r.UniformConstant="UniformConstant",r.Image="Image",r.StorageBuffer="StorageBuffer",r.Private="Private",r.Function="Function"})(xv||(xv={}));var O1;(function(r){r.GLSL100="GLSL100",r.GLSL450="GLSL450",r.WGSL="WGSL"})(O1||(O1={}));var r5e="__DefineValuePlaceholder__";function CN(r){return typeof r=="number"}function Jf(r){return r===void 0?0:r>360||r<-360?r%360:r}function Tp(r,t,e){return CN(r)?kn(r,t,e):r.length===3?ud(r):kn(r[0],r[1],r[2])}var cU=function(){function r(t,e){Rr(this,r),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=t,this.matrix=LTe(e.matrix),this.right=ud(e.right),this.up=ud(e.up),this.forward=ud(e.forward),this.position=ud(e.position),this.focalPoint=ud(e.focalPoint),this.distanceVector=ud(e.distanceVector),this.azimuth=e.azimuth,this.elevation=e.elevation,this.roll=e.roll,this.relAzimuth=e.relAzimuth,this.relElevation=e.relElevation,this.relRoll=e.relRoll,this.dollyingStep=e.dollyingStep,this.distance=e.distance}return Yr(r,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(e){e.matrix=tD(e.matrix,this.matrix),e.right=os(e.right,this.right),e.up=os(e.up,this.up),e.forward=os(e.forward,this.forward),e.position=os(e.position,this.position),e.focalPoint=os(e.focalPoint,this.focalPoint),e.distanceVector=os(e.distanceVector,this.distanceVector),e.azimuth=this.azimuth,e.elevation=this.elevation,e.roll=this.roll,e.relAzimuth=this.relAzimuth,e.relElevation=this.relElevation,e.relRoll=this.relRoll,e.dollyingStep=this.dollyingStep,e.distance=this.distance}}]),r}(),fU,dU,hU,vP,vU,pU,gU,Ii;(function(r){r.ORBITING="ORBITING",r.EXPLORING="EXPLORING",r.TRACKING="TRACKING"})(Ii||(Ii={}));var nT;(function(r){r.DEFAULT="DEFAULT",r.ROTATIONAL="ROTATIONAL",r.TRANSLATIONAL="TRANSLATIONAL",r.CINEMATIC="CINEMATIC"})(nT||(nT={}));var Up;(function(r){r.ORTHOGRAPHIC="ORTHOGRAPHIC",r.PERSPECTIVE="PERSPECTIVE"})(Up||(Up={}));var ed=Math.PI/180,Rh=180/Math.PI,mU=(fU=gi(),dU=$r(zt.InteractorService),fU(hU=(vP=(gU=pU=function(){function r(){Rr(this,r),this.matrix=il(),this.right=kn(1,0,0),this.up=kn(0,1,0),this.forward=kn(0,0,1),this.position=kn(0,0,1),this.focalPoint=kn(0,0,0),this.distanceVector=kn(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.rotateWorld=!1,Br(this,"interactor",vU,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=il(),this.view=void 0,this.following=void 0,this.type=Ii.EXPLORING,this.trackingMode=nT.DEFAULT,this.projectionMode=Up.PERSPECTIVE,this.frustum=new w3e,this.landmarks=[],this.landmarkAnimationID=void 0}return Yr(r,[{key:"clone",value:function(){var e=new r;return e.setType(this.type,void 0),e.interactor=this.interactor,e}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(e,n){return this.type=e,this.type===Ii.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Ii.TRACKING&&n!==void 0&&this.setTrackingMode(n),this}},{key:"setProjectionMode",value:function(e){return this.projectionMode=e,this}},{key:"setTrackingMode",value:function(e){if(this.type!==Ii.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=e,this}},{key:"setWorldRotation",value:function(e){this.rotateWorld=e,this._getAngles()}},{key:"getViewTransform",value:function(){return P_(il(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(e){return this.matrix=e,this._update(),this}},{key:"setAspect",value:function(e){return this.setPerspective(this.near,this.far,this.fov,e),this}},{key:"setViewOffset",value:function(e,n,i,a,o,s){return this.aspect=e/n,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=a,this.view.width=o,this.view.height=s,this.projectionMode===Up.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===Up.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(e,n,i,a){return this.projectionMode=Up.PERSPECTIVE,this.fov=i,this.near=e,this.far=n,this.aspect=a,$Te(this.perspective,this.fov*ed,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(e,n,i,a,o,s){this.projectionMode=Up.ORTHOGRAPHIC,this.rright=n,this.left=e,this.top=i,this.bottom=a,this.near=o,this.far=s;var l=(this.rright-this.left)/(2*this.zoom),u=(this.top-this.bottom)/(2*this.zoom),c=(this.rright+this.left)/2,f=(this.top+this.bottom)/2,d=c-l,h=c+l,v=f+u,p=f-u;if(this.view!==void 0&&this.view.enabled){var g=(this.rright-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;d+=g*this.view.offsetX,h=d+g*this.view.width,v-=m*this.view.offsetY,p=v-m*this.view.height}return UTe(this.perspective,d,h,v,p,o,s),this}},{key:"setPosition",value:function(e,n,i){return this._setPosition(e,n,i),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(e,n,i){var a=kn(0,1,0);if(this.focalPoint=Tp(e,n,i),this.trackingMode===nT.CINEMATIC){var o=rD(Ci(),this.focalPoint,this.position);e=o[0],n=o[1],i=o[2];var s=F2(o),l=Math.asin(n/s)*Rh,u=90+Math.atan2(i,e)*Rh,c=il();NTe(c,c,u*ed),FTe(c,c,l*ed),a=xF(Ci(),[0,1,0],c)}return P_(this.matrix,HTe(il(),this.position,this.focalPoint,a)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(e){if(!(this.distance===e||e<0)){this.distance=e,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var n=Ci();e=this.distance;var i=this.forward,a=this.focalPoint;return n[0]=e*i[0]+a[0],n[1]=e*i[1]+a[1],n[2]=e*i[2]+a[2],this._setPosition(n),this}}},{key:"setMaxDistance",value:function(e){return this.maxDistance=e,this}},{key:"setMinDistance",value:function(e){return this.minDistance=e,this}},{key:"changeAzimuth",value:function(e){return this.setAzimuth(this.azimuth+e),this}},{key:"changeElevation",value:function(e){return this.setElevation(this.elevation+e),this}},{key:"changeRoll",value:function(e){return this.setRoll(this.roll+e),this}},{key:"setAzimuth",value:function(e){return this.azimuth=Jf(e),this.computeMatrix(),this._getAxes(),this.type===Ii.ORBITING||this.type===Ii.EXPLORING?this._getPosition():this.type===Ii.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(e){return this.elevation=Jf(e),this.computeMatrix(),this._getAxes(),this.type===Ii.ORBITING||this.type===Ii.EXPLORING?this._getPosition():this.type===Ii.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(e){return this.roll=Jf(e),this.computeMatrix(),this._getAxes(),this.type===Ii.ORBITING||this.type===Ii.EXPLORING?this._getPosition():this.type===Ii.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(e,n,i){if(this.type===Ii.EXPLORING){e=Jf(e),n=Jf(n),i=Jf(i);var a=Np(xo(),[1,0,0],(this.rotateWorld?1:-1)*n*ed),o=Np(xo(),[0,1,0],(this.rotateWorld?1:-1)*e*ed),s=Np(xo(),[0,0,1],i*ed),l=hu(xo(),o,a);l=hu(xo(),l,s);var u=s4(il(),l);cx(this.matrix,this.matrix,[0,0,-this.distance]),sg(this.matrix,this.matrix,u),cx(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+n)>90)return;this.relElevation=Jf(n),this.relAzimuth=Jf(e),this.relRoll=Jf(i),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===Ii.ORBITING||this.type===Ii.EXPLORING?this._getPosition():this.type===Ii.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(e,n){var i=Tp(e,n,0),a=ud(this.position);return gd(a,a,sw(Ci(),this.right,i[0])),gd(a,a,sw(Ci(),this.up,i[1])),this._setPosition(a),this}},{key:"dolly",value:function(e){var n=this.forward,i=ud(this.position),a=e*this.dollyingStep,o=this.distance+e*this.dollyingStep;return a=Math.max(Math.min(o,this.maxDistance),this.minDistance)-this.distance,i[0]+=a*n[0],i[1]+=a*n[1],i[2]+=a*n[2],this._setPosition(i),this.type===Ii.ORBITING||this.type===Ii.EXPLORING?this._getDistance():this.type===Ii.TRACKING&&gd(this.focalPoint,i,this.distanceVector),this}},{key:"createLandmark",value:function(e,n){var i=this.clone();i.setPosition(n.position),i.setFocalPoint(n.focalPoint),n.roll!==void 0&&i.setRoll(n.roll);var a=new cU(e,i);return this.landmarks.push(a),a}},{key:"setLandmark",value:function(e){var n=new cU(e,this);return this.landmarks.push(n),this}},{key:"gotoLandmark",value:function(e){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,a=this.landmarks.find(function(f){return f.name===e});if(a){if(i===0){a.retrieve(this);return}this.landmarkAnimationID!==void 0&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var o=a.getPosition(),s=a.getFocalPoint(),l=a.getRoll(),u,c=function f(d){u===void 0&&(u=d);var h=d-u,v=(1-Math.cos(h/i*Math.PI))/2,p=Ci(),g=Ci(),m=0;Tg(p,n.focalPoint,s,v),Tg(g,n.position,o,v),m=n.roll*(1-v)+l*v,n.setFocalPoint(p),n.setPosition(g),n.setRoll(m),n.computeMatrix();var y=l4(p,s)+l4(g,o);if(!(y>.01)){n.setFocalPoint(p),n.setPosition(g),n.setRoll(m),n.computeMatrix(),n.interactor.connect();return}h<i&&(n.landmarkAnimationID=window.requestAnimationFrame(f))};window.requestAnimationFrame(c)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var e,n,i=Np(xo(),[0,0,1],this.roll*ed);RK(this.matrix),e=Np(xo(),[1,0,0],(this.rotateWorld&&this.type!==Ii.TRACKING||this.type===Ii.TRACKING?1:-1)*this.elevation*ed),n=Np(xo(),[0,1,0],(this.rotateWorld&&this.type!==Ii.TRACKING||this.type===Ii.TRACKING?1:-1)*this.azimuth*ed);var a=hu(xo(),n,e);a=hu(xo(),a,i);var o=s4(il(),a);this.type===Ii.ORBITING||this.type===Ii.EXPLORING?(cx(this.matrix,this.matrix,this.focalPoint),sg(this.matrix,this.matrix,o),cx(this.matrix,this.matrix,[0,0,this.distance])):this.type===Ii.TRACKING&&(cx(this.matrix,this.matrix,this.position),sg(this.matrix,this.matrix,o))}},{key:"_setPosition",value:function(e,n,i){this.position=Tp(e,n,i);var a=this.matrix;a[12]=this.position[0],a[13]=this.position[1],a[14]=this.position[2],a[15]=1}},{key:"_getAxes",value:function(){os(this.right,Tp(n1(r1(),[1,0,0,0],this.matrix))),os(this.up,Tp(n1(r1(),[0,1,0,0],this.matrix))),os(this.forward,Tp(n1(r1(),[0,0,1,0],this.matrix))),k1(this.right,this.right),k1(this.up,this.up),k1(this.forward,this.forward)}},{key:"_getAngles",value:function(){var e=this.distanceVector[0],n=this.distanceVector[1],i=this.distanceVector[2],a=F2(this.distanceVector);if(a===0){this.elevation=0,this.azimuth=0;return}this.type===Ii.TRACKING?(this.elevation=Math.asin(n/a)*Rh,this.azimuth=Math.atan2(-e,-i)*Rh):this.rotateWorld?(this.elevation=Math.asin(n/a)*Rh,this.azimuth=Math.atan2(-e,-i)*Rh):(this.elevation=-Math.asin(n/a)*Rh,this.azimuth=-Math.atan2(-e,-i)*Rh)}},{key:"_getPosition",value:function(){os(this.position,Tp(n1(r1(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){of(this.distanceVector,[0,0,-this.distance],TK(q0(),this.matrix)),gd(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=rD(Ci(),this.focalPoint,this.position),this.distance=F2(this.distanceVector),this.dollyingStep=this.distance/100}}]),r}(),pU.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},gU),vU=zr(vP.prototype,"interactor",[dU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vP))||hU),yU,bU,xU,pP,wU,Tx,SU,nv=(yU=gi(),bU=$r(zt.GeometryComponentManager),yU(xU=(pP=(SU=Tx=function(){function r(){Rr(this,r),this.config=void 0,Br(this,"geometry",wU,this),this.entity=void 0,this.component=void 0}return Yr(r,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e){this.entity=e,this.component=this.geometry.create(e),this.component.entity=e,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),r}(),Tx.BOX="box",Tx.SPHERE="sphere",Tx.PLANE="plane",Tx.MERGED="merged",SU),wU=zr(pP.prototype,"geometry",[bU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pP))||xU),Gi=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.TextureCompressionBC="texture-compression-bc"}(t.ExtensionName||(t.ExtensionName={})),function(e){e.ClampToEdge="clamp-to-edge",e.Repeat="repeat",e.MirrorRepeat="mirror-repeat"}(t.AddressMode||(t.AddressMode={})),function(e){e.UniformBuffer="uniform-buffer",e.StorageBuffer="storage-buffer",e.ReadonlyStorageBuffer="readonly-storage-buffer",e.Sampler="sampler",e.ComparisonSampler="comparison-sampler",e.SampledTexture="sampled-texture",e.ReadonlyStorageTexture="readonly-storage-texture",e.WriteonlyStorageTexture="writeonly-storage-texture"}(t.BindingType||(t.BindingType={})),function(e){e.Zero="zero",e.One="one",e.SrcColor="src-color",e.OneMinusSrcColor="one-minus-src-color",e.SrcAlpha="src-alpha",e.OneMinusSrcAlpha="one-minus-src-alpha",e.DstColor="dst-color",e.OneMinusDstColor="one-minus-dst-color",e.DstAlpha="dst-alpha",e.OneMinusDstAlpha="one-minus-dst-alpha",e.SrcAlphaSaturated="src-alpha-saturated",e.BlendColor="blend-color",e.OneMinusBlendColor="one-minus-blend-color"}(t.BlendFactor||(t.BlendFactor={})),function(e){e.Add="add",e.Subtract="subtract",e.ReverseSubtract="reverse-subtract",e.Min="min",e.Max="max"}(t.BlendOperation||(t.BlendOperation={})),function(e){e.Never="never",e.Less="less",e.Equal="equal",e.LessEqual="less-equal",e.Greater="greater",e.NotEqual="not-equal",e.GreaterEqual="greater-equal",e.Always="always"}(t.CompareFunction||(t.CompareFunction={})),function(e){e.None="none",e.Front="front",e.Back="back"}(t.CullMode||(t.CullMode={})),function(e){e.Nearest="nearest",e.Linear="linear"}(t.FilterMode||(t.FilterMode={})),function(e){e.CCW="ccw",e.CW="cw"}(t.FrontFace||(t.FrontFace={})),function(e){e.Uint16="uint16",e.Uint32="uint32"}(t.IndexFormat||(t.IndexFormat={})),function(e){e.Vertex="vertex",e.Instance="instance"}(t.InputStepMode||(t.InputStepMode={})),function(e){e.Load="load"}(t.LoadOp||(t.LoadOp={})),function(e){e.PointList="point-list",e.LineList="line-list",e.LineStrip="line-strip",e.TriangleList="triangle-list",e.TriangleStrip="triangle-strip"}(t.PrimitiveTopology||(t.PrimitiveTopology={})),function(e){e.Keep="keep",e.Zero="zero",e.Replace="replace",e.Invert="invert",e.IncrementClamp="increment-clamp",e.DecrementClamp="decrement-clamp",e.IncrementWrap="increment-wrap",e.DecrementWrap="decrement-wrap"}(t.StencilOperation||(t.StencilOperation={})),function(e){e.Store="store",e.Clear="clear"}(t.StoreOp||(t.StoreOp={})),function(e){e.E1d="1d",e.E2d="2d",e.E3d="3d"}(t.TextureDimension||(t.TextureDimension={})),function(e){e.R8Unorm="r8unorm",e.R8Snorm="r8snorm",e.R8Uint="r8uint",e.R8Sint="r8sint",e.R16Uint="r16uint",e.R16Sint="r16sint",e.R16Float="r16float",e.RG8Unorm="rg8unorm",e.RG8Snorm="rg8snorm",e.RG8Uint="rg8uint",e.RG8Sint="rg8sint",e.R32Uint="r32uint",e.R32Sint="r32sint",e.R32Float="r32float",e.RG16Uint="rg16uint",e.RG16Sint="rg16sint",e.RG16Float="rg16float",e.RGBA8Unorm="rgba8unorm",e.RGBA8UnormSRGB="rgba8unorm-srgb",e.RGBA8Snorm="rgba8snorm",e.RGBA8Uint="rgba8uint",e.RGBA8Sint="rgba8sint",e.BGRA8Unorm="bgra8unorm",e.BGRA8UnormSRGB="bgra8unorm-srgb",e.RGB10A2Unorm="rgb10a2unorm",e.RG11B10Float="rg11b10float",e.RG32Uint="rg32uint",e.RG32Sint="rg32sint",e.RG32Float="rg32float",e.RGBA16Uint="rgba16uint",e.RGBA16Sint="rgba16sint",e.RGBA16Float="rgba16float",e.RGBA32Uint="rgba32uint",e.RGBA32Sint="rgba32sint",e.RGBA32Float="rgba32float",e.Depth32Float="depth32float",e.Depth24Plus="depth24plus",e.Depth24PlusStencil8="depth24plus-stencil8"}(t.TextureFormat||(t.TextureFormat={})),function(e){e.Float="float",e.Sint="sint",e.Uint="uint"}(t.TextureComponentType||(t.TextureComponentType={})),function(e){e.E1d="1d",e.E2d="2d",e.E2dArray="2d-array",e.Cube="cube",e.CubeArray="cube-array",e.E3d="3d"}(t.TextureViewDimension||(t.TextureViewDimension={})),function(e){e.Uchar2="uchar2",e.Uchar4="uchar4",e.Char2="char2",e.Char4="char4",e.Uchar2Norm="uchar2norm",e.Uchar4Norm="uchar4norm",e.Char2Norm="char2norm",e.Char4Norm="char4norm",e.Ushort2="ushort2",e.Ushort4="ushort4",e.Short2="short2",e.Short4="short4",e.Ushort2Norm="ushort2norm",e.Ushort4Norm="ushort4norm",e.Short2Norm="short2norm",e.Short4Norm="short4norm",e.Half2="half2",e.Half4="half4",e.Float="float",e.Float2="float2",e.Float3="float3",e.Float4="float4",e.Uint="uint",e.Uint2="uint2",e.Uint3="uint3",e.Uint4="uint4",e.Int="int",e.Int2="int2",e.Int3="int3",e.Int4="int4"}(t.VertexFormat||(t.VertexFormat={})),function(e){e.All="all",e.StencilOnly="stencil-only",e.DepthOnly="depth-only"}(t.TextureAspect||(t.TextureAspect={})),function(e){e.Error="error",e.Warning="warning",e.Info="info"}(t.CompilationMessageType||(t.CompilationMessageType={})),function(e){e.Occlusion="occlusion"}(t.QueryType||(t.QueryType={})),function(e){e[e.MapRead=1]="MapRead",e[e.MapWrite=2]="MapWrite",e[e.CopySrc=4]="CopySrc",e[e.CopyDst=8]="CopyDst",e[e.Index=16]="Index",e[e.Vertex=32]="Vertex",e[e.Uniform=64]="Uniform",e[e.Storage=128]="Storage",e[e.Indirect=256]="Indirect",e[e.QueryResolve=512]="QueryResolve"}(t.BufferUsage||(t.BufferUsage={})),function(e){e[e.Red=1]="Red",e[e.Green=2]="Green",e[e.Blue=4]="Blue",e[e.Alpha=8]="Alpha",e[e.All=15]="All"}(t.ColorWrite||(t.ColorWrite={})),function(e){e[e.Vertex=1]="Vertex",e[e.Fragment=2]="Fragment",e[e.Compute=4]="Compute"}(t.ShaderStage||(t.ShaderStage={})),function(e){e[e.CopySrc=1]="CopySrc",e[e.CopyDst=2]="CopyDst",e[e.Sampled=4]="Sampled",e[e.Storage=8]="Storage",e[e.OutputAttachment=16]="OutputAttachment"}(t.TextureUsage||(t.TextureUsage={})),function(e){e[e.Read=1]="Read",e[e.Write=2]="Write"}(t.MapMode||(t.MapMode={}))});zn(Gi);Gi.ExtensionName;Gi.AddressMode;var gP=Gi.BindingType,Ml=Gi.BlendFactor,Ax=Gi.BlendOperation,sd=Gi.CompareFunction,Y2=Gi.CullMode;Gi.FilterMode;var n5e=Gi.FrontFace,i5e=Gi.IndexFormat;Gi.InputStepMode;var uy=Gi.LoadOp,Ap=Gi.PrimitiveTopology,mP=Gi.StencilOperation,kp=Gi.StoreOp,rO=Gi.TextureDimension,E0=Gi.TextureFormat;Gi.TextureComponentType;var a5e=Gi.TextureViewDimension;Gi.VertexFormat;var o5e=Gi.TextureAspect;Gi.CompilationMessageType;Gi.QueryType;var tl=Gi.BufferUsage,s5e=Gi.ColorWrite,$E=Gi.ShaderStage,Jp=Gi.TextureUsage,l5e=Gi.MapMode;function gee(){if(typeof document!="undefined")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var u5e={}.toString,c5e=function(t,e){return u5e.call(t)==="[object "+e+"]"},f5e=function(r){return Array.isArray?Array.isArray(r):c5e(r,"Array")},d5e=9007199254740991,h5e="[object Arguments]",v5e="[object Array]",p5e="[object Boolean]",g5e="[object Date]",m5e="[object Error]",y5e="[object Function]",b5e="[object Map]",x5e="[object Number]",w5e="[object Object]",S5e="[object RegExp]",C5e="[object Set]",E5e="[object String]",_5e="[object WeakMap]",T5e="[object ArrayBuffer]",A5e="[object DataView]",k5e="[object Float32Array]",M5e="[object Float64Array]",I5e="[object Int8Array]",P5e="[object Int16Array]",R5e="[object Int32Array]",D5e="[object Uint8Array]",O5e="[object Uint8ClampedArray]",L5e="[object Uint16Array]",F5e="[object Uint32Array]",da={};da[k5e]=da[M5e]=da[I5e]=da[P5e]=da[R5e]=da[D5e]=da[O5e]=da[L5e]=da[F5e]=!0;da[h5e]=da[v5e]=da[T5e]=da[p5e]=da[A5e]=da[g5e]=da[m5e]=da[y5e]=da[b5e]=da[x5e]=da[w5e]=da[S5e]=da[C5e]=da[E5e]=da[_5e]=!1;var N5e=Object.prototype,B5e=N5e.toString;function z5e(r){return G5e(r)&&$5e(r.length)&&!!da[B5e.call(r)]}function $5e(r){return typeof r=="number"&&r>-1&&r%1===0&&r<=d5e}function G5e(r){return!!r&&Dd(r)==="object"}var mee=z5e,CU,EU,_U,TU,GE,AU,kU,MU;function IU(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function PU(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?IU(Object(e),!0).forEach(function(n){Mt(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):IU(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}var RU=(CU=gi(),EU=$r(zt.RenderEngine),_U=$r(zt.ConfigService),CU(TU=(GE=(MU=function(){function r(){Rr(this,r),Br(this,"engine",AU,this),Br(this,"configService",kU,this),this.entity=Yc(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return Yr(r,[{key:"init",value:function(){var e=this.configService.get(),n=e.canvas,i=e.engineOptions;this.initPromise=this.engine.init(PU({canvas:n||gee(),swapChainFormat:E0.BGRA8Unorm,antialiasing:!1},i))}},{key:"setBundle",value:function(e){this.compiledBundle=JSON.parse(JSON.stringify(e))}},{key:"setDispatch",value:function(e){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=e),this}},{key:"setMaxIteration",value:function(e){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=e),this}},{key:"setBinding",value:function(e,n){var i=this;if(typeof e=="string"){var a=CN(n)||mee(n)||f5e(n);if(this.compiledBundle&&this.compiledBundle.context){var o=this.compiledBundle.context.defines.find(function(l){return l.name===e});if(o)return o.value=n,this;var s=this.compiledBundle.context.uniforms.find(function(l){return l.name===e});s&&(a?(s.data=n,s.isReferer=!1,s.storageClass===xv.Uniform?this.model&&this.model.updateUniform(e,n):this.model&&this.model.updateBuffer(e,n)):(s.isReferer=!0,s.data=n))}}else Object.keys(e).forEach(function(l){i.setBinding(l,e[l])});return this}},{key:"execute",value:function(){var t=ii(kr.mark(function n(){var i=this,a,o,s=arguments;return kr.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(a=s.length>0&&s[0]!==void 0?s[0]:1,!this.dirty){u.next=6;break}return this.compiledBundle.context&&(a>1?this.compiledBundle.context.maxIteration=a:this.compiledBundle.context.maxIteration++),u.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(c){var f=c.isReferer;return f}).forEach(function(c){var f=c.data,d=c.name;i.model.confirmInput(f.model,d)}),o=0;o<a;o++)this.model.run();return this.engine.endFrame(),u.abrupt("return",this);case 12:case"end":return u.stop()}},n,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getOutput",value:function(){var t=ii(kr.mark(function n(){return kr.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",this.model.readData());case 1:case"end":return a.stop()}},n,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"compile",value:function(){var t=ii(kr.mark(function n(){var i,a,o;return kr.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.initPromise;case 2:return i=PU({},this.compiledBundle.context),a=this.engine.supportWebGPU?this.engine.useWGSL?O1.WGSL:O1.GLSL450:O1.GLSL100,o=this.compiledBundle.shaders[a],i.defines.filter(function(u){return u.runtime}).forEach(function(u){var c="".concat(r5e).concat(u.name);o=o.replace(c,"".concat(u.value))}),i.shader=o,i.uniforms.forEach(function(u){if(!u.data&&u.storageClass===xv.StorageBuffer){var c=1;u.type===Rg.FloatArray?c=1:u.type===Rg.Vector4FloatArray&&(c=4),u.data=new Float32Array(i.output.length*c).fill(0)}}),this.compiledBundle.context=i,l.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=l.sent;case 12:case"end":return l.stop()}},n,this)}));function e(){return t.apply(this,arguments)}return e}()}]),r}(),MU),AU=zr(GE.prototype,"engine",[EU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kU=zr(GE.prototype,"configService",[_U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),GE))||TU),DU,OU,LU,yP,FU,NU,BU,yee=(DU=gi(),OU=$r(zt.MaterialComponentManager),DU(LU=(yP=(BU=NU=function(){function r(){Rr(this,r),this.config=void 0,Br(this,"material",FU,this),this.entity=void 0,this.component=void 0}return Yr(r,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e,n){this.entity=e,this.component=this.material.create(e),this.component.entity=e,this.component.type=n,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),r}(),NU.BASIC="basic",BU),FU=zr(yP.prototype,"material",[OU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yP))||LU),zU,$U,GU,UU,HU,VU,WU,cy,jU,YU,XU,qU,UE,KU,Kh=(zU=gi(),$U=$r(zt.MeshComponentManager),GU=$r(zt.CullableComponentManager),UU=$r(zt.TransformComponentManager),HU=$r(zt.Systems),VU=sf(zt.SceneGraphSystem),zU(WU=(cy=(KU=UE=function(){function r(){Rr(this,r),this.attributes={},this.config=void 0,Br(this,"mesh",jU,this),Br(this,"cullable",YU,this),Br(this,"transform",XU,this),Br(this,"sceneGraphSystem",qU,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return Yr(r,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e){this.entity=e,this.cullable.create(e),this.meshComponent=this.mesh.create(e),this.transformComponent=this.transform.create(e),this.onEntityCreated()}},{key:"setMaterial",value:function(e){return this.meshComponent.material=e,this}},{key:"setGeometry",value:function(e){return this.meshComponent.geometry=e,this}},{key:"setAttributes",value:function(e){var n=this;Object.keys(e).forEach(function(i){e[i]!==void 0&&e[i]!==n.attributes[i]&&(n.onAttributeChanged({name:i,data:e[i]}),n.attributes[i]=e[i])})}},{key:"setVisible",value:function(e){var n=this;return this.meshComponent.visible=e,this.meshComponent.children.forEach(function(i){var a=n.mesh.getComponentByEntity(i);a&&(a.visible=e)}),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(e){return this.sceneGraphSystem.attach(this.entity,e.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(e){var n=e.name,i=e.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(n),i)}},{key:"convertAttributeName2UniformName",value:function(e){return e}}]),r}(),UE.POINT="point",UE.LINE="line",UE.GRID="grid",KU),jU=zr(cy.prototype,"mesh",[$U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),YU=zr(cy.prototype,"cullable",[GU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),XU=zr(cy.prototype,"transform",[UU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qU=zr(cy.prototype,"sceneGraphSystem",[HU,VU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cy))||WU),U5e=un(function(r,t){(function(e,n){r.exports=n()})(dd,function(){var e=function(V){return V instanceof Uint8Array||V instanceof Uint16Array||V instanceof Uint32Array||V instanceof Int8Array||V instanceof Int16Array||V instanceof Int32Array||V instanceof Float32Array||V instanceof Float64Array||V instanceof Uint8ClampedArray},n=function(V,te){for(var Te=Object.keys(te),ft=0;ft<Te.length;++ft)V[Te[ft]]=te[Te[ft]];return V},i=`
`;function a(V){return typeof atob!="undefined"?atob(V):"base64:"+V}function o(V){var te=new Error("(regl) "+V);throw console.error(te),te}function s(V,te){V||o(te)}function l(V){return V?": "+V:""}function u(V,te,Te){V in te||o("unknown parameter ("+V+")"+l(Te)+". possible values: "+Object.keys(te).join())}function c(V,te){e(V)||o("invalid parameter type"+l(te)+". must be a typed array")}function f(V,te){switch(te){case"number":return typeof V=="number";case"object":return typeof V=="object";case"string":return typeof V=="string";case"boolean":return typeof V=="boolean";case"function":return typeof V=="function";case"undefined":return typeof V=="undefined";case"symbol":return typeof V=="symbol"}}function d(V,te,Te){f(V,te)||o("invalid parameter type"+l(Te)+". expected "+te+", got "+typeof V)}function h(V,te){V>=0&&(V|0)===V||o("invalid parameter type, ("+V+")"+l(te)+". must be a nonnegative integer")}function v(V,te,Te){te.indexOf(V)<0&&o("invalid value"+l(Te)+". must be one of: "+te)}var p=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function g(V){Object.keys(V).forEach(function(te){p.indexOf(te)<0&&o('invalid regl constructor argument "'+te+'". must be one of '+p)})}function m(V,te){for(V=V+"";V.length<te;)V=" "+V;return V}function y(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function b(V,te){this.number=V,this.line=te,this.errors=[]}function w(V,te,Te){this.file=V,this.line=te,this.message=Te}function S(){var V=new Error,te=(V.stack||V).toString(),Te=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(te);if(Te)return Te[1];var ft=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(te);return ft?ft[1]:"unknown"}function E(){var V=new Error,te=(V.stack||V).toString(),Te=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(te);if(Te)return Te[1];var ft=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(te);return ft?ft[1]:"unknown"}function _(V,te){var Te=V.split(`
`),ft=1,Ct=0,dt={unknown:new y,0:new y};dt.unknown.name=dt[0].name=te||S(),dt.unknown.lines.push(new b(0,""));for(var yt=0;yt<Te.length;++yt){var Gt=Te[yt],Pt=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(Gt);if(Pt)switch(Pt[1]){case"line":var Yt=/(\d+)(\s+\d+)?/.exec(Pt[2]);Yt&&(ft=Yt[1]|0,Yt[2]&&(Ct=Yt[2]|0,Ct in dt||(dt[Ct]=new y)));break;case"define":var Vt=/SHADER_NAME(_B64)?\s+(.*)$/.exec(Pt[2]);Vt&&(dt[Ct].name=Vt[1]?a(Vt[2]):Vt[2]);break}dt[Ct].lines.push(new b(ft++,Gt))}return Object.keys(dt).forEach(function(Zt){var or=dt[Zt];or.lines.forEach(function(Ut){or.index[Ut.number]=Ut})}),dt}function A(V){var te=[];return V.split(`
`).forEach(function(Te){if(!(Te.length<5)){var ft=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(Te);ft?te.push(new w(ft[1]|0,ft[2]|0,ft[3].trim())):Te.length>0&&te.push(new w("unknown",0,Te))}}),te}function k(V,te){te.forEach(function(Te){var ft=V[Te.file];if(ft){var Ct=ft.index[Te.line];if(Ct){Ct.errors.push(Te),ft.hasErrors=!0;return}}V.unknown.hasErrors=!0,V.unknown.lines[0].errors.push(Te)})}function T(V,te,Te,ft,Ct){if(!V.getShaderParameter(te,V.COMPILE_STATUS)){var dt=V.getShaderInfoLog(te),yt=ft===V.FRAGMENT_SHADER?"fragment":"vertex";G(Te,"string",yt+" shader source must be a string",Ct);var Gt=_(Te,Ct),Pt=A(dt);k(Gt,Pt),Object.keys(Gt).forEach(function(Yt){var Vt=Gt[Yt];if(!Vt.hasErrors)return;var Zt=[""],or=[""];function Ut(er,Qe){Zt.push(er),or.push(Qe||"")}Ut("file number "+Yt+": "+Vt.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Vt.lines.forEach(function(er){if(er.errors.length>0){Ut(m(er.number,4)+"|  ","background-color:yellow; font-weight:bold"),Ut(er.line+i,"color:red; background-color:yellow; font-weight:bold");var Qe=0;er.errors.forEach(function(bt){var $t=bt.message,Qt=/^\s*'(.*)'\s*:\s*(.*)$/.exec($t);if(Qt){var Rt=Qt[1];switch($t=Qt[2],Rt){case"assign":Rt="=";break}Qe=Math.max(er.line.indexOf(Rt,Qe),0)}else Qe=0;Ut(m("| ",6)),Ut(m("^^^",Qe+3)+i,"font-weight:bold"),Ut(m("| ",6)),Ut($t+i,"font-weight:bold")}),Ut(m("| ",6)+i)}else Ut(m(er.number,4)+"|  "),Ut(er.line+i,"color:red")}),typeof document!="undefined"&&!window.chrome?(or[0]=Zt.join("%c"),console.log.apply(console,or)):console.log(Zt.join(""))}),s.raise("Error compiling "+yt+" shader, "+Gt[0].name)}}function I(V,te,Te,ft,Ct){if(!V.getProgramParameter(te,V.LINK_STATUS)){var dt=V.getProgramInfoLog(te),yt=_(Te,Ct),Gt=_(ft,Ct),Pt='Error linking program with vertex shader, "'+Gt[0].name+'", and fragment shader "'+yt[0].name+'"';typeof document!="undefined"?console.log("%c"+Pt+i+"%c"+dt,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(Pt+i+dt),s.raise(Pt)}}function D(V){V._commandRef=S()}function O(V,te,Te,ft){D(V);function Ct(Pt){return Pt?ft.id(Pt):0}V._fragId=Ct(V.static.frag),V._vertId=Ct(V.static.vert);function dt(Pt,Yt){Object.keys(Yt).forEach(function(Vt){Pt[ft.id(Vt)]=!0})}var yt=V._uniformSet={};dt(yt,te.static),dt(yt,te.dynamic);var Gt=V._attributeSet={};dt(Gt,Te.static),dt(Gt,Te.dynamic),V._hasCount="count"in V.static||"count"in V.dynamic||"elements"in V.static||"elements"in V.dynamic}function B(V,te){var Te=E();o(V+" in command "+(te||S())+(Te==="unknown"?"":" called from "+Te))}function U(V,te,Te){V||B(te,Te||S())}function N(V,te,Te,ft){V in te||B("unknown parameter ("+V+")"+l(Te)+". possible values: "+Object.keys(te).join(),ft||S())}function G(V,te,Te,ft){f(V,te)||B("invalid parameter type"+l(Te)+". expected "+te+", got "+typeof V,ft||S())}function L(V){V()}function F(V,te,Te){V.texture?v(V.texture._texture.internalformat,te,"unsupported texture format for attachment"):v(V.renderbuffer._renderbuffer.format,Te,"unsupported renderbuffer format for attachment")}var W=33071,H=9728,K=9984,ie=9985,ee=9986,Q=9987,be=5120,fe=5121,he=5122,Ee=5123,He=5124,nt=5125,st=5126,z=32819,j=32820,X=33635,ae=34042,ue=36193,Be={};Be[be]=Be[fe]=1,Be[he]=Be[Ee]=Be[ue]=Be[X]=Be[z]=Be[j]=2,Be[He]=Be[nt]=Be[st]=Be[ae]=4;function Ze(V,te){return V===j||V===z||V===X?2:V===ae?4:Be[V]*te}function Le(V){return!(V&V-1)&&!!V}function se(V,te,Te){var ft,Ct=te.width,dt=te.height,yt=te.channels;s(Ct>0&&Ct<=Te.maxTextureSize&&dt>0&&dt<=Te.maxTextureSize,"invalid texture shape"),(V.wrapS!==W||V.wrapT!==W)&&s(Le(Ct)&&Le(dt),"incompatible wrap mode for texture, both width and height must be power of 2"),te.mipmask===1?Ct!==1&&dt!==1&&s(V.minFilter!==K&&V.minFilter!==ee&&V.minFilter!==ie&&V.minFilter!==Q,"min filter requires mipmap"):(s(Le(Ct)&&Le(dt),"texture must be a square power of 2 to support mipmapping"),s(te.mipmask===(Ct<<1)-1,"missing or incomplete mipmap data")),te.type===st&&(Te.extensions.indexOf("oes_texture_float_linear")<0&&s(V.minFilter===H&&V.magFilter===H,"filter not supported, must enable oes_texture_float_linear"),s(!V.genMipmaps,"mipmap generation not supported with float textures"));var Gt=te.images;for(ft=0;ft<16;++ft)if(Gt[ft]){var Pt=Ct>>ft,Yt=dt>>ft;s(te.mipmask&1<<ft,"missing mipmap data");var Vt=Gt[ft];if(s(Vt.width===Pt&&Vt.height===Yt,"invalid shape for mip images"),s(Vt.format===te.format&&Vt.internalformat===te.internalformat&&Vt.type===te.type,"incompatible type for mip image"),!Vt.compressed)if(Vt.data){var Zt=Math.ceil(Ze(Vt.type,yt)*Pt/Vt.unpackAlignment)*Vt.unpackAlignment;s(Vt.data.byteLength===Zt*Yt,"invalid data for image, buffer size is inconsistent with image format")}else Vt.element||Vt.copy}else V.genMipmaps||s((te.mipmask&1<<ft)===0,"extra mipmap data");te.compressed&&s(!V.genMipmaps,"mipmap generation for compressed images not supported")}function Se(V,te,Te,ft){var Ct=V.width,dt=V.height,yt=V.channels;s(Ct>0&&Ct<=ft.maxTextureSize&&dt>0&&dt<=ft.maxTextureSize,"invalid texture shape"),s(Ct===dt,"cube map must be square"),s(te.wrapS===W&&te.wrapT===W,"wrap mode not supported by cube map");for(var Gt=0;Gt<Te.length;++Gt){var Pt=Te[Gt];s(Pt.width===Ct&&Pt.height===dt,"inconsistent cube map face shape"),te.genMipmaps&&(s(!Pt.compressed,"can not generate mipmap for compressed textures"),s(Pt.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Yt=Pt.images,Vt=0;Vt<16;++Vt){var Zt=Yt[Vt];if(Zt){var or=Ct>>Vt,Ut=dt>>Vt;s(Pt.mipmask&1<<Vt,"missing mipmap data"),s(Zt.width===or&&Zt.height===Ut,"invalid shape for mip images"),s(Zt.format===V.format&&Zt.internalformat===V.internalformat&&Zt.type===V.type,"incompatible type for mip image"),Zt.compressed||(Zt.data?s(Zt.data.byteLength===or*Ut*Math.max(Ze(Zt.type,yt),Zt.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Zt.element||Zt.copy)}}}}var Y=n(s,{optional:L,raise:o,commandRaise:B,command:U,parameter:u,commandParameter:N,constructor:g,type:d,commandType:G,isTypedArray:c,nni:h,oneOf:v,shaderError:T,linkError:I,callSite:E,saveCommandRef:D,saveDrawInfo:O,framebufferFormat:F,guessCommand:S,texture2D:se,textureCube:Se}),ve=0,ce=0,de=5,Fe=6;function Ue(V,te){this.id=ve++,this.type=V,this.data=te}function lt(V){return V.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function ut(V){if(V.length===0)return[];var te=V.charAt(0),Te=V.charAt(V.length-1);if(V.length>1&&te===Te&&(te==='"'||te==="'"))return['"'+lt(V.substr(1,V.length-2))+'"'];var ft=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(V);if(ft)return ut(V.substr(0,ft.index)).concat(ut(ft[1])).concat(ut(V.substr(ft.index+ft[0].length)));var Ct=V.split(".");if(Ct.length===1)return['"'+lt(V)+'"'];for(var dt=[],yt=0;yt<Ct.length;++yt)dt=dt.concat(ut(Ct[yt]));return dt}function We(V){return"["+ut(V).join("][")+"]"}function J(V,te){return new Ue(V,We(te+""))}function Pe(V){return typeof V=="function"&&!V._reglType||V instanceof Ue}function Ce(V,te){if(typeof V=="function")return new Ue(ce,V);if(typeof V=="number"||typeof V=="boolean")return new Ue(de,V);if(Array.isArray(V))return new Ue(Fe,V.map((Te,ft)=>Ce(Te,te+"["+ft+"]")));if(V instanceof Ue)return V;Y(!1,"invalid option type in uniform "+te)}var ct={DynamicVariable:Ue,define:J,isDynamic:Pe,unbox:Ce,accessor:We},mt={next:typeof requestAnimationFrame=="function"?function(V){return requestAnimationFrame(V)}:function(V){return setTimeout(V,16)},cancel:typeof cancelAnimationFrame=="function"?function(V){return cancelAnimationFrame(V)}:clearTimeout},Me=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function ht(){var V={"":0},te=[""];return{id:function(Te){var ft=V[Te];return ft||(ft=V[Te]=te.length,te.push(Te),ft)},str:function(Te){return te[Te]}}}function ar(V,te,Te){var ft=document.createElement("canvas");n(ft.style,{border:0,margin:0,padding:0,top:0,left:0}),V.appendChild(ft),V===document.body&&(ft.style.position="absolute",n(V.style,{margin:0,padding:0}));function Ct(){var Gt=window.innerWidth,Pt=window.innerHeight;if(V!==document.body){var Yt=V.getBoundingClientRect();Gt=Yt.right-Yt.left,Pt=Yt.bottom-Yt.top}ft.width=Te*Gt,ft.height=Te*Pt,n(ft.style,{width:Gt+"px",height:Pt+"px"})}var dt;V!==document.body&&typeof ResizeObserver=="function"?(dt=new ResizeObserver(function(){setTimeout(Ct)}),dt.observe(V)):window.addEventListener("resize",Ct,!1);function yt(){dt?dt.disconnect():window.removeEventListener("resize",Ct),V.removeChild(ft)}return Ct(),{canvas:ft,onDestroy:yt}}function Ht(V,te){function Te(ft){try{return V.getContext(ft,te)}catch{return null}}return Te("webgl")||Te("experimental-webgl")||Te("webgl-experimental")}function Er(V){return typeof V.nodeName=="string"&&typeof V.appendChild=="function"&&typeof V.getBoundingClientRect=="function"}function it(V){return typeof V.drawArrays=="function"||typeof V.drawElements=="function"}function At(V){return typeof V=="string"?V.split():(Y(Array.isArray(V),"invalid extension array"),V)}function vr(V){return typeof V=="string"?(Y(typeof document!="undefined","not supported outside of DOM"),document.querySelector(V)):V}function ze(V){var te=V||{},Te,ft,Ct,dt,yt={},Gt=[],Pt=[],Yt=typeof window=="undefined"?1:window.devicePixelRatio,Vt=!1,Zt=function(er){er&&Y.raise(er)},or=function(){};if(typeof te=="string"?(Y(typeof document!="undefined","selector queries only supported in DOM enviroments"),Te=document.querySelector(te),Y(Te,"invalid query string for element")):typeof te=="object"?Er(te)?Te=te:it(te)?(dt=te,Ct=dt.canvas):(Y.constructor(te),"gl"in te?dt=te.gl:"canvas"in te?Ct=vr(te.canvas):"container"in te&&(ft=vr(te.container)),"attributes"in te&&(yt=te.attributes,Y.type(yt,"object","invalid context attributes")),"extensions"in te&&(Gt=At(te.extensions)),"optionalExtensions"in te&&(Pt=At(te.optionalExtensions)),"onDone"in te&&(Y.type(te.onDone,"function","invalid or missing onDone callback"),Zt=te.onDone),"profile"in te&&(Vt=!!te.profile),"pixelRatio"in te&&(Yt=+te.pixelRatio,Y(Yt>0,"invalid pixel ratio"))):Y.raise("invalid arguments to regl"),Te&&(Te.nodeName.toLowerCase()==="canvas"?Ct=Te:ft=Te),!dt){if(!Ct){Y(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var Ut=ar(ft||document.body,Zt,Yt);if(!Ut)return null;Ct=Ut.canvas,or=Ut.onDestroy}yt.premultipliedAlpha===void 0&&(yt.premultipliedAlpha=!0),dt=Ht(Ct,yt)}return dt?{gl:dt,canvas:Ct,container:ft,extensions:Gt,optionalExtensions:Pt,pixelRatio:Yt,profile:Vt,onDone:Zt,onDestroy:or}:(or(),Zt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function _e(V,te){var Te={};function ft(yt){Y.type(yt,"string","extension name must be string");var Gt=yt.toLowerCase(),Pt;try{Pt=Te[Gt]=V.getExtension(Gt)}catch{}return!!Pt}for(var Ct=0;Ct<te.extensions.length;++Ct){var dt=te.extensions[Ct];if(!ft(dt))return te.onDestroy(),te.onDone('"'+dt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return te.optionalExtensions.forEach(ft),{extensions:Te,restore:function(){Object.keys(Te).forEach(function(yt){if(Te[yt]&&!ft(yt))throw new Error("(regl): error restoring extension "+yt)})}}}function Ke(V,te){for(var Te=Array(V),ft=0;ft<V;++ft)Te[ft]=te(ft);return Te}var Ot=5120,Nt=5121,fr=5122,sn=5123,en=5124,Zr=5125,Wn=5126;function gn(V){for(var te=16;te<=1<<28;te*=16)if(V<=te)return te;return 0}function Pr(V){var te,Te;return te=(V>65535)<<4,V>>>=te,Te=(V>255)<<3,V>>>=Te,te|=Te,Te=(V>15)<<2,V>>>=Te,te|=Te,Te=(V>3)<<1,V>>>=Te,te|=Te,te|V>>1}function vn(){var V=Ke(8,function(){return[]});function te(dt){var yt=gn(dt),Gt=V[Pr(yt)>>2];return Gt.length>0?Gt.pop():new ArrayBuffer(yt)}function Te(dt){V[Pr(dt.byteLength)>>2].push(dt)}function ft(dt,yt){var Gt=null;switch(dt){case Ot:Gt=new Int8Array(te(yt),0,yt);break;case Nt:Gt=new Uint8Array(te(yt),0,yt);break;case fr:Gt=new Int16Array(te(2*yt),0,yt);break;case sn:Gt=new Uint16Array(te(2*yt),0,yt);break;case en:Gt=new Int32Array(te(4*yt),0,yt);break;case Zr:Gt=new Uint32Array(te(4*yt),0,yt);break;case Wn:Gt=new Float32Array(te(4*yt),0,yt);break;default:return null}return Gt.length!==yt?Gt.subarray(0,yt):Gt}function Ct(dt){Te(dt.buffer)}return{alloc:te,free:Te,allocType:ft,freeType:Ct}}var Lr=vn();Lr.zero=vn();var Dn=3408,Xr=3410,fi=3411,Ui=3412,Va=3413,fo=3414,ho=3415,Po=33901,ku=33902,sc=3379,Xl=3386,pf=34921,ql=36347,Kl=36348,qo=35661,Zl=35660,oi=34930,to=36349,Qi=34076,hs=34024,gl=7936,Yd=7937,Xd=7938,lc=35724,gf=34047,mf=36063,uc=34852,qd=3553,Bv=34067,Kd=34069,lm=33984,yf=6408,Zd=5126,zv=5121,bf=36160,Tk=36053,DS=36064,lb=16384,ub=function(V,te){var Te=1;te.ext_texture_filter_anisotropic&&(Te=V.getParameter(gf));var ft=1,Ct=1;te.webgl_draw_buffers&&(ft=V.getParameter(uc),Ct=V.getParameter(mf));var dt=!!te.oes_texture_float;if(dt){var yt=V.createTexture();V.bindTexture(qd,yt),V.texImage2D(qd,0,yf,1,1,0,yf,Zd,null);var Gt=V.createFramebuffer();if(V.bindFramebuffer(bf,Gt),V.framebufferTexture2D(bf,DS,qd,yt,0),V.bindTexture(qd,null),V.checkFramebufferStatus(bf)!==Tk)dt=!1;else{V.viewport(0,0,1,1),V.clearColor(1,0,0,1),V.clear(lb);var Pt=Lr.allocType(Zd,4);V.readPixels(0,0,1,1,yf,Zd,Pt),V.getError()?dt=!1:(V.deleteFramebuffer(Gt),V.deleteTexture(yt),dt=Pt[0]===1),Lr.freeType(Pt)}}var Yt=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Vt=!0;if(!Yt){var Zt=V.createTexture(),or=Lr.allocType(zv,36);V.activeTexture(lm),V.bindTexture(Bv,Zt),V.texImage2D(Kd,0,yf,3,3,0,yf,zv,or),Lr.freeType(or),V.bindTexture(Bv,null),V.deleteTexture(Zt),Vt=!V.getError()}return{colorBits:[V.getParameter(Xr),V.getParameter(fi),V.getParameter(Ui),V.getParameter(Va)],depthBits:V.getParameter(fo),stencilBits:V.getParameter(ho),subpixelBits:V.getParameter(Dn),extensions:Object.keys(te).filter(function(Ut){return!!te[Ut]}),maxAnisotropic:Te,maxDrawbuffers:ft,maxColorAttachments:Ct,pointSizeDims:V.getParameter(Po),lineWidthDims:V.getParameter(ku),maxViewportDims:V.getParameter(Xl),maxCombinedTextureUnits:V.getParameter(qo),maxCubeMapSize:V.getParameter(Qi),maxRenderbufferSize:V.getParameter(hs),maxTextureUnits:V.getParameter(oi),maxTextureSize:V.getParameter(sc),maxAttributes:V.getParameter(pf),maxVertexUniforms:V.getParameter(ql),maxVertexTextureUnits:V.getParameter(Zl),maxVaryingVectors:V.getParameter(Kl),maxFragmentUniforms:V.getParameter(to),glsl:V.getParameter(lc),renderer:V.getParameter(Yd),vendor:V.getParameter(gl),version:V.getParameter(Xd),readFloat:dt,npotTextureCube:Vt}};function Ro(V){return!!V&&typeof V=="object"&&Array.isArray(V.shape)&&Array.isArray(V.stride)&&typeof V.offset=="number"&&V.shape.length===V.stride.length&&(Array.isArray(V.data)||e(V.data))}var vs=function(V){return Object.keys(V).map(function(te){return V[te]})},$v={shape:kk,flatten:LS};function Ak(V,te,Te){for(var ft=0;ft<te;++ft)Te[ft]=V[ft]}function OS(V,te,Te,ft){for(var Ct=0,dt=0;dt<te;++dt)for(var yt=V[dt],Gt=0;Gt<Te;++Gt)ft[Ct++]=yt[Gt]}function cb(V,te,Te,ft,Ct,dt){for(var yt=dt,Gt=0;Gt<te;++Gt)for(var Pt=V[Gt],Yt=0;Yt<Te;++Yt)for(var Vt=Pt[Yt],Zt=0;Zt<ft;++Zt)Ct[yt++]=Vt[Zt]}function fb(V,te,Te,ft,Ct){for(var dt=1,yt=Te+1;yt<te.length;++yt)dt*=te[yt];var Gt=te[Te];if(te.length-Te===4){var Pt=te[Te+1],Yt=te[Te+2],Vt=te[Te+3];for(yt=0;yt<Gt;++yt)cb(V[yt],Pt,Yt,Vt,ft,Ct),Ct+=dt}else for(yt=0;yt<Gt;++yt)fb(V[yt],te,Te+1,ft,Ct),Ct+=dt}function LS(V,te,Te,ft){var Ct=1;if(te.length)for(var dt=0;dt<te.length;++dt)Ct*=te[dt];else Ct=0;var yt=ft||Lr.allocType(Te,Ct);switch(te.length){case 0:break;case 1:Ak(V,te[0],yt);break;case 2:OS(V,te[0],te[1],yt);break;case 3:cb(V,te[0],te[1],te[2],yt,0);break;default:fb(V,te,0,yt,0)}return yt}function kk(V){for(var te=[],Te=V;Te.length;Te=Te[0])te.push(Te.length);return te}var db={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Mk=5120,FS=5122,Ik=5124,Pk=5121,Rk=5123,Dk=5125,hb=5126,Ok=5126,xf={int8:Mk,int16:FS,int32:Ik,uint8:Pk,uint16:Rk,uint32:Dk,float:hb,float32:Ok},Lk=35048,Fk=35040,um={dynamic:Lk,stream:Fk,static:35044},Oi=$v.flatten,Li=$v.shape,NS=35044,Nk=35040,vb=5121,pb=5126,cc=[];cc[5120]=1,cc[5122]=2,cc[5124]=4,cc[5121]=1,cc[5123]=2,cc[5125]=4,cc[5126]=4;function cm(V){return db[Object.prototype.toString.call(V)]|0}function gb(V,te){for(var Te=0;Te<te.length;++Te)V[Te]=te[Te]}function BS(V,te,Te,ft,Ct,dt,yt){for(var Gt=0,Pt=0;Pt<Te;++Pt)for(var Yt=0;Yt<ft;++Yt)V[Gt++]=te[Ct*Pt+dt*Yt+yt]}function vo(V,te,Te,ft){var Ct=0,dt={};function yt(Qe){this.id=Ct++,this.buffer=V.createBuffer(),this.type=Qe,this.usage=NS,this.byteLength=0,this.dimension=1,this.dtype=vb,this.persistentData=null,Te.profile&&(this.stats={size:0})}yt.prototype.bind=function(){V.bindBuffer(this.type,this.buffer)},yt.prototype.destroy=function(){or(this)};var Gt=[];function Pt(Qe,bt){var $t=Gt.pop();return $t||($t=new yt(Qe)),$t.bind(),Zt($t,bt,Nk,0,1,!1),$t}function Yt(Qe){Gt.push(Qe)}function Vt(Qe,bt,$t){Qe.byteLength=bt.byteLength,V.bufferData(Qe.type,bt,$t)}function Zt(Qe,bt,$t,Qt,Rt,hr){var Lt;if(Qe.usage=$t,Array.isArray(bt)){if(Qe.dtype=Qt||pb,bt.length>0){var rr;if(Array.isArray(bt[0])){Lt=Li(bt);for(var Ft=1,Jt=1;Jt<Lt.length;++Jt)Ft*=Lt[Jt];Qe.dimension=Ft,rr=Oi(bt,Lt,Qe.dtype),Vt(Qe,rr,$t),hr?Qe.persistentData=rr:Lr.freeType(rr)}else if(typeof bt[0]=="number"){Qe.dimension=Rt;var Ir=Lr.allocType(Qe.dtype,bt.length);gb(Ir,bt),Vt(Qe,Ir,$t),hr?Qe.persistentData=Ir:Lr.freeType(Ir)}else e(bt[0])?(Qe.dimension=bt[0].length,Qe.dtype=Qt||cm(bt[0])||pb,rr=Oi(bt,[bt.length,bt[0].length],Qe.dtype),Vt(Qe,rr,$t),hr?Qe.persistentData=rr:Lr.freeType(rr)):Y.raise("invalid buffer data")}}else if(e(bt))Qe.dtype=Qt||cm(bt),Qe.dimension=Rt,Vt(Qe,bt,$t),hr&&(Qe.persistentData=new Uint8Array(new Uint8Array(bt.buffer)));else if(Ro(bt)){Lt=bt.shape;var Vr=bt.stride,sr=bt.offset,qt=0,Dt=0,Fr=0,Qr=0;Lt.length===1?(qt=Lt[0],Dt=1,Fr=Vr[0],Qr=0):Lt.length===2?(qt=Lt[0],Dt=Lt[1],Fr=Vr[0],Qr=Vr[1]):Y.raise("invalid shape"),Qe.dtype=Qt||cm(bt.data)||pb,Qe.dimension=Dt;var mr=Lr.allocType(Qe.dtype,qt*Dt);BS(mr,bt.data,qt,Dt,Fr,Qr,sr),Vt(Qe,mr,$t),hr?Qe.persistentData=mr:Lr.freeType(mr)}else bt instanceof ArrayBuffer?(Qe.dtype=vb,Qe.dimension=Rt,Vt(Qe,bt,$t),hr&&(Qe.persistentData=new Uint8Array(new Uint8Array(bt)))):Y.raise("invalid buffer data")}function or(Qe){te.bufferCount--,ft(Qe);var bt=Qe.buffer;Y(bt,"buffer must not be deleted already"),V.deleteBuffer(bt),Qe.buffer=null,delete dt[Qe.id]}function Ut(Qe,bt,$t,Qt){te.bufferCount++;var Rt=new yt(bt);dt[Rt.id]=Rt;function hr(Ft){var Jt=NS,Ir=null,Vr=0,sr=0,qt=1;return Array.isArray(Ft)||e(Ft)||Ro(Ft)||Ft instanceof ArrayBuffer?Ir=Ft:typeof Ft=="number"?Vr=Ft|0:Ft&&(Y.type(Ft,"object","buffer arguments must be an object, a number or an array"),"data"in Ft&&(Y(Ir===null||Array.isArray(Ir)||e(Ir)||Ro(Ir),"invalid data for buffer"),Ir=Ft.data),"usage"in Ft&&(Y.parameter(Ft.usage,um,"invalid buffer usage"),Jt=um[Ft.usage]),"type"in Ft&&(Y.parameter(Ft.type,xf,"invalid buffer type"),sr=xf[Ft.type]),"dimension"in Ft&&(Y.type(Ft.dimension,"number","invalid dimension"),qt=Ft.dimension|0),"length"in Ft&&(Y.nni(Vr,"buffer length must be a nonnegative integer"),Vr=Ft.length|0)),Rt.bind(),Ir?Zt(Rt,Ir,Jt,sr,qt,Qt):(Vr&&V.bufferData(Rt.type,Vr,Jt),Rt.dtype=sr||vb,Rt.usage=Jt,Rt.dimension=qt,Rt.byteLength=Vr),Te.profile&&(Rt.stats.size=Rt.byteLength*cc[Rt.dtype]),hr}function Lt(Ft,Jt){Y(Jt+Ft.byteLength<=Rt.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+Ft.byteLength+" starting from offset "+Jt+" to a buffer of size "+Rt.byteLength),V.bufferSubData(Rt.type,Jt,Ft)}function rr(Ft,Jt){var Ir=(Jt||0)|0,Vr;if(Rt.bind(),e(Ft)||Ft instanceof ArrayBuffer)Lt(Ft,Ir);else if(Array.isArray(Ft)){if(Ft.length>0)if(typeof Ft[0]=="number"){var sr=Lr.allocType(Rt.dtype,Ft.length);gb(sr,Ft),Lt(sr,Ir),Lr.freeType(sr)}else if(Array.isArray(Ft[0])||e(Ft[0])){Vr=Li(Ft);var qt=Oi(Ft,Vr,Rt.dtype);Lt(qt,Ir),Lr.freeType(qt)}else Y.raise("invalid buffer data")}else if(Ro(Ft)){Vr=Ft.shape;var Dt=Ft.stride,Fr=0,Qr=0,mr=0,mn=0;Vr.length===1?(Fr=Vr[0],Qr=1,mr=Dt[0],mn=0):Vr.length===2?(Fr=Vr[0],Qr=Vr[1],mr=Dt[0],mn=Dt[1]):Y.raise("invalid shape");var Wr=Array.isArray(Ft.data)?Rt.dtype:cm(Ft.data),ln=Lr.allocType(Wr,Fr*Qr);BS(ln,Ft.data,Fr,Qr,mr,mn,Ft.offset),Lt(ln,Ir),Lr.freeType(ln)}else Y.raise("invalid data for buffer subdata");return hr}return $t||hr(Qe),hr._reglType="buffer",hr._buffer=Rt,hr.subdata=rr,Te.profile&&(hr.stats=Rt.stats),hr.destroy=function(){or(Rt)},hr}function er(){vs(dt).forEach(function(Qe){Qe.buffer=V.createBuffer(),V.bindBuffer(Qe.type,Qe.buffer),V.bufferData(Qe.type,Qe.persistentData||Qe.byteLength,Qe.usage)})}return Te.profile&&(te.getTotalBufferSize=function(){var Qe=0;return Object.keys(dt).forEach(function(bt){Qe+=dt[bt].stats.size}),Qe}),{create:Ut,createStream:Pt,destroyStream:Yt,clear:function(){vs(dt).forEach(or),Gt.forEach(or)},getBuffer:function(Qe){return Qe&&Qe._buffer instanceof yt?Qe._buffer:null},restore:er,_initBuffer:Zt}}var mb=0,wf=0,zS=1,yb=1,Gs=4,$S=4,Sf={points:mb,point:wf,lines:zS,line:yb,triangles:Gs,triangle:$S,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},GS=0,US=1,Qd=4,HS=5120,ro=5121,VS=5122,po=5123,WS=5124,fc=5125,Ql=34963,fm=35040,bb=35044;function Ji(V,te,Te,ft){var Ct={},dt=0,yt={uint8:ro,uint16:po};te.oes_element_index_uint&&(yt.uint32=fc);function Gt(er){this.id=dt++,Ct[this.id]=this,this.buffer=er,this.primType=Qd,this.vertCount=0,this.type=0}Gt.prototype.bind=function(){this.buffer.bind()};var Pt=[];function Yt(er){var Qe=Pt.pop();return Qe||(Qe=new Gt(Te.create(null,Ql,!0,!1)._buffer)),Zt(Qe,er,fm,-1,-1,0,0),Qe}function Vt(er){Pt.push(er)}function Zt(er,Qe,bt,$t,Qt,Rt,hr){er.buffer.bind();var Lt;if(Qe){var rr=hr;!hr&&(!e(Qe)||Ro(Qe)&&!e(Qe.data))&&(rr=te.oes_element_index_uint?fc:po),Te._initBuffer(er.buffer,Qe,bt,rr,3)}else V.bufferData(Ql,Rt,bt),er.buffer.dtype=Lt||ro,er.buffer.usage=bt,er.buffer.dimension=3,er.buffer.byteLength=Rt;if(Lt=hr,!hr){switch(er.buffer.dtype){case ro:case HS:Lt=ro;break;case po:case VS:Lt=po;break;case fc:case WS:Lt=fc;break;default:Y.raise("unsupported type for element array")}er.buffer.dtype=Lt}er.type=Lt,Y(Lt!==fc||!!te.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var Ft=Qt;Ft<0&&(Ft=er.buffer.byteLength,Lt===po?Ft>>=1:Lt===fc&&(Ft>>=2)),er.vertCount=Ft;var Jt=$t;if($t<0){Jt=Qd;var Ir=er.buffer.dimension;Ir===1&&(Jt=GS),Ir===2&&(Jt=US),Ir===3&&(Jt=Qd)}er.primType=Jt}function or(er){ft.elementsCount--,Y(er.buffer!==null,"must not double destroy elements"),delete Ct[er.id],er.buffer.destroy(),er.buffer=null}function Ut(er,Qe){var bt=Te.create(null,Ql,!0),$t=new Gt(bt._buffer);ft.elementsCount++;function Qt(Rt){if(!Rt)bt(),$t.primType=Qd,$t.vertCount=0,$t.type=ro;else if(typeof Rt=="number")bt(Rt),$t.primType=Qd,$t.vertCount=Rt|0,$t.type=ro;else{var hr=null,Lt=bb,rr=-1,Ft=-1,Jt=0,Ir=0;Array.isArray(Rt)||e(Rt)||Ro(Rt)?hr=Rt:(Y.type(Rt,"object","invalid arguments for elements"),"data"in Rt&&(hr=Rt.data,Y(Array.isArray(hr)||e(hr)||Ro(hr),"invalid data for element buffer")),"usage"in Rt&&(Y.parameter(Rt.usage,um,"invalid element buffer usage"),Lt=um[Rt.usage]),"primitive"in Rt&&(Y.parameter(Rt.primitive,Sf,"invalid element buffer primitive"),rr=Sf[Rt.primitive]),"count"in Rt&&(Y(typeof Rt.count=="number"&&Rt.count>=0,"invalid vertex count for elements"),Ft=Rt.count|0),"type"in Rt&&(Y.parameter(Rt.type,yt,"invalid buffer type"),Ir=yt[Rt.type]),"length"in Rt?Jt=Rt.length|0:(Jt=Ft,Ir===po||Ir===VS?Jt*=2:(Ir===fc||Ir===WS)&&(Jt*=4))),Zt($t,hr,Lt,rr,Ft,Jt,Ir)}return Qt}return Qt(er),Qt._reglType="elements",Qt._elements=$t,Qt.subdata=function(Rt,hr){return bt.subdata(Rt,hr),Qt},Qt.destroy=function(){or($t)},Qt}return{create:Ut,createStream:Yt,destroyStream:Vt,getElements:function(er){return typeof er=="function"&&er._elements instanceof Gt?er._elements:null},clear:function(){vs(Ct).forEach(or)}}}var Mu=new Float32Array(1),xb=new Uint32Array(Mu.buffer),Bk=5123;function dm(V){for(var te=Lr.allocType(Bk,V.length),Te=0;Te<V.length;++Te)if(isNaN(V[Te]))te[Te]=65535;else if(V[Te]===1/0)te[Te]=31744;else if(V[Te]===-1/0)te[Te]=64512;else{Mu[0]=V[Te];var ft=xb[0],Ct=ft>>>31<<15,dt=(ft<<1>>>24)-127,yt=ft>>13&(1<<10)-1;if(dt<-24)te[Te]=Ct;else if(dt<-14){var Gt=-14-dt;te[Te]=Ct+(yt+(1<<10)>>Gt)}else dt>15?te[Te]=Ct+31744:te[Te]=Ct+(dt+15<<10)+yt}return te}function aa(V){return Array.isArray(V)||e(V)}var jS=function(V){return!(V&V-1)&&!!V},zk=34467,ml=3553,Jd=34067,Iu=34069,Cf=6408,hm=6406,Gv=6407,Ef=6409,eh=6410,wb=32854,Sb=32855,vm=36194,Cb=32819,$k=32820,YS=33635,Ts=34042,Uv=6402,dc=34041,pm=35904,gm=35906,th=36193,Eb=33776,_b=33777,Tb=33778,Ab=33779,_f=35986,XS=35987,qS=34798,mm=35840,kb=35841,Pu=35842,Hv=35843,KS=36196,rh=5121,Mb=5123,hc=5125,Ko=5126,ZS=10242,Gk=10243,Uk=10497,Ib=33071,Hk=33648,Vk=10240,nh=10241,rt=9728,Bt=9729,Et=9984,Mr=9985,wn=9986,si=9987,Wa=33170,bi=4352,Pb=4353,Wk=4354,Us=34046,ym=3317,jk=37440,ih=37441,bm=37443,Vv=37444,li=33984,Yk=[Et,wn,Mr,si],Wv=[0,Ef,eh,Gv,Cf],Zo={};Zo[Ef]=Zo[hm]=Zo[Uv]=1,Zo[dc]=Zo[eh]=2,Zo[Gv]=Zo[pm]=3,Zo[Cf]=Zo[gm]=4;function ah(V){return"[object "+V+"]"}var QS=ah("HTMLCanvasElement"),JS=ah("OffscreenCanvas"),jv=ah("CanvasRenderingContext2D"),Ru=ah("ImageBitmap"),Yv=ah("HTMLImageElement"),Rb=ah("HTMLVideoElement"),xm=Object.keys(db).concat([QS,JS,jv,Ru,Yv,Rb]),Tf=[];Tf[rh]=1,Tf[Ko]=4,Tf[th]=2,Tf[Mb]=2,Tf[hc]=4;var ja=[];ja[wb]=2,ja[Sb]=2,ja[vm]=2,ja[dc]=4,ja[Eb]=.5,ja[_b]=.5,ja[Tb]=1,ja[Ab]=1,ja[_f]=.5,ja[XS]=1,ja[qS]=1,ja[mm]=.5,ja[kb]=.25,ja[Pu]=.5,ja[Hv]=.25,ja[KS]=.5;function Xv(V){return Array.isArray(V)&&(V.length===0||typeof V[0]=="number")}function Db(V){if(!Array.isArray(V))return!1;var te=V.length;return!(te===0||!aa(V[0]))}function yl(V){return Object.prototype.toString.call(V)}function vc(V){return yl(V)===QS}function qv(V){return yl(V)===JS}function Xk(V){return yl(V)===jv}function qk(V){return yl(V)===Ru}function Kk(V){return yl(V)===Yv}function wm(V){return yl(V)===Rb}function oh(V){if(!V)return!1;var te=yl(V);return xm.indexOf(te)>=0?!0:Xv(V)||Db(V)||Ro(V)}function Sm(V){return db[Object.prototype.toString.call(V)]|0}function Zk(V,te){var Te=te.length;switch(V.type){case rh:case Mb:case hc:case Ko:var ft=Lr.allocType(V.type,Te);ft.set(te),V.data=ft;break;case th:V.data=dm(te);break;default:Y.raise("unsupported texture type, must specify a typed array")}}function Ob(V,te){return Lr.allocType(V.type===th?Ko:V.type,te)}function eC(V,te){V.type===th?(V.data=dm(te),Lr.freeType(te)):V.data=te}function Qk(V,te,Te,ft,Ct,dt){for(var yt=V.width,Gt=V.height,Pt=V.channels,Yt=yt*Gt*Pt,Vt=Ob(V,Yt),Zt=0,or=0;or<Gt;++or)for(var Ut=0;Ut<yt;++Ut)for(var er=0;er<Pt;++er)Vt[Zt++]=te[Te*Ut+ft*or+Ct*er+dt];eC(V,Vt)}function ga(V,te,Te,ft,Ct,dt){var yt;if(typeof ja[V]!="undefined"?yt=ja[V]:yt=Zo[V]*Tf[te],dt&&(yt*=6),Ct){for(var Gt=0,Pt=Te;Pt>=1;)Gt+=yt*Pt*Pt,Pt/=2;return Gt}else return yt*Te*ft}function Do(V,te,Te,ft,Ct,dt,yt){var Gt={"don't care":bi,"dont care":bi,nice:Wk,fast:Pb},Pt={repeat:Uk,clamp:Ib,mirror:Hk},Yt={nearest:rt,linear:Bt},Vt=n({mipmap:si,"nearest mipmap nearest":Et,"linear mipmap nearest":Mr,"nearest mipmap linear":wn,"linear mipmap linear":si},Yt),Zt={none:0,browser:Vv},or={uint8:rh,rgba4:Cb,rgb565:YS,"rgb5 a1":$k},Ut={alpha:hm,luminance:Ef,"luminance alpha":eh,rgb:Gv,rgba:Cf,rgba4:wb,"rgb5 a1":Sb,rgb565:vm},er={};te.ext_srgb&&(Ut.srgb=pm,Ut.srgba=gm),te.oes_texture_float&&(or.float32=or.float=Ko),te.oes_texture_half_float&&(or.float16=or["half float"]=th),te.webgl_depth_texture&&(n(Ut,{depth:Uv,"depth stencil":dc}),n(or,{uint16:Mb,uint32:hc,"depth stencil":Ts})),te.webgl_compressed_texture_s3tc&&n(er,{"rgb s3tc dxt1":Eb,"rgba s3tc dxt1":_b,"rgba s3tc dxt3":Tb,"rgba s3tc dxt5":Ab}),te.webgl_compressed_texture_atc&&n(er,{"rgb atc":_f,"rgba atc explicit alpha":XS,"rgba atc interpolated alpha":qS}),te.webgl_compressed_texture_pvrtc&&n(er,{"rgb pvrtc 4bppv1":mm,"rgb pvrtc 2bppv1":kb,"rgba pvrtc 4bppv1":Pu,"rgba pvrtc 2bppv1":Hv}),te.webgl_compressed_texture_etc1&&(er["rgb etc1"]=KS);var Qe=Array.prototype.slice.call(V.getParameter(zk));Object.keys(er).forEach(function(we){var vt=er[we];Qe.indexOf(vt)>=0&&(Ut[we]=vt)});var bt=Object.keys(Ut);Te.textureFormats=bt;var $t=[];Object.keys(Ut).forEach(function(we){var vt=Ut[we];$t[vt]=we});var Qt=[];Object.keys(or).forEach(function(we){var vt=or[we];Qt[vt]=we});var Rt=[];Object.keys(Yt).forEach(function(we){var vt=Yt[we];Rt[vt]=we});var hr=[];Object.keys(Vt).forEach(function(we){var vt=Vt[we];hr[vt]=we});var Lt=[];Object.keys(Pt).forEach(function(we){var vt=Pt[we];Lt[vt]=we});var rr=bt.reduce(function(we,vt){var at=Ut[vt];return at===Ef||at===hm||at===Ef||at===eh||at===Uv||at===dc||te.ext_srgb&&(at===pm||at===gm)?we[at]=at:at===Sb||vt.indexOf("rgba")>=0?we[at]=Cf:we[at]=Gv,we},{});function Ft(){this.internalformat=Cf,this.format=Cf,this.type=rh,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Vv,this.width=0,this.height=0,this.channels=0}function Jt(we,vt){we.internalformat=vt.internalformat,we.format=vt.format,we.type=vt.type,we.compressed=vt.compressed,we.premultiplyAlpha=vt.premultiplyAlpha,we.flipY=vt.flipY,we.unpackAlignment=vt.unpackAlignment,we.colorSpace=vt.colorSpace,we.width=vt.width,we.height=vt.height,we.channels=vt.channels}function Ir(we,vt){if(!(typeof vt!="object"||!vt)){if("premultiplyAlpha"in vt&&(Y.type(vt.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),we.premultiplyAlpha=vt.premultiplyAlpha),"flipY"in vt&&(Y.type(vt.flipY,"boolean","invalid texture flip"),we.flipY=vt.flipY),"alignment"in vt&&(Y.oneOf(vt.alignment,[1,2,4,8],"invalid texture unpack alignment"),we.unpackAlignment=vt.alignment),"colorSpace"in vt&&(Y.parameter(vt.colorSpace,Zt,"invalid colorSpace"),we.colorSpace=Zt[vt.colorSpace]),"type"in vt){var at=vt.type;Y(te.oes_texture_float||!(at==="float"||at==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),Y(te.oes_texture_half_float||!(at==="half float"||at==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),Y(te.webgl_depth_texture||!(at==="uint16"||at==="uint32"||at==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),Y.parameter(at,or,"invalid texture type"),we.type=or[at]}var pr=we.width,yn=we.height,xe=we.channels,ne=!1;"shape"in vt?(Y(Array.isArray(vt.shape)&&vt.shape.length>=2,"shape must be an array"),pr=vt.shape[0],yn=vt.shape[1],vt.shape.length===3&&(xe=vt.shape[2],Y(xe>0&&xe<=4,"invalid number of channels"),ne=!0),Y(pr>=0&&pr<=Te.maxTextureSize,"invalid width"),Y(yn>=0&&yn<=Te.maxTextureSize,"invalid height")):("radius"in vt&&(pr=yn=vt.radius,Y(pr>=0&&pr<=Te.maxTextureSize,"invalid radius")),"width"in vt&&(pr=vt.width,Y(pr>=0&&pr<=Te.maxTextureSize,"invalid width")),"height"in vt&&(yn=vt.height,Y(yn>=0&&yn<=Te.maxTextureSize,"invalid height")),"channels"in vt&&(xe=vt.channels,Y(xe>0&&xe<=4,"invalid number of channels"),ne=!0)),we.width=pr|0,we.height=yn|0,we.channels=xe|0;var De=!1;if("format"in vt){var qe=vt.format;Y(te.webgl_depth_texture||!(qe==="depth"||qe==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),Y.parameter(qe,Ut,"invalid texture format");var et=we.internalformat=Ut[qe];we.format=rr[et],qe in or&&("type"in vt||(we.type=or[qe])),qe in er&&(we.compressed=!0),De=!0}!ne&&De?we.channels=Zo[we.format]:ne&&!De?we.channels!==Wv[we.format]&&(we.format=we.internalformat=Wv[we.channels]):De&&ne&&Y(we.channels===Zo[we.format],"number of channels inconsistent with specified format")}}function Vr(we){V.pixelStorei(jk,we.flipY),V.pixelStorei(ih,we.premultiplyAlpha),V.pixelStorei(bm,we.colorSpace),V.pixelStorei(ym,we.unpackAlignment)}function sr(){Ft.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function qt(we,vt){var at=null;if(oh(vt)?at=vt:vt&&(Y.type(vt,"object","invalid pixel data type"),Ir(we,vt),"x"in vt&&(we.xOffset=vt.x|0),"y"in vt&&(we.yOffset=vt.y|0),oh(vt.data)&&(at=vt.data)),Y(!we.compressed||at instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),vt.copy){Y(!at,"can not specify copy and data field for the same texture");var pr=Ct.viewportWidth,yn=Ct.viewportHeight;we.width=we.width||pr-we.xOffset,we.height=we.height||yn-we.yOffset,we.needsCopy=!0,Y(we.xOffset>=0&&we.xOffset<pr&&we.yOffset>=0&&we.yOffset<yn&&we.width>0&&we.width<=pr&&we.height>0&&we.height<=yn,"copy texture read out of bounds")}else if(!at)we.width=we.width||1,we.height=we.height||1,we.channels=we.channels||4;else if(e(at))we.channels=we.channels||4,we.data=at,!("type"in vt)&&we.type===rh&&(we.type=Sm(at));else if(Xv(at))we.channels=we.channels||4,Zk(we,at),we.alignment=1,we.needsFree=!0;else if(Ro(at)){var xe=at.data;!Array.isArray(xe)&&we.type===rh&&(we.type=Sm(xe));var ne=at.shape,De=at.stride,qe,et,$e,Oe,je,pe;ne.length===3?($e=ne[2],pe=De[2]):(Y(ne.length===2,"invalid ndarray pixel data, must be 2 or 3D"),$e=1,pe=1),qe=ne[0],et=ne[1],Oe=De[0],je=De[1],we.alignment=1,we.width=qe,we.height=et,we.channels=$e,we.format=we.internalformat=Wv[$e],we.needsFree=!0,Qk(we,xe,Oe,je,pe,at.offset)}else if(vc(at)||qv(at)||Xk(at))vc(at)||qv(at)?we.element=at:we.element=at.canvas,we.width=we.element.width,we.height=we.element.height,we.channels=4;else if(qk(at))we.element=at,we.width=at.width,we.height=at.height,we.channels=4;else if(Kk(at))we.element=at,we.width=at.naturalWidth,we.height=at.naturalHeight,we.channels=4;else if(wm(at))we.element=at,we.width=at.videoWidth,we.height=at.videoHeight,we.channels=4;else if(Db(at)){var Ie=we.width||at[0].length,ge=we.height||at.length,Xe=we.channels;aa(at[0][0])?Xe=Xe||at[0][0].length:Xe=Xe||1;for(var tt=$v.shape(at),_t=1,kt=0;kt<tt.length;++kt)_t*=tt[kt];var St=Ob(we,_t);$v.flatten(at,tt,"",St),eC(we,St),we.alignment=1,we.width=Ie,we.height=ge,we.channels=Xe,we.format=we.internalformat=Wv[Xe],we.needsFree=!0}we.type===Ko?Y(Te.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):we.type===th&&Y(Te.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Dt(we,vt,at){var pr=we.element,yn=we.data,xe=we.internalformat,ne=we.format,De=we.type,qe=we.width,et=we.height;Vr(we),pr?V.texImage2D(vt,at,ne,ne,De,pr):we.compressed?V.compressedTexImage2D(vt,at,xe,qe,et,0,yn):we.needsCopy?(ft(),V.copyTexImage2D(vt,at,ne,we.xOffset,we.yOffset,qe,et,0)):V.texImage2D(vt,at,ne,qe,et,0,ne,De,yn||null)}function Fr(we,vt,at,pr,yn){var xe=we.element,ne=we.data,De=we.internalformat,qe=we.format,et=we.type,$e=we.width,Oe=we.height;Vr(we),xe?V.texSubImage2D(vt,yn,at,pr,qe,et,xe):we.compressed?V.compressedTexSubImage2D(vt,yn,at,pr,De,$e,Oe,ne):we.needsCopy?(ft(),V.copyTexSubImage2D(vt,yn,at,pr,we.xOffset,we.yOffset,$e,Oe)):V.texSubImage2D(vt,yn,at,pr,$e,Oe,qe,et,ne)}var Qr=[];function mr(){return Qr.pop()||new sr}function mn(we){we.needsFree&&Lr.freeType(we.data),sr.call(we),Qr.push(we)}function Wr(){Ft.call(this),this.genMipmaps=!1,this.mipmapHint=bi,this.mipmask=0,this.images=Array(16)}function ln(we,vt,at){var pr=we.images[0]=mr();we.mipmask=1,pr.width=we.width=vt,pr.height=we.height=at,pr.channels=we.channels=4}function Mn(we,vt){var at=null;if(oh(vt))at=we.images[0]=mr(),Jt(at,we),qt(at,vt),we.mipmask=1;else if(Ir(we,vt),Array.isArray(vt.mipmap))for(var pr=vt.mipmap,yn=0;yn<pr.length;++yn)at=we.images[yn]=mr(),Jt(at,we),at.width>>=yn,at.height>>=yn,qt(at,pr[yn]),we.mipmask|=1<<yn;else at=we.images[0]=mr(),Jt(at,we),qt(at,vt),we.mipmask=1;Jt(we,we.images[0]),we.compressed&&(we.internalformat===Eb||we.internalformat===_b||we.internalformat===Tb||we.internalformat===Ab)&&Y(we.width%4===0&&we.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function ea(we,vt){for(var at=we.images,pr=0;pr<at.length;++pr){if(!at[pr])return;Dt(at[pr],vt,pr)}}var Ta=[];function Sn(){var we=Ta.pop()||new Wr;Ft.call(we),we.mipmask=0;for(var vt=0;vt<16;++vt)we.images[vt]=null;return we}function ta(we){for(var vt=we.images,at=0;at<vt.length;++at)vt[at]&&mn(vt[at]),vt[at]=null;Ta.push(we)}function _i(){this.minFilter=rt,this.magFilter=rt,this.wrapS=Ib,this.wrapT=Ib,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=bi}function mi(we,vt){if("min"in vt){var at=vt.min;Y.parameter(at,Vt),we.minFilter=Vt[at],Yk.indexOf(we.minFilter)>=0&&!("faces"in vt)&&(we.genMipmaps=!0)}if("mag"in vt){var pr=vt.mag;Y.parameter(pr,Yt),we.magFilter=Yt[pr]}var yn=we.wrapS,xe=we.wrapT;if("wrap"in vt){var ne=vt.wrap;typeof ne=="string"?(Y.parameter(ne,Pt),yn=xe=Pt[ne]):Array.isArray(ne)&&(Y.parameter(ne[0],Pt),Y.parameter(ne[1],Pt),yn=Pt[ne[0]],xe=Pt[ne[1]])}else{if("wrapS"in vt){var De=vt.wrapS;Y.parameter(De,Pt),yn=Pt[De]}if("wrapT"in vt){var qe=vt.wrapT;Y.parameter(qe,Pt),xe=Pt[qe]}}if(we.wrapS=yn,we.wrapT=xe,"anisotropic"in vt){var et=vt.anisotropic;Y(typeof et=="number"&&et>=1&&et<=Te.maxAnisotropic,"aniso samples must be between 1 and "),we.anisotropic=vt.anisotropic}if("mipmap"in vt){var $e=!1;switch(typeof vt.mipmap){case"string":Y.parameter(vt.mipmap,Gt,"invalid mipmap hint"),we.mipmapHint=Gt[vt.mipmap],we.genMipmaps=!0,$e=!0;break;case"boolean":$e=we.genMipmaps=vt.mipmap;break;case"object":Y(Array.isArray(vt.mipmap),"invalid mipmap type"),we.genMipmaps=!1,$e=!0;break;default:Y.raise("invalid mipmap type")}$e&&!("min"in vt)&&(we.minFilter=Et)}}function Fi(we,vt){V.texParameteri(vt,nh,we.minFilter),V.texParameteri(vt,Vk,we.magFilter),V.texParameteri(vt,ZS,we.wrapS),V.texParameteri(vt,Gk,we.wrapT),te.ext_texture_filter_anisotropic&&V.texParameteri(vt,Us,we.anisotropic),we.genMipmaps&&(V.hint(Wa,we.mipmapHint),V.generateMipmap(vt))}var Aa=0,Fa={},ao=Te.maxTextureUnits,oa=Array(ao).map(function(){return null});function tn(we){Ft.call(this),this.mipmask=0,this.internalformat=Cf,this.id=Aa++,this.refCount=1,this.target=we,this.texture=V.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new _i,yt.profile&&(this.stats={size:0})}function oo(we){V.activeTexture(li),V.bindTexture(we.target,we.texture)}function Yn(){var we=oa[0];we?V.bindTexture(we.target,we.texture):V.bindTexture(ml,null)}function Dr(we){var vt=we.texture;Y(vt,"must not double destroy texture");var at=we.unit,pr=we.target;at>=0&&(V.activeTexture(li+at),V.bindTexture(pr,null),oa[at]=null),V.deleteTexture(vt),we.texture=null,we.params=null,we.pixels=null,we.refCount=0,delete Fa[we.id],dt.textureCount--}n(tn.prototype,{bind:function(){var we=this;we.bindCount+=1;var vt=we.unit;if(vt<0){for(var at=0;at<ao;++at){var pr=oa[at];if(pr){if(pr.bindCount>0)continue;pr.unit=-1}oa[at]=we,vt=at;break}vt>=ao&&Y.raise("insufficient number of texture units"),yt.profile&&dt.maxTextureUnits<vt+1&&(dt.maxTextureUnits=vt+1),we.unit=vt,V.activeTexture(li+vt),V.bindTexture(we.target,we.texture)}return vt},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Dr(this)}});function Cn(we,vt){var at=new tn(ml);Fa[at.id]=at,dt.textureCount++;function pr(ne,De){var qe=at.texInfo;_i.call(qe);var et=Sn();return typeof ne=="number"?typeof De=="number"?ln(et,ne|0,De|0):ln(et,ne|0,ne|0):ne?(Y.type(ne,"object","invalid arguments to regl.texture"),mi(qe,ne),Mn(et,ne)):ln(et,1,1),qe.genMipmaps&&(et.mipmask=(et.width<<1)-1),at.mipmask=et.mipmask,Jt(at,et),Y.texture2D(qe,et,Te),at.internalformat=et.internalformat,pr.width=et.width,pr.height=et.height,oo(at),ea(et,ml),Fi(qe,ml),Yn(),ta(et),yt.profile&&(at.stats.size=ga(at.internalformat,at.type,et.width,et.height,qe.genMipmaps,!1)),pr.format=$t[at.internalformat],pr.type=Qt[at.type],pr.mag=Rt[qe.magFilter],pr.min=hr[qe.minFilter],pr.wrapS=Lt[qe.wrapS],pr.wrapT=Lt[qe.wrapT],pr}function yn(ne,De,qe,et){Y(!!ne,"must specify image data");var $e=De|0,Oe=qe|0,je=et|0,pe=mr();return Jt(pe,at),pe.width=0,pe.height=0,qt(pe,ne),pe.width=pe.width||(at.width>>je)-$e,pe.height=pe.height||(at.height>>je)-Oe,Y(at.type===pe.type&&at.format===pe.format&&at.internalformat===pe.internalformat,"incompatible format for texture.subimage"),Y($e>=0&&Oe>=0&&$e+pe.width<=at.width&&Oe+pe.height<=at.height,"texture.subimage write out of bounds"),Y(at.mipmask&1<<je,"missing mipmap data"),Y(pe.data||pe.element||pe.needsCopy,"missing image data"),oo(at),Fr(pe,ml,$e,Oe,je),Yn(),mn(pe),pr}function xe(ne,De){var qe=ne|0,et=De|0||qe;if(qe===at.width&&et===at.height)return pr;pr.width=at.width=qe,pr.height=at.height=et,oo(at);for(var $e=0;at.mipmask>>$e;++$e){var Oe=qe>>$e,je=et>>$e;if(!Oe||!je)break;V.texImage2D(ml,$e,at.format,Oe,je,0,at.format,at.type,null)}return Yn(),yt.profile&&(at.stats.size=ga(at.internalformat,at.type,qe,et,!1,!1)),pr}return pr(we,vt),pr.subimage=yn,pr.resize=xe,pr._reglType="texture2d",pr._texture=at,yt.profile&&(pr.stats=at.stats),pr.destroy=function(){at.decRef()},pr}function On(we,vt,at,pr,yn,xe){var ne=new tn(Jd);Fa[ne.id]=ne,dt.cubeCount++;var De=new Array(6);function qe(Oe,je,pe,Ie,ge,Xe){var tt,_t=ne.texInfo;for(_i.call(_t),tt=0;tt<6;++tt)De[tt]=Sn();if(typeof Oe=="number"||!Oe){var kt=Oe|0||1;for(tt=0;tt<6;++tt)ln(De[tt],kt,kt)}else if(typeof Oe=="object")if(je)Mn(De[0],Oe),Mn(De[1],je),Mn(De[2],pe),Mn(De[3],Ie),Mn(De[4],ge),Mn(De[5],Xe);else if(mi(_t,Oe),Ir(ne,Oe),"faces"in Oe){var St=Oe.faces;for(Y(Array.isArray(St)&&St.length===6,"cube faces must be a length 6 array"),tt=0;tt<6;++tt)Y(typeof St[tt]=="object"&&!!St[tt],"invalid input for cube map face"),Jt(De[tt],ne),Mn(De[tt],St[tt])}else for(tt=0;tt<6;++tt)Mn(De[tt],Oe);else Y.raise("invalid arguments to cube map");for(Jt(ne,De[0]),Te.npotTextureCube||Y(jS(ne.width)&&jS(ne.height),"your browser does not support non power or two texture dimensions"),_t.genMipmaps?ne.mipmask=(De[0].width<<1)-1:ne.mipmask=De[0].mipmask,Y.textureCube(ne,_t,De,Te),ne.internalformat=De[0].internalformat,qe.width=De[0].width,qe.height=De[0].height,oo(ne),tt=0;tt<6;++tt)ea(De[tt],Iu+tt);for(Fi(_t,Jd),Yn(),yt.profile&&(ne.stats.size=ga(ne.internalformat,ne.type,qe.width,qe.height,_t.genMipmaps,!0)),qe.format=$t[ne.internalformat],qe.type=Qt[ne.type],qe.mag=Rt[_t.magFilter],qe.min=hr[_t.minFilter],qe.wrapS=Lt[_t.wrapS],qe.wrapT=Lt[_t.wrapT],tt=0;tt<6;++tt)ta(De[tt]);return qe}function et(Oe,je,pe,Ie,ge){Y(!!je,"must specify image data"),Y(typeof Oe=="number"&&Oe===(Oe|0)&&Oe>=0&&Oe<6,"invalid face");var Xe=pe|0,tt=Ie|0,_t=ge|0,kt=mr();return Jt(kt,ne),kt.width=0,kt.height=0,qt(kt,je),kt.width=kt.width||(ne.width>>_t)-Xe,kt.height=kt.height||(ne.height>>_t)-tt,Y(ne.type===kt.type&&ne.format===kt.format&&ne.internalformat===kt.internalformat,"incompatible format for texture.subimage"),Y(Xe>=0&&tt>=0&&Xe+kt.width<=ne.width&&tt+kt.height<=ne.height,"texture.subimage write out of bounds"),Y(ne.mipmask&1<<_t,"missing mipmap data"),Y(kt.data||kt.element||kt.needsCopy,"missing image data"),oo(ne),Fr(kt,Iu+Oe,Xe,tt,_t),Yn(),mn(kt),qe}function $e(Oe){var je=Oe|0;if(je!==ne.width){qe.width=ne.width=je,qe.height=ne.height=je,oo(ne);for(var pe=0;pe<6;++pe)for(var Ie=0;ne.mipmask>>Ie;++Ie)V.texImage2D(Iu+pe,Ie,ne.format,je>>Ie,je>>Ie,0,ne.format,ne.type,null);return Yn(),yt.profile&&(ne.stats.size=ga(ne.internalformat,ne.type,qe.width,qe.height,!1,!0)),qe}}return qe(we,vt,at,pr,yn,xe),qe.subimage=et,qe.resize=$e,qe._reglType="textureCube",qe._texture=ne,yt.profile&&(qe.stats=ne.stats),qe.destroy=function(){ne.decRef()},qe}function sa(){for(var we=0;we<ao;++we)V.activeTexture(li+we),V.bindTexture(ml,null),oa[we]=null;vs(Fa).forEach(Dr),dt.cubeCount=0,dt.textureCount=0}yt.profile&&(dt.getTotalTextureSize=function(){var we=0;return Object.keys(Fa).forEach(function(vt){we+=Fa[vt].stats.size}),we});function au(){for(var we=0;we<ao;++we){var vt=oa[we];vt&&(vt.bindCount=0,vt.unit=-1,oa[we]=null)}vs(Fa).forEach(function(at){at.texture=V.createTexture(),V.bindTexture(at.target,at.texture);for(var pr=0;pr<32;++pr)if((at.mipmask&1<<pr)!==0)if(at.target===ml)V.texImage2D(ml,pr,at.internalformat,at.width>>pr,at.height>>pr,0,at.internalformat,at.type,null);else for(var yn=0;yn<6;++yn)V.texImage2D(Iu+yn,pr,at.internalformat,at.width>>pr,at.height>>pr,0,at.internalformat,at.type,null);Fi(at.texInfo,at.target)})}function Yf(){for(var we=0;we<ao;++we){var vt=oa[we];vt&&(vt.bindCount=0,vt.unit=-1,oa[we]=null),V.activeTexture(li+we),V.bindTexture(ml,null),V.bindTexture(Jd,null)}}return{create2D:Cn,createCube:On,clear:sa,getTexture:function(we){return null},restore:au,refresh:Yf}}var pc=36161,Cm=32854,Lb=32855,tC=36194,Em=33189,sh=36168,_m=34041,Af=35907,lh=34836,uh=34842,Kv=34843,Oo=[];Oo[Cm]=2,Oo[Lb]=2,Oo[tC]=2,Oo[Em]=2,Oo[sh]=1,Oo[_m]=4,Oo[Af]=4,Oo[lh]=16,Oo[uh]=8,Oo[Kv]=6;function rC(V,te,Te){return Oo[V]*te*Te}var Jk=function(V,te,Te,ft,Ct){var dt={rgba4:Cm,rgb565:tC,"rgb5 a1":Lb,depth:Em,stencil:sh,"depth stencil":_m};te.ext_srgb&&(dt.srgba=Af),te.ext_color_buffer_half_float&&(dt.rgba16f=uh,dt.rgb16f=Kv),te.webgl_color_buffer_float&&(dt.rgba32f=lh);var yt=[];Object.keys(dt).forEach(function(Ut){var er=dt[Ut];yt[er]=Ut});var Gt=0,Pt={};function Yt(Ut){this.id=Gt++,this.refCount=1,this.renderbuffer=Ut,this.format=Cm,this.width=0,this.height=0,Ct.profile&&(this.stats={size:0})}Yt.prototype.decRef=function(){--this.refCount<=0&&Vt(this)};function Vt(Ut){var er=Ut.renderbuffer;Y(er,"must not double destroy renderbuffer"),V.bindRenderbuffer(pc,null),V.deleteRenderbuffer(er),Ut.renderbuffer=null,Ut.refCount=0,delete Pt[Ut.id],ft.renderbufferCount--}function Zt(Ut,er){var Qe=new Yt(V.createRenderbuffer());Pt[Qe.id]=Qe,ft.renderbufferCount++;function bt(Qt,Rt){var hr=0,Lt=0,rr=Cm;if(typeof Qt=="object"&&Qt){var Ft=Qt;if("shape"in Ft){var Jt=Ft.shape;Y(Array.isArray(Jt)&&Jt.length>=2,"invalid renderbuffer shape"),hr=Jt[0]|0,Lt=Jt[1]|0}else"radius"in Ft&&(hr=Lt=Ft.radius|0),"width"in Ft&&(hr=Ft.width|0),"height"in Ft&&(Lt=Ft.height|0);"format"in Ft&&(Y.parameter(Ft.format,dt,"invalid renderbuffer format"),rr=dt[Ft.format])}else typeof Qt=="number"?(hr=Qt|0,typeof Rt=="number"?Lt=Rt|0:Lt=hr):Qt?Y.raise("invalid arguments to renderbuffer constructor"):hr=Lt=1;if(Y(hr>0&&Lt>0&&hr<=Te.maxRenderbufferSize&&Lt<=Te.maxRenderbufferSize,"invalid renderbuffer size"),!(hr===Qe.width&&Lt===Qe.height&&rr===Qe.format))return bt.width=Qe.width=hr,bt.height=Qe.height=Lt,Qe.format=rr,V.bindRenderbuffer(pc,Qe.renderbuffer),V.renderbufferStorage(pc,rr,hr,Lt),Y(V.getError()===0,"invalid render buffer format"),Ct.profile&&(Qe.stats.size=rC(Qe.format,Qe.width,Qe.height)),bt.format=yt[Qe.format],bt}function $t(Qt,Rt){var hr=Qt|0,Lt=Rt|0||hr;return hr===Qe.width&&Lt===Qe.height||(Y(hr>0&&Lt>0&&hr<=Te.maxRenderbufferSize&&Lt<=Te.maxRenderbufferSize,"invalid renderbuffer size"),bt.width=Qe.width=hr,bt.height=Qe.height=Lt,V.bindRenderbuffer(pc,Qe.renderbuffer),V.renderbufferStorage(pc,Qe.format,hr,Lt),Y(V.getError()===0,"invalid render buffer format"),Ct.profile&&(Qe.stats.size=rC(Qe.format,Qe.width,Qe.height))),bt}return bt(Ut,er),bt.resize=$t,bt._reglType="renderbuffer",bt._renderbuffer=Qe,Ct.profile&&(bt.stats=Qe.stats),bt.destroy=function(){Qe.decRef()},bt}Ct.profile&&(ft.getTotalRenderbufferSize=function(){var Ut=0;return Object.keys(Pt).forEach(function(er){Ut+=Pt[er].stats.size}),Ut});function or(){vs(Pt).forEach(function(Ut){Ut.renderbuffer=V.createRenderbuffer(),V.bindRenderbuffer(pc,Ut.renderbuffer),V.renderbufferStorage(pc,Ut.format,Ut.width,Ut.height)}),V.bindRenderbuffer(pc,null)}return{create:Zt,clear:function(){vs(Pt).forEach(Vt)},restore:or}},Du=36160,Fb=36161,kf=3553,Mf=34069,ch=36064,Nb=36096,oe=36128,If=33306,Zv=36053,Hs=36054,jn=36055,eM=36057,tM=36061,rM=36193,Pf=5121,nM=5126,nC=6407,iC=6408,iM=6402,aM=[nC,iC],bl=[];bl[iC]=4,bl[nC]=3;var Tm=[];Tm[Pf]=1,Tm[nM]=4,Tm[rM]=2;var oM=32854,sM=32855,lM=36194,uM=33189,Ou=36168,aC=34041,cM=35907,fM=34836,dM=34842,hM=34843,Rf=[oM,sM,lM,cM,dM,hM,fM],fh={};fh[Zv]="complete",fh[Hs]="incomplete attachment",fh[eM]="incomplete dimensions",fh[jn]="incomplete, missing attachment",fh[tM]="unsupported";function vM(V,te,Te,ft,Ct,dt){var yt={cur:null,next:null,dirty:!1,setFBO:null},Gt=["rgba"],Pt=["rgba4","rgb565","rgb5 a1"];te.ext_srgb&&Pt.push("srgba"),te.ext_color_buffer_half_float&&Pt.push("rgba16f","rgb16f"),te.webgl_color_buffer_float&&Pt.push("rgba32f");var Yt=["uint8"];te.oes_texture_half_float&&Yt.push("half float","float16"),te.oes_texture_float&&Yt.push("float","float32");function Vt(sr,qt,Dt){this.target=sr,this.texture=qt,this.renderbuffer=Dt;var Fr=0,Qr=0;qt?(Fr=qt.width,Qr=qt.height):Dt&&(Fr=Dt.width,Qr=Dt.height),this.width=Fr,this.height=Qr}function Zt(sr){sr&&(sr.texture&&sr.texture._texture.decRef(),sr.renderbuffer&&sr.renderbuffer._renderbuffer.decRef())}function or(sr,qt,Dt){if(!!sr)if(sr.texture){var Fr=sr.texture._texture,Qr=Math.max(1,Fr.width),mr=Math.max(1,Fr.height);Y(Qr===qt&&mr===Dt,"inconsistent width/height for supplied texture"),Fr.refCount+=1}else{var mn=sr.renderbuffer._renderbuffer;Y(mn.width===qt&&mn.height===Dt,"inconsistent width/height for renderbuffer"),mn.refCount+=1}}function Ut(sr,qt){qt&&(qt.texture?V.framebufferTexture2D(Du,sr,qt.target,qt.texture._texture.texture,0):V.framebufferRenderbuffer(Du,sr,Fb,qt.renderbuffer._renderbuffer.renderbuffer))}function er(sr){var qt=kf,Dt=null,Fr=null,Qr=sr;typeof sr=="object"&&(Qr=sr.data,"target"in sr&&(qt=sr.target|0)),Y.type(Qr,"function","invalid attachment data");var mr=Qr._reglType;return mr==="texture2d"?(Dt=Qr,Y(qt===kf)):mr==="textureCube"?(Dt=Qr,Y(qt>=Mf&&qt<Mf+6,"invalid cube map target")):mr==="renderbuffer"?(Fr=Qr,qt=Fb):Y.raise("invalid regl object for attachment"),new Vt(qt,Dt,Fr)}function Qe(sr,qt,Dt,Fr,Qr){if(Dt){var mr=ft.create2D({width:sr,height:qt,format:Fr,type:Qr});return mr._texture.refCount=0,new Vt(kf,mr,null)}else{var mn=Ct.create({width:sr,height:qt,format:Fr});return mn._renderbuffer.refCount=0,new Vt(Fb,null,mn)}}function bt(sr){return sr&&(sr.texture||sr.renderbuffer)}function $t(sr,qt,Dt){sr&&(sr.texture?sr.texture.resize(qt,Dt):sr.renderbuffer&&sr.renderbuffer.resize(qt,Dt),sr.width=qt,sr.height=Dt)}var Qt=0,Rt={};function hr(){this.id=Qt++,Rt[this.id]=this,this.framebuffer=V.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Lt(sr){sr.colorAttachments.forEach(Zt),Zt(sr.depthAttachment),Zt(sr.stencilAttachment),Zt(sr.depthStencilAttachment)}function rr(sr){var qt=sr.framebuffer;Y(qt,"must not double destroy framebuffer"),V.deleteFramebuffer(qt),sr.framebuffer=null,dt.framebufferCount--,delete Rt[sr.id]}function Ft(sr){var qt;V.bindFramebuffer(Du,sr.framebuffer);var Dt=sr.colorAttachments;for(qt=0;qt<Dt.length;++qt)Ut(ch+qt,Dt[qt]);for(qt=Dt.length;qt<Te.maxColorAttachments;++qt)V.framebufferTexture2D(Du,ch+qt,kf,null,0);V.framebufferTexture2D(Du,If,kf,null,0),V.framebufferTexture2D(Du,Nb,kf,null,0),V.framebufferTexture2D(Du,oe,kf,null,0),Ut(Nb,sr.depthAttachment),Ut(oe,sr.stencilAttachment),Ut(If,sr.depthStencilAttachment);var Fr=V.checkFramebufferStatus(Du);!V.isContextLost()&&Fr!==Zv&&Y.raise("framebuffer configuration not supported, status = "+fh[Fr]),V.bindFramebuffer(Du,yt.next?yt.next.framebuffer:null),yt.cur=yt.next,V.getError()}function Jt(sr,qt){var Dt=new hr;dt.framebufferCount++;function Fr(mr,mn){var Wr;Y(yt.next!==Dt,"can not update framebuffer which is currently in use");var ln=0,Mn=0,ea=!0,Ta=!0,Sn=null,ta=!0,_i="rgba",mi="uint8",Fi=1,Aa=null,Fa=null,ao=null,oa=!1;if(typeof mr=="number")ln=mr|0,Mn=mn|0||ln;else if(!mr)ln=Mn=1;else{Y.type(mr,"object","invalid arguments for framebuffer");var tn=mr;if("shape"in tn){var oo=tn.shape;Y(Array.isArray(oo)&&oo.length>=2,"invalid shape for framebuffer"),ln=oo[0],Mn=oo[1]}else"radius"in tn&&(ln=Mn=tn.radius),"width"in tn&&(ln=tn.width),"height"in tn&&(Mn=tn.height);("color"in tn||"colors"in tn)&&(Sn=tn.color||tn.colors,Array.isArray(Sn)&&Y(Sn.length===1||te.webgl_draw_buffers,"multiple render targets not supported")),Sn||("colorCount"in tn&&(Fi=tn.colorCount|0,Y(Fi>0,"invalid color buffer count")),"colorTexture"in tn&&(ta=!!tn.colorTexture,_i="rgba4"),"colorType"in tn&&(mi=tn.colorType,ta?(Y(te.oes_texture_float||!(mi==="float"||mi==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),Y(te.oes_texture_half_float||!(mi==="half float"||mi==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):mi==="half float"||mi==="float16"?(Y(te.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),_i="rgba16f"):(mi==="float"||mi==="float32")&&(Y(te.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),_i="rgba32f"),Y.oneOf(mi,Yt,"invalid color type")),"colorFormat"in tn&&(_i=tn.colorFormat,Gt.indexOf(_i)>=0?ta=!0:Pt.indexOf(_i)>=0?ta=!1:ta?Y.oneOf(tn.colorFormat,Gt,"invalid color format for texture"):Y.oneOf(tn.colorFormat,Pt,"invalid color format for renderbuffer"))),("depthTexture"in tn||"depthStencilTexture"in tn)&&(oa=!!(tn.depthTexture||tn.depthStencilTexture),Y(!oa||te.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in tn&&(typeof tn.depth=="boolean"?ea=tn.depth:(Aa=tn.depth,Ta=!1)),"stencil"in tn&&(typeof tn.stencil=="boolean"?Ta=tn.stencil:(Fa=tn.stencil,ea=!1)),"depthStencil"in tn&&(typeof tn.depthStencil=="boolean"?ea=Ta=tn.depthStencil:(ao=tn.depthStencil,ea=!1,Ta=!1))}var Yn=null,Dr=null,Cn=null,On=null;if(Array.isArray(Sn))Yn=Sn.map(er);else if(Sn)Yn=[er(Sn)];else for(Yn=new Array(Fi),Wr=0;Wr<Fi;++Wr)Yn[Wr]=Qe(ln,Mn,ta,_i,mi);Y(te.webgl_draw_buffers||Yn.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),Y(Yn.length<=Te.maxColorAttachments,"too many color attachments, not supported"),ln=ln||Yn[0].width,Mn=Mn||Yn[0].height,Aa?Dr=er(Aa):ea&&!Ta&&(Dr=Qe(ln,Mn,oa,"depth","uint32")),Fa?Cn=er(Fa):Ta&&!ea&&(Cn=Qe(ln,Mn,!1,"stencil","uint8")),ao?On=er(ao):!Aa&&!Fa&&Ta&&ea&&(On=Qe(ln,Mn,oa,"depth stencil","depth stencil")),Y(!!Aa+!!Fa+!!ao<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var sa=null;for(Wr=0;Wr<Yn.length;++Wr)if(or(Yn[Wr],ln,Mn),Y(!Yn[Wr]||Yn[Wr].texture&&aM.indexOf(Yn[Wr].texture._texture.format)>=0||Yn[Wr].renderbuffer&&Rf.indexOf(Yn[Wr].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Wr+" is invalid"),Yn[Wr]&&Yn[Wr].texture){var au=bl[Yn[Wr].texture._texture.format]*Tm[Yn[Wr].texture._texture.type];sa===null?sa=au:Y(sa===au,"all color attachments much have the same number of bits per pixel.")}return or(Dr,ln,Mn),Y(!Dr||Dr.texture&&Dr.texture._texture.format===iM||Dr.renderbuffer&&Dr.renderbuffer._renderbuffer.format===uM,"invalid depth attachment for framebuffer object"),or(Cn,ln,Mn),Y(!Cn||Cn.renderbuffer&&Cn.renderbuffer._renderbuffer.format===Ou,"invalid stencil attachment for framebuffer object"),or(On,ln,Mn),Y(!On||On.texture&&On.texture._texture.format===aC||On.renderbuffer&&On.renderbuffer._renderbuffer.format===aC,"invalid depth-stencil attachment for framebuffer object"),Lt(Dt),Dt.width=ln,Dt.height=Mn,Dt.colorAttachments=Yn,Dt.depthAttachment=Dr,Dt.stencilAttachment=Cn,Dt.depthStencilAttachment=On,Fr.color=Yn.map(bt),Fr.depth=bt(Dr),Fr.stencil=bt(Cn),Fr.depthStencil=bt(On),Fr.width=Dt.width,Fr.height=Dt.height,Ft(Dt),Fr}function Qr(mr,mn){Y(yt.next!==Dt,"can not resize a framebuffer which is currently in use");var Wr=Math.max(mr|0,1),ln=Math.max(mn|0||Wr,1);if(Wr===Dt.width&&ln===Dt.height)return Fr;for(var Mn=Dt.colorAttachments,ea=0;ea<Mn.length;++ea)$t(Mn[ea],Wr,ln);return $t(Dt.depthAttachment,Wr,ln),$t(Dt.stencilAttachment,Wr,ln),$t(Dt.depthStencilAttachment,Wr,ln),Dt.width=Fr.width=Wr,Dt.height=Fr.height=ln,Ft(Dt),Fr}return Fr(sr,qt),n(Fr,{resize:Qr,_reglType:"framebuffer",_framebuffer:Dt,destroy:function(){rr(Dt),Lt(Dt)},use:function(mr){yt.setFBO({framebuffer:Fr},mr)}})}function Ir(sr){var qt=Array(6);function Dt(Qr){var mr;Y(qt.indexOf(yt.next)<0,"can not update framebuffer which is currently in use");var mn={color:null},Wr=0,ln=null,Mn="rgba",ea="uint8",Ta=1;if(typeof Qr=="number")Wr=Qr|0;else if(!Qr)Wr=1;else{Y.type(Qr,"object","invalid arguments for framebuffer");var Sn=Qr;if("shape"in Sn){var ta=Sn.shape;Y(Array.isArray(ta)&&ta.length>=2,"invalid shape for framebuffer"),Y(ta[0]===ta[1],"cube framebuffer must be square"),Wr=ta[0]}else"radius"in Sn&&(Wr=Sn.radius|0),"width"in Sn?(Wr=Sn.width|0,"height"in Sn&&Y(Sn.height===Wr,"must be square")):"height"in Sn&&(Wr=Sn.height|0);("color"in Sn||"colors"in Sn)&&(ln=Sn.color||Sn.colors,Array.isArray(ln)&&Y(ln.length===1||te.webgl_draw_buffers,"multiple render targets not supported")),ln||("colorCount"in Sn&&(Ta=Sn.colorCount|0,Y(Ta>0,"invalid color buffer count")),"colorType"in Sn&&(Y.oneOf(Sn.colorType,Yt,"invalid color type"),ea=Sn.colorType),"colorFormat"in Sn&&(Mn=Sn.colorFormat,Y.oneOf(Sn.colorFormat,Gt,"invalid color format for texture"))),"depth"in Sn&&(mn.depth=Sn.depth),"stencil"in Sn&&(mn.stencil=Sn.stencil),"depthStencil"in Sn&&(mn.depthStencil=Sn.depthStencil)}var _i;if(ln)if(Array.isArray(ln))for(_i=[],mr=0;mr<ln.length;++mr)_i[mr]=ln[mr];else _i=[ln];else{_i=Array(Ta);var mi={radius:Wr,format:Mn,type:ea};for(mr=0;mr<Ta;++mr)_i[mr]=ft.createCube(mi)}for(mn.color=Array(_i.length),mr=0;mr<_i.length;++mr){var Fi=_i[mr];Y(typeof Fi=="function"&&Fi._reglType==="textureCube","invalid cube map"),Wr=Wr||Fi.width,Y(Fi.width===Wr&&Fi.height===Wr,"invalid cube map shape"),mn.color[mr]={target:Mf,data:_i[mr]}}for(mr=0;mr<6;++mr){for(var Aa=0;Aa<_i.length;++Aa)mn.color[Aa].target=Mf+mr;mr>0&&(mn.depth=qt[0].depth,mn.stencil=qt[0].stencil,mn.depthStencil=qt[0].depthStencil),qt[mr]?qt[mr](mn):qt[mr]=Jt(mn)}return n(Dt,{width:Wr,height:Wr,color:_i})}function Fr(Qr){var mr,mn=Qr|0;if(Y(mn>0&&mn<=Te.maxCubeMapSize,"invalid radius for cube fbo"),mn===Dt.width)return Dt;var Wr=Dt.color;for(mr=0;mr<Wr.length;++mr)Wr[mr].resize(mn);for(mr=0;mr<6;++mr)qt[mr].resize(mn);return Dt.width=Dt.height=mn,Dt}return Dt(sr),n(Dt,{faces:qt,resize:Fr,_reglType:"framebufferCube",destroy:function(){qt.forEach(function(Qr){Qr.destroy()})}})}function Vr(){yt.cur=null,yt.next=null,yt.dirty=!0,vs(Rt).forEach(function(sr){sr.framebuffer=V.createFramebuffer(),Ft(sr)})}return n(yt,{getFramebuffer:function(sr){if(typeof sr=="function"&&sr._reglType==="framebuffer"){var qt=sr._framebuffer;if(qt instanceof hr)return qt}return null},create:Jt,createCube:Ir,clear:function(){vs(Rt).forEach(rr)},restore:Vr})}var xl=5126,oC=34962;function Bb(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=xl,this.offset=0,this.stride=0,this.divisor=0}function pM(V,te,Te,ft,Ct){for(var dt=Te.maxAttributes,yt=new Array(dt),Gt=0;Gt<dt;++Gt)yt[Gt]=new Bb;var Pt=0,Yt={},Vt={Record:Bb,scope:{},state:yt,currentVAO:null,targetVAO:null,restore:or()?Rt:function(){},createVAO:hr,getVAO:er,destroyBuffer:Zt,setVAO:or()?Qe:bt,clear:or()?$t:function(){}};function Zt(Lt){for(var rr=0;rr<yt.length;++rr){var Ft=yt[rr];Ft.buffer===Lt&&(V.disableVertexAttribArray(rr),Ft.buffer=null)}}function or(){return te.oes_vertex_array_object}function Ut(){return te.angle_instanced_arrays}function er(Lt){return typeof Lt=="function"&&Lt._vao?Lt._vao:null}function Qe(Lt){if(Lt!==Vt.currentVAO){var rr=or();Lt?rr.bindVertexArrayOES(Lt.vao):rr.bindVertexArrayOES(null),Vt.currentVAO=Lt}}function bt(Lt){if(Lt!==Vt.currentVAO){if(Lt)Lt.bindAttrs();else for(var rr=Ut(),Ft=0;Ft<yt.length;++Ft){var Jt=yt[Ft];Jt.buffer?(V.enableVertexAttribArray(Ft),V.vertexAttribPointer(Ft,Jt.size,Jt.type,Jt.normalized,Jt.stride,Jt.offfset),rr&&Jt.divisor&&rr.vertexAttribDivisorANGLE(Ft,Jt.divisor)):(V.disableVertexAttribArray(Ft),V.vertexAttrib4f(Ft,Jt.x,Jt.y,Jt.z,Jt.w))}Vt.currentVAO=Lt}}function $t(){vs(Yt).forEach(function(Lt){Lt.destroy()})}function Qt(){this.id=++Pt,this.attributes=[];var Lt=or();Lt?this.vao=Lt.createVertexArrayOES():this.vao=null,Yt[this.id]=this,this.buffers=[]}Qt.prototype.bindAttrs=function(){for(var Lt=Ut(),rr=this.attributes,Ft=0;Ft<rr.length;++Ft){var Jt=rr[Ft];Jt.buffer?(V.enableVertexAttribArray(Ft),V.bindBuffer(oC,Jt.buffer.buffer),V.vertexAttribPointer(Ft,Jt.size,Jt.type,Jt.normalized,Jt.stride,Jt.offset),Lt&&Jt.divisor&&Lt.vertexAttribDivisorANGLE(Ft,Jt.divisor)):(V.disableVertexAttribArray(Ft),V.vertexAttrib4f(Ft,Jt.x,Jt.y,Jt.z,Jt.w))}for(var Ir=rr.length;Ir<dt;++Ir)V.disableVertexAttribArray(Ir)},Qt.prototype.refresh=function(){var Lt=or();Lt&&(Lt.bindVertexArrayOES(this.vao),this.bindAttrs(),Vt.currentVAO=this)},Qt.prototype.destroy=function(){if(this.vao){var Lt=or();this===Vt.currentVAO&&(Vt.currentVAO=null,Lt.bindVertexArrayOES(null)),Lt.deleteVertexArrayOES(this.vao),this.vao=null}Yt[this.id]&&(delete Yt[this.id],ft.vaoCount-=1)};function Rt(){var Lt=or();Lt&&vs(Yt).forEach(function(rr){rr.refresh()})}function hr(Lt){var rr=new Qt;ft.vaoCount+=1;function Ft(Jt){Y(Array.isArray(Jt),"arguments to vertex array constructor must be an array"),Y(Jt.length<dt,"too many attributes"),Y(Jt.length>0,"must specify at least one attribute");var Ir={},Vr=rr.attributes;Vr.length=Jt.length;for(var sr=0;sr<Jt.length;++sr){var qt=Jt[sr],Dt=Vr[sr]=new Bb,Fr=qt.data||qt;if(Array.isArray(Fr)||e(Fr)||Ro(Fr)){var Qr;rr.buffers[sr]&&(Qr=rr.buffers[sr],e(Fr)&&Qr._buffer.byteLength>=Fr.byteLength?Qr.subdata(Fr):(Qr.destroy(),rr.buffers[sr]=null)),rr.buffers[sr]||(Qr=rr.buffers[sr]=Ct.create(qt,oC,!1,!0)),Dt.buffer=Ct.getBuffer(Qr),Dt.size=Dt.buffer.dimension|0,Dt.normalized=!1,Dt.type=Dt.buffer.dtype,Dt.offset=0,Dt.stride=0,Dt.divisor=0,Dt.state=1,Ir[sr]=1}else Ct.getBuffer(qt)?(Dt.buffer=Ct.getBuffer(qt),Dt.size=Dt.buffer.dimension|0,Dt.normalized=!1,Dt.type=Dt.buffer.dtype,Dt.offset=0,Dt.stride=0,Dt.divisor=0,Dt.state=1):Ct.getBuffer(qt.buffer)?(Dt.buffer=Ct.getBuffer(qt.buffer),Dt.size=(+qt.size||Dt.buffer.dimension)|0,Dt.normalized=!!qt.normalized||!1,"type"in qt?(Y.parameter(qt.type,xf,"invalid buffer type"),Dt.type=xf[qt.type]):Dt.type=Dt.buffer.dtype,Dt.offset=(qt.offset||0)|0,Dt.stride=(qt.stride||0)|0,Dt.divisor=(qt.divisor||0)|0,Dt.state=1,Y(Dt.size>=1&&Dt.size<=4,"size must be between 1 and 4"),Y(Dt.offset>=0,"invalid offset"),Y(Dt.stride>=0&&Dt.stride<=255,"stride must be between 0 and 255"),Y(Dt.divisor>=0,"divisor must be positive"),Y(!Dt.divisor||!!te.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in qt?(Y(sr>0,"first attribute must not be a constant"),Dt.x=+qt.x||0,Dt.y=+qt.y||0,Dt.z=+qt.z||0,Dt.w=+qt.w||0,Dt.state=2):Y(!1,"invalid attribute spec for location "+sr)}for(var mr=0;mr<rr.buffers.length;++mr)!Ir[mr]&&rr.buffers[mr]&&(rr.buffers[mr].destroy(),rr.buffers[mr]=null);return rr.refresh(),Ft}return Ft.destroy=function(){for(var Jt=0;Jt<rr.buffers.length;++Jt)rr.buffers[Jt]&&rr.buffers[Jt].destroy();rr.buffers.length=0,rr.destroy()},Ft._vao=rr,Ft._reglType="vao",Ft(Lt)}return Vt}var sC=35632,gM=35633,lC=35718,uC=35721;function mM(V,te,Te,ft){var Ct={},dt={};function yt(Qe,bt,$t,Qt){this.name=Qe,this.id=bt,this.location=$t,this.info=Qt}function Gt(Qe,bt){for(var $t=0;$t<Qe.length;++$t)if(Qe[$t].id===bt.id){Qe[$t].location=bt.location;return}Qe.push(bt)}function Pt(Qe,bt,$t){var Qt=Qe===sC?Ct:dt,Rt=Qt[bt];if(!Rt){var hr=te.str(bt);Rt=V.createShader(Qe),V.shaderSource(Rt,hr),V.compileShader(Rt),Y.shaderError(V,Rt,hr,Qe,$t),Qt[bt]=Rt}return Rt}var Yt={},Vt=[],Zt=0;function or(Qe,bt){this.id=Zt++,this.fragId=Qe,this.vertId=bt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,ft.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Ut(Qe,bt,$t){var Qt,Rt,hr=Pt(sC,Qe.fragId),Lt=Pt(gM,Qe.vertId),rr=Qe.program=V.createProgram();if(V.attachShader(rr,hr),V.attachShader(rr,Lt),$t)for(Qt=0;Qt<$t.length;++Qt){var Ft=$t[Qt];V.bindAttribLocation(rr,Ft[0],Ft[1])}V.linkProgram(rr),Y.linkError(V,rr,te.str(Qe.fragId),te.str(Qe.vertId),bt);var Jt=V.getProgramParameter(rr,lC);ft.profile&&(Qe.stats.uniformsCount=Jt);var Ir=Qe.uniforms;for(Qt=0;Qt<Jt;++Qt)if(Rt=V.getActiveUniform(rr,Qt),Rt)if(Rt.size>1)for(var Vr=0;Vr<Rt.size;++Vr){var sr=Rt.name.replace("[0]","["+Vr+"]");Gt(Ir,new yt(sr,te.id(sr),V.getUniformLocation(rr,sr),Rt))}else Gt(Ir,new yt(Rt.name,te.id(Rt.name),V.getUniformLocation(rr,Rt.name),Rt));var qt=V.getProgramParameter(rr,uC);ft.profile&&(Qe.stats.attributesCount=qt);var Dt=Qe.attributes;for(Qt=0;Qt<qt;++Qt)Rt=V.getActiveAttrib(rr,Qt),Rt&&Gt(Dt,new yt(Rt.name,te.id(Rt.name),V.getAttribLocation(rr,Rt.name),Rt))}ft.profile&&(Te.getMaxUniformsCount=function(){var Qe=0;return Vt.forEach(function(bt){bt.stats.uniformsCount>Qe&&(Qe=bt.stats.uniformsCount)}),Qe},Te.getMaxAttributesCount=function(){var Qe=0;return Vt.forEach(function(bt){bt.stats.attributesCount>Qe&&(Qe=bt.stats.attributesCount)}),Qe});function er(){Ct={},dt={};for(var Qe=0;Qe<Vt.length;++Qe)Ut(Vt[Qe],null,Vt[Qe].attributes.map(function(bt){return[bt.location,bt.name]}))}return{clear:function(){var Qe=V.deleteShader.bind(V);vs(Ct).forEach(Qe),Ct={},vs(dt).forEach(Qe),dt={},Vt.forEach(function(bt){V.deleteProgram(bt.program)}),Vt.length=0,Yt={},Te.shaderCount=0},program:function(Qe,bt,$t,Qt){Y.command(Qe>=0,"missing vertex shader",$t),Y.command(bt>=0,"missing fragment shader",$t);var Rt=Yt[bt];Rt||(Rt=Yt[bt]={});var hr=Rt[Qe];if(hr&&(hr.refCount++,!Qt))return hr;var Lt=new or(bt,Qe);return Te.shaderCount++,Ut(Lt,$t,Qt),hr||(Rt[Qe]=Lt),Vt.push(Lt),n(Lt,{destroy:function(){if(Lt.refCount--,Lt.refCount<=0){V.deleteProgram(Lt.program);var rr=Vt.indexOf(Lt);Vt.splice(rr,1),Te.shaderCount--}Rt[Lt.vertId].refCount<=0&&(V.deleteShader(dt[Lt.vertId]),delete dt[Lt.vertId],delete Yt[Lt.fragId][Lt.vertId]),Object.keys(Yt[Lt.fragId]).length||(V.deleteShader(Ct[Lt.fragId]),delete Ct[Lt.fragId],delete Yt[Lt.fragId])}})},restore:er,shader:Pt,frag:-1,vert:-1}}var yM=6408,Df=5121,Qv=3333,Of=5126;function bM(V,te,Te,ft,Ct,dt,yt){function Gt(Vt){var Zt;te.next===null?(Y(Ct.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Zt=Df):(Y(te.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Zt=te.next.colorAttachments[0].texture._texture.type,dt.oes_texture_float?(Y(Zt===Df||Zt===Of,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Zt===Of&&Y(yt.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):Y(Zt===Df,"Reading from a framebuffer is only allowed for the type 'uint8'"));var or=0,Ut=0,er=ft.framebufferWidth,Qe=ft.framebufferHeight,bt=null;e(Vt)?bt=Vt:Vt&&(Y.type(Vt,"object","invalid arguments to regl.read()"),or=Vt.x|0,Ut=Vt.y|0,Y(or>=0&&or<ft.framebufferWidth,"invalid x offset for regl.read"),Y(Ut>=0&&Ut<ft.framebufferHeight,"invalid y offset for regl.read"),er=(Vt.width||ft.framebufferWidth-or)|0,Qe=(Vt.height||ft.framebufferHeight-Ut)|0,bt=Vt.data||null),bt&&(Zt===Df?Y(bt instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Zt===Of&&Y(bt instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),Y(er>0&&er+or<=ft.framebufferWidth,"invalid width for read pixels"),Y(Qe>0&&Qe+Ut<=ft.framebufferHeight,"invalid height for read pixels"),Te();var $t=er*Qe*4;return bt||(Zt===Df?bt=new Uint8Array($t):Zt===Of&&(bt=bt||new Float32Array($t))),Y.isTypedArray(bt,"data buffer for regl.read() must be a typedarray"),Y(bt.byteLength>=$t,"data buffer for regl.read() too small"),V.pixelStorei(Qv,4),V.readPixels(or,Ut,er,Qe,yM,Zt,bt),bt}function Pt(Vt){var Zt;return te.setFBO({framebuffer:Vt.framebuffer},function(){Zt=Gt(Vt)}),Zt}function Yt(Vt){return!Vt||!("framebuffer"in Vt)?Gt(Vt):Pt(Vt)}return Yt}function Lf(V){return Array.prototype.slice.call(V)}function dh(V){return Lf(V).join("")}function Lu(){var V=0,te=[],Te=[];function ft(Zt){for(var or=0;or<Te.length;++or)if(Te[or]===Zt)return te[or];var Ut="g"+V++;return te.push(Ut),Te.push(Zt),Ut}function Ct(){var Zt=[];function or(){Zt.push.apply(Zt,Lf(arguments))}var Ut=[];function er(){var Qe="v"+V++;return Ut.push(Qe),arguments.length>0&&(Zt.push(Qe,"="),Zt.push.apply(Zt,Lf(arguments)),Zt.push(";")),Qe}return n(or,{def:er,toString:function(){return dh([Ut.length>0?"var "+Ut.join(",")+";":"",dh(Zt)])}})}function dt(){var Zt=Ct(),or=Ct(),Ut=Zt.toString,er=or.toString;function Qe(bt,$t){or(bt,$t,"=",Zt.def(bt,$t),";")}return n(function(){Zt.apply(Zt,Lf(arguments))},{def:Zt.def,entry:Zt,exit:or,save:Qe,set:function(bt,$t,Qt){Qe(bt,$t),Zt(bt,$t,"=",Qt,";")},toString:function(){return Ut()+er()}})}function yt(){var Zt=dh(arguments),or=dt(),Ut=dt(),er=or.toString,Qe=Ut.toString;return n(or,{then:function(){return or.apply(or,Lf(arguments)),this},else:function(){return Ut.apply(Ut,Lf(arguments)),this},toString:function(){var bt=Qe();return bt&&(bt="else{"+bt+"}"),dh(["if(",Zt,"){",er(),"}",bt])}})}var Gt=Ct(),Pt={};function Yt(Zt,or){var Ut=[];function er(){var Rt="a"+Ut.length;return Ut.push(Rt),Rt}or=or||0;for(var Qe=0;Qe<or;++Qe)er();var bt=dt(),$t=bt.toString,Qt=Pt[Zt]=n(bt,{arg:er,toString:function(){return dh(["function(",Ut.join(),"){",$t(),"}"])}});return Qt}function Vt(){var Zt=['"use strict";',Gt,"return {"];Object.keys(Pt).forEach(function(er){Zt.push('"',er,'":',Pt[er].toString(),",")}),Zt.push("}");var or=dh(Zt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Ut=Function.apply(null,te.concat(or));return Ut.apply(null,Te)}return{global:Gt,link:ft,block:Ct,proc:Yt,scope:dt,cond:yt,compile:Vt}}var gc="xyzw".split(""),mc=5121,go=1,zb=2,Am=0,km=1,Ff=2,Jl=3,Jv=4,cC=5,ep=6,fC="dither",$b="blend.enable",no="blend.color",tp="blend.equation",Mm="blend.func",wl="depth.enable",Im="depth.func",rp="depth.range",yc="depth.mask",Pm="colorMask",Lo="cull.enable",Rm="cull.face",Gb="frontFace",Ub="lineWidth",dC="polygonOffset.enable",np="polygonOffset.offset",hC="sample.alpha",hh="sample.enable",Dm="sample.coverage",vC="stencil.enable",pC="stencil.mask",Nf="stencil.func",Hb="stencil.opFront",ip="stencil.opBack",Om="scissor.enable",ap="scissor.box",Fu="viewport",op="profile",Bf="framebuffer",vh="vert",zf="frag",$f="elements",Nu="primitive",bc="count",sp="offset",lp="instances",xc="vao",Vb="Width",Lm="Height",Gf=Bf+Vb,ph=Bf+Lm,gC=Fu+Vb,xM=Fu+Lm,Fm="drawingBuffer",Wb=Fm+Vb,Nm=Fm+Lm,wM=[Mm,tp,Nf,Hb,ip,Dm,Fu,ap,np],wc=34962,Ln=34963,SM=35632,CM=35633,gh=3553,mC=34067,EM=2884,_M=3042,Vs=3024,TM=2960,Bm=2929,jb=3089,yC=32823,bC=32926,As=32928,eu=5126,mh=35664,up=35665,Uf=35666,zm=5124,yh=35667,cp=35668,bh=35669,fp=35670,Sl=35671,$m=35672,Cl=35673,xh=35674,wh=35675,Hf=35676,dp=35678,hp=35680,xC=4,Sh=1028,Sc=1029,wC=2304,Gm=2305,SC=32775,ps=32776,tu=519,Cc=7680,CC=0,vp=1,Vf=32774,EC=513,Yb=36160,AM=36064,El={"0":0,"1":1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Wf=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],ru={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ec={"0":0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Xb={frag:SM,vert:CM},Um={cw:wC,ccw:Gm};function jf(V){return Array.isArray(V)||e(V)||Ro(V)}function qb(V){return V.sort(function(te,Te){return te===Fu?-1:Te===Fu?1:te<Te?-1:1})}function io(V,te,Te,ft){this.thisDep=V,this.contextDep=te,this.propDep=Te,this.append=ft}function nu(V){return V&&!(V.thisDep||V.contextDep||V.propDep)}function Wi(V){return new io(!1,!1,!1,V)}function gs(V,te){var Te=V.type;if(Te===Am){var ft=V.data.length;return new io(!0,ft>=1,ft>=2,te)}else if(Te===Jv){var Ct=V.data;return new io(Ct.thisDep,Ct.contextDep,Ct.propDep,te)}else{if(Te===cC)return new io(!1,!1,!1,te);if(Te===ep){for(var dt=!1,yt=!1,Gt=!1,Pt=0;Pt<V.data.length;++Pt){var Yt=V.data[Pt];if(Yt.type===km)Gt=!0;else if(Yt.type===Ff)yt=!0;else if(Yt.type===Jl)dt=!0;else if(Yt.type===Am){dt=!0;var Vt=Yt.data;Vt>=1&&(yt=!0),Vt>=2&&(Gt=!0)}else Yt.type===Jv&&(dt=dt||Yt.data.thisDep,yt=yt||Yt.data.contextDep,Gt=Gt||Yt.data.propDep)}return new io(dt,yt,Gt,te)}else return new io(Te===Jl,Te===Ff,Te===km,te)}}var Kb=new io(!1,!1,!1,function(){});function Hm(V,te,Te,ft,Ct,dt,yt,Gt,Pt,Yt,Vt,Zt,or,Ut,er){var Qe=Yt.Record,bt={add:32774,subtract:32778,"reverse subtract":32779};Te.ext_blend_minmax&&(bt.min=SC,bt.max=ps);var $t=Te.angle_instanced_arrays,Qt=Te.webgl_draw_buffers,Rt={dirty:!0,profile:er.profile},hr={},Lt=[],rr={},Ft={};function Jt(xe){return xe.replace(".","_")}function Ir(xe,ne,De){var qe=Jt(xe);Lt.push(xe),hr[qe]=Rt[qe]=!!De,rr[qe]=ne}function Vr(xe,ne,De){var qe=Jt(xe);Lt.push(xe),Array.isArray(De)?(Rt[qe]=De.slice(),hr[qe]=De.slice()):Rt[qe]=hr[qe]=De,Ft[qe]=ne}Ir(fC,Vs),Ir($b,_M),Vr(no,"blendColor",[0,0,0,0]),Vr(tp,"blendEquationSeparate",[Vf,Vf]),Vr(Mm,"blendFuncSeparate",[vp,CC,vp,CC]),Ir(wl,Bm,!0),Vr(Im,"depthFunc",EC),Vr(rp,"depthRange",[0,1]),Vr(yc,"depthMask",!0),Vr(Pm,Pm,[!0,!0,!0,!0]),Ir(Lo,EM),Vr(Rm,"cullFace",Sc),Vr(Gb,Gb,Gm),Vr(Ub,Ub,1),Ir(dC,yC),Vr(np,"polygonOffset",[0,0]),Ir(hC,bC),Ir(hh,As),Vr(Dm,"sampleCoverage",[1,!1]),Ir(vC,TM),Vr(pC,"stencilMask",-1),Vr(Nf,"stencilFunc",[tu,0,-1]),Vr(Hb,"stencilOpSeparate",[Sh,Cc,Cc,Cc]),Vr(ip,"stencilOpSeparate",[Sc,Cc,Cc,Cc]),Ir(Om,jb),Vr(ap,"scissor",[0,0,V.drawingBufferWidth,V.drawingBufferHeight]),Vr(Fu,Fu,[0,0,V.drawingBufferWidth,V.drawingBufferHeight]);var sr={gl:V,context:or,strings:te,next:hr,current:Rt,draw:Zt,elements:dt,buffer:Ct,shader:Vt,attributes:Yt.state,vao:Yt,uniforms:Pt,framebuffer:Gt,extensions:Te,timer:Ut,isBufferArgs:jf},qt={primTypes:Sf,compareFuncs:ru,blendFuncs:El,blendEquations:bt,stencilOps:Ec,glTypes:xf,orientationType:Um};Y.optional(function(){sr.isArrayLike=aa}),Qt&&(qt.backBuffer=[Sc],qt.drawBuffer=Ke(ft.maxDrawbuffers,function(xe){return xe===0?[0]:Ke(xe,function(ne){return AM+ne})}));var Dt=0;function Fr(){var xe=Lu(),ne=xe.link,De=xe.global;xe.id=Dt++,xe.batchId="0";var qe=ne(sr),et=xe.shared={props:"a0"};Object.keys(sr).forEach(function(Ie){et[Ie]=De.def(qe,".",Ie)}),Y.optional(function(){xe.CHECK=ne(Y),xe.commandStr=Y.guessCommand(),xe.command=ne(xe.commandStr),xe.assert=function(Ie,ge,Xe){Ie("if(!(",ge,"))",this.CHECK,".commandRaise(",ne(Xe),",",this.command,");")},qt.invalidBlendCombinations=Wf});var $e=xe.next={},Oe=xe.current={};Object.keys(Ft).forEach(function(Ie){Array.isArray(Rt[Ie])&&($e[Ie]=De.def(et.next,".",Ie),Oe[Ie]=De.def(et.current,".",Ie))});var je=xe.constants={};Object.keys(qt).forEach(function(Ie){je[Ie]=De.def(JSON.stringify(qt[Ie]))}),xe.invoke=function(Ie,ge){switch(ge.type){case Am:var Xe=["this",et.context,et.props,xe.batchId];return Ie.def(ne(ge.data),".call(",Xe.slice(0,Math.max(ge.data.length+1,4)),")");case km:return Ie.def(et.props,ge.data);case Ff:return Ie.def(et.context,ge.data);case Jl:return Ie.def("this",ge.data);case Jv:return ge.data.append(xe,Ie),ge.data.ref;case cC:return ge.data.toString();case ep:return ge.data.map(function(tt){return xe.invoke(Ie,tt)})}},xe.attribCache={};var pe={};return xe.scopeAttrib=function(Ie){var ge=te.id(Ie);if(ge in pe)return pe[ge];var Xe=Yt.scope[ge];Xe||(Xe=Yt.scope[ge]=new Qe);var tt=pe[ge]=ne(Xe);return tt},xe}function Qr(xe){var ne=xe.static,De=xe.dynamic,qe;if(op in ne){var et=!!ne[op];qe=Wi(function(Oe,je){return et}),qe.enable=et}else if(op in De){var $e=De[op];qe=gs($e,function(Oe,je){return Oe.invoke(je,$e)})}return qe}function mr(xe,ne){var De=xe.static,qe=xe.dynamic;if(Bf in De){var et=De[Bf];return et?(et=Gt.getFramebuffer(et),Y.command(et,"invalid framebuffer object"),Wi(function(Oe,je){var pe=Oe.link(et),Ie=Oe.shared;je.set(Ie.framebuffer,".next",pe);var ge=Ie.context;return je.set(ge,"."+Gf,pe+".width"),je.set(ge,"."+ph,pe+".height"),pe})):Wi(function(Oe,je){var pe=Oe.shared;je.set(pe.framebuffer,".next","null");var Ie=pe.context;return je.set(Ie,"."+Gf,Ie+"."+Wb),je.set(Ie,"."+ph,Ie+"."+Nm),"null"})}else if(Bf in qe){var $e=qe[Bf];return gs($e,function(Oe,je){var pe=Oe.invoke(je,$e),Ie=Oe.shared,ge=Ie.framebuffer,Xe=je.def(ge,".getFramebuffer(",pe,")");Y.optional(function(){Oe.assert(je,"!"+pe+"||"+Xe,"invalid framebuffer object")}),je.set(ge,".next",Xe);var tt=Ie.context;return je.set(tt,"."+Gf,Xe+"?"+Xe+".width:"+tt+"."+Wb),je.set(tt,"."+ph,Xe+"?"+Xe+".height:"+tt+"."+Nm),Xe})}else return null}function mn(xe,ne,De){var qe=xe.static,et=xe.dynamic;function $e(pe){if(pe in qe){var Ie=qe[pe];Y.commandType(Ie,"object","invalid "+pe,De.commandStr);var ge=!0,Xe=Ie.x|0,tt=Ie.y|0,_t,kt;return"width"in Ie?(_t=Ie.width|0,Y.command(_t>=0,"invalid "+pe,De.commandStr)):ge=!1,"height"in Ie?(kt=Ie.height|0,Y.command(kt>=0,"invalid "+pe,De.commandStr)):ge=!1,new io(!ge&&ne&&ne.thisDep,!ge&&ne&&ne.contextDep,!ge&&ne&&ne.propDep,function(_r,rn){var br=_r.shared.context,Or=_t;"width"in Ie||(Or=rn.def(br,".",Gf,"-",Xe));var qr=kt;return"height"in Ie||(qr=rn.def(br,".",ph,"-",tt)),[Xe,tt,Or,qr]})}else if(pe in et){var St=et[pe],Wt=gs(St,function(_r,rn){var br=_r.invoke(rn,St);Y.optional(function(){_r.assert(rn,br+"&&typeof "+br+'==="object"',"invalid "+pe)});var Or=_r.shared.context,qr=rn.def(br,".x|0"),$n=rn.def(br,".y|0"),ra=rn.def('"width" in ',br,"?",br,".width|0:","(",Or,".",Gf,"-",qr,")"),Qo=rn.def('"height" in ',br,"?",br,".height|0:","(",Or,".",ph,"-",$n,")");return Y.optional(function(){_r.assert(rn,ra+">=0&&"+Qo+">=0","invalid "+pe)}),[qr,$n,ra,Qo]});return ne&&(Wt.thisDep=Wt.thisDep||ne.thisDep,Wt.contextDep=Wt.contextDep||ne.contextDep,Wt.propDep=Wt.propDep||ne.propDep),Wt}else return ne?new io(ne.thisDep,ne.contextDep,ne.propDep,function(_r,rn){var br=_r.shared.context;return[0,0,rn.def(br,".",Gf),rn.def(br,".",ph)]}):null}var Oe=$e(Fu);if(Oe){var je=Oe;Oe=new io(Oe.thisDep,Oe.contextDep,Oe.propDep,function(pe,Ie){var ge=je.append(pe,Ie),Xe=pe.shared.context;return Ie.set(Xe,"."+gC,ge[2]),Ie.set(Xe,"."+xM,ge[3]),ge})}return{viewport:Oe,scissor_box:$e(ap)}}function Wr(xe,ne){var De=xe.static,qe=typeof De[zf]=="string"&&typeof De[vh]=="string";if(qe){if(Object.keys(ne.dynamic).length>0)return null;var et=ne.static,$e=Object.keys(et);if($e.length>0&&typeof et[$e[0]]=="number"){for(var Oe=[],je=0;je<$e.length;++je)Y(typeof et[$e[je]]=="number","must specify all vertex attribute locations when using vaos"),Oe.push([et[$e[je]]|0,$e[je]]);return Oe}}return null}function ln(xe,ne,De){var qe=xe.static,et=xe.dynamic;function $e(ge){if(ge in qe){var Xe=te.id(qe[ge]);Y.optional(function(){Vt.shader(Xb[ge],Xe,Y.guessCommand())});var tt=Wi(function(){return Xe});return tt.id=Xe,tt}else if(ge in et){var _t=et[ge];return gs(_t,function(kt,St){var Wt=kt.invoke(St,_t),_r=St.def(kt.shared.strings,".id(",Wt,")");return Y.optional(function(){St(kt.shared.shader,".shader(",Xb[ge],",",_r,",",kt.command,");")}),_r})}return null}var Oe=$e(zf),je=$e(vh),pe=null,Ie;return nu(Oe)&&nu(je)?(pe=Vt.program(je.id,Oe.id,null,De),Ie=Wi(function(ge,Xe){return ge.link(pe)})):Ie=new io(Oe&&Oe.thisDep||je&&je.thisDep,Oe&&Oe.contextDep||je&&je.contextDep,Oe&&Oe.propDep||je&&je.propDep,function(ge,Xe){var tt=ge.shared.shader,_t;Oe?_t=Oe.append(ge,Xe):_t=Xe.def(tt,".",zf);var kt;je?kt=je.append(ge,Xe):kt=Xe.def(tt,".",vh);var St=tt+".program("+kt+","+_t;return Y.optional(function(){St+=","+ge.command}),Xe.def(St+")")}),{frag:Oe,vert:je,progVar:Ie,program:pe}}function Mn(xe,ne){var De=xe.static,qe=xe.dynamic;function et(){if($f in De){var ge=De[$f];jf(ge)?ge=dt.getElements(dt.create(ge,!0)):ge&&(ge=dt.getElements(ge),Y.command(ge,"invalid elements",ne.commandStr));var Xe=Wi(function(_t,kt){if(ge){var St=_t.link(ge);return _t.ELEMENTS=St,St}return _t.ELEMENTS=null,null});return Xe.value=ge,Xe}else if($f in qe){var tt=qe[$f];return gs(tt,function(_t,kt){var St=_t.shared,Wt=St.isBufferArgs,_r=St.elements,rn=_t.invoke(kt,tt),br=kt.def("null"),Or=kt.def(Wt,"(",rn,")"),qr=_t.cond(Or).then(br,"=",_r,".createStream(",rn,");").else(br,"=",_r,".getElements(",rn,");");return Y.optional(function(){_t.assert(qr.else,"!"+rn+"||"+br,"invalid elements")}),kt.entry(qr),kt.exit(_t.cond(Or).then(_r,".destroyStream(",br,");")),_t.ELEMENTS=br,br})}return null}var $e=et();function Oe(){if(Nu in De){var ge=De[Nu];return Y.commandParameter(ge,Sf,"invalid primitve",ne.commandStr),Wi(function(tt,_t){return Sf[ge]})}else if(Nu in qe){var Xe=qe[Nu];return gs(Xe,function(tt,_t){var kt=tt.constants.primTypes,St=tt.invoke(_t,Xe);return Y.optional(function(){tt.assert(_t,St+" in "+kt,"invalid primitive, must be one of "+Object.keys(Sf))}),_t.def(kt,"[",St,"]")})}else if($e)return nu($e)?$e.value?Wi(function(tt,_t){return _t.def(tt.ELEMENTS,".primType")}):Wi(function(){return xC}):new io($e.thisDep,$e.contextDep,$e.propDep,function(tt,_t){var kt=tt.ELEMENTS;return _t.def(kt,"?",kt,".primType:",xC)});return null}function je(ge,Xe){if(ge in De){var tt=De[ge]|0;return Y.command(!Xe||tt>=0,"invalid "+ge,ne.commandStr),Wi(function(kt,St){return Xe&&(kt.OFFSET=tt),tt})}else if(ge in qe){var _t=qe[ge];return gs(_t,function(kt,St){var Wt=kt.invoke(St,_t);return Xe&&(kt.OFFSET=Wt,Y.optional(function(){kt.assert(St,Wt+">=0","invalid "+ge)})),Wt})}else if(Xe&&$e)return Wi(function(kt,St){return kt.OFFSET="0",0});return null}var pe=je(sp,!0);function Ie(){if(bc in De){var ge=De[bc]|0;return Y.command(typeof ge=="number"&&ge>=0,"invalid vertex count",ne.commandStr),Wi(function(){return ge})}else if(bc in qe){var Xe=qe[bc];return gs(Xe,function(kt,St){var Wt=kt.invoke(St,Xe);return Y.optional(function(){kt.assert(St,"typeof "+Wt+'==="number"&&'+Wt+">=0&&"+Wt+"===("+Wt+"|0)","invalid vertex count")}),Wt})}else if($e)if(nu($e)){if($e)return pe?new io(pe.thisDep,pe.contextDep,pe.propDep,function(kt,St){var Wt=St.def(kt.ELEMENTS,".vertCount-",kt.OFFSET);return Y.optional(function(){kt.assert(St,Wt+">=0","invalid vertex offset/element buffer too small")}),Wt}):Wi(function(kt,St){return St.def(kt.ELEMENTS,".vertCount")});var tt=Wi(function(){return-1});return Y.optional(function(){tt.MISSING=!0}),tt}else{var _t=new io($e.thisDep||pe.thisDep,$e.contextDep||pe.contextDep,$e.propDep||pe.propDep,function(kt,St){var Wt=kt.ELEMENTS;return kt.OFFSET?St.def(Wt,"?",Wt,".vertCount-",kt.OFFSET,":-1"):St.def(Wt,"?",Wt,".vertCount:-1")});return Y.optional(function(){_t.DYNAMIC=!0}),_t}return null}return{elements:$e,primitive:Oe(),count:Ie(),instances:je(lp,!1),offset:pe}}function ea(xe,ne){var De=xe.static,qe=xe.dynamic,et={};return Lt.forEach(function($e){var Oe=Jt($e);function je(pe,Ie){if($e in De){var ge=pe(De[$e]);et[Oe]=Wi(function(){return ge})}else if($e in qe){var Xe=qe[$e];et[Oe]=gs(Xe,function(tt,_t){return Ie(tt,_t,tt.invoke(_t,Xe))})}}switch($e){case Lo:case $b:case fC:case vC:case wl:case Om:case dC:case hC:case hh:case yc:return je(function(pe){return Y.commandType(pe,"boolean",$e,ne.commandStr),pe},function(pe,Ie,ge){return Y.optional(function(){pe.assert(Ie,"typeof "+ge+'==="boolean"',"invalid flag "+$e,pe.commandStr)}),ge});case Im:return je(function(pe){return Y.commandParameter(pe,ru,"invalid "+$e,ne.commandStr),ru[pe]},function(pe,Ie,ge){var Xe=pe.constants.compareFuncs;return Y.optional(function(){pe.assert(Ie,ge+" in "+Xe,"invalid "+$e+", must be one of "+Object.keys(ru))}),Ie.def(Xe,"[",ge,"]")});case rp:return je(function(pe){return Y.command(aa(pe)&&pe.length===2&&typeof pe[0]=="number"&&typeof pe[1]=="number"&&pe[0]<=pe[1],"depth range is 2d array",ne.commandStr),pe},function(pe,Ie,ge){Y.optional(function(){pe.assert(Ie,pe.shared.isArrayLike+"("+ge+")&&"+ge+".length===2&&typeof "+ge+'[0]==="number"&&typeof '+ge+'[1]==="number"&&'+ge+"[0]<="+ge+"[1]","depth range must be a 2d array")});var Xe=Ie.def("+",ge,"[0]"),tt=Ie.def("+",ge,"[1]");return[Xe,tt]});case Mm:return je(function(pe){Y.commandType(pe,"object","blend.func",ne.commandStr);var Ie="srcRGB"in pe?pe.srcRGB:pe.src,ge="srcAlpha"in pe?pe.srcAlpha:pe.src,Xe="dstRGB"in pe?pe.dstRGB:pe.dst,tt="dstAlpha"in pe?pe.dstAlpha:pe.dst;return Y.commandParameter(Ie,El,Oe+".srcRGB",ne.commandStr),Y.commandParameter(ge,El,Oe+".srcAlpha",ne.commandStr),Y.commandParameter(Xe,El,Oe+".dstRGB",ne.commandStr),Y.commandParameter(tt,El,Oe+".dstAlpha",ne.commandStr),Y.command(Wf.indexOf(Ie+", "+Xe)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+Ie+", "+Xe+")",ne.commandStr),[El[Ie],El[Xe],El[ge],El[tt]]},function(pe,Ie,ge){var Xe=pe.constants.blendFuncs;Y.optional(function(){pe.assert(Ie,ge+"&&typeof "+ge+'==="object"',"invalid blend func, must be an object")});function tt(br,Or){var qr=Ie.def('"',br,Or,'" in ',ge,"?",ge,".",br,Or,":",ge,".",br);return Y.optional(function(){pe.assert(Ie,qr+" in "+Xe,"invalid "+$e+"."+br+Or+", must be one of "+Object.keys(El))}),qr}var _t=tt("src","RGB"),kt=tt("dst","RGB");Y.optional(function(){var br=pe.constants.invalidBlendCombinations;pe.assert(Ie,br+".indexOf("+_t+'+", "+'+kt+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var St=Ie.def(Xe,"[",_t,"]"),Wt=Ie.def(Xe,"[",tt("src","Alpha"),"]"),_r=Ie.def(Xe,"[",kt,"]"),rn=Ie.def(Xe,"[",tt("dst","Alpha"),"]");return[St,_r,Wt,rn]});case tp:return je(function(pe){if(typeof pe=="string")return Y.commandParameter(pe,bt,"invalid "+$e,ne.commandStr),[bt[pe],bt[pe]];if(typeof pe=="object")return Y.commandParameter(pe.rgb,bt,$e+".rgb",ne.commandStr),Y.commandParameter(pe.alpha,bt,$e+".alpha",ne.commandStr),[bt[pe.rgb],bt[pe.alpha]];Y.commandRaise("invalid blend.equation",ne.commandStr)},function(pe,Ie,ge){var Xe=pe.constants.blendEquations,tt=Ie.def(),_t=Ie.def(),kt=pe.cond("typeof ",ge,'==="string"');return Y.optional(function(){function St(Wt,_r,rn){pe.assert(Wt,rn+" in "+Xe,"invalid "+_r+", must be one of "+Object.keys(bt))}St(kt.then,$e,ge),pe.assert(kt.else,ge+"&&typeof "+ge+'==="object"',"invalid "+$e),St(kt.else,$e+".rgb",ge+".rgb"),St(kt.else,$e+".alpha",ge+".alpha")}),kt.then(tt,"=",_t,"=",Xe,"[",ge,"];"),kt.else(tt,"=",Xe,"[",ge,".rgb];",_t,"=",Xe,"[",ge,".alpha];"),Ie(kt),[tt,_t]});case no:return je(function(pe){return Y.command(aa(pe)&&pe.length===4,"blend.color must be a 4d array",ne.commandStr),Ke(4,function(Ie){return+pe[Ie]})},function(pe,Ie,ge){return Y.optional(function(){pe.assert(Ie,pe.shared.isArrayLike+"("+ge+")&&"+ge+".length===4","blend.color must be a 4d array")}),Ke(4,function(Xe){return Ie.def("+",ge,"[",Xe,"]")})});case pC:return je(function(pe){return Y.commandType(pe,"number",Oe,ne.commandStr),pe|0},function(pe,Ie,ge){return Y.optional(function(){pe.assert(Ie,"typeof "+ge+'==="number"',"invalid stencil.mask")}),Ie.def(ge,"|0")});case Nf:return je(function(pe){Y.commandType(pe,"object",Oe,ne.commandStr);var Ie=pe.cmp||"keep",ge=pe.ref||0,Xe="mask"in pe?pe.mask:-1;return Y.commandParameter(Ie,ru,$e+".cmp",ne.commandStr),Y.commandType(ge,"number",$e+".ref",ne.commandStr),Y.commandType(Xe,"number",$e+".mask",ne.commandStr),[ru[Ie],ge,Xe]},function(pe,Ie,ge){var Xe=pe.constants.compareFuncs;Y.optional(function(){function St(){pe.assert(Ie,Array.prototype.join.call(arguments,""),"invalid stencil.func")}St(ge+"&&typeof ",ge,'==="object"'),St('!("cmp" in ',ge,")||(",ge,".cmp in ",Xe,")")});var tt=Ie.def('"cmp" in ',ge,"?",Xe,"[",ge,".cmp]",":",Cc),_t=Ie.def(ge,".ref|0"),kt=Ie.def('"mask" in ',ge,"?",ge,".mask|0:-1");return[tt,_t,kt]});case Hb:case ip:return je(function(pe){Y.commandType(pe,"object",Oe,ne.commandStr);var Ie=pe.fail||"keep",ge=pe.zfail||"keep",Xe=pe.zpass||"keep";return Y.commandParameter(Ie,Ec,$e+".fail",ne.commandStr),Y.commandParameter(ge,Ec,$e+".zfail",ne.commandStr),Y.commandParameter(Xe,Ec,$e+".zpass",ne.commandStr),[$e===ip?Sc:Sh,Ec[Ie],Ec[ge],Ec[Xe]]},function(pe,Ie,ge){var Xe=pe.constants.stencilOps;Y.optional(function(){pe.assert(Ie,ge+"&&typeof "+ge+'==="object"',"invalid "+$e)});function tt(_t){return Y.optional(function(){pe.assert(Ie,'!("'+_t+'" in '+ge+")||("+ge+"."+_t+" in "+Xe+")","invalid "+$e+"."+_t+", must be one of "+Object.keys(Ec))}),Ie.def('"',_t,'" in ',ge,"?",Xe,"[",ge,".",_t,"]:",Cc)}return[$e===ip?Sc:Sh,tt("fail"),tt("zfail"),tt("zpass")]});case np:return je(function(pe){Y.commandType(pe,"object",Oe,ne.commandStr);var Ie=pe.factor|0,ge=pe.units|0;return Y.commandType(Ie,"number",Oe+".factor",ne.commandStr),Y.commandType(ge,"number",Oe+".units",ne.commandStr),[Ie,ge]},function(pe,Ie,ge){Y.optional(function(){pe.assert(Ie,ge+"&&typeof "+ge+'==="object"',"invalid "+$e)});var Xe=Ie.def(ge,".factor|0"),tt=Ie.def(ge,".units|0");return[Xe,tt]});case Rm:return je(function(pe){var Ie=0;return pe==="front"?Ie=Sh:pe==="back"&&(Ie=Sc),Y.command(!!Ie,Oe,ne.commandStr),Ie},function(pe,Ie,ge){return Y.optional(function(){pe.assert(Ie,ge+'==="front"||'+ge+'==="back"',"invalid cull.face")}),Ie.def(ge,'==="front"?',Sh,":",Sc)});case Ub:return je(function(pe){return Y.command(typeof pe=="number"&&pe>=ft.lineWidthDims[0]&&pe<=ft.lineWidthDims[1],"invalid line width, must be a positive number between "+ft.lineWidthDims[0]+" and "+ft.lineWidthDims[1],ne.commandStr),pe},function(pe,Ie,ge){return Y.optional(function(){pe.assert(Ie,"typeof "+ge+'==="number"&&'+ge+">="+ft.lineWidthDims[0]+"&&"+ge+"<="+ft.lineWidthDims[1],"invalid line width")}),ge});case Gb:return je(function(pe){return Y.commandParameter(pe,Um,Oe,ne.commandStr),Um[pe]},function(pe,Ie,ge){return Y.optional(function(){pe.assert(Ie,ge+'==="cw"||'+ge+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),Ie.def(ge+'==="cw"?'+wC+":"+Gm)});case Pm:return je(function(pe){return Y.command(aa(pe)&&pe.length===4,"color.mask must be length 4 array",ne.commandStr),pe.map(function(Ie){return!!Ie})},function(pe,Ie,ge){return Y.optional(function(){pe.assert(Ie,pe.shared.isArrayLike+"("+ge+")&&"+ge+".length===4","invalid color.mask")}),Ke(4,function(Xe){return"!!"+ge+"["+Xe+"]"})});case Dm:return je(function(pe){Y.command(typeof pe=="object"&&pe,Oe,ne.commandStr);var Ie="value"in pe?pe.value:1,ge=!!pe.invert;return Y.command(typeof Ie=="number"&&Ie>=0&&Ie<=1,"sample.coverage.value must be a number between 0 and 1",ne.commandStr),[Ie,ge]},function(pe,Ie,ge){Y.optional(function(){pe.assert(Ie,ge+"&&typeof "+ge+'==="object"',"invalid sample.coverage")});var Xe=Ie.def('"value" in ',ge,"?+",ge,".value:1"),tt=Ie.def("!!",ge,".invert");return[Xe,tt]})}}),et}function Ta(xe,ne){var De=xe.static,qe=xe.dynamic,et={};return Object.keys(De).forEach(function($e){var Oe=De[$e],je;if(typeof Oe=="number"||typeof Oe=="boolean")je=Wi(function(){return Oe});else if(typeof Oe=="function"){var pe=Oe._reglType;pe==="texture2d"||pe==="textureCube"?je=Wi(function(Ie){return Ie.link(Oe)}):pe==="framebuffer"||pe==="framebufferCube"?(Y.command(Oe.color.length>0,'missing color attachment for framebuffer sent to uniform "'+$e+'"',ne.commandStr),je=Wi(function(Ie){return Ie.link(Oe.color[0])})):Y.commandRaise('invalid data for uniform "'+$e+'"',ne.commandStr)}else aa(Oe)?je=Wi(function(Ie){var ge=Ie.global.def("[",Ke(Oe.length,function(Xe){return Y.command(typeof Oe[Xe]=="number"||typeof Oe[Xe]=="boolean","invalid uniform "+$e,Ie.commandStr),Oe[Xe]}),"]");return ge}):Y.commandRaise('invalid or missing data for uniform "'+$e+'"',ne.commandStr);je.value=Oe,et[$e]=je}),Object.keys(qe).forEach(function($e){var Oe=qe[$e];et[$e]=gs(Oe,function(je,pe){return je.invoke(pe,Oe)})}),et}function Sn(xe,ne){var De=xe.static,qe=xe.dynamic,et={};return Object.keys(De).forEach(function($e){var Oe=De[$e],je=te.id($e),pe=new Qe;if(jf(Oe))pe.state=go,pe.buffer=Ct.getBuffer(Ct.create(Oe,wc,!1,!0)),pe.type=0;else{var Ie=Ct.getBuffer(Oe);if(Ie)pe.state=go,pe.buffer=Ie,pe.type=0;else if(Y.command(typeof Oe=="object"&&Oe,"invalid data for attribute "+$e,ne.commandStr),"constant"in Oe){var ge=Oe.constant;pe.buffer="null",pe.state=zb,typeof ge=="number"?pe.x=ge:(Y.command(aa(ge)&&ge.length>0&&ge.length<=4,"invalid constant for attribute "+$e,ne.commandStr),gc.forEach(function(_r,rn){rn<ge.length&&(pe[_r]=ge[rn])}))}else{jf(Oe.buffer)?Ie=Ct.getBuffer(Ct.create(Oe.buffer,wc,!1,!0)):Ie=Ct.getBuffer(Oe.buffer),Y.command(!!Ie,'missing buffer for attribute "'+$e+'"',ne.commandStr);var Xe=Oe.offset|0;Y.command(Xe>=0,'invalid offset for attribute "'+$e+'"',ne.commandStr);var tt=Oe.stride|0;Y.command(tt>=0&&tt<256,'invalid stride for attribute "'+$e+'", must be integer betweeen [0, 255]',ne.commandStr);var _t=Oe.size|0;Y.command(!("size"in Oe)||_t>0&&_t<=4,'invalid size for attribute "'+$e+'", must be 1,2,3,4',ne.commandStr);var kt=!!Oe.normalized,St=0;"type"in Oe&&(Y.commandParameter(Oe.type,xf,"invalid type for attribute "+$e,ne.commandStr),St=xf[Oe.type]);var Wt=Oe.divisor|0;"divisor"in Oe&&(Y.command(Wt===0||$t,'cannot specify divisor for attribute "'+$e+'", instancing not supported',ne.commandStr),Y.command(Wt>=0,'invalid divisor for attribute "'+$e+'"',ne.commandStr)),Y.optional(function(){var _r=ne.commandStr,rn=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Oe).forEach(function(br){Y.command(rn.indexOf(br)>=0,'unknown parameter "'+br+'" for attribute pointer "'+$e+'" (valid parameters are '+rn+")",_r)})}),pe.buffer=Ie,pe.state=go,pe.size=_t,pe.normalized=kt,pe.type=St||Ie.dtype,pe.offset=Xe,pe.stride=tt,pe.divisor=Wt}}et[$e]=Wi(function(_r,rn){var br=_r.attribCache;if(je in br)return br[je];var Or={isStream:!1};return Object.keys(pe).forEach(function(qr){Or[qr]=pe[qr]}),pe.buffer&&(Or.buffer=_r.link(pe.buffer),Or.type=Or.type||Or.buffer+".dtype"),br[je]=Or,Or})}),Object.keys(qe).forEach(function($e){var Oe=qe[$e];function je(pe,Ie){var ge=pe.invoke(Ie,Oe),Xe=pe.shared,tt=pe.constants,_t=Xe.isBufferArgs,kt=Xe.buffer;Y.optional(function(){pe.assert(Ie,ge+"&&(typeof "+ge+'==="object"||typeof '+ge+'==="function")&&('+_t+"("+ge+")||"+kt+".getBuffer("+ge+")||"+kt+".getBuffer("+ge+".buffer)||"+_t+"("+ge+'.buffer)||("constant" in '+ge+"&&(typeof "+ge+'.constant==="number"||'+Xe.isArrayLike+"("+ge+".constant))))",'invalid dynamic attribute "'+$e+'"')});var St={isStream:Ie.def(!1)},Wt=new Qe;Wt.state=go,Object.keys(Wt).forEach(function(Or){St[Or]=Ie.def(""+Wt[Or])});var _r=St.buffer,rn=St.type;Ie("if(",_t,"(",ge,")){",St.isStream,"=true;",_r,"=",kt,".createStream(",wc,",",ge,");",rn,"=",_r,".dtype;","}else{",_r,"=",kt,".getBuffer(",ge,");","if(",_r,"){",rn,"=",_r,".dtype;",'}else if("constant" in ',ge,"){",St.state,"=",zb,";","if(typeof "+ge+'.constant === "number"){',St[gc[0]],"=",ge,".constant;",gc.slice(1).map(function(Or){return St[Or]}).join("="),"=0;","}else{",gc.map(function(Or,qr){return St[Or]+"="+ge+".constant.length>"+qr+"?"+ge+".constant["+qr+"]:0;"}).join(""),"}}else{","if(",_t,"(",ge,".buffer)){",_r,"=",kt,".createStream(",wc,",",ge,".buffer);","}else{",_r,"=",kt,".getBuffer(",ge,".buffer);","}",rn,'="type" in ',ge,"?",tt.glTypes,"[",ge,".type]:",_r,".dtype;",St.normalized,"=!!",ge,".normalized;");function br(Or){Ie(St[Or],"=",ge,".",Or,"|0;")}return br("size"),br("offset"),br("stride"),br("divisor"),Ie("}}"),Ie.exit("if(",St.isStream,"){",kt,".destroyStream(",_r,");","}"),St}et[$e]=gs(Oe,je)}),et}function ta(xe,ne){var De=xe.static,qe=xe.dynamic;if(xc in De){var et=De[xc];return et!==null&&Yt.getVAO(et)===null&&(et=Yt.createVAO(et)),Wi(function(Oe){return Oe.link(Yt.getVAO(et))})}else if(xc in qe){var $e=qe[xc];return gs($e,function(Oe,je){var pe=Oe.invoke(je,$e);return je.def(Oe.shared.vao+".getVAO("+pe+")")})}return null}function _i(xe){var ne=xe.static,De=xe.dynamic,qe={};return Object.keys(ne).forEach(function(et){var $e=ne[et];qe[et]=Wi(function(Oe,je){return typeof $e=="number"||typeof $e=="boolean"?""+$e:Oe.link($e)})}),Object.keys(De).forEach(function(et){var $e=De[et];qe[et]=gs($e,function(Oe,je){return Oe.invoke(je,$e)})}),qe}function mi(xe,ne,De,qe,et){var $e=xe.static,Oe=xe.dynamic;Y.optional(function(){var br=[Bf,vh,zf,$f,Nu,sp,bc,lp,op,xc].concat(Lt);function Or(qr){Object.keys(qr).forEach(function($n){Y.command(br.indexOf($n)>=0,'unknown parameter "'+$n+'"',et.commandStr)})}Or($e),Or(Oe)});var je=Wr(xe,ne),pe=mr(xe),Ie=mn(xe,pe,et),ge=Mn(xe,et),Xe=ea(xe,et),tt=ln(xe,et,je);function _t(br){var Or=Ie[br];Or&&(Xe[br]=Or)}_t(Fu),_t(Jt(ap));var kt=Object.keys(Xe).length>0,St={framebuffer:pe,draw:ge,shader:tt,state:Xe,dirty:kt,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(St.profile=Qr(xe),St.uniforms=Ta(De,et),St.drawVAO=St.scopeVAO=ta(xe),!St.drawVAO&&tt.program&&!je&&Te.angle_instanced_arrays){var Wt=!0,_r=tt.program.attributes.map(function(br){var Or=ne.static[br];return Wt=Wt&&!!Or,Or});if(Wt&&_r.length>0){var rn=Yt.getVAO(Yt.createVAO(_r));St.drawVAO=new io(null,null,null,function(br,Or){return br.link(rn)}),St.useVAO=!0}}return je?St.useVAO=!0:St.attributes=Sn(ne,et),St.context=_i(qe),St}function Fi(xe,ne,De){var qe=xe.shared,et=qe.context,$e=xe.scope();Object.keys(De).forEach(function(Oe){ne.save(et,"."+Oe);var je=De[Oe],pe=je.append(xe,ne);Array.isArray(pe)?$e(et,".",Oe,"=[",pe.join(),"];"):$e(et,".",Oe,"=",pe,";")}),ne($e)}function Aa(xe,ne,De,qe){var et=xe.shared,$e=et.gl,Oe=et.framebuffer,je;Qt&&(je=ne.def(et.extensions,".webgl_draw_buffers"));var pe=xe.constants,Ie=pe.drawBuffer,ge=pe.backBuffer,Xe;De?Xe=De.append(xe,ne):Xe=ne.def(Oe,".next"),qe||ne("if(",Xe,"!==",Oe,".cur){"),ne("if(",Xe,"){",$e,".bindFramebuffer(",Yb,",",Xe,".framebuffer);"),Qt&&ne(je,".drawBuffersWEBGL(",Ie,"[",Xe,".colorAttachments.length]);"),ne("}else{",$e,".bindFramebuffer(",Yb,",null);"),Qt&&ne(je,".drawBuffersWEBGL(",ge,");"),ne("}",Oe,".cur=",Xe,";"),qe||ne("}")}function Fa(xe,ne,De){var qe=xe.shared,et=qe.gl,$e=xe.current,Oe=xe.next,je=qe.current,pe=qe.next,Ie=xe.cond(je,".dirty");Lt.forEach(function(ge){var Xe=Jt(ge);if(!(Xe in De.state)){var tt,_t;if(Xe in Oe){tt=Oe[Xe],_t=$e[Xe];var kt=Ke(Rt[Xe].length,function(Wt){return Ie.def(tt,"[",Wt,"]")});Ie(xe.cond(kt.map(function(Wt,_r){return Wt+"!=="+_t+"["+_r+"]"}).join("||")).then(et,".",Ft[Xe],"(",kt,");",kt.map(function(Wt,_r){return _t+"["+_r+"]="+Wt}).join(";"),";"))}else{tt=Ie.def(pe,".",Xe);var St=xe.cond(tt,"!==",je,".",Xe);Ie(St),Xe in rr?St(xe.cond(tt).then(et,".enable(",rr[Xe],");").else(et,".disable(",rr[Xe],");"),je,".",Xe,"=",tt,";"):St(et,".",Ft[Xe],"(",tt,");",je,".",Xe,"=",tt,";")}}}),Object.keys(De.state).length===0&&Ie(je,".dirty=false;"),ne(Ie)}function ao(xe,ne,De,qe){var et=xe.shared,$e=xe.current,Oe=et.current,je=et.gl;qb(Object.keys(De)).forEach(function(pe){var Ie=De[pe];if(!(qe&&!qe(Ie))){var ge=Ie.append(xe,ne);if(rr[pe]){var Xe=rr[pe];nu(Ie)?ge?ne(je,".enable(",Xe,");"):ne(je,".disable(",Xe,");"):ne(xe.cond(ge).then(je,".enable(",Xe,");").else(je,".disable(",Xe,");")),ne(Oe,".",pe,"=",ge,";")}else if(aa(ge)){var tt=$e[pe];ne(je,".",Ft[pe],"(",ge,");",ge.map(function(_t,kt){return tt+"["+kt+"]="+_t}).join(";"),";")}else ne(je,".",Ft[pe],"(",ge,");",Oe,".",pe,"=",ge,";")}})}function oa(xe,ne){$t&&(xe.instancing=ne.def(xe.shared.extensions,".angle_instanced_arrays"))}function tn(xe,ne,De,qe,et){var $e=xe.shared,Oe=xe.stats,je=$e.current,pe=$e.timer,Ie=De.profile;function ge(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var Xe,tt;function _t(br){Xe=ne.def(),br(Xe,"=",ge(),";"),typeof et=="string"?br(Oe,".count+=",et,";"):br(Oe,".count++;"),Ut&&(qe?(tt=ne.def(),br(tt,"=",pe,".getNumPendingQueries();")):br(pe,".beginQuery(",Oe,");"))}function kt(br){br(Oe,".cpuTime+=",ge(),"-",Xe,";"),Ut&&(qe?br(pe,".pushScopeStats(",tt,",",pe,".getNumPendingQueries(),",Oe,");"):br(pe,".endQuery();"))}function St(br){var Or=ne.def(je,".profile");ne(je,".profile=",br,";"),ne.exit(je,".profile=",Or,";")}var Wt;if(Ie){if(nu(Ie)){Ie.enable?(_t(ne),kt(ne.exit),St("true")):St("false");return}Wt=Ie.append(xe,ne),St(Wt)}else Wt=ne.def(je,".profile");var _r=xe.block();_t(_r),ne("if(",Wt,"){",_r,"}");var rn=xe.block();kt(rn),ne.exit("if(",Wt,"){",rn,"}")}function oo(xe,ne,De,qe,et){var $e=xe.shared;function Oe(pe){switch(pe){case mh:case yh:case Sl:return 2;case up:case cp:case $m:return 3;case Uf:case bh:case Cl:return 4;default:return 1}}function je(pe,Ie,ge){var Xe=$e.gl,tt=ne.def(pe,".location"),_t=ne.def($e.attributes,"[",tt,"]"),kt=ge.state,St=ge.buffer,Wt=[ge.x,ge.y,ge.z,ge.w],_r=["buffer","normalized","offset","stride"];function rn(){ne("if(!",_t,".buffer){",Xe,".enableVertexAttribArray(",tt,");}");var Or=ge.type,qr;if(ge.size?qr=ne.def(ge.size,"||",Ie):qr=Ie,ne("if(",_t,".type!==",Or,"||",_t,".size!==",qr,"||",_r.map(function(ra){return _t+"."+ra+"!=="+ge[ra]}).join("||"),"){",Xe,".bindBuffer(",wc,",",St,".buffer);",Xe,".vertexAttribPointer(",[tt,qr,Or,ge.normalized,ge.stride,ge.offset],");",_t,".type=",Or,";",_t,".size=",qr,";",_r.map(function(ra){return _t+"."+ra+"="+ge[ra]+";"}).join(""),"}"),$t){var $n=ge.divisor;ne("if(",_t,".divisor!==",$n,"){",xe.instancing,".vertexAttribDivisorANGLE(",[tt,$n],");",_t,".divisor=",$n,";}")}}function br(){ne("if(",_t,".buffer){",Xe,".disableVertexAttribArray(",tt,");",_t,".buffer=null;","}if(",gc.map(function(Or,qr){return _t+"."+Or+"!=="+Wt[qr]}).join("||"),"){",Xe,".vertexAttrib4f(",tt,",",Wt,");",gc.map(function(Or,qr){return _t+"."+Or+"="+Wt[qr]+";"}).join(""),"}")}kt===go?rn():kt===zb?br():(ne("if(",kt,"===",go,"){"),rn(),ne("}else{"),br(),ne("}"))}qe.forEach(function(pe){var Ie=pe.name,ge=De.attributes[Ie],Xe;if(ge){if(!et(ge))return;Xe=ge.append(xe,ne)}else{if(!et(Kb))return;var tt=xe.scopeAttrib(Ie);Y.optional(function(){xe.assert(ne,tt+".state","missing attribute "+Ie)}),Xe={},Object.keys(new Qe).forEach(function(_t){Xe[_t]=ne.def(tt,".",_t)})}je(xe.link(pe),Oe(pe.info.type),Xe)})}function Yn(xe,ne,De,qe,et){for(var $e=xe.shared,Oe=$e.gl,je,pe=0;pe<qe.length;++pe){var Ie=qe[pe],ge=Ie.name,Xe=Ie.info.type,tt=De.uniforms[ge],_t=xe.link(Ie),kt=_t+".location",St;if(tt){if(!et(tt))continue;if(nu(tt)){var Wt=tt.value;if(Y.command(Wt!==null&&typeof Wt!="undefined",'missing uniform "'+ge+'"',xe.commandStr),Xe===dp||Xe===hp){Y.command(typeof Wt=="function"&&(Xe===dp&&(Wt._reglType==="texture2d"||Wt._reglType==="framebuffer")||Xe===hp&&(Wt._reglType==="textureCube"||Wt._reglType==="framebufferCube")),"invalid texture for uniform "+ge,xe.commandStr);var _r=xe.link(Wt._texture||Wt.color[0]._texture);ne(Oe,".uniform1i(",kt,",",_r+".bind());"),ne.exit(_r,".unbind();")}else if(Xe===xh||Xe===wh||Xe===Hf){Y.optional(function(){Y.command(aa(Wt),"invalid matrix for uniform "+ge,xe.commandStr),Y.command(Xe===xh&&Wt.length===4||Xe===wh&&Wt.length===9||Xe===Hf&&Wt.length===16,"invalid length for matrix uniform "+ge,xe.commandStr)});var rn=xe.global.def("new Float32Array(["+Array.prototype.slice.call(Wt)+"])"),br=2;Xe===wh?br=3:Xe===Hf&&(br=4),ne(Oe,".uniformMatrix",br,"fv(",kt,",false,",rn,");")}else{switch(Xe){case eu:Y.commandType(Wt,"number","uniform "+ge,xe.commandStr),je="1f";break;case mh:Y.command(aa(Wt)&&Wt.length===2,"uniform "+ge,xe.commandStr),je="2f";break;case up:Y.command(aa(Wt)&&Wt.length===3,"uniform "+ge,xe.commandStr),je="3f";break;case Uf:Y.command(aa(Wt)&&Wt.length===4,"uniform "+ge,xe.commandStr),je="4f";break;case fp:Y.commandType(Wt,"boolean","uniform "+ge,xe.commandStr),je="1i";break;case zm:Y.commandType(Wt,"number","uniform "+ge,xe.commandStr),je="1i";break;case Sl:Y.command(aa(Wt)&&Wt.length===2,"uniform "+ge,xe.commandStr),je="2i";break;case yh:Y.command(aa(Wt)&&Wt.length===2,"uniform "+ge,xe.commandStr),je="2i";break;case $m:Y.command(aa(Wt)&&Wt.length===3,"uniform "+ge,xe.commandStr),je="3i";break;case cp:Y.command(aa(Wt)&&Wt.length===3,"uniform "+ge,xe.commandStr),je="3i";break;case Cl:Y.command(aa(Wt)&&Wt.length===4,"uniform "+ge,xe.commandStr),je="4i";break;case bh:Y.command(aa(Wt)&&Wt.length===4,"uniform "+ge,xe.commandStr),je="4i";break}ne(Oe,".uniform",je,"(",kt,",",aa(Wt)?Array.prototype.slice.call(Wt):Wt,");")}continue}else St=tt.append(xe,ne)}else{if(!et(Kb))continue;St=ne.def($e.uniforms,"[",te.id(ge),"]")}Xe===dp?(Y(!Array.isArray(St),"must specify a scalar prop for textures"),ne("if(",St,"&&",St,'._reglType==="framebuffer"){',St,"=",St,".color[0];","}")):Xe===hp&&(Y(!Array.isArray(St),"must specify a scalar prop for cube maps"),ne("if(",St,"&&",St,'._reglType==="framebufferCube"){',St,"=",St,".color[0];","}")),Y.optional(function(){function Qo(_l,RC){xe.assert(ne,_l,'bad data or missing for uniform "'+ge+'".  '+RC)}function tx(_l){Y(!Array.isArray(St),"must not specify an array type for uniform"),Qo("typeof "+St+'==="'+_l+'"',"invalid type, expected "+_l)}function Ws(_l,RC){Array.isArray(St)?Y(St.length===_l,"must have length "+_l):Qo($e.isArrayLike+"("+St+")&&"+St+".length==="+_l,"invalid vector, should have length "+_l,xe.commandStr)}function PC(_l){Y(!Array.isArray(St),"must not specify a value type"),Qo("typeof "+St+'==="function"&&'+St+'._reglType==="texture'+(_l===gh?"2d":"Cube")+'"',"invalid texture type",xe.commandStr)}switch(Xe){case zm:tx("number");break;case yh:Ws(2);break;case cp:Ws(3);break;case bh:Ws(4);break;case eu:tx("number");break;case mh:Ws(2);break;case up:Ws(3);break;case Uf:Ws(4);break;case fp:tx("boolean");break;case Sl:Ws(2);break;case $m:Ws(3);break;case Cl:Ws(4);break;case xh:Ws(4);break;case wh:Ws(9);break;case Hf:Ws(16);break;case dp:PC(gh);break;case hp:PC(mC);break}});var Or=1;switch(Xe){case dp:case hp:var qr=ne.def(St,"._texture");ne(Oe,".uniform1i(",kt,",",qr,".bind());"),ne.exit(qr,".unbind();");continue;case zm:case fp:je="1i";break;case yh:case Sl:je="2i",Or=2;break;case cp:case $m:je="3i",Or=3;break;case bh:case Cl:je="4i",Or=4;break;case eu:je="1f";break;case mh:je="2f",Or=2;break;case up:je="3f",Or=3;break;case Uf:je="4f",Or=4;break;case xh:je="Matrix2fv";break;case wh:je="Matrix3fv";break;case Hf:je="Matrix4fv";break}if(ne(Oe,".uniform",je,"(",kt,","),je.charAt(0)==="M"){var $n=Math.pow(Xe-xh+2,2),ra=xe.global.def("new Float32Array(",$n,")");Array.isArray(St)?ne("false,(",Ke($n,function(Qo){return ra+"["+Qo+"]="+St[Qo]}),",",ra,")"):ne("false,(Array.isArray(",St,")||",St," instanceof Float32Array)?",St,":(",Ke($n,function(Qo){return ra+"["+Qo+"]="+St+"["+Qo+"]"}),",",ra,")")}else Or>1?ne(Ke(Or,function(Qo){return Array.isArray(St)?St[Qo]:St+"["+Qo+"]"})):(Y(!Array.isArray(St),"uniform value must not be an array"),ne(St));ne(");")}}function Dr(xe,ne,De,qe){var et=xe.shared,$e=et.gl,Oe=et.draw,je=qe.draw;function pe(){var qr=je.elements,$n,ra=ne;return qr?((qr.contextDep&&qe.contextDynamic||qr.propDep)&&(ra=De),$n=qr.append(xe,ra)):$n=ra.def(Oe,".",$f),$n&&ra("if("+$n+")"+$e+".bindBuffer("+Ln+","+$n+".buffer.buffer);"),$n}function Ie(){var qr=je.count,$n,ra=ne;return qr?((qr.contextDep&&qe.contextDynamic||qr.propDep)&&(ra=De),$n=qr.append(xe,ra),Y.optional(function(){qr.MISSING&&xe.assert(ne,"false","missing vertex count"),qr.DYNAMIC&&xe.assert(ra,$n+">=0","missing vertex count")})):($n=ra.def(Oe,".",bc),Y.optional(function(){xe.assert(ra,$n+">=0","missing vertex count")})),$n}var ge=pe();function Xe(qr){var $n=je[qr];return $n?$n.contextDep&&qe.contextDynamic||$n.propDep?$n.append(xe,De):$n.append(xe,ne):ne.def(Oe,".",qr)}var tt=Xe(Nu),_t=Xe(sp),kt=Ie();if(typeof kt=="number"){if(kt===0)return}else De("if(",kt,"){"),De.exit("}");var St,Wt;$t&&(St=Xe(lp),Wt=xe.instancing);var _r=ge+".type",rn=je.elements&&nu(je.elements);function br(){function qr(){De(Wt,".drawElementsInstancedANGLE(",[tt,kt,_r,_t+"<<(("+_r+"-"+mc+")>>1)",St],");")}function $n(){De(Wt,".drawArraysInstancedANGLE(",[tt,_t,kt,St],");")}ge?rn?qr():(De("if(",ge,"){"),qr(),De("}else{"),$n(),De("}")):$n()}function Or(){function qr(){De($e+".drawElements("+[tt,kt,_r,_t+"<<(("+_r+"-"+mc+")>>1)"]+");")}function $n(){De($e+".drawArrays("+[tt,_t,kt]+");")}ge?rn?qr():(De("if(",ge,"){"),qr(),De("}else{"),$n(),De("}")):$n()}$t&&(typeof St!="number"||St>=0)?typeof St=="string"?(De("if(",St,">0){"),br(),De("}else if(",St,"<0){"),Or(),De("}")):br():Or()}function Cn(xe,ne,De,qe,et){var $e=Fr(),Oe=$e.proc("body",et);return Y.optional(function(){$e.commandStr=ne.commandStr,$e.command=$e.link(ne.commandStr)}),$t&&($e.instancing=Oe.def($e.shared.extensions,".angle_instanced_arrays")),xe($e,Oe,De,qe),$e.compile().body}function On(xe,ne,De,qe){oa(xe,ne),De.useVAO?De.drawVAO?ne(xe.shared.vao,".setVAO(",De.drawVAO.append(xe,ne),");"):ne(xe.shared.vao,".setVAO(",xe.shared.vao,".targetVAO);"):(ne(xe.shared.vao,".setVAO(null);"),oo(xe,ne,De,qe.attributes,function(){return!0})),Yn(xe,ne,De,qe.uniforms,function(){return!0}),Dr(xe,ne,ne,De)}function sa(xe,ne){var De=xe.proc("draw",1);oa(xe,De),Fi(xe,De,ne.context),Aa(xe,De,ne.framebuffer),Fa(xe,De,ne),ao(xe,De,ne.state),tn(xe,De,ne,!1,!0);var qe=ne.shader.progVar.append(xe,De);if(De(xe.shared.gl,".useProgram(",qe,".program);"),ne.shader.program)On(xe,De,ne,ne.shader.program);else{De(xe.shared.vao,".setVAO(null);");var et=xe.global.def("{}"),$e=De.def(qe,".id"),Oe=De.def(et,"[",$e,"]");De(xe.cond(Oe).then(Oe,".call(this,a0);").else(Oe,"=",et,"[",$e,"]=",xe.link(function(je){return Cn(On,xe,ne,je,1)}),"(",qe,");",Oe,".call(this,a0);"))}Object.keys(ne.state).length>0&&De(xe.shared.current,".dirty=true;")}function au(xe,ne,De,qe){xe.batchId="a1",oa(xe,ne);function et(){return!0}oo(xe,ne,De,qe.attributes,et),Yn(xe,ne,De,qe.uniforms,et),Dr(xe,ne,ne,De)}function Yf(xe,ne,De,qe){oa(xe,ne);var et=De.contextDep,$e=ne.def(),Oe="a0",je="a1",pe=ne.def();xe.shared.props=pe,xe.batchId=$e;var Ie=xe.scope(),ge=xe.scope();ne(Ie.entry,"for(",$e,"=0;",$e,"<",je,";++",$e,"){",pe,"=",Oe,"[",$e,"];",ge,"}",Ie.exit);function Xe(_r){return _r.contextDep&&et||_r.propDep}function tt(_r){return!Xe(_r)}if(De.needsContext&&Fi(xe,ge,De.context),De.needsFramebuffer&&Aa(xe,ge,De.framebuffer),ao(xe,ge,De.state,Xe),De.profile&&Xe(De.profile)&&tn(xe,ge,De,!1,!0),qe)De.useVAO?De.drawVAO?Xe(De.drawVAO)?ge(xe.shared.vao,".setVAO(",De.drawVAO.append(xe,ge),");"):Ie(xe.shared.vao,".setVAO(",De.drawVAO.append(xe,Ie),");"):Ie(xe.shared.vao,".setVAO(",xe.shared.vao,".targetVAO);"):(Ie(xe.shared.vao,".setVAO(null);"),oo(xe,Ie,De,qe.attributes,tt),oo(xe,ge,De,qe.attributes,Xe)),Yn(xe,Ie,De,qe.uniforms,tt),Yn(xe,ge,De,qe.uniforms,Xe),Dr(xe,Ie,ge,De);else{var _t=xe.global.def("{}"),kt=De.shader.progVar.append(xe,ge),St=ge.def(kt,".id"),Wt=ge.def(_t,"[",St,"]");ge(xe.shared.gl,".useProgram(",kt,".program);","if(!",Wt,"){",Wt,"=",_t,"[",St,"]=",xe.link(function(_r){return Cn(au,xe,De,_r,2)}),"(",kt,");}",Wt,".call(this,a0[",$e,"],",$e,");")}}function we(xe,ne){var De=xe.proc("batch",2);xe.batchId="0",oa(xe,De);var qe=!1,et=!0;Object.keys(ne.context).forEach(function(_t){qe=qe||ne.context[_t].propDep}),qe||(Fi(xe,De,ne.context),et=!1);var $e=ne.framebuffer,Oe=!1;$e?($e.propDep?qe=Oe=!0:$e.contextDep&&qe&&(Oe=!0),Oe||Aa(xe,De,$e)):Aa(xe,De,null),ne.state.viewport&&ne.state.viewport.propDep&&(qe=!0);function je(_t){return _t.contextDep&&qe||_t.propDep}Fa(xe,De,ne),ao(xe,De,ne.state,function(_t){return!je(_t)}),(!ne.profile||!je(ne.profile))&&tn(xe,De,ne,!1,"a1"),ne.contextDep=qe,ne.needsContext=et,ne.needsFramebuffer=Oe;var pe=ne.shader.progVar;if(pe.contextDep&&qe||pe.propDep)Yf(xe,De,ne,null);else{var Ie=pe.append(xe,De);if(De(xe.shared.gl,".useProgram(",Ie,".program);"),ne.shader.program)Yf(xe,De,ne,ne.shader.program);else{De(xe.shared.vao,".setVAO(null);");var ge=xe.global.def("{}"),Xe=De.def(Ie,".id"),tt=De.def(ge,"[",Xe,"]");De(xe.cond(tt).then(tt,".call(this,a0,a1);").else(tt,"=",ge,"[",Xe,"]=",xe.link(function(_t){return Cn(Yf,xe,ne,_t,2)}),"(",Ie,");",tt,".call(this,a0,a1);"))}}Object.keys(ne.state).length>0&&De(xe.shared.current,".dirty=true;")}function vt(xe,ne){var De=xe.proc("scope",3);xe.batchId="a2";var qe=xe.shared,et=qe.current;Fi(xe,De,ne.context),ne.framebuffer&&ne.framebuffer.append(xe,De),qb(Object.keys(ne.state)).forEach(function(Oe){var je=ne.state[Oe],pe=je.append(xe,De);aa(pe)?pe.forEach(function(Ie,ge){De.set(xe.next[Oe],"["+ge+"]",Ie)}):De.set(qe.next,"."+Oe,pe)}),tn(xe,De,ne,!0,!0),[$f,sp,bc,lp,Nu].forEach(function(Oe){var je=ne.draw[Oe];!je||De.set(qe.draw,"."+Oe,""+je.append(xe,De))}),Object.keys(ne.uniforms).forEach(function(Oe){var je=ne.uniforms[Oe].append(xe,De);Array.isArray(je)&&(je="["+je.join()+"]"),De.set(qe.uniforms,"["+te.id(Oe)+"]",je)}),Object.keys(ne.attributes).forEach(function(Oe){var je=ne.attributes[Oe].append(xe,De),pe=xe.scopeAttrib(Oe);Object.keys(new Qe).forEach(function(Ie){De.set(pe,"."+Ie,je[Ie])})}),ne.scopeVAO&&De.set(qe.vao,".targetVAO",ne.scopeVAO.append(xe,De));function $e(Oe){var je=ne.shader[Oe];je&&De.set(qe.shader,"."+Oe,je.append(xe,De))}$e(vh),$e(zf),Object.keys(ne.state).length>0&&(De(et,".dirty=true;"),De.exit(et,".dirty=true;")),De("a1(",xe.shared.context,",a0,",xe.batchId,");")}function at(xe){if(!(typeof xe!="object"||aa(xe))){for(var ne=Object.keys(xe),De=0;De<ne.length;++De)if(ct.isDynamic(xe[ne[De]]))return!0;return!1}}function pr(xe,ne,De){var qe=ne.static[De];if(!qe||!at(qe))return;var et=xe.global,$e=Object.keys(qe),Oe=!1,je=!1,pe=!1,Ie=xe.global.def("{}");$e.forEach(function(Xe){var tt=qe[Xe];if(ct.isDynamic(tt)){typeof tt=="function"&&(tt=qe[Xe]=ct.unbox(tt));var _t=gs(tt,null);Oe=Oe||_t.thisDep,pe=pe||_t.propDep,je=je||_t.contextDep}else{switch(et(Ie,".",Xe,"="),typeof tt){case"number":et(tt);break;case"string":et('"',tt,'"');break;case"object":Array.isArray(tt)&&et("[",tt.join(),"]");break;default:et(xe.link(tt));break}et(";")}});function ge(Xe,tt){$e.forEach(function(_t){var kt=qe[_t];if(!!ct.isDynamic(kt)){var St=Xe.invoke(tt,kt);tt(Ie,".",_t,"=",St,";")}})}ne.dynamic[De]=new ct.DynamicVariable(Jv,{thisDep:Oe,contextDep:je,propDep:pe,ref:Ie,append:ge}),delete ne.static[De]}function yn(xe,ne,De,qe,et){var $e=Fr();$e.stats=$e.link(et),Object.keys(ne.static).forEach(function(je){pr($e,ne,je)}),wM.forEach(function(je){pr($e,xe,je)});var Oe=mi(xe,ne,De,qe,$e);return sa($e,Oe),vt($e,Oe),we($e,Oe),n($e.compile(),{destroy:function(){Oe.shader.program.destroy()}})}return{next:hr,current:Rt,procs:function(){var xe=Fr(),ne=xe.proc("poll"),De=xe.proc("refresh"),qe=xe.block();ne(qe),De(qe);var et=xe.shared,$e=et.gl,Oe=et.next,je=et.current;qe(je,".dirty=false;"),Aa(xe,ne),Aa(xe,De,null,!0);var pe;$t&&(pe=xe.link($t)),Te.oes_vertex_array_object&&De(xe.link(Te.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var Ie=0;Ie<ft.maxAttributes;++Ie){var ge=De.def(et.attributes,"[",Ie,"]"),Xe=xe.cond(ge,".buffer");Xe.then($e,".enableVertexAttribArray(",Ie,");",$e,".bindBuffer(",wc,",",ge,".buffer.buffer);",$e,".vertexAttribPointer(",Ie,",",ge,".size,",ge,".type,",ge,".normalized,",ge,".stride,",ge,".offset);").else($e,".disableVertexAttribArray(",Ie,");",$e,".vertexAttrib4f(",Ie,",",ge,".x,",ge,".y,",ge,".z,",ge,".w);",ge,".buffer=null;"),De(Xe),$t&&De(pe,".vertexAttribDivisorANGLE(",Ie,",",ge,".divisor);")}return De(xe.shared.vao,".currentVAO=null;",xe.shared.vao,".setVAO(",xe.shared.vao,".targetVAO);"),Object.keys(rr).forEach(function(tt){var _t=rr[tt],kt=qe.def(Oe,".",tt),St=xe.block();St("if(",kt,"){",$e,".enable(",_t,")}else{",$e,".disable(",_t,")}",je,".",tt,"=",kt,";"),De(St),ne("if(",kt,"!==",je,".",tt,"){",St,"}")}),Object.keys(Ft).forEach(function(tt){var _t=Ft[tt],kt=Rt[tt],St,Wt,_r=xe.block();if(_r($e,".",_t,"("),aa(kt)){var rn=kt.length;St=xe.global.def(Oe,".",tt),Wt=xe.global.def(je,".",tt),_r(Ke(rn,function(br){return St+"["+br+"]"}),");",Ke(rn,function(br){return Wt+"["+br+"]="+St+"["+br+"];"}).join("")),ne("if(",Ke(rn,function(br){return St+"["+br+"]!=="+Wt+"["+br+"]"}).join("||"),"){",_r,"}")}else St=qe.def(Oe,".",tt),Wt=qe.def(je,".",tt),_r(St,");",je,".",tt,"=",St,";"),ne("if(",St,"!==",Wt,"){",_r,"}");De(_r)}),xe.compile()}(),compile:yn}}function _C(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Zb=34918,kM=34919,Qb=35007,Bu=function(V,te){if(!te.ext_disjoint_timer_query)return null;var Te=[];function ft(){return Te.pop()||te.ext_disjoint_timer_query.createQueryEXT()}function Ct($t){Te.push($t)}var dt=[];function yt($t){var Qt=ft();te.ext_disjoint_timer_query.beginQueryEXT(Qb,Qt),dt.push(Qt),Ut(dt.length-1,dt.length,$t)}function Gt(){te.ext_disjoint_timer_query.endQueryEXT(Qb)}function Pt(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Yt=[];function Vt(){return Yt.pop()||new Pt}function Zt($t){Yt.push($t)}var or=[];function Ut($t,Qt,Rt){var hr=Vt();hr.startQueryIndex=$t,hr.endQueryIndex=Qt,hr.sum=0,hr.stats=Rt,or.push(hr)}var er=[],Qe=[];function bt(){var $t,Qt,Rt=dt.length;if(Rt!==0){Qe.length=Math.max(Qe.length,Rt+1),er.length=Math.max(er.length,Rt+1),er[0]=0,Qe[0]=0;var hr=0;for($t=0,Qt=0;Qt<dt.length;++Qt){var Lt=dt[Qt];te.ext_disjoint_timer_query.getQueryObjectEXT(Lt,kM)?(hr+=te.ext_disjoint_timer_query.getQueryObjectEXT(Lt,Zb),Ct(Lt)):dt[$t++]=Lt,er[Qt+1]=hr,Qe[Qt+1]=$t}for(dt.length=$t,$t=0,Qt=0;Qt<or.length;++Qt){var rr=or[Qt],Ft=rr.startQueryIndex,Jt=rr.endQueryIndex;rr.sum+=er[Jt]-er[Ft];var Ir=Qe[Ft],Vr=Qe[Jt];Vr===Ir?(rr.stats.gpuTime+=rr.sum/1e6,Zt(rr)):(rr.startQueryIndex=Ir,rr.endQueryIndex=Vr,or[$t++]=rr)}or.length=$t}}return{beginQuery:yt,endQuery:Gt,pushScopeStats:Ut,update:bt,getNumPendingQueries:function(){return dt.length},clear:function(){Te.push.apply(Te,dt);for(var $t=0;$t<Te.length;$t++)te.ext_disjoint_timer_query.deleteQueryEXT(Te[$t]);dt.length=0,Te.length=0},restore:function(){dt.length=0,Te.length=0}}},TC=16384,AC=256,MM=1024,kC=34962,MC="webglcontextlost",IC="webglcontextrestored",iu=1,Jb=2,ex=3;function Vm(V,te){for(var Te=0;Te<V.length;++Te)if(V[Te]===te)return Te;return-1}function Wm(V){var te=ze(V);if(!te)return null;var Te=te.gl,ft=Te.getContextAttributes(),Ct=Te.isContextLost(),dt=_e(Te,te);if(!dt)return null;var yt=ht(),Gt=_C(),Pt=dt.extensions,Yt=Bu(Te,Pt),Vt=Me(),Zt=Te.drawingBufferWidth,or=Te.drawingBufferHeight,Ut={tick:0,time:0,viewportWidth:Zt,viewportHeight:or,framebufferWidth:Zt,framebufferHeight:or,drawingBufferWidth:Zt,drawingBufferHeight:or,pixelRatio:te.pixelRatio},er={},Qe={elements:null,primitive:4,count:-1,offset:0,instances:-1},bt=ub(Te,Pt),$t=vo(Te,Gt,te,Rt),Qt=pM(Te,Pt,bt,Gt,$t);function Rt(Dr){return Qt.destroyBuffer(Dr)}var hr=Ji(Te,Pt,$t,Gt),Lt=mM(Te,yt,Gt,te),rr=Do(Te,Pt,bt,function(){Ir.procs.poll()},Ut,Gt,te),Ft=Jk(Te,Pt,bt,Gt,te),Jt=vM(Te,Pt,bt,rr,Ft,Gt),Ir=Hm(Te,yt,Pt,bt,$t,hr,rr,Jt,er,Qt,Lt,Qe,Ut,Yt,te),Vr=bM(Te,Jt,Ir.procs.poll,Ut,ft,Pt,bt),sr=Ir.next,qt=Te.canvas,Dt=[],Fr=[],Qr=[],mr=[te.onDestroy],mn=null;function Wr(){if(Dt.length===0){Yt&&Yt.update(),mn=null;return}mn=mt.next(Wr),ao();for(var Dr=Dt.length-1;Dr>=0;--Dr){var Cn=Dt[Dr];Cn&&Cn(Ut,null,0)}Te.flush(),Yt&&Yt.update()}function ln(){!mn&&Dt.length>0&&(mn=mt.next(Wr))}function Mn(){mn&&(mt.cancel(Wr),mn=null)}function ea(Dr){Dr.preventDefault(),Ct=!0,Mn(),Fr.forEach(function(Cn){Cn()})}function Ta(Dr){Te.getError(),Ct=!1,dt.restore(),Lt.restore(),$t.restore(),rr.restore(),Ft.restore(),Jt.restore(),Qt.restore(),Yt&&Yt.restore(),Ir.procs.refresh(),ln(),Qr.forEach(function(Cn){Cn()})}qt&&(qt.addEventListener(MC,ea,!1),qt.addEventListener(IC,Ta,!1));function Sn(){Dt.length=0,Mn(),qt&&(qt.removeEventListener(MC,ea),qt.removeEventListener(IC,Ta)),Lt.clear(),Jt.clear(),Ft.clear(),rr.clear(),hr.clear(),$t.clear(),Qt.clear(),Yt&&Yt.clear(),mr.forEach(function(Dr){Dr()})}function ta(Dr){Y(!!Dr,"invalid args to regl({...})"),Y.type(Dr,"object","invalid args to regl({...})");function Cn(et){var $e=n({},et);delete $e.uniforms,delete $e.attributes,delete $e.context,delete $e.vao,"stencil"in $e&&$e.stencil.op&&($e.stencil.opBack=$e.stencil.opFront=$e.stencil.op,delete $e.stencil.op);function Oe(je){if(je in $e){var pe=$e[je];delete $e[je],Object.keys(pe).forEach(function(Ie){$e[je+"."+Ie]=pe[Ie]})}}return Oe("blend"),Oe("depth"),Oe("cull"),Oe("stencil"),Oe("polygonOffset"),Oe("scissor"),Oe("sample"),"vao"in et&&($e.vao=et.vao),$e}function On(et,$e){var Oe={},je={};return Object.keys(et).forEach(function(pe){var Ie=et[pe];if(ct.isDynamic(Ie)){je[pe]=ct.unbox(Ie,pe);return}else if($e&&Array.isArray(Ie)){for(var ge=0;ge<Ie.length;++ge)if(ct.isDynamic(Ie[ge])){je[pe]=ct.unbox(Ie,pe);return}}Oe[pe]=Ie}),{dynamic:je,static:Oe}}var sa=On(Dr.context||{},!0),au=On(Dr.uniforms||{},!0),Yf=On(Dr.attributes||{},!1),we=On(Cn(Dr),!1),vt={gpuTime:0,cpuTime:0,count:0},at=Ir.compile(we,Yf,au,sa,vt),pr=at.draw,yn=at.batch,xe=at.scope,ne=[];function De(et){for(;ne.length<et;)ne.push(null);return ne}function qe(et,$e){var Oe;if(Ct&&Y.raise("context lost"),typeof et=="function")return xe.call(this,null,et,0);if(typeof $e=="function")if(typeof et=="number")for(Oe=0;Oe<et;++Oe)xe.call(this,null,$e,Oe);else if(Array.isArray(et))for(Oe=0;Oe<et.length;++Oe)xe.call(this,et[Oe],$e,Oe);else return xe.call(this,et,$e,0);else if(typeof et=="number"){if(et>0)return yn.call(this,De(et|0),et|0)}else if(Array.isArray(et)){if(et.length)return yn.call(this,et,et.length)}else return pr.call(this,et)}return n(qe,{stats:vt,destroy:function(){at.destroy()}})}var _i=Jt.setFBO=ta({framebuffer:ct.define.call(null,iu,"framebuffer")});function mi(Dr,Cn){var On=0;Ir.procs.poll();var sa=Cn.color;sa&&(Te.clearColor(+sa[0]||0,+sa[1]||0,+sa[2]||0,+sa[3]||0),On|=TC),"depth"in Cn&&(Te.clearDepth(+Cn.depth),On|=AC),"stencil"in Cn&&(Te.clearStencil(Cn.stencil|0),On|=MM),Y(!!On,"called regl.clear with no buffer specified"),Te.clear(On)}function Fi(Dr){if(Y(typeof Dr=="object"&&Dr,"regl.clear() takes an object as input"),"framebuffer"in Dr)if(Dr.framebuffer&&Dr.framebuffer_reglType==="framebufferCube")for(var Cn=0;Cn<6;++Cn)_i(n({framebuffer:Dr.framebuffer.faces[Cn]},Dr),mi);else _i(Dr,mi);else mi(null,Dr)}function Aa(Dr){Y.type(Dr,"function","regl.frame() callback must be a function"),Dt.push(Dr);function Cn(){var On=Vm(Dt,Dr);Y(On>=0,"cannot cancel a frame twice");function sa(){var au=Vm(Dt,sa);Dt[au]=Dt[Dt.length-1],Dt.length-=1,Dt.length<=0&&Mn()}Dt[On]=sa}return ln(),{cancel:Cn}}function Fa(){var Dr=sr.viewport,Cn=sr.scissor_box;Dr[0]=Dr[1]=Cn[0]=Cn[1]=0,Ut.viewportWidth=Ut.framebufferWidth=Ut.drawingBufferWidth=Dr[2]=Cn[2]=Te.drawingBufferWidth,Ut.viewportHeight=Ut.framebufferHeight=Ut.drawingBufferHeight=Dr[3]=Cn[3]=Te.drawingBufferHeight}function ao(){Ut.tick+=1,Ut.time=tn(),Fa(),Ir.procs.poll()}function oa(){rr.refresh(),Fa(),Ir.procs.refresh(),Yt&&Yt.update()}function tn(){return(Me()-Vt)/1e3}oa();function oo(Dr,Cn){Y.type(Cn,"function","listener callback must be a function");var On;switch(Dr){case"frame":return Aa(Cn);case"lost":On=Fr;break;case"restore":On=Qr;break;case"destroy":On=mr;break;default:Y.raise("invalid event, must be one of frame,lost,restore,destroy")}return On.push(Cn),{cancel:function(){for(var sa=0;sa<On.length;++sa)if(On[sa]===Cn){On[sa]=On[On.length-1],On.pop();return}}}}var Yn=n(ta,{clear:Fi,prop:ct.define.bind(null,iu),context:ct.define.bind(null,Jb),this:ct.define.bind(null,ex),draw:ta({}),buffer:function(Dr){return $t.create(Dr,kC,!1,!1)},elements:function(Dr){return hr.create(Dr,!1)},texture:rr.create2D,cube:rr.createCube,renderbuffer:Ft.create,framebuffer:Jt.create,framebufferCube:Jt.createCube,vao:Qt.createVAO,attributes:ft,frame:Aa,on:oo,limits:bt,hasExtension:function(Dr){return bt.extensions.indexOf(Dr.toLowerCase())>=0},read:Vr,destroy:Sn,_gl:Te,_refresh:oa,poll:function(){ao(),Yt&&Yt.update()},now:tn,stats:Gt});return te.onDone(null,Yn),Yn}return Wm})}),H5e=function(){function r(t,e){Rr(this,r),this.attribute=void 0,this.buffer=void 0;var n=e.buffer,i=e.offset,a=e.stride,o=e.normalized,s=e.size,l=e.divisor;this.buffer=n,this.attribute={buffer:n.get(),offset:i||0,stride:a||0,normalized:o||!1,divisor:l||0},s&&(this.attribute.size=s)}return Yr(r,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),r}(),td,kx,rd,cu,Mx,Dh,Ix,HE,Ic,Mp,es,Pc,Rc,VE,V5e=(td={},Mt(td,Je.POINTS,"points"),Mt(td,Je.LINES,"lines"),Mt(td,Je.LINE_LOOP,"line loop"),Mt(td,Je.LINE_STRIP,"line strip"),Mt(td,Je.TRIANGLES,"triangles"),Mt(td,Je.TRIANGLE_FAN,"triangle fan"),Mt(td,Je.TRIANGLE_STRIP,"triangle strip"),td),bee=(kx={},Mt(kx,Je.STATIC_DRAW,"static"),Mt(kx,Je.DYNAMIC_DRAW,"dynamic"),Mt(kx,Je.STREAM_DRAW,"stream"),kx),EN=(rd={},Mt(rd,Je.BYTE,"int8"),Mt(rd,Je.UNSIGNED_INT,"int16"),Mt(rd,Je.INT,"int32"),Mt(rd,Je.UNSIGNED_BYTE,"uint8"),Mt(rd,Je.UNSIGNED_SHORT,"uint16"),Mt(rd,Je.UNSIGNED_INT,"uint32"),Mt(rd,Je.FLOAT,"float"),rd),W5e=(cu={},Mt(cu,Je.ALPHA,"alpha"),Mt(cu,Je.LUMINANCE,"luminance"),Mt(cu,Je.LUMINANCE_ALPHA,"luminance alpha"),Mt(cu,Je.RGB,"rgb"),Mt(cu,Je.RGBA,"rgba"),Mt(cu,Je.RGBA4,"rgba4"),Mt(cu,Je.RGB5_A1,"rgb5 a1"),Mt(cu,Je.RGB565,"rgb565"),Mt(cu,Je.DEPTH_COMPONENT,"depth"),Mt(cu,Je.DEPTH_STENCIL,"depth stencil"),cu),j5e=(Mx={},Mt(Mx,Je.DONT_CARE,"dont care"),Mt(Mx,Je.NICEST,"nice"),Mt(Mx,Je.FASTEST,"fast"),Mx),ZU=(Dh={},Mt(Dh,Je.NEAREST,"nearest"),Mt(Dh,Je.LINEAR,"linear"),Mt(Dh,Je.LINEAR_MIPMAP_LINEAR,"mipmap"),Mt(Dh,Je.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),Mt(Dh,Je.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),Mt(Dh,Je.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),Dh),QU=(Ix={},Mt(Ix,Je.REPEAT,"repeat"),Mt(Ix,Je.CLAMP_TO_EDGE,"clamp"),Mt(Ix,Je.MIRRORED_REPEAT,"mirror"),Ix),Y5e=(HE={},Mt(HE,Je.NONE,"none"),Mt(HE,Je.BROWSER_DEFAULT_WEBGL,"browser"),HE),X5e=(Ic={},Mt(Ic,Je.NEVER,"never"),Mt(Ic,Je.ALWAYS,"always"),Mt(Ic,Je.LESS,"less"),Mt(Ic,Je.LEQUAL,"lequal"),Mt(Ic,Je.GREATER,"greater"),Mt(Ic,Je.GEQUAL,"gequal"),Mt(Ic,Je.EQUAL,"equal"),Mt(Ic,Je.NOTEQUAL,"notequal"),Ic),JU=(Mp={},Mt(Mp,Je.FUNC_ADD,"add"),Mt(Mp,Je.MIN_EXT,"min"),Mt(Mp,Je.MAX_EXT,"max"),Mt(Mp,Je.FUNC_SUBTRACT,"subtract"),Mt(Mp,Je.FUNC_REVERSE_SUBTRACT,"reverse subtract"),Mp),WE=(es={},Mt(es,Je.ZERO,"zero"),Mt(es,Je.ONE,"one"),Mt(es,Je.SRC_COLOR,"src color"),Mt(es,Je.ONE_MINUS_SRC_COLOR,"one minus src color"),Mt(es,Je.SRC_ALPHA,"src alpha"),Mt(es,Je.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),Mt(es,Je.DST_COLOR,"dst color"),Mt(es,Je.ONE_MINUS_DST_COLOR,"one minus dst color"),Mt(es,Je.DST_ALPHA,"dst alpha"),Mt(es,Je.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),Mt(es,Je.CONSTANT_COLOR,"constant color"),Mt(es,Je.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),Mt(es,Je.CONSTANT_ALPHA,"constant alpha"),Mt(es,Je.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),Mt(es,Je.SRC_ALPHA_SATURATE,"src alpha saturate"),es),q5e=(Pc={},Mt(Pc,Je.NEVER,"never"),Mt(Pc,Je.ALWAYS,"always"),Mt(Pc,Je.LESS,"less"),Mt(Pc,Je.LEQUAL,"lequal"),Mt(Pc,Je.GREATER,"greater"),Mt(Pc,Je.GEQUAL,"gequal"),Mt(Pc,Je.EQUAL,"equal"),Mt(Pc,Je.NOTEQUAL,"notequal"),Pc),fy=(Rc={},Mt(Rc,Je.ZERO,"zero"),Mt(Rc,Je.KEEP,"keep"),Mt(Rc,Je.REPLACE,"replace"),Mt(Rc,Je.INVERT,"invert"),Mt(Rc,Je.INCR,"increment"),Mt(Rc,Je.DECR,"decrement"),Mt(Rc,Je.INCR_WRAP,"increment wrap"),Mt(Rc,Je.DECR_WRAP,"decrement wrap"),Rc),K5e=(VE={},Mt(VE,Je.FRONT,"front"),Mt(VE,Je.BACK,"back"),VE),Z5e=function(){function r(t,e){Rr(this,r),this.buffer=void 0;var n=e.data,i=e.usage,a=e.type;this.buffer=t.buffer({data:n,usage:bee[i||Je.STATIC_DRAW],type:EN[a||Je.UNSIGNED_BYTE]})}return Yr(r,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(e){var n=e.data,i=e.offset;this.buffer.subdata(n,i)}}]),r}();function Q5e(r){if(Array.isArray(r))return qD(r)}function J5e(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function eze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Za(r){return Q5e(r)||J5e(r)||ZJ(r)||eze()}var tze=9007199254740991,rze="[object Arguments]",nze="[object Array]",ize="[object Boolean]",aze="[object Date]",oze="[object Error]",sze="[object Function]",lze="[object Map]",uze="[object Number]",cze="[object Object]",fze="[object RegExp]",dze="[object Set]",hze="[object String]",vze="[object WeakMap]",pze="[object ArrayBuffer]",gze="[object DataView]",mze="[object Float32Array]",yze="[object Float64Array]",bze="[object Int8Array]",xze="[object Int16Array]",wze="[object Int32Array]",Sze="[object Uint8Array]",Cze="[object Uint8ClampedArray]",Eze="[object Uint16Array]",_ze="[object Uint32Array]",ha={};ha[mze]=ha[yze]=ha[bze]=ha[xze]=ha[wze]=ha[Sze]=ha[Cze]=ha[Eze]=ha[_ze]=!0;ha[rze]=ha[nze]=ha[pze]=ha[ize]=ha[gze]=ha[aze]=ha[oze]=ha[sze]=ha[lze]=ha[uze]=ha[cze]=ha[fze]=ha[dze]=ha[hze]=ha[vze]=!1;var Tze=Object.prototype,Aze=Tze.toString;function kze(r){return Ize(r)&&Mze(r.length)&&!!ha[Aze.call(r)]}function Mze(r){return typeof r=="number"&&r>-1&&r%1===0&&r<=tze}function Ize(r){return!!r&&Dd(r)==="object"}var nO=kze;function eH(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function tH(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?eH(Object(e),!0).forEach(function(n){Mt(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):eH(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}var Pze=`attribute vec3 a_Position;
attribute vec2 a_TexCoord;

varying vec2 v_TexCoord;

void main() {
  gl_Position = vec4(a_Position, 1.0);
  v_TexCoord = a_TexCoord;
}`,rH=0,Rze=function(){function r(t,e){var n=this;Rr(this,r),this.reGl=t,this.context=e,this.entity=Yc(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var i={};this.context.uniforms.forEach(function(u){var c=u.name,f=u.type,d=u.data,h=u.isReferer,v=u.storageClass;if(v===xv.StorageBuffer){if(h)n.textureCache[c]={data:void 0},i["".concat(c,"Size")]=function(){return d.compiledBundle.context.output.textureSize};else{n.textureCache[c]=n.calcDataTexture(c,f,d);var p=n.textureCache[c],g=p.textureWidth,m=p.isOutput;i["".concat(c,"Size")]=[g,g],m&&(n.outputTextureName=c,n.context.needPingpong&&(n.outputTextureName="".concat(c,"Output"),n.textureCache[n.outputTextureName]=n.calcDataTexture(c,f,d)))}i[c]=function(){return n.textureCache[c].texture}}else if(v===xv.Uniform){if(d&&(Array.isArray(d)||nO(d))&&d.length>16)throw new Error("invalid data type ".concat(f));i[c]=function(){return u.data}}});var a=this.getOuputDataTexture(),o=a.textureWidth,s=a.texelCount;i.u_OutputTextureSize=[o,o],i.u_OutputTexelCount=s,this.context.output.textureSize=[o,o];var l={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(this.context.shader),uniforms:i,vert:Pze,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(l)}return Yr(r,[{key:"run",value:function(){var e=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){e.computeCommand()})}},{key:"readData",value:function(){var t=ii(kr.mark(function n(){var i=this,a,o,s,l,u,c,f,d;return kr.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){a=i.reGl.read()}),!a){v.next=6;break}if(o=this.getOuputDataTexture(),s=o.originalDataLength,l=o.elementsPerTexel,u=o.typedArrayConstructor,c=u===void 0?Float32Array:u,f=[],l!==4)for(d=0;d<a.length;d+=4)l===1?f.push(a[d]):l===2?f.push(a[d],a[d+1]):f.push(a[d],a[d+1],a[d+2]);else f=a;return v.abrupt("return",new c(f.slice(0,s)));case 6:return v.abrupt("return",new Float32Array);case 7:case"end":return v.stop()}},n,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"confirmInput",value:function(e,n){var i;this.entity===e.entity?(this.dynamicPingpong=!0,i=this):i=e,this.textureCache[n].id=i.getOuputDataTexture().id,this.textureCache[n].texture=i.getOuputDataTexture().texture}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(e,n){var i=this.context.uniforms.find(function(l){var u=l.name;return u===e});if(i){var a=this.calcDataTexture(e,i.type,n),o=a.texture,s=a.data;this.textureCache[e].data=s,this.textureCache[e].texture=o}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var e=this.context.output.name;this.textureCache[e].id=this.getOuputDataTexture().id,this.textureCache[e].texture=this.getOuputDataTexture().texture}var n=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=n}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var e=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=e}},{key:"cloneDataTexture",value:function(e){var n=e.data,i=e.textureWidth;return tH(tH({},e),{},{id:rH++,texture:this.reGl.texture({width:i,height:i,data:n,type:"float"})})}},{key:"calcDataTexture",value:function(e,n,i){var a=1;n===Rg.Vector4FloatArray&&(a=4);for(var o=[],s=0;s<i.length;s+=a)a===1?o.push(i[s],0,0,0):a===2?o.push(i[s],i[s+1],0,0):a===3?o.push(i[s],i[s+1],i[s+2],0):a===4&&o.push(i[s],i[s+1],i[s+2],i[s+3]);var l=i.length,u=Math.ceil(l/a),c=Math.ceil(Math.sqrt(u)),f=c*c;u<f&&o.push.apply(o,Za(new Array((f-u)*4).fill(0)));var d=this.reGl.texture({width:c,height:c,data:o,type:"float"});return{id:rH++,data:o,originalDataLength:l,typedArrayConstructor:nO(i)?i.constructor:void 0,textureWidth:c,texture:d,texelCount:u,elementsPerTexel:a,isOutput:e===this.context.output.name}}}]),r}(),Dze=function(){function r(t,e){Rr(this,r),this.elements=void 0;var n=e.data,i=e.usage,a=e.type,o=e.count;this.elements=t.elements({data:n,usage:bee[i||Je.STATIC_DRAW],type:EN[a||Je.UNSIGNED_BYTE],count:o})}return Yr(r,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(e){var n=e.data;this.elements.subdata(n)}},{key:"destroy",value:function(){this.elements.destroy()}}]),r}(),Oze=function(){function r(t,e){Rr(this,r),this.framebuffer=void 0;var n=e.width,i=e.height,a=e.color,o=e.colors;e.depth,e.stencil;var s={width:n,height:i};Array.isArray(o)&&(s.colors=o.map(function(l){return l.get()})),a&&typeof a!="boolean"&&(s.color=a.get()),this.framebuffer=t.framebuffer(s)}return Yr(r,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(e){var n=e.width,i=e.height;this.framebuffer.resize(n,i)}}]),r}();function Lze(r){var t=Dd(r);return r!=null&&(t==="object"||t==="function")}function L1(r){var t={};return Object.keys(r).forEach(function(e){iO(e,r[e],t,"")}),t}function iO(r,t,e,n){if(t===null||typeof t=="number"||typeof t=="boolean"||Array.isArray(t)&&typeof t[0]=="number"||nO(t)||t===""||t.resize!==void 0){e["".concat(n&&n+".").concat(r)]=t;return}Lze(t)&&Object.keys(t).forEach(function(i){iO(i,t[i],e,"".concat(n&&n+".").concat(r))}),Array.isArray(t)&&t.forEach(function(i,a){Object.keys(i).forEach(function(o){iO(o,i[o],e,"".concat(n&&n+".").concat(r,"[").concat(a,"]"))})})}function nH(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function dy(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?nH(Object(e),!0).forEach(function(n){Mt(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):nH(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}var Fze=function(){function r(t,e){Rr(this,r),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=t;var n=e.vs,i=e.fs,a=e.defines,o=e.attributes,s=e.uniforms,l=e.primitive,u=e.count,c=e.elements,f=e.depth,d=e.blend,h=e.stencil,v=e.cull,p=e.instances,g=e.scissor,m=e.viewport,y={};s&&(this.uniforms=L1(s),Object.keys(s).forEach(function(E){y[E]=t.prop(E)}));var b={};Object.keys(o).forEach(function(E){b[E]=o[E].get()});var w=a&&this.generateDefines(a)||"",S={attributes:b,frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(w,`
`).concat(i),uniforms:y,vert:`
`.concat(w,`
`).concat(n),primitive:V5e[l===void 0?Je.TRIANGLES:l]};p&&(S.instances=p),u&&(S.count=u),c&&(S.elements=c.get()),g&&(S.scissor=g),m&&(S.viewport=m),this.initDepthDrawParams({depth:f},S),this.initBlendDrawParams({blend:d},S),this.initStencilDrawParams({stencil:h},S),this.initCullDrawParams({cull:v},S),this.drawCommand=t(S)}return Yr(r,[{key:"addUniforms",value:function(e){this.uniforms=dy(dy({},this.uniforms),L1(e))}},{key:"draw",value:function(e){var n=dy(dy({},this.uniforms),L1(e.uniforms||{})),i={};Object.keys(n).forEach(function(a){var o=Dd(n[a]);o==="boolean"||o==="number"||Array.isArray(n[a])||n[a].BYTES_PER_ELEMENT?i[a]=n[a]:o==="string"||(i[a]=n[a].get())}),this.drawCommand(i)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(e,n){var i=e.depth;i&&(n.depth={enable:i.enable===void 0?!0:!!i.enable,mask:i.mask===void 0?!0:!!i.mask,func:X5e[i.func||Je.LESS],range:i.range||[0,1]})}},{key:"initBlendDrawParams",value:function(e,n){var i=e.blend;if(i){var a=i.enable,o=i.func,s=i.equation,l=i.color,u=l===void 0?[0,0,0,0]:l;n.blend={enable:!!a,func:{srcRGB:WE[o&&o.srcRGB||Je.SRC_ALPHA],srcAlpha:WE[o&&o.srcAlpha||Je.SRC_ALPHA],dstRGB:WE[o&&o.dstRGB||Je.ONE_MINUS_SRC_ALPHA],dstAlpha:WE[o&&o.dstAlpha||Je.ONE_MINUS_SRC_ALPHA]},equation:{rgb:JU[s&&s.rgb||Je.FUNC_ADD],alpha:JU[s&&s.alpha||Je.FUNC_ADD]},color:u}}}},{key:"initStencilDrawParams",value:function(e,n){var i=e.stencil;if(i){var a=i.enable,o=i.mask,s=o===void 0?-1:o,l=i.func,u=l===void 0?{cmp:Je.ALWAYS,ref:0,mask:-1}:l,c=i.opFront,f=c===void 0?{fail:Je.KEEP,zfail:Je.KEEP,zpass:Je.KEEP}:c,d=i.opBack,h=d===void 0?{fail:Je.KEEP,zfail:Je.KEEP,zpass:Je.KEEP}:d;n.stencil={enable:!!a,mask:s,func:dy(dy({},u),{},{cmp:q5e[u.cmp]}),opFront:{fail:fy[f.fail],zfail:fy[f.zfail],zpass:fy[f.zpass]},opBack:{fail:fy[h.fail],zfail:fy[h.zfail],zpass:fy[h.zpass]}}}}},{key:"initCullDrawParams",value:function(e,n){var i=e.cull;if(i){var a=i.enable,o=i.face,s=o===void 0?Je.BACK:o;n.cull={enable:!!a,face:K5e[s]}}}},{key:"generateDefines",value:function(e){return Object.keys(e).map(function(n){return"#define ".concat(n," ").concat(Number(e[n]))}).join(`
`)}}]),r}(),Nze=function(){function r(t,e){Rr(this,r),this.texture=void 0,this.width=void 0,this.height=void 0;var n=e.data,i=e.type,a=i===void 0?Je.UNSIGNED_BYTE:i,o=e.width,s=e.height,l=e.flipY,u=l===void 0?!1:l,c=e.format,f=c===void 0?Je.RGBA:c,d=e.mipmap,h=d===void 0?!1:d,v=e.wrapS,p=v===void 0?Je.CLAMP_TO_EDGE:v,g=e.wrapT,m=g===void 0?Je.CLAMP_TO_EDGE:g,y=e.aniso,b=y===void 0?0:y,w=e.alignment,S=w===void 0?1:w,E=e.premultiplyAlpha,_=E===void 0?!1:E,A=e.mag,k=A===void 0?Je.NEAREST:A,T=e.min,I=T===void 0?Je.NEAREST:T,D=e.colorSpace,O=D===void 0?Je.BROWSER_DEFAULT_WEBGL:D;this.width=o,this.height=s;var B={width:o,height:s,type:EN[a],format:W5e[f],wrapS:QU[p],wrapT:QU[m],mag:ZU[k],min:ZU[I],alignment:S,flipY:u,colorSpace:Y5e[O],premultiplyAlpha:_,aniso:b};n&&(B.data=n),typeof h=="number"?B.mipmap=j5e[h]:typeof h=="boolean"&&(B.mipmap=h),this.texture=t.texture(B)}return Yr(r,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(e){var n=e.width,i=e.height;this.texture.resize(n,i),this.width=n,this.height=i}},{key:"destroy",value:function(){this.texture.destroy()}}]),r}(),iH,aH,oH,Bze=(iH=gi(),iH(aH=(oH=function(){function r(){var t=this;Rr(this,r),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var e=ii(kr.mark(function n(i){return kr.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!i.uniforms){o.next=3;break}return o.next=3,Promise.all(Object.keys(i.uniforms).map(function(){var s=ii(kr.mark(function l(u){var c;return kr.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(i.uniforms[u]&&i.uniforms[u].load!==void 0)){d.next=5;break}return d.next=3,i.uniforms[u].load();case 3:c=d.sent,i.uniforms[u]=c;case 5:case"end":return d.stop()}},l)}));return function(l){return s.apply(this,arguments)}}()));case 3:return o.abrupt("return",new Fze(t.gl,i));case 4:case"end":return o.stop()}},n)}));return function(n){return e.apply(this,arguments)}}(),this.createAttribute=function(e){return new H5e(t.gl,e)},this.createBuffer=function(e){return new Z5e(t.gl,e)},this.createElements=function(e){return new Dze(t.gl,e)},this.createTexture2D=function(e){return new Nze(t.gl,e)},this.createFramebuffer=function(e){return new Oze(t.gl,e)},this.useFramebuffer=function(e,n){t.gl({framebuffer:e?e.get():null})(n)},this.createComputeModel=function(){var e=ii(kr.mark(function n(i){return kr.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",new Rze(t.gl,i));case 1:case"end":return o.stop()}},n)}));return function(n){return e.apply(this,arguments)}}(),this.clear=function(e){var n=e.color,i=e.depth,a=e.stencil,o=e.framebuffer,s=o===void 0?null:o,l={color:n,depth:i,stencil:a};l.framebuffer=s===null?s:s.get(),t.gl.clear(l)},this.setScissor=function(e){t.gl&&t.gl._gl&&(e.enable&&e.box?(t.gl._gl.enable(Je.SCISSOR_TEST),t.gl._gl.scissor(e.box.x,e.box.y,e.box.width,e.box.height)):t.gl._gl.disable(Je.SCISSOR_TEST),t.gl._refresh())},this.viewport=function(e){var n=e.x,i=e.y,a=e.width,o=e.height;t.gl&&t.gl._gl&&(t.gl._gl.viewport(n,i,a,o),t.gl._refresh())},this.readPixels=function(e){var n=e.framebuffer,i=e.x,a=e.y,o=e.width,s=e.height,l={x:i,y:a,width:o,height:s};return n&&(l.framebuffer=n.get()),t.gl.read(l)},this.getCanvas=function(){return t.$canvas},this.getGLContext=function(){return t.gl._gl},this.destroy=function(){t.gl&&(t.gl.destroy(),t.inited=!1)}}return Yr(r,[{key:"init",value:function(){var t=ii(kr.mark(function n(i){return kr.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!this.inited){o.next=2;break}return o.abrupt("return");case 2:return this.$canvas=i.canvas,o.next=5,new Promise(function(s,l){U5e({canvas:i.canvas,attributes:{alpha:!0,antialias:i.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(c,f){(c||!f)&&l(c),s(f)}})});case 5:this.gl=o.sent,this.inited=!0;case 7:case"end":return o.stop()}},n,this)}));function e(n){return t.apply(this,arguments)}return e}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),r}(),oH))||aH);function zze(){return typeof window!="undefined"}function $ze(r,t,e,n){if(!!zze()){var i=document.getElementsByTagName("head")[0],a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("src",r),n&&(a.id=n),a.onload=function(){t&&t()},a.onerror=function(o){e&&e("Unable to load script '".concat(r,"'"),o)},i.appendChild(a)}}function Gze(r,t){return new Promise(function(e,n){$ze(r,function(){e()},function(i,a){n(a)})})}var jE;function Uze(){return aO.apply(this,arguments)}function aO(){return aO=ii(kr.mark(function r(){return kr.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!jE){e.next=2;break}return e.abrupt("return",jE);case 2:return e.next=4,Gze("https://preview.babylonjs.com/glslang/glslang.js");case 4:return jE=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),e.abrupt("return",jE);case 6:case"end":return e.stop()}},r)})),aO.apply(this,arguments)}var Hze=function(){function r(t,e){Rr(this,r),this.engine=t,this.options=e,this.attribute=void 0,this.buffer=void 0;var n=e,i=n.buffer,a=n.offset,o=n.stride,s=n.normalized,l=n.size,u=n.divisor,c=n.arrayStride,f=n.attributes,d=n.stepMode;this.buffer=i,this.attribute={buffer:i.get(),offset:a||0,stride:o||0,normalized:s||!1,divisor:u||0,arrayStride:c||0,attributes:f,stepMode:d||"vertex"},l&&(this.attribute.size=l)}return Yr(r,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),r}(),qy=function(){function r(t,e){Rr(this,r),this.engine=t,this.options=e,this.buffer=void 0;var n=e,i=n.data,a=n.usage;n.type,this.buffer=this.createBuffer(i instanceof Array?new Float32Array(i):i,a||tl.Vertex|tl.CopyDst)}return Yr(r,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(e){var n=e.data,i=e.offset;this.setSubData(this.buffer,i,n instanceof Array?new Float32Array(n):n)}},{key:"createBuffer",value:function(e,n){var i=e.byteLength%4,a={size:e.byteLength+i,usage:n},o=this.engine.device.createBuffer(a);return this.setSubData(o,0,e),o}},{key:"setSubData",value:function(e,n,i){var a=el?this.engine.device.getQueue():this.engine.device.defaultQueue;a.writeBuffer(e,n,i)}}]),r}();function Vze(r){return typeof r=="number"}var Wze=function(){function r(t,e){Rr(this,r),this.engine=t,this.context=e,this.entity=Yc(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return Yr(r,[{key:"init",value:function(){var t=ii(kr.mark(function n(){var i=this,a,o,s,l,u,c,f;return kr.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:a=h.sent,o=a.computeStage,s=this.context.uniforms.filter(function(v){return v.storageClass===xv.StorageBuffer}),l=this.context.uniforms.filter(function(v){return v.storageClass===xv.Uniform}),u=l.length?1:0,this.bindGroupEntries=[],u&&(c=0,f=[],l.forEach(function(v){if(Vze(v.data))i.uniformGPUBufferLayout.push({name:v.name,offset:c}),c+=4,f.push(v.data);else{var p,g=((p=v.data)===null||p===void 0?void 0:p.length)||1;g===3&&(g=4,v.data.push(0));var m=c/4%4;if(m>0){var y=4-m;if(g>1&&g<=y)g===2&&(y===3&&(c+=4,f.push(0)),f.push.apply(f,Za(v.data)),i.uniformGPUBufferLayout.push({name:v.name,offset:c}));else{for(var b=0;b<y;b++)c+=4,f.push(0);f.push.apply(f,Za(v.data)),i.uniformGPUBufferLayout.push({name:v.name,offset:c})}}c+=4*g}}),this.uniformBuffer=new qy(this.engine,{data:f instanceof Array?new Float32Array(f):f,usage:tl.Uniform|tl.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),s.forEach(function(v){if(v.data!==null&&(v.type===Rg.Vector4FloatArray||v.type===Rg.FloatArray)){var p;v.name===i.context.output.name?(p=new qy(i.engine,{data:isFinite(Number(v.data))?[v.data]:v.data,usage:tl.Storage|tl.CopyDst|tl.CopySrc}),i.outputBuffer=p,i.context.output={name:v.name,length:isFinite(Number(v.data))?1:v.data.length,typedArrayConstructor:Float32Array,gpuBuffer:p.get()}):v.isReferer?v.data.model&&v.data.model.outputBuffer&&(p=v.data.model.outputBuffer):p=new qy(i.engine,{data:isFinite(Number(v.data))?[v.data]:v.data,usage:tl.Storage|tl.CopyDst|tl.CopySrc}),i.vertexBuffers[v.name]=p,i.bindGroupEntries.push({binding:u,resource:{name:v.name,refer:p?void 0:v.data,buffer:p?p.get():void 0}}),u++}}),this.computePipeline=this.engine.device.createComputePipeline({computeStage:o}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return h.stop()}},n,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"destroy",value:function(){var e=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach(function(n){return e.vertexBuffers[n].destroy()})}},{key:"readData",value:function(){var t=ii(kr.mark(function n(){var i,a,o,s,l,u,c,f,d,h;return kr.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(i=this.context.output,!i){p.next=16;break}if(a=i.length,o=i.typedArrayConstructor,s=i.gpuBuffer,!s){p.next=16;break}return l=a*o.BYTES_PER_ELEMENT,u=this.engine.device.createBuffer({size:l,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),c=this.engine.device.createCommandEncoder(),c.copyBufferToBuffer(s,0,u,0,l),f=el?this.engine.device.getQueue():this.engine.device.defaultQueue,f.submit([c.finish()]),p.next=12,u.mapAsync(l5e.Read);case 12:return d=u.getMappedRange(),h=new o(d.slice(0)),u.unmap(),p.abrupt("return",h);case 16:return p.abrupt("return",new Float32Array);case 17:case"end":return p.stop()}},n,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"run",value:function(){if(this.engine.currentComputePass){var e;this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(e=this.engine.currentComputePass).dispatch.apply(e,Za(this.context.dispatch))}}},{key:"updateBuffer",value:function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=this.vertexBuffers[e];a&&a.subData({data:n,offset:i})}},{key:"updateUniform",value:function(e,n){var i=this.uniformGPUBufferLayout.find(function(a){return a.name===e});i&&this.uniformBuffer.subData({data:Number.isFinite(n)?new Float32Array([n]):new Float32Array(n),offset:i.offset})}},{key:"confirmInput",value:function(e,n){var i=this.vertexBuffers[n],a=e.outputBuffer;if(i&&a&&i!==a){var o=this.engine.device.createCommandEncoder(),s=e.context.output,l=s.length,u=s.typedArrayConstructor,c=l*u.BYTES_PER_ELEMENT;o.copyBufferToBuffer(a.get(),0,i.get(),0,c);var f=el?this.engine.device.getQueue():this.engine.device.defaultQueue;f.submit([o.finish()])}}},{key:"compileShaderToSpirV",value:function(e,n,i){return this.compileRawShaderToSpirV(i+e,n)}},{key:"compileRawShaderToSpirV",value:function(e,n){return this.engine.glslang.compileGLSL(e,n)}},{key:"compileComputePipelineStageDescriptor",value:function(){var t=ii(kr.mark(function n(i){var a,o;return kr.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(a=i,o=`#version 450
`,this.engine.options.useWGSL){l.next=6;break}return l.next=5,this.compileShaderToSpirV(i,"compute",o);case 5:a=l.sent;case 6:return l.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:a,isWHLSL:el}),entryPoint:"main"}});case 7:case"end":return l.stop()}},n,this)}));function e(n){return t.apply(this,arguments)}return e}()}]),r}(),jze=function(){function r(t,e){Rr(this,r),this.engine=t,this.options=e,this.indexCount=void 0,this.buffer=void 0;var n=e,i=n.data;n.usage,n.type;var a=n.count;this.indexCount=a||0,this.buffer=new qy(t,{data:i instanceof Array?new Uint16Array(i):i,usage:tl.Index|tl.CopyDst})}return Yr(r,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),r}(),Yze=function(){function r(t,e){Rr(this,r),this.engine=t,this.options=e,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var n=e;n.width,n.height;var i=n.color;n.colors;var a=n.depth;n.stencil,i&&(this.colorTexture=i),a&&(this.depthTexture=a)}return Yr(r,[{key:"get",value:function(){var e,n;return{color:(e=this.colorTexture)===null||e===void 0?void 0:e.get(),depth:(n=this.depthTexture)===null||n===void 0?void 0:n.get()}}},{key:"destroy",value:function(){var e,n;(e=this.colorTexture)===null||e===void 0||e.destroy(),(n=this.depthTexture)===null||n===void 0||n.destroy()}},{key:"resize",value:function(e){var n=e.width,i=e.height;if(n!==this.width||i!==this.height){var a,o;(a=this.colorTexture)===null||a===void 0||a.resize({width:n,height:i}),(o=this.depthTexture)===null||o===void 0||o.resize({width:n,height:i})}this.width=n,this.height=i}}]),r}(),nd,Dc,Ip,Ms,hy,YE,Px,Xze=(nd={},Mt(nd,Je.POINTS,Ap.PointList),Mt(nd,Je.LINES,Ap.LineList),Mt(nd,Je.LINE_LOOP,Ap.LineList),Mt(nd,Je.LINE_STRIP,Ap.LineStrip),Mt(nd,Je.TRIANGLES,Ap.TriangleList),Mt(nd,Je.TRIANGLE_FAN,Ap.TriangleList),Mt(nd,Je.TRIANGLE_STRIP,Ap.TriangleStrip),nd),qze=(Dc={},Mt(Dc,Je.NEVER,sd.Never),Mt(Dc,Je.ALWAYS,sd.Always),Mt(Dc,Je.LESS,sd.Less),Mt(Dc,Je.LEQUAL,sd.LessEqual),Mt(Dc,Je.GREATER,sd.Greater),Mt(Dc,Je.GEQUAL,sd.GreaterEqual),Mt(Dc,Je.EQUAL,sd.Equal),Mt(Dc,Je.NOTEQUAL,sd.NotEqual),Dc),sH=(Ip={},Mt(Ip,Je.FUNC_ADD,Ax.Add),Mt(Ip,Je.MIN_EXT,Ax.Min),Mt(Ip,Je.MAX_EXT,Ax.Max),Mt(Ip,Je.FUNC_SUBTRACT,Ax.Subtract),Mt(Ip,Je.FUNC_REVERSE_SUBTRACT,Ax.ReverseSubtract),Ip),XE=(Ms={},Mt(Ms,Je.ZERO,Ml.Zero),Mt(Ms,Je.ONE,Ml.One),Mt(Ms,Je.SRC_COLOR,Ml.SrcColor),Mt(Ms,Je.ONE_MINUS_SRC_COLOR,Ml.OneMinusSrcColor),Mt(Ms,Je.SRC_ALPHA,Ml.SrcAlpha),Mt(Ms,Je.ONE_MINUS_SRC_ALPHA,Ml.OneMinusSrcAlpha),Mt(Ms,Je.DST_COLOR,Ml.DstColor),Mt(Ms,Je.ONE_MINUS_DST_COLOR,Ml.OneMinusDstColor),Mt(Ms,Je.DST_ALPHA,Ml.DstAlpha),Mt(Ms,Je.ONE_MINUS_DST_ALPHA,Ml.OneMinusDstAlpha),Mt(Ms,Je.CONSTANT_COLOR,Ml.BlendColor),Mt(Ms,Je.ONE_MINUS_CONSTANT_COLOR,Ml.OneMinusBlendColor),Mt(Ms,Je.SRC_ALPHA_SATURATE,Ml.SrcAlphaSaturated),Ms),Kze=(hy={},Mt(hy,Je.ALPHA,"r8unorm"),Mt(hy,Je.RGBA,"rgba8unorm"),Mt(hy,Je.DEPTH_COMPONENT,"depth32float"),Mt(hy,Je.DEPTH_STENCIL,"depth24plus-stencil8"),hy),lH=(YE={},Mt(YE,Je.NEAREST,"nearest"),Mt(YE,Je.LINEAR,"linear"),YE),bP=(Px={},Mt(Px,Je.REPEAT,"repeat"),Mt(Px,Je.CLAMP_TO_EDGE,"clamp-to-edge"),Mt(Px,Je.MIRRORED_REPEAT,"mirror-repeat"),Px);function Zze(r){var t=r.cull;if(!t||!t.enable)return Y2.None;if(t.face)return t.face===Je.FRONT?Y2.Front:Y2.Back}function Qze(r){var t=r.depth;r.stencil;var e={compare:sd.Always,depthFailOp:mP.Keep,failOp:mP.Keep,passOp:mP.Keep};return{depthWriteEnabled:t&&t.enable,depthCompare:qze[(t==null?void 0:t.func)||Je.ALWAYS],format:E0.Depth24PlusStencil8,stencilFront:e,stencilBack:e,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function Jze(r,t){var e=r.blend;return[{format:t,alphaBlend:{srcFactor:XE[e&&e.func&&e.func.srcAlpha||Je.ONE],dstFactor:XE[e&&e.func&&e.func.dstAlpha||Je.ZERO],operation:sH[e&&e.equation&&e.equation.alpha||Je.FUNC_ADD]},colorBlend:{srcFactor:XE[e&&e.func&&e.func.srcRGB||Je.ONE],dstFactor:XE[e&&e.func&&e.func.dstRGB||Je.ZERO],operation:sH[e&&e.equation&&e.equation.rgb||Je.FUNC_ADD]},writeMask:s5e.All}]}function uH(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function vy(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?uH(Object(e),!0).forEach(function(n){Mt(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):uH(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function e4e(r){for(var t=0,e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var a=0,o=n;a<o.length;a++){var s=o[a];t+=s.length}for(var l=new r(t),u=0,c=0,f=n;c<f.length;c++){var d=f[c];l.set(d,u),u+=d.length}return l}var t4e=function(){function r(t,e){Rr(this,r),this.engine=t,this.options=e,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return Yr(r,[{key:"init",value:function(){var t=ii(kr.mark(function n(){var i=this,a,o,s,l,u,c,f,d,h,v,p,g,m,y,b,w;return kr.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return a=this.options,o=a.vs,s=a.fs,l=a.attributes,u=a.uniforms,c=a.primitive,f=a.elements,d=a.depth,h=a.blend,v=a.stencil,p=a.cull,E.next=3,this.compilePipelineStageDescriptor(o,s,null);case 3:g=E.sent,m=g.vertexStage,y=g.fragmentStage,u&&this.buildUniformBindGroup(u),f&&(this.indexBuffer=f.get(),this.indexCount=f.indexCount),b={vertexBuffers:Object.keys(l).map(function(_,A){var k=l[_],T=k.get(),I=T.arrayStride,D=T.stepMode,O=T.attributes;return i.attributeCache[_]=k,{arrayStride:I,stepMode:D,attributes:O}})},w={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:Xze[c||Je.TRIANGLES],rasterizationState:vy(vy({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:Zze({cull:p})}),depthStencilState:Qze({depth:d,stencil:v}),colorStates:Jze({blend:h},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:m,fragmentStage:y,vertexState:b},this.renderPipeline=this.engine.device.createRenderPipeline(w);case 11:case"end":return E.stop()}},n,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"addUniforms",value:function(e){this.uniforms=vy(vy({},this.uniforms),L1(e))}},{key:"draw",value:function(e){var n=this,i=this.engine.getCurrentRenderPass(),a=vy(vy({},this.uniforms),L1(e.uniforms||{})),o=[];Object.keys(a).forEach(function(s){var l=Dd(a[s]);if(l==="boolean"||l==="number"||Array.isArray(a[s])||a[s].BYTES_PER_ELEMENT){var u,c=(u=n.uniformGPUBufferLayout.find(function(m){var y=m.name;return y===s}))===null||u===void 0?void 0:u.offset;c!==null&&n.uniformBuffer.subData({data:a[s],offset:c})}else{var f,d=(f=n.uniformGPUBufferLayout.find(function(m){var y=m.name;return y===s}))===null||f===void 0?void 0:f.offset;if(d!==null){var h=a[s].get(),v=h.color||h,p=v.texture,g=v.sampler;g&&(o.push({binding:d,resource:g}),d++),o.push({binding:d,resource:p.createView()})}}}),this.uniformBuffer&&(o[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:o}),this.renderPipeline&&i.setPipeline(this.renderPipeline),i.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&i.setIndexBuffer(this.indexBuffer.get(),i5e.Uint32,0),Object.keys(this.attributeCache).forEach(function(s,l){i.setVertexBuffer(0+l,n.attributeCache[s].get().buffer,0)}),this.indexBuffer?i.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):i.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var t=ii(kr.mark(function n(i,a,o){var s,l,u;return kr.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(s=`#version 450
`,l=i,u=a,this.engine.options.useWGSL){f.next=10;break}return f.next=6,this.compileShaderToSpirV(i,"vertex",s);case 6:return l=f.sent,f.next=9,this.compileShaderToSpirV(a,"fragment",s);case 9:u=f.sent;case 10:return f.abrupt("return",this.createPipelineStageDescriptor(l,u));case 11:case"end":return f.stop()}},n,this)}));function e(n,i,a){return t.apply(this,arguments)}return e}()},{key:"compileShaderToSpirV",value:function(e,n,i){return this.compileRawShaderToSpirV(i+e,n)}},{key:"compileRawShaderToSpirV",value:function(e,n){return this.engine.glslang.compileGLSL(e,n)}},{key:"createPipelineStageDescriptor",value:function(e,n){return{vertexStage:{module:this.engine.device.createShaderModule({code:e,isWHLSL:el}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:n,isWHLSL:el}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:n5e.CCW,cullMode:Y2.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(e){var n=this,i=0,a=e4e.apply(void 0,[Float32Array].concat(Za(Object.keys(e).map(function(l){return e[l]?(n.uniformGPUBufferLayout.push({name:l,offset:i}),i+=(e[l].length||1)*4,e[l]):[]})))),o=[],s=!1;a.length&&(s=!0,o.push({binding:0,visibility:$E.Fragment|$E.Vertex,type:gP.UniformBuffer})),Object.keys(e).filter(function(l){return e[l]===null}).forEach(function(l,u){n.uniformGPUBufferLayout.push({name:l,offset:u*2+(s?1:0)}),o.push({binding:u*2+(s?1:0),visibility:$E.Fragment,type:gP.Sampler},{binding:u*2+(s?1:0)+1,visibility:$E.Fragment,type:gP.SampledTexture})}),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:o}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),s&&(this.uniformBuffer=new qy(this.engine,{data:a instanceof Array?new Float32Array(a):a,usage:tl.Uniform|tl.CopyDst}))}}]),r}(),r4e=function(){function r(t,e){Rr(this,r),this.engine=t,this.options=e,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return Yr(r,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(e){var n=e.width,i=e.height;(n!==this.width||i!==this.height)&&(this.destroy(),this.createTexture()),this.width=n,this.height=i}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var e=this.options;e.data;var n=e.type;n===void 0&&Je.UNSIGNED_BYTE;var i=e.width,a=e.height;e.flipY;var o=e.format,s=o===void 0?Je.RGBA:o;e.mipmap;var l=e.wrapS,u=l===void 0?Je.CLAMP_TO_EDGE:l,c=e.wrapT,f=c===void 0?Je.CLAMP_TO_EDGE:c,d=e.aniso,h=d===void 0?0:d;e.alignment,e.premultiplyAlpha;var v=e.mag,p=v===void 0?Je.NEAREST:v,g=e.min,m=g===void 0?Je.NEAREST:g,y=e.colorSpace;y===void 0&&Je.BROWSER_DEFAULT_WEBGL;var b=e.usage;this.width=i,this.height=a,this.texture=this.engine.device.createTexture({size:[i,a,1],mipLevelCount:1,sampleCount:1,dimension:rO.E2d,format:Kze[s],usage:b||Jp.Sampled|Jp.CopyDst}),(!b||b&Jp.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:bP[u],addressModeV:bP[f],addressModeW:bP[u],magFilter:lH[p],minFilter:lH[m],maxAnisotropy:h}))}}]),r}(),cH,fH,dH,n4e=(cH=gi(),cH(fH=(dH=function(){function r(){var t=this;Rr(this,r),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(e){e.framebuffer;var n=e.color,i=e.depth,a=e.stencil;t.options.supportCompute&&t.startComputePass(),t.currentRenderTarget?(t.currentRenderPass&&t.endRenderTargetRenderPass(),t.startRenderTargetRenderPass(t.currentRenderTarget,n||null,!!i,!!a)):(t.mainColorAttachments[0].loadValue=n||uy.Load,t.mainDepthAttachment.depthLoadValue=i||uy.Load,t.mainDepthAttachment.stencilLoadValue=a?t.clearStencilValue:uy.Load,t.mainRenderPass&&t.endMainRenderPass(),t.startMainRenderPass())},this.createModel=function(){var e=ii(kr.mark(function n(i){var a;return kr.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=new t4e(t,i),s.next=3,a.init();case 3:return s.abrupt("return",a);case 4:case"end":return s.stop()}},n)}));return function(n){return e.apply(this,arguments)}}(),this.createAttribute=function(e){return new Hze(t,e)},this.createBuffer=function(e){return new qy(t,e)},this.createElements=function(e){return new jze(t,e)},this.createTexture2D=function(e){return new r4e(t,e)},this.createFramebuffer=function(e){return new Yze(t,e)},this.useFramebuffer=function(e,n){t.currentRenderTarget&&t.unbindFramebuffer(t.currentRenderTarget),t.currentRenderTarget=e,t.currentRenderTargetViewDescriptor={dimension:a5e.E2d,arrayLayerCount:1,aspect:o5e.All},t.currentRenderPass=null,n()},this.createComputeModel=function(){var e=ii(kr.mark(function n(i){var a;return kr.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=new Wze(t,i),s.next=3,a.init();case 3:return s.abrupt("return",a);case 4:case"end":return s.stop()}},n)}));return function(n){return e.apply(this,arguments)}}(),this.getCanvas=function(){return t.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(e){var n=e.x,i=e.y,a=e.width,o=e.height;if(!t.currentRenderPass)t.transientViewport={x:n,y:i,width:a,height:o};else if(t.transientViewport.x!==1/0){var s=t.getCurrentRenderPass();s.setViewport(t.transientViewport.x,t.transientViewport.y,t.transientViewport.width,t.transientViewport.height,0,1)}else if(n!==t.cachedViewport.x||i!==t.cachedViewport.y||a!==t.cachedViewport.width||o!==t.cachedViewport.height){t.cachedViewport={x:n,y:i,width:a,height:o};var l=t.getCurrentRenderPass();l.setViewport(n,i,a,o,0,1)}},this.readPixels=function(e){throw new Error("Method not implemented.")}}return Yr(r,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var t=ii(kr.mark(function n(i){return kr.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.canvas=i.canvas,this.options=i,this.useWGSL=!!i.useWGSL,this.mainPassSampleCount=i.antialiasing?this.defaultSampleCount:1,o.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return o.stop()}},n,this)}));function e(n){return t.apply(this,arguments)}return e}()},{key:"setScissor",value:function(e){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach(function(e){return e.destroy()}),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),el?this.device.getQueue().submit(this.commandBuffers.filter(function(e){return e})):this.device.defaultQueue.submit(this.commandBuffers.filter(function(e){return e}))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var t=ii(kr.mark(function n(){var i,a;return kr.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Uze();case 2:return this.glslang=s.sent,s.next=5,(i=navigator)===null||i===void 0||(a=i.gpu)===null||a===void 0?void 0:a.requestAdapter();case 5:return this.adapter=s.sent,s.next=8,this.adapter.requestDevice();case 8:this.device=s.sent;case 9:case"end":return s.stop()}},n,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(el?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:Jp.OutputAttachment|Jp.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var e={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:rO.E2d,format:E0.BGRA8Unorm,usage:Jp.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(e),this.mainColorAttachments=[{attachment:el?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:kp.Store}]}else this.mainColorAttachments=[{attachment:el?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:kp.Store}];var n={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:rO.E2d,format:el?"depth32float-stencil8":E0.Depth24PlusStencil8,usage:Jp.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(n),this.mainDepthAttachment={attachment:el?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:kp.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:kp.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=el?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=el?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(e,n,i){var a,o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,l=(a=e.get().color)===null||a===void 0?void 0:a.texture,u;l&&(u=l.createView(this.currentRenderTargetViewDescriptor));var c=(o=e.get().depth)===null||o===void 0?void 0:o.texture,f;c&&(f=c.createView());var d=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:u,loadValue:n!==null?n:uy.Load,storeOp:kp.Store}],depthStencilAttachment:c&&f?{attachment:f,depthLoadValue:i?this.clearDepthValue:uy.Load,depthStoreOp:kp.Store,stencilLoadValue:s?this.clearStencilValue:uy.Load,stencilStoreOp:kp.Store}:void 0});this.currentRenderPass=d,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&this.currentRenderPass!==null&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(e){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),r}(),dH))||fH),hH,vH;function i4e(r){var t=a4e();return function(){var n=pi(r),i;if(t){var a=pi(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _s(this,i)}}function a4e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var oO=4/64,pH=1-oO*2,o4e=(hH=gi(),hH(vH=function(r){Es(e,r);var t=i4e(e);function e(){return Rr(this,e),t.apply(this,arguments)}return Yr(e,[{key:"onEntityCreated",value:function(){var i=this.config,a=i.widthSegments,o=a===void 0?1:a,s=i.heightSegments,l=s===void 0?1:s,u=i.depthSegments,c=u===void 0?1:u,f=i.halfExtents,d=f===void 0?kn(.5,.5,.5):f,h=o,v=l,p=c,g=zA(d,3),m=g[0],y=g[1],b=g[2],w=[kn(-m,-y,b),kn(m,-y,b),kn(m,y,b),kn(-m,y,b),kn(m,-y,-b),kn(-m,-y,-b),kn(-m,y,-b),kn(m,y,-b)],S=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],E=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],_={FRONT:0,BACK:1,TOP:2,BOTTOM:3,RIGHT:4,LEFT:5},A=[],k=[],T=[],I=[],D=0,O=function(G,L,F){var W,H,K,ie;for(K=0;K<=L;K++)for(ie=0;ie<=F;ie++){var ee=Ci(),Q=Ci(),be=Ci(),fe=Ci();Tg(ee,w[S[G][0]],w[S[G][1]],K/L),Tg(Q,w[S[G][0]],w[S[G][2]],ie/F),nD(be,Q,w[S[G][0]]),gd(fe,ee,be),W=K/L,H=ie/F,A.push(fe[0],fe[1],fe[2]),k.push(E[G][0],E[G][1],E[G][2]),T.push(W,H),W/=3,H/=3,W=W*pH+oO,H=H*pH+oO,W+=G%3/3,H+=Math.floor(G/3)/3,K<L&&ie<F&&(I.push(D+F+1,D+1,D),I.push(D+F+1,D+F+2,D+1)),D++}};O(_.FRONT,h,v),O(_.BACK,h,v),O(_.TOP,h,p),O(_.BOTTOM,h,p),O(_.RIGHT,p,v),O(_.LEFT,p,v);var B=SN(A),U=this.getComponent();U.indices=Uint32Array.from(I),U.aabb=B,U.vertexCount=D,U.attributes=[{dirty:!0,name:"position",data:Float32Array.from(A),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(k),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(T),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),e}(nv))||vH);function s4e(r,t){if(!r&&!t)throw new Error("Please specify valid arguments for parameters a and b.");if(!t||t.length===0)return r;if(!r||r.length===0)return t;if(Object.prototype.toString.call(r)!==Object.prototype.toString.call(t))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var e=new r.constructor(r.length+t.length);return e.set(r),e.set(t,r.length),e}var gH,mH;function l4e(r){var t=u4e();return function(){var n=pi(r),i;if(t){var a=pi(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _s(this,i)}}function u4e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var c4e=(gH=gi(),gH(mH=function(r){Es(e,r);var t=l4e(e);function e(){return Rr(this,e),t.apply(this,arguments)}return Yr(e,[{key:"onEntityCreated",value:function(){var i=this.config.geometries,a=i===void 0?[]:i,o=this.getComponent();o.aabb=new wN;var s=[],l=[],u=0;a.forEach(function(c){var f=c.aabb,d=c.indices,h=c.vertexCount,v=c.attributes;o.aabb.add(f),o.vertexCount+=h,d&&l.push.apply(l,Za(d.map(function(p){return p+u}))),u+=h,v.forEach(function(p,g){s[g]?p.data&&(CN(p.data)?s[g].push(p.data):mee(p.data)?s[g].data=s4e(s[g].data,p.data):s[g].data=s[g].data.concat(p.data)):(s[g]=p,s[g].dirty=!0)})}),o.attributes=s,o.indices=Uint32Array.from(l),o.dirty=!0}}]),e}(nv))||mH),yH,bH;function f4e(r){var t=d4e();return function(){var n=pi(r),i;if(t){var a=pi(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _s(this,i)}}function d4e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var h4e=(yH=gi(),yH(bH=function(r){Es(e,r);var t=f4e(e);function e(){return Rr(this,e),t.apply(this,arguments)}return Yr(e,[{key:"onEntityCreated",value:function(){for(var i=this.config,a=i.halfExtents,o=a===void 0?[.5,.5]:a,s=i.widthSegments,l=s===void 0?5:s,u=i.lengthSegments,c=u===void 0?5:u,f=[],d=[],h=[],v=[],p=0,g=0;g<=l;g++)for(var m=0;m<=c;m++){var y=-o[0]+2*o[0]*g/l,b=0,w=-(-o[1]+2*o[1]*m/c),S=g/l,E=m/c;f.push(y,b,w),d.push(0,1,0),h.push(S,E),g<l&&m<c&&(v.push(p+c+1,p+1,p),v.push(p+c+1,p+c+2,p+1)),p++}var _=SN(f),A=this.getComponent();A.indices=Uint32Array.from(v),A.aabb=_,A.vertexCount=p,A.attributes=[{dirty:!0,name:"position",data:Float32Array.from(f),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(d),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(h),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),e}(nv))||bH),xH,wH;function v4e(r){var t=p4e();return function(){var n=pi(r),i;if(t){var a=pi(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _s(this,i)}}function p4e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var g4e=(xH=gi(),xH(wH=function(r){Es(e,r);var t=v4e(e);function e(){return Rr(this,e),t.apply(this,arguments)}return Yr(e,[{key:"onEntityCreated",value:function(){for(var i=this.config,a=i.radius,o=a===void 0?.5:a,s=i.latitudeBands,l=s===void 0?16:s,u=i.longitudeBands,c=u===void 0?16:u,f=[],d=[],h=[],v=[],p=0;p<=l;p++)for(var g=p*Math.PI/l,m=Math.sin(g),y=Math.cos(g),b=0;b<=c;b++){var w=b*2*Math.PI/c-Math.PI/2,S=Math.sin(w),E=Math.cos(w),_=E*m,A=y,k=S*m,T=1-b/c,I=1-p/l;f.push(_*o,A*o,k*o),d.push(_,A,k),h.push(T,I)}for(var D=0;D<l;++D)for(var O=0;O<c;++O){var B=D*(c+1)+O,U=B+c+1;v.push(B+1,U,B),v.push(B+1,U+1,U)}var N=SN(f),G=this.getComponent();G.indices=Uint32Array.from(v),G.aabb=N,G.vertexCount=f.length/3,G.attributes=[{dirty:!0,name:"position",data:Float32Array.from(f),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(d),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(h),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),e}(nv))||wH),SH,CH,EH,_H,qE,TH,AH,kH;function m4e(r){var t=y4e();return function(){var n=pi(r),i;if(t){var a=pi(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _s(this,i)}}function y4e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var b4e=`varying vec4 fragColor;

#pragma include "uv.frag.declaration"
#pragma include "map.frag.declaration"

void main() {
  vec4 diffuseColor = fragColor;

  #pragma include "map.frag.main"

  gl_FragColor = diffuseColor;
}`,x4e=`attribute vec3 position;
attribute vec3 normal;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform vec4 color;

varying vec4 fragColor;

#pragma include "uv.vert.declaration"

void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  fragColor = color;

  #pragma include "uv.vert.main"
}`,w4e=`// layout(set = 0, binding = 1) uniform WireframeUniforms {
//   float lineWidth;
//   vec4 lineColor;
// } wireframe;

layout(location = 0) in vec4 fragColor;
// layout(location = 1) in vec3 v_Barycentric;

layout(location = 0) out vec4 outColor;

// wireframe
// float edgeFactor() {
//   vec3 d = fwidth(v_Barycentric);
//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);
//   return min(min(a3.x, a3.y), a3.z);
// }

void main() {
  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));
  outColor = fragColor;
}`,S4e=`layout(set = 0, binding = 0) uniform Uniforms {
  vec4 color;
  mat4 projectionMatrix;
  mat4 modelViewMatrix;
} uniforms;

layout(location = 0) in vec3 position;
// layout(location = 1) in vec3 barycentric;

layout(location = 0) out vec4 fragColor;
// layout(location = 1) out vec3 v_Barycentric;

void main() {
  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);
  fragColor = uniforms.color;
  // v_Barycentric = barycentric;
}`,C4e=(SH=gi(),CH=$r(zt.RenderEngine),EH=$r(zt.ShaderModuleService),SH(_H=(qE=(kH=function(r){Es(e,r);var t=m4e(e);function e(){var n;Rr(this,e);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a)),Br(n,"engine",TH,Ra(n)),Br(n,"shaderModuleService",AH,Ra(n)),n}return Yr(e,[{key:"onEntityCreated",value:function(){var i=this.getComponent(),a=this.engine.supportWebGPU?S4e:x4e,o=this.engine.supportWebGPU?w4e:b4e;this.shaderModuleService.registerModule("material-basic",{vs:a,fs:o});var s=this.shaderModuleService.getModule("material-basic"),l=s.vs,u=s.fs,c=s.uniforms;i.vertexShaderGLSL=l,i.fragmentShaderGLSL=u,i.setUniform(c),this.config.map&&(i.setDefines({USE_UV:1,USE_MAP:1}),i.setUniform({map:this.config.map,uvTransform:q0()}))}}]),e}(yee),kH),TH=zr(qE.prototype,"engine",[CH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),AH=zr(qE.prototype,"shaderModuleService",[EH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qE))||_H),MH,IH,PH,RH,DH,OH,LH,Rx,FH,NH,BH,zH;function E4e(r){var t=_4e();return function(){var n=pi(r),i;if(t){var a=pi(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _s(this,i)}}function _4e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var T4e=`// generate grid, borrow from clay.gl viewer
// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl
#extension GL_OES_standard_derivatives : enable

varying vec3 v_Position;
// varying vec3 v_Normal;

uniform float u_GridSize : 5;
uniform float u_GridSize2 : .5;
uniform vec4 u_GridColor : [0, 0, 0, 1];
uniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];
uniform bool u_GridEnabled : true;

// uniform vec3 u_LightDirection;
// uniform vec3 u_LightColor;
// uniform vec3 u_Camera;

void main() {
  // vec3 n = v_Normal;
  // vec3 l = normalize(u_LightDirection);
  // float NdotL = clamp(dot(n, l), 0.001, 1.0);

  gl_FragColor = vec4(1.);

  if (u_GridEnabled) {
    float wx = v_Position.x;
    float wz = v_Position.z;
    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;
    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;

    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;
    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;

    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);
    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);
    // if (v0 > 0.1) {
        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);
    // }
    // else {
        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);
    // }
  }

  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);
  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;

  // gl_FragColor.rgb *= diffuseColor;
}`,A4e=`attribute vec3 a_Position;

varying vec3 v_Position;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

void main() {
  v_Position = a_Position;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);
}`,k4e=(MH=gi(),IH=$r(zt.Systems),PH=sf(zt.MaterialSystem),RH=$r(zt.Systems),DH=sf(zt.GeometrySystem),OH=$r(zt.ShaderModuleService),MH(LH=(Rx=(zH=function(r){Es(e,r);var t=E4e(e);function e(){var n;Rr(this,e);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a)),Br(n,"materialSystem",FH,Ra(n)),Br(n,"geometrySystem",NH,Ra(n)),Br(n,"shaderModuleService",BH,Ra(n)),n}return Yr(e,[{key:"onAttributeChanged",value:function(i){var a=i.name,o=i.data,s=this.getMeshComponent();s&&s.material&&(a==="gridColor"?(s.material.setUniform("u_GridColor",o),s.material.setUniform("u_GridColor2",o)):a==="gridSize"&&(s.material.setUniform("u_GridSize",o),s.material.setUniform("u_GridSize2",o)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:A4e,fs:T4e});var i=this.shaderModuleService.getModule("grid"),a=i.vs,o=i.fs,s=i.uniforms,l=this.materialSystem.createShaderMaterial({vertexShader:a,fragmentShader:o});this.setMaterial(l);var u=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(u),l.setCull({enable:!1,face:Je.BACK}).setDepth({enable:!0,func:Je.LESS}),l.setUniform(s),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),u.setIndex([0,3,2,2,1,0]),u.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),e}(Kh),zH),FH=zr(Rx.prototype,"materialSystem",[IH,PH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),NH=zr(Rx.prototype,"geometrySystem",[RH,DH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),BH=zr(Rx.prototype,"shaderModuleService",[OH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rx))||LH),sO=1e-6,xee=M4e;function M4e(){var r=new Float32Array(2);return r[0]=0,r[1]=0,r}var I4e=P4e;function P4e(r){var t=new Float32Array(2);return t[0]=r[0],t[1]=r[1],t}var R4e=D4e;function D4e(r,t){var e=new Float32Array(2);return e[0]=r,e[1]=t,e}var O4e=L4e;function L4e(r,t){return r[0]=t[0],r[1]=t[1],r}var iT=F4e;function F4e(r,t,e){return r[0]=t,r[1]=e,r}var N4e=B4e;function B4e(r,t){var e=r[0],n=r[1],i=t[0],a=t[1];return Math.abs(e-i)<=sO*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(n-a)<=sO*Math.max(1,Math.abs(n),Math.abs(a))}var z4e=$4e;function $4e(r,t){return r[0]===t[0]&&r[1]===t[1]}var wee=G4e;function G4e(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r}var _N=U4e;function U4e(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r}var H4e=_N,See=V4e;function V4e(r,t,e){return r[0]=t[0]*e[0],r[1]=t[1]*e[1],r}var W4e=See,Cee=j4e;function j4e(r,t,e){return r[0]=t[0]/e[0],r[1]=t[1]/e[1],r}var Y4e=Cee,X4e=q4e;function q4e(r,t){return r[0]=1/t[0],r[1]=1/t[1],r}var K4e=Z4e;function Z4e(r,t,e){return r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r}var Q4e=J4e;function J4e(r,t,e){return r[0]=Math.max(t[0],e[0]),r[1]=Math.max(t[1],e[1]),r}var e$e=t$e;function t$e(r,t,e){var n=Math.cos(e),i=Math.sin(e),a=t[0],o=t[1];return r[0]=a*n-o*i,r[1]=a*i+o*n,r}var r$e=n$e;function n$e(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r}var i$e=a$e;function a$e(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r}var o$e=s$e;function s$e(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r}var l$e=u$e;function u$e(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r}var c$e=f$e;function f$e(r,t,e,n){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r}var Eee=d$e;function d$e(r,t){var e=t[0]-r[0],n=t[1]-r[1];return Math.sqrt(e*e+n*n)}var h$e=Eee,_ee=v$e;function v$e(r,t){var e=t[0]-r[0],n=t[1]-r[1];return e*e+n*n}var p$e=_ee,Tee=g$e;function g$e(r){var t=r[0],e=r[1];return Math.sqrt(t*t+e*e)}var m$e=Tee,Aee=y$e;function y$e(r){var t=r[0],e=r[1];return t*t+e*e}var b$e=Aee,x$e=w$e;function w$e(r,t){return r[0]=-t[0],r[1]=-t[1],r}var TN=S$e;function S$e(r,t){var e=t[0],n=t[1],i=e*e+n*n;return i>0&&(i=1/Math.sqrt(i),r[0]=t[0]*i,r[1]=t[1]*i),r}var kee=C$e;function C$e(r,t){return r[0]*t[0]+r[1]*t[1]}var E$e=_$e;function _$e(r,t,e){var n=t[0]*e[1]-t[1]*e[0];return r[0]=r[1]=0,r[2]=n,r}var T$e=A$e;function A$e(r,t,e,n){var i=t[0],a=t[1];return r[0]=i+n*(e[0]-i),r[1]=a+n*(e[1]-a),r}var k$e=M$e;function M$e(r,t){t=t||1;var e=Math.random()*2*Math.PI;return r[0]=Math.cos(e)*t,r[1]=Math.sin(e)*t,r}var I$e=P$e;function P$e(r,t,e){var n=t[0],i=t[1];return r[0]=e[0]*n+e[2]*i,r[1]=e[1]*n+e[3]*i,r}var R$e=D$e;function D$e(r,t,e){var n=t[0],i=t[1];return r[0]=e[0]*n+e[2]*i+e[4],r[1]=e[1]*n+e[3]*i+e[5],r}var O$e=L$e;function L$e(r,t,e){var n=t[0],i=t[1];return r[0]=e[0]*n+e[3]*i+e[6],r[1]=e[1]*n+e[4]*i+e[7],r}var F$e=N$e;function N$e(r,t,e){var n=t[0],i=t[1];return r[0]=e[0]*n+e[4]*i+e[12],r[1]=e[1]*n+e[5]*i+e[13],r}var B$e=z$e,py=xee();function z$e(r,t,e,n,i,a){var o,s;for(t||(t=2),e||(e=0),n?s=Math.min(n*t+e,r.length):s=r.length,o=e;o<s;o+=t)py[0]=r[o],py[1]=r[o+1],i(py,py,a),r[o]=py[0],r[o+1]=py[1];return r}var $$e=G$e;function G$e(r,t,e){var n=t[0]*t[0]+t[1]*t[1];if(n>e*e){var i=Math.sqrt(n);r[0]=t[0]/i*e,r[1]=t[1]/i*e}else r[0]=t[0],r[1]=t[1];return r}var AN={EPSILON:sO,create:xee,clone:I4e,fromValues:R4e,copy:O4e,set:iT,equals:N4e,exactEquals:z4e,add:wee,subtract:_N,sub:H4e,multiply:See,mul:W4e,divide:Cee,div:Y4e,inverse:X4e,min:K4e,max:Q4e,rotate:e$e,floor:r$e,ceil:i$e,round:o$e,scale:l$e,scaleAndAdd:c$e,distance:Eee,dist:h$e,squaredDistance:_ee,sqrDist:p$e,length:Tee,len:m$e,squaredLength:Aee,sqrLen:b$e,negate:x$e,normalize:TN,dot:kee,cross:E$e,lerp:T$e,random:k$e,transformMat2:I$e,transformMat2d:R$e,transformMat3:O$e,transformMat4:F$e,forEach:B$e,limit:$$e},U$e=AN.create,$H=AN.copy,H$e=AN.dot,GH=[0,0],V$e=function(t,e,n,i,a){return wee(t,n,i),TN(t,t),iT(e,-t[1],t[0]),iT(GH,-n[1],n[0]),a/kee(e,GH)},KE=function(t,e){return iT(t,-e[1],e[0]),t},UH=function(t,e,n){return _N(t,e,n),TN(t,t),t};function ZE(r,t,e,n,i){F1(t,n,-i),F1(t,n,i),r.push(e),r.push(e)}function F1(r,t,e){r.push([[t[0],t[1]],e])}function W$e(r,t,e){var n=[0,0],i=[0,0],a=[0,0],o=[0,0],s=-1,l=!1,u=null,c=U$e(),f=e||0,d=3,h=[],v=[],p=[],g=[0,0];t&&(r=r.slice(),r.push(r[0]));for(var m=r.length,y=1;y<m;y++){var b=f,w=r[y-1],S=r[y],E=y<r.length-1?r[y+1]:null;if(g.push(y/m,y/m),UH(n,S,w),u||(u=[0,0],KE(u,n)),l||(l=!0,ZE(v,h,w,u,1)),p.push([b+0,b+1,b+2]),!E)KE(u,n),ZE(v,h,S,u,1),p.push(s===1?[b,b+2,b+3]:[b+2,b+1,b+3]),f+=2;else{UH(i,E,S);var _=V$e(a,o,n,i,1),A=H$e(a,u)<0?-1:1,k=_>d;if(!isFinite(_)){KE(u,n),ZE(v,h,S,u,1),p.push(s===1?[b,b+2,b+3]:[b+2,b+1,b+3]),f+=2,s=A;continue}k?(_=d,g.push(y/m),F1(h,u,-A),v.push(S),F1(h,o,_*A),v.push(S),p.push(s!==-A?[b,b+2,b+3]:[b+2,b+1,b+3]),p.push([b+2,b+3,b+4]),KE(c,i),$H(u,c),F1(h,u,-A),v.push(S),f+=3):(ZE(v,h,S,o,_),p.push(s===1?[b,b+2,b+3]:[b+2,b+1,b+3]),A=-1,$H(u,o),f+=2),s=A}}return{normals:h,attrIndex:p,attrPos:v,attrCounters:g}}var HH,VH,WH,jH,YH,XH,qH,Dx,KH,ZH,QH,JH;function j$e(r){var t=Y$e();return function(){var n=pi(r),i;if(t){var a=pi(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _s(this,i)}}function Y$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var X$e=`uniform float u_dash_array : 0.02;
uniform float u_dash_offset : 0;
uniform float u_dash_ratio : 0;
uniform float u_thickness : 0.02;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
    float blur = 1. - smoothstep(0.98, 1., length(v_normal));

    gl_FragColor = v_color;
    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));
}`,q$e=`attribute vec2 a_pos;
attribute vec4 a_color;
attribute float a_line_miter;
attribute vec2 a_line_normal;
attribute float a_counters;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform float u_thickness : 0.02;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
  v_color = a_color;
  v_counters = a_counters;

  vec3 normal = normalize(vec3(a_line_normal, 0.0));

  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);

  v_normal = vec2(normal * sign(a_line_miter));

  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;
}
`,K$e=(HH=gi(),VH=$r(zt.Systems),WH=sf(zt.MaterialSystem),jH=$r(zt.Systems),YH=sf(zt.GeometrySystem),XH=$r(zt.ShaderModuleService),HH(qH=(Dx=(JH=function(r){Es(e,r);var t=j$e(e);function e(){var n;Rr(this,e);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a)),Br(n,"materialSystem",KH,Ra(n)),Br(n,"geometrySystem",ZH,Ra(n)),Br(n,"shaderModuleService",QH,Ra(n)),n.vertexCount=void 0,n}return Yr(e,[{key:"onAttributeChanged",value:function(i){var a=i.name,o=i.data,s=this.getMeshComponent();if(s&&s.material)switch(a){case"dashArray":s.material.setUniform("u_dash_array",o);break;case"dashOffset":s.material.setUniform("u_dash_offset",o);break;case"dashRatio":s.material.setUniform("u_dash_ratio",o);break;case"thickness":s.material.setUniform("u_thickness",o);break;case"color":var l=new Array(this.vertexCount).fill(void 0).map(function(){return o}).reduce(function(u,c){return[].concat(Za(u),Za(c))},[]);s.geometry.setAttribute("a_color",Float32Array.from(l),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]});break}}},{key:"onEntityCreated",value:function(){var i=this;this.shaderModuleService.registerModule("line",{vs:q$e,fs:X$e});var a=this.shaderModuleService.getModule("line"),o=a.vs,s=a.fs,l=a.uniforms,u=this.materialSystem.createShaderMaterial({vertexShader:o,fragmentShader:s}),c=W$e(this.config.points,!1),f=c.normals,d=c.attrIndex,h=c.attrPos,v=c.attrCounters,p=h.length;this.vertexCount=p;var g=this.geometrySystem.createBufferGeometry({vertexCount:p});this.setMaterial(u),this.setGeometry(g),u.setCull({enable:!1,face:Je.BACK}).setUniform(l),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var m=[],y=[];f.forEach(function(w){var S=w[0],E=w[1];m.push([S[0],S[1]]),y.push(E)}),g.setIndex(d.reduce(function(w,S){return[].concat(Za(w),Za(S))},[])),g.setAttribute("a_pos",Float32Array.from(h.reduce(function(w,S){return[].concat(Za(w),Za(S))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var b=new Array(p).fill(void 0).map(function(){return Za(i.config.color)}).reduce(function(w,S){return[].concat(Za(w),Za(S))},[]);g.setAttribute("a_color",Float32Array.from(b),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),g.setAttribute("a_line_miter",Float32Array.from(y),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),g.setAttribute("a_line_normal",Float32Array.from(m.reduce(function(w,S){return[].concat(Za(w),Za(S))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),g.setAttribute("a_counters",Float32Array.from(v),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),e}(Kh),JH),KH=zr(Dx.prototype,"materialSystem",[VH,WH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ZH=zr(Dx.prototype,"geometrySystem",[jH,YH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),QH=zr(Dx.prototype,"shaderModuleService",[XH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dx))||qH);function Z$e(r){return[r+1&255,r+1>>8&255,r+1>>8>>8&255]}var eV,tV,rV,nV,iV,aV,oV,Ox,sV,lV,uV,cV;function fV(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function Q$e(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?fV(Object(e),!0).forEach(function(n){Mt(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):fV(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function J$e(r){var t=e6e();return function(){var n=pi(r),i;if(t){var a=pi(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _s(this,i)}}function e6e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var t6e=`uniform float u_blur : 0.05;
uniform float u_opacity : 0.7;
uniform float u_stroke_width : 0.01;
uniform vec4 u_stroke_color : [0, 0, 0, 0];
uniform float u_stroke_opacity : 1;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "sdf2d"
#pragma include "picking"

void main() {
  int shape = int(floor(v_data.w + 0.5));

  float antialiasblur = v_data.z;
  float antialiased_blur = -max(u_blur, antialiasblur);
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  // if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  // } else if (shape == 1) {
  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  // } else if (shape == 2) {
  //   outer_df = sdBox(v_data.xy, vec2(1.));
  //   inner_df = sdBox(v_data.xy, vec2(r));
  // } else if (shape == 3) {
  //   outer_df = sdPentagon(v_data.xy, 0.8);
  //   inner_df = sdPentagon(v_data.xy, r * 0.8);
  // } else if (shape == 4) {
  //   outer_df = sdHexagon(v_data.xy, 0.8);
  //   inner_df = sdHexagon(v_data.xy, r * 0.8);
  // } else if (shape == 5) {
  //   outer_df = sdOctogon(v_data.xy, 1.0);
  //   inner_df = sdOctogon(v_data.xy, r);
  // } else if (shape == 6) {
  //   outer_df = sdHexagram(v_data.xy, 0.52);
  //   inner_df = sdHexagram(v_data.xy, r * 0.52);
  // } else if (shape == 7) {
  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));
  //   inner_df = sdRhombus(v_data.xy, vec2(r));
  // } else if (shape == 8) {
  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);
  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  // }

  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiased_blur,
    0.0,
    inner_df
  );
  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;

  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  gl_FragColor.a = gl_FragColor.a * opacity_t;

  gl_FragColor = filterColor(gl_FragColor);
}`,r6e=`attribute vec2 position;
attribute vec4 color;
attribute float shape;
attribute vec2 offset;
attribute float size;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

uniform float u_stroke_width : 0.01;
uniform float u_device_pixel_ratio;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "picking"

void main() {
  v_color = color;
  v_radius = size;

  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);

  // construct point coords
  v_data = vec4(position, antialiasblur, shape);

  gl_Position = projectionMatrix * modelViewMatrix
    * vec4(position * size + offset, 0.0, 1.0);

  setPickingColor(a_PickingColor);
}`,n6e=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],i6e=(eV=gi(),tV=$r(zt.Systems),rV=sf(zt.MaterialSystem),nV=$r(zt.Systems),iV=sf(zt.GeometrySystem),aV=$r(zt.ShaderModuleService),eV(oV=(Ox=(cV=function(r){Es(e,r);var t=J$e(e);function e(){var n;Rr(this,e);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a)),Br(n,"materialSystem",sV,Ra(n)),Br(n,"geometrySystem",lV,Ra(n)),Br(n,"shaderModuleService",uV,Ra(n)),n}return Yr(e,[{key:"onAttributeChanged",value:function(i){var a=i.name,o=i.data,s=this.getMeshComponent();s&&s.material&&(a==="strokeWidth"?s.material.setUniform("u_stroke_width",o):a==="strokeColor"?s.material.setUniform("u_stroke_color",o):a==="strokeOpacity"?s.material.setUniform("u_stroke_opacity",o):a==="opacity"?s.material.setUniform("u_opacity",o):a==="blur"&&s.material.setUniform("u_blur",o))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:r6e,fs:t6e});var i=this.shaderModuleService.getModule("grid"),a=i.vs,o=i.fs,s=i.uniforms,l=this.materialSystem.createShaderMaterial({vertexShader:a,fragmentShader:o,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:Je.SRC_ALPHA,dstRGB:Je.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});l.setUniform(Q$e({u_device_pixel_ratio:window.devicePixelRatio},s));var u=this.buildAttributes(),c=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:u.instancedOffsets.length/2,vertexCount:6});c.setIndex([0,2,1,0,3,2]),c.setAttribute("position",Float32Array.from(u.positions),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),c.setAttribute("offset",Float32Array.from(u.instancedOffsets),{arrayStride:4*2,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),c.setAttribute("color",Float32Array.from(u.instancedColors),{arrayStride:4*4,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),c.setAttribute("size",Float32Array.from(u.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),c.setAttribute("shape",Float32Array.from(u.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),c.setAttribute("a_PickingColor",Float32Array.from(u.instancedPickingColors),{arrayStride:4*3,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(l),this.setGeometry(c)}},{key:"buildAttribute",value:function(i,a,o){var s,l,u,c;(s=a.instancedPickingColors).push.apply(s,Za(Z$e(i.id||o))),a.instancedShapes.push(n6e.indexOf(i.shape||"circle")),(l=a.instancedColors).push.apply(l,Za(i.color||[1,0,0,1])),(u=a.instancedOffsets).push.apply(u,Za(i.position||[0,0])),(c=a.instancedSizes).push.apply(c,Za(i.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var i=this,a={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach(function(o,s){i.buildAttribute(o,a,s)}):this.buildAttribute(this.config,a,0),a}}]),e}(Kh),cV),sV=zr(Ox.prototype,"materialSystem",[tV,rV],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lV=zr(Ox.prototype,"geometrySystem",[nV,iV],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uV=zr(Ox.prototype,"shaderModuleService",[aV],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ox))||oV),dV,hV,vV,pV,gV,Lx,mV,yV,bV,xV;function wV(r,t){var e;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(e=a6e(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){e=r[Symbol.iterator]()},n:function(){var u=e.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(o)throw s}}}}function a6e(r,t){if(!!r){if(typeof r=="string")return SV(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return SV(r,t)}}function SV(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}var o6e=`#ifdef USE_MAP
  uniform sampler2D map;
#endif`,s6e=`#ifdef USE_MAP
  vec4 texelColor = texture2D(map, vUv);
  // texelColor = mapTexelToLinear(texelColor);
  diffuseColor *= texelColor;
#endif`,l6e=`#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))
  varying vec2 vUv;
#endif`,u6e=`#ifdef USE_UV
  attribute vec2 uv;
	#ifdef UVS_VERTEX_ONLY
    vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,c6e=`#ifdef USE_UV
  vUv = (uvTransform * vec3(uv, 1)).xy;
#endif`,CV=(dV=gi(),hV=$r(zt.RenderEngine),vV=$r(zt.ShaderModuleService),pV=$r(zt.ConfigService),dV(gV=(Lx=(xV=function(){function r(){Rr(this,r),this.container=void 0,Br(this,"engine",mV,this),Br(this,"shaderModule",yV,this),Br(this,"configService",bV,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return Yr(r,[{key:"init",value:function(){var t=ii(kr.mark(function n(){var i,a,o,s,l;return kr.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:u6e}),this.shaderModule.registerModule("uv.vert.main",{vs:c6e}),this.shaderModule.registerModule("uv.frag.declaration",{fs:l6e}),this.shaderModule.registerModule("map.frag.declaration",{fs:o6e}),this.shaderModule.registerModule("map.frag.main",{fs:s6e}),i=this.container.getAll(zt.Systems),a=this.configService.get(),!a.canvas){c.next=30;break}return c.next=11,this.engine.init({canvas:a.canvas,swapChainFormat:E0.BGRA8Unorm,antialiasing:!1});case 11:o=wV(i),c.prev=12,o.s();case 14:if((s=o.n()).done){c.next=21;break}if(l=s.value,!l.initialize){c.next=19;break}return c.next=19,l.initialize();case 19:c.next=14;break;case 21:c.next=26;break;case 23:c.prev=23,c.t0=c.catch(12),o.e(c.t0);case 26:return c.prev=26,o.f(),c.finish(26);case 29:this.inited=!0;case 30:case"end":return c.stop()}},n,this,[[12,23,26,29]])}));function e(){return t.apply(this,arguments)}return e}()},{key:"render",value:function(){var t=ii(kr.mark(function n(){var i,a,o,s,l,u,c,f=arguments;return kr.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!(!this.inited||this.rendering)){h.next=2;break}return h.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach(function(v){v()}),this.rendering=!0,this.engine.beginFrame(),i=this.container.getAll(zt.Systems),a=f.length,o=new Array(a),s=0;s<a;s++)o[s]=f[s];l=wV(i),h.prev=8,l.s();case 10:if((u=l.n()).done){h.next=17;break}if(c=u.value,!c.execute){h.next=15;break}return h.next=15,c.execute(o);case 15:h.next=10;break;case 17:h.next=22;break;case 19:h.prev=19,h.t0=h.catch(8),l.e(h.t0);case 22:return h.prev=22,l.f(),h.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return h.stop()}},n,this,[[8,19,22,25]])}));function e(){return t.apply(this,arguments)}return e}()},{key:"clear",value:function(e){var n=this;return this.inited?this.engine.clear(e):this.pendings.unshift(function(){n.engine.clear(e),n.pendings.shift()}),this}},{key:"setSize",value:function(e){var n=e.width,i=e.height,a=this.engine.getCanvas();return this.size={width:n,height:i},a.width=n,a.height=i,this}},{key:"getSize",value:function(){return this.size}}]),r}(),xV),mV=zr(Lx.prototype,"engine",[hV],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yV=zr(Lx.prototype,"shaderModule",[vV],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bV=zr(Lx.prototype,"configService",[pV],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lx))||gV),EV,_V,TV,AV=(EV=gi(),EV(_V=(TV=function(){function r(){Rr(this,r),this.entities=[]}return Yr(r,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(e){return this.addEntity(e.getEntity()),this}},{key:"removeRenderable",value:function(e){return this.removeEntity(e.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(e){return this.entities.indexOf(e)===-1&&this.entities.push(e),this}},{key:"removeEntity",value:function(e){var n=this.entities.indexOf(e);return this.entities.splice(n,1),this}}]),r}(),TV))||_V),kV,MV,IV,Mee=(kV=gi(),kV(MV=(IV=function(){function r(){Rr(this,r),this.cache={}}return Yr(r,[{key:"get",value:function(e){return this.cache[e]}},{key:"set",value:function(e,n){this.cache[e]=n}}]),r}(),IV))||MV),PV,RV,DV,OV,QE,LV,FV,NV;function BV(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function zV(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?BV(Object(e),!0).forEach(function(n){Mt(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):BV(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}var $V=(PV=gi(),RV=$r(Mee),DV=$r(zt.RenderEngine),PV(OV=(QE=(NV=function(){function r(){Rr(this,r),Br(this,"textureCache",LV,this),Br(this,"engine",FV,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return Yr(r,[{key:"setConfig",value:function(e){this.config=e}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var t=ii(kr.mark(function n(){var i=this;return kr.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!this.config.url){o.next=4;break}return o.abrupt("return",new Promise(function(s,l){var u=i.textureCache.get(i.config.url);if(u)s(u);else{var c=new Image;c.crossOrigin="Anonymous",c.src=i.config.url,c.onload=function(){var f=i.engine.createTexture2D(zV(zV({},i.config),{},{data:c,width:c.width,height:c.height,flipY:!0}));i.textureCache.set(i.config.url,f),i.texture=f,i.loaded=!0,s(f)},c.onerror=function(){l()}}}));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),o.abrupt("return",this.texture);case 7:case"end":return o.stop()}},n,this)}));function e(){return t.apply(this,arguments)}return e}()}]),r}(),NV),LV=zr(QE.prototype,"textureCache",[RV],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),FV=zr(QE.prototype,"engine",[DV],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),QE))||OV),GV,UV,HV,VV,xP,WV,jV,YV=(GV=gi(),UV=$r(zt.Systems),HV=sf(zt.RendererSystem),GV(VV=(xP=(jV=function(){function r(){Rr(this,r),Br(this,"rendererSystem",WV,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return Yr(r,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(e){return this.camera=e,this}},{key:"setScene",value:function(e){return this.scene=e,this}},{key:"setViewport",value:function(e){return this.viewport=e,this}},{key:"setClearColor",value:function(e){return this.clearColor=e,this}},{key:"pick",value:function(e){return this.rendererSystem.pick(e,this)}}]),r}(),jV),WV=zr(xP.prototype,"rendererSystem",[UV,HV],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xP))||VV),XV,qV,KV,wP,ZV,QV;function JV(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function f6e(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?JV(Object(e),!0).forEach(function(n){Mt(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):JV(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}var aT=(XV=gi(),qV=$r(zt.ConfigService),XV(KV=(wP=(QV=function(){function r(){Rr(this,r),Br(this,"configService",ZV,this),this.container=void 0}return Yr(r,[{key:"getEngine",value:function(){var t=ii(kr.mark(function n(){var i,a,o,s;return kr.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=this.container.get(zt.RenderEngine),a=this.configService.get(),o=a.canvas,s=a.engineOptions,u.next=4,i.init(f6e({canvas:o||gee(),swapChainFormat:E0.BGRA8Unorm,antialiasing:!1},s));case 4:return u.abrupt("return",i);case 5:case"end":return u.stop()}},n,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getTransformComponent",value:function(e){var n=this.container.get(zt.TransformComponentManager);return n.getComponentByEntity(e)}},{key:"getMeshComponent",value:function(e){var n=this.container.get(zt.MeshComponentManager);return n.getComponentByEntity(e)}},{key:"setConfig",value:function(e){this.configService.set(e)}},{key:"setContainer",value:function(e){this.container=e}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return Yc()}},{key:"createScene",value:function(){return this.container.get(AV)}},{key:"createCamera",value:function(){return this.container.get(mU)}},{key:"createView",value:function(){return this.container.get(YV)}},{key:"createRenderable",value:function(e,n){var i=e?this.container.getNamed(zt.Renderable,e):this.container.get(Kh),a=Yc();return i.setConfig(n||{}),i.setEntity(a),i}},{key:"createGeometry",value:function(e,n){var i=this.container.getNamed(zt.Geometry,e),a=Yc();return i.setConfig(n||{}),i.setEntity(a),i.getComponent()}},{key:"createMaterial",value:function(e,n){var i=this.container.getNamed(zt.Material,e),a=Yc();return i.setConfig(n||{}),i.setEntity(a,e),i.getComponent()}},{key:"createTexture2D",value:function(e){var n=this.container.get($V);return n.setConfig(e),n}},{key:"createBufferGeometry",value:function(e){var n=this.container.getNamed(zt.Systems,zt.GeometrySystem);return n.createBufferGeometry(e)}},{key:"createInstancedBufferGeometry",value:function(e){var n=this.container.getNamed(zt.Systems,zt.GeometrySystem);return n.createInstancedBufferGeometry(e)}},{key:"createShaderMaterial",value:function(e){var n=this.container.getNamed(zt.Systems,zt.MaterialSystem);return n.createShaderMaterial(e)}},{key:"createKernel",value:function(e){var n=this.container.get(RU);return typeof e=="string"?n.setBundle(JSON.parse(e)):n.setBundle(e),n.init(),n}},{key:"createRenderer",value:function(){var e=this.container.get(CV);return e.container=this.container,e.init(),e}},{key:"destroy",value:function(){var e=this.container.getAll(zt.Systems);e.forEach(function(a){a.tearDown&&a.tearDown()});var n=this.container.get(zt.RenderEngine);n.destroy();var i=this.container.get(zt.InteractorService);i.destroy()}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t5e(),i=navigator.gpu?n4e:Bze;n.isBound(zt.RenderEngine)||n.bind(zt.RenderEngine).to(i).inSingletonScope(),n.bind(CV).toSelf(),n.bind(RU).toSelf(),n.bind(Kh).toSelf(),n.bind(YV).toSelf(),n.bind(mU).toSelf(),n.bind(AV).toSelf(),n.bind(r).toSelf(),n.bind(Mee).toSelf(),n.bind($V).toSelf(),n.bind(zt.Geometry).to(o4e).whenTargetNamed(nv.BOX),n.bind(zt.Geometry).to(g4e).whenTargetNamed(nv.SPHERE),n.bind(zt.Geometry).to(h4e).whenTargetNamed(nv.PLANE),n.bind(zt.Geometry).to(c4e).whenTargetNamed(nv.MERGED),n.bind(zt.Material).to(C4e).whenTargetNamed(yee.BASIC),n.bind(zt.Renderable).to(i6e).whenTargetNamed(Kh.POINT),n.bind(zt.Renderable).to(K$e).whenTargetNamed(Kh.LINE),n.bind(zt.Renderable).to(k4e).whenTargetNamed(Kh.GRID);var a=n.get(r);return a.setContainer(n),a.setConfig(e),a}}]),r}(),QV),ZV=zr(wP.prototype,"configService",[qV],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wP))||KV);const gy=(r,t)=>{let e;return r?xr(r)?e=()=>r:e=r:e=()=>t||1,e},d6e=(r,t)=>{const e=[],n=[],i={};let a=0;for(a=0;a<r.length;a++){const s=r[a];i[s.id]=a,e.push(s.x),e.push(s.y),e.push(0),e.push(0),n.push([])}for(a=0;a<t.length;a++){const s=t[a],l=ri(s,"source"),u=ri(s,"target");n[i[l]].push(i[u]),n[i[u]].push(i[l])}let o=0;for(a=0;a<r.length;a++){const s=e.length,l=n[a],u=l.length;e[a*4+2]=s,e[a*4+3]=l.length,o=Math.max(o,l.length);for(let c=0;c<u;++c){const f=l[c];e.push(+f)}}for(;e.length%4!==0;)e.push(0);return{maxEdgePerVetex:o,array:new Float32Array(e)}},h6e=(r,t,e,n)=>{const i=[],a=[],o={};let s=0;for(s=0;s<r.length;s++){const u=r[s];o[u.id]=s,i.push(u.x),i.push(u.y),i.push(0),i.push(0),a.push([])}for(s=0;s<t.length;s++){const u=t[s],c=ri(u,"source"),f=ri(u,"target");a[o[c]].push(o[f]),a[o[c]].push(e(u)),a[o[c]].push(n(u)),a[o[c]].push(0),a[o[f]].push(o[c]),a[o[f]].push(e(u)),a[o[f]].push(n(u)),a[o[f]].push(0)}let l=0;for(s=0;s<r.length;s++){const u=i.length,c=a[s],f=c.length;i[s*4+2]=u+1048576*f/4,i[s*4+3]=0,l=Math.max(l,f/4);for(let d=0;d<f;++d){const h=c[d];i.push(+h)}}for(;i.length%4!==0;)i.push(0);return{maxEdgePerVetex:l,array:new Float32Array(i)}},v6e=(r,t)=>{const e=[],n=r.length,i={};return t.forEach(a=>{r.forEach((o,s)=>{if(i[a[o]]===void 0&&(i[a[o]]=Object.keys(i).length),e.push(i[a[o]]),s===n-1)for(;e.length%4!==0;)e.push(0)})}),{array:new Float32Array(e),count:Object.keys(i).length}},eW=r=>{const t=[],e=r.length,n=r[0].length;for(let i=0;i<n;i++)r.forEach((a,o)=>{if(t.push(a[i]),o===e-1)for(;t.length%4!==0;)t.push(0)});return new Float32Array(t)},p6e='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',g6e='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}';var JE=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(r,t||[])).next())})};class Iee extends Cs{constructor(t){super();this.maxIteration=1e3,this.gravity=10,this.speed=1,this.clustering=!1,this.clusterField="cluster",this.clusterGravity=10,this.workerEnabled=!1,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.updateCfg(t)}getDefaultCfg(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}execute(){return JE(this,void 0,void 0,function*(){const t=this,e=t.nodes;if(!e||e.length===0){t.onLayoutEnd&&t.onLayoutEnd();return}!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);const n=t.center;if(e.length===1){e[0].x=n[0],e[0].y=n[1],t.onLayoutEnd&&t.onLayoutEnd();return}const i={},a={};e.forEach((o,s)=>{xr(o.x)||(o.x=Math.random()*this.width),xr(o.y)||(o.y=Math.random()*this.height),i[o.id]=o,a[o.id]=s}),t.nodeMap=i,t.nodeIdxMap=a,yield t.run()})}executeWithWorker(t,e){return JE(this,void 0,void 0,function*(){const n=this,i=n.nodes,a=n.center;if(!i||i.length===0)return;if(i.length===1){i[0].x=a[0],i[0].y=a[1];return}const o={},s={};i.forEach((l,u)=>{xr(l.x)||(l.x=Math.random()*this.width),xr(l.y)||(l.y=Math.random()*this.height),o[l.id]=l,s[l.id]=u}),n.nodeMap=o,n.nodeIdxMap=s,yield n.run(t,e)})}run(t,e){return JE(this,void 0,void 0,function*(){const n=this,i=n.nodes,a=n.edges,o=n.maxIteration,s=n.center,l=n.height*n.width;let u=Math.sqrt(l)/10;const c=l/(i.length+1),f=Math.sqrt(c),d=n.speed,h=n.clustering,{array:v,count:p}=v6e([n.clusterField],i);i.forEach((T,I)=>{let D=0,O=0;xr(T.fx)&&xr(T.fy)&&(D=T.fx||.001,O=T.fy||.001),v[4*I+1]=D,v[4*I+2]=O});const g=i.length,{maxEdgePerVetex:m,array:y}=d6e(i,a),b=n.workerEnabled;let w;b?w=aT.create({canvas:t,engineOptions:{supportCompute:!0}}):w=aT.create({engineOptions:{supportCompute:!0}});const S=n.onLayoutEnd,E=[];for(let T=0;T<p;T++)E.push(0,0,0,0);const _=w.createKernel(p6e).setDispatch([g,1,1]).setBinding({u_Data:y,u_K:f,u_K2:c,u_Gravity:n.gravity,u_ClusterGravity:n.clusterGravity||n.gravity||1,u_Speed:d,u_MaxDisplace:u,u_Clustering:h?1:0,u_Center:s,u_AttributeArray:v,u_ClusterCenters:E,MAX_EDGE_PER_VERTEX:m,VERTEX_COUNT:g});let A;h&&(A=w.createKernel(g6e).setDispatch([p,1,1]).setBinding({u_Data:y,u_NodeAttributes:v,u_ClusterCenters:E,VERTEX_COUNT:g,CLUSTER_COUNT:p})),yield(()=>JE(this,void 0,void 0,function*(){for(let I=0;I<o;I++)yield _.execute(),h&&(A.setBinding({u_Data:_}),yield A.execute(),_.setBinding({u_ClusterCenters:A})),_.setBinding({u_MaxDisplace:u*=.99});const T=yield _.getOutput();t?e.postMessage({type:cN.GPUEND,vertexEdgeData:T}):i.forEach((I,D)=>{const O=T[4*D],B=T[4*D+1];I.x=O,I.y=B}),S&&S()}))()})}getType(){return"fruchterman-gpu"}}const m6e='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.z;\\nvar ay : f32 = vy * attributes2.z;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {gl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',y6e='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}';var SP=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(r,t||[])).next())})};class Pee extends Cs{constructor(t){super();this.maxIteration=1e3,this.edgeStrength=200,this.nodeStrength=1e3,this.coulombDisScale=.005,this.damping=.9,this.maxSpeed=1e3,this.minMovement=.5,this.interval=.02,this.factor=1,this.linkDistance=1,this.gravity=10,this.workerEnabled=!1,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.updateCfg(t)}getDefaultCfg(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}}execute(){return SP(this,void 0,void 0,function*(){const t=this,e=t.nodes;if(!e||e.length===0){t.onLayoutEnd&&t.onLayoutEnd();return}!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);const n=t.center;if(e.length===1){e[0].x=n[0],e[0].y=n[1],t.onLayoutEnd&&t.onLayoutEnd();return}const i={},a={};e.forEach((o,s)=>{xr(o.x)||(o.x=Math.random()*t.width),xr(o.y)||(o.y=Math.random()*t.height),i[o.id]=o,a[o.id]=s}),t.nodeMap=i,t.nodeIdxMap=a,t.nodeStrength=gy(t.nodeStrength,1),t.edgeStrength=gy(t.edgeStrength,1),yield t.run()})}executeWithWorker(t,e){const n=this,i=n.nodes,a=n.center;if(!i||i.length===0)return;if(i.length===1){i[0].x=a[0],i[0].y=a[1];return}const o={},s={};i.forEach((l,u)=>{xr(l.x)||(l.x=Math.random()*n.width),xr(l.y)||(l.y=Math.random()*n.height),o[l.id]=l,s[l.id]=u}),n.nodeMap=o,n.nodeIdxMap=s,n.nodeStrength=gy(n.nodeStrength,1),n.edgeStrength=gy(n.edgeStrength,1),n.run(t,e)}run(t,e){return SP(this,void 0,void 0,function*(){const n=this,i=n.nodes,a=n.edges,o=n.maxIteration;!n.width&&typeof window!="undefined"&&(n.width=window.innerWidth),!n.height&&typeof window!="undefined"&&(n.height=window.innerHeight);const s=i.length;n.linkDistance=gy(n.linkDistance),n.edgeStrength=gy(n.edgeStrength);const{maxEdgePerVetex:l,array:u}=h6e(i,a,n.linkDistance,n.edgeStrength);n.degrees=pS(i.length,n.nodeIdxMap,a);const c=[],f=[],d=[],h=[],v=[],p=[],g=[];n.getMass||(n.getMass=D=>n.degrees[n.nodeIdxMap[D.id]]||1);const m=n.gravity,y=n.center;i.forEach((D,O)=>{c.push(n.getMass(D)),f.push(n.nodeStrength(D)),n.degrees[O]||(n.degrees[O]=0);let B=[y[0],y[1],m];if(n.getCenter){const U=n.getCenter(D,n.degrees[O]);U&&xr(U[0])&&xr(U[1])&&xr(U[2])&&(B=U)}d.push(B[0]),h.push(B[1]),v.push(B[2]),xr(D.fx)&&xr(D.fy)?(p.push(D.fx||.001),g.push(D.fy||.001)):(p.push(0),g.push(0))});const b=eW([c,n.degrees,f,p]),w=eW([d,h,v,g]),S=n.workerEnabled;let E;S?E=aT.create({canvas:t,engineOptions:{supportCompute:!0}}):E=aT.create({engineOptions:{supportCompute:!0}});const _=n.onLayoutEnd,A=[];u.forEach(D=>{A.push(D)});for(let D=0;D<4;D++)A.push(0);const k=E.createKernel(m6e).setDispatch([s,1,1]).setBinding({u_Data:u,u_damping:n.damping,u_maxSpeed:n.maxSpeed,u_minMovement:n.minMovement,u_coulombDisScale:n.coulombDisScale,u_factor:n.factor,u_NodeAttributeArray1:b,u_NodeAttributeArray2:w,MAX_EDGE_PER_VERTEX:l,VERTEX_COUNT:s,u_AveMovement:A,u_interval:n.interval}),T=E.createKernel(y6e).setDispatch([1,1,1]).setBinding({u_Data:u,VERTEX_COUNT:s,u_AveMovement:[0,0,0,0]});yield(()=>SP(this,void 0,void 0,function*(){for(let O=0;O<o;O++){yield k.execute(),T.setBinding({u_Data:k}),yield T.execute();const B=Math.max(.02,n.interval-O*.002);k.setBinding({u_interval:B,u_AveMovement:T})}const D=yield k.getOutput();t?e.postMessage({type:cN.GPUEND,vertexEdgeData:D}):i.forEach((O,B)=>{const U=D[4*B],N=D[4*B+1];O.x=U,O.y=N}),_&&_()}))()})}getType(){return"gForce-gpu"}}class Ree extends Cs{constructor(t){super();this.center=[0,0],this.maxIteration=100,this.gravity=10,this.comboGravity=10,this.linkDistance=10,this.alpha=1,this.alphaMin=.001,this.alphaDecay=1-Math.pow(this.alphaMin,1/300),this.alphaTarget=0,this.velocityDecay=.6,this.edgeStrength=.6,this.nodeStrength=30,this.preventOverlap=!1,this.preventNodeOverlap=!1,this.preventComboOverlap=!1,this.collideStrength=void 0,this.nodeCollideStrength=.5,this.comboCollideStrength=.5,this.comboSpacing=20,this.comboPadding=10,this.optimizeRangeFactor=1,this.onTick=()=>{},this.onLayoutEnd=()=>{},this.depthAttractiveForceScale=1,this.depthRepulsiveForceScale=2,this.nodes=[],this.edges=[],this.combos=[],this.comboTrees=[],this.width=300,this.height=300,this.bias=[],this.nodeMap={},this.oriComboMap={},this.indexMap={},this.comboMap={},this.previousLayouted=!1,this.updateCfg(t)}getDefaultCfg(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}}execute(){const t=this,e=t.nodes,n=t.center;if(t.comboTree={id:"comboTreeRoot",depth:-1,children:t.comboTrees},!e||e.length===0){t.onLayoutEnd&&t.onLayoutEnd();return}if(e.length===1){e[0].x=n[0],e[0].y=n[1],t.onLayoutEnd&&t.onLayoutEnd();return}t.initVals(),t.run(),t.onLayoutEnd&&t.onLayoutEnd()}run(){const t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);const i=t.center,a=t.velocityDecay,o=t.comboMap;t.previousLayouted||t.initPos(o);for(let u=0;u<n;u++){const c=[];e.forEach((f,d)=>{c[d]={x:0,y:0}}),t.applyCalculate(c),t.applyComboCenterForce(c),e.forEach((f,d)=>{!xr(f.x)||!xr(f.y)||(f.x+=c[d].x*a,f.y+=c[d].y*a)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()}const s=[0,0];e.forEach(u=>{!xr(u.x)||!xr(u.y)||(s[0]+=u.x,s[1]+=u.y)}),s[0]/=e.length,s[1]/=e.length;const l=[i[0]-s[0],i[1]-s[1]];e.forEach((u,c)=>{!xr(u.x)||!xr(u.y)||(u.x+=l[0],u.y+=l[1])}),t.combos.forEach(u=>{const c=o[u.id];c&&c.empty&&(u.x=c.cx||u.x,u.y=c.cy||u.y)}),t.previousLayouted=!0}initVals(){const t=this,e=t.edges,n=t.nodes,i=t.combos,a={},o={},s={};n.forEach((T,I)=>{o[T.id]=T,s[T.id]=I}),t.nodeMap=o,t.indexMap=s;const l={};i.forEach(T=>{l[T.id]=T}),t.oriComboMap=l,t.comboMap=t.getComboMap();const u=t.preventOverlap;t.preventComboOverlap=t.preventComboOverlap||u,t.preventNodeOverlap=t.preventNodeOverlap||u;const c=t.collideStrength;c&&(t.comboCollideStrength=c,t.nodeCollideStrength=c),t.comboCollideStrength=t.comboCollideStrength?t.comboCollideStrength:0,t.nodeCollideStrength=t.nodeCollideStrength?t.nodeCollideStrength:0;for(let T=0;T<e.length;++T){const I=ri(e[T],"source"),D=ri(e[T],"target");a[I]?a[I]++:a[I]=1,a[D]?a[D]++:a[D]=1}const f=[];for(let T=0;T<e.length;++T){const I=ri(e[T],"source"),D=ri(e[T],"target");f[T]=a[I]/(a[I]+a[D])}this.bias=f;const d=t.nodeSize,h=t.nodeSpacing;let v,p;if(xr(h)?p=()=>h:tv(h)?p=h:p=()=>0,this.nodeSpacing=p,!d)v=T=>T.size?ls(T.size)?(T.size[0]>T.size[1]?T.size[0]:T.size[1])/2:ff(T.size)?(T.size.width>T.size.height?T.size.width:T.size.height)/2:T.size/2:10;else if(tv(d))v=T=>d(T);else if(ls(d)){const I=(d[0]>d[1]?d[0]:d[1])/2;v=D=>I}else{const T=d/2;v=I=>T}this.nodeSize=v;const g=t.comboSpacing;let m;xr(g)?m=()=>g:tv(g)?m=g:m=()=>0,this.comboSpacing=m;const y=t.comboPadding;let b;xr(y)?b=()=>y:ls(y)?b=()=>Math.max.apply(null,y):tv(y)?b=y:b=()=>0,this.comboPadding=b;let w=this.linkDistance,S;w||(w=10),xr(w)?S=T=>w:S=w,this.linkDistance=S;let E=this.edgeStrength,_;E||(E=1),xr(E)?_=T=>E:_=E,this.edgeStrength=_;let A=this.nodeStrength,k;A||(A=30),xr(A)?k=T=>A:k=A,this.nodeStrength=k}initPos(t){this.nodes.forEach((i,a)=>{const o=i.comboId,s=t[o];o&&s?(i.x=s.cx+100/(a+1),i.y=s.cy+100/(a+1)):(i.x=100/(a+1),i.y=100/(a+1))})}getComboMap(){const t=this,e=t.nodeMap,n=t.comboTrees,i=t.oriComboMap,a={};return(n||[]).forEach(o=>{const s=[];PE(o,l=>{if(l.itemType==="node"||!i[l.id])return!0;if(a[l.id]===void 0){const f={id:l.id,name:l.id,cx:0,cy:0,count:0,depth:t.oriComboMap[l.id].depth||0,children:[]};a[l.id]=f}const u=l.children;u&&u.forEach(f=>{if(!a[f.id]&&!e[f.id])return!0;s.push(f)});const c=a[l.id];if(c.cx=0,c.cy=0,s.length===0){c.empty=!0;const f=i[l.id];c.cx=f.x,c.cy=f.y}return s.forEach(f=>{if(c.count++,f.itemType!=="node"){const h=a[f.id];xr(h.cx)&&(c.cx+=h.cx),xr(h.cy)&&(c.cy+=h.cy);return}const d=e[f.id];!d||(xr(d.x)&&(c.cx+=d.x),xr(d.y)&&(c.cy+=d.y))}),c.cx/=c.count||1,c.cy/=c.count||1,c.children=s,!0})}),a}applyComboCenterForce(t){const e=this,n=e.gravity,i=e.comboGravity||n,a=this.alpha,o=e.comboTrees,s=e.indexMap,l=e.nodeMap,u=e.comboMap;(o||[]).forEach(c=>{PE(c,f=>{if(f.itemType==="node"||!u[f.id])return!0;const h=u[f.id],v=(h.depth+1)/10*.5,p=h.cx,g=h.cy;return h.cx=0,h.cy=0,h.children.forEach(m=>{if(m.itemType!=="node"){const A=u[m.id];A&&xr(A.cx)&&(h.cx+=A.cx),A&&xr(A.cy)&&(h.cy+=A.cy);return}const y=l[m.id],b=y.x-p||.005,w=y.y-g||.005,S=Math.sqrt(b*b+w*w),E=s[y.id],_=i*a/S*v;t[E].x-=b*_,t[E].y-=w*_,xr(y.x)&&(h.cx+=y.x),xr(y.y)&&(h.cy+=y.y)}),h.cx/=h.count||1,h.cy/=h.count||1,!0})})}applyCalculate(t){const e=this,n=e.comboMap,i=e.nodes,a={};i.forEach((s,l)=>{i.forEach((u,c)=>{if(l<c)return;const f=s.x-u.x||.005,d=s.y-u.y||.005;let h=f*f+d*d;const v=Math.sqrt(h);h<1&&(h=v),a[`${s.id}-${u.id}`]={vx:f,vy:d,vl2:h,vl:v},a[`${u.id}-${s.id}`]={vl2:h,vl:v,vx:-f,vy:-d}})}),e.updateComboSizes(n),e.calRepulsive(t,a),e.calAttractive(t,a),e.preventComboOverlap&&e.comboNonOverlapping(t,n)}updateComboSizes(t){const e=this,n=e.comboTrees,i=e.nodeMap,a=e.nodeSize,o=e.comboSpacing,s=e.comboPadding;(n||[]).forEach(l=>{const u=[];PE(l,c=>{if(c.itemType==="node")return!0;const f=t[c.id];if(!f)return!1;const d=c.children;d&&d.forEach(p=>{!t[p.id]&&!i[p.id]||u.push(p)}),f.minX=1/0,f.minY=1/0,f.maxX=-1/0,f.maxY=-1/0,u.forEach(p=>{if(p.itemType!=="node")return!0;const g=i[p.id];if(!g)return!0;const m=a(g),y=g.x-m,b=g.y-m,w=g.x+m,S=g.y+m;f.minX>y&&(f.minX=y),f.minY>b&&(f.minY=b),f.maxX<w&&(f.maxX=w),f.maxY<S&&(f.maxY=S)});let h=e.oriComboMap[c.id].size||10;ls(h)&&(h=h[0]);const v=Math.max(f.maxX-f.minX,f.maxY-f.minY,h);return f.r=v/2+o(f)/2+s(f),!0})})}comboNonOverlapping(t,e){const n=this,i=n.comboTree,a=n.comboCollideStrength,o=n.indexMap,s=n.nodeMap;PE(i,l=>{if(!e[l.id]&&!s[l.id]&&l.id!=="comboTreeRoot")return!1;const u=l.children;return u&&u.length>1&&u.forEach((c,f)=>{if(c.itemType==="node")return!1;const d=e[c.id];!d||u.forEach((h,v)=>{if(f<=v||h.itemType==="node")return!1;const p=e[h.id];if(!p)return!1;const g=d.cx-p.cx||.005,m=d.cy-p.cy||.005,y=g*g+m*m,b=d.r||1,w=p.r||1,S=b+w,E=w*w,_=b*b;if(y<S*S){const A=c.children;if(!A||A.length===0)return!1;const k=h.children;if(!k||k.length===0)return!1;const T=Math.sqrt(y),I=(S-T)/T*a,D=g*I,O=m*I,B=E/(_+E),U=1-B;A.forEach(N=>{if(N.itemType!=="node")return!1;if(!s[N.id])return;const G=o[N.id];k.forEach(L=>{if(L.itemType!=="node"||!s[L.id])return!1;const F=o[L.id];t[G].x+=D*B,t[G].y+=O*B,t[F].x-=D*U,t[F].y-=O*U})})}})}),!0})}calRepulsive(t,e){const n=this,i=n.nodes,a=n.width*n.optimizeRangeFactor,o=n.nodeStrength,s=n.alpha,l=n.nodeCollideStrength,u=n.preventNodeOverlap,c=n.nodeSize,f=n.nodeSpacing,d=n.depthRepulsiveForceScale,h=n.center;i.forEach((v,p)=>{if(!(!v.x||!v.y)){if(h){const g=n.gravity,m=v.x-h[0]||.005,y=v.y-h[1]||.005,b=Math.sqrt(m*m+y*y);t[p].x-=m*g*s/b,t[p].y-=y*g*s/b}i.forEach((g,m)=>{if(p===m||!g.x||!g.y)return;const{vl2:y,vl:b}=e[`${v.id}-${g.id}`];if(b>a)return;const{vx:w,vy:S}=e[`${v.id}-${g.id}`];let E=Math.log(Math.abs(g.depth-v.depth)/10)+1||1;E=E<1?1:E,g.comboId!==v.comboId&&(E+=1);const _=E?Math.pow(d,E):1,A=o(g)*s/y*_;if(t[p].x+=w*A,t[p].y+=S*A,p<m&&u){const k=c(v)+f(v)||1,T=c(g)+f(g)||1,I=k+T;if(y<I*I){const D=(I-b)/b*l,O=T*T;let B=O/(k*k+O);const U=w*D,N=S*D;t[p].x+=U*B,t[p].y+=N*B,B=1-B,t[m].x-=U*B,t[m].y-=N*B}}})}})}calAttractive(t,e){const n=this,i=n.edges,a=n.linkDistance,o=n.alpha,s=n.edgeStrength,l=n.bias,u=n.depthAttractiveForceScale;i.forEach((c,f)=>{const d=ri(c,"source"),h=ri(c,"target");if(!d||!h||d===h)return;const v=n.indexMap[d],p=n.indexMap[h],g=n.nodeMap[d],m=n.nodeMap[h];if(!g||!m)return;let y=g.depth===m.depth?0:Math.log(Math.abs(g.depth-m.depth)/10);g.comboId===m.comboId&&(y=y/2);let b=y?Math.pow(u,y):1;if(g.comboId!==m.comboId&&b===1?b=u/2:g.comboId===m.comboId&&(b=2),!xr(m.x)||!xr(g.x)||!xr(m.y)||!xr(g.y))return;const{vl:w,vx:S,vy:E}=e[`${h}-${d}`],_=(w-a(c))/w*o*s(c)*b,A=S*_,k=E*_,T=l[f];t[p].x-=A*T,t[p].y-=k*T,t[v].x+=A*(1-T),t[v].y+=k*(1-T)})}getType(){return"comboForce"}}class kN{constructor(t){this.id=t.id||0,this.rx=t.rx,this.ry=t.ry,this.fx=0,this.fy=0,this.mass=t.mass,this.degree=t.degree,this.g=t.g||0}distanceTo(t){const e=this.rx-t.rx,n=this.ry-t.ry;return Math.hypot(e,n)}setPos(t,e){this.rx=t,this.ry=e}resetForce(){this.fx=0,this.fy=0}addForce(t){const e=t.rx-this.rx,n=t.ry-this.ry;let i=Math.hypot(e,n);i=i<1e-4?1e-4:i;const a=this.g*(this.degree+1)*(t.degree+1)/i;this.fx+=a*e/i,this.fy+=a*n/i}in(t){return t.contains(this.rx,this.ry)}add(t){const e=this.mass+t.mass,n=(this.rx*this.mass+t.rx*t.mass)/e,i=(this.ry*this.mass+t.ry*t.mass)/e,a=this.degree+t.degree,o={rx:n,ry:i,mass:e,degree:a};return new kN(o)}}class Ny{constructor(t){this.xmid=t.xmid,this.ymid=t.ymid,this.length=t.length,this.massCenter=t.massCenter||[0,0],this.mass=t.mass||1}getLength(){return this.length}contains(t,e){const n=this.length/2;return t<=this.xmid+n&&t>=this.xmid-n&&e<=this.ymid+n&&e>=this.ymid-n}NW(){const t=this.xmid-this.length/4,e=this.ymid+this.length/4,n=this.length/2,i={xmid:t,ymid:e,length:n};return new Ny(i)}NE(){const t=this.xmid+this.length/4,e=this.ymid+this.length/4,n=this.length/2,i={xmid:t,ymid:e,length:n};return new Ny(i)}SW(){const t=this.xmid-this.length/4,e=this.ymid-this.length/4,n=this.length/2,i={xmid:t,ymid:e,length:n};return new Ny(i)}SE(){const t=this.xmid+this.length/4,e=this.ymid-this.length/4,n=this.length/2,i={xmid:t,ymid:e,length:n};return new Ny(i)}}class By{constructor(t){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,t!=null&&(this.quad=t)}insert(t){if(this.body==null){this.body=t;return}this._isExternal()?(this.quad&&(this.NW=new By(this.quad.NW()),this.NE=new By(this.quad.NE()),this.SW=new By(this.quad.SW()),this.SE=new By(this.quad.SE())),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t))}_putBody(t){!this.quad||(t.in(this.quad.NW())&&this.NW?this.NW.insert(t):t.in(this.quad.NE())&&this.NE?this.NE.insert(t):t.in(this.quad.SW())&&this.SW?this.SW.insert(t):t.in(this.quad.SE())&&this.SE&&this.SE.insert(t))}_isExternal(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null}updateForce(t){if(!(this.body==null||t===this.body))if(this._isExternal())t.addForce(this.body);else{const e=this.quad?this.quad.getLength():0,n=this.body.distanceTo(t);e/n<this.theta?t.addForce(this.body):(this.NW&&this.NW.updateForce(t),this.NE&&this.NE.updateForce(t),this.SW&&this.SW.updateForce(t),this.SE&&this.SE.updateForce(t))}}}class Dee extends Cs{constructor(t){super();this.center=[0,0],this.width=300,this.height=300,this.nodes=[],this.edges=[],this.kr=5,this.kg=1,this.mode="normal",this.preventOverlap=!1,this.dissuadeHubs=!1,this.barnesHut=void 0,this.maxIteration=0,this.ks=.1,this.ksmax=10,this.tao=.1,this.onLayoutEnd=()=>{},this.prune=void 0,this.updateCfg(t)}getDefaultCfg(){return{}}execute(){const t=this,{nodes:e,onLayoutEnd:n,prune:i}=t;let a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);const o=[],s=e.length;for(let l=0;l<s;l+=1){const u=e[l];let c=10,f=10;xr(u.size)&&(c=u.size,f=u.size),ls(u.size)?(isNaN(u.size[0])||(c=u.size[0]),isNaN(u.size[1])||(f=u.size[1])):ff(u.size)&&(c=u.size.width,f=u.size.height),t.getWidth&&!isNaN(t.getWidth(u))&&(f=t.getWidth(u)),t.getHeight&&!isNaN(t.getHeight(u))&&(c=t.getHeight(u));const d=Math.max(c,f);o.push(d)}t.barnesHut===void 0&&s>250&&(t.barnesHut=!0),t.prune===void 0&&s>100&&(t.prune=!0),this.maxIteration===0&&!t.prune?(a=250,s<=200&&s>100?a=1e3:s>200&&(a=1200),this.maxIteration=a):this.maxIteration===0&&i&&(a=100,s<=200&&s>100?a=500:s>200&&(a=950),this.maxIteration=a),t.kr||(t.kr=50,s>100&&s<=500?t.kr=20:s>500&&(t.kr=1)),t.kg||(t.kg=20,s>100&&s<=500?t.kg=10:s>500&&(t.kg=1)),this.nodes=t.updateNodesByForces(o),n()}updateNodesByForces(t){const e=this,{edges:n,maxIteration:i}=e;let a=e.nodes;const o=n.filter(v=>{const p=ri(v,"source"),g=ri(v,"target");return p!==g}),s=a.length,l=o.length,u=[],c={},f={},d=[];for(let v=0;v<s;v+=1)c[a[v].id]=v,u[v]=0,(a[v].x===void 0||isNaN(a[v].x))&&(a[v].x=Math.random()*1e3),(a[v].y===void 0||isNaN(a[v].y))&&(a[v].y=Math.random()*1e3),d.push({x:a[v].x,y:a[v].y});for(let v=0;v<l;v+=1){let p,g,m=0,y=0;for(let b=0;b<s;b+=1){const w=ri(o[v],"source"),S=ri(o[v],"target");a[b].id===w?(p=a[b],m=b):a[b].id===S&&(g=a[b],y=b),f[v]={sourceIdx:m,targetIdx:y}}p&&(u[c[p.id]]+=1),g&&(u[c[g.id]]+=1)}let h=i;if(a=this.iterate(h,c,f,l,u,t),e.prune){for(let v=0;v<l;v+=1)u[f[v].sourceIdx]<=1?(a[f[v].sourceIdx].x=a[f[v].targetIdx].x,a[f[v].sourceIdx].y=a[f[v].targetIdx].y):u[f[v].targetIdx]<=1&&(a[f[v].targetIdx].x=a[f[v].sourceIdx].x,a[f[v].targetIdx].y=a[f[v].sourceIdx].y);e.prune=!1,e.barnesHut=!1,h=100,a=this.iterate(h,c,f,l,u,t)}return a}iterate(t,e,n,i,a,o){const s=this;let{nodes:l}=s;const{kr:u,preventOverlap:c}=s,{barnesHut:f}=s,d=l.length;let h=0;const v=100;let p=t;const g=50;let m=[];const y=[],b=[];for(let w=0;w<d;w+=1)if(m[2*w]=0,m[2*w+1]=0,f){const S={id:w,rx:l[w].x,ry:l[w].y,mass:1,g:u,degree:a[w]};b[w]=new kN(S)}for(;p>0;){for(let S=0;S<d;S+=1)y[2*S]=m[2*S],y[2*S+1]=m[2*S+1],m[2*S]=0,m[2*S+1]=0;m=this.getAttrForces(p,g,i,e,n,a,o,m),f&&(c&&p>g||!c)?m=this.getOptRepGraForces(m,b,a):m=this.getRepGraForces(p,g,m,v,o,a);const w=this.updatePos(m,y,h,a);l=w.nodes,h=w.sg,p--,s.tick&&s.tick()}return l}getAttrForces(t,e,n,i,a,o,s,l){const u=this,{nodes:c,preventOverlap:f,dissuadeHubs:d,mode:h,prune:v}=u;for(let p=0;p<n;p+=1){const g=c[a[p].sourceIdx],m=a[p].sourceIdx,y=c[a[p].targetIdx],b=a[p].targetIdx;if(v&&(o[m]<=1||o[b]<=1))continue;const w=[y.x-g.x,y.y-g.y];let S=Math.hypot(w[0],w[1]);S=S<1e-4?1e-4:S,w[0]=w[0]/S,w[1]=w[1]/S,f&&t<e&&(S=S-s[m]-s[b]);let E=S,_=E;h==="linlog"&&(E=Math.log(1+S),_=E),d&&(E=S/o[m],_=S/o[b]),f&&t<e&&S<=0?(E=0,_=0):f&&t<e&&S>0&&(E=S,_=S),l[2*i[g.id]]+=E*w[0],l[2*i[y.id]]-=_*w[0],l[2*i[g.id]+1]+=E*w[1],l[2*i[y.id]+1]-=_*w[1]}return l}getRepGraForces(t,e,n,i,a,o){const s=this,{nodes:l,preventOverlap:u,kr:c,kg:f,center:d,prune:h}=s,v=l.length;for(let p=0;p<v;p+=1){for(let b=p+1;b<v;b+=1){if(h&&(o[p]<=1||o[b]<=1))continue;const w=[l[b].x-l[p].x,l[b].y-l[p].y];let S=Math.hypot(w[0],w[1]);S=S<1e-4?1e-4:S,w[0]=w[0]/S,w[1]=w[1]/S,u&&t<e&&(S=S-a[p]-a[b]);let E=c*(o[p]+1)*(o[b]+1)/S;u&&t<e&&S<0?E=i*(o[p]+1)*(o[b]+1):u&&t<e&&S===0?E=0:u&&t<e&&S>0&&(E=c*(o[p]+1)*(o[b]+1)/S),n[2*p]-=E*w[0],n[2*b]+=E*w[0],n[2*p+1]-=E*w[1],n[2*b+1]+=E*w[1]}const g=[l[p].x-d[0],l[p].y-d[1]],m=Math.hypot(g[0],g[1]);g[0]=g[0]/m,g[1]=g[1]/m;const y=f*(o[p]+1);n[2*p]-=y*g[0],n[2*p+1]-=y*g[1]}return n}getOptRepGraForces(t,e,n){const i=this,{nodes:a,kg:o,center:s,prune:l}=i,u=a.length;let c=9e10,f=-9e10,d=9e10,h=-9e10;for(let y=0;y<u;y+=1)l&&n[y]<=1||(e[y].setPos(a[y].x,a[y].y),a[y].x>=f&&(f=a[y].x),a[y].x<=c&&(c=a[y].x),a[y].y>=h&&(h=a[y].y),a[y].y<=d&&(d=a[y].y));const v=Math.max(f-c,h-d),p={xmid:(f+c)/2,ymid:(h+d)/2,length:v,massCenter:s,mass:u},g=new Ny(p),m=new By(g);for(let y=0;y<u;y+=1)l&&n[y]<=1||e[y].in(g)&&m.insert(e[y]);for(let y=0;y<u;y+=1){if(l&&n[y]<=1)continue;e[y].resetForce(),m.updateForce(e[y]),t[2*y]-=e[y].fx,t[2*y+1]-=e[y].fy;const b=[a[y].x-s[0],a[y].y-s[1]];let w=Math.hypot(b[0],b[1]);w=w<1e-4?1e-4:w,b[0]=b[0]/w,b[1]=b[1]/w;const S=o*(n[y]+1);t[2*y]-=S*b[0],t[2*y+1]-=S*b[1]}return t}updatePos(t,e,n,i){const a=this,{nodes:o,ks:s,tao:l,prune:u,ksmax:c}=a,f=o.length,d=[],h=[];let v=0,p=0;for(let m=0;m<f;m+=1){if(u&&i[m]<=1)continue;const y=[t[2*m]-e[2*m],t[2*m+1]-e[2*m+1]],b=Math.hypot(y[0],y[1]),w=[t[2*m]+e[2*m],t[2*m+1]+e[2*m+1]],S=Math.hypot(w[0],w[1]);d[m]=b,h[m]=S/2,v+=(i[m]+1)*d[m],p+=(i[m]+1)*h[m]}const g=n;n=l*p/v,g!==0&&(n=n>1.5*g?1.5*g:n);for(let m=0;m<f;m+=1){if(u&&i[m]<=1)continue;let y=s*n/(1+n*Math.sqrt(d[m])),b=Math.hypot(t[2*m],t[2*m+1]);b=b<1e-4?1e-4:b;const w=c/b;y=y>w?w:y;const S=y*t[2*m],E=y*t[2*m+1];o[m].x+=S,o[m].y+=E}return{nodes:o,sg:n}}}class bd{constructor(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}init(t,e,n){this.cells=[],this.CELL_W=n.CELL_W||bd.DEFAULT_CELL_W,this.CELL_H=n.CELL_H||bd.DEFAULT_CELL_H,this.columnNum=Math.ceil(t/this.CELL_W),this.rowNum=Math.ceil(e/this.CELL_H),bd.MIN_DIST=Math.pow(t,2)+Math.pow(e,2);for(let i=0;i<this.columnNum;i++){const a=[];for(let o=0;o<this.rowNum;o++){const s={dx:i,dy:o,x:i*this.CELL_W,y:o*this.CELL_H,occupied:!1};a.push(s)}this.cells.push(a)}}findGridByNodeId(t){var e,n;for(let i=0;i<this.columnNum;i++)for(let a=0;a<this.rowNum;a++)if(this.cells[i][a].node&&((n=(e=this.cells[i][a])===null||e===void 0?void 0:e.node)===null||n===void 0?void 0:n.id)===t)return{column:i,row:a};return null}sqdist(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)}occupyNearest(t){let e=bd.MIN_DIST,n,i=null;for(let a=0;a<this.columnNum;a++)for(let o=0;o<this.rowNum;o++)!this.cells[a][o].occupied&&(n=this.sqdist(t,this.cells[a][o]))<e&&(e=n,i=this.cells[a][o]);return i&&(i.occupied=!0),i}insertColumn(t,e){if(!(e<=0)){for(let n=0;n<e;n++){this.cells[n+this.columnNum]=[];for(let i=0;i<this.rowNum;i++)this.cells[n+this.columnNum][i]={dx:n,dy:i,x:n*this.CELL_W,y:i*this.CELL_H,occupied:!1,node:null}}for(let n=this.columnNum-1;n>t;n--)for(let i=0;i<this.rowNum;i++)this.cells[n+e][i]=Object.assign(Object.assign({},this.cells[n][i]),{x:(n+e)*this.CELL_W,y:i*this.CELL_H}),this.cells[n][i]={x:n*this.CELL_W,y:i*this.CELL_H,occupied:!0,node:null};for(let n=0;n<this.additionColumn.length;n++)this.additionColumn[n]>=t&&(this.additionColumn[n]+=e);for(let n=0;n<e;n++)this.additionColumn.push(t+n+1);this.columnNum+=e}}insertRow(t,e){if(!(e<=0)){for(let n=0;n<e;n++)for(let i=0;i<this.columnNum;i++)this.cells[i][n+this.rowNum]={dx:i,dy:n,x:i*this.CELL_W,y:n*this.CELL_H,occupied:!1,node:null};for(let n=0;n<this.columnNum;n++)for(let i=this.rowNum-1;i>t;i--)this.cells[n][i+e]=Object.assign(Object.assign({},this.cells[n][i]),{dx:n,dy:i+e,x:n*this.CELL_W,y:(i+e)*this.CELL_H}),this.cells[n][i]={dx:n,dy:i,x:n*this.CELL_W,y:i*this.CELL_H,occupied:!1,node:null};for(let n=0;n<this.additionRow.length;n++)this.additionRow[n]>=t&&(this.additionRow[n]+=e);for(let n=0;n<e;n++)this.additionRow.push(t+n+1);this.rowNum+=e}}getNodes(){const t=[];for(let e=0;e<this.columnNum;e++)for(let n=0;n<this.rowNum;n++)this.cells[e][n].node&&t.push(this.cells[e][n]);return t}}bd.MIN_DIST=50;bd.DEFAULT_CELL_W=80;bd.DEFAULT_CELL_H=80;function b6e(r,t){if(!r.nodes||r.nodes.length===0)return r;const e=t.width,n=t.height,i=t.nodeMinGap;let a=1e4,o=1e4;r.nodes.forEach(l=>{const u=l.size[0]||50,c=l.size[1]||50;a=Math.min(u,a),o=Math.min(c,o)});const s=new bd;s.init(e,n,{CELL_H:o,CELL_W:a}),r.nodes.forEach(l=>{const u=s.occupyNearest(l);u&&(u.node={id:l.id,size:l.size},l.x=u.x,l.y=u.y,l.dx=u.dx,l.dy=u.dy)});for(let l=0;l<r.nodes.length;l++){const u=r.nodes[l],c=s.findGridByNodeId(u.id);if(!c)throw new Error("can not find node cell");const{column:f,row:d}=c;if(u.size[0]+i>a){const h=Math.ceil((u.size[0]+i)/a)-1;let v=h;for(let p=0;p<h&&(s.additionColumn.indexOf(f+p+1)>-1&&!s.cells[f+p+1][d].node);p++)v--;s.insertColumn(f,v)}if(u.size[1]+i>o){const h=Math.ceil((u.size[1]+i)/o)-1;let v=h;for(let p=0;p<h&&(s.additionRow.indexOf(d+p+1)>-1&&!s.cells[f][d+p+1].node);p++)v--;s.insertRow(d,v)}}for(let l=0;l<s.columnNum;l++)for(let u=0;u<s.rowNum;u++){const c=s.cells[l][u];if(c.node){const f=r.nodes.find(d=>{var h;return d.id===((h=c==null?void 0:c.node)===null||h===void 0?void 0:h.id)});f&&(f.x=c.x+f.size[0]/2,f.y=c.y+f.size[1]/2)}}}const Oee=1200,Lee=800,e2=1e7,Fx=10,Fee=3.141592653589793,CP=1.5707963267948966,x6e=Fee*.375,w6e=Fee*.625,X2=new Map,S6e=10,C6e=10;let EP=.8;const tW=.1,E6e=.5;function _6e(r,t,e){const n=r.x-r.size[0]/2,i=r.y-r.size[1]/2,a=r.x+r.size[0]/2,o=r.y+r.size[1]/2,s=t.x-t.size[0]/2,l=t.y-t.size[1]/2,u=t.x+t.size[0]/2,c=t.y+t.size[1]/2,f=r.x,d=r.y,h=t.x,v=t.y,p=h-f,g=Math.atan2(p,v-d);let m=0,y=0,b=0,w=0;g>CP?(y=i-c,m=s-a,b=parseFloat(y?(y/Math.cos(g)).toFixed(2):m.toFixed(2)),w=parseFloat(m?(m/Math.sin(g)).toFixed(2):y.toFixed(2))):0<g&&g<=CP?(y=l-o,m=s-a,y>m?b=w=parseFloat(y?(y/Math.cos(g)).toFixed(2):m.toFixed(2)):b=w=parseFloat(m?(m/Math.sin(g)).toFixed(2):y.toFixed(2))):g<-CP?(y=i-c,m=-(u-n),y>m?b=w=parseFloat(y?(y/Math.cos(g)).toFixed(2):m.toFixed(2)):b=w=parseFloat(m?(m/Math.sin(g)).toFixed(2):y.toFixed(2))):(y=l-o,Math.abs(p)>(a-n)/2?m=n-u:m=p,y>m?b=w=parseFloat(y?(y/Math.cos(g)).toFixed(2):m.toFixed(2)):b=w=parseFloat(m&&g!==0?(m/Math.sin(g)).toFixed(2):y.toFixed(2)));const S=parseFloat(g.toFixed(2));let E=e;return e&&(E=x6e<S&&S<w6e),{distance:Math.abs(b<w?b:w),isHoriz:E}}function Nee(r,t){const n=(X2.get(r.id)||[]).find(_=>_.source===t.id||_.target===t.id),i=r.size[0]*r.size[1],a=t.size[0]*t.size[1],o=i>a?t:r,s=i>a?r:t,l=o.x-o.size[0]/2,u=o.y-o.size[1]/2,c=o.x+o.size[0]/2,f=o.y+o.size[1]/2,d=s.x-s.size[0]/2,h=s.y-s.size[1]/2,v=s.x+s.size[0]/2,p=s.y+s.size[1]/2,g=o.x,m=o.y,y=s.x,b=s.y,w=c>=d&&v>=l&&f>=h&&p>=u;let S=0,E=0;if(w){E=Math.sqrt(Math.pow(y-g,2)+Math.pow(b-m,2));const _=l>d?l:d,A=u>h?u:h,k=c<v?c:v,T=f<p?f:p,I=k-_,D=T-A,O=I*D;E===0&&(E=1e-7),S=Fx*1/E*100+O,S*=e2}else{let _=!1;const A=_6e(o,s,_);E=A.distance,_=A.isHoriz,E<=Fx?E!==0?n?S+=Fx+e2*1/E:S+=Fx+e2*Fx/E:S+=e2:(S+=E,n&&(S+=E*E))}return S}function Bee(r){let t=0;for(let e=0;e<r.length;e++){const n=r[e];(n.x<0||n.y<0||n.x>Oee||n.y>Lee)&&(t+=1e12);for(let i=e+1;i<r.length;i++)t+=Nee(n,r[i])}return t}function T6e(r,t,e,n){const i=new Map;e.forEach((l,u)=>{i.set(l.id,l)});const a=n.filter(l=>l.source===r.id||l.target===r.id)||[],o=[];a.forEach(l=>{const u=l.source===r.id?l.target:l.source,c=i.get(u);c&&o.push(c)});let s=!0;for(let l=0;l<o.length;l++){const u=o[l],c=Math.atan((r.y-u.y)/(u.x-r.y))*180,f=Math.atan((t.y-u.y)/(u.x-t.y))*180,d=c<30||c>150,h=f<30||f>150,v=c>70&&c<110,p=f>70&&f<110;if(d&&!h||c*f<0){s=!1;break}else if(v&&!p||c*f<0){s=!1;break}else if((u.x-r.x)*(u.x-t.x)<0){s=!1;break}else if((u.y-r.y)*(u.y-t.y)<0){s=!1;break}}return s}function A6e(r,t){let e=!1;const n=1,i=S6e*n,a=C6e*n,o=[i,-i,0,0],s=[0,0,a,-a];for(let l=0;l<r.length;++l){const u=r[l];let c=rW(u,r);for(let f=0;f<o.length;f++)if(T6e(u,{x:u.x+o[f],y:u.y+s[f]},r,t)){u.x+=o[f],u.y+=s[f];const h=rW(u,r),v=Math.random();h<c||v<EP&&v>tW?(c=h,e=!0):(u.x-=o[f],u.y-=s[f])}}return EP>tW&&(EP*=E6e),e?Bee(r):0}function rW(r,t){let e=0;(r.x<0||r.y<0||r.x+r.size[0]+20>Oee||r.y+r.size[1]+20>Lee)&&(e+=1e12);for(let n=0;n<t.length;++n)r.id!==t[n].id&&(e+=Nee(r,t[n]));return e}function k6e(r,t){if(r.length===0)return{nodes:r,edges:t};r.forEach(l=>{const u=t.filter(c=>c.source===l.id||c.target===l.id);X2.set(l,u)}),r.sort((l,u)=>{var c,f;return((c=X2.get(l.id))===null||c===void 0?void 0:c.length)-((f=X2.get(u.id))===null||f===void 0?void 0:f.length)});let e=Bee(r),n=20,i=1,a=0;const o=50;let s=0;for(;n>0&&(s++,!(s>=o));){const l=A6e(r,t);l!==0&&(a=l),i=a-e,e=a,i===0?--n:n=20}return r.forEach(l=>{l.x=l.x-l.size[0]/2,l.y=l.y-l.size[1]/2}),{nodes:r,edges:t}}function M6e(r,t){const{nodes:e,edges:n}=r,i=t.width,a=t.height;if(!(e==null?void 0:e.length))return Promise.resolve();const o=[];e.forEach(v=>{if(n.filter(g=>g.source===v.id||g.target===v.id).length>1){const g=Object.assign({},v);delete g.size,o.push(g)}});const s=[];n.forEach(v=>{const p=o.find(m=>m.id===v.source),g=o.find(m=>m.id===v.target);p&&g&&s.push(v)});const l=new mN({type:"dagre",ranksep:t.nodeMinGap,nodesep:t.nodeMinGap}),{nodes:u}=l.layout({nodes:o,edges:s});e.forEach(v=>{const p=(u||[]).find(g=>g.id===v.id);v.x=(p==null?void 0:p.x)||i/2,v.y=(p==null?void 0:p.y)||a/2});const c=JSON.parse(JSON.stringify(e)),f=JSON.parse(JSON.stringify(n)),d=lN().nodes(c).force("link",Z_(f).id(v=>v.id).distance(v=>s.find(g=>g.source===v.source&&g.target===v.target)?30:20)).force("charge",uN()).force("center",aJ(i/2,a/2)).force("x",hJ(i/2)).force("y",vJ(a/2)).alpha(.3).alphaDecay(.08).alphaMin(.001);return new Promise(v=>{d.on("end",()=>{e.forEach(S=>{const E=c.find(_=>_.id===S.id);E&&(S.x=E.x,S.y=E.y)});const p=Math.min(...e.map(S=>S.x)),g=Math.max(...e.map(S=>S.x)),m=Math.min(...e.map(S=>S.y)),y=Math.max(...e.map(S=>S.y)),b=i/(g-p),w=a/(y-m);e.forEach(S=>{S.x!==void 0&&b<1&&(S.x=(S.x-p)*b),S.y!==void 0&&w<1&&(S.y=(S.y-m)*w)}),e.forEach(S=>{S.sizeTemp=S.size,S.size=[10,10]}),k6e(e,n),e.forEach(S=>{S.size=S.sizeTemp||[],delete S.sizeTemp}),b6e({nodes:e,edges:n},t),v()})})}class I6e extends Cs{constructor(t){super();this.width=300,this.height=300,this.nodeMinGap=50,this.onLayoutEnd=()=>{},t&&this.updateCfg(t)}getDefaultCfg(){return{width:300,height:300,nodeMinGap:50}}execute(){const t=this,e=t.nodes,n=t.edges;return e==null||e.forEach(i=>{i.size||(i.size=[50,50])}),M6e({nodes:e,edges:n},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then(()=>{t.onLayoutEnd&&t.onLayoutEnd()})}getType(){return"er"}}const oT={force:pJ,fruchterman:KJ,forceAtlas2:Dee,gForce:iJ,dagre:mN,circular:gJ,radial:YJ,concentric:XJ,grid:rJ,mds:qJ,comboForce:Ree,random:nJ,"gForce-gpu":Pee,"fruchterman-gpu":Iee,er:I6e};var P6e=_g.mix,Wd={assign:P6e};Wd.assign;var MN=18,R6e=MN*2,nW=MN,D6e={getId:function(t){return t.id||t.name},getPreH:function(t){return t.preH||0},getPreV:function(t){return t.preV||0},getHGap:function(t){return t.hgap||nW},getVGap:function(t){return t.vgap||nW},getChildren:function(t){return t.children},getHeight:function(t){return t.height||R6e},getWidth:function(t){var e=t.label||" ";return t.width||e.split("").length*MN}};function sT(r,t){var e=this;if(e.vgap=e.hgap=0,r instanceof sT)return r;e.data=r;var n=t.getHGap(r),i=t.getVGap(r);return e.preH=t.getPreH(r),e.preV=t.getPreV(r),e.width=t.getWidth(r),e.height=t.getHeight(r),e.width+=e.preH,e.height+=e.preV,e.id=t.getId(r),e.x=e.y=0,e.depth=0,e.children||(e.children=[]),e.addGap(n,i),e}Wd.assign(sT.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(t,e){var n=this;n.hgap+=t,n.vgap+=e,n.width+=2*t,n.height+=2*e},eachNode:function(t){for(var e=this,n=[e],i;i=n.shift();)t(i),n=i.children.concat(n)},DFTraverse:function(t){this.eachNode(t)},BFTraverse:function(t){for(var e=this,n=[e],i;i=n.shift();)t(i),n=n.concat(i.children)},getBoundingBox:function(){var t={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.width=Math.max(t.width,e.x+e.width),t.height=Math.max(t.height,e.y+e.height)}),t},translate:function(t,e){t===void 0&&(t=0),e===void 0&&(e=0),this.eachNode(function(n){n.x+=t,n.y+=e,n.x+=n.preH,n.y+=n.preV})},right2left:function(){var t=this,e=t.getBoundingBox();t.eachNode(function(n){n.x=n.x-(n.x-e.left)*2-n.width}),t.translate(e.width,0)},bottom2top:function(){var t=this,e=t.getBoundingBox();t.eachNode(function(n){n.y=n.y-(n.y-e.top)*2-n.height}),t.translate(0,e.height)}});function O6e(r,t,e){t===void 0&&(t={}),t=Wd.assign({},D6e,t);var n=new sT(r,t),i=[n],a;if(!e&&!r.collapsed){for(;a=i.shift();)if(!a.data.collapsed){var o=t.getChildren(a.data),s=o?o.length:0;if(a.children=new Array(s),o&&s)for(var l=0;l<s;l++){var u=new sT(o[l],t);a.children[l]=u,i.push(u),u.parent=a,u.depth=a.depth+1}}}return n}var lO=O6e,L6e=function(){function r(e,n){n===void 0&&(n={});var i=this;i.options=n,i.rootNode=lO(e,n)}var t=r.prototype;return t.execute=function(){throw new Error("please override this method")},r}(),HA=L6e;function f1(r,t,e,n){n===void 0&&(n=[]);var i=this;i.w=r||0,i.h=t||0,i.y=e||0,i.x=0,i.c=n||[],i.cs=n.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}f1.fromNode=function(r,t){if(!r)return null;var e=[];return r.children.forEach(function(n){e.push(f1.fromNode(n,t))}),t?new f1(r.height,r.width,r.x,e):new f1(r.width,r.height,r.y,e)};function zee(r,t,e){e?r.y+=t:r.x+=t,r.children.forEach(function(n){zee(n,t,e)})}function $ee(r,t){var e=t?r.y:r.x;return r.children.forEach(function(n){e=Math.min($ee(n,t),e)}),e}function F6e(r,t){var e=$ee(r,t);zee(r,-e,t)}function Gee(r,t,e){e?t.y=r.x:t.x=r.x,r.c.forEach(function(n,i){Gee(n,t.children[i],e)})}function Uee(r,t,e){e===void 0&&(e=0),t?(r.x=e,e+=r.width):(r.y=e,e+=r.height),r.children.forEach(function(n){Uee(n,t,e)})}var N6e=function(r,t){t===void 0&&(t={});var e=t.isHorizontal;function n(y){if(y.cs===0){i(y);return}n(y.c[0]);for(var b=g(u(y.c[0].el),0,null),w=1;w<y.cs;++w){n(y.c[w]);var S=u(y.c[w].er);a(y,w,b),b=g(S,w,b)}d(y),i(y)}function i(y){y.cs===0?(y.el=y,y.er=y,y.msel=y.mser=0):(y.el=y.c[0].el,y.msel=y.c[0].msel,y.er=y.c[y.cs-1].er,y.mser=y.c[y.cs-1].mser)}function a(y,b,w){for(var S=y.c[b-1],E=S.mod,_=y.c[b],A=_.mod;S!==null&&_!==null;){u(S)>w.low&&(w=w.nxt);var k=E+S.prelim+S.w-(A+_.prelim);k>0&&(A+=k,o(y,b,w.index,k));var T=u(S),I=u(_);T<=I&&(S=l(S),S!==null&&(E+=S.mod)),T>=I&&(_=s(_),_!==null&&(A+=_.mod))}!S&&!!_?c(y,b,_,A):!!S&&!_&&f(y,b,S,E)}function o(y,b,w,S){y.c[b].mod+=S,y.c[b].msel+=S,y.c[b].mser+=S,v(y,b,w,S)}function s(y){return y.cs===0?y.tl:y.c[0]}function l(y){return y.cs===0?y.tr:y.c[y.cs-1]}function u(y){return y.y+y.h}function c(y,b,w,S){var E=y.c[0].el;E.tl=w;var _=S-w.mod-y.c[0].msel;E.mod+=_,E.prelim-=_,y.c[0].el=y.c[b].el,y.c[0].msel=y.c[b].msel}function f(y,b,w,S){var E=y.c[b].er;E.tr=w;var _=S-w.mod-y.c[b].mser;E.mod+=_,E.prelim-=_,y.c[b].er=y.c[b-1].er,y.c[b].mser=y.c[b-1].mser}function d(y){y.prelim=(y.c[0].prelim+y.c[0].mod+y.c[y.cs-1].mod+y.c[y.cs-1].prelim+y.c[y.cs-1].w)/2-y.w/2}function h(y,b){b+=y.mod,y.x=y.prelim+b,p(y);for(var w=0;w<y.cs;w++)h(y.c[w],b)}function v(y,b,w,S){if(w!==b-1){var E=b-w;y.c[w+1].shift+=S/E,y.c[b].shift-=S/E,y.c[b].change-=S-S/E}}function p(y){for(var b=0,w=0,S=0;S<y.cs;S++)b+=y.c[S].shift,w+=b+y.c[S].change,y.c[S].mod+=w}function g(y,b,w){for(;w!==null&&y>=w.low;)w=w.nxt;return{low:y,index:b,nxt:w}}Uee(r,e);var m=f1.fromNode(r,e);return n(m),h(m,0),Gee(m,r,e),F6e(r,e),r},Hee=function(r,t){for(var e=lO(r.data,t,!0),n=lO(r.data,t,!0),i=r.children.length,a=Math.round(i/2),o=t.getSide||function(c,f){return f<a?"right":"left"},s=0;s<i;s++){var l=r.children[s],u=o(l,s);u==="right"?n.children.push(l):e.children.push(l)}return e.eachNode(function(c){c.isRoot()||(c.side="left")}),n.eachNode(function(c){c.isRoot()||(c.side="right")}),{left:e,right:n}},Bh=["LR","RL","TB","BT","H","V"],B6e=["LR","RL","H"],z6e=function(t){return B6e.indexOf(t)>-1},$6e=Bh[0],IN=function(r,t,e){var n=t.direction||$6e;if(t.isHorizontal=z6e(n),n&&Bh.indexOf(n)===-1)throw new TypeError("Invalid direction: "+n);if(n===Bh[0])e(r,t);else if(n===Bh[1])e(r,t),r.right2left();else if(n===Bh[2])e(r,t);else if(n===Bh[3])e(r,t),r.bottom2top();else if(n===Bh[4]||n===Bh[5]){var i=Hee(r,t),a=i.left,o=i.right;e(a,t),e(o,t),t.isHorizontal?a.right2left():a.bottom2top(),o.translate(a.x-o.x,a.y-o.y),r.x=a.x,r.y=o.y;var s=r.getBoundingBox();t.isHorizontal?s.top<0&&r.translate(0,-s.top):s.left<0&&r.translate(-s.left,0)}var l=t.fixedRoot;return l===void 0&&(l=!0),l&&r.translate(-(r.x+r.width/2+r.hgap),-(r.y+r.height/2+r.vgap)),r};function G6e(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}var U6e=function(r){G6e(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;return e.execute=function(){var i=this;return IN(i.rootNode,i.options,N6e)},t}(HA),H6e={};function V6e(r,t){return t=Wd.assign({},H6e,t),new U6e(r,t).execute()}var W6e=V6e;function j6e(r,t){t===void 0&&(t=[]);var e=this;e.x=e.y=0,e.leftChild=e.rightChild=null,e.height=0,e.children=t}var Y6e={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function Vee(r,t,e){e?(t.x=r.x,t.y=r.y):(t.x=r.y,t.y=r.x),r.children.forEach(function(n,i){Vee(n,t.children[i],e)})}var X6e=function(r,t){t===void 0&&(t={}),t=Wd.assign({},Y6e,t);var e=0;function n(l){if(!l)return null;l.width=0,l.depth&&l.depth>e&&(e=l.depth);var u=l.children,c=u.length,f=new j6e(l.height,[]);return u.forEach(function(d,h){var v=n(d);f.children.push(v),h===0&&(f.leftChild=v),h===c-1&&(f.rightChild=v)}),f.originNode=l,f.isLeaf=l.isLeaf(),f}function i(l){if(l.isLeaf||l.children.length===0)l.drawingDepth=e;else{var u=l.children.map(function(f){return i(f)}),c=Math.min.apply(null,u);l.drawingDepth=c-1}return l.drawingDepth}var a;function o(l){l.x=l.drawingDepth*t.rankSep,l.isLeaf?(l.y=0,a&&(l.y=a.y+a.height+t.nodeSep,l.originNode.parent!==a.originNode.parent&&(l.y+=t.subTreeSep)),a=l):(l.children.forEach(function(u){o(u)}),l.y=(l.leftChild.y+l.rightChild.y)/2)}var s=n(r);return i(s),o(s),Vee(s,r,t.isHorizontal),r};function q6e(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}var K6e=function(r){q6e(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;return e.execute=function(){var i=this;return i.rootNode.width=0,IN(i.rootNode,i.options,X6e)},t}(HA),Z6e={};function Q6e(r,t){return t=Wd.assign({},Z6e,t),new K6e(r,t).execute()}var J6e=Q6e;function eGe(r,t,e,n){var i=typeof e=="function"?e(r):e*r.depth;if(!n)try{if(r.id===r.parent.children[0].id){r.x+=i,r.y=t?t.y:0;return}}catch{}r.x+=i,r.y=t?t.y+t.height:0}var t2=function(r,t,e){var n=null;r.eachNode(function(i){eGe(i,n,t,e),n=i})};function tGe(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}var d1=["LR","RL","H"],rGe=d1[0],nGe=function(r){tGe(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;return e.execute=function(){var i=this,a=i.options,o=i.rootNode;a.isHorizontal=!0;var s=a.indent,l=s===void 0?20:s,u=a.dropCap,c=u===void 0?!0:u,f=a.direction||rGe;if(f&&d1.indexOf(f)===-1)throw new TypeError("Invalid direction: "+f);if(f===d1[0])t2(o,l,c);else if(f===d1[1])t2(o,l,c),o.right2left();else if(f===d1[2]){var d=Hee(o,a),h=d.left,v=d.right;t2(h,l,c),h.right2left(),t2(v,l,c);var p=h.getBoundingBox();v.translate(p.width,0),o.x=v.x-o.width/2}return o},t}(HA),iGe={};function aGe(r,t){return t=Wd.assign({},iGe,t),new nGe(r,t).execute()}var oGe=aGe;function Wee(r,t){var e=0;return r.children.length?r.children.forEach(function(n){e+=Wee(n,t)}):e=r.height,r._subTreeSep=t.getSubTreeSep(r.data),r.totalHeight=Math.max(r.height,e)+2*r._subTreeSep,r.totalHeight}function jee(r){var t=r.children,e=t.length;if(e){t.forEach(function(l){jee(l)});var n=t[0],i=t[e-1],a=i.y-n.y+i.height,o=0;if(t.forEach(function(l){o+=l.totalHeight}),a>r.height)r.y=n.y+a/2-r.height/2;else if(t.length!==1||r.height>o){var s=r.y+(r.height-a)/2-n.y;t.forEach(function(l){l.translate(0,s)})}else r.y=(n.y+n.height/2+i.y+i.height/2)/2-r.height/2}}var sGe={getSubTreeSep:function(){return 0}},lGe=function(r,t){t===void 0&&(t={}),t=Wd.assign({},sGe,t),r.parent={x:0,width:0,height:0,y:0},r.BFTraverse(function(e){e.x=e.parent.x+e.parent.width}),r.parent=null,Wee(r,t),r.startY=0,r.y=r.totalHeight/2-r.height/2,r.eachNode(function(e){var n=e.children,i=n.length;if(i){var a=n[0];if(a.startY=e.startY+e._subTreeSep,i===1)a.y=e.y+e.height/2-a.height/2;else{a.y=a.startY+a.totalHeight/2-a.height/2;for(var o=1;o<i;o++){var s=n[o];s.startY=n[o-1].startY+n[o-1].totalHeight,s.y=s.startY+s.totalHeight/2-s.height/2}}}}),jee(r)};function uGe(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}var cGe=function(r){uGe(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;return e.execute=function(){var i=this;return IN(i.rootNode,i.options,lGe)},t}(HA),fGe={};function dGe(r,t){return t=Wd.assign({},fGe,t),new cGe(r,t).execute()}var hGe=dGe,vGe={compactBox:W6e,dendrogram:J6e,indented:oGe,mindmap:hGe},lT=vGe,iW=ac.traverseTree,pGe=function(t,e){var n;return t?ir(t)?n=function(a){return t}:n=t:n=function(a){return e||1},n},gGe=function(t,e){var n=[],i=[],a={},o=0;for(o=0;o<t.length;o++){var s=t[o];a[s.id]=o,n.push(s.x),n.push(s.y),n.push(0),n.push(0),i.push([])}for(o=0;o<e.length;o++){var l=e[o];i[a[l.source]].push(a[l.target]),i[a[l.target]].push(a[l.source])}var u=0;for(o=0;o<t.length;o++){var c=n.length,f=i[o],d=f.length;n[o*4+2]=c,n[o*4+3]=f.length,u=Math.max(u,f.length);for(var h=0;h<d;++h){var v=f[h];n.push(+v)}}for(;n.length%4!==0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:u}},mGe=function(t,e,n){var i=[],a=[],o={},s=0;for(s=0;s<t.length;s++){var l=t[s];o[l.id]=s,i.push(l.x),i.push(l.y),i.push(0),i.push(0),a.push([])}for(s=0;s<e.length;s++){var u=e[s];a[o[u.source]].push(o[u.target]),a[o[u.source]].push(n(u)),a[o[u.target]].push(o[u.source]),a[o[u.target]].push(n(u))}var c=0;for(s=0;s<t.length;s++){var f=i.length,d=a[s],h=d.length;i[s*4+2]=f,i[s*4+3]=h/2,c=Math.max(c,h/2);for(var v=0;v<h;++v){var p=d[v];i.push(+p)}}for(;i.length%4!==0;)i.push(0);return{array:new Float32Array(i),maxEdgePerVetex:c}},yGe=function(t,e,n,i){var a=[],o=[],s={},l=0;for(l=0;l<t.length;l++){var u=t[l];s[u.id]=l,a.push(u.x),a.push(u.y),a.push(0),a.push(0),o.push([])}for(l=0;l<e.length;l++){var c=e[l];o[s[c.source]].push(s[c.target]),o[s[c.source]].push(n(c)),o[s[c.source]].push(i(c)),o[s[c.source]].push(0),o[s[c.target]].push(s[c.source]),o[s[c.target]].push(n(c)),o[s[c.target]].push(i(c)),o[s[c.target]].push(0)}var f=0;for(l=0;l<t.length;l++){var d=a.length,h=o[l],v=h.length;a[l*4+2]=d+1048576*v/4,a[l*4+3]=0,f=Math.max(f,v/4);for(var p=0;p<v;++p){var g=h[p];a.push(+g)}}for(;a.length%4!==0;)a.push(0);return{array:new Float32Array(a),maxEdgePerVetex:f}},bGe=function(t,e){var n=[],i=t.length,a={};return e.forEach(function(o){t.forEach(function(s,l){if(a[o[s]]===void 0&&(a[o[s]]=Object.keys(a).length),n.push(a[o[s]]),l===i-1)for(;n.length%4!==0;)n.push(0)})}),{array:new Float32Array(n),count:Object.keys(a).length}},xGe=function(t){for(var e=[],n=t.length,i=t[0].length,a=function(l){t.forEach(function(u,c){if(e.push(u[l]),c===n-1)for(;e.length%4!==0;)e.push(0)})},o=0;o<i;o++)a(o);return new Float32Array(e)},wGe=function(t,e){var n=["V","TB","BT"],i={x:1/0,y:1/0},a={x:-1/0,y:-1/0},o="x",s="y";e&&n.indexOf(e)>=0&&(s="x",o="y");var l=0;iW(t,function(f){return l++,f.x>a.x&&(a.x=f.x),f.x<i.x&&(i.x=f.x),f.y>a.y&&(a.y=f.y),f.y<i.y&&(i.y=f.y),!0});var u=Math.PI*2/l,c=a[s]-i[s];return c===0||iW(t,function(f){var d=(f[s]-i[s])/c*(Math.PI*2-u)+u,h=Math.abs(o==="x"?f.x-t.x:f.y-t.y);return f.x=h*Math.cos(d),f.y=h*Math.sin(d),!0}),t},SGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",proccessToFunc:pGe,buildTextureData:gGe,buildTextureDataWithOneEdgeAttr:mGe,buildTextureDataWithTwoEdgeAttr:yGe,attributesToTextureData:bGe,arrayToTextureData:xGe,radialLayout:wGe}),Yee=function r(){return typeof window=="undefined"||typeof document=="undefined"?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var t=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl")))}catch{return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`)),e},addGetWebGLMessage:function(e){e=e||{};var n=e.parent!==void 0?e.parent:document.body,i=e.id!==void 0?e.id:"oldie",a=r().getWebGLErrorMessage();a.id=i,n.appendChild(a)}}},CGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",gpuDetector:Yee}),jd=P(P(P(P({},ac),gDe),SGe),CGe),EGe=jd.radialLayout,_Ge=function(){function r(t){this.type=t.type,this.radial=t.radial,this.config=t}return r.prototype.init=function(t){var e=this;if(this.data=t,this.radial){this.layoutMethod=function(n){var i=lT[e.type](n,e.config);return EGe(i),i};return}this.layoutMethod=function(n){return lT[e.type](n,e.config)}},r.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},r.prototype.layout=function(t){return this.init(t),this.execute()},r}();zs("grid",rJ);zs("random",nJ);zs("force",pJ);zs("circular",gJ);zs("dagre",mN);zs("radial",YJ);zs("concentric",XJ);zs("mds",qJ);zs("fruchterman",KJ);zs("fruchterman-gpu",Iee);zs("gForce",iJ);zs("gForce-gpu",Pee);zs("comboForce",Ree);zs("forceAtlas2",Dee);var TGe=function(t,e){e.isCustomLayout=!0,oT[t]=zs(t,e)},AGe=function(){function r(t,e){var n=t.toString(),i=new Blob(["importScripts('".concat(e,"');(").concat(n,")()")],{type:"text/javascript"});return new Worker(URL.createObjectURL(i))}return r}(),kGe=function(t){t===void 0&&(t="https://unpkg.com/@antv/layout@latest/dist/layout.min.js");function e(){var i={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout);function a(s){var l=s.data.type;return l===i.RUN||l===i.GPURUN}function o(s){var l=this,u=s.data.type;switch(u){case i.RUN:{var c=s.data,f=c.nodes,d=c.edges,h=c.layoutCfg,v=h===void 0?{}:h,p=v.type,g=layout.getLayoutByName(p);if(!g){this.postMessage({type:i.ERROR,message:"layout ".concat(p," not found")});break}var m;v.onLayoutEnd=function(){l.postMessage({type:i.END,nodes:f}),m==null||m.destroy()},m=new g(v),m.init({nodes:f,edges:d}),m.execute();break}case i.GPURUN:{var y=s.data,b=y.nodes,d=y.edges,w=y.layoutCfg,v=w===void 0?{}:w,S=y.canvas,p=v.type,g=layout.getLayoutByName(p);if(!g){this.postMessage({type:i.ERROR,message:"layout ".concat(p," not found")});break}if(p.split("-")[1]!=="gpu"){this.postMessage({type:i.ERROR,message:"layout ".concat(p," does not support GPU")});break}var E=new g(v);E.init({nodes:b,edges:d}),E.executeWithWorker(S,this);break}}}onmessage=function(l){a(l)&&o(l)}}var n=new AGe(e,t);return n},my={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};function uO(r){return uO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uO(r)}var aW=function(t){return setTimeout(t,16)},oW=function(t){return clearTimeout(t)},r2={requestAnimationFrame:function(t){var e=typeof window!="undefined"&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||aW;return e(t)},cancelAnimationFrame:function(t){var e=typeof window!="undefined"&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||oW;return e(t)}},MGe=["fruchterman","gForce"],IGe=["force","grid","circular"],PGe=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;return n.graph=e,n.layoutCfg=e.get("layout")||{},n.layoutType=n.getLayoutType(),n.worker=null,n.workerData={},n.initLayout(),n}return t.prototype.initLayout=function(){},t.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=kGe(this.layoutCfg.workerScriptURL),this.worker)},t.prototype.stopWorker=function(){var e=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,e.requestId&&(r2.cancelAnimationFrame(e.requestId),e.requestId=null),e.requestId2&&(r2.cancelAnimationFrame(e.requestId2),e.requestId2=null))},t.prototype.execLayoutMethod=function(e,n){var i=this;return new Promise(function(a,o){return Bc(i,void 0,void 0,function(){var s,l,u,c,v,f,d,h,v,p;return zc(this,function(g){switch(g.label){case 0:if(s=this.graph,!s||s.get("destroyed"))return[2];l=e.type,e.onLayoutEnd=function(){s.emit("aftersublayout",{type:l}),a()},l&&this.isGPU&&(this.hasGPUVersion(l)?l="".concat(l,"-gpu"):console.warn("The '".concat(l,"' layout does not support GPU calculation for now, it will run in CPU."))),u=l==="force"||l==="g6force"||l==="gForce",u?(c=e.onTick,v=function(){c&&c(),s.refreshPositions()},e.tick=v):e.type==="comboForce"&&(e.comboTrees=s.get("comboTrees")),f=!1;try{d=new oT[l](e)}catch{console.warn("The layout method: '".concat(l,"' does not exist! Please specify it first.")),o()}return f=d.enableTick,f&&(h=e.onTick,v=function(){h&&h(),s.refreshPositions()},d.tick=v),p=this.filterLayoutData(this.data,e),OGe(p,n),d.init(p),s.emit("beforesublayout",{type:l}),[4,d.execute()];case 1:return g.sent(),d.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd(),this.layoutMethods[n]=d,[2]}})})})},t.prototype.updateLayoutMethod=function(e,n){var i=this;return new Promise(function(a,o){return Bc(i,void 0,void 0,function(){var s,l,u;return zc(this,function(c){switch(c.label){case 0:return s=this.graph,l=n==null?void 0:n.type,n.onLayoutEnd=function(){s.emit("aftersublayout",{type:l}),a()},u=this.filterLayoutData(this.data,n),e.init(u),e.updateCfg(n),s.emit("beforesublayout",{type:l}),[4,e.execute()];case 1:return c.sent(),e.isCustomLayout&&n.onLayoutEnd&&n.onLayoutEnd(),[2]}})})})},t.prototype.layout=function(e){var n=this,i=this.graph;this.data=this.setDataFromGraph();var a=this.data,o=a.nodes,s=a.hiddenNodes;if(!o)return!1;var l=i.get("width"),u=i.get("height"),c={};Object.assign(c,{width:l,height:u,center:[l/2,u/2]},this.layoutCfg),this.layoutCfg=c,this.destoryLayoutMethods(),i.emit("beforelayout"),this.initPositions(c.center,o),this.initPositions(c.center,s);var f=c.type;f&&f.split("-")[1]==="gpu"&&(f=f.split("-")[0],c.gpuEnabled=!0);var d=!1;c.gpuEnabled&&(d=!0,Yee().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),d=!1)),this.isGPU=d;var h=c.onLayoutEnd,v=c.layoutEndFormatted,p=c.adjust;if(v||(c.layoutEndFormatted=!0,c.onAllLayoutEnd=function(){return Bc(n,void 0,void 0,function(){return zc(this,function(m){switch(m.label){case 0:return h&&h(),this.refreshLayout(),p&&c.pipes?[4,this.adjustPipesBox(this.data,p)]:[3,2];case 1:m.sent(),this.refreshLayout(),m.label=2;case 2:return i.emit("afterlayout"),[2]}})})}),this.stopWorker(),c.workerEnabled&&this.layoutWithWorker(this.data))return!0;var g=Promise.resolve();return c.type?g=g.then(function(){return Bc(n,void 0,void 0,function(){return zc(this,function(m){switch(m.label){case 0:return[4,this.execLayoutMethod(c,0)];case 1:return[2,m.sent()]}})})}):c.pipes&&c.pipes.forEach(function(m,y){g=g.then(function(){return Bc(n,void 0,void 0,function(){return zc(this,function(b){switch(b.label){case 0:return[4,this.execLayoutMethod(m,y)];case 1:return[2,b.sent()]}})})})}),g.then(function(){c.onAllLayoutEnd&&c.onAllLayoutEnd(),e&&e()}).catch(function(m){console.warn("graph layout failed,",m)}),!1},t.prototype.layoutWithWorker=function(e){var n=this,i=this,a=i.layoutCfg,o=i.graph,s=this.getWorker(),l=this.workerData;if(!s)return!1;l.requestId=null,l.requestId2=null,l.currentTick=null,l.currentTickData=null,o.emit("beforelayout");var u=Promise.resolve();if(a.type)u=u.then(function(){return n.runWebworker(s,e,a)});else if(a.pipes)for(var c=function(p){u=u.then(function(){return n.runWebworker(s,e,p)})},f=0,d=a.pipes;f<d.length;f++){var h=d[f];c(h)}return u.then(function(){a.onAllLayoutEnd&&a.onAllLayoutEnd()}).catch(function(v){console.error("layout failed",v)}),!0},t.prototype.runWebworker=function(e,n,i){var a=this,o=this.isGPU,s=this.filterLayoutData(n,i),l=s.nodes,u=s.edges,c=document.createElement("canvas"),f=o&&typeof window!="undefined"&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in c,d=RGe(i,function(v){return typeof v!="function"});if(!f)e.postMessage({type:my.RUN,nodes:l,edges:u,layoutCfg:d});else{var h=c.transferControlToOffscreen();d.type="".concat(d.type,"-gpu"),e.postMessage({type:my.GPURUN,nodes:l,edges:u,layoutCfg:d,canvas:h},[h])}return new Promise(function(v,p){e.onmessage=function(g){a.handleWorkerMessage(v,p,g,s,i)}})},t.prototype.handleWorkerMessage=function(e,n,i,a,o){var s=this,l=s.graph,u=s.workerData,c=i.data,f=c.type,d=function(){o.onTick&&o.onTick()};switch(f){case my.TICK:u.currentTick=c.currentTick,u.currentTickData=c,u.requestId||(u.requestId=r2.requestAnimationFrame(function(){_P(a,c),l.refreshPositions(),d(),c.currentTick===c.totalTicks?e():u.currentTick===c.totalTicks&&(u.requestId2=r2.requestAnimationFrame(function(){_P(a,u.currentTickData),l.refreshPositions(),u.requestId2=null,d(),e()})),u.requestId=null}));break;case my.END:u.currentTick==null&&(_P(a,c),e());break;case my.GPUEND:u.currentTick==null&&(DGe(a,c),e());break;case my.ERROR:console.warn("Web-Worker layout error!",c.message),n();break;default:n();break}},t.prototype.updateLayoutCfg=function(e){var n=this,i=this,a=i.graph,o=i.layoutMethods,s=cr({},this.layoutCfg,e);if(this.layoutCfg=s,!(o==null?void 0:o.length)){this.layout();return}if(this.data=this.setDataFromGraph(),this.stopWorker(),!(e.workerEnabled&&this.layoutWithWorker(this.data))){a.emit("beforelayout");var l=Promise.resolve();o.length===1?l=l.then(function(){return Bc(n,void 0,void 0,function(){return zc(this,function(u){switch(u.label){case 0:return[4,this.updateLayoutMethod(o[0],s)];case 1:return[2,u.sent()]}})})}):o==null||o.forEach(function(u,c){var f=s.pipes[c];l=l.then(function(){return Bc(n,void 0,void 0,function(){return zc(this,function(d){switch(d.label){case 0:return[4,this.updateLayoutMethod(u,f)];case 1:return[2,d.sent()]}})})})}),l.then(function(){s.onAllLayoutEnd&&s.onAllLayoutEnd()}).catch(function(u){console.warn("layout failed",u)})}},t.prototype.adjustPipesBox=function(e,n){var i=this;return new Promise(function(a){var o=e.nodes;(o==null?void 0:o.length)||a(),IGe.includes(n)||(console.warn("The adjust type ".concat(n," is not supported yet, please assign it with 'force', 'grid', or 'circular'.")),a());var s={center:i.layoutCfg.center,nodeSize:function(v){return Math.max(v.height,v.width)},preventOverlap:!0,onLayoutEnd:function(){}},l=i.getLayoutBBox(o),u=l.groupNodes,c=l.layoutNodes,f=Jr(c);s.onLayoutEnd=function(){c==null||c.forEach(function(h,v){var p,g,m,y=h.x-((p=f[v])===null||p===void 0?void 0:p.x),b=h.y-((g=f[v])===null||g===void 0?void 0:g.y);(m=u[v])===null||m===void 0||m.forEach(function(w){w.x+=y,w.y+=b})}),a()};var d=new oT[n](s);d.layout({nodes:c})})},t.prototype.hasGPUVersion=function(e){return MGe.includes(e)},t.prototype.destroy=function(){this.destoryLayoutMethods();var e=this.worker;e&&(e.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},t}(lPe);function _P(r,t){for(var e=r.nodes,n=t.nodes,i=e.length,a=0;a<i;a++){var o=e[a];o.x=n[a].x,o.y=n[a].y}}function RGe(r,t){var e={};return r&&uO(r)==="object"?(Object.keys(r).forEach(function(n){r.hasOwnProperty(n)&&t(r[n])&&(e[n]=r[n])}),e):r}function DGe(r,t){for(var e=r.nodes,n=t.vertexEdgeData,i=e.length,a=0;a<i;a++){var o=e[a],s=n[4*a],l=n[4*a+1];o.x=s,o.y=l}}function OGe(r,t){var e;if(!!((e=r==null?void 0:r.nodes)===null||e===void 0?void 0:e.length)){var n=r.nodes;n.forEach(function(i){i.layoutOrder=t})}}var sW=Ai,LGe="svg",Xee=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this,i=n.get("defaultNode");return i||n.set("defaultNode",{type:"circle"}),i.type||(i.type="circle",n.set("defaultNode",i)),n.destroyed=!1,n}return t.prototype.initLayoutController=function(){var e=new PGe(this);this.set({layoutController:e})},t.prototype.initEventController=function(){var e=new TDe(this);this.set({eventController:e})},t.prototype.initCanvas=function(){var e=this.get("container");if(typeof e=="string"&&(e=document.getElementById(e),this.set("container",e)),!e)throw new Error("invalid container");var n=e.clientWidth,i=e.clientHeight,a=this.get("width")||n,o=this.get("height")||i;!this.get("width")&&!this.get("height")&&(this.set("width",n),this.set("height",i));var s=this.get("renderer"),l;if(s===LGe)l=new Xy({container:e,width:a,height:o});else{var u={container:e,width:a,height:o},c=this.get("pixelRatio");c&&(u.pixelRatio=c),l=new hd(u)}this.set("canvas",l)},t.prototype.initPlugins=function(){var e=this;q(e.get("plugins"),function(n){!n.destroyed&&n.initPlugin&&n.initPlugin(e)})},t.prototype.downloadImageWatermark=function(e,n,i,a){return Bc(this,void 0,void 0,function(){var o,s,l;return zc(this,function(u){switch(u.label){case 0:return o=e.style.backgroundImage,s=o.slice(5,o.length-2),l=new Image,l.src=s,[4,new Promise(function(c){l.onload=function(){var f=n.createPattern(l,"repeat");n.rect(0,0,i,a),n.fillStyle=f,n.fill(),c("")}})];case 1:return u.sent(),[2]}})})},t.prototype.asyncToDataUrl=function(e,n,i,a,o,s){var l=this,u=document.querySelector(".g6-graph-watermarker"),c=this.get("canvas"),f=c.getRenderer(),d=s||c.get("el"),h="";e||(e="image/png"),setTimeout(function(){return Bc(l,void 0,void 0,function(){var v,p,g,m,y,b,w,S,E,_;return zc(this,function(A){switch(A.label){case 0:return f!=="svg"?[3,1]:(v=d.cloneNode(!0),p=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),g=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",p),g.replaceChild(v,g.documentElement),m=new XMLSerializer().serializeToString(g),h="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(m)),[3,4]);case 1:return y=void 0,b=d.getContext("2d"),w=a||this.get("width"),S=o||this.get("height"),E=void 0,u?[4,this.downloadImageWatermark(u,b,w,S)]:[3,3];case 2:A.sent(),A.label=3;case 3:if(n){_=typeof window!="undefined"?window.devicePixelRatio:1;try{y=b.getImageData(0,0,w*_,S*_),E=b.globalCompositeOperation,b.globalCompositeOperation="destination-over",b.fillStyle=n,b.fillRect(0,0,w,S)}catch{console.error("Download image failed. Out of memory at ImageData creation")}}h=d.toDataURL(e),n&&(b.clearRect(0,0,w,S),b.putImageData(y,0,0),b.globalCompositeOperation=E),A.label=4;case 4:return i&&i(h),[2]}})})},16)},t.prototype.toDataURL=function(e,n){var i=this.get("canvas"),a=i.getRenderer(),o=i.get("el");e||(e="image/png");var s="";if(a==="svg"){var l=o.cloneNode(!0),u=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),c=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",u);c.replaceChild(l,c.documentElement);var f=new XMLSerializer().serializeToString(c);s="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(f))}else{var d=void 0,h=o.getContext("2d"),v=this.get("width"),p=this.get("height"),g=void 0;if(n){var m=typeof window!="undefined"?window.devicePixelRatio:1;try{d=h.getImageData(0,0,v*m,p*m),g=h.globalCompositeOperation,h.globalCompositeOperation="destination-over",h.fillStyle=n,h.fillRect(0,0,v,p)}catch{console.error("Download image failed. Out of memory at ImageData creation")}}s=o.toDataURL(e),n&&(h.clearRect(0,0,v,p),h.putImageData(d,0,0),h.globalCompositeOperation=g)}return s},t.prototype.toFullDataURL=function(e,n,i){var a=this.get("group").getCanvasBBox(),o=a.height,s=a.width,l=this.get("renderer"),u=Ri('<div id="virtual-image"></div>'),c=i?i.backgroundColor:void 0,f=i?i.padding:void 0;f?ir(f)&&(f=[f,f,f,f]):f=[0,0,0,0];var d=o+f[0]+f[2],h=s+f[1]+f[3],v={container:u,height:d,width:h,quickHit:!0},p=l==="svg"?new Xy(v):new hd(v),g=this.get("group"),m=g.clone(),y=Jr(m.getMatrix());y||(y=[1,0,0,0,1,0,0,0,1]);var b=(a.maxX+a.minX)/2,w=(a.maxY+a.minY)/2;y=sW(y,[["t",-b,-w],["t",s/2+f[3],o/2+f[0]]]),m.resetMatrix(),m.setMatrix(y),p.add(m);var S=p.get("el"),E="";n||(n="image/png"),setTimeout(function(){if(l==="svg"){var _=S.cloneNode(!0),A=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),k=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",A);k.replaceChild(_,k.documentElement);var T=new XMLSerializer().serializeToString(k);E="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(T))}else{var I=void 0,D=S.getContext("2d"),O=void 0;if(c){var B=typeof window!="undefined"?window.devicePixelRatio:1;try{I=D.getImageData(0,0,h*B,d*B),O=D.globalCompositeOperation,D.globalCompositeOperation="destination-over",D.fillStyle=c,D.fillRect(0,0,h,d)}catch{console.error("Download image failed. Out of memory at ImageData creation")}}E=S.toDataURL(n),c&&(D.clearRect(0,0,h,d),D.putImageData(I,0,0),D.globalCompositeOperation=O)}e&&e(E)},16)},t.prototype.downloadFullImage=function(e,n,i){var a=this,o=this.get("group").getCanvasBBox(),s=o.height,l=o.width,u=this.get("renderer"),c=Ri('<div id="virtual-image"></div>'),f=document.querySelector(".g6-graph-watermarker"),d=i?i.backgroundColor:void 0,h=i?i.padding:void 0;h?ir(h)&&(h=[h,h,h,h]):h=[0,0,0,0];var v=s+h[0]+h[2],p=l+h[1]+h[3];if(f){var g=this.get("graphWaterMarker").cfg||{},m=g.width,y=g.height;v=Math.ceil(v/y)*y,p=Math.ceil(p/m)*m}var b={container:c,height:v,width:p},w=u==="svg"?new Xy(b):new hd(b),S=this.get("group"),E=S.clone(),_=Jr(E.getMatrix());_||(_=[1,0,0,0,1,0,0,0,1]);var A=(o.maxX+o.minX)/2,k=(o.maxY+o.minY)/2;_=sW(_,[["t",-A,-k],["t",l/2+h[3],s/2+h[0]]]),E.resetMatrix(),E.setMatrix(_),w.add(E);var T=w.get("el");n||(n="image/png"),this.asyncToDataUrl(n,d,function(I){var D=document.createElement("a"),O=(e||"graph")+(u==="svg"?".svg":".".concat(n.split("/")[1]));a.dataURLToImage(I,u,D,O);var B=document.createEvent("MouseEvents");B.initEvent("click",!1,!1),D.dispatchEvent(B)},p,v,T)},t.prototype.downloadImage=function(e,n,i){var a=this,o=this;o.isAnimating()&&o.stopAnimate();var s=o.get("canvas"),l=s.getRenderer();n||(n="image/png");var u=(e||"graph")+(l==="svg"?".svg":n.split("/")[1]),c=document.createElement("a");o.asyncToDataUrl(n,i,function(f){a.dataURLToImage(f,l,c,u);var d=document.createEvent("MouseEvents");d.initEvent("click",!1,!1),c.dispatchEvent(d)})},t.prototype.dataURLToImage=function(e,n,i,a){if(!e||e==="data:"){console.error("Download image failed. The graph is too large or there is invalid attribute values in graph items");return}if(typeof window!="undefined")if(window.Blob&&window.URL&&n!=="svg"){var o=e.split(","),s="";if(o&&o.length>0){var l=o[0].match(/:(.*?);/);l&&l.length>=2&&(s=l[1])}for(var u=atob(o[1]),c=u.length,f=new Uint8Array(c);c--;)f[c]=u.charCodeAt(c);var d=new Blob([f],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(d,a):i.addEventListener("click",function(){i.download=a,i.href=window.URL.createObjectURL(d)})}else i.addEventListener("click",function(){i.download=a,i.href=e})},t.prototype.addPlugin=function(e){var n=this;e.destroyed||(n.get("plugins").push(e),e.initPlugin(n))},t.prototype.removePlugin=function(e){var n=this.get("plugins"),i=n.indexOf(e);i>=0&&(e.destroyPlugin(),n.splice(i,1))},t.prototype.setImageWaterMarker=function(e,n){e===void 0&&(e=cg.waterMarkerImage);var i=this.get("container");wt(i)&&(i=document.getElementById(i)),i.style.position||(i.style.position="relative");var a=this.get("graphWaterMarker"),o=Kt({},cg.imageWaterMarkerConfig,n),s=o.width,l=o.height,u=o.compatible,c=o.image;if(!a){var f={container:i,width:s,height:l,capture:!1},d=this.get("pixelRatio");d&&(f.pixelRatio=d),a=new hd(f),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var h=a.get("context"),v=c.rotate,p=c.x,g=c.y;h.rotate(-v*Math.PI/180);var m=new Image;m.crossOrigin="anonymous",m.src=e,m.onload=function(){if(h.drawImage(m,p,g,c.width,c.height),h.rotate(v*Math.PI/180),u)i.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var y=document.querySelector(".g6-graph-watermarker");y||(y=document.createElement("div"),y.className="g6-graph-watermarker"),y.className="g6-graph-watermarker",a.destroyed||(y.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;"),i.appendChild(y))}}},t.prototype.setTextWaterMarker=function(e,n){var i=this.get("container");wt(i)&&(i=document.getElementById(i)),i.style.position||(i.style.position="relative");var a=this.get("graphWaterMarker"),o=Kt({},cg.textWaterMarkerConfig,n),s=o.width,l=o.height,u=o.compatible,c=o.text;if(!a){var f={container:i,width:s,height:l,capture:!1},d=this.get("pixelRatio");d&&(f.pixelRatio=d),a=new hd(f),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var h=a.get("context"),v=c.rotate,p=c.fill,g=c.fontFamily,m=c.fontSize,y=c.baseline,b=c.x,w=c.y,S=c.lineHeight;h.rotate(-v*Math.PI/180),h.font="".concat(m,"px ").concat(g),h.fillStyle=p,h.textBaseline=y;for(var E=e.length-1;E>=0;E--)h.fillText(e[E],b,w+E*S);if(h.rotate(v*Math.PI/180),u)i.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var _=document.querySelector(".g6-graph-watermarker");_||(_=document.createElement("div"),_.className="g6-graph-watermarker"),_.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;"),i.appendChild(_)}},t.prototype.destroy=function(){var e,n,i,a;q(this.get("plugins"),function(c){c.destroyPlugin()});var o=this.get("tooltips");if(o)for(var s=0;s<o.length;s++){var l=o[s];if(!!l){var u=l.parentElement;!u||u.removeChild(l)}}(e=this.get("eventController"))===null||e===void 0||e.destroy(),(n=this.get("layoutController"))===null||n===void 0||n.destroy(),(i=this.get("graphWaterMarker"))===null||i===void 0||i.destroy(),(a=document.querySelector(".g6-graph-watermarker"))===null||a===void 0||a.remove(),r.prototype.destroy.call(this)},t}(XIe),FGe=jd.radialLayout,NGe=jd.traverseTree,BGe=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;return n.layoutAnimating=!1,n.set("removeList",[]),n.set("layoutMethod",n.getLayout()),n}return t.prototype.getLayout=function(){var e=this.get("layout");return e?typeof e=="function"?e:(e.type||(e.type="dendrogram"),e.direction||(e.direction="TB"),e.radial?function(n){var i=lT[e.type](n,e);return FGe(i),i}:function(n){return lT[e.type](n,e)}):null},t.indexOfChild=function(e,n){var i=-1;return q(e,function(a,o){if(n===a.id)return i=o,!1}),i},t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return e.animate=!0,e},t.prototype.innerAddChild=function(e,n,i){var a=this,o=e.data;o&&(o.x=e.x,o.y=e.y,o.depth=e.depth);var s=a.addItem("node",o,!1);if(n){if(s.set("parent",n),i){var l=n.get("originAttrs");if(l)s.set("originAttrs",l);else{var u=n.getModel();s.set("originAttrs",{x:u.x,y:u.y})}}var c=n.get("children");c?c.push(s):n.set("children",[s]),a.addItem("edge",{source:n.get("id"),target:s.get("id"),id:"".concat(n.get("id"),":").concat(s.get("id"))},!1)}return q(e.children||[],function(f){a.innerAddChild(f,s,i)}),a.emit("afteraddchild",{item:s,parent:n}),s},t.prototype.innerUpdateChild=function(e,n,i){var a=this,o=a.findById(e.id);if(!o){a.innerAddChild(e,n,i);return}q(e.children||[],function(v){a.innerUpdateChild(v,o,i)});var s=o.get("children");if(s){var l=s.length;if(l>0)for(var u=s.length-1;u>=0;u--){var c=s[u].getModel();t.indexOfChild(e.children||[],c.id)===-1&&(a.innerRemoveChild(c.id,{x:e.x,y:e.y},i),s.splice(u,1))}}var f,d;o.get("originAttrs")&&(f=o.get("originAttrs").x,d=o.get("originAttrs").y);var h=o.getModel();i&&o.set("originAttrs",{x:h.x,y:h.y}),o.set("model",e.data),(f!==e.x||d!==e.y)&&o.updatePosition({x:e.x,y:e.y})},t.prototype.innerRemoveChild=function(e,n,i){var a=this,o=a.findById(e);if(!!o)if(q(o.get("children"),function(l){a.innerRemoveChild(l.getModel().id,n,i)}),i){var s=o.getModel();o.set("to",n),o.set("originAttrs",{x:s.x,y:s.y}),a.get("removeList").push(o)}else a.removeItem(o,!1)},t.prototype.changeData=function(e){var n=this;this.getNodes().map(function(i){return n.clearItemStates(i)}),this.getEdges().map(function(i){return n.clearItemStates(i)}),e?(n.data(e),n.render()):n.layout(this.get("fitView"))},t.prototype.changeLayout=function(e){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var n=this;n.updateLayout(e)},t.prototype.updateLayout=function(e){var n=this;if(!e){console.warn("layout cannot be null");return}n.set("layout",e),n.set("layoutMethod",n.getLayout()),n.layout()},t.prototype.refreshLayout=function(e){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var n=this;n.layout(e)},t.prototype.layout=function(e){var n=this,i=n.get("data"),a=n.get("layoutMethod"),o=a?a(i,n.get("layout")):i,s=n.get("animate");if(n.emit("beforerefreshlayout",{data:i,layoutData:o}),n.emit("beforelayout"),n.innerUpdateChild(o,void 0,s),e){var l=n.get("viewController");l.fitView()}s?n.layoutAnimate(o):(n.refresh(),n.paint()),n.emit("afterrefreshlayout",{data:i,layoutData:o}),n.emit("afterlayout")},t.prototype.addChild=function(e,n){var i=this;i.emit("beforeaddchild",{model:e,parent:n}),wt(n)||(n=n.get("id"));var a=i.findDataById(n);a&&(a.children||(a.children=[]),a.children.push(e),i.changeData())},t.prototype.updateChildren=function(e,n){var i=this;if(!n||!i.findById(n)){console.warn("Update children failed! There is no node with id '".concat(n,"'"));return}var a=i.findDataById(n);a.children=e,i.changeData()},t.prototype.updateChild=function(e,n){var i=this;if(!n||!i.findById(n)){i.changeData(e);return}var a=i.findDataById(n),o=i.findById(e.id);if(a.children||(a.children=[]),!o)a.children.push(e);else{var s=t.indexOfChild(a.children,e.id);a.children[s]=e}i.changeData()},t.prototype.removeChild=function(e){var n=this,i=n.findById(e);if(!!i){var a=i.get("parent");if(a&&!a.destroyed){var o=n.findDataById(a.get("id")),s=o&&o.children||[],l=i.getModel(),u=t.indexOfChild(s,l.id);s.splice(u,1)}n.changeData()}},t.prototype.findDataById=function(e,n){var i=this;if(n||(n=i.get("data")),e===n.id)return n;var a=null;return q(n.children||[],function(o){if(o.id===e)return a=o,!1;if(a=i.findDataById(e,o),a)return!1}),a},t.prototype.layoutAnimate=function(e,n){var i=this,a=this.get("animateCfg");i.emit("beforeanimate",{data:e}),i.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){NGe(e,function(s){var l=i.findById(s.id);if(l){var u=l.get("originAttrs"),c=l.get("model");if(u||(u={x:c.x,y:c.y},l.set("originAttrs",u)),n){var f=n(l,o,u,e);l.set("model",Object.assign(c,f))}else c.x=u.x+(s.x-u.x)*o,c.y=u.y+(s.y-u.y)*o}return!0}),q(i.get("removeList"),function(s){var l=s.getModel(),u=s.get("originAttrs"),c=s.get("to");l.x=u.x+(c.x-u.x)*o,l.y=u.y+(c.y-u.y)*o}),i.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){q(i.getNodes(),function(s){s.set("originAttrs",null)}),q(i.get("removeList"),function(s){i.removeItem(s)}),i.set("removeList",[]),a.callback&&a.callback(),i.emit("afteranimate",{data:e})},delay:a.delay})},t.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},t.prototype.isLayoutAnimating=function(){return this.layoutAnimating},t.prototype.render=function(){var e=this,n=e.get("data");if(!n||!Hn(n)||!Object.keys(n).length)throw new Error("data must be defined first");e.clear(),e.emit("beforerender"),e.layout(this.get("fitView")),e.emit("afterrender")},t.prototype.save=function(){return this.get("data")},t}(Xee),zGe=function(){function r(t){this._cfgs=Kt(this.getDefaultCfgs(),t),this._events={},this.destroyed=!1}return r.prototype.getDefaultCfgs=function(){return{}},r.prototype.initPlugin=function(t){var e=this;e.set("graph",t);var n=e.getEvents(),i={};q(n,function(a,o){var s=jy(e,a);i[o]=s,t.on(o,s)}),this._events=i,this.init()},r.prototype.getEvents=function(){return{}},r.prototype.get=function(t){var e;return(e=this._cfgs)===null||e===void 0?void 0:e[t]},r.prototype.set=function(t,e){this._cfgs[t]=e},r.prototype.destroy=function(){},r.prototype.destroyPlugin=function(){this.destroy();var t=this.get("graph"),e=this._events;q(e,function(n,i){t.off(i,n)}),this._events=null,this._cfgs=null,this.destroyed=!0},r}(),Ul=zGe,$Ge=globalThis&&globalThis.__extends||function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),lW="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",GGe=function(r){$Ge(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultCfgs=function(){return{img:lW,follow:!0}},t.prototype.init=function(){var e=this.get("graph"),n=e.get("container"),i=e.get("canvas").get("el"),a=this.get("img")||lW,o=Ri(`<div class='g6-grid-container' style="position:absolute;overflow:hidden;z-index: -1;"></div>`),s=Ri(`<div
        class='g6-grid'
        style='position:absolute;
        background-image: `.concat(a,`;
        user-select: none
        '></div>`));this.set("container",o),this.set("gridContainer",s),this.positionInit(),o.appendChild(s),n.insertBefore(o,i)},t.prototype.positionInit=function(){var e=this.get("graph"),n=e.get("minZoom"),i=e.get("width"),a=e.get("height");pn(this.get("container"),{width:"".concat(i,"px"),height:"".concat(a,"px")});var o=i*80/n,s=a*80/n;pn(this.get("gridContainer"),{width:"".concat(o,"px"),height:"".concat(s,"px"),left:"-".concat(o/2,"px"),top:"-".concat(s/2,"px")})},t.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},t.prototype.updateGrid=function(e){var n=this.get("gridContainer"),i=e.matrix;i||(i=[1,0,0,0,1,0,0,0,1]);var a=this.get("follow"),o="matrix(".concat(i[0],", ").concat(i[1],", ").concat(i[3],", ").concat(i[4],", ").concat(a?i[6]:"0",", ").concat(a?i[7]:"0",")");pn(n,{transform:o})},t.prototype.getContainer=function(){return this.get("container")},t.prototype.destroy=function(){var e=this.get("graph"),n=e.get("container"),i=this.get("container");n.removeChild(i)},t}(Ul),UGe=GGe,uW=[],Nx=[],HGe="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function qee(r,t){if(t=t||{},r===void 0)throw new Error(HGe);var e=t.prepend===!0?"prepend":"append",n=t.container!==void 0?t.container:document.querySelector("head"),i=uW.indexOf(n);i===-1&&(i=uW.push(n)-1,Nx[i]={});var a;return Nx[i]!==void 0&&Nx[i][e]!==void 0?a=Nx[i][e]:(a=Nx[i][e]=VGe(),e==="prepend"?n.insertBefore(a,n.childNodes[0]):n.appendChild(a)),r.charCodeAt(0)===65279&&(r=r.substr(1,r.length)),a.styleSheet?a.styleSheet.cssText+=r:a.textContent+=r,a}function VGe(){var r=document.createElement("style");return r.setAttribute("type","text/css"),r}var VA=qee,WGe=qee;VA.insertCss=WGe;var jGe=globalThis&&globalThis.__extends||function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();typeof document!="undefined"&&VA(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var YGe=function(r){jGe(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(n){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(n){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},t.prototype.getEvents=function(){return this.get("trigger")==="click"?{click:"onMenuShow",touchend:"onMenuShow"}:{contextmenu:"onMenuShow"}},t.prototype.init=function(){var e=this.get("className"),n=Ri("<div class=".concat(e||"g6-component-contextmenu","></div>"));pn(n,{top:"0px",position:"absolute",visibility:"hidden"});var i=this.get("container");i||(i=this.get("graph").get("container")),wt(i)&&(i=document.getElementById(i)),i.appendChild(n),this.set("menu",n)},t.prototype.onMenuShow=function(e){var n=this;e.preventDefault();var i=this.get("itemTypes");if(e.item){if(e.item&&e.item.getType&&i.indexOf(e.item.getType())===-1){n.onMenuHide();return}}else if(i.indexOf("canvas")===-1){n.onMenuHide();return}var a=this.get("shouldBegin");if(!!a(e)){var o=this.get("menu"),s=this.get("getContent"),l=this.get("graph"),u=s(e,l);wt(u)?o.innerHTML=u:o.innerHTML=u.outerHTML,this.removeMenuEventListener();var c=this.get("handleMenuClick");if(c){var f=function(A){c(A.target,e.item,l)};this.set("handleMenuClickWrapper",f),o.addEventListener("click",f)}var d=l.get("width"),h=l.get("height"),v=o.getBoundingClientRect(),p=this.get("offsetX")||0,g=this.get("offsetY")||0,m=l.getContainer().offsetTop,y=l.getContainer().offsetLeft,b=e.canvasX+y+p,w=e.canvasY+m+g;b+v.width>d&&(b=e.canvasX-v.width-p+y),w+v.height>h&&(w=e.canvasY-v.height-g+m),pn(o,{top:"".concat(w,"px"),left:"".concat(b,"px"),visibility:"visible"});var S=this.get("trigger")==="click",E=function(A){if(S){S=!1;return}n.onMenuHide()};document.body.addEventListener("click",E),this.set("handler",E)}},t.prototype.removeMenuEventListener=function(){var e=this.get("handleMenuClickWrapper"),n=this.get("handler");if(e){var i=this.get("menu");i.removeEventListener("click",e),this.set("handleMenuClickWrapper",null)}n&&document.body.removeEventListener("click",n)},t.prototype.onMenuHide=function(){var e=this.get("menu");e&&pn(e,{visibility:"hidden"}),this.removeMenuEventListener()},t.prototype.destroy=function(){var e=this.get("menu");if(this.removeMenuEventListener(),e){var n=this.get("container");n||(n=this.get("graph").get("container")),wt(n)&&(n=document.getElementById(n)),n.removeChild(e)}},t}(Ul),XGe=YGe,qGe=globalThis&&globalThis.__extends||function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),cO=globalThis&&globalThis.__assign||function(){return cO=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},cO.apply(this,arguments)},cW=Math.max,KGe=Ai,ZGe="default",QGe="keyShape",JGe="delegate",fW="svg",e8e=function(r){qGe(t,r);function t(e){var n=r.call(this,e)||this;return n.handleUpdateCanvas=aS(function(i){var a=n;a.destroyed||a.updateCanvas()},100,!1),n}return t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},t.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},t.prototype.disableRefresh=function(){this.set("refresh",!1)},t.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},t.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},t.prototype.initViewport=function(){var e=this,n=this._cfgs,i=n.size,a=n.graph;if(!this.destroyed){var o=this.get("canvas"),s=o.get("container"),l=Ri(`
      <div
        class=`.concat(n.viewportClassName,`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          outline: 2px solid #1980ff'
        draggable=true>
      </div>`)),u=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,c=0,f=0,d=!1,h=0,v=0,p=0,g=0,m=0,y=0;l.addEventListener("dragstart",function(b){var w,S;if(b.dataTransfer){var E=new Image;E.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",(S=(w=b.dataTransfer).setDragImage)===null||S===void 0||S.call(w,E,0,0);try{b.dataTransfer.setData("text/html","view-port-minimap")}catch{b.dataTransfer.setData("text","view-port-minimap")}}if(n.refresh=!1,b.target===l){var _=l.style;h=parseInt(_.left,10),v=parseInt(_.top,10),p=parseInt(_.width,10),g=parseInt(_.height,10),!(p>i[0]||g>i[1])&&(y=a.getZoom(),m=e.get("ratio"),d=!0,c=b.clientX,f=b.clientY)}},!1),l.addEventListener(u?"dragover":"drag",function(b){if(!(!d||xt(b.clientX)||xt(b.clientY))){var w=c-b.clientX,S=f-b.clientY;(h-w<0||h-w+p>=i[0])&&(w=0),(v-S<0||v-S+g>=i[1])&&(S=0),h-=w,v-=S,pn(l,{left:"".concat(h,"px"),top:"".concat(v,"px")}),a.translate(w*y/m,S*y/m),c=b.clientX,f=b.clientY}},!1),l.addEventListener("dragend",function(){d=!1,n.refresh=!0},!1),this.set("viewport",l),s.appendChild(l)}},t.prototype.updateViewport=function(){if(!this.destroyed){var e=this.get("ratio");this.get("dx"),this.get("dy");var n=this.get("totaldx"),i=this.get("totaldy"),a=this.get("graph"),o=this.get("size"),s=a.get("width"),l=a.get("height"),u=a.getPointByCanvas(0,0),c=a.getPointByCanvas(s,l),f=this.get("viewport");f||this.initViewport();var d=(c.x-u.x)*e,h=(c.y-u.y)*e,v=u.x*e+n,p=u.y*e+i,g=v+d,m=p+h;v<0&&(d+=v,v=0),g>o[0]&&(d=d-(g-o[0])),p<0&&(h+=p,p=0),m>o[1]&&(h=h-(m-o[1])),this.set("ratio",e);var y="".concat(v,"px"),b="".concat(p,"px");pn(f,{left:y,top:b,width:"".concat(d,"px"),height:"".concat(h,"px")})}},t.prototype.updateGraphShapes=function(){var e=this._cfgs.graph,n=this.get("canvas"),i=e.get("group");if(!i.destroyed){var a=i.clone();a.resetMatrix(),n.clear(),n.add(a);var o=e.get("renderer");o===fW&&this.updateVisible(a)}},t.prototype.updateVisible=function(e){var n=this;if(!e.isGroup()&&!e.get("visible"))e.hide();else{var i=e.get("children");if(!i||!i.length)return;i.forEach(function(a){a.get("visible")||a.hide(),n.updateVisible(a)})}},t.prototype.updateKeyShapes=function(){var e=this,n=this._cfgs.graph,i=this.get("canvas"),a=i.get("children")[0]||i.addGroup();q(n.getEdges(),function(l){e.updateOneEdgeKeyShape(l,a)}),q(n.getNodes(),function(l){e.updateOneNodeKeyShape(l,a)});var o=n.getCombos();if(o&&o.length){var s=a.find(function(l){return l.get("name")==="comboGroup"})||a.addGroup({name:"comboGroup"});setTimeout(function(){e.destroyed||(q(o,function(l){e.updateOneComboKeyShape(l,s)}),s==null||s.sort(),s==null||s.toBack(),e.updateCanvas())},250)}this.clearDestroyedShapes()},t.prototype.updateOneComboKeyShape=function(e,n){if(!this.destroyed){var i=this.get("itemMap")||{},a=i[e.get("id")],o=e.getBBox(),s=e.get("keyShape").clone(),l=s.attr(),u={x:o.centerX,y:o.centerY};a?u=Object.assign(l,u):(a=s,n.add(a));var c=a.get("type");(c==="rect"||c==="image")&&(u.x=o.minX,u.y=o.minY),a.attr(u),e.isVisible()?a.show():a.hide(),a.exist=!0;var f=e.getModel().depth;isNaN(f)||a.set("zIndex",f),i[e.get("id")]=a,this.set("itemMap",i)}},t.prototype.updateOneNodeKeyShape=function(e,n){var i=this.get("itemMap")||{},a=i[e.get("id")],o=e.getBBox(),s=e.get("keyShape").clone(),l=s.attr(),u={x:o.centerX,y:o.centerY};a?u=Object.assign(l,u):(a=s,n.add(a));var c=a.get("type");(c==="rect"||c==="image")&&(u.x=o.minX,u.y=o.minY),a.attr(u),e.isVisible()?a.show():a.hide(),a.exist=!0;var f=e.getModel().depth;isNaN(f)||a.set("zIndex",f),i[e.get("id")]=a,this.set("itemMap",i)},t.prototype.updateDelegateShapes=function(){var e=this,n=this._cfgs.graph,i=this.get("canvas"),a=i.get("children")[0]||i.addGroup();q(n.getEdges(),function(l){e.updateOneEdgeKeyShape(l,a)}),q(n.getNodes(),function(l){e.updateOneNodeDelegateShape(l,a)});var o=n.getCombos();if(o&&o.length){var s=a.find(function(l){return l.get("name")==="comboGroup"})||a.addGroup({name:"comboGroup"});setTimeout(function(){e.destroyed||(q(o,function(l){e.updateOneComboKeyShape(l,s)}),s==null||s.sort(),s==null||s.toBack(),e.updateCanvas())},250)}this.clearDestroyedShapes()},t.prototype.clearDestroyedShapes=function(){var e=this.get("itemMap")||{},n=Object.keys(e);if(!(!n||n.length===0))for(var i=n.length-1;i>=0;i--){var a=e[n[i]],o=a.exist;a.exist=!1,o||(a.remove(),delete e[n[i]])}},t.prototype.updateOneEdgeKeyShape=function(e,n){var i=this.get("itemMap")||{},a=i[e.get("id")];if(a){var o=e.get("keyShape").attr("path");a.attr("path",o)}else a=e.get("keyShape").clone(),n.add(a);e.isVisible()?a.show():a.hide(),a.exist=!0,i[e.get("id")]=a,this.set("itemMap",i)},t.prototype.updateOneNodeDelegateShape=function(e,n){var i=this.get("delegateStyle"),a=this.get("itemMap")||{},o=a[e.get("id")],s=e.getBBox();if(o){var l={x:s.minX,y:s.minY,width:s.width,height:s.height};o.attr(l)}else o=n.addShape("rect",{attrs:cO({x:s.minX,y:s.minY,width:s.width,height:s.height},i),name:"minimap-node-shape"});e.isVisible()?o.show():o.hide(),o.exist=!0,a[e.get("id")]=o,this.set("itemMap",a)},t.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},t.prototype.initContainer=function(){var e=this,n=e.get("graph"),i=e.get("size"),a=e.get("className"),o=e.get("container"),s=Ri("<div class='".concat(a,"' style='width: ").concat(i[0],"px; height: ").concat(i[1],"px; overflow: hidden'></div>"));wt(o)&&(o=document.getElementById(o)),o?o.appendChild(s):n.get("container").appendChild(s),e.set("container",s);var l=Ri('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(l),l.addEventListener("dragenter",function(f){f.preventDefault()}),l.addEventListener("dragover",function(f){f.preventDefault()});var u,c=n.get("renderer");c===fW?u=new Xy({container:l,width:i[0],height:i[1]}):u=new hd({container:l,width:i[0],height:i[1]}),e.set("canvas",u),e.updateCanvas()},t.prototype.updateCanvas=function(){if(!this.destroyed){var e=this.get("refresh");if(!!e){var n=this.get("graph");if(!n.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var i=this.get("size"),a=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!a.destroyed){switch(o){case ZGe:this.updateGraphShapes();break;case QGe:this.updateKeyShapes();break;case JGe:this.updateDelegateShapes();break}var l=a.get("children")[0];if(!!l){l.resetMatrix();var u=l.getCanvasBBox(),c=n.get("canvas").getCanvasBBox(),f=n.getZoom()||1,d=c.width/f,h=c.height/f;Number.isFinite(u.width)&&(d=cW(u.width,d),h=cW(u.height,h)),d+=2*s,h+=2*s;var v=Math.min(i[0]/d,i[1]/h),p=[1,0,0,0,1,0,0,0,1],g=0,m=0;Number.isFinite(u.minX)&&(g=-u.minX),Number.isFinite(u.minY)&&(m=-u.minY);var y=(i[0]-(d-2*s)*v)/2,b=(i[1]-(h-2*s)*v)/2;p=KGe(p,[["t",g,m],["s",v,v],["t",y,b]]),l.setMatrix(p),this.set("ratio",v),this.set("totaldx",y+g*v),this.set("totaldy",b+m*v),this.set("dx",y),this.set("dy",b),this.updateViewport()}}}}}},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.getViewport=function(){return this.get("viewport")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.destroy=function(){this.get("canvas").destroy();var e=this.get("container");e.parentNode.removeChild(e)},t}(Ul),t8e=e8e,r8e=globalThis&&globalThis.__extends||function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();function Oc(r,t,e){var n=r.x-t.x,i=r.y-t.y;return!e||Math.abs(n)>e||Math.abs(i)>e?Math.sqrt(n*n+i*i):e}function n8e(r,t){return r.x*t.x+r.y*t.y}function dW(r,t){var e=(t.source.y-t.target.y)/(t.source.x-t.target.x),n=(e*e*t.source.x+e*(r.y-t.source.y)+r.x)/(e*e+1),i=e*(n-t.source.x)+t.source.y;return{x:n,y:i}}var i8e=function(r){r8e(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},t.prototype.init=function(){var e=this.get("graph"),n=this.get("onTick"),i=function(){n&&n(),e.refreshPositions()};this.set("tick",i)},t.prototype.bundling=function(e){var n=this;if(n.set("data",e),!n.isTicking()){var i=e.edges||[],a=e.nodes||[],o={},s=!1;if(a.forEach(function(w){(w.x===null||!w.y===null||w.x===void 0||!w.y===void 0)&&(s=!0),o[w.id]=w}),s)throw new Error("please layout the graph or assign x and y for nodes first");n.set("nodeIdMap",o);var l=n.get("divisions"),u=n.get("divRate"),c=n.divideEdges(l);n.set("edgePoints",c);var f=n.getEdgeBundles();n.set("edgeBundles",f);for(var d=n.get("cycles"),h=n.get("iterations"),v=n.get("iterRate"),p=n.get("lambda"),g=0;g<d;g++){for(var m=function(S){var E=[];i.forEach(function(_,A){if(_.source!==_.target){var k=o[_.source],T=o[_.target];E[A]=n.getEdgeForces({source:k,target:T},A,l,p);for(var I=0;I<l+1;I++)c[A][I].x+=E[A][I].x,c[A][I].y+=E[A][I].y}})},y=0;y<h;y++)m(y);p=p/2,l*=u,h*=v,c=n.divideEdges(l),n.set("edgePoints",c)}i.forEach(function(w,S){w.source!==w.target&&(w.type="polyline",w.controlPoints=c[S].slice(1,c[S].length-1))});var b=n.get("graph");b.refresh()}},t.prototype.updateBundling=function(e){var n=this,i=e.data;if(i&&n.set("data",i),n.get("ticking")&&n.set("ticking",!1),Object.keys(e).forEach(function(o){n.set(o,e[o])}),e.onTick){var a=this.get("graph");n.set("tick",function(){e.onTick(),a.refresh()})}n.bundling(i)},t.prototype.divideEdges=function(e){var n=this,i=n.get("data").edges,a=n.get("nodeIdMap"),o=n.get("edgePoints");return(!o||o===void 0)&&(o=[]),i.forEach(function(s,l){(!o[l]||o[l]===void 0)&&(o[l]=[]);var u=a[s.source],c=a[s.target];if(e===1)o[l].push({x:u.x,y:u.y}),o[l].push({x:.5*(u.x+c.x),y:.5*(u.y+c.y)}),o[l].push({x:c.x,y:c.y});else{var f=0;!o[l]||o[l]===[]?f=Oc({x:u.x,y:u.y},{x:c.x,y:c.y}):f=n.getEdgeLength(o[l]);var d=f/(e+1),h=d,v=[{x:u.x,y:u.y}];o[l].forEach(function(p,g){if(g!==0){for(var m=Oc(p,o[l][g-1]);m>h;){var y=h/m,b={x:o[l][g-1].x,y:o[l][g-1].y};b.x+=y*(p.x-o[l][g-1].x),b.y+=y*(p.y-o[l][g-1].y),v.push(b),m-=h,h=d}h-=m}}),v.push({x:c.x,y:c.y}),o[l]=v}}),o},t.prototype.getEdgeLength=function(e){var n=0;return e.forEach(function(i,a){a!==0&&(n+=Oc(i,e[a-1]))}),n},t.prototype.getEdgeBundles=function(){var e=this,n=e.get("data"),i=n.edges||[],a=e.get("bundleThreshold"),o=e.get("nodeIdMap"),s=e.get("edgeBundles");return s||(s=[]),i.forEach(function(l,u){(!s[u]||s[u]===void 0)&&(s[u]=[])}),i.forEach(function(l,u){var c=o[l.source],f=o[l.target];i.forEach(function(d,h){if(!(h<=u)){var v=o[d.source],p=o[d.target],g=e.getBundleScore({source:c,target:f},{source:v,target:p});g>=a&&(s[u].push(h),s[h].push(u))}})}),s},t.prototype.getBundleScore=function(e,n){var i=this;e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,n.vx=n.target.x-n.source.x,n.vy=n.target.y-n.source.y,e.length=Oc({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y}),n.length=Oc({x:n.source.x,y:n.source.y},{x:n.target.x,y:n.target.y});var a=i.getAngleScore(e,n),o=i.getScaleScore(e,n),s=i.getPositionScore(e,n),l=i.getVisibilityScore(e,n);return a*o*s*l},t.prototype.getAngleScore=function(e,n){var i=n8e({x:e.vx,y:e.vy},{x:n.vx,y:n.vy});return i/(e.length*n.length)},t.prototype.getScaleScore=function(e,n){var i=(e.length+n.length)/2,a=2/(i/Math.min(e.length,n.length)+Math.max(e.length,n.length)/i);return a},t.prototype.getPositionScore=function(e,n){var i=(e.length+n.length)/2,a={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},o={x:(n.source.x+n.target.x)/2,y:(n.source.y+n.target.y)/2},s=Oc(a,o);return i/(i+s)},t.prototype.getVisibilityScore=function(e,n){var i=this.getEdgeVisibility(e,n),a=this.getEdgeVisibility(n,e);return i<a?i:a},t.prototype.getEdgeVisibility=function(e,n){var i=dW(n.source,e),a=dW(n.target,e),o={x:(i.x+a.x)/2,y:(i.y+a.y)/2},s={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2};return Math.max(0,1-2*Oc(o,s)/Oc(i,a))},t.prototype.getEdgeForces=function(e,n,i,a){for(var o=this,s=o.get("edgePoints"),l=o.get("K"),u=l/(Oc(e.source,e.target)*(i+1)),c=[{x:0,y:0}],f=1;f<i;f++){var d={x:0,y:0},h=o.getSpringForce({pre:s[n][f-1],cur:s[n][f],next:s[n][f+1]},u),v=o.getElectrostaticForce(f,n);d.x=a*(h.x+v.x),d.y=a*(h.y+v.y),c.push(d)}return c.push({x:0,y:0}),c},t.prototype.getSpringForce=function(e,n){var i=e.pre.x+e.next.x-2*e.cur.x,a=e.pre.y+e.next.y-2*e.cur.y;return i*=n,a*=n,{x:i,y:a}},t.prototype.getElectrostaticForce=function(e,n){var i=this,a=i.get("eps"),o=i.get("edgeBundles"),s=i.get("edgePoints"),l=o[n],u={x:0,y:0};return l.forEach(function(c){var f={x:s[c][e].x-s[n][e].x,y:s[c][e].y-s[n][e].y};if(Math.abs(f.x)>a||Math.abs(f.y)>a){var d=Oc(s[c][e],s[n][e]),h=1/d;u.x+=f.x*h,u.y+=f.y*h}}),u},t.prototype.isTicking=function(){return this.get("ticking")},t.prototype.getSimulation=function(){return this.get("forceSimulation")},t.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),r.prototype.destroy.call(this)},t}(Ul),a8e=i8e,o8e=globalThis&&globalThis.__extends||function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),fO=globalThis&&globalThis.__assign||function(){return fO=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},fO.apply(this,arguments)},n2=.05,hW={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},s8e=function(r){o8e(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:Jr(hW),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},t.prototype.getEvents=function(){var e;switch(this.get("trigger")){case"click":e={click:"magnify"};break;case"drag":e={click:"createDelegate"};break;default:e={mousemove:"magnify"};break}return e},t.prototype.init=function(){var e=this,n=e.get("r");e.set("cachedMagnifiedModels",[]),e.set("cachedOriginPositions",{}),e.set("r2",n*n);var i=e.get("d");e.set("molecularParam",(i+1)*n)},t.prototype.createDelegate=function(e){var n=this,i=this,a=i.get("delegate");(!a||a.destroyed)&&(i.magnify(e),a=i.get("delegate"),a.on("dragstart",function(o){i.set("delegateCenterDiff",{x:a.attr("x")-o.x,y:a.attr("y")-o.y})}),a.on("drag",function(o){i.magnify(o)}),this.get("scaleDBy")==="wheel"&&a.on("mousewheel",function(o){n.scaleDByWheel(o)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(o){i.scaleRByWheel(o)}))},t.prototype.scaleRByWheel=function(e){var n=this;if(!(!e||!e.originalEvent)){e.preventDefault&&e.preventDefault();var i=n.get("graph"),a,o=n.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||i.getPointByClient(e.clientX,e.clientY);e.originalEvent.wheelDelta<0?a=1-n2:a=1/(1-n2);var u=n.get("maxR"),c=n.get("minR"),f=n.get("r");(f>(u||i.get("height"))&&a>1||f<(c||i.get("height")*.05)&&a<1)&&(a=1),f*=a,n.set("r",f),n.set("r2",f*f);var d=n.get("d");n.set("molecularParam",(d+1)*f),n.set("delegateCenterDiff",void 0),n.magnify(e,l)}},t.prototype.scaleRByDrag=function(e){var n=this;if(!!e){var i=n.get("dragPrePos"),a=n.get("graph"),o,s=a.getPointByClient(e.clientX,e.clientY);e.x-i.x<0?o=1-n2:o=1/(1-n2);var l=n.get("maxR"),u=n.get("minR"),c=n.get("r");(c>(l||a.get("height"))&&o>1||c<(u||a.get("height")*.05)&&o<1)&&(o=1),c*=o,n.set("r",c),n.set("r2",c*c);var f=n.get("d");n.set("molecularParam",(f+1)*c),n.magnify(e,s),n.set("dragPrePos",{x:e.x,y:e.y})}},t.prototype.scaleDByWheel=function(e){var n=this;if(!(!e&&!e.originalEvent)){e.preventDefault&&e.preventDefault();var i=0;e.originalEvent.wheelDelta<0?i=-.1:i=.1;var a=n.get("d"),o=a+i,s=n.get("maxD"),l=n.get("minD");if(o<s&&o>l){n.set("d",o);var u=n.get("r");n.set("molecularParam",(o+1)*u);var c=n.get("delegate"),f=c?{x:c.attr("x"),y:c.attr("y")}:void 0;n.set("delegateCenterDiff",void 0),n.magnify(e,f)}}},t.prototype.scaleDByDrag=function(e){var n=this,i=n.get("dragPrePos"),a=e.x-i.x>0?.1:-.1,o=n.get("d"),s=o+a,l=n.get("maxD"),u=n.get("minD");if(s<l&&s>u){n.set("d",s);var c=n.get("r");n.set("molecularParam",(s+1)*c),n.magnify(e)}n.set("dragPrePos",{x:e.x,y:e.y})},t.prototype.magnify=function(e,n){var i=this;i.restoreCache();var a=i.get("graph"),o=i.get("cachedMagnifiedModels"),s=i.get("cachedOriginPositions"),l=i.get("showLabel"),u=i.get("r"),c=i.get("r2"),f=i.get("d"),d=i.get("molecularParam"),h=a.getNodes(),v=h.length,p=n?{x:n.x,y:n.y}:{x:e.x,y:e.y};i.get("dragging")&&(i.get("trigger")==="mousemove"||i.get("trigger")==="click")&&(p=i.get("cacheCenter"));var g=i.get("delegateCenterDiff");g&&(p.x+=g.x,p.y+=g.y),i.updateDelegate(p,u);for(var m=0;m<v;m++){var y=h[m].getModel(),b=y.x,w=y.y;if(!(isNaN(b)||isNaN(w))){var S=(b-p.x)*(b-p.x)+(w-p.y)*(w-p.y);if(!isNaN(S)&&S<c&&S!==0){var E=Math.sqrt(S),_=d*E/(f*E+u),A=(b-p.x)/E,k=(w-p.y)/E;if(y.x=A*_+p.x,y.y=k*_+p.y,s[y.id]||(s[y.id]={x:b,y:w,texts:[]}),o.push(y),l&&2*E<u)for(var T=h[m],I=T.getContainer(),D=I.getChildren(),O=D.length,B=0;B<O;B++){var U=D[B];U.get("type")==="text"&&(s[y.id].texts.push({visible:U.get("visible"),shape:U}),U.set("visible",!0))}}}}a.refreshPositions()},t.prototype.restoreCache=function(){for(var e=this,n=e.get("cachedMagnifiedModels"),i=e.get("cachedOriginPositions"),a=n.length,o=0;o<a;o++){var s=n[o],l=s.id,u=i[l];s.x=u.x,s.y=u.y;for(var c=u.texts.length,f=0;f<c;f++){var d=u.texts[f];d.shape.set("visible",d.visible)}}e.set("cachedMagnifiedModels",[]),e.set("cachedOriginPositions",{})},t.prototype.updateParams=function(e){var n=this,i=e.r,a=e.d,o=e.trigger,s=e.minD,l=e.maxD,u=e.minR,c=e.maxR,f=e.scaleDBy,d=e.scaleRBy;isNaN(e.r)||(n.set("r",i),n.set("r2",i*i)),isNaN(a)||n.set("d",a),isNaN(l)||n.set("maxD",l),isNaN(s)||n.set("minD",s),isNaN(c)||n.set("maxR",c),isNaN(u)||n.set("minR",u);var h=n.get("d"),v=n.get("r");if(n.set("molecularParam",(h+1)*v),(o==="mousemove"||o==="click"||o==="drag")&&n.set("trigger",o),f==="drag"||f==="wheel"||f==="unset"){n.set("scaleDBy",f),n.get("delegate").remove(),n.get("delegate").destroy();var p=n.get("dPercentText");p&&(p.remove(),p.destroy())}if(d==="drag"||d==="wheel"||d==="unset"){n.set("scaleRBy",d),n.get("delegate").remove(),n.get("delegate").destroy();var p=n.get("dPercentText");p&&(p.remove(),p.destroy())}},t.prototype.updateDelegate=function(e,n){var i=this,a=this,o=a.get("graph"),s=a.get("delegate");if(!s||s.destroyed){var l=o.get("group"),u=a.get("delegateStyle")||hW;s=l.addShape("circle",{attrs:fO({r:n/1.5,x:e.x,y:e.y},u),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?s.on("mousewheel",function(v){a.scaleRByWheel(v)}):this.get("scaleRBy")==="drag"&&(s.on("dragstart",function(v){a.set("dragging",!0),a.set("cacheCenter",{x:v.x,y:v.y}),a.set("dragPrePos",{x:v.x,y:v.y})}),s.on("drag",function(v){a.scaleRByDrag(v)}),s.on("dragend",function(v){a.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?s.on("mousewheel",function(v){i.scaleDByWheel(v)}):this.get("scaleDBy")==="drag"&&(s.on("dragstart",function(v){a.set("dragging",!0),a.set("cacheCenter",{x:v.x,y:v.y}),a.set("dragPrePos",{x:v.x,y:v.y})}),s.on("drag",function(v){i.scaleDByDrag(v)}),s.on("dragend",function(v){a.set("dragging",!1)})))}else s.attr({x:e.x,y:e.y,r:n/1.5});if(a.get("showDPercent")){var c=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),f=a.get("dPercentText"),d=e.y+n/1.5+16;if(!f||f.destroyed){var h=o.get("group");f=h.addShape("text",{attrs:{text:"".concat(c,"%"),x:e.x,y:d,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",f)}else f.attr({text:"".concat(c,"%"),x:e.x,y:d})}a.set("delegate",s)},t.prototype.clear=function(){var e=this.get("graph");this.restoreCache(),e.refreshPositions();var n=this.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy());var i=this.get("dPercentText");i&&!i.destroyed&&(i.remove(),i.destroy())},t.prototype.destroy=function(){this.clear()},t}(Ul),l8e=s8e,u8e=globalThis&&globalThis.__extends||function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),vW=.05;typeof document!="undefined"&&VA(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var c8e=function(t){if(!t)return[];if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;){if(e.push(n),n.tagName==="HTML")return e.push(document,window),e;n=n.parentElement}return e},f8e=function(r){u8e(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(n){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `},zoomSensitivity:2}},t.prototype.init=function(){var e=this,n=this.get("graph"),i=this.get("getContent"),a=i(n),o=a;wt(a)&&(o=Ri(a));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var l=this.get("container");l||(l=this.get("graph").get("container")),wt(l)&&(l=document.getElementById(l)),l.appendChild(o),this.set("toolBar",o);var u=this.get("handleClick");o.addEventListener("click",function(f){var d=c8e(f).filter(function(v){return v.nodeName==="LI"});if(d.length!==0){var h=d[0].getAttribute("code");!h||(u?u(h,n):e.handleDefaultOperator(h,n))}});var c=this.get("position");c&&pn(o,{top:"".concat(c.y,"px"),left:"".concat(c.x,"px")}),this.bindUndoRedo()},t.prototype.bindUndoRedo=function(){var e=this.get("graph"),n=document.querySelector('.g6-component-toolbar li[code="undo"]'),i=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!n||!i||!a||!o||e.on("stackchange",function(s){var l=s.undoStack,u=s.redoStack,c=l.length,f=u.length;c===1?(n.setAttribute("style","cursor: not-allowed"),i.setAttribute("style","opacity: 0.4")):(n.removeAttribute("style"),i.removeAttribute("style")),f===0?(a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),o.removeAttribute("style"))})},t.prototype.undo=function(){var e=this.get("graph"),n=e.getUndoStack();if(!(!n||n.length===1)){var i=n.pop();if(i){var a=i.action;e.pushStack(a,Jr(i.data),"redo");var o=i.data.before;if(a==="add"&&(o=i.data.after),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var c=e.findById(u.id);u.visible?e.showItem(c,!1):e.hideItem(c,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){e.updateItem(u.id,u,!1)})});break;case"changedata":e.changeData(o,!1);break;case"delete":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var c=u.itemType;delete u.itemType,e.addItem(c,u,!1)})});break}case"add":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){e.removeItem(u.id,!1)})});break;case"updateComboTree":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){e.updateComboTree(u.id,u.parentId,!1)})});break}}}},t.prototype.redo=function(){var e=this.get("graph"),n=e.getRedoStack();if(!(!n||n.length===0)){var i=n.pop();if(i){var a=i.action,o=i.data.after;if(e.pushStack(a,Jr(i.data)),a==="delete"&&(o=i.data.before),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var c=e.findById(u.id);u.visible?e.showItem(c,!1):e.hideItem(c,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){e.updateItem(u.id,u,!1)})});break;case"changedata":e.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(s){e.removeItem(s.id,!1)}),o.nodes&&o.nodes.forEach(function(s){e.removeItem(s.id,!1)}),o.combos&&o.combos.forEach(function(s){e.removeItem(s.id,!1)});break;case"add":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var c=u.itemType;delete u.itemType,e.addItem(c,u,!1)})});break}case"updateComboTree":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){e.updateComboTree(u.id,u.parentId,!1)})});break}}}},t.prototype.handleDefaultOperator=function(e,n){var i=n.getZoom();switch(e){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var a=1/(1-vW*this.get("zoomSensitivity")),o=this.get("maxZoom")||n.get("maxZoom");if(a*i>o)return;n.zoomTo(i*a);break}case"zoomIn":{var s=1-vW*this.get("zoomSensitivity"),l=this.get("minZoom")||n.get("minZoom");if(s*i<l)return;n.zoomTo(i*s);break}case"realZoom":n.zoomTo(1);break;case"autoZoom":n.fitView([20,20]);break}},t.prototype.destroy=function(){var e=this.get("toolBar");if(e){var n=this.get("container");n||(n=this.get("graph").get("container")),wt(n)&&(n=document.getElementById(n)),n.removeChild(e)}var i=this.get("handleClick");i&&e.removeEventListener("click",i)},t}(Ul),d8e=f8e,h8e=globalThis&&globalThis.__extends||function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();typeof document!="undefined"&&VA(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var v8e=function(r){h8e(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(n){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`.concat(n.item.getType(),`</h4>
          <span class='tooltip-id'>ID\uFF1A`).concat(n.item.getID(),`</span>
        `)},shouldBegin:function(n){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},t.prototype.getEvents=function(){return this.get("trigger")==="click"?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},t.prototype.init=function(){var e=this,n=e.get("className")||"g6-component-tooltip",i=Ri("<div class=".concat(n,"></div>")),a=e.get("container");a||(a=e.get("graph").get("container")),wt(a)&&(a=document.getElementById(a)),pn(i,{position:"absolute",visibility:"hidden",display:"none"}),a.appendChild(i),e.get("trigger")!=="click"&&(i.addEventListener("mouseenter",function(o){pn(i,{visibility:"visible",display:"unset"})}),i.addEventListener("mouseleave",function(o){e.hideTooltip()})),e.set("tooltip",i)},t.prototype.onClick=function(e){var n=this.get("itemTypes");if(!(e.item&&e.item.getType&&n.indexOf(e.item.getType())===-1)){var i=e.item,a=this.get("graph");this.currentTarget===i?(this.currentTarget=null,this.hideTooltip(),a.emit("tooltipchange",{item:e.item,action:"hide"})):(this.currentTarget=i,this.showTooltip(e),a.emit("tooltipchange",{item:e.item,action:"show"}))}},t.prototype.onMouseEnter=function(e){var n=this.get("itemTypes");if(!(e.item&&e.item.getType&&n.indexOf(e.item.getType())===-1)){var i=e.item,a=this.get("graph");this.currentTarget=i,this.showTooltip(e),a.emit("tooltipchange",{item:e.item,action:"show"})}},t.prototype.onMouseMove=function(e){var n=this.get("itemTypes");e.item&&e.item.getType&&n.indexOf(e.item.getType())===-1||!this.currentTarget||e.item!==this.currentTarget||this.showTooltip(e)},t.prototype.onMouseLeave=function(){this.hideTooltip();var e=this.get("graph");e.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},t.prototype.clearContainer=function(){var e=this.get("tooltip");e&&(e.innerHTML="")},t.prototype.showTooltip=function(e){if(!!e.item){var n=this.get("itemTypes");if(!(e.item.getType&&n.indexOf(e.item.getType())===-1)){var i=this.get("tooltip"),a=this.get("getContent"),o=a(e);wt(o)?i.innerHTML=o:(this.clearContainer(),i.appendChild(o)),this.updatePosition(e)}}},t.prototype.hideTooltip=function(){var e=this.get("tooltip");e&&pn(e,{visibility:"hidden",display:"none"})},t.prototype.updatePosition=function(e){var n=this.get("shouldBegin"),i=this.get("tooltip");if(!n(e)){pn(i,{visibility:"hidden",display:"none"});return}var a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=this.get("offsetX")||0,u=this.get("offsetY")||0,c=a.getPointByClient(e.clientX,e.clientY),f=this.get("fixToNode"),d=e.item;if(d.getType&&d.getType()==="node"&&f&&gt(f)&&f.length>=2){var h=d.getBBox();c={x:h.minX+h.width*f[0],y:h.minY+h.height*f[1]}}var v=a.getCanvasByPoint(c.x,c.y),p=v.x,g=v.y,m=a.getContainer(),y={x:p+m.offsetLeft+l,y:g+m.offsetTop+u};pn(i,{visibility:"visible",display:"unset"});var b=i.getBoundingClientRect();p+b.width+l>o&&(y.x-=b.width+l),g+b.height+u>s&&(y.y-=b.height+u),pn(i,{left:"".concat(y.x,"px"),top:"".concat(y.y,"px")})},t.prototype.hide=function(){this.onMouseLeave()},t.prototype.destroy=function(){var e=this.get("tooltip");if(e){var n=this.get("container");n||(n=this.get("graph").get("container")),wt(n)&&(n=document.getElementById(n)),n.removeChild(e)}},t}(Ul),p8e=v8e,Kee={};function g8e(r){return Kee[r]}function df(r,t){Kee[r]=t}var PN=function(){function r(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return r.prototype.translate=function(t){return t},r.prototype.change=function(t){cr(this.__cfg__,t),this.init()},r.prototype.clone=function(){return this.constructor(this.__cfg__)},r.prototype.getTicks=function(){var t=this;return Di(this.ticks,function(e,n){return Hn(e)?e:{text:t.getText(e,n),tickValue:e,value:t.scale(e)}})},r.prototype.getText=function(t,e){var n=this.formatter,i=n?n(t,e):t;return xt(i)||!yr(i.toString)?"":i.toString()},r.prototype.getConfig=function(t){return this.__cfg__[t]},r.prototype.init=function(){cr(this,this.__cfg__),this.setDomain(),Bs(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},r.prototype.initCfg=function(){},r.prototype.setDomain=function(){},r.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(wt(t)){var n=g8e(t);if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else yr(t)&&(e=t(this));return e},r.prototype.rangeMin=function(){return this.range[0]},r.prototype.rangeMax=function(){return this.range[1]},r.prototype.calcPercent=function(t,e,n){return ir(t)?(t-e)/(n-e):NaN},r.prototype.calcValue=function(t,e,n){return e+t*(n-e)},r}(),J0=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return t.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var e=0;e<this.values.length;e++)this.translateIndexMap.set(this.values[e],e)}},t.prototype.translate=function(e){this.buildIndexMap();var n=this.translateIndexMap.get(e);return n===void 0&&(n=ir(e)?e:NaN),n},t.prototype.scale=function(e){var n=this.translate(e),i=this.calcPercent(n,this.min,this.max);return this.calcValue(i,this.rangeMin(),this.rangeMax())},t.prototype.invert=function(e){var n=this.max-this.min,i=this.calcPercent(e,this.rangeMin(),this.rangeMax()),a=Math.round(n*i)+this.min;return a<this.min||a>this.max?NaN:this.values[a]},t.prototype.getText=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=e;return ir(e)&&!this.values.includes(e)&&(a=this.values[a]),r.prototype.getText.apply(this,$i([a],n,!1))},t.prototype.initCfg=function(){this.tickMethod="cat"},t.prototype.setDomain=function(){if(xt(this.getConfig("min"))&&(this.min=0),xt(this.getConfig("max"))){var e=this.values.length;this.max=e>1?e-1:e}this.translateIndexMap&&(this.translateIndexMap=void 0)},t}(PN),Zee=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,zh="[1-9]\\d?",Oh="\\d\\d",m8e="\\d{3}",y8e="\\d{4}",N1="[^\\s]+",Qee=/\[([^]*?)\]/gm;function Jee(r,t){for(var e=[],n=0,i=r.length;n<i;n++)e.push(r[n].substr(0,t));return e}var pW=function(r){return function(t,e){var n=e[r].map(function(a){return a.toLowerCase()}),i=n.indexOf(t.toLowerCase());return i>-1?i:null}};function wv(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var n=0,i=t;n<i.length;n++){var a=i[n];for(var o in a)r[o]=a[o]}return r}var ete=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],tte=["January","February","March","April","May","June","July","August","September","October","November","December"],b8e=Jee(tte,3),x8e=Jee(ete,3),RN={dayNamesShort:x8e,dayNames:ete,monthNamesShort:b8e,monthNames:tte,amPm:["am","pm"],DoFn:function(r){return r+["th","st","nd","rd"][r%10>3?0:(r-r%10!==10?1:0)*r%10]}},uT=wv({},RN),rte=function(r){return uT=wv(uT,r)},gW=function(r){return r.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Ks=function(r,t){for(t===void 0&&(t=2),r=String(r);r.length<t;)r="0"+r;return r},w8e={D:function(r){return String(r.getDate())},DD:function(r){return Ks(r.getDate())},Do:function(r,t){return t.DoFn(r.getDate())},d:function(r){return String(r.getDay())},dd:function(r){return Ks(r.getDay())},ddd:function(r,t){return t.dayNamesShort[r.getDay()]},dddd:function(r,t){return t.dayNames[r.getDay()]},M:function(r){return String(r.getMonth()+1)},MM:function(r){return Ks(r.getMonth()+1)},MMM:function(r,t){return t.monthNamesShort[r.getMonth()]},MMMM:function(r,t){return t.monthNames[r.getMonth()]},YY:function(r){return Ks(String(r.getFullYear()),4).substr(2)},YYYY:function(r){return Ks(r.getFullYear(),4)},h:function(r){return String(r.getHours()%12||12)},hh:function(r){return Ks(r.getHours()%12||12)},H:function(r){return String(r.getHours())},HH:function(r){return Ks(r.getHours())},m:function(r){return String(r.getMinutes())},mm:function(r){return Ks(r.getMinutes())},s:function(r){return String(r.getSeconds())},ss:function(r){return Ks(r.getSeconds())},S:function(r){return String(Math.round(r.getMilliseconds()/100))},SS:function(r){return Ks(Math.round(r.getMilliseconds()/10),2)},SSS:function(r){return Ks(r.getMilliseconds(),3)},a:function(r,t){return r.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(r,t){return r.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(r){var t=r.getTimezoneOffset();return(t>0?"-":"+")+Ks(Math.floor(Math.abs(t)/60)*100+Math.abs(t)%60,4)},Z:function(r){var t=r.getTimezoneOffset();return(t>0?"-":"+")+Ks(Math.floor(Math.abs(t)/60),2)+":"+Ks(Math.abs(t)%60,2)}},mW=function(r){return+r-1},yW=[null,zh],bW=[null,N1],xW=["isPm",N1,function(r,t){var e=r.toLowerCase();return e===t.amPm[0]?0:e===t.amPm[1]?1:null}],wW=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(r){var t=(r+"").match(/([+-]|\d\d)/gi);if(t){var e=+t[1]*60+parseInt(t[2],10);return t[0]==="+"?e:-e}return 0}],S8e={D:["day",zh],DD:["day",Oh],Do:["day",zh+N1,function(r){return parseInt(r,10)}],M:["month",zh,mW],MM:["month",Oh,mW],YY:["year",Oh,function(r){var t=new Date,e=+(""+t.getFullYear()).substr(0,2);return+(""+(+r>68?e-1:e)+r)}],h:["hour",zh,void 0,"isPm"],hh:["hour",Oh,void 0,"isPm"],H:["hour",zh],HH:["hour",Oh],m:["minute",zh],mm:["minute",Oh],s:["second",zh],ss:["second",Oh],YYYY:["year",y8e],S:["millisecond","\\d",function(r){return+r*100}],SS:["millisecond",Oh,function(r){return+r*10}],SSS:["millisecond",m8e],d:yW,dd:yW,ddd:bW,dddd:bW,MMM:["month",N1,pW("monthNamesShort")],MMMM:["month",N1,pW("monthNames")],a:xW,A:xW,ZZ:wW,Z:wW},cT={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},nte=function(r){return wv(cT,r)},ite=function(r,t,e){if(t===void 0&&(t=cT.default),e===void 0&&(e={}),typeof r=="number"&&(r=new Date(r)),Object.prototype.toString.call(r)!=="[object Date]"||isNaN(r.getTime()))throw new Error("Invalid Date pass to format");t=cT[t]||t;var n=[];t=t.replace(Qee,function(a,o){return n.push(o),"@@@"});var i=wv(wv({},uT),e);return t=t.replace(Zee,function(a){return w8e[a](r,i)}),t.replace(/@@@/g,function(){return n.shift()})};function ate(r,t,e){if(e===void 0&&(e={}),typeof t!="string")throw new Error("Invalid format in fecha parse");if(t=cT[t]||t,r.length>1e3)return null;var n=new Date,i={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],o=[],s=t.replace(Qee,function(w,S){return o.push(gW(S)),"@@@"}),l={},u={};s=gW(s).replace(Zee,function(w){var S=S8e[w],E=S[0],_=S[1],A=S[3];if(l[E])throw new Error("Invalid format. "+E+" specified twice in format");return l[E]=!0,A&&(u[A]=!0),a.push(S),"("+_+")"}),Object.keys(u).forEach(function(w){if(!l[w])throw new Error("Invalid format. "+w+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var c=r.match(new RegExp(s,"i"));if(!c)return null;for(var f=wv(wv({},uT),e),d=1;d<c.length;d++){var h=a[d-1],v=h[0],p=h[2],g=p?p(c[d],f):+c[d];if(g==null)return null;i[v]=g}i.isPm===1&&i.hour!=null&&+i.hour!=12?i.hour=+i.hour+12:i.isPm===0&&+i.hour==12&&(i.hour=0);for(var m=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond),y=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],d=0,b=y.length;d<b;d++)if(l[y[d][0]]&&i[y[d][0]]!==m[y[d][1]]())return null;return i.timezoneOffset==null?m:new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond))}var ote={format:ite,parse:ate,defaultI18n:RN,setGlobalDateI18n:rte,setGlobalDateMasks:nte},C8e=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ote,assign:wv,format:ite,parse:ate,defaultI18n:RN,setGlobalDateI18n:rte,setGlobalDateMasks:nte});function E8e(r){return function(t,e,n,i){for(var a=xt(n)?0:n,o=xt(i)?t.length:i;a<o;){var s=a+o>>>1;r(t[s])>e?o=s:a=s+1}return a}}var SW="format";function ste(r,t){var e=C8e[SW]||ote[SW];return e(r,t)}function fT(r){return wt(r)&&(r.indexOf("T")>0?r=new Date(r).getTime():r=new Date(r.replace(/-/gi,"/")).getTime()),mF(r)&&(r=r.getTime()),r}var Yu=1e3,fg=60*Yu,dg=60*fg,xd=24*dg,B1=xd*31,CW=xd*365,Bx=[["HH:mm:ss",Yu],["HH:mm:ss",Yu*10],["HH:mm:ss",Yu*30],["HH:mm",fg],["HH:mm",fg*10],["HH:mm",fg*30],["HH",dg],["HH",dg*6],["HH",dg*12],["YYYY-MM-DD",xd],["YYYY-MM-DD",xd*4],["YYYY-WW",xd*7],["YYYY-MM",B1],["YYYY-MM",B1*4],["YYYY-MM",B1*6],["YYYY",xd*380]];function _8e(r,t,e){var n=(t-r)/e,i=E8e(function(o){return o[1]})(Bx,n)-1,a=Bx[i];return i<0?a=Bx[0]:i>=Bx.length&&(a=Ua(Bx)),a}var T8e=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="timeCat",e}return t.prototype.translate=function(e){e=fT(e);var n=this.values.indexOf(e);return n===-1&&(ir(e)&&e<this.values.length?n=e:n=NaN),n},t.prototype.getText=function(e,n){var i=this.translate(e);if(i>-1){var a=this.values[i],o=this.formatter;return a=o?o(a,n):ste(a,this.mask),a}return e},t.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},t.prototype.setDomain=function(){var e=this.values;q(e,function(n,i){e[i]=fT(n)}),e.sort(function(n,i){return n-i}),r.prototype.setDomain.call(this)},t}(J0),WA=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.isContinuous=!0,e}return t.prototype.scale=function(e){if(xt(e))return NaN;var n=this.rangeMin(),i=this.rangeMax(),a=this.max,o=this.min;if(a===o)return n;var s=this.getScalePercent(e);return n+s*(i-n)},t.prototype.init=function(){r.prototype.init.call(this);var e=this.ticks,n=Fs(e),i=Ua(e);n<this.min&&(this.min=n),i>this.max&&(this.max=i),xt(this.minLimit)||(this.min=n),xt(this.maxLimit)||(this.max=i)},t.prototype.setDomain=function(){var e=hF(this.values),n=e.min,i=e.max;xt(this.min)&&(this.min=n),xt(this.max)&&(this.max=i),this.min>this.max&&(this.min=n,this.max=i)},t.prototype.calculateTicks=function(){var e=this,n=r.prototype.calculateTicks.call(this);return this.nice||(n=ko(n,function(i){return i>=e.min&&i<=e.max})),n},t.prototype.getScalePercent=function(e){var n=this.max,i=this.min;return(e-i)/(n-i)},t.prototype.getInvertPercent=function(e){return(e-this.rangeMin())/(this.rangeMax()-this.rangeMin())},t}(PN),Jg=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return t.prototype.invert=function(e){var n=this.getInvertPercent(e);return this.min+n*(this.max-this.min)},t.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},t}(WA);function Yh(r,t){var e=Math.E,n;return t>=0?n=Math.pow(e,Math.log(t)/r):n=Math.pow(e,Math.log(-t)/r)*-1,n}function fu(r,t){return r===1?1:Math.log(t)/Math.log(r)}function lte(r,t,e){xt(e)&&(e=Math.max.apply(null,r));var n=e;return q(r,function(i){i>0&&i<n&&(n=i)}),n===e&&(n=e/t),n>1&&(n=1),n}var A8e=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="log",e}return t.prototype.invert=function(e){var n=this.base,i=fu(n,this.max),a=this.rangeMin(),o=this.rangeMax()-a,s,l=this.positiveMin;if(l){if(e===0)return 0;s=fu(n,l/n);var u=1/(i-s)*o;if(e<u)return e/u*l}else s=fu(n,this.min);var c=(e-a)/o,f=c*(i-s)+s;return Math.pow(n,f)},t.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},t.prototype.setDomain=function(){r.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");e===0&&(this.positiveMin=lte(this.values,this.base,this.max))},t.prototype.getScalePercent=function(e){var n=this.max,i=this.min;if(n===i||e<=0)return 0;var a=this.base,o=this.positiveMin;o&&(i=o*1/a);var s;return e<o?s=e/o/(fu(a,n)-fu(a,i)):s=(fu(a,e)-fu(a,i))/(fu(a,n)-fu(a,i)),s},t}(WA),k8e=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="pow",e}return t.prototype.invert=function(e){var n=this.getInvertPercent(e),i=this.exponent,a=Yh(i,this.max),o=Yh(i,this.min),s=n*(a-o)+o,l=s>=0?1:-1;return Math.pow(s,i)*l},t.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},t.prototype.getScalePercent=function(e){var n=this.max,i=this.min;if(n===i)return 0;var a=this.exponent,o=(Yh(a,e)-Yh(a,i))/(Yh(a,n)-Yh(a,i));return o},t}(WA),M8e=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="time",e}return t.prototype.getText=function(e,n){var i=this.translate(e),a=this.formatter;return a?a(i,n):ste(i,this.mask)},t.prototype.scale=function(e){var n=e;return(wt(n)||mF(n))&&(n=this.translate(n)),r.prototype.scale.call(this,n)},t.prototype.translate=function(e){return fT(e)},t.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},t.prototype.setDomain=function(){var e=this.values,n=this.getConfig("min"),i=this.getConfig("max");if((!xt(n)||!ir(n))&&(this.min=this.translate(this.min)),(!xt(i)||!ir(i))&&(this.max=this.translate(this.max)),e&&e.length){var a=[],o=1/0,s=o,l=0;q(e,function(u){var c=fT(u);if(isNaN(c))throw new TypeError("Invalid Time: "+u+" in time scale!");o>c?(s=o,o=c):s>c&&(s=c),l<c&&(l=c),a.push(c)}),e.length>1&&(this.minTickInterval=s-o),xt(n)&&(this.min=o),xt(i)&&(this.max=l)}},t}(Jg),ute=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="quantize",e}return t.prototype.invert=function(e){var n=this.ticks,i=n.length,a=this.getInvertPercent(e),o=Math.floor(a*(i-1));if(o>=i-1)return Ua(n);if(o<0)return Fs(n);var s=n[o],l=n[o+1],u=o/(i-1),c=(o+1)/(i-1);return s+(a-u)/(c-u)*(l-s)},t.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},t.prototype.calculateTicks=function(){var e=r.prototype.calculateTicks.call(this);return this.nice||(Ua(e)!==this.max&&e.push(this.max),Fs(e)!==this.min&&e.unshift(this.min)),e},t.prototype.getScalePercent=function(e){var n=this.ticks;if(e<Fs(n))return 0;if(e>Ua(n))return 1;var i=0;return q(n,function(a,o){if(e>=a)i=o;else return!1}),i/(n.length-1)},t}(WA),I8e=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="quantile",e}return t.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},t}(ute),cte={};function dO(r){return cte[r]}function hf(r,t){if(dO(r))throw new Error("type '"+r+"' existed.");cte[r]=t}var P8e=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return t.prototype.calculateTicks=function(){return this.values},t.prototype.scale=function(e){return this.values[0]!==e&&ir(e)?e:this.range[0]},t.prototype.invert=function(e){var n=this.range;return e<n[0]||e>n[1]?NaN:this.values[0]},t}(PN);function Iy(r){return Math.abs(r)<1e-15?r:parseFloat(r.toFixed(15))}var R8e=[1,5,2,2.5,4,3],EW=Number.EPSILON*100;function D8e(r,t){return(r%t+t)%t}function O8e(r){return Math.round(r*1e12)/1e12}function L8e(r,t,e,n,i,a){var o=Qa(t),s=bF(t,r),l=0,u=D8e(n,a);return(u<EW||a-u<EW)&&n<=0&&i>=0&&(l=1),1-s/(o-1)-e+l}function F8e(r,t,e){var n=Qa(t),i=bF(t,r),a=1;return 1-i/(n-1)-e+a}function N8e(r,t,e,n,i,a){var o=(r-1)/(a-i),s=(t-1)/(Math.max(a,n)-Math.min(e,i));return 2-Math.max(o/s,s/o)}function B8e(r,t){return r>=t?2-(r-1)/(t-1):1}function z8e(r,t,e,n){var i=t-r;return 1-.5*(Math.pow(t-n,2)+Math.pow(r-e,2))/Math.pow(.1*i,2)}function $8e(r,t,e){var n=t-r;if(e>n){var i=(e-n)/2;return 1-Math.pow(i,2)/Math.pow(.1*n,2)}return 1}function G8e(){return 1}function fte(r,t,e,n,i,a){e===void 0&&(e=5),n===void 0&&(n=!0),i===void 0&&(i=R8e),a===void 0&&(a=[.25,.2,.5,.05]);var o=e<0?0:Math.round(e);if(Number.isNaN(r)||Number.isNaN(t)||typeof r!="number"||typeof t!="number"||!o)return{min:0,max:0,ticks:[]};if(t-r<1e-15||o===1)return{min:r,max:t,ticks:[r]};for(var s={score:-2,lmin:0,lmax:0,lstep:0},l=1;l<1/0;){for(var u=0;u<i.length;u+=1){var c=i[u],f=F8e(c,i,l);if(a[0]*f+a[1]+a[2]+a[3]<s.score){l=1/0;break}for(var d=2;d<1/0;){var h=B8e(d,o);if(a[0]*f+a[1]+a[2]*h+a[3]<s.score)break;for(var v=(t-r)/(d+1)/l/c,p=Math.ceil(Math.log10(v));p<1/0;){var g=l*c*Math.pow(10,p),m=$8e(r,t,g*(d-1));if(a[0]*f+a[1]*m+a[2]*h+a[3]<s.score)break;var y=Math.floor(t/g)*l-(d-1)*l,b=Math.ceil(r/g)*l;if(y<=b)for(var w=b-y,S=0;S<=w;S+=1){var E=y+S,_=E*(g/l),A=_+g*(d-1),k=g,T=L8e(c,i,l,_,A,k),I=z8e(r,t,_,A),D=N8e(d,o,r,t,_,A),O=G8e(),B=a[0]*T+a[1]*I+a[2]*D+a[3]*O;B>s.score&&(!n||_<=r&&A>=t)&&(s.lmin=_,s.lmax=A,s.lstep=k,s.score=B)}p+=1}d+=1}}l+=1}var U=Iy(s.lmax),N=Iy(s.lmin),G=Iy(s.lstep),L=Math.floor(O8e((U-N)/G))+1,F=new Array(L);F[0]=Iy(N);for(var u=1;u<L;u++)F[u]=Iy(F[u-1]+G);return{min:Math.min(r,Fs(F)),max:Math.max(t,Ua(F)),ticks:F}}function dte(r){var t=r.values,e=r.tickInterval,n=r.tickCount,i=t;if(ir(e))return ko(i,function(u,c){return c%e===0});var a=r.min,o=r.max;if(xt(a)&&(a=0),xt(o)&&(o=t.length-1),ir(n)&&n<o-a){var s=fte(a,o,n,!1,[1,2,5,3,4,7,6,8,9]).ticks,l=ko(s,function(u){return u>=a&&u<=o});return l.map(function(u){return t[u]})}return t.slice(a,o+1)}function U8e(r){var t=r.min,e=r.max,n=r.nice,i=r.tickCount,a=new H8e;return a.domain([t,e]),n&&a.nice(i),a.ticks(i)}var TP=5,_W=Math.sqrt(50),TW=Math.sqrt(10),AW=Math.sqrt(2),H8e=function(){function r(){this._domain=[0,1]}return r.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},r.prototype.nice=function(t){var e,n;t===void 0&&(t=TP);var i=this._domain.slice(),a=0,o=this._domain.length-1,s=this._domain[a],l=this._domain[o],u;return l<s&&(e=[l,s],s=e[0],l=e[1],n=[o,a],a=n[0],o=n[1]),u=q2(s,l,t),u>0?(s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u,u=q2(s,l,t)):u<0&&(s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u,u=q2(s,l,t)),u>0?(i[a]=Math.floor(s/u)*u,i[o]=Math.ceil(l/u)*u,this.domain(i)):u<0&&(i[a]=Math.ceil(s*u)/u,i[o]=Math.floor(l*u)/u,this.domain(i)),this},r.prototype.ticks=function(t){return t===void 0&&(t=TP),V8e(this._domain[0],this._domain[this._domain.length-1],t||TP)},r}();function V8e(r,t,e){var n,i=-1,a,o,s;if(t=+t,r=+r,e=+e,r===t&&e>0)return[r];if((n=t<r)&&(a=r,r=t,t=a),(s=q2(r,t,e))===0||!isFinite(s))return[];if(s>0)for(r=Math.ceil(r/s),t=Math.floor(t/s),o=new Array(a=Math.ceil(t-r+1));++i<a;)o[i]=(r+i)*s;else for(r=Math.floor(r*s),t=Math.ceil(t*s),o=new Array(a=Math.ceil(r-t+1));++i<a;)o[i]=(r-i)/s;return n&&o.reverse(),o}function q2(r,t,e){var n=(t-r)/Math.max(0,e),i=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,i);return i>=0?(a>=_W?10:a>=TW?5:a>=AW?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=_W?10:a>=TW?5:a>=AW?2:1)}function kW(r,t,e){var n;return e==="ceil"?n=Math.ceil(r/t):e==="floor"?n=Math.floor(r/t):n=Math.round(r/t),n*t}function DN(r,t,e){var n=kW(r,e,"floor"),i=kW(t,e,"ceil");n=L2(n,e),i=L2(i,e);for(var a=[],o=n;o<=i;o=o+e){var s=L2(o,e);a.push(s)}return{min:n,max:i,ticks:a}}function ON(r,t,e){var n,i=r.minLimit,a=r.maxLimit,o=r.min,s=r.max,l=r.tickCount,u=l===void 0?5:l,c=xt(i)?xt(t)?o:t:i,f=xt(a)?xt(e)?s:e:a;if(c>f&&(n=[c,f],f=n[0],c=n[1]),u<=2)return[c,f];for(var d=(f-c)/(u-1),h=[],v=0;v<u;v++)h.push(c+d*v);return h}function W8e(r){var t=r.min,e=r.max,n=r.tickInterval,i=r.minLimit,a=r.maxLimit,o=U8e(r);return!xt(i)||!xt(a)?ON(r,Fs(o),Ua(o)):n?DN(t,e,n).ticks:o}function j8e(r){var t=r.min,e=r.max,n=r.tickCount,i=r.nice,a=r.tickInterval,o=r.minLimit,s=r.maxLimit,l=fte(t,e,n,i).ticks;return!xt(o)||!xt(s)?ON(r,Fs(l),Ua(l)):a?DN(t,e,a).ticks:l}function Y8e(r){var t=r.base,e=r.tickCount,n=r.min,i=r.max,a=r.values,o,s=fu(t,i);if(n>0)o=Math.floor(fu(t,n));else{var l=lte(a,t,i);o=Math.floor(fu(t,l))}for(var u=s-o,c=Math.ceil(u/e),f=[],d=o;d<s+c;d=d+c)f.push(Math.pow(t,d));return n<=0&&f.unshift(0),f}function hte(r,t,e){if(e===void 0&&(e=5),r===t)return{max:t,min:r,ticks:[r]};var n=e<0?0:Math.round(e);if(n===0)return{max:t,min:r,ticks:[]};var i=1.5,a=.5+1.5*i,o=t-r,s=o/n,l=Math.pow(10,Math.floor(Math.log10(s))),u=l;2*l-s<i*(s-u)&&(u=2*l,5*l-s<a*(s-u)&&(u=5*l,10*l-s<i*(s-u)&&(u=10*l)));for(var c=Math.ceil(t/u),f=Math.floor(r/u),d=Math.max(c*u,t),h=Math.min(f*u,r),v=Math.floor((d-h)/u)+1,p=new Array(v),g=0;g<v;g++)p[g]=Iy(h+g*u);return{min:h,max:d,ticks:p}}function X8e(r){var t=r.exponent,e=r.tickCount,n=Math.ceil(Yh(t,r.max)),i=Math.floor(Yh(t,r.min)),a=hte(i,n,e).ticks;return a.map(function(o){var s=o>=0?1:-1;return Math.pow(o,t)*s})}function q8e(r,t){var e=r.length*t;return t===1?r[r.length-1]:t===0?r[0]:e%1!==0?r[Math.ceil(e)-1]:r.length%2===0?(r[e-1]+r[e])/2:r[e]}function K8e(r){var t=r.tickCount,e=r.values;if(!e||!e.length)return[];for(var n=e.slice().sort(function(s,l){return s-l}),i=[],a=0;a<t;a++){var o=a/(t-1);i.push(q8e(n,o))}return i}function Z8e(r){var t=r.min,e=r.max,n=r.tickCount,i=r.tickInterval,a=r.minLimit,o=r.maxLimit,s=hte(t,e,n).ticks;return!xt(a)||!xt(o)?ON(r,Fs(s),Ua(s)):i?DN(t,e,i).ticks:s}function Q8e(r){var t=r.min,e=r.max,n=r.minTickInterval,i=r.tickInterval,a=r.tickCount;if(i)a=Math.ceil((e-t)/i);else{i=_8e(t,e,a)[1];var o=(e-t)/i,s=o/a;s>1&&(i=i*Math.ceil(s)),n&&i<n&&(i=n)}for(var l=[],u=t;u<e+i;u+=i)l.push(u);return l}function J8e(r){var t=dte(r),e=Ua(r.values);return e!==Ua(t)&&t.push(e),t}function dT(r){return new Date(r).getFullYear()}function eUe(r){return new Date(r,0,1).getTime()}function hO(r){return new Date(r).getMonth()}function tUe(r,t){var e=dT(r),n=dT(t),i=hO(r),a=hO(t);return(n-e)*12+(a-i)%12}function rUe(r,t){return new Date(r,t,1).getTime()}function nUe(r,t){return Math.ceil((t-r)/xd)}function iUe(r,t){return Math.ceil((t-r)/dg)}function aUe(r,t){return Math.ceil((t-r)/(60*1e3))}function oUe(r){var t=r.min,e=r.max,n=r.minTickInterval,i=r.tickCount,a=r.tickInterval,o=[];a||(a=(e-t)/i,n&&a<n&&(a=n));var s=dT(t);if(a>CW)for(var l=dT(e),u=Math.ceil(a/CW),c=s;c<=l+u;c=c+u)o.push(eUe(c));else if(a>B1)for(var f=Math.ceil(a/B1),d=hO(t),h=tUe(t,e),c=0;c<=h+f;c=c+f)o.push(rUe(s,c+d));else if(a>xd)for(var v=new Date(t),p=v.getFullYear(),g=v.getMonth(),m=v.getDate(),y=Math.ceil(a/xd),b=nUe(t,e),c=0;c<b+y;c=c+y)o.push(new Date(p,g,m+c).getTime());else if(a>dg)for(var v=new Date(t),p=v.getFullYear(),g=v.getMonth(),y=v.getDate(),w=v.getHours(),S=Math.ceil(a/dg),E=iUe(t,e),c=0;c<=E+S;c=c+S)o.push(new Date(p,g,y,w+c).getTime());else if(a>fg)for(var _=aUe(t,e),A=Math.ceil(a/fg),c=0;c<=_+A;c=c+A)o.push(t+c*fg);else{var k=a;k<Yu&&(k=Yu);for(var T=Math.floor(t/Yu)*Yu,I=Math.ceil((e-t)/Yu),D=Math.ceil(k/Yu),c=0;c<I+D;c=c+D)o.push(T+c*Yu)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+a+") is too small, increase the value to solve the problem!"),o}df("cat",dte);df("time-cat",J8e);df("wilkinson-extended",j8e);df("r-pretty",Z8e);df("time",Q8e);df("time-pretty",oUe);df("log",Y8e);df("pow",X8e);df("quantile",K8e);df("d3-linear",W8e);hf("cat",J0);hf("category",J0);hf("identity",P8e);hf("linear",Jg);hf("log",A8e);hf("pow",k8e);hf("time",M8e);hf("timeCat",T8e);hf("quantize",ute);hf("quantile",I8e);var sUe=globalThis&&globalThis.__spreadArray||function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return r.concat(a||Array.prototype.slice.call(t))};function lUe(r){return Di(r,function(t,e){var n=e===0?"M":"L",i=t[0],a=t[1];return[n,i,a]})}function vte(r){return lUe(r)}function uUe(r){if(r.length<=2)return vte(r);var t=[];q(r,function(o){Zi(o,t.slice(t.length-2))||t.push(o[0],o[1])});var e=HF(t,!1),n=Fs(r),i=n[0],a=n[1];return e.unshift(["M",i,a]),e}function cUe(r,t,e,n){n===void 0&&(n=!0);var i=new Jg({values:r}),a=new J0({values:Di(r,function(s,l){return l})}),o=Di(r,function(s,l){return[a.scale(l)*t,e-i.scale(s)*e]});return n?uUe(o):vte(o)}function fUe(r,t,e,n){n===void 0&&(n=5);for(var i=new Jg({values:r}),a=new J0({values:Di(r,function(d,h){return h})}),o=Di(r,function(d,h){return[a.scale(h)*t,e-i.scale(d)*e]}),s=[],l=0;l<o.length;l++){var u=o[l],c={x:u[0],y:u[1],y0:e,size:n},f=vUe(c);s.push.apply(s,f)}return pUe(s)}function dUe(r,t){var e=new Jg({values:r}),n=Math.max(0,e.min);return t-e.scale(n)*t}function hUe(r,t,e,n){var i=sUe([],r,!0),a=dUe(n,e);return i.push(["L",t,a]),i.push(["L",0,a]),i.push(["Z"]),i}function vUe(r){var t=r.x,e=r.y,n=r.y0,i=r.size,a,o;gt(e)?(a=e[0],o=e[1]):(a=n,o=e);var s,l;gt(t)?(s=t[0],l=t[1]):(s=t-i/2,l=t+i/2);var u=[{x:s,y:a},{x:s,y:o}];return u.push({x:l,y:o},{x:l,y:a}),u}function pUe(r,t){t===void 0&&(t=!0);var e=[],n=r[0];e.push(["M",n.x,n.y]);for(var i=1,a=r.length;i<a;i++)e.push(["L",r[i].x,r[i].y]);return t&&(e.push(["L",n.x,n.y]),e.push(["z"])),e}var z1=globalThis&&globalThis.__assign||function(){return z1=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},z1.apply(this,arguments)},gUe={stroke:"#C5C5C5",strokeOpacity:.85},mUe={fill:"#CACED4",opacity:.85},yUe=function(){function r(t){var e=t.x,n=e===void 0?0:e,i=t.y,a=i===void 0?0:i,o=t.width,s=o===void 0?200:o,l=t.height,u=l===void 0?26:l,c=t.smooth,f=c===void 0?!0:c,d=t.isArea,h=d===void 0?!1:d,v=t.data,p=v===void 0?[]:v,g=t.lineStyle,m=t.areaStyle,y=t.group,b=t.interval,w=b===void 0?null:b;this.group=y,this.x=n,this.y=a,this.width=s,this.height=u,this.data=p,this.smooth=f,this.isArea=h,this.lineStyle=Object.assign({},gUe,g),this.areaStyle=Object.assign({},mUe,m),this.intervalConfig=w,this.renderLine()}return r.prototype.renderLine=function(){var t=this,e=t.x,n=t.y,i=t.width,a=t.height;t.barWidth;var o=t.data,s=t.smooth,l=t.isArea,u=t.lineStyle,c=t.areaStyle,f=this.group.addGroup({name:"trend-group"});if(o){var d=cUe(o,i,a,s);if(f.addShape("path",{attrs:z1({path:d},u),name:"trend-line"}),l){var h=hUe(d,i,a,o);f.addShape("path",{attrs:z1({path:h},c),name:"trend-area"})}}this.intervalConfig&&f.addShape("path",{attrs:z1({path:fUe(this.intervalConfig.data,i,a,this.intervalConfig.style.barWidth)},this.intervalConfig.style),name:"trend-interval"}),f.move(e,n)},r.prototype.destory=function(){this.group.destroy()},r}(),bUe=yUe,zy=globalThis&&globalThis.__assign||function(){return zy=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},zy.apply(this,arguments)},xUe={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},wUe={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},SUe=function(){function r(t){var e=t.group,n=t.name,i=t.type,a=t.x,o=a===void 0?0:a,s=t.y,l=s===void 0?0:s,u=t.width,c=u===void 0?2:u,f=t.height,d=f===void 0?24:f,h=t.style,v=h===void 0?{}:h;this.group=e,this.name=n,this.handleType=i,this.x=o,this.y=l,this.width=c,this.height=d,i==="trend"?this.style=zy(zy({},xUe),v):i==="simple"&&(this.style=zy(zy({},wUe),v)),this.renderHandle()}return r.prototype.setX=function(t){this.setXY(t,void 0)},r.prototype.setY=function(t){this.setXY(void 0,t)},r.prototype.setXY=function(t,e){ir(t)&&(this.x=t),ir(e)&&(this.y=e),this.updateXY()},r.prototype.renderHandle=function(){var t=this,e=t.width,n=t.height,i=t.style,a=t.name,o=i.fill,s=i.stroke,l=i.radius,u=i.opacity,c=i.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:e,height:n,fill:o,stroke:s,radius:l,opacity:u,cursor:c},name:"".concat(a,"-handler")}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:e/2,y:0,r:2*e,fill:o,stroke:s,radius:l,opacity:u,cursor:c,lineAppendWidth:12},name:"".concat(a,"-handler")}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:e/2,y:n,r:2*e,fill:o,stroke:s,radius:l,opacity:u,cursor:c},name:"".concat(a,"-handler")})):this.handleType==="simple"&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:e/2,y:n/2,r:2*e,fill:o,stroke:s,radius:l,opacity:u,cursor:c,lineWidth:2},name:"".concat(a,"-handler")})),this.updateXY(),this.handleType==="trend"?this.bindTrendEvents():this.handleType==="simple"&&this.bindSimpleEvents()},r.prototype.bindSimpleEvents=function(){var t=this,e=this.name;this.handleGroup.on("".concat(e,"-handler:mouseenter"),function(){var n=t.style.highLightFill;t.topCircle.attr("fill",n)}),this.handleGroup.on("".concat(e,"-handler:mouseleave"),function(){var n=t.style.fill;t.topCircle.attr("fill",n)})},r.prototype.bindTrendEvents=function(){var t=this,e=this.name;this.handleGroup.on("".concat(e,"-handler:mouseenter"),function(){var n=t.style.highLightFill;t.verticalLine.attr("fill",n),t.topCircle.attr("fill",n),t.bottomCircle.attr("fill",n)}),this.handleGroup.on("".concat(e,"-handler:mouseleave"),function(){var n=t.style.fill;t.verticalLine.attr("fill",n),t.topCircle.attr("fill",n),t.bottomCircle.attr("fill",n)})},r.prototype.show=function(){this.handleGroup.show()},r.prototype.hide=function(){this.handleGroup.hide()},r.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},r}(),MW=SUe,pte="timebarstartplay",gte="timebarendplay",Gc="valuechange",hg="timebarConfigChanged",iv="playPauseBtn",Tw="nextStepBtn",Aw="preStepBtn",vO=globalThis&&globalThis.__assign||function(){return vO=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},vO.apply(this,arguments)},CUe=function(){function r(t){this.config=Kt({},t),this.init()}return r.prototype.update=function(t){this.config=Kt({},this.config,t),this.updateElement(),this.renderMarker()},r.prototype.init=function(){this.initElement(),this.renderMarker()},r.prototype.initElement=function(){var t=this.config,e=t.group,n=t.style,i=n.scale,a=i===void 0?1:i,o=n.offsetX,s=o===void 0?0:o,l=n.offsetY,u=l===void 0?0:l,c=this.config.x+s,f=this.config.y+u,d=e.addGroup({name:iv});this.startMarkerGroup=d.addGroup({name:iv}),this.circle=e.addShape("circle",{attrs:vO({x:c,y:f,r:this.config.r*a},n),name:iv}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(c,f,a),fill:n.stroke||"#aaa"},name:"start-marker"}),this.pauseMarkerGroup=d.addGroup({name:iv});var h=.25*this.config.r*a,v=.5*this.config.r*Math.sqrt(3)*a;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:c-.375*this.config.r*a,y:f-v/2,width:h,height:v,fill:n.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:c+1/8*this.config.r*a,y:f-v/2,width:h,height:v,fill:n.stroke||"#aaa",lineWidth:0}})},r.prototype.updateElement=function(){var t=this.config.style,e=t.scale,n=e===void 0?1:e,i=t.offsetX,a=i===void 0?0:i,o=t.offsetY,s=o===void 0?0:o,l=this.config.x+a,u=this.config.y+s;this.circle.attr("x",l),this.circle.attr("y",u),this.circle.attr("r",this.config.r*n),this.startMarker.attr("path",this.getStartMarkerPath(l,u,n));var c=.25*this.config.r*n,f=.5*this.config.r*Math.sqrt(3)*n;this.pauseLeftMarker.attr("x",l-(1/4+1/8)*this.config.r*n),this.pauseLeftMarker.attr("y",u-f/2),this.pauseLeftMarker.attr("width",c),this.pauseLeftMarker.attr("height",f),this.pauseRightMarker.attr("x",l+1/8*this.config.r*n),this.pauseRightMarker.attr("y",u-f/2),this.pauseRightMarker.attr("width",c),this.pauseRightMarker.attr("height",f)},r.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},r.prototype.getStartMarkerPath=function(t,e,n){var i=.5*this.config.r*Math.sqrt(3)*n;return[["M",t-i/Math.sqrt(3)/2,e-i/2],["L",t+i/Math.sqrt(3),e],["L",t-i/Math.sqrt(3)/2,e+i/2]]},r}(),EUe=CUe,qa=globalThis&&globalThis.__assign||function(){return qa=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},qa.apply(this,arguments)},zx=Ai,_Ue="#aaa",TUe="green",AUe={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},kUe={fill:"#fff"},MUe={fill:"green"},mte={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},yte={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},IUe={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:mte,timeTypeControllerStyle:yte},AP=110,Lh=50,PUe=function(){function r(t){this.controllerCfg=Kt({},IUe,t),this.group=t.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.fontFamily=t.fontFamily||"Arial, sans-serif",this.init()}return r.prototype.init=function(){this.renderPlayButton()},r.prototype.getNextMarkerPath=function(t,e,n){return[["M",t,e-n],["L",t+n,e],["L",t,e+n],["Z",t,e-n],["M",t,e],["L",t-n,e-n],["L",t-n,e+n],["Z"]]},r.prototype.getPreMarkerPath=function(t,e,n){return[["M",t,e-n],["L",t-n,e],["L",t,e+n],["L",t,e-n],["M",t,e],["L",t+n,e-n],["L",t+n,e+n],["Z"]]},r.prototype.renderPlayButton=function(){var t=this.controllerCfg,e=t.width,n=t.height,i=t.x,a=t.y,o=t.hideTimeTypeController,s=t.fill,l=s===void 0?_Ue:s,u=t.stroke,c=u===void 0?TUe:u,f=t.containerStyle,d=f===void 0?{}:f,h=qa(qa({},AUe),t.playBtnStyle||{}),v=qa(qa({},kUe),t.preBtnStyle||{}),p=qa(qa({},MUe),t.nextBtnStyle||{}),g=n/2-5,m=a+10,y=this.controllerGroup.addShape("rect",{attrs:qa({x:i,y:m,width:e,height:n,stroke:c,fill:l},d),name:"container-rect"});this.playButton?this.playButton.update({x:e/2,y:m,r:g}):this.playButton=new EUe({group:this.controllerGroup,x:e/2,y:m+g+5,r:g,isPlay:this.isPlay,style:h});var b=v.offsetX||0,w=v.offsetY||0,S=(v.scale||1)*g;this.controllerGroup.addShape("path",{attrs:qa({path:this.getPreMarkerPath(e/2-5*g+b,m+g+5+w,S*.5)},v),name:Aw});var E=p.offsetX||0,_=p.offsetY||0,A=(p.scale||1)*g;this.controllerGroup.addShape("path",{attrs:qa({path:this.getNextMarkerPath(e/2+5*g+E,m+g+5+_,A*.5)},p),name:Tw}),y.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent();var k=this.controllerCfg.scale,T=k===void 0?1:k,I=this.controllerGroup.getCanvasBBox(),D=(I.maxX+I.minX)/2,O=(I.maxY+I.minY)/2,B=zx([1,0,0,0,1,0,0,0,1],[["t",-D,-O],["s",T,T],["t",D,O]]);this.controllerGroup.setMatrix(B)},r.prototype.renderSpeedBtn=function(){var t=this.controllerCfg,e=t.y,n=t.width,i=t.hideTimeTypeController,a=qa(qa({},mte),this.controllerCfg.speedControllerStyle||{}),o=a.scroller,s=o===void 0?{}:o,l=a.text,u=l===void 0?{}:l,c=a.pointer,f=c===void 0?{}:c,d=a.scale,h=d===void 0?1:d,v=a.offsetX,p=v===void 0?0:v,g=a.offsetY,m=g===void 0?0:g,y=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=y;var b=5;this.speedAxisY=[19,22,26,32,39];for(var w=0;w<5;w++){var S=e+this.speedAxisY[w],E=n-(i?Lh:AP);y.addShape("line",{attrs:qa({x1:E,x2:E+15,y1:S,y2:S},s),speed:b,name:"speed-rect"}),this.speedAxisY[w]=S,b=b-1}this.speedText=y.addShape("text",{attrs:qa({x:n-(i?Lh:AP)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},u),name:"speed-text"}),this.speedPoint=y.addShape("path",{attrs:qa({path:this.getPointerPath(n-(i?Lh:AP),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},f),name:"speed-pointer"});var _=this.speedGroup.getCanvasBBox(),A=(_.maxX+_.minX)/2,k=(_.maxY+_.minY)/2,T=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];T=zx(T,[["t",-A,-k],["s",h,h],["t",A+p*h,k+m*h]]),this.speedGroup.setMatrix(T)},r.prototype.getPointerPath=function(t,e){return[["M",t,e],["L",t-10,e-4],["L",t-10,e+4],["Z"]]},r.prototype.renderToggleTime=function(){var t,e=this.controllerCfg.width,n=qa(qa({},yte),this.controllerCfg.timeTypeControllerStyle||{}),i=n.scale,a=i===void 0?1:i,o=n.offsetX,s=o===void 0?0:o,l=n.offsetY,u=l===void 0?0:l,c=n.box,f=c===void 0?{}:c,d=n.check,h=d===void 0?{}:d,v=n.text,p=v===void 0?{}:v;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:qa({x:e-Lh,y:this.speedAxisY[0]+3.5},f),isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:qa({path:[["M",e-Lh+3,this.speedAxisY[1]+6],["L",e-Lh+7,this.speedAxisY[1]+10],["L",e-Lh+12,this.speedAxisY[1]+4]]},h),capture:!1,name:"check-icon"}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:qa({text:((t=this.controllerCfg)===null||t===void 0?void 0:t.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4",x:e-Lh+15,y:this.speedAxisY[0]+4,fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},p),name:"checked-text"});var g=this.toggleGroup.getCanvasBBox(),m=(g.maxX+g.minX)/2,y=(g.maxY+g.minY)/2,b=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];b=zx(b,[["t",-m,-y],["s",a,a],["t",m+s*a,y+u*a]]),this.toggleGroup.setMatrix(b)},r.prototype.bindEvent=function(){var t=this;this.speedGroup.on("speed-rect:click",function(e){var n=e.target.attr("y1"),i=t.speedPoint.attr("matrix"),a=t.speedAxisY.indexOf(i[7]||0),o=t.speedAxisY.indexOf(n),s=t.speedAxisY[o]-t.speedAxisY[a];i=zx(i,[["t",0,s]]),t.speedPoint.setMatrix(i),t.currentSpeed=t.speedAxisY.length-o,t.speedText.attr("text","".concat(t.currentSpeed,".0X")),t.group.emit(hg,{speed:t.currentSpeed,type:t.currentType})}),this.speedGroup.on("mousewheel",function(e){e.preventDefault();var n=t.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],i=n[7],a=t.speedAxisY.indexOf(i);if(a===-1){var o=1/0;t.speedAxisY.forEach(function(l,u){var c=Math.abs(l-i);o>c&&(o=c,a=u)})}e.originalEvent.deltaY>0?a=Math.max(0,a-1):a=Math.min(t.speedAxisY.length-1,a+1);var s=t.speedAxisY[a]-i;n=zx(n,[["t",0,s]]),t.speedPoint.setMatrix(n),t.currentSpeed=t.speedAxisY.length-a,t.speedText.attr("text","".concat(t.currentSpeed,".0X")),t.group.emit(hg,{speed:t.currentSpeed,type:t.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(e){var n,i,a=e.target.get("isChecked");a?(t.checkedIcon.hide(),t.checkedText.attr("text",((i=t.controllerCfg)===null||i===void 0?void 0:i.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4"),t.currentType="range"):(t.checkedIcon.show(),t.checkedText.attr("text",((n=t.controllerCfg)===null||n===void 0?void 0:n.timeRangeControllerText)||"\u65F6\u95F4\u8303\u56F4"),t.currentType="single"),e.target.set("isChecked",!a),t.group.emit(hg,{type:t.currentType,speed:t.currentSpeed})})},r.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},r}(),bte=PUe,ji=globalThis&&globalThis.__assign||function(){return ji=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},ji.apply(this,arguments)},RUe=Ai,DUe={fill:"#416180",opacity:.05},OUe={fill:"#416180",opacity:.15,radius:5},LUe={fill:"#5B8FF9",opacity:.3,cursor:"grab"},pO=2,FUe={width:pO,height:24},NUe={textBaseline:"middle",fill:"#000",opacity:.45},BUe={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},zUe={lineWidth:1,stroke:"#ccc"},$Ue=function(){function r(t){var e=this;this.prevX=0,this.onMouseDown=function(H){return function(K){e.currentHandler=H;var ie=K.originalEvent;ie.stopPropagation(),ie.preventDefault(),e.prevX=me(ie,"touches.0.pageX",ie.pageX);var ee=e.canvas.get("container");ee.addEventListener("mousemove",e.onMouseMove),ee.addEventListener("mouseup",e.onMouseUp),ee.addEventListener("mouseleave",e.onMouseUp),ee.addEventListener("touchmove",e.onMouseMove),ee.addEventListener("touchend",e.onMouseUp),ee.addEventListener("touchcancel",e.onMouseUp)}},this.onMouseMove=function(H){H.stopPropagation(),H.preventDefault();var K=me(H,"touches.0.pageX",H.pageX),ie=K-e.prevX,ee=e.adjustOffsetRange(ie/e.width);e.updateStartEnd(ee),e.updateUI(),e.prevX=K},this.onMouseUp=function(){e.currentHandler&&(e.currentHandler=void 0);var H=e.canvas.get("container");H&&(H.removeEventListener("mousemove",e.onMouseMove),H.removeEventListener("mouseup",e.onMouseUp),H.removeEventListener("mouseleave",e.onMouseUp),H.removeEventListener("touchmove",e.onMouseMove),H.removeEventListener("touchend",e.onMouseUp),H.removeEventListener("touchcancel",e.onMouseUp))};var n=t.x,i=n===void 0?0:n,a=t.y,o=a===void 0?0:a,s=t.width,l=s===void 0?100:s,u=t.height,c=t.padding,f=c===void 0?10:c,d=t.trendCfg,h=t.controllerCfg,v=h===void 0?{speed:1}:h,p=t.backgroundStyle,g=p===void 0?{}:p,m=t.foregroundStyle,y=m===void 0?{}:m,b=t.handlerStyle,w=b===void 0?{}:b,S=t.textStyle,E=S===void 0?{}:S,_=t.start,A=_===void 0?0:_,k=t.end,T=k===void 0?1:k,I=t.minText,D=I===void 0?"":I,O=t.maxText,B=O===void 0?"":O,U=t.group,N=t.graph,G=t.canvas,L=t.tick,F=L===void 0?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(K){return K},ticks:[]}:L,W=t.type;this.graph=N,this.canvas=G,this.group=U,this.timeBarType=W,this.x=i,this.y=o,this.width=l,this.height=u,this.padding=f,this.ticks=F.ticks,this.trendCfg=d,this.controllerCfg=v,this.currentSpeed=v.speed||1,this.tickLabelFormatter=F.tickLabelFormatter,W==="trend"?this.backgroundStyle=ji(ji({},DUe),g):W==="simple"&&(this.backgroundStyle=ji(ji({},OUe),g)),this.foregroundStyle=ji(ji({},LUe),y),this.handlerStyle=ji(ji({},FUe),w),this.textStyle=ji(ji({},NUe),E),this.tickLabelStyle=ji(ji({},BUe),F.tickLabelStyle),this.tickLineStyle=ji(ji({},zUe),F.tickLineStyle),this.currentMode="range",this.start=A,this.end=T,this.minText=D,this.maxText=B,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return r.prototype.update=function(t){var e=t.x,n=t.y,i=t.width,a=t.height,o=t.minText,s=t.maxText,l=t.start,u=t.end;this.start=Math.min(1,Math.max(l,0)),this.end=Math.min(1,Math.max(u,0)),cr(this,{x:e,y:n,width:i,height:a,minText:o,maxText:s}),this.updateUI()},r.prototype.setText=function(t,e){this.minTextShape.attr("text",t),this.maxTextShape.attr("text",e)},r.prototype.renderSlider=function(){var t=this,e=this,n=e.width,i=e.height,a=e.timeBarType;if(a==="trend"&&Qa(me(this.trendCfg,"data"))){var o=new bUe(ji(ji({x:this.x,y:this.y,width:n,height:i},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:ji({x:0,y:0,width:n,height:i},this.backgroundStyle),name:"background"});var l=this.group.addGroup();a==="trend"?(this.minTextShape=l.addShape("text",{attrs:ji({x:0,y:i/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=l.addShape("text",{attrs:ji({y:i/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})):(this.minTextShape=l.addShape("text",{attrs:ji({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=l.addShape("text",{attrs:ji({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:ji({x:0,y:this.y,height:i},this.foregroundStyle),name:"foreground-shape"}),this.foregroundShape.on("mousedown",function(m){m.target.attr("cursor","grabbing")}),this.foregroundShape.on("mouseup",function(m){m.target.attr("cursor",t.foregroundStyle.cursor||"grab")});var u=me(this.handlerStyle,"width",2),c=me(this.handlerStyle,"height",24),f=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new MW({name:"minHandlerShape",group:f,type:a,x:this.x,y:this.y,width:u,height:c,style:this.handlerStyle});var d=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new MW({name:"maxHandlerShape",group:d,type:a,x:this.x,y:this.y,width:u,height:c,style:this.handlerStyle});var h=this.ticks,v=n/(h.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(m){m.destroy()});var p=-1/0,g=this.tickLabelStyle.rotate;delete this.tickLabelStyle.rotate,this.textList=h.map(function(m,y){t.tickPosList.push(t.x+y*v);var b;t.tickLabelFormatter?(b=t.tickLabelFormatter(m),!wt(b)&&b&&(b=m.date)):b=m.date;var w=t.x+y*v,S=t.y+i+5,E=t.group.addShape("text",{attrs:ji({x:w,y:S,text:b,fontFamily:t.fontFamily||"Arial, sans-serif"},t.tickLabelStyle),name:"tick-label"});if(ir(g)&&y!==h.length-1){var _=RUe([1,0,0,0,1,0,0,0,1],[["t",-w,-S],["r",g],["t",w-5,S+2]]);E.attr({textAlign:"left",matrix:_})}y===0?E.attr({textAlign:"left"}):y!==h.length-1&&E.attr({textAlign:"right"});var A=t.group.addShape("line",{attrs:ji({x1:t.x+y*v,y1:t.y+i+2,x2:t.x+y*v,y2:t.y+i+6},t.tickLineStyle),name:"tick-line"});A.toBack();var k=E.getBBox();return k.minX>p?(E.show(),A.show(),p=k.minX+k.width+10):(E.hide(),A.hide()),E}),this.controllerBtnGroup=new bte(ji({group:this.group,x:this.x,y:this.y+i+25,width:n,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),s.move(this.x,this.y),this.bindEvents()},r.prototype.bindEvents=function(){var t=this,e=this.group.find(function(i){return i.get("name")==="minHandlerShape"});e&&(e.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),e.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var n=this.group.find(function(i){return i.get("name")==="maxHandlerShape"});n&&(n.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),n.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("".concat(iv,":click"),function(){t.isPlay=!t.isPlay,t.currentHandler=t.maxHandlerShape,t.changePlayStatus()}),this.group.on("".concat(Tw,":click"),function(){t.currentHandler=t.maxHandlerShape,t.updateStartEnd(.01),t.updateUI()}),this.group.on("".concat(Aw,":click"),function(){t.currentHandler=t.maxHandlerShape,t.updateStartEnd(-.01),t.updateUI()}),this.group.on(hg,function(i){var a=i.type,o=i.speed;t.currentSpeed=o,t.currentMode=a,a==="single"?(t.minHandlerShape.hide(),t.foregroundShape.hide(),t.minTextShape.hide()):a==="range"&&(t.minHandlerShape.show(),t.foregroundShape.show(),t.minTextShape.show())})},r.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1;return 0},r.prototype.adjustOffsetRange=function(t){switch(this.currentHandler){case this.minHandlerShape:{var e=0-this.start,n=1-this.start;return Math.min(n,Math.max(e,t))}case this.maxHandlerShape:{var e=0-this.end,n=1-this.end;return Math.min(n,Math.max(e,t))}case this.foregroundShape:{var e=0-this.start,n=1-this.end;return Math.min(n,Math.max(e,t))}default:return 0}},r.prototype.updateStartEnd=function(t){var e=this.ticks[this.adjustTickIndex(this.start*this.width)],n=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler){this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):e==null?void 0:e.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n==null?void 0:n.date;return}switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=t,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=t,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date;break;case this.foregroundShape:this.start+=t,this.end+=t,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date;break}},r.prototype.updateUI=function(){var t=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var e=this.x+this.start*this.width,n=this.x+this.end*this.width;this.foregroundShape.attr("x",e),this.foregroundShape.attr("width",n-e);var i=me(this.handlerStyle,"width",pO);this.setText(this.minText,this.maxText);var a=this.dodgeText([e,n]),o=a[0],s=a[1];this.minHandlerShape.setX(e-i/2),q(o,function(l,u){return t.minTextShape.attr(u,l)}),this.maxHandlerShape.setX(n-i/2),q(s,function(l,u){return t.maxTextShape.attr(u,l)}),this.currentMode==="range"?this.graph.emit(Gc,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit(Gc,{value:[this.end,this.end]})},r.prototype.dodgeText=function(t){var e,n,i=2,a=me(this.handlerStyle,"width",pO),o=this.minTextShape,s=this.maxTextShape,l=t[0],u=t[1],c=!1;l>u&&(e=[u,l],l=e[0],u=e[1],n=[s,o],o=n[0],s=n[1],c=!0);var f=o.getBBox(),d=s.getBBox(),h=null,v=null;return this.timeBarType==="trend"?(h=l-f.width<this.x+i?{x:l+a/2+i,textAlign:"left"}:{x:l-a/2-i,textAlign:"right"},v=u+d.width>this.x+this.width?{x:u-a/2-i,textAlign:"right"}:{x:u+a/2+i,textAlign:"left"}):this.timeBarType==="simple"&&(h=o.attr("x")>f.width?{x:l,textAlign:"center"}:{x:l,textAlign:"left"},v=s.attr("x")>this.width-d.width?{x:u,textAlign:"right"}:{x:u,textAlign:"center"}),c?[v,h]:[h,v]},r.prototype.startPlay=function(){var t=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var e=t,n=e.ticks,i=e.width,a=t.currentSpeed,o=i/n.length,s=o/((10-a)*1e3/60),l=t.adjustOffsetRange(s/t.width);t.updateStartEnd(l),t.updateUI(),t.isPlay&&(t.playHandler=t.startPlay())}):void 0},r.prototype.changePlayStatus=function(t){t===void 0&&(t=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(pte,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit(gte,null))},r.prototype.destory=function(){this.graph.off(Gc);var t=this.group,e=t.find(function(i){return i.get("name")==="minHandlerShape"});e&&(e.off("minHandlerShape-handler:mousedown"),e.off("minHandlerShape-handler:touchstart"),e.destroy());var n=t.find(function(i){return i.get("name")==="maxHandlerShape"});n&&(n.off("maxHandlerShape-handler:mousedown"),n.off("maxHandlerShape-handler:touchstart"),n.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),t.off("".concat(iv,":click")),t.off("".concat(Tw,":click")),t.off("".concat(Aw,":click")),t.off(hg),t.destroy(),this.trendComponent&&this.trendComponent.destory()},r}(),GUe=$Ue,UUe=function(){function r(t){var e=t.x,n=e===void 0?0:e,i=t.y,a=i===void 0?0:i,o=t.container,s=t.text,l=t.padding,u=l===void 0?[4,4,4,4]:l,c=t.className,f=c===void 0?"g6-component-timebar-tooltip":c,d=t.backgroundColor,h=d===void 0?"#000":d,v=t.textColor,p=v===void 0?"#fff":v,g=t.opacity,m=g===void 0?.8:g,y=t.fontSize,b=y===void 0?12:y;this.container=o,this.className=f,this.backgroundColor=h,this.textColor=p,this.x=n,this.y=a,this.text=s,this.padding=u,this.opacity=m,this.fontSize=b,this.render()}return r.prototype.render=function(){var t=this,e=t.className;t.x,t.y;var n=t.backgroundColor,i=t.textColor,a=t.text,o=t.padding,s=t.opacity,l=t.fontSize,u=t.container,c=Ri("<div class='".concat(e,`' style="position: absolute; width: fit-content; height: fit-content; opacity: `).concat(s,'"></div>'));wt(u)&&(u=document.getElementById(u)),u.appendChild(c),t.parentHeight=u.offsetHeight,t.parentWidth=u.offsetWidth,pn(c,{visibility:"hidden",top:0,left:0});var f=Ri(`
      <div style='position: absolute; white-space:nowrap; background-color: `.concat(n,"; font-size: ").concat(l,"px; border-radius: 4px; width: fit-content; height: fit-content; color: ").concat(i,"; padding: ").concat(o[0],"px ").concat(o[1],"px ").concat(o[2],"px ").concat(o[3],"px'></div>"));f.innerHTML=a,c.appendChild(f),t.backgroundDOM=f;var d=Ri("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(n,"'></div>"));c.appendChild(d),t.arrowDOM=d,t.container=c},r.prototype.show=function(t){var e=this,n=t.text,i=t.x;t.y,t.clientX,t.clientY,e.backgroundDOM.innerHTML=n;var a=e.backgroundDOM.offsetWidth,o=e.backgroundDOM.offsetHeight,s=e.arrowDOM.offsetWidth,l=e.arrowDOM.offsetHeight;pn(e.container,{top:"".concat(-o-l,"px"),left:"".concat(i,"px"),visibility:"visible"}),pn(e.backgroundDOM,{marginLeft:"".concat(-a/2,"px")}),pn(e.arrowDOM,{marginLeft:"".concat(-s/2,"px"),top:"".concat(o,"px")});var u=i-a/2,c=i+a/2;u<0?pn(e.backgroundDOM,{marginLeft:"".concat(-a/2-u,"px")}):c>e.parentWidth&&pn(e.backgroundDOM,{marginLeft:"".concat(-a/2-c+e.parentWidth+12,"px")})},r.prototype.hide=function(){pn(this.container,{top:0,left:0,visibility:"hidden"})},r}(),HUe=UUe,hT=globalThis&&globalThis.__assign||function(){return hT=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},hT.apply(this,arguments)},VUe=Ai,WUe={fill:"#5B8FF9"},jUe={fill:"#e6e8e9"},YUe=function(){function r(t){this.frameCount=0,this.fontFamily="Arial, sans-serif";var e=t.graph,n=t.canvas,i=t.group,a=t.width,o=t.height,s=t.padding,l=t.data,u=t.start,c=t.end,f=t.x,d=f===void 0?0:f,h=t.y,v=h===void 0?0:h,p=t.tickLabelFormatter,g=t.selectedTickStyle,m=g===void 0?WUe:g,y=t.unselectedTickStyle,b=y===void 0?jUe:y,w=t.tooltipBackgroundColor,S=t.tooltipFomatter,E=t.tickLabelStyle;this.graph=e,this.group=i,this.sliceGroup=i.addGroup({name:"slice-group"}),this.canvas=n,this.width=a,this.height=o,this.padding=s,this.data=l,this.start=u,this.end=c,this.tickLabelFormatter=p,this.tickLabelStyle=E||{},this.selectedTickStyle=m,this.unselectedTickStyle=b,this.x=d,this.y=v,this.tooltipBackgroundColor=w,this.tooltipFomatter=S,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return r.prototype.renderSlices=function(){var t=this,e=this,n=e.width,i=e.height,a=e.padding,o=e.data,s=e.start,l=e.end,u=e.tickLabelFormatter,c=e.selectedTickStyle,f=e.unselectedTickStyle,d=e.tickLabelStyle,h=n-2*a,v=10,p=4,g=3*a+p+v,m=i-g-2*a,y=2,b=o.length,w=(h-y*(b-1))/b;this.tickWidth=w;var S=this.sliceGroup,E=[],_=[],A=Math.round(b*s),k=Math.round(b*l);this.startTickRectId=A,this.endTickRectId=k;var T=d.rotate;delete d.rotate,o.forEach(function(D,O){var B=O>=A&&O<=k,U=B?c:f,N=S.addShape("rect",{attrs:hT({x:a+O*(w+y),y:a,width:w,height:m},U),draggable:!0,name:"tick-rect-".concat(O)}),G=S.addShape("rect",{attrs:{x:a+O*w+y*(2*O-1)/2,y:a,width:O===0||O===b-1?w+y/2:w+y,height:m,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-".concat(O)});G.toFront();var L=N.getBBox(),F=(L.minX+L.maxX)/2;E.push({rect:N,pickRect:G,value:D.date,x:F,y:L.minY});var W;if(u?(W=u(D),!wt(W)&&W&&(W=D.date)):O%Math.round(b/10)===0&&(W=D.date),W){_.push(W);var H=L.maxY+a*2;S.addShape("line",{attrs:{stroke:"#BFBFBF",x1:F,y1:H,x2:F,y2:H+p},name:"tick-line"});var K=H+p+a,ie=S.addShape("text",{attrs:hT({fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:F,y:K,textAlign:"center",text:W,textBaseline:"top",fontSize:10,fontFamily:t.fontFamily||"Arial, sans-serif"},d),capture:!1,name:"tick-label"}),ee=ie.getBBox();if(ee.maxX>n?ie.attr("textAlign","right"):ee.minX<0&&ie.attr("textAlign","left"),ir(T)&&_.length!==10){var Q=VUe([1,0,0,0,1,0,0,0,1],[["t",-F,-K],["r",T],["t",F-5,K+2]]);ie.attr({textAlign:"left",matrix:Q})}_.length===1?ie.attr({textAlign:"left"}):_.length===10&&ie.attr({textAlign:"right"})}}),this.tickRects=E;var I=this.group;this.currentSpeed=1,this.controllerBtnGroup=new bte({group:I,x:this.x,y:this.y+i+5,width:n,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"})},r.prototype.initEvent=function(){var t=this,e=this.sliceGroup;e.on("click",function(c){var f=c.target;if(!(f.get("type")!=="rect"||!f.get("name"))){var d=parseInt(f.get("name").split("-")[2],10);if(!isNaN(d)){var h=t.tickRects,v=t.unselectedTickStyle;h.forEach(function(y){y.rect.attr(v)});var p=t.selectedTickStyle;h[d].rect.attr(p),t.startTickRectId=d,t.endTickRectId=d;var g=h.length,m=d/g;t.graph.emit(Gc,{value:[m,m]})}}}),e.on("dragstart",function(c){var f=t.tickRects,d=t.unselectedTickStyle;f.forEach(function(y){y.rect.attr(d)});var h=c.target,v=parseInt(h.get("name").split("-")[2],10),p=t.selectedTickStyle;f[v].rect.attr(p),t.startTickRectId=v;var g=f.length,m=v/g;t.graph.emit(Gc,{value:[m,m]}),t.dragging=!0}),e.on("dragover",function(c){if(!!t.dragging&&c.target.get("type")==="rect"){for(var f=parseInt(c.target.get("name").split("-")[2],10),d=t.startTickRectId,h=t.tickRects,v=t.selectedTickStyle,p=t.unselectedTickStyle,g=0;g<h.length;g++){var m=g>=d&&g<=f?v:p;h[g].rect.attr(m)}var y=h.length;t.endTickRectId=f;var b=d/y,w=f/y;t.graph.emit(Gc,{value:[b,w]})}}),e.on("drop",function(c){if(!!t.dragging&&(t.dragging=!1,c.target.get("type")==="rect")){var f=t.startTickRectId,d=parseInt(c.target.get("name").split("-")[2],10);if(!(d<f)){var h=t.selectedTickStyle,v=t.tickRects;v[d].rect.attr(h),t.endTickRectId=d;var p=v.length,g=f/p,m=d/p;t.graph.emit(Gc,{value:[g,m]})}}});var n=this,i=n.tooltipBackgroundColor,a=n.tooltipFomatter,o=n.canvas,s=new HUe({container:o.get("container"),backgroundColor:i}),l=this.tickRects;l.forEach(function(c){var f=c.pickRect;f.on("mouseenter",function(d){var h=d.target;if(h.get("type")==="rect"){var v=parseInt(h.get("name").split("-")[2],10),p=o.getClientByPoint(l[v].x,l[v].y);s.show({x:l[v].x,y:l[v].y,clientX:p.x,clientY:p.y,text:a?a(l[v].value):l[v].value})}}),f.on("mouseleave",function(d){s.hide()})});var u=this.group;u.on("".concat(iv,":click"),function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),u.on("".concat(Tw,":click"),function(){t.updateStartEnd(1)}),u.on("".concat(Aw,":click"),function(){t.updateStartEnd(-1)}),u.on(hg,function(c){c.type;var f=c.speed;t.currentSpeed=f})},r.prototype.changePlayStatus=function(t){t===void 0&&(t=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(pte,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit(gte,null))},r.prototype.startPlay=function(){var t=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var e=t.currentSpeed;t.frameCount%(60/e)===0&&(t.frameCount=0,t.updateStartEnd(1)),t.frameCount++,t.isPlay&&(t.playHandler=t.startPlay())}):void 0},r.prototype.updateStartEnd=function(t){var e=this,n=this.tickRects,i=n.length,a=this.unselectedTickStyle,o=this.selectedTickStyle,s=e.endTickRectId;if(t>0?e.endTickRectId++:(n[e.endTickRectId].rect.attr(a),e.endTickRectId--),s!==e.startTickRectId)e.endTickRectId<e.startTickRectId&&(e.startTickRectId=e.endTickRectId);else{for(var l=e.startTickRectId;l<=e.endTickRectId-1;l++)n[l].rect.attr(a);e.startTickRectId=e.endTickRectId}if(n[e.endTickRectId]){n[e.endTickRectId].rect.attr(o);var u=e.startTickRectId/i,c=e.endTickRectId/i;this.graph.emit(Gc,{value:[u,c]})}},r.prototype.destory=function(){this.graph.off(Gc);var t=this.sliceGroup;t.off("click"),t.off("dragstart"),t.off("dragover"),t.off("drop"),this.tickRects.forEach(function(e){var n=e.pickRect;n.off("mouseenter"),n.off("mouseleave")}),this.tickRects.length=0,t.off("".concat(iv,":click")),t.off("".concat(Tw,":click")),t.off("".concat(Aw,":click")),t.off(hg),this.sliceGroup.destroy()},r}(),XUe=YUe,qUe=globalThis&&globalThis.__extends||function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ld=globalThis&&globalThis.__assign||function(){return ld=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},ld.apply(this,arguments)},KUe=globalThis&&globalThis.__rest||function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e},ZUe=4,QUe=26,JUe=function(r){qUe(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1,filterItemTypes:["node"],containerCSS:{}}},t.prototype.initContainer=function(){var e=this.get("graph"),n=this._cfgs,i=n.width,a=n.height,o=this.get("className")||"g6-component-timebar",s=this.get("container"),l=this.get("graph").get("container"),u;s?(wt(s)&&(s=document.getElementById(s)),u=s):(u=Ri("<div class='".concat(o,"'></div>")),pn(u,{position:"relative"})),l.appendChild(u),this.set("timeBarContainer",u);var c,f=e.get("renderer");f==="SVG"?c=new Xy({container:u,width:i,height:a}):c=new hd({container:u,width:i,height:a}),this.get("containerCSS")&&pn(u,this.get("containerCSS")),this.set("canvas",c)},t.prototype.init=function(){this.initContainer();var e=this.get("canvas"),n=e.addGroup({name:"timebar-group"});this.set("timeBarGroup",n),this.renderTrend(),this.initEvent();var i=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",i)},t.prototype.renderTrend=function(){var e=this,n=this._cfgs,i=n.width,a=n.x,o=n.y,s=n.padding,l=n.type,u=n.trend,c=n.slider,f=n.controllerCfg,d=n.textStyle,h=n.tick,v=n.backgroundStyle,p=n.foregroundStyle,g=u.data,m=KUe(u,["data"]),y=i-2*s,b=l==="trend"?QUe:ZUe,w=this.get("graph"),S=this.get("timeBarGroup"),E=this.get("canvas"),_=null;if(l==="trend"||l==="simple"){var A=this.get("getValue");_=new GUe(ld(ld({graph:w,canvas:E,group:S,type:l,x:a+s,y:l==="trend"?o+s:o+s+15,width:y,height:b,padding:s,backgroundStyle:v,foregroundStyle:p,trendCfg:ld(ld({},m),{data:g.map(function(T){return(A==null?void 0:A(T))||T.value})})},c),{tick:{ticks:g,tickLabelFormatter:h.tickLabelFormatter,tickLabelStyle:h.tickLabelStyle,tickLineStyle:h.tickLineStyle},handlerStyle:ld(ld({},c.handlerStyle),{height:c.height||b}),controllerCfg:f,textStyle:d}))}else l==="tick"&&(_=new XUe(ld({graph:w,canvas:E,group:S,x:a+s,y:o+s,width:i,height:42,padding:2},h)));var k=function T(){var I=e.get("timebar");I.draggingHandler=!1,I.isPlay&&(I.isPlay=!1,I.currentHandler=I.maxHandlerShape,I.changePlayStatus()),document.removeEventListener("mouseup",T)};E.on("mousedown",function(T){(T.target.get("name")==="maxHandlerShape-handler"||T.target.get("name")==="minHandlerShape-handler"||T.target===_.foregroundShape)&&document.addEventListener("mouseup",k)}),this.set("timebar",_)},t.prototype.filterData=function(e){var n,i=e.value,a=null,o=this._cfgs.type;if(o==="trend"||o==="simple"?a=this._cfgs.trend.data:o==="tick"&&(a=this._cfgs.tick.data),!a||a.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var s=this.get("rangeChange"),l=this.get("graph"),u=Math.round(a.length*i[0]),c=Math.round(a.length*i[1]);c=c>=a.length?a.length-1:c,u=u>=a.length?a.length-1:u;var f=(n=this._cfgs.tick)===null||n===void 0?void 0:n.tickLabelFormatter,d=f?f(a[u]):a[u].date,h=f?f(a[c]):a[c].date;if(o!=="tick"){var v=this.get("timebar");v.setText(d,h)}if(s)s(l,d,h);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=l.get("data"));var p=this.get("filterItemTypes"),g=this.get("changeData"),m=this.get("getDate"),y=this.get("shouldIgnore"),b=a[u].date,w=a[c].date;if(g||g===void 0){var S=this.cacheGraphData.nodes,E=this.cacheGraphData.edges;if(p.includes("node")){S=S.filter(function(A){var k=+((m==null?void 0:m(A))||A.date);return k>=b&&k<=w||(y==null?void 0:y("node",A,{min:b,max:w}))});var _=S.map(function(A){return A.id});E&&(E=E.filter(function(A){return _.includes(A.source)&&_.includes(A.target)||(y==null?void 0:y("edge",A,{min:b,max:w}))}))}(this.get("filterEdge")||p.includes("edge"))&&(E=E.filter(function(A){var k=+((m==null?void 0:m(A))||A.date);return k>=b&&k<=w||(y==null?void 0:y("edge",A,{min:b,max:w}))})),l.changeData({nodes:S,edges:E})}else p.includes("node")&&l.getNodes().forEach(function(A){var k=A.getModel();if(!(y==null?void 0:y("node",k,{min:b,max:w}))){var T=+((m==null?void 0:m(k))||k.date);T<b||T>w?l.hideItem(A):l.showItem(A)}}),(this.get("filterEdge")||p.includes("edge"))&&l.getEdges().forEach(function(A){var k=A.getModel();if(!(y==null?void 0:y("edge",k,{min:a[u].date,max:a[c].date}))){var T=+((m==null?void 0:m(k))||k.date);T<a[u].date||T>a[c].date?l.hideItem(A):l.showItem(A)}})}},t.prototype.initEvent=function(){var e=this,n=0,i=0,a=this._cfgs.type;!a||a==="trend"||a==="simple"?(n=this._cfgs.slider.start,i=this._cfgs.slider.end):a==="tick"&&(n=this._cfgs.tick.start,i=this._cfgs.tick.end);var o=this.get("graph");o.on("afterrender",function(s){e.filterData({value:[n,i]})}),o.on(Gc,X0(function(s){e.filterData(s)},200,{trailing:!0,leading:!0}))},t.prototype.destroy=function(){var e=this.get("timebar");e&&e.destory&&e.destory(),r.prototype.destroy.call(this);var n=this.get("timeBarContainer");if(n){var i=this.get("container");i||(i=this.get("graph").get("container")),wt(i)&&(i=document.getElementById(i)),i.removeChild(n)}},t}(Ul),eHe=JUe,tHe=globalThis&&globalThis.__extends||function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),rHe=ac.applyMatrix;function nHe(r,t){var e,n;if(r.naturalWidth)e=r.naturalWidth,n=r.naturalHeight;else{var i=new Image;i.src=r.src,i.onload=function(){t&&t(i.width,i.height)}}return[e,n]}var iHe=function(r){tHe(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},t.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},t.prototype.disableRefresh=function(){this.set("refresh",!1)},t.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},t.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},t.prototype.initViewport=function(){var e=this,n=this._cfgs,i=n.graph;if(!this.destroyed){var a=this.get("container");wt(a)&&(a=document.getElementById(a));var o=Ri("<div class=".concat(n.viewportClassName,`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`)),s=0,l=0,u=!1,c=0,f=0,d=0,h=0,v=0,p=0;a.addEventListener("mousedown",function(g){if(n.refresh=!1,g.target===o){var m=o.style;d=parseInt(m.width,10),h=parseInt(m.height,10);var y=e.get("width"),b=e.get("height");d>y||h>b||(p=i.getZoom(),v=e.get("ratio"),u=!0,s=g.clientX,l=g.clientY)}},!1),a.addEventListener("mousemove",function(g){if(!(!u||xt(g.clientX)||xt(g.clientY))){var m=e.get("width"),y=e.get("height"),b=o.style;c=parseInt(b.left,10),f=parseInt(b.top,10),d=parseInt(b.width,10),h=parseInt(b.height,10);var w=s-g.clientX,S=l-g.clientY;c-w<0?w=c:c-w+d>=m&&(w=0),f-S<0?S=f:f-S+h>=y&&(S=0),c-=w,f-=S,pn(o,{left:"".concat(c,"px"),top:"".concat(f,"px")}),i.translate(w*p/v,S*p/v),s=g.clientX,l=g.clientY}},!1),a.addEventListener("mouseleave",function(){u=!1,n.refresh=!0},!1),a.addEventListener("mouseup",function(){u=!1,n.refresh=!0},!1),this.set("viewport",o),a.appendChild(o)}},t.prototype.updateViewport=function(){if(!this.destroyed){var e=this.get("ratio"),n=this.get("width"),i=this.get("height"),a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=o/s,u=a.getGroup(),c=u.getCanvasBBox(),f=[(c.minX+c.maxX)/2,(c.minY+c.maxY)/2],d=[c.maxX-c.minX,c.maxY-c.minY],h={centerX:f[0],centerY:f[1],width:0,height:0,minX:0,minY:0};c[0]/c[1]>l?(h.width=d[0],h.height=h.width/l):(h.height=d[1],h.width=h.height*l),h.minX=f[0]-h.width/2,h.minY=f[1]-h.height/2;var v=u.getMatrix();v||(v=[1,0,0,0,1,0,0,0,1]);var p=SA([1,0,0,0,1,0,0,0,1],v),g=rHe({x:h.minX,y:h.minY},p),m=a.getCanvasByPoint(g.x,g.y),y=this.get("viewport");y||this.initViewport();var b=o/h.width,w=b*n,S=b*i,E=n*-m.x/h.width,_=i*-m.y/h.height,A=E+w,k=_+S;E<0&&(w+=E,E=0),A>n&&(w=w-(A-n)),_<0&&(S+=_,_=0),k>i&&(S=S-(k-i)),this.set("ratio",e);var T="".concat(E,"px"),I="".concat(_,"px");pn(y,{left:T,top:I,width:"".concat(w,"px"),height:"".concat(S,"px")})}},t.prototype.init=function(){this.initContainer()},t.prototype.initContainer=function(){var e=this,n=e.get("graph"),i=n.get("width"),a=n.get("height"),o=a/i,s=e.get("className"),l=e.get("container"),u=e.get("width"),c=e.get("height");!u&&!c&&(u=200),u?(c=o*u,e.set("height",c)):(u=1/o*c,e.set("width",u));var f=Ri("<div class='".concat(s,"' style='width: ").concat(u,"px; height: ").concat(c,"px; overflow: hidden; position: relative;'></div>"));wt(l)&&(l=document.getElementById(l)),l?l.appendChild(f):n.get("container").appendChild(f),e.set("container",f);var d=Ri('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');f.appendChild(d);var h=Ri('<span style="display: table-cell; vertical-align: middle; "></span>');d.appendChild(h),e.set("containerDOM",d),e.set("containerSpan",h);var v=Ri('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />'));e.set("imgDOM",v),e.updateImgSize(),h.appendChild(v),e.updateCanvas()},t.prototype.updateImgSize=function(){var e=this,n=e.get("imgDOM"),i=e.get("width"),a=e.get("height");n.onload=function(){var o=nHe(n);o[0]>o[1]?n.width=i:n.height=a}},t.prototype.updateCanvas=function(){var e=this.get("refresh");if(!!e){var n=this.get("graph");if(!n.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var i=this.get("width"),a=n.get("canvas").getCanvasBBox(),o=a.width,s=i/o;this.set("ratio",s),this.updateViewport()}}},t.prototype.getViewport=function(){return this.get("viewport")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.updateGraphImg=function(e){var n=this,i=n.get("imgDOM");i.remove(),n.set("graphImg",e);var a=Ri('<img alt="" src="'.concat(e,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));n.set("imgDOM",a),a.src=e,n.updateImgSize();var o=n.get("containerSpan");o.appendChild(a),n.updateCanvas()},t.prototype.destroy=function(){var e=this.get("container");e.parentNode.removeChild(e)},t}(Ul),aHe=iHe,oHe=globalThis&&globalThis.__extends||function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),gO=globalThis&&globalThis.__assign||function(){return gO=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},gO.apply(this,arguments)},sHe=ac.distance,IW=.05,PW={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},lHe=function(r){oHe(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:Jr(PW),showLabel:"edge",scaleRBy:"wheel"}},t.prototype.getEvents=function(){var e;switch(this.get("trigger")){case"click":e={click:"filter"};break;case"drag":e={click:"createDelegate"};break;default:e={mousemove:"filter"};break}return e},t.prototype.init=function(){var e=this,n=e.get("showLabel"),i=n==="node"||n==="both",a=n==="edge"||n==="both";e.set("showNodeLabel",i),e.set("showEdgeLabel",a);var o=e.get("shouldShow");o||e.set("shouldShow",function(){return!0})},t.prototype.createDelegate=function(e){var n=this,i=n.get("delegate");(!i||i.destroyed)&&(n.filter(e),i=n.get("delegate"),i.on("dragstart",function(a){}),i.on("drag",function(a){n.filter(a)}),this.get("scaleRBy")==="wheel"&&i.on("mousewheel",function(a){n.scaleRByWheel(a)}))},t.prototype.scaleRByWheel=function(e){var n=this;if(!(!e||!e.originalEvent)){e.preventDefault&&e.preventDefault();var i=n.get("graph"),a,o=n.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0;s||i.getPointByClient(e.clientX,e.clientY),e.originalEvent.wheelDelta<0?a=1-IW:a=1/(1-IW);var l=n.get("maxR"),u=n.get("minR"),c=n.get("r");(c>(l||i.get("height"))&&a>1||c<(u||i.get("height")*.05)&&a<1)&&(a=1),c*=a,n.set("r",c),n.filter(e)}},t.prototype.filter=function(e){var n=this,i=n.get("graph"),a=i.getNodes(),o={},s=n.get("r"),l=n.get("type"),u={x:e.x,y:e.y};n.updateDelegate(u,s);var c=n.get("shouldShow"),f=n.get("vShapes");f&&f.forEach(function(m){m.remove(),m.destroy()}),f=[],a.forEach(function(m){var y=m.getModel(),b=y.x,w=y.y;sHe({x:b,y:w},u)<s&&(o[y.id]=m)});var d=i.getEdges(),h=[];d.forEach(function(m){var y=m.getModel(),b=y.source,w=y.target;c(y)&&(l==="only-source"||l==="one"?o[b]&&!o[w]&&h.push(m):l==="only-target"||l==="one"?o[w]&&!o[b]&&h.push(m):l==="both"&&o[b]&&o[w]&&h.push(m))});var v=n.get("showNodeLabel"),p=n.get("showEdgelabel"),g=i.get("group");h.forEach(function(m){var y=m.get("group").get("children");y.forEach(function(b){var w=b.get("type"),S=g.addShape(w,{attrs:b.attr()});f.push(S),v&&w==="text"&&S.set("visible",!0)})}),Object.keys(o).forEach(function(m){var y=o[m],b=y.get("group").clone();if(g.add(b),f.push(b),p)for(var w=b.get("children"),S=0;S<w.length;S++){var E=w[S];E.get("type")==="text"&&E.set("visible",!0)}}),n.set("vShapes",f)},t.prototype.updateParams=function(e){var n=this,i=e.r,a=e.trigger,o=e.minR,s=e.maxR,l=e.scaleRBy,u=e.showLabel,c=e.shouldShow;if(isNaN(e.r)||n.set("r",i),isNaN(s)||n.set("maxR",s),isNaN(o)||n.set("minR",o),(a==="mousemove"||a==="click")&&n.set("trigger",a),l==="wheel"||l==="unset"){n.set("scaleRBy",l),n.get("delegate").remove(),n.get("delegate").destroy();var f=n.get("dPercentText");f&&(f.remove(),f.destroy())}(u==="node"||u==="both")&&n.set("showNodeLabel",!0),(u==="edge"||u==="both")&&n.set("showEdgeLabel",!0),c&&n.set("shouldShow",c)},t.prototype.updateDelegate=function(e,n){var i=this,a=i.get("graph"),o=i.get("delegate");if(!o||o.destroyed){var s=a.get("group"),l=i.get("delegateStyle")||PW;o=s.addShape("circle",{attrs:gO({r:n,x:e.x,y:e.y},l),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(u){i.scaleRByWheel(u)})}else o.attr({x:e.x,y:e.y,r:n});i.set("delegate",o)},t.prototype.clear=function(){var e=this,n=e.get("vShapes");n&&n.forEach(function(a){a.remove(),a.destroy()}),n=[],e.set("vShapes",n);var i=e.get("delegate");i&&!i.destroyed&&(i.remove(),i.destroy())},t.prototype.destroy=function(){this.clear()},t}(Ul),uHe=lHe,cHe=globalThis&&globalThis.__extends||function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),fHe=ac.pointLineDistance,dHe={stroke:"#FA8C16",lineWidth:1},hHe=function(r){cHe(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultCfgs=function(){return{line:dHe,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},t.prototype.init=function(){},t.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},t.prototype.onDragStart=function(){this.initBoxLine()},t.prototype.onDrag=function(e){var n=e.item,i=n.get("delegateShape")||n,a=i.getBBox(),o=n.getModel(),s=o.x-a.x,l=o.y-a.y;this.show({x:a.minX+s,y:a.minY+l},{width:a.width,height:a.height})},t.prototype.onDragEnd=function(){this.destory()},t.prototype.initBoxLine=function(){var e=this._cfgs,n=e.horizontalLines,i=e.verticalLines,a=e.itemAlignType,o=this.get("graph"),s=o.getNodes();s.forEach(function(l){var u=l.getBBox(),c=l.get("id");a===!0||a==="horizontal"?(n["".concat(c,"tltr")]=[u.minX,u.minY,u.maxX,u.minY,l],n["".concat(c,"lcrc")]=[u.minX,u.centerY,u.maxX,u.centerY,l],n["".concat(c,"blbr")]=[u.minX,u.maxY,u.maxX,u.maxY,l]):a==="center"&&(n["".concat(c,"lcrc")]=[u.minX,u.centerY,u.maxX,u.centerY,l]),a===!0||a==="vertical"?(i["".concat(c,"tlbl")]=[u.minX,u.minY,u.minX,u.maxY,l],i["".concat(c,"tcbc")]=[u.centerX,u.minY,u.centerX,u.maxY,l],i["".concat(c,"trbr")]=[u.maxX,u.minY,u.maxX,u.maxY,l]):a==="center"&&(i["".concat(c,"tcbc")]=[u.centerX,u.minY,u.centerX,u.maxY,l])})},t.prototype.show=function(e,n){var i=cr({},e);return this.itemAlign(e,n,i),e},t.prototype.itemAlign=function(e,n,i){var a=this,o=this._cfgs,s=o.horizontalLines,l=o.verticalLines,u=o.tolerance,c={x:i.x+n.width/2,y:i.y},f={x:i.x+n.width/2,y:i.y+n.height/2},d={x:i.x+n.width/2,y:i.y+n.height},h={x:i.x,y:i.y+n.height/2},v={x:i.x+n.width,y:i.y+n.height/2},p=[],g=[],m=null;if(this.clearAlignLine(),q(s,function(b){b[4].isVisible&&(p.push(a.getLineDisObject(b,c)),p.push(a.getLineDisObject(b,f)),p.push(a.getLineDisObject(b,d)))}),q(l,function(b){b[4].isVisible&&(g.push(a.getLineDisObject(b,h)),g.push(a.getLineDisObject(b,f)),g.push(a.getLineDisObject(b,v)))}),p.sort(function(b,w){return b.dis-w.dis}),g.sort(function(b,w){return b.dis-w.dis}),p.length!==0&&p[0].dis<u){e.y=p[0].line[1]-p[0].point.y+i.y,m={type:"item",horizontals:[p[0]]};for(var y=1;y<3;y++)p[0].dis===p[y].dis&&m.horizontals.push(p[y])}if(g.length!==0&&g[0].dis<u){e.x=g[0].line[0]-g[0].point.x+i.x,m?m.verticals=[g[0]]:m={type:"item",verticals:[g[0]]};for(var y=1;y<3;y++)g[0].dis===g[y].dis&&m.verticals.push(g[y])}m&&(m.bbox=n,this.addAlignLine(m))},t.prototype.addAlignLine=function(e){var n=e.bbox,i=e.type,a=e.horizontals,o=e.verticals,s=this._cfgs,l=s.line,u=s.alignLines,c=this.get("graph"),f=c.get("group");i==="item"&&(a&&q(a,function(d){var h=d.line,v=d.point,p=(h[0]+h[2])/2,g,m;v.x<p?(g=v.x-n.width/2,m=Math.max(h[0],h[2])):(g=v.x+n.width/2,m=Math.min(h[0],h[2]));var y=cr({x1:g,y1:h[1],x2:m,y2:h[1]},l),b=f.addShape("line",{attrs:y,capture:!1});u.push(b)}),o&&q(o,function(d){var h=d.line,v=d.point,p=(h[1]+h[3])/2,g,m;v.y<p?(g=v.y-n.height/2,m=Math.max(h[1],h[3])):(g=v.y+n.height/2,m=Math.min(h[1],h[3]));var y=cr({x1:h[0],y1:g,x2:h[0],y2:m},l),b=f.addShape("line",{attrs:y,capture:!1});u.push(b)}))},t.prototype.getLineDisObject=function(e,n){return{line:e,point:n,dis:fHe(e,n)}},t.prototype.getContainer=function(){return this.get("container")},t.prototype.clearAlignLine=function(){var e=this._cfgs.alignLines;q(e,function(n){n.remove()}),e.length=0},t.prototype.destory=function(){var e=this._cfgs,n=e.horizontalLines,i=e.verticalLines,a=this.get("graph"),o=a.getNodes();o.forEach(function(s){var l=s.get("id");delete n["".concat(l,"tltr")],delete n["".concat(l,"lcrc")],delete n["".concat(l,"blbr")],delete i["".concat(l,"tlbl")],delete i["".concat(l,"tcbc")],delete i["".concat(l,"trbr")]}),this.clearAlignLine()},t}(Ul),vHe=hHe,pHe=globalThis&&globalThis.__extends||function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ma=globalThis&&globalThis.__assign||function(){return ma=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},ma.apply(this,arguments)},gHe=["click","mouseenter"],mHe=function(r){pHe(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},t.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var e=this.get("filter")||{},n=e.multiple;n&&e.trigger==="mouseenter"&&this.set("multiple",!1);var i=this.get("align");if(!i){var a=this.get("position").split("-");a.includes("left")&&(i="left"),a.includes("right")?i="right":i="center",this.set("align",i)}var o=this.get("graph"),s=o.get("container"),l=Ri(`<div class='g6-legend-container' style="position: absolute;"></div>`);s.appendChild(l),this.set("container",l);var u=this.render();pn(l,this.getContainerPos(u)),this.bindEvents()},t.prototype.getContainerPos=function(e){e===void 0&&(e=[0,0]);var n=this,i=n.get("graph"),a=this.get("offsetX"),o=this.get("offsetY"),s=this.get("margin"),l=this.get("position").split("-"),u={top:0,right:1,bottom:2,left:3},c=0,f=0,d={left:(i.getWidth()-e[0])/2+c,top:(i.getHeight()-e[1])/2+f};return l.forEach(function(h){var v=s[u[h]],p=h;switch(h){case"top":v+=f;break;case"left":v+=c;break;case"bottom":v=i.getHeight()-e[1]-v+f,p="top";break;default:v=i.getWidth()-e[0]-v+c,p="left";break}d[p]=v}),d.top+=o+i.getContainer().offsetTop,d.left+=a+i.getContainer().offsetLeft,Object.keys(d).forEach(function(h){d[h]="".concat(d[h],"px")}),d},t.prototype.bindEvents=function(){var e=this,n=e.get("filter");if(!(!n||!n.enable)){var i=n.trigger||"click";gHe.includes(i)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),i="click");var a=e.get("legendCanvas");i==="mouseenter"?(a.on("node-container:mouseenter",function(o){return e.filterData(o)}),a.on("node-container:mouseleave",function(o){e.clearFilter(),e.clearActiveLegend()})):(a.on("node-container:click",function(o){return e.filterData(o)}),a.on("click",function(o){o.target&&o.target.isCanvas&&o.target.isCanvas()&&(e.clearFilter(),e.clearActiveLegend())}))}},t.prototype.changeData=function(e){this.set("data",e);var n=this.render();pn(this.get("container"),this.getContainerPos(n))},t.prototype.activateLegend=function(e){var n=this.get("filter"),i=n==null?void 0:n.multiple;i||this.clearActiveLegend();var a=e.get("parent");a.get("active")?(a.set("active",!1),this.findLegendItemsByState("active").length&&a.set("inactive",!0)):(a.set("inactive",!1),a.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach(function(f){f.set("inactive",!0)}):this.clearActiveLegend();var o=(n==null?void 0:n.lengedStateStyles)||{},s=(o==null?void 0:o.inactive)||{opacity:.5,"text-shape":{opacity:.5}},l=s["text-shape"]||{};this.findLegendItemsByState("inactive").forEach(function(f){var d=f.get("children"),h=d[0],v=d[1];h.attr(ma(ma({},h.get("oriAttrs")),s)),v.attr(ma(ma({},v.get("oriAttrs")),l))});var u=(o==null?void 0:o.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},c=u["text-shape"]||{};this.findLegendItemsByState("active").forEach(function(f){var d=f.get("children"),h=d[0],v=d[1];h.attr(ma(ma({},h.get("oriAttrs")),u)),v.attr(ma(ma({},v.get("oriAttrs")),c))})},t.prototype.findLegendItemsByState=function(e,n,i){n===void 0&&(n="all"),i===void 0&&(i=!0);var a=this.get("legendCanvas").find(function(l){return l.get("name")==="root"}),o=a.find(function(l){return l.get("name")==="node-group"}),s=a.find(function(l){return l.get("name")==="edge-group"});return n==="node"?o.get("children").filter(function(l){return!!l.get(e)===i}):n==="edge"?s.get("children").filter(function(l){return!!l.get(e)===i}):o.get("children").filter(function(l){return!!l.get(e)===i}).concat(s.get("children").filter(function(l){return!!l.get(e)===i}))},t.prototype.clearActiveLegend=function(){var e=this.get("legendCanvas"),n=e.find(function(a){return a.get("name")==="root"}),i=[n.find(function(a){return a.get("name")==="node-group"}),n.find(function(a){return a.get("name")==="edge-group"})];i.forEach(function(a){a.get("children").forEach(function(o){o.set("active",!1),o.set("inactive",!1);var s=o.get("children"),l=s[0],u=s[1];l.attr(l.get("oriAttrs")),u.attr(u.get("oriAttrs"))})})},t.prototype.filterData=function(e){var n=this.get("filter"),i=n==null?void 0:n.filterFunctions;if(!(!n||!i)){var a=this.get("legendCanvas"),o=this.get("graph"),s=n.graphActiveState||"active",l=n.graphInactiveState||"inactive",u=n.multiple;this.clearFilter(),u||this.clearActiveLegend(),this.activateLegend(e.target);var c=a.find(function(m){return m.get("name")==="root"}),f=c.find(function(m){return m.get("name")==="node-group"}),d=c.find(function(m){return m.get("name")==="edge-group"}),h=f.get("children").filter(function(m){return m.get("active")}),v=d.get("children").filter(function(m){return m.get("active")}),p=0,g=["getNodes","getEdges"];g.forEach(function(m){o[m]().forEach(function(y){var b=!1,w=m==="getNodes"?h:v;w.forEach(function(S){var E=i[S.get("id")];b=b||E(y.getModel())}),b?(o.setItemState(y,l,!1),o.setItemState(y,s,!0),p++):(o.setItemState(y,s,!1),o.setItemState(y,l,!0))})}),p||g.forEach(function(m){o[m]().forEach(function(y){o.clearItemStates(y,[l])})})}},t.prototype.clearFilter=function(){var e=this.get("graph"),n=this.get("filter");if(!!n){var i=n.graphActiveState||"active",a=n.graphInactiveState||"inactive";e.getNodes().forEach(function(o){e.clearItemStates(o,[i,a])}),e.getEdges().forEach(function(o){e.clearItemStates(o,[i,a])})}},t.prototype.render=function(){var e=this;this.processData();var n=this.get("legendCanvas");if(!n){n=new hd({container:this.get("container"),width:200,height:200});var i=n.addGroup({name:"root"});i.addGroup({name:"node-group"}),i.addGroup({name:"edge-group"}),this.set("legendCanvas",n)}var a=n.find(function(G){return G.get("name")==="root"}),o=a.find(function(G){return G.get("name")==="node-group"}),s=a.find(function(G){return G.get("name")==="edge-group"}),l=this.get("itemsData"),u=["nodes","edges"],c=[o,s];u.forEach(function(G,L){l[G].forEach(function(F){var W,H=c[L].addGroup({id:F.id,name:"node-container"}),K,ie=F.type,ee=e.getShapeSize(F),Q=ee.width,be=ee.height,fe=ee.r,he=e.getStyle(G.substr(0,4),F);switch(F.type){case"circle":K={r:fe,x:0,y:0};break;case"rect":K={width:Q,height:be,x:-Q/2,y:-be/2};break;case"ellipse":K={r1:Q,r2:be,x:0,y:0};break;case"line":K={x1:-Q/2,y1:0,x2:Q/2,y2:0},ie="line";break;case"quadratic":K={path:[["M",-Q/2,0],["Q",0,Q/2,Q/2,0]]},ie="path";break;case"cubic":K={path:[["M",-Q/2,0],["C",-Q/6,Q/2,Q/6,-Q/2,Q/2,0]]},ie="path";break;default:K={r:fe,x:0,y:0};break}var Ee=H.addShape(ie,{attrs:ma(ma({},K),he),name:"".concat(F.type,"-node-keyShape"),oriAttrs:ma({opacity:1},he)});if(F.label){var He=Ee.getBBox(),nt=((W=F.labelCfg)===null||W===void 0?void 0:W.style)||{},st=ma({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},nt);H.addShape("text",{attrs:ma({x:He.maxX+4,y:0,text:F.label},st),className:"legend-label",name:"".concat(F.type,"-node-text"),oriAttrs:st})}})});var f=this.get("padding"),d,h=a.find(function(G){return G.get("name")==="title-container"}),v={height:0,maxY:0,width:0};if(this.get("title")){h||(h=a.addGroup({name:"title-container"}));var p={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:f[0]},g=this.get("titleConfig")||{},m=Object.assign(p,g.style||{});d=h.addShape("text",{attrs:ma({text:this.get("title")},m)}),v=h.getCanvasBBox(),h.setMatrix([1,0,0,0,1,0,g.offsetX,g.offsetY,1])}this.layoutItems();var y=a.getCanvasBBox(),b=o.getCanvasBBox(),w=b.minX<0?Math.abs(b.minX)+f[3]:f[3],S=v.maxY<b.minY?Math.abs(v.maxY-b.minY)+f[0]:v.maxY+f[0],E=[1,0,0,0,1,0,w,S,1];o.setMatrix(E),y=a.getCanvasBBox();var _=[y.minX+y.width+f[1],y.minY+y.height+f[2]];if(d){var g=ma({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));v=h.getCanvasBBox();var A=h.getMatrix()||[1,0,0,0,1,0,0,0,1];g.position==="center"?A[6]=_[0]/2+g.offsetX:g.position==="right"?(A[6]=_[0]-f[3]+g.offsetX,d.attr({textAlign:"right"})):(A[6]=f[3]+g.offsetX,d.attr({textAlign:"left"})),h.setMatrix(A),v=h.getCanvasBBox(),w=b.minX<0?Math.abs(b.minX)+f[3]:f[3],S=b.minY<v.maxY?Math.abs(v.maxY-b.minY)+f[0]:v.maxY+f[0],E=[1,0,0,0,1,0,w,S,1],o.setMatrix(E);var k=[1,0,0,0,1,0,w,S,1];this.get("layout")==="vertical"?k[6]+=b.maxX+this.get("horiSep"):k[7]+=b.maxY+this.get("vertiSep"),s.setMatrix(k)}else{b=o.getCanvasBBox();var T=[1,0,0,0,1,0,0,0,1];this.get("layout")==="vertical"?T[6]+=E[6]+b.maxX+this.get("horiSep"):T[7]+=E[7]+b.maxY+this.get("vertiSep"),s.setMatrix(T)}y=a.getCanvasBBox(),b=o.getCanvasBBox(),E=o.getMatrix()||[1,0,0,0,1,0,0,0,1];var I=s.getMatrix()||[1,0,0,0,1,0,0,0,1],D=s.getCanvasBBox();_=[Math.max(b.width+E[6],D.width+I[6])+f[1],Math.max(b.height+E[7],D.height+I[7])+f[2]],n.changeSize(_[0],_[1]);var O=this.get("containerStyle"),B=a.getMatrix()||[1,0,0,0,1,0,0,0,1],U=ac.invertMatrix({x:0,y:0},B),N=a.addShape("rect",{attrs:ma({x:U.x+(O.lineWidth||1),y:U.y+(O.lineWidth||1),width:_[0]-2*(O.lineWidth||1),height:_[1]-2*(O.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},O),name:"legend-back-rect",capture:!1});return N.toBack(),_},t.prototype.layoutItems=function(){var e=this.get("legendCanvas"),n=this.get("horiSep"),i=this.get("vertiSep"),a=this.get("layout"),o=this.get("align"),s=[0,0],l=e.find(function(b){return b.get("name")==="root"}),u=l.find(function(b){return b.get("name")==="node-group"}),c=l.find(function(b){return b.get("name")==="edge-group"}),f={min:0,max:-1/0};u.get("children").forEach(function(b,w){w===0&&(f.min=s[0]);var S=b.get("children")[0],E=b.getCanvasBBox(),_=S.getBBox(),A=_.width,k=_.height,T=0,I=0;a==="vertical"?(T=s[1],I=s[0]+A/2,s[0]=I+E.height+i,E.maxX+T+A/2):(T=s[0]+A/2,I=s[1],s[0]=T+E.width+n,E.maxY+I+k/2),s[0]>f.max&&(f.max=s[0]),b.setMatrix([1,0,0,0,1,0,T,I,1])});var d=f.max-f.min,h={min:0,max:-1/0},v=u.getCanvasBBox();s[0]=0,s[1]=a==="vertical"?v.maxX+n:v.maxY+i,c.get("children").forEach(function(b,w){w===0&&(h.min=s[0]);var S=b.get("children")[0],E=b.getCanvasBBox(),_=S.getBBox(),A=_.width,k=_.height,T=0,I=0;a==="vertical"?(T=s[1],I=s[0],s[0]=I+E.height+i,b.setMatrix([1,0,0,0,1,0,0,I+k/2,1])):(T=s[0],I=s[1],s[0]=T+E.width+n,b.setMatrix([1,0,0,0,1,0,T+A/2,0,1])),s[0]>h.max&&(h.max=s[0])});var p=h.max-h.min;if(o&&o!==""&&o!=="left"){var g=d-p,m=o==="center"?Math.abs(g)/2:Math.abs(g),y=g<0?u:c;y.get("children").forEach(function(b){var w=b.getMatrix()||[1,0,0,0,1,0,0,0,1];a==="vertical"?w[7]+=m:w[6]+=m,b.setMatrix(w)})}},t.prototype.processData=function(){var e=this.get("data"),n={nodes:[],edges:[]};e.nodes&&(e.nodes.sort(function(i,a){return i.order-a.order}),e.nodes.forEach(function(i){var a,o,s,l,u,c=i.size||[((a=i.style)===null||a===void 0?void 0:a.width)||((o=i.style)===null||o===void 0?void 0:o.r)||8,((s=i.style)===null||s===void 0?void 0:s.height)||((l=i.style)===null||l===void 0?void 0:l.r)||8],f=((u=i.labelCfg)===null||u===void 0?void 0:u.style)||{};n.nodes.push({id:i.id||ec(),type:i.type||"circle",style:ma({},i.style),order:i.order,label:i.label,itemType:"node",size:c,labelCfg:{position:"right",style:ma({fontFamily:"Arial"},f)}})})),e.edges&&(e.edges.sort(function(i,a){return i.order-a.order}),e.edges.forEach(function(i){var a,o,s=i.type||"line";i.type==="cubic-horizontal"&&(s="cubic");var l=((a=i.labelCfg)===null||a===void 0?void 0:a.style)||{},u=i.size||[((o=i.style)===null||o===void 0?void 0:o.width)||8,1];n.edges.push({id:i.id||ec(),type:s,size:u,style:ma({lineWidth:gt(u)?u[1]:1},i.style),order:i.order,label:i.label,itemType:"edge",labelCfg:{position:"right",style:ma({fontFamily:"Arial"},l)}})})),this.set("itemsData",n)},t.prototype.getContainer=function(){return this.get("container")},t.prototype.formatArray=function(e){var n=this.get(e);if(ir(n))this.set(e,[n,n,n,n]);else if(gt(n))switch(n.length){case 0:this.set(e,[0,0,0,0]);break;case 1:this.set(e,[n[0],n[0],n[0],n[0]]);break;case 2:this.set(e,[n[0],n[1],n[0],n[1]]);break;case 3:this.set(e,[n[0],n[1],n[2],n[1]]);break}return this.get(e)},t.prototype.getShapeSize=function(e){var n,i,a;return e.size&&(gt(e.size)?(n=e.size[0],i=e.size[1]||e.size[0],a=e.size[0]/2):ir(e.size)&&(n=e.size,i=e.size,a=e.size/2)),e.style&&(e.style.width&&(n=e.style.width),e.style.height&&(i=e.style.height),e.style.r&&(a=e.style.r)),a||(a=5),n||(n=a),i||(i=a),{width:n,height:i,r:a}},t.prototype.getStyle=function(e,n){var i=e==="node"?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1};return ma(ma({},i),n.style||{})},t.prototype.destroy=function(){var e=this.get("graph"),n=e.get("container"),i=this.get("container");n.removeChild(i)},t}(Ul),yHe=mHe,bHe={PluginBase:Ul,Menu:XGe,Grid:UGe,Minimap:t8e,Bundling:a8e,ToolBar:d8e,Tooltip:p8e,Fisheye:l8e,TimeBar:eHe,ImageMinimap:aHe,EdgeFilterLens:uHe,SnapLine:vHe,Legend:yHe},So=bHe;Ud("circle",{options:{size:dr.defaultNode.size,style:{x:0,y:0,stroke:dr.defaultNode.style.stroke,fill:dr.defaultNode.style.fill,lineWidth:dr.defaultNode.style.lineWidth},labelCfg:{style:{fill:dr.nodeLabel.style.fill,fontSize:dr.nodeLabel.style.fontSize,fontFamily:dr.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:dr.defaultNode.linkPoints.size,lineWidth:dr.defaultNode.linkPoints.lineWidth,fill:dr.defaultNode.linkPoints.fill,stroke:dr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:P({},dr.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,i=n===void 0?{}:n,a=this.getShapeStyle(t),o=Kt({},i,t.icon),s="".concat(this.type,"-keyShape"),l=e.addShape("circle",{attrs:a,className:s,name:s,draggable:!0});e.shapeMap[s]=l;var u=o.width,c=o.height,f=o.show,d=o.text;if(f){var h="".concat(this.type,"-icon");d?e.shapeMap[h]=e.addShape("text",{attrs:P({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:h,name:h,draggable:!0}):e.shapeMap[h]=e.addShape("image",{attrs:P({x:-u/2,y:-c/2},o),className:h,name:h,draggable:!0})}return this.drawLinkPoints(t,e),l},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints;if(!!n){var i=n||{},a=i.top,o=i.left,s=i.right,l=i.bottom,u=i.size,c=i.r,f=xn(i,["top","left","right","bottom","size","r"]),d=this.getSize(t),h=d[0]/2;if(o){var v="link-point-left";e.shapeMap[v]=e.addShape("circle",{attrs:P(P({},f),{x:-h,y:0,r:u/2||c||5}),className:v,name:v,isAnchorPoint:!0})}if(s){var p="link-point-right";e.shapeMap[p]=e.addShape("circle",{attrs:P(P({},f),{x:h,y:0,r:u/2||c||5}),className:p,name:p,isAnchorPoint:!0})}if(a){var g="link-point-top";e.shapeMap[g]=e.addShape("circle",{attrs:P(P({},f),{x:0,y:-h,r:u/2||c||5}),className:g,name:g,isAnchorPoint:!0})}if(l){var m="link-point-bottom";e.shapeMap[m]=e.addShape("circle",{attrs:P(P({},f),{x:0,y:h,r:u/2||c||5}),className:m,name:m,isAnchorPoint:!0})}}},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},i=Kt({},e,n),a=this.getSize(t),o=a[0]/2,s=P({x:0,y:0,r:o},i);return s},update:function(t,e,n){var i=e.getContainer(),a=this.getSize(t),o=P({},t.style);t.style.stroke===void 0&&t.color&&(o.stroke=t.color),t.style.r===void 0&&!isNaN(a[0])&&(o.r=a[0]/2),this.updateShape(t,e,o,!0,n),this.updateLinkPoints(t,i)}},"single-node");Ud("rect",{options:{size:[100,30],style:{radius:0,stroke:dr.defaultNode.style.stroke,fill:dr.defaultNode.style.fill,lineWidth:dr.defaultNode.style.lineWidth},labelCfg:{style:{fill:dr.nodeLabel.style.fill,fontSize:dr.nodeLabel.style.fontSize,fontFamily:dr.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:dr.defaultNode.linkPoints.size,lineWidth:dr.defaultNode.linkPoints.lineWidth,fill:dr.defaultNode.linkPoints.fill,stroke:dr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:P({},dr.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t),i=e.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return e.shapeMap["".concat(this.type,"-keyShape")]=i,this.drawLinkPoints(t,e),i},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,i=n===void 0?{}:n,a=i.top,o=i.left,s=i.right,l=i.bottom,u=i.size,c=i.r,f=xn(i,["top","left","right","bottom","size","r"]),d=this.getSize(t),h=d[0],v=d[1];o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:P(P({},f),{x:-h/2,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:P(P({},f),{x:h/2,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:P(P({},f),{x:0,y:-v/2,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),l&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:P(P({},f),{x:0,y:v/2,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},i=cr({},e,n),a=this.getSize(t),o=i.width||a[0],s=i.height||a[1],l=P({x:-o/2,y:-s/2,width:o,height:s},i);return l},update:function(t,e,n){var i=e.getContainer(),a=this.getOptions({}).style,o=this.getSize(t),s=e.get("keyShape");t.size||(o[0]=s.attr("width")||a.width,o[1]=s.attr("height")||a.height);var l={stroke:t.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},u=cr({},a,s.attr(),l);u=cr(u,t.style),this.updateShape(t,e,u,!1,n),this.updateLinkPoints(t,i)}},"single-node");Ud("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:dr.defaultNode.style.stroke,fill:dr.defaultNode.style.fill,lineWidth:dr.defaultNode.style.lineWidth},labelCfg:{style:{fill:dr.nodeLabel.style.fill,fontSize:dr.nodeLabel.style.fontSize,fontFamily:dr.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:dr.defaultNode.linkPoints.size,lineWidth:dr.defaultNode.linkPoints.lineWidth,fill:dr.defaultNode.linkPoints.fill,stroke:dr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:P({},dr.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,i=n===void 0?{}:n,a=this.getShapeStyle(t),o=e.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0});e.shapeMap["ellipse-keyShape"]=o;var s=i.width,l=i.height,u=i.show,c=i.text;return u&&(c?e.shapeMap["".concat(this.type,"-icon")]=e.addShape("text",{attrs:P({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.shapeMap["".concat(this.type,"-icon")]=e.addShape("image",{attrs:P({x:-s/2,y:-l/2},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,i=n===void 0?{}:n,a=i.top,o=i.left,s=i.right,l=i.bottom,u=i.size,c=i.r,f=xn(i,["top","left","right","bottom","size","r"]),d=this.getSize(t),h=d[0]/2,v=d[1]/2;o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:P(P({},f),{x:-h,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:P(P({},f),{x:h,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:P(P({},f),{x:0,y:-v,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),l&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:P(P({},f),{x:0,y:v,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},i=cr({},e,n),a=this.getSize(t),o=a[0]/2,s=a[1]/2,l=P({x:0,y:0,rx:o,ry:s},i);return l},update:function(t,e,n){var i=e.getContainer(),a=this.getOptions({}).style,o=this.getSize(t),s={stroke:t.color,rx:o[0]/2,ry:o[1]/2},l=e.get("keyShape"),u=cr({},a,l.attr(),s);u=cr(u,t.style),this.updateShape(t,e,u,!0,n),this.updateLinkPoints(t,i)}},"single-node");Ud("diamond",{options:{size:[80,80],style:{stroke:dr.defaultNode.style.stroke,fill:dr.defaultNode.style.fill,lineWidth:dr.defaultNode.style.lineWidth},labelCfg:{style:{fill:dr.nodeLabel.style.fill,fontSize:dr.nodeLabel.style.fontSize,fontFamily:dr.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:dr.defaultNode.linkPoints.size,lineWidth:dr.defaultNode.linkPoints.lineWidth,fill:dr.defaultNode.linkPoints.fill,stroke:dr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:P({},dr.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,i=n===void 0?{}:n,a=this.getShapeStyle(t),o=e.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=o;var s=i.width,l=i.height,u=i.show,c=i.text;return u&&(c?e.shapeMap["".concat(this.type,"-icon")]=e.addShape("text",{attrs:P({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.shapeMap["".concat(this.type,"-icon")]=e.addShape("image",{attrs:P({x:-s/2,y:-l/2},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,i=n===void 0?{}:n,a=i.top,o=i.left,s=i.right,l=i.bottom,u=i.size,c=i.r,f=xn(i,["top","left","right","bottom","size","r"]),d=this.getSize(t),h=d[0],v=d[1];o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:P(P({},f),{x:-h/2,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:P(P({},f),{x:h/2,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:P(P({},f),{x:0,y:-v/2,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),l&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:P(P({},f),{x:0,y:v/2,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getPath:function(t){var e=this.getSize(t),n=e[0],i=e[1],a=[["M",0,-i/2],["L",n/2,0],["L",0,i/2],["L",-n/2,0],["Z"]];return a},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},i=cr({},e,n),a=this.getPath(t),o=P({path:a},i);return o},update:function(t,e,n){var i=e.getContainer(),a=this.getOptions({}).style,o=this.getPath(t),s={stroke:t.color,path:o},l=e.get("keyShape"),u=cr({},a,l.attr(),s);u=cr(u,t.style),this.updateShape(t,e,u,!0,n),this.updateLinkPoints(t,i)}},"single-node");Ud("triangle",{options:{size:40,direction:"up",style:{stroke:dr.defaultNode.style.stroke,fill:dr.defaultNode.style.fill,lineWidth:dr.defaultNode.style.lineWidth},labelCfg:{style:{fill:dr.nodeLabel.style.fill,fontSize:dr.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:dr.defaultNode.linkPoints.size,lineWidth:dr.defaultNode.linkPoints.lineWidth,fill:dr.defaultNode.linkPoints.fill,stroke:dr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:P({},dr.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(t,e){var n=this.mergeStyle||this.getOptions(t),i=n.icon,a=i===void 0?{}:i,o=n.direction,s=this.getShapeStyle(t),l=t.direction||o,u=e.addShape("path",{attrs:s,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=u;var c=a.width,f=a.height,d=a.show,h=a.offset,v=a.text;if(d)if(v)e.shapeMap["".concat(this.type,"-icon")]=e.addShape("text",{attrs:P({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},a),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0});else{var p=-c/2,g=-f/2;(l==="up"||l==="down")&&(g+=h),(l==="left"||l==="right")&&(p+=h),e.shapeMap["".concat(this.type,"-icon")]=e.addShape("image",{attrs:P({x:p,y:g},a),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})}return this.drawLinkPoints(t,e),u},drawLinkPoints:function(t,e){var n=this.mergeStyle||this.getOptions(t),i=n.linkPoints,a=i===void 0?{}:i,o=n.direction,s=t.direction||o,l=a.top,u=a.left,c=a.right,f=a.bottom,d=a.size,h=a.r,v=xn(a,["top","left","right","bottom","size","r"]),p=this.getSize(t),g=p[0];if(u){var m=null,y=g*Math.sin(1/3*Math.PI),b=g*Math.sin(1/3*Math.PI);s==="up"?m=[-b,y]:s==="down"?m=[-b,-y]:s==="left"&&(m=[-b,b-y]),m&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:P(P({},v),{x:m[0],y:m[1],r:d/2||h||5}),className:"link-point-left",name:"link-point-left"}))}if(c){var w=null,y=g*Math.sin(1/3*Math.PI),b=g*Math.sin(1/3*Math.PI);s==="up"?w=[b,y]:s==="down"?w=[b,-y]:s==="right"&&(w=[b,b-y]),w&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:P(P({},v),{x:w[0],y:w[1],r:d/2||h||5}),className:"link-point-right",name:"link-point-right"}))}if(l){var S=null,y=g*Math.sin(1/3*Math.PI),b=g*Math.sin(1/3*Math.PI);s==="up"?S=[b-y,-y]:s==="left"?S=[b,-y]:s==="right"&&(S=[-b,-y]),S&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:P(P({},v),{x:S[0],y:S[1],r:d/2||h||5}),className:"link-point-top",name:"link-point-top"}))}if(f){var E=null,y=g*Math.sin(1/3*Math.PI),b=g*Math.sin(1/3*Math.PI);s==="down"?E=[-b+y,y]:s==="left"?E=[b,y]:s==="right"&&(E=[-b,y]),E&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:P(P({},v),{x:E[0],y:E[1],r:d/2||h||5}),className:"link-point-bottom",name:"link-point-bottom"}))}},getPath:function(t){var e=(this.mergeStyle||this.getOptions(t)).direction,n=t.direction||e,i=this.getSize(t),a=i[0],o=a*Math.sin(1/3*Math.PI),s=a*Math.sin(1/3*Math.PI),l=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return n==="down"?l=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:n==="left"?l=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:n==="right"&&(l=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),l},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},i=cr({},e,n),a=this.getPath(t),o=P({path:a},i);return o},update:function(t,e,n){var i=e.getContainer(),a=this.getOptions({}).style,o=this.getPath(t),s={stroke:t.color,path:o},l=e.get("keyShape"),u=cr({},a,l.attr(),s);u=cr(u,t.style),this.updateShape(t,e,u,!0,n),this.updateLinkPoints(t,i)},updateLinkPoints:function(t,e){var n=this.getOptions({}),i=n.linkPoints,a=n.direction,o=t.direction||a,s=e.shapeMap["link-point-left"]||e.find(function(N){return N.get("className")==="link-point-left"}),l=e.shapeMap["link-point-right"]||e.find(function(N){return N.get("className")==="link-point-right"}),u=e.shapeMap["link-point-top"]||e.find(function(N){return N.get("className")==="link-point-top"}),c=e.shapeMap["link-point-bottom"]||e.find(function(N){return N.get("className")==="link-point-bottom"}),f=i,d=s||l||u||c;d&&(f=d.attr());var h=cr({},f,t.linkPoints),v=h.fill,p=h.stroke,g=h.lineWidth,m=h.size/2;m||(m=h.r);var y=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},b=y.left,w=y.right,S=y.top,E=y.bottom,_=this.getSize(t),A=_[0],k={r:m,fill:v,stroke:p,lineWidth:g},T=null,I=A*Math.sin(1/3*Math.PI),D=A*Math.sin(1/3*Math.PI);o==="up"?T=[-D,I]:o==="down"?T=[-D,-I]:o==="left"&&(T=[-D,D-I]),T&&(s?!b&&b!==void 0?(s.remove(),delete e.shapeMap["link-point-left"]):s.attr(P(P({},k),{x:T[0],y:T[1]})):b&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:P(P({},k),{x:T[0],y:T[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})));var O=null;o==="up"?O=[D,I]:o==="down"?O=[D,-I]:o==="right"&&(O=[D,D-I]),O&&(l?!w&&w!==void 0?(l.remove(),delete e.shapeMap["link-point-right"]):l.attr(P(P({},k),{x:O[0],y:O[1]})):w&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:P(P({},k),{x:O[0],y:O[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})));var B=null;o==="up"?B=[D-I,-I]:o==="left"?B=[D,-I]:o==="right"&&(B=[-D,-I]),B&&(u?!S&&S!==void 0?(u.remove(),delete e.shapeMap["link-point-top"]):u.attr(P(P({},k),{x:B[0],y:B[1]})):S&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:P(P({},k),{x:B[0],y:B[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})));var U=null;o==="down"?U=[-D+I,I]:o==="left"?U=[D,I]:o==="right"&&(U=[-D,I]),U&&(c?!E&&E!==void 0?(c.remove(),delete e.shapeMap["link-point-bottom"]):c.attr(P(P({},k),{x:U[0],y:U[1]})):E&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:P(P({},k),{x:U[0],y:U[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})))}},"single-node");Ud("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:dr.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14,fontFamily:dr.windowFontFamily},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf",fontFamily:dr.windowFontFamily},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).preRect,i=n===void 0?{}:n,a=this.getShapeStyle(t),o=this.getSize(t),s=o[0],l=o[1],u=e.addShape("rect",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=u;var c=i.show,f=xn(i,["show"]);return c&&(e.shapeMap["pre-rect"]=e.addShape("rect",{attrs:P({x:-s/2,y:-l/2,height:l},f),className:"pre-rect",name:"pre-rect",draggable:!0})),this.drawLogoIcon(t,e),this.drawStateIcon(t,e),this.drawLinkPoints(t,e),u},drawLogoIcon:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).logoIcon,i=n===void 0?{}:n,a=this.getSize(t),o=a[0];if(i.show){var s=i.width,l=i.height,u=i.x,c=i.y,f=i.offset,d=i.text,h=xn(i,["width","height","x","y","offset","text"]);d?e.shapeMap["rect-logo-icon"]=e.addShape("text",{attrs:P({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},h),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):e.shapeMap["rect-logo-icon"]=e.addShape("image",{attrs:P(P({},h),{x:u||-o/2+s+f,y:c||-l/2,width:s,height:l}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).stateIcon,i=n===void 0?{}:n,a=this.getSize(t),o=a[0];if(i.show){var s=i.width,l=i.height,u=i.x,c=i.y,f=i.offset,d=i.text,h=xn(i,["width","height","x","y","offset","text"]);d?e.shapeMap["rect-state-icon"]=e.addShape("text",{attrs:P({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},h),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):e.shapeMap["rect-state-icon"]=e.addShape("image",{attrs:P(P({},h),{x:u||o/2-s+f,y:c||-l/2,width:s,height:l}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,i=n===void 0?{}:n,a=i.top,o=i.left,s=i.right,l=i.bottom,u=i.size,c=i.r,f=xn(i,["top","left","right","bottom","size","r"]),d=this.getSize(t),h=d[0],v=d[1];o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:P(P({},f),{x:-h/2,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:P(P({},f),{x:h/2,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:P(P({},f),{x:0,y:-v/2,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),l&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:P(P({},f),{x:0,y:v/2,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},drawLabel:function(t,e){var n=this.getOptions(t),i=n.labelCfg,a=i===void 0?{}:i,o=n.logoIcon,s=o===void 0?{}:o,l=n.descriptionCfg,u=l===void 0?{}:l,c=this.getSize(t),f=c[0],d=null,h=s.show,v=s.width,p=-f/2+a.offset;h&&(p=-f/2+v+a.offset);var g=a.style,m=u.style,y=u.paddingTop;return wt(t.description)?(d=e.addShape("text",{attrs:P(P({},g),{x:p,y:-5,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),e.shapeMap["text-shape"]=d,e.shapeMap["rect-description"]=e.addShape("text",{attrs:P(P({},m),{x:p,y:17+(y||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})):(d=e.addShape("text",{attrs:P(P({},g),{x:p,y:7,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),e.shapeMap["text-shape"]=d),d},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},i=cr({},e,n),a=this.getSize(t),o=i.width||a[0],s=i.height||a[1],l=P({x:-o/2,y:-s/2,width:o,height:s},i);return l},update:function(t,e){var n=this.mergeStyle||this.getOptions(t),i=n.style,a=i===void 0?{}:i,o=n.labelCfg,s=o===void 0?{}:o,l=n.descriptionCfg,u=l===void 0?{}:l,c=this.getSize(t),f=c[0],d=c[1],h=e.get("keyShape");h.attr(P(P({},a),{x:-f/2,y:-d/2,width:f,height:d}));var v=e.getContainer(),p=v.shapeMap["rect-logo-icon"]||v.find(function(be){return be.get("className")==="rect-logo-icon"}),g=p?p.attr():{},m=cr({},g,t.logoIcon),y=m.width;y===void 0&&(y=this.options.logoIcon.width);var b=t.logoIcon?t.logoIcon.show:void 0,w=s.offset,S=-f/2+y+w;!b&&b!==void 0&&(S=-f/2+w);var E=v.shapeMap["node-label"]||v.find(function(be){return be.get("className")==="node-label"}),_=v.shapeMap["rect-description"]||v.find(function(be){return be.get("className")==="rect-description"});if(t.label)if(!E)v.shapeMap["node-label"]=v.addShape("text",{attrs:P(P({},s.style),{x:S,y:t.description?-5:7,text:t.label}),className:"node-label",name:"node-label",draggable:!0,labelRelated:!0});else{var A=t.labelCfg?t.labelCfg.style:{},k=cr({},E.attr(),A);t.label&&(k.text=t.label),k.x=S,wt(t.description)&&(k.y=-5),_&&(_.resetMatrix(),_.attr({x:S})),E.resetMatrix(),E.attr(k)}if(wt(t.description)){var T=u.paddingTop;if(!_)v.shapeMap["rect-description"]=v.addShape("text",{attrs:P(P({},u.style),{x:S,y:17+(T||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0});else{var A=t.descriptionCfg?t.descriptionCfg.style:{},I=cr({},_.attr(),A);wt(t.description)&&(I.text=t.description),I.x=S,_.resetMatrix(),_.attr(P(P({},I),{y:17+(T||0)}))}}var D=v.shapeMap["pre-rect"]||v.find(function(be){return be.get("className")==="pre-rect"});if(D&&!D.destroyed){var O=cr({},D.attr(),t.preRect);D.attr(P(P({},O),{x:-f/2,y:-d/2,height:d}))}if(p&&!p.destroyed)if(!b&&b!==void 0)p.remove(),delete v.shapeMap["pre-rect"];else{var B=m.width,U=m.height,N=m.x,G=m.y,L=m.offset,F=xn(m,["width","height","x","y","offset"]);p.attr(P(P({},F),{x:N||-f/2+B+L,y:G||-U/2,width:B,height:U}))}else b&&this.drawLogoIcon(t,v);var W=v.shapeMap["rect-state-icon"]||v.find(function(be){return be.get("className")==="rect-state-icon"}),H=W?W.attr():{},K=cr({},H,t.stateIcon);if(W){!K.show&&K.show!==void 0&&(W.remove(),delete v.shapeMap["rect-state-icon"]);var ie=K.width,U=K.height,N=K.x,G=K.y,ee=K.offset,Q=xn(K,["width","height","x","y","offset"]);W.attr(P(P({},Q),{x:N||f/2-ie+ee,y:G||-U/2,width:ie,height:U}))}else K.show&&this.drawStateIcon(t,v);this.updateLinkPoints(t,v)}},"single-node");Ud("star",{options:{size:60,style:{stroke:dr.defaultNode.style.stroke,fill:dr.defaultNode.style.fill,lineWidth:dr.defaultNode.style.lineWidth},labelCfg:{style:{fill:dr.nodeLabel.style.fill,fontSize:dr.nodeLabel.style.fontSize,fontFamily:dr.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:dr.defaultNode.linkPoints.size,lineWidth:dr.defaultNode.linkPoints.lineWidth,fill:dr.defaultNode.linkPoints.fill,stroke:dr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:P({},dr.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,i=n===void 0?{}:n,a=this.getShapeStyle(t),o=e.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=o;var s=i.width,l=i.height,u=i.show,c=i.text;return u&&(c?e.shapeMap["".concat(this.type,"-icon")]=e.addShape("text",{attrs:P({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.shapeMap["".concat(this.type,"-icon")]=e.addShape("image",{attrs:P({x:-s/2,y:-l/2},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,i=n===void 0?{}:n,a=i.top,o=i.left,s=i.right,l=i.leftBottom,u=i.rightBottom,c=i.size,f=i.r,d=xn(i,["top","left","right","leftBottom","rightBottom","size","r"]),h=this.getSize(t),v=h[0];if(s){var p=Math.cos(.1*Math.PI)*v,g=Math.sin((18+72*0)/180*Math.PI)*v;e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:P(P({},d),{x:p,y:-g,r:c/2||f||5}),className:"link-point-right",name:"link-point-right"})}if(a){var p=Math.cos(.5*Math.PI)*v,g=Math.sin((18+72*1)/180*Math.PI)*v;e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:P(P({},d),{x:p,y:-g,r:c/2||f||5}),className:"link-point-top",name:"link-point-top"})}if(o){var p=Math.cos(.9*Math.PI)*v,g=Math.sin((18+72*2)/180*Math.PI)*v;e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:P(P({},d),{x:p,y:-g,r:c/2||f||5}),className:"link-point-left",name:"link-point-left"})}if(l){var p=Math.cos(1.3*Math.PI)*v,g=Math.sin((18+72*3)/180*Math.PI)*v;e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:P(P({},d),{x:p,y:-g,r:c/2||f||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(u){var p=Math.cos(1.7*Math.PI)*v,g=Math.sin((18+72*4)/180*Math.PI)*v;e.shapeMap["link-point-right-bottom"]=e.addShape("circle",{attrs:P(P({},d),{x:p,y:-g,r:c/2||f||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(t){for(var e=this.getSize(t),n=e[0],i=n*3/8,a=t.innerR||i,o=[],s=0;s<5;s++){var l=Math.cos((18+72*s)/180*Math.PI)*n,u=Math.sin((18+72*s)/180*Math.PI)*n,c=Math.cos((54+72*s)/180*Math.PI)*a,f=Math.sin((54+72*s)/180*Math.PI)*a;s===0?o.push(["M",l,-u]):o.push(["L",l,-u]),o.push(["L",c,-f])}return o.push(["Z"]),o},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},i=cr({},e,n),a=this.getPath(t),o=P({path:a},i);return o},update:function(t,e,n){var i=e.getContainer(),a=this.getOptions({}).style,o=this.getPath(t),s={stroke:t.color,path:o},l=e.get("keyShape"),u=cr({},a,l.attr(),s);u=cr(u,t.style),this.updateShape(t,e,u,!0,n),this.updateLinkPoints(t,i)},updateLinkPoints:function(t,e){var n=this.getOptions({}).linkPoints,i=e.shapeMap["link-point-left"]||e.find(function(I){return I.get("className")==="link-point-left"}),a=e.shapeMap["link-point-right"]||e.find(function(I){return I.get("className")==="link-point-right"}),o=e.shapeMap["link-point-top"]||e.find(function(I){return I.get("className")==="link-point-top"}),s=e.shapeMap["link-point-left-bottom"]||e.find(function(I){return I.get("className")==="link-point-left-bottom"}),l=e.shapeMap["link-point-left-bottom"]||e.find(function(I){return I.get("className")==="link-point-right-bottom"}),u=n,c=i||a||o||s||l;c&&(u=c.attr());var f=cr({},u,t.linkPoints),d=f.fill,h=f.stroke,v=f.lineWidth,p=f.size/2;p||(p=f.r);var g=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},m=g.left,y=g.right,b=g.top,w=g.leftBottom,S=g.rightBottom,E=this.getSize(t),_=E[0],A={r:p,fill:d,stroke:h,lineWidth:v},k=Math.cos((18+72*0)/180*Math.PI)*_,T=Math.sin((18+72*0)/180*Math.PI)*_;a?!y&&y!==void 0?(a.remove(),delete e.shapeMap["link-point-right"]):a.attr(P(P({},A),{x:k,y:-T})):y&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:P(P({},A),{x:k,y:-T}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),k=Math.cos((18+72*1)/180*Math.PI)*_,T=Math.sin((18+72*1)/180*Math.PI)*_,o?!b&&b!==void 0?(o.remove(),delete e.shapeMap["link-point-top"]):o.attr(P(P({},A),{x:k,y:-T})):b&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:P(P({},A),{x:k,y:-T}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),k=Math.cos((18+72*2)/180*Math.PI)*_,T=Math.sin((18+72*2)/180*Math.PI)*_,i?!m&&m!==void 0?(i.remove(),delete e.shapeMap["link-point-left"]):i.attr(P(P({},A),{x:k,y:-T})):m&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:P(P({},A),{x:k,y:-T}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),k=Math.cos((18+72*3)/180*Math.PI)*_,T=Math.sin((18+72*3)/180*Math.PI)*_,s?!w&&w!==void 0?(s.remove(),delete e.shapeMap["link-point-left-bottom"]):s.attr(P(P({},A),{x:k,y:-T})):w&&(e.shapeMap["link-point-left-bottom"]=e.addShape("circle",{attrs:P(P({},A),{x:k,y:-T}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0})),k=Math.cos((18+72*4)/180*Math.PI)*_,T=Math.sin((18+72*4)/180*Math.PI)*_,l?!S&&S!==void 0?(s.remove(),delete e.shapeMap["link-point-right-bottom"]):l.attr(P(P({},A),{x:k,y:-T})):S&&(e.shapeMap["link-point-right-bottom"]=e.addShape("circle",{attrs:P(P({},A),{x:k,y:-T}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0}))}},"single-node");var $x=ac.defaultSubjectColors;Ud("donut",{options:{size:dr.defaultNode.size,style:{x:0,y:0,stroke:dr.defaultNode.style.stroke,fill:dr.defaultNode.style.fill,lineWidth:dr.defaultNode.style.lineWidth},labelCfg:{style:{fill:dr.nodeLabel.style.fill,fontSize:dr.nodeLabel.style.fontSize,fontFamily:dr.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:dr.defaultNode.linkPoints.size,lineWidth:dr.defaultNode.linkPoints.lineWidth,fill:dr.defaultNode.linkPoints.fill,stroke:dr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:P({},dr.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,i=n===void 0?{}:n,a=this.getShapeStyle(t),o=Kt({},i,t.icon),s=e.addShape("circle",{attrs:a,className:"".concat(this.type,"-keyShape"),draggable:!0,name:"".concat(this.type,"-keyShape")});e.shapeMap["".concat(this.type,"-keyShape")]=s;var l=o.width,u=o.height,c=o.show,f=o.text;c&&(f?e.shapeMap["".concat(this.type,"-icon")]=e.addShape("text",{attrs:P({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.shapeMap["".concat(this.type,"-icon")]=e.addShape("image",{attrs:P({x:-l/2,y:-u/2},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}));var d=s.attr("r"),h=.6*d,v=(d+h)/2,p=t,g=p.donutAttrs,m=g===void 0?{}:g,y=p.donutColorMap,b=y===void 0?{}:y,w=Object.keys(m).length;if(m&&w>1){var S=[],E=0;if(Object.keys(m).forEach(function(T){var I=m[T]||0;!ir(I)||(S.push({key:T,value:I,color:b[T]}),E+=I)}),E){var _=d-h;if(w===1){e.shapeMap["fan-shape-0"]=e.addShape("circle",{attrs:{r:v,x:0,y:0,stroke:S[0].color||$x[0],lineWidth:_},name:"fan-shape-0"});return}var A=[v,0],k=0;S.forEach(function(T,I){var D=T.value/E;if(!(D<.001)){if(D>.999&&(D=1),D===1){e.shapeMap["fan-shape-".concat(I)]=e.addShape("circle",{attrs:{r:v,x:0,y:0,stroke:T.color||$x[I%$x.length],lineWidth:_},name:"fan-shape-".concat(I)});return}T.percent=D,T.angle=D*Math.PI*2,T.beginAgnle=k,k+=T.angle,T.endAngle=k,T.arcBegin=A,T.arcEnd=[v*Math.cos(T.endAngle),-v*Math.sin(T.endAngle)];var O=T.angle>Math.PI?1:0,B=[["M",T.arcBegin[0],T.arcBegin[1]],["A",v,v,0,O,0,T.arcEnd[0],T.arcEnd[1]],["L",T.arcEnd[0],T.arcEnd[1]]];e.shapeMap["fan-shape-".concat(I)]=e.addShape("path",{attrs:{path:B,lineWidth:_,stroke:T.color||$x[I%$x.length]},name:"fan-shape-".concat(I)}),A=T.arcEnd}})}}return this.drawLinkPoints(t,e),s},update:void 0},"circle");var i2=function(t){var e=t.x,n=t.y;return{x:e,y:n,centerX:e,centerY:n,minX:e,minY:n,maxX:e,maxY:n,height:0,width:0}},xHe=function(t){t===void 0&&(t=[]);var e=[],n=[];t.forEach(function(l){e.push(l.x),n.push(l.y)});var i=Math.min.apply(Math,e),a=Math.max.apply(Math,e),o=Math.min.apply(Math,n),s=Math.max.apply(Math,n);return{centerX:(i+a)/2,centerY:(o+s)/2,maxX:a,maxY:s,minX:i,minY:o,height:s-o,width:a-i}},LN=function(t){for(var e=[],n={},i=t.length,a=i-1;a>=0;a--){var o=t[a];o.id="".concat(o.x,"|||").concat(o.y),n[o.id]=o,e.push(o)}return e},xte=function(t){return LN(t)},vT=function(t,e){return t.width||t.height?{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}:t},wHe=function(t,e){var n=Math.abs(t.x-e.centerX),i=Math.abs(t.y-e.centerY);return n===0&&i===0?0:n/e.width>i/e.height},mO=function(t,e,n){var i=wHe(e,t);if(i===0){var a=t.centerX,o=t.centerY;return n.y<e.y?o=t.minY:n.x>e.x?a=t.maxX:n.x<e.x?a=t.minX:n.x===e.x&&(o=t.maxY),{x:a,y:o}}return i?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},RW=function(t,e){var n=Math.min(t.minX,e.minX),i=Math.min(t.minY,e.minY),a=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+a)/2,centerY:(i+o)/2,minX:n,minY:i,maxX:a,maxY:o,height:o-i,width:a-n}},yO=function(t){return[{x:t.minX,y:t.minY},{x:t.maxX,y:t.minY},{x:t.maxX,y:t.maxY},{x:t.minX,y:t.maxY}]},a2=function(t,e){var n=t.x,i=t.y;return n<e.minX||n>e.maxX||i<e.minY||i>e.maxY},SHe=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},CHe=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},EHe=function(t,e){return SHe(t,e.x).concat(CHe(t,e.y))},kw=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},_He=function(t,e){var n=-2,i=0;return e.forEach(function(a){a&&(t.x===a.x&&(i+=n),t.y===a.y&&(i+=n))}),i},DW=function(t,e,n,i,a){return kw(t,e)+kw(t,n)+_He(t,[e,n,i,a])},THe=function r(t,e,n,i,a){a===void 0&&(a=0),t.unshift(e[i]),n[i]&&n[i]!==i&&a<=100&&r(t,e,n,n[i],a+1)},AHe=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},o2=function(t,e,n,i){var a=n.x-t.x,o=n.y-t.y,s=i.x-t.x,l=i.y-t.y,u=n.x-e.x,c=n.y-e.y,f=i.x-e.x,d=i.y-e.y,h=a*l-o*s,v=u*d-c*f,p=a*c-o*u,g=s*d-l*f;return h*v<=0&&p*g<=0},bO=function(t,e,n){if(n.width||n.height){var i=yO(n),a=i[0],o=i[1],s=i[2],l=i[3];return o2(t,e,a,o)||o2(t,e,a,l)||o2(t,e,o,s)||o2(t,e,s,l)}return!1},kHe=function(t,e,n,i){var a=[];return t.forEach(function(o){if(o!==e&&(o.x===e.x||o.y===e.y)){if(bO(o,e,n)||bO(o,e,i))return;a.push(o)}}),LN(a)},MHe=function(t,e,n,i,a,o,s){var l=[],u=[e],c={},f={},d={};f[e.id]=0,d[e.id]=DW(e,n,e);var h={};t.forEach(function(m){h[m.id]=m});for(var v,p;u.length;){if(v=void 0,p=1/0,u.forEach(function(m){d[m.id]<=p&&(p=d[m.id],v=m)}),v===n){var g=[];return THe(g,h,c,n.id),g}AHe(u,v),l.push(v),kHe(t,v,i,a).forEach(function(m){if(l.indexOf(m)===-1){u.indexOf(m)===-1&&u.push(m);var y=d[v.id]+kw(v,m);f[m.id]&&y>=f[m.id]||(c[m.id]=v.id,f[m.id]=y,d[m.id]=f[m.id]+DW(m,n,e,o,s))}})}return[e,n]},IHe=function(t,e,n){return!(t.x===e.x&&e.x===n.x||t.y===e.y&&e.y===n.y)},PHe=function(t,e,n,i){var a=kw(t,e),o=kw(n,e);a<i&&(i=a),o<i&&(i=o);var s={x:e.x-i/a*(e.x-t.x),y:e.y-i/a*(e.y-t.y)},l={x:e.x-i/o*(e.x-n.x),y:e.y-i/o*(e.y-n.y)};return[s,l]},OW=function(t,e){var n=[],i=t[0];return n.push("M".concat(i.x," ").concat(i.y)),t.forEach(function(a,o){var s=t[o+1],l=t[o+2];if(s&&l)if(IHe(a,s,l)){var u=PHe(a,s,l,e),c=u[0],f=u[1];n.push("L".concat(c.x," ").concat(c.y)),n.push("Q".concat(s.x," ").concat(s.y," ").concat(f.x," ").concat(f.y)),n.push("L".concat(f.x," ").concat(f.y))}else n.push("L".concat(s.x," ").concat(s.y));else s&&n.push("L".concat(s.x," ").concat(s.y))}),n.join("")},wte=function(t,e,n,i,a){var o,s;if(!n||!n.getType())o=i2(t);else if(n.getType()==="combo"){var l=n.getKeyShape();o=l.getCanvasBBox()||i2(t),o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=n.getBBox();if(!i||!i.getType())s=i2(e);else if(i.getType()==="combo"){var u=i.getKeyShape().getBBox();if(u){var c=i.getModel(),f=c.x,d=c.y;s={x:f,y:d,width:u.width,height:u.height,minX:u.minX+f,maxX:u.maxX+f,minY:u.minY+d,maxY:u.maxY+d},s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=i2(e)}else s=i&&i.getBBox();var h=vT(o,a),v=vT(s,a),p=mO(h,t,e),g=mO(v,e,t),m=xHe([p,g]),y=RW(h,m),b=RW(v,m),w=[];w=w.concat(yO(y)).concat(yO(b));var S={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[m,y,b].forEach(function(_){w=w.concat(EHe(_,S).filter(function(A){return a2(A,h)&&a2(A,v)}))}),[{x:p.x,y:g.y},{x:g.x,y:p.y}].forEach(function(_){a2(_,h)&&a2(_,v)&&w.push(_)}),w.unshift(p),w.push(g),w=LN(w);var E=MHe(w,p,g,o,s,t,e);return E.unshift(t),E.push(e),xte(E)},RHe=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},DHe=function(t,e,n,i,a){return xte(wte(t,e,n,i,a.offset))},OHe={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:RHe,fallbackRoute:DHe},wd=function(t,e){var n=Math.round(Math.abs(t/e)),i=t<0?-1:1;return n<0?0:i*n},LHe=function(t,e,n){var i={};return t.forEach(function(a){if(!!a)for(var o=vT(a.getBBox(),n),s=wd(o.minX,e);s<=wd(o.maxX,e);s+=1)for(var l=wd(o.minY,e);l<=wd(o.maxY,e);l+=1)i["".concat(s,"|||").concat(l)]=!0}),i},kP=function(t,e){var n=e.x-t.x,i=e.y-t.y;return n||i?Math.atan2(i,n):0},LW=function(t,e){var n=Math.abs(t-e);return n>Math.PI?2*Math.PI-n:n},FW=function(t,e,n){for(var i=1/0,a=0,o=e.length;a<o;a++){var s=n(t,e[a]);s<i&&(i=s)}return i},NW=function(t,e,n,i,a){var o=[];if(!n)return[t];var s=a.directions,l=a.offset,u=n.getBBox(),c=e.x>u.minX&&e.x<u.maxX&&e.y>u.minY&&e.y<u.maxY,f=vT(u,l);for(var d in f)f[d]=wd(f[d],a.gridSize);if(c){for(var h=0,v=s;h<v.length;h++)for(var p=v[h],g=[[{x:f.minX,y:f.minY},{x:f.maxX,y:f.minY}],[{x:f.minX,y:f.minY},{x:f.minX,y:f.maxY}],[{x:f.maxX,y:f.minY},{x:f.maxX,y:f.maxY}],[{x:f.minX,y:f.maxY},{x:f.maxX,y:f.maxY}]],d=0;d<4;d++){var m=g[d],y=ac.getLineIntersect(t,{x:t.x+p.stepX*f.width,y:t.y+p.stepY*f.height},m[0],m[1]);y&&!bO(t,y,u)&&(y.id="".concat(y.x,"|||").concat(y.y),o.push(y))}return o}var b=mO(f,t,i);return b.id="".concat(b.x,"|||").concat(b.y),[b]},xO=function(t,e,n,i){var a=kP(t,e);if(!n[t.id]){var o=kP(i,t);return LW(o,a)}var s=kP({x:n[t.id].x,y:n[t.id].y},t);return LW(s,a)},FHe=function(t,e,n,i,a,o,s){var l=[i],u=t.id,c=t.x,f=t.y,d={x:c,y:f,id:u};for(xO(d,o,e,n)&&l.unshift({x:o.x===i.x?i.x:d.x*s,y:o.y===i.y?i.y:d.y*s});e[u]&&e[u].id!==u;){var h={x:c,y:f,id:u},v=e[u].id,p=e[u].x,g=e[u].y,m={x:p,y:g,id:v},y=xO(m,h,e,n);y&&l.unshift({x:m.x===h.x?l[0].x:m.x*s,y:m.y===h.y?l[0].y:m.y*s}),u=v,c=p,f=g}var b={x:c,y:f,id:u};return l[0].x=b.x===n.x?a.x:l[0].x,l[0].y=b.y===n.y?a.y:l[0].y,l.unshift(a),l},NHe=function(t,e,n,i,a){if(isNaN(t.x)||isNaN(e.x))return[];var o=Kt(OHe,a);o.obstacles=o.obstacles||[];var s=o.gridSize,l=LHe(o.obstacles.concat([n,i]),s,o.offset),u={x:wd(t.x,s),y:wd(t.y,s)},c={x:wd(e.x,s),y:wd(e.y,s)};t.id="".concat(u.x,"|||").concat(u.y),e.id="".concat(c.x,"|||").concat(c.y);var f=NW(u,t,n,c,o),d=NW(c,e,i,u,o);f.forEach(function(O){delete l[O.id]}),d.forEach(function(O){delete l[O.id]});for(var h={},v={},p={},g={},m={},y=0;y<f.length;y++){var b=f[y];h[b.id]=b,g[b.id]=0,m[b.id]=FW(b,d,o.distFunc)}for(var w=o.maximumLoops,S=o.penalties,E,_,A,k,T,I,D;Object.keys(h).length>0&&w>0&&(E=void 0,_=1/0,Object.keys(h).forEach(function(O){var B=h[O].id;m[B]<=_&&(_=m[B],E=h[B])}),!!E);){if(d.findIndex(function(O){return O.x===E.x&&O.y===E.y})>-1)return FHe(E,p,u,e,t,c,s);delete h[E.id],v[E.id]=!0;for(var y=0;y<o.directions.length;y++)A=o.directions[y],k={x:E.x+A.stepX,y:E.y+A.stepY,id:"".concat(Math.round(E.x)+A.stepX,"|||").concat(Math.round(E.y)+A.stepY)},!v[k.id]&&(D=xO(E,k,p,u),!(D>o.maxAllowedDirectionChange)&&(l[k.id]||(h[k.id]||(h[k.id]=k),T=o.distFunc(E,k)+(isNaN(S[D])?s:S[D]),I=g[E.id]+T,!(g[k.id]&&I>=g[k.id])&&(p[k.id]=E,g[k.id]=I,m[k.id]=I+FW(k,d,o.distFunc)))));w-=1}return o.fallbackRoute(t,e,n,i,o)};gQ("polyline",{options:{color:dr.defaultEdge.color,size:dr.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:dr.defaultEdge.style.stroke,lineAppendWidth:dr.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:dr.edgeLabel.style.fill,fontSize:dr.edgeLabel.style.fontSize,fontFamily:dr.windowFontFamily}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:P({},dr.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t);n.radius===0&&delete n.radius;var i=e.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n});return e.shapeMap["edge-shape"]=i,i},getShapeStyle:function(t){var e=this.options.style,n={stroke:t.color},i=cr({},e,n,t.style);t=this.getPathPoints(t),this.radius=i.radius,this.offset=i.offset;var a=t.startPoint,o=t.endPoint,s=this.getControlPoints(t),l=[a];s&&(l=l.concat(s)),l.push(o);var u=t.sourceNode,c=t.targetNode,f=i.radius,d=this.options.routeCfg,h=cr({},d,t.routeCfg);h.offset=i.offset;var v=this.getPath(l,u,c,f,h);(gt(v)&&v.length<=1||wt(v)&&v.indexOf("L")===-1)&&(v="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(o.x)||isNaN(o.y))&&(v="M0 0, L0 0");var p=cr({},dr.defaultEdge.style,i,{lineWidth:t.size,path:v});return p},updateShapeStyle:function(t,e){var n=e.getContainer();if(!!e.isVisible()){var i={stroke:t.color},a=n.shapeMap["edge-shape"]||n.find(function(w){return w.get("className")==="edge-shape"})||e.getKeyShape(),o=t.size;t=this.getPathPoints(t);var s=t.startPoint,l=t.endPoint,u=this.getControlPoints(t),c=[s];u&&(c=c.concat(u)),c.push(l);var f=a.attr(),d=cr({},i,f,t.style),h=t.sourceNode,v=t.targetNode,p=d.radius,g=this.options.routeCfg,m=cr({},g,t.routeCfg);m.offset=d.offset;var y=this.getPath(c,h,v,p,m);(gt(y)&&y.length<=1||wt(y)&&y.indexOf("L")===-1)&&(y="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(l.x)||isNaN(l.y))&&(y="M0 0, L0 0"),f.endArrow&&d.endArrow===!1&&(t.style.endArrow={path:""}),f.startArrow&&d.startArrow===!1&&(t.style.startArrow={path:""});var b=cr(i,a.attr(),{lineWidth:o,path:y},t.style);a&&a.attr(b)}},getPath:function(t,e,n,i,a){var o=a.offset,s=a.simple;if(!o||t.length>2){if(i)return OW(t,i);var l=[];return q(t,function(d,h){h===0?l.push(["M",d.x,d.y]):l.push(["L",d.x,d.y])}),l}var u=s?wte(t[t.length-1],t[0],n,e,o):NHe(t[0],t[t.length-1],e,n,a);if(!u||!u.length)return"M0 0, L0 0";if(i){var c=OW(u,i);return c}var f=ac.pointsToPolygon(u);return f}},"single-edge");var BW=jd.cloneEvent,zW=jd.isNaN,$W=Math.abs,BHe=10,zHe=["shift","ctrl","alt","control"],$He={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(t){var e=this.origin,n=+t.clientX,i=+t.clientY;if(!(zW(n)||zW(i))){var a=n-e.x,o=i-e.y;this.get("direction")==="x"?o=0:this.get("direction")==="y"&&(a=0),this.origin={x:n,y:i};var s=this.graph.get("width"),l=this.graph.get("height"),u=this.graph.get("canvas").getCanvasBBox(),c=this.scalableRange,f=this.scalableRange;c<1&&c>-1&&(c=s*c,f=l*f),(u.minX<=s+c&&u.minX+a>s+c||u.maxX+c>=0&&u.maxX+c+a<0)&&(a=0),(u.minY<=l+f&&u.minY+o>l+f||u.maxY+f>=0&&u.maxY+f+o<0)&&(o=0),this.graph.translate(a,o)}},onTouchStart:function(t){var e=this,n=t.originalEvent.touches,i=n[0],a=n[1];i&&a||(t.preventDefault(),e.onMouseDown(t))},onMouseDown:function(t){var e=this,n=t.originalEvent;if(!(n&&t.name!==V_.TOUCHSTART&&n.button!==0)&&!(t.name!==V_.TOUCHSTART&&typeof window!="undefined"&&window.event&&!window.event.buttons&&!window.event.button)&&!!this.shouldBegin.call(this,t)&&!e.keydown){var i=t.target,a=i&&i.isCanvas&&i.isCanvas();if(!(!this.allowDragOnItem&&!a)&&(e.origin={x:t.clientX,y:t.clientY},e.dragging=!1,this.enableOptimize)){for(var o=this.graph,s=o.getEdges(),l=0,u=s.length;l<u;l++){var c=s[l].get("group").get("children");!c||c.forEach(function(w){w.set("ori-visibility",w.get("ori-visibility")||w.get("visible")),w.hide()})}for(var f=o.getNodes(),d=0,h=f.length;d<h;d++)for(var v=f[d].getContainer(),p=v.get("children"),g=0,m=p;g<m.length;g++){var y=m[g],b=y.get("isKeyShape");b||(y.set("ori-visibility",y.get("ori-visibility")||y.get("visible")),y.hide())}}}},onTouchMove:function(t){var e=this,n=t.originalEvent.touches,i=n[0],a=n[1];if(i&&a){this.onMouseUp(t);return}t.preventDefault(),e.onMouseMove(t)},onMouseMove:function(t){var e=this.graph;if(!this.keydown){var n=t.target,i=n&&n.isCanvas&&n.isCanvas();if(!(!this.allowDragOnItem&&!i)&&(t=BW(t),!!this.origin)){if(this.dragging)t.type="drag",e.emit("canvas:drag",t);else{if($W(this.origin.x-t.clientX)+$W(this.origin.y-t.clientY)<BHe)return;this.shouldBegin.call(this,t)&&(t.type="dragstart",e.emit("canvas:dragstart",t),this.originPosition={x:t.clientX,y:t.clientY},this.dragging=!0)}this.shouldUpdate.call(this,t)&&this.updateViewport(t)}}},onMouseUp:function(t){var e,n,i=this.graph;if(!this.keydown){var a=i.getZoom(),o=i.get("modeController"),s=(n=(e=o==null?void 0:o.modes[o.mode])===null||e===void 0?void 0:e.filter(function(_){return _.type==="zoom-canvas"}))===null||n===void 0?void 0:n[0],l=s?s.optimizeZoom||.1:0;if(this.enableOptimize){for(var u=i.getEdges(),c=0,f=u.length;c<f;c++){var d=u[c].get("group").get("children");!d||d.forEach(function(_){var A=_.get("ori-visibility");A&&_.show()})}if(a>l)for(var h=i.getNodes(),v=0,p=h.length;v<p;v++)for(var g=h[v].getContainer(),m=g.get("children"),y=0,b=m;y<b.length;y++){var w=b[y],S=w.get("isKeyShape");if(!S){var E=w.get("ori-visibility");E&&w.show()}}}if(!this.dragging){this.origin=null;return}t=BW(t),this.shouldEnd.call(this,t)&&this.updateViewport(t),t.type="dragend",t.dx=t.clientX-this.originPosition.x,t.dy=t.clientY-this.originPosition.y,i.emit("canvas:dragend",t),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(t){var e=this,n=t.key;!n||(zHe.indexOf(n.toLowerCase())>-1?e.keydown=!0:e.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},GHe={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1,enableStack:!0}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onDragEnd"}},validationCombo:function(t){if(!this.origin||!t||t.destroyed)return!1;var e=t.getType();return e==="combo"},onTouchStart:function(t){if(!!t.item){var e=this;try{var n=t.originalEvent.touches,i=n[0],a=n[1];if(i&&a)return;t.preventDefault()}catch{console.warn("Touch original event not exist!")}e.onDragStart(t)}},onTouchMove:function(t){var e=this;try{var n=t.originalEvent.touches,i=n[0],a=n[1];if(i&&a){e.onDragEnd(t);return}t.preventDefault()}catch{console.warn("Touch original event not exist!")}e.onDrag(t)},onDragStart:function(t){var e=this;if(this.currentShouldEnd=!0,!!this.shouldBegin.call(this,t)){var n=t.item;if(!(!n||n.destroyed||n.hasLocked())){var i=n.getContainer();i.set("capture",!1),this.cachedCaptureItems||(this.cachedCaptureItems=[]),this.cachedCaptureItems.push(n);var a=t.target;if(a){var o=a.get("isAnchorPoint");if(o)return}var s=this.graph;this.targets=[],this.targetCombo=null;var l=s.findAllByState("node",this.selectedState),u=n.get("id"),c=l.filter(function(d){var h=d.get("id");return u===h});c.length===0?this.targets.push(n):l.length>1?l.forEach(function(d){var h=d.hasLocked();h||e.targets.push(d)}):this.targets.push(n);var f=[];this.targets.forEach(function(d){f.push(Jr(d.getModel()))}),this.set("beforeDragNodes",f),this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(d){var h=d.getEdges();h.forEach(function(v){!v.isVisible()||(e.hidenEdge[v.getID()]=!0,v.hide())})}),this.origin={x:t.x,y:t.y},this.point={},this.originPoint={}}}},onDrag:function(t){var e=this;!this.origin||!this.shouldUpdate.call(this,t)||(this.get("enableDelegate")?this.updateDelegate(t):this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:t,updateEdge:this.get("updateEdge")}):this.targets.map(function(n){e.update(n,t)}))},onDragEnd:function(t){var e=this,n;if(!!this.origin){(n=this.cachedCaptureItems)===null||n===void 0||n.forEach(function(o){var s=o.getContainer();s.set("capture",!0)}),this.cachedCaptureItems=[],this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(o){var s=o.getEdges();s.forEach(function(l){e.hidenEdge[l.getID()]&&l.show(),l.refresh()})}),this.hidenEdge={};var i=this.graph;if(i.get("enabledStack")&&this.enableStack){var a={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach(function(o){a.before.nodes.push({id:o.id,x:o.x,y:o.y})}),this.targets.forEach(function(o){var s=o.getModel();a.after.nodes.push({id:s.id,x:s.x,y:s.y})}),i.pushStack("update",Jr(a))}i.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(t){var e=t.item;if(this.currentShouldEnd=this.shouldEnd.call(this,t,e),this.updatePositions(t,!this.currentShouldEnd),!(!this.currentShouldEnd||!this.validationCombo(e))){var n=this.graph;if(this.comboActiveState&&n.setItemState(e,this.comboActiveState,!1),this.targetCombo=e,this.onlyChangeComboSize)n.updateCombos();else{var i=e.getModel();this.targets.map(function(a){var o=a.getModel();o.comboId!==i.id&&n.updateComboTree(a,i.id)}),n.updateCombo(e)}n.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(t){var e=this.graph;this.currentShouldEnd=this.shouldEnd.call(this,t,void 0),this.updatePositions(t,!this.currentShouldEnd),!(!this.targets||this.targets.length===0||!this.currentShouldEnd)&&(this.onlyChangeComboSize?e.updateCombos():this.targets.map(function(n){var i=n.getModel();i.comboId&&e.updateComboTree(n)}))},onDropNode:function(t){if(!(!this.targets||this.targets.length===0)){var e=this,n=t.item,i=e.graph,a=n.getModel().comboId,o=a?i.findById(a):void 0;if(this.currentShouldEnd=this.shouldEnd.call(this,t,o),this.updatePositions(t,!this.currentShouldEnd),!!this.currentShouldEnd){if(this.onlyChangeComboSize)i.updateCombos();else if(a){var s=i.findById(a);e.comboActiveState&&i.setItemState(s,e.comboActiveState,!1),this.targets.map(function(l){var u=l.getModel();a!==u.comboId&&i.updateComboTree(l,a)}),i.updateCombo(s)}else this.targets.map(function(l){var u=l.getModel();u.comboId&&i.updateComboTree(l)});i.emit("dragnodeend",{items:this.targets,targetItem:n})}}},onDragEnter:function(t){var e=t.item;if(!!this.validationCombo(e)){var n=this.graph;this.comboActiveState&&n.setItemState(e,this.comboActiveState,!0)}},onDragLeave:function(t){var e=t.item;if(!!this.validationCombo(e)){var n=this.graph;this.comboActiveState&&n.setItemState(e,this.comboActiveState,!1)}},updatePositions:function(t,e){var n=this;!this.targets||this.targets.length===0||(this.get("enableDelegate")?this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:t,updateEdge:this.get("updateEdge"),updateFunc:this.update}):e||this.targets.map(function(i){return n.update(i,t)}):this.targets.map(function(i){return n.update(i,t,e)}))},update:function(t,e,n){var i=this.origin,a=t.get("model"),o=t.get("id");this.point[o]||(this.point[o]={x:a.x||0,y:a.y||0});var s=e.x-i.x+this.point[o].x,l=e.y-i.y+this.point[o].y;n&&(s+=i.x-e.x,l+=i.y-e.y);var u={x:s,y:l};this.get("updateEdge")?this.graph.updateItem(t,u,!1):t.updatePosition(u)},debounceUpdate:aS(function(r){var t=r.targets,e=r.graph,n=r.point,i=r.origin,a=r.evt,o=r.updateEdge;r.updateFunc,t.map(function(s){var l=s.get("model"),u=s.get("id");n[u]||(n[u]={x:l.x||0,y:l.y||0});var c=a.x-i.x+n[u].x,f=a.y-i.y+n[u].y,d={x:c,y:f};o?e.updateItem(s,d,!1):s.updatePosition(d)})},50,!0),updateDelegate:function(t){var e=this.graph;if(this.delegateRect){var d=t.x-this.origin.x+this.originPoint.minX,h=t.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:d,y:h})}else{var n=e.get("group"),i=Kt({},cg.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(t),o=a.x,s=a.y,l=a.width,u=a.height,c=a.minX,f=a.minY;this.originPoint={x:o,y:s,width:l,height:u,minX:c,minY:f},this.delegateRect=n.addShape("rect",{attrs:P({width:l,height:u,x:o,y:s},i),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(t){var e=this.targets;e.length===0&&e.push(t.item);for(var n=1/0,i=-1/0,a=1/0,o=-1/0,s=0;s<e.length;s++){var l=e[s],u=l.getBBox(),c=u.minX,f=u.minY,d=u.maxX,h=u.maxY;c<n&&(n=c),f<a&&(a=f),d>i&&(i=d),h>o&&(o=h)}var v=Math.floor(n),p=Math.floor(a),g=Math.ceil(i)-Math.floor(n),m=Math.ceil(o)-Math.floor(a);return{x:v,y:p,width:g,height:m,minX:n,minY:a}}},UHe={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(t){var e=this;try{var n=t.originalEvent.touches,i=n[0],a=n[1];if(i&&a)return;t.preventDefault()}catch{console.warn("Touch original event not exist!")}e.setAllItemStates(t)},clearOnTouchStart:function(t){var e=this;try{var n=t.originalEvent.touches,i=n[0],a=n[1];if(i&&a)return;t.preventDefault()}catch{console.warn("Touch original event not exist!")}e.clearActiveState(t)},setAllItemStates:function(t){var e=t.item,n=this.graph;if(this.item=e,!!this.shouldUpdate(t.item,{event:t,action:"activate"})){for(var i=this,a=this.activeState,o=this.inactiveState,s=n.getNodes(),l=n.getCombos(),u=n.getEdges(),c=n.get("vedges"),f=s.length,d=l.length,h=u.length,v=c.length,p=0;p<f;p++){var g=s[p],m=g.hasState("selected");i.resetSelected&&m&&n.setItemState(g,"selected",!1),n.setItemState(g,a,!1),o&&n.setItemState(g,o,!0)}for(var p=0;p<d;p++){var y=l[p],m=y.hasState("selected");i.resetSelected&&m&&n.setItemState(y,"selected",!1),n.setItemState(y,a,!1),o&&n.setItemState(y,o,!0)}for(var p=0;p<h;p++){var b=u[p];n.setItemState(b,a,!1),o&&n.setItemState(b,o,!0)}for(var p=0;p<v;p++){var w=c[p];n.setItemState(w,a,!1),o&&n.setItemState(w,o,!0)}o&&n.setItemState(e,o,!1),n.setItemState(e,a,!0);for(var S=e.getEdges(),E=S.length,p=0;p<E;p++){var b=S[p],_=void 0;b.getSource()===e?_=b.getTarget():_=b.getSource(),o&&n.setItemState(_,o,!1),n.setItemState(_,a,!0),n.setItemState(b,o,!1),n.setItemState(b,a,!0),b.toFront()}n.emit("afteractivaterelations",{item:t.item,action:"activate"})}},clearActiveState:function(t){var e=this,n=e.get("graph");if(!!e.shouldUpdate(t.item,{event:t,action:"deactivate"})){var i=this.activeState,a=this.inactiveState,o=n.get("autoPaint");n.setAutoPaint(!1);for(var s=n.getNodes()||[],l=n.getCombos()||[],u=n.getEdges()||[],c=n.get("vedges")||[],f=s.length,d=l.length,h=u.length,v=c.length,p=0;p<f;p++){var g=s[p];n.clearItemStates(g,[i,a])}for(var p=0;p<d;p++){var m=l[p];n.clearItemStates(m,[i,a])}for(var p=0;p<h;p++){var y=u[p];n.clearItemStates(y,[i,a,"deactivate"])}for(var p=0;p<v;p++){var b=c[p];n.clearItemStates(b,[i,a,"deactivate"])}n.paint(),n.setAutoPaint(o),n.emit("afteractivaterelations",{item:t.item||e.get("item"),action:"deactivate"})}}},s2=Math.min,GW=Math.max,UW=Math.abs,HW="shift",HHe=["drag","shift","ctrl","alt","control"],VHe={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:HW,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return HHe.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=HW,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(t){var e=t.item,n=this.brush;e||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),n||(n=this.createBrush()),this.originPoint={x:t.canvasX,y:t.canvasY},n.attr({width:0,height:0}),n.show(),this.dragging=!0)},onMouseMove:function(t){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(t)},onMouseUp:function(t){this.graph,!(!this.brush&&!this.dragging)&&(this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(t),this.dragging=!1))},clearStates:function(){var t=this,e=t.graph,n=t.selectedState,i=e.findAllByState("node",n),a=e.findAllByState("edge",n);i.forEach(function(o){return e.setItemState(o,n,!1)}),a.forEach(function(o){return e.setItemState(o,n,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(t){var e=this,n=this,i=n.graph,a=n.originPoint,o=n.shouldUpdate,s=this.selectedState,l={x:t.x,y:t.y},u=i.getPointByCanvas(a.x,a.y),c=s2(l.x,u.x),f=GW(l.x,u.x),d=s2(l.y,u.y),h=GW(l.y,u.y),v=[],p=[];i.getNodes().forEach(function(m){if(!!m.isVisible()){var y=m.getBBox();if(y.centerX>=c&&y.centerX<=f&&y.centerY>=d&&y.centerY<=h&&o(m,"select")){v.push(m);var b=m.getModel();p.push(b.id),i.setItemState(m,s,!0)}}});var g=[];this.includeEdges&&v.forEach(function(m){var y=m.getOutEdges();y.forEach(function(b){if(!!b.isVisible()){var w=b.getModel(),S=w.source,E=w.target;p.includes(S)&&p.includes(E)&&o(b,"select")&&(g.push(b),i.setItemState(b,e.selectedState,!0))}})}),this.selectedEdges=g,this.selectedNodes=v,this.onSelect&&this.onSelect(v,g),i.emit("nodeselectchange",{selectedItems:{nodes:v,edges:g},select:!0})},createBrush:function(){var t=this,e=t.graph.get("canvas").addShape("rect",{attrs:t.brushStyle,capture:!1,name:"brush-shape"});return this.brush=e,this.delegate=e,e},updateBrush:function(t){var e=this.originPoint;this.brush.attr({width:UW(t.canvasX-e.x),height:UW(t.canvasY-e.y),x:s2(t.canvasX,e.x),y:s2(t.canvasY,e.y)})},onKeyDown:function(t){var e=t.key;if(!!e){var n=this.trigger.toLowerCase(),i=e.toLowerCase();i===n||i==="control"&&n==="ctrl"||i==="ctrl"&&n==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},VW="shift",WHe=["shift","ctrl","alt","control"],jHe={getDefaultCfg:function(){return{multiple:!0,trigger:VW,selectedState:"selected"}},getEvents:function(){var t=this;return WHe.indexOf(t.trigger.toLowerCase())>-1||(t.trigger=VW,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),t.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(t){var e=this,n=t.item;if(!(!n||n.destroyed)){n.getType();var i=e.graph,a=e.keydown,o=e.multiple,s=e.shouldUpdate,l=e.shouldBegin;if(!!l.call(e,t)){if(!a||!o){var u=i.findAllByState("node",e.selectedState).concat(i.findAllByState("combo",e.selectedState));q(u,function(d){d!==n&&i.setItemState(d,e.selectedState,!1)})}if(n.hasState(e.selectedState)){s.call(e,t)&&i.setItemState(n,e.selectedState,!1);var c=i.findAllByState("node",e.selectedState),f=i.findAllByState("combo",e.selectedState);i.emit("nodeselectchange",{target:n,selectedItems:{nodes:c,combos:f},select:!1})}else{s.call(e,t)&&i.setItemState(n,e.selectedState,!0);var c=i.findAllByState("node",e.selectedState),f=i.findAllByState("combo",e.selectedState);i.emit("nodeselectchange",{target:n,selectedItems:{nodes:c,combos:f},select:!0})}}}},onCanvasClick:function(t){var e=this,n=this,i=n.graph,a=n.shouldBegin;if(!!a.call(this,t)){var o=i.findAllByState("node",this.selectedState);q(o,function(l){i.setItemState(l,e.selectedState,!1)});var s=i.findAllByState("combo",this.selectedState);q(s,function(l){i.setItemState(l,e.selectedState,!1)}),i.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})}},onKeyDown:function(t){var e=this,n=t.key;!n||(n.toLowerCase()===this.trigger.toLowerCase()||n.toLowerCase()==="control"?e.keydown=!0:e.keydown=!1)},onKeyUp:function(){var t=this;t.keydown=!1}},YHe=Ai,WW=.05,XHe={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},animate:!1,animateCfg:{duration:500}}},getEvents:function(){var t=this.fixSelectedItems;return t.fixState||(t.fixState="selected"),t.fixAll&&(t.fixLineWidth=!0,t.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(t){var e=t.originalEvent.touches,n=e[0],i=e[1];t.preventDefault(),!!i&&(this.shouldBegin&&!this.shouldBegin.call(this,t)||(this.startPoint={pageX:n.pageX,pageY:n.pageY},this.moveable=!0,i&&(this.endPoint={pageX:i.pageX,pageY:i.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(t){if(!!this.moveable){t.preventDefault();var e=t.originalEvent.touches,n=e[0],i=e[1];if(!!i){this.endPoint||(this.endPoint={pageX:i.pageX,pageY:i.pageY});var a=function(p,g){return Math.hypot(g.x-p.x,g.y-p.y)},o=a({x:n.pageX,y:n.pageY},{x:i.pageX,y:i.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var l=this.get("minZoom")||this.graph.get("minZoom"),u=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>u||s<l)){var c=this.get("animate"),f=this.get("animateCfg"),d=this.graph.get("canvas"),h=d.getPointByClient(t.clientX,t.clientY);this.graph.zoomTo(s,{x:h.x,y:h.y},c,f),this.graph.emit("wheelzoom",t)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(t){var e=this,n=this,i=n.graph,a=n.fixSelectedItems;if(!(this.shouldBegin&&!this.shouldBegin.call(this,t))&&!!this.shouldUpdate.call(this,t)){t.preventDefault();var o=i.get("canvas"),s=o.getPointByClient(t.clientX,t.clientY),l=this.get("sensitivity"),u=i.getZoom(),c=u,f=u;t.wheelDelta<0?c=1-WW*l:c=1/(1-WW*l),f=u*c;var d=this.get("minZoom")||i.get("minZoom"),h=this.get("maxZoom")||i.get("maxZoom");if(!(f>h||f<d)){var v=this.get("enableOptimize");if(v){var p=this.get("optimizeZoom"),g=this.get("optimized"),m=i.getNodes(),y=i.getEdges(),b=m.length,w=y.length;if(!g){for(var S=0;S<b;S++){var E=m[S];if(!E.destroyed)for(var _=E.get("group").get("children"),A=_.length,k=0;k<A;k++){var T=_[k];!T.destoryed&&!T.get("isKeyShape")&&(T.set("ori-visibility",T.get("ori-visibility")||T.get("visible")),T.hide())}}for(var I=0;I<w;I++)for(var D=y[I],_=D.get("group").get("children"),A=_.length,k=0;k<A;k++){var T=_[k];T.set("ori-visibility",T.get("ori-visibility")||T.get("visible")),T.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var O=setTimeout(function(){var se=i.getZoom(),Se=e.get("optimized");if(Se){e.set("optimized",!1);for(var Y=0;Y<b;Y++){var ve=m[Y],ce=ve.get("group").get("children"),de=ce.length;if(se<p){var Fe=ve.getKeyShape(),Ue=Fe.get("ori-visibility");Ue&&Fe.show()}else for(var lt=0;lt<de;lt++){var ut=ce[lt],Ue=ut.get("ori-visibility");!ut.get("visible")&&Ue&&Ue&&ut.show()}}for(var We=0;We<w;We++){var J=y[We],ce=J.get("group").get("children"),de=ce.length;if(se<p){var Fe=J.getKeyShape(),Ue=Fe.get("ori-visibility");Ue&&Fe.show()}else for(var lt=0;lt<de;lt++){var ut=ce[lt];if(!ut.get("visible")){var Ue=ut.get("ori-visibility");Ue&&ut.show()}}}}},100);this.set("timeout",O)}if(u<=1){var B=void 0,U=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){B=i.findAllByState("node",a.fixState),U=i.findAllByState("edge",a.fixState);for(var N=u/f,G=B.length,L=0;L<G;L++){var E=B[L],F=E.getContainer(),W=E.getModel(),H=E.getOriginStyle(),K=E.getStateStyle(a.fixState),ie=E.get("shapeFactory").getShape(W.type).getStateStyle(a.fixState,E)[a.fixState];if(a.fixAll){if(f<=1){var ee=Jr(F.getMatrix());ee||(ee=[1,0,0,0,1,0,0,0,1]);var Q=E.getModel(),be=Q.x,fe=Q.y;ee=YHe(ee,[["t",-be,-fe],["s",N,N],["t",be,fe]]),F.setMatrix(ee)}}else for(var _=F.get("children"),A=_.length,k=0;k<A;k++){var T=_[k],he=void 0,Ee=void 0;if(a.fixLabel){var He=T.get("type");if(He==="text"){he=T.attr("fontSize")||12;var nt=K[T.get("name")],st=ie[T.get("name")],z=nt?nt.fontSize:12,j=st?st.fontSize:12,X=z||j||12;if(f<=1&&T.attr("fontSize",X/f),Ee)break}}if(a.fixLineWidth&&T.get("isKeyShape")){Ee=T.attr("lineWidth")||0;var ae=K.lineWidth||ie.lineWidth||H.lineWidth||0;if(f<=1&&T.attr("lineWidth",ae/f),he)break}}}for(var ue=U.length,Be=0;Be<ue;Be++)for(var D=U[Be],F=D.getContainer(),_=F.get("children"),W=D.getModel(),K=D.getStateStyle(a.fixState),ie=D.get("shapeFactory").getShape(W.type).getStateStyle(a.fixState,D)[a.fixState],A=_.length,k=0;k<A;k++){var T=_[k],he=void 0,Ee=void 0;if(a.fixLabel||a.fixAll){var He=T.get("type");if(He==="text"){he=T.attr("fontSize")||12;var nt=K[T.get("name")],st=ie[T.get("name")],z=nt?nt.fontSize:12,j=st?st.fontSize:12,X=z||j||12;if(f<=1&&T.attr("fontSize",X/f),Ee)break}}if((a.fixLineWidth||a.fixAll)&&T.get("isKeyShape")){Ee=T.attr("lineWidth")||0;var ae=K.lineWidth||ie.lineWidth||1;if(f<=1&&T.attr("lineWidth",ae/f),he)break}}}}var Ze=this.get("animate"),Le=this.get("animateCfg");i.zoomTo(f,{x:s.x,y:s.y},Ze,Le),i.emit("wheelzoom",t)}}}},Ste={onMouseEnter:function(t){var e=t.item;this.currentTarget=e,this.showTooltip(t),this.graph.emit("tooltipchange",{item:t.item,action:"show"})},onMouseMove:function(t){if(!this.shouldUpdate(t)){this.hideTooltip();return}!this.currentTarget||t.item!==this.currentTarget||this.updatePosition(t)},onMouseLeave:function(t){!this.shouldEnd(t)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(t){var e=this.container;if(!(!t.item||t.item.destroyed)){e||(e=this.createTooltip(this.graph.get("canvas")),this.container=e);var n=this.formatText(t.item.get("model"),t);e.innerHTML=n,pn(this.container,{visibility:"visible"}),this.updatePosition(t)}},hideTooltip:function(){pn(this.container,{visibility:"hidden"})},updatePosition:function(t){var e=this.get("shouldBegin"),n=this,i=n.width,a=n.height,o=n.container,s=n.graph;if(!e(t)){pn(o,{visibility:"hidden"});return}var l=s.getPointByClient(t.clientX,t.clientY),u=s.getCanvasByPoint(l.x,l.y),c=u.x,f=u.y,d=o.getBoundingClientRect();c>i/2?c-=d.width:c+=this.offset,f>a/2?f-=d.height:f+=this.offset;var h="".concat(c,"px"),v="".concat(f,"px");pn(this.container,{left:h,top:v,visibility:"visible"})},createTooltip:function(t){var e=t.get("el");e.style.position="relative";var n=Ri('<div class="g6-tooltip g6-'.concat(this.item,'-tooltip"></div>'));return e.parentNode.appendChild(n),pn(n,{position:"absolute",visibility:"visible"}),this.width=t.get("width"),this.height=t.get("height"),this.container=n,this.graph.get("tooltips").push(n),n}},qHe=P({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(e){return e.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Ste),KHe=P({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(e){return"source: ".concat(e.source," target: ").concat(e.target)}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Ste),jW="click",ZHe=["click","dblclick"],QHe={getDefaultCfg:function(){return{trigger:jW,onChange:function(){}}},getEvents:function(){var t,e;return ZHe.includes(this.trigger)?e=this.trigger:(e=jW,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),t={},t["node:".concat(e)]="onNodeClick",t.touchstart="onNodeClick",t},onNodeClick:function(t){var e=t.item;if(!!e){var n=this.graph.findDataById(e.get("id"));if(!!n){var i=n.children;if(!(!i||i.length===0)){var a=!n.collapsed;!this.shouldBegin(t,a)||(n.collapsed=a,e.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:t.item,collapsed:a}),!!this.shouldUpdate(t,a)&&(this.onChange(e,a),this.graph.layout()))}}}}},JHe=jd.calculationItemsBBox,eVe=function r(t,e){if(e(t)!==!1&&t){var n=t.get("combos");if(n.length===0)return!1;q(n,function(i){r(i,e)})}},tVe={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(t){var e=t.item;if(!e||e.destroyed||!this.shouldUpdate.call(this,t))return!1;var n=e.getType();return n==="combo"},onDragStart:function(t){var e=this,n=this.graph,i=t.item;if(this.currentShouldEnd=!0,!!this.validationCombo(t)){this.targets=[];var a=n.findAllByState("combo",this.selectedState),o=i.get("id"),s=a.filter(function(l){var u=l.get("id");return o===u});s.length===0?this.targets.push(i):this.targets=a,this.activeState&&this.targets.map(function(l){var u=l.getModel();if(u.parentId){var c=n.findById(u.parentId);c&&n.setItemState(c,e.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:t.x,y:t.y},this.currentItemChildCombos=[],eVe(i,function(l){if(l.destroyed)return!1;var u=l.getModel();return e.currentItemChildCombos.push(u.id),!0})}},onDrag:function(t){var e=this;if(!!this.origin&&!!this.validationCombo(t))if(this.enableDelegate)this.updateDelegate(t);else{if(this.activeState){var n=this.graph,i=t.item,a=i.getModel(),o=n.getCombos(),s=i.getBBox(),l=s.centerX,u=s.centerY,c=s.width,f=o.filter(function(d){var h=d.getModel();return a.parentId,h.id!==a.id&&!e.currentItemChildCombos.includes(h.id)});f.map(function(d){var h=d.getBBox(),v=h.centerX,p=h.centerY,g=h.width,m=l-v,y=u-p,b=2*Math.sqrt(m*m+y*y);c+g-b>.8*c?n.setItemState(d,e.activeState,!0):n.setItemState(d,e.activeState,!1)})}q(this.targets,function(d){e.updateCombo(d,t)})}},updatePositions:function(t,e){var n=this;(this.enableDelegate||e)&&q(this.targets,function(i){n.updateCombo(i,t,e)})},onDrop:function(t){var e=this,n=t.item;if(this.currentShouldEnd=this.shouldEnd.call(this,t,n),this.updatePositions(t,!this.currentShouldEnd),!(!this.currentShouldEnd||!n||!this.targets||n.destroyed)){var i=this.graph,a=n.getModel();this.targets.map(function(o){var s=o.getModel();s.parentId!==a.id?(e.activeState&&i.setItemState(n,e.activeState,!1),e.onlyChangeComboSize?i.updateCombo(o):i.updateComboTree(o,a.id)):i.updateCombo(n)}),this.end(n,t),this.endComparison=!0}},onNodeDrop:function(t){var e=this;if(!(!this.targets||this.targets.length===0)){var n=this.graph,i=t.item,a=i.getModel().comboId,o=a?n.findById(a):void 0;if(this.currentShouldEnd=this.shouldEnd.call(this,t,o),this.updatePositions(t,!this.currentShouldEnd),!!this.currentShouldEnd){var s;if(a){if(this.activeState){var l=n.findById(a);n.setItemState(l,this.activeState,!1)}this.targets.map(function(u){e.onlyChangeComboSize?n.updateCombo(u):a!==u.getID()&&(s=n.findById(a),a!==u.getModel().parentId&&n.updateComboTree(u,a))})}else this.targets.map(function(u){if(e.onlyChangeComboSize)n.updateCombo(u);else{var c=u.getModel();c.comboId&&n.updateComboTree(u)}});this.endComparison=!0,this.end(s,t)}}},onDragEnter:function(t){if(!!this.origin&&!!this.validationCombo(t)){var e=t.item,n=this.graph;this.activeState&&n.setItemState(e,this.activeState,!0)}},onDragLeave:function(t){if(!!this.origin&&!!this.validationCombo(t)){var e=t.item,n=this.graph;this.activeState&&n.setItemState(e,this.activeState,!1)}},onDragEnd:function(t){if(!(!this.targets||this.targets.length===0)){var e=t.item;this.currentShouldEnd&&this.updatePositions(t);var n=this.getParentCombo(e.getModel().parentId),i=this.graph;n&&this.activeState&&i.setItemState(n,this.activeState,!1),this.end(void 0,t)}},end:function(t,e){var n=this;if(!!this.origin){var i=this.graph;if(this.delegateShape){var a=i.get("delegateGroup");a.clear(),this.delegateShape=null}t&&this.activeState&&i.setItemState(t,this.activeState,!1),t||this.targets.map(function(o){n.onlyChangeComboSize?i.updateCombo(o):i.updateComboTree(o)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(t,e){var n=this;if(e(t)!==!1&&t){var i=t.get("combos");q(i,function(o){n.traverse(o,e)});var a=t.get("nodes");q(a,function(o){n.traverse(o,e)})}},updateCombo:function(t,e,n){var i=this;this.traverse(t,function(a){return a.destroyed?!1:(i.updateSignleItem(a,e,n),!0)})},updateSignleItem:function(t,e,n){var i=this.origin,a=this.graph,o=t.getModel(),s=t.get("id");this.point[s]||(this.point[s]={x:o.x,y:o.y});var l=e.x-i.x+this.point[s].x,u=e.y-i.y+this.point[s].y;n&&(l+=i.x-e.x,u+=i.y-e.y),a.updateItem(t,{x:l,y:u})},getParentCombo:function(t){var e=this.graph;if(!!t){var n=e.findById(t);if(!!n)return n}},updateDelegate:function(t){var e=this.graph;if(this.delegateShape){var d=t.x-this.origin.x+this.originPoint.minX,h=t.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:d,y:h})}else{var n=e.get("delegateGroup"),i=null;this.targets.length>1?i=JHe(this.targets):i=this.targets[0].getBBox();var a=i.x,o=i.y,s=i.width,l=i.height,u=i.minX,c=i.minY;this.originPoint={x:a,y:o,width:s,height:l,minX:u,minY:c};var f=P(P({},cg.delegateStyle),this.delegateStyle);this.delegateShape=n.addShape("rect",{attrs:P({width:i.width,height:i.height,x:i.x,y:i.y},f),name:"combo-delegate-shape"}),this.delegateShape.set("capture",!1),this.delegate=this.delegateShape}}},YW="dblclick",rVe=["click","dblclick"],nVe={getDefaultCfg:function(){return{trigger:YW,relayout:!0}},getEvents:function(){var t,e;return rVe.includes(this.trigger)?e=this.trigger:(e=YW,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),t={},t["combo:".concat(e)]="onComboClick",t},onComboClick:function(t){var e=t.item,n=this,i=n.graph,a=n.relayout;if(!(!e||e.destroyed||e.getType()!=="combo")){var o=e.getModel(),s=o.id;!s||(i.collapseExpandCombo(s),a&&i.get("layout")?i.layout():i.refreshPositions())}}},iVe=jd.isPolygonsIntersect,aVe=jd.pathToPoints,XW="shift",oVe=["drag","shift","ctrl","alt","control"],sVe=function(t,e){var n,i=t.getKeyShape();if(t.get("type")==="path")n=aVe(i.attr("path"));else{var a=i.getCanvasBBox();n=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return iVe(e,n)},lVe={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:XW,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return oVe.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=XW,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(t){var e=this.lasso,n=t.item;n||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),e||(e=this.createLasso()),this.dragging=!0,this.originPoint={x:t.x,y:t.y},this.points.push(this.originPoint),e.show())},onDragMove:function(t){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:t.x,y:t.y}),this.updateLasso(t))},onDragEnd:function(t){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var t=this.points,e=[];return t.length&&(t.forEach(function(n,i){i===0?e.push(["M",n.x,n.y]):e.push(["L",n.x,n.y])}),e.push(["L",t[0].x,t[0].y])),e},clearStates:function(){var t=this,e=t.graph,n=t.selectedState,i=e.findAllByState("node",n),a=e.findAllByState("edge",n);i.forEach(function(o){return e.setItemState(o,n,!1)}),a.forEach(function(o){return e.setItemState(o,n,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var t=this,e=this,n=e.graph,i=e.shouldUpdate,a=this.points.map(function(c){return[n.getCanvasByPoint(c.x,c.y).x,n.getCanvasByPoint(c.x,c.y).y]}),o=this.selectedState,s=[],l=[];n.getNodes().forEach(function(c){if(!!c.isVisible()&&sVe(c,a)&&i(c,"select")){s.push(c);var f=c.getModel();l.push(f.id),n.setItemState(c,o,!0)}});var u=[];this.includeEdges&&s.forEach(function(c){var f=c.getOutEdges();f.forEach(function(d){if(!!d.isVisible()){var h=d.getModel(),v=h.source,p=h.target;l.includes(v)&&l.includes(p)&&i(d,"select")&&(u.push(d),n.setItemState(d,t.selectedState,!0))}})}),this.selectedEdges=u,this.selectedNodes=s,this.onSelect&&this.onSelect(s,u),n.emit("nodeselectchange",{selectedItems:{nodes:s,edges:u},select:!0})},createLasso:function(){var t=this,e=t.graph.get("delegateGroup").addShape("path",{attrs:P({path:[]},t.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=e,this.delegate=e,this.points=[],e},updateLasso:function(t){var e=this;this.lasso.attr({path:e.getLassoPath()})},onKeyDown:function(t){var e=t.key;!e||(e.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},qW="click",uVe=["click","drag"],KW=void 0,cVe=["shift","ctrl","control","alt","meta",void 0],fVe={getDefaultCfg:function(){return{trigger:qW,key:KW,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var t=this;uVe.indexOf(t.trigger.toLowerCase())>-1||(t.trigger=qW,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),t.key&&cVe.indexOf(t.key.toLowerCase())===-1&&(t.trigger=KW,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var e;return t.trigger==="drag"?e={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:t.trigger==="click"&&(e={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),t.key&&(e.keydown="onKeyDown",e.keyup="onKeyUp"),e},onDragEnd:function(t){var e=this;if(!(e.key&&!e.keydown)){var n=t.item;(!n||n.getID()===e.source||n.getType()!=="node")&&e.cancelCreating({item:e.edge,x:t.x,y:t.y})}},onClick:function(t){var e=this;if(!(e.key&&!e.keydown)){var n=t.item,i=e.graph,a=n.getModel(),o=e.getEdgeConfig;if(e.addingEdge&&e.edge){if(!e.shouldEnd.call(e,t))return;var s=void 0;o&&yr(o)?s=o({source:e.source,target:a.id}):s=e.edgeConfig;var l=P({target:a.id},s);if(e.source===a.id&&(l.type="loop"),i.emit("beforecreateedge",{}),i.updateItem(e.edge,l,!1),i.get("enabledStack")){var u=P(P({},e.edge.getModel()),{itemType:"edge"}),c={};c.edges=[u],i.pushStack("add",{before:{},after:c})}i.emit("aftercreateedge",{edge:e.edge}),e.edge.getKeyShape().set("capture",!0),e.edge=null,e.addingEdge=!1}else{if(!e.shouldBegin.call(e,t))return;var s=void 0;o&&yr(o)?s=o({source:a.id,target:a.id}):s=e.edgeConfig,e.edge=i.addItem("edge",P({source:a.id,target:a.id},s),!1),e.source=a.id,e.addingEdge=!0,e.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(t){var e=this;if(!(e.key&&!e.keydown)){e.edge&&e.edge.destroyed&&e.cancelCreating({item:e.edge});var n={x:t.x,y:t.y};if(!e.graph.findById(e.source)){e.addingEdge=!1;return}e.addingEdge&&e.edge&&e.graph.updateItem(e.edge,{target:n},!1)}},cancelCreating:function(t){var e,n,i=this;if(!(i.key&&!i.keydown)){var a=i.graph,o=t.item;if(i.addingEdge&&(i.edge===o||((n=(e=t.target)===null||e===void 0?void 0:e.isCanvas)===null||n===void 0?void 0:n.call(e)))){i.edge&&!i.edge.destroyed&&a.removeItem(i.edge,!1),i.edge=null,i.addingEdge=!1;return}}},onKeyDown:function(t){var e=this,n=t.key;!n||(n.toLowerCase()===e.key.toLowerCase()?e.keydown=!0:e.keydown=!1)},onKeyUp:function(){var t=this;t.addingEdge&&t.edge&&(t.graph.removeItem(t.edge,!1),t.addingEdge=!1,t.edge=null),this.keydown=!1}},ZW="ctrl",dVe=["shift","ctrl","alt","control"],hVe="1",vVe={getDefaultCfg:function(){return{trigger:ZW,combinedKey:hVe,functionName:"fitView",functionParams:[]}},getEvents:function(){return dVe.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=ZW,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '".concat(this.trigger,"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'"))),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(t){var e=t.key;if(!!e){var n=this.trigger.toLowerCase(),i=e.toLowerCase();this.triggerKeydown||(i===n||i==="control"&&n==="ctrl"||i==="ctrl"&&n==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '".concat(this.functionName,"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D")),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]();return}var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(i===o||i==="control"&&o==="ctrl"||i==="ctrl"&&o==="control")&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},pVe=["shift","ctrl","alt","control"],gVe={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0}},getEvents:function(){return(!this.zoomKey||pVe.indexOf(this.zoomKey)===-1)&&(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(t){var e=this,n=this.graph,i=t["".concat(this.zoomKey,"Key")];if(this.zoomKey==="control"&&(i=t.ctrlKey),i){var a=n.get("canvas"),o=a.getPointByClient(t.clientX,t.clientY),s=n.getZoom();t.wheelDelta>0?s=s+s*.05:s=s-s*.05,n.zoomTo(s,{x:o.x,y:o.y})}else{var l=t.deltaX||t.movementX,u=t.deltaY||t.movementY;!u&&navigator.userAgent.indexOf("Firefox")>-1&&(u=-t.wheelDelta*125/3);var c=this.graph.get("width"),f=this.graph.get("height"),d=this.graph.get("canvas").getCanvasBBox(),h=this.scalableRange,v=this.scalableRange;h<1&&h>-1&&(h=c*h,v=f*v);var p=d.minX,g=d.maxX,m=d.minY,y=d.maxY;l>0?g<-h?l=0:g-l<-h&&(l=g+h):l<0&&(p>c+h?l=0:p-l>c+h&&(l=p-(c+h))),u>0?y<-v?u=0:y-u<-v&&(u=y+v):u<0&&(m>f+v?u=0:m-u>f+v&&(u=m-(f+v))),this.get("direction")==="x"?u=0:this.get("direction")==="y"&&(l=0),n.translate(-l,-u)}t.preventDefault();var b=this.get("enableOptimize");if(b){var w=this.get("optimizeZoom"),S=this.get("optimized"),E=n.getNodes(),_=n.getEdges(),A=E.length,k=_.length;if(!S){for(var T=0;T<A;T++){var I=E[T];if(!I.destroyed)for(var D=I.get("group").get("children"),O=D.length,B=0;B<O;B++){var U=D[B];!U.destoryed&&!U.get("isKeyShape")&&(U.set("ori-visibility",U.get("ori-visibility")||U.get("visible")),U.hide())}}for(var N=0;N<k;N++)for(var G=_[N],D=G.get("group").get("children"),O=D.length,B=0;B<O;B++){var U=D[B];U.set("ori-visibility",U.get("ori-visibility")||U.get("visible")),U.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var L=setTimeout(function(){var F=n.getZoom(),W=e.get("optimized");if(W){e.set("optimized",!1);for(var H=0;H<A;H++){var K=E[H],ie=K.get("group").get("children"),ee=ie.length;if(F<w){var Q=K.getKeyShape(),be=Q.get("ori-visibility");be&&Q.show()}else for(var fe=0;fe<ee;fe++){var he=ie[fe],be=he.get("ori-visibility");!he.get("visible")&&be&&be&&he.show()}}for(var Ee=0;Ee<k;Ee++){var He=_[Ee],ie=He.get("group").get("children"),ee=ie.length;if(F<w){var Q=He.getKeyShape(),be=Q.get("ori-visibility");be&&Q.show()}else for(var fe=0;fe<ee;fe++){var he=ie[fe];if(!he.get("visible")){var be=he.get("ori-visibility");be&&he.show()}}}}},100);this.set("timeout",L)}}},mVe={"drag-canvas":$He,"zoom-canvas":XHe,"drag-node":GHe,"activate-relations":UHe,"brush-select":VHe,"click-select":jHe,"lasso-select":lVe,tooltip:qHe,"edge-tooltip":KHe,"collapse-expand":QHe,"drag-combo":tVe,"collapse-expand-combo":nVe,"create-edge":fVe,"shortcuts-call":vVe,"scroll-canvas":gVe};q(mVe,function(r,t){mQ(t,r)});var yVe=P(P({},CAe),hPe);So.Grid;var fst=So.Minimap;So.Bundling;So.Menu;var bVe=So.Fisheye;So.ToolBar;var dst=So.Tooltip,xVe=So.TimeBar,wVe=So.ImageMinimap,SVe=So.EdgeFilterLens,CVe=So.SnapLine;So.Legend;var EVe={version:cg.version,Graph:Xee,TreeGraph:BGe,Util:jd,Layout:oT,TreeLayout:_Ge,registerLayout:TGe,Global:cg,registerBehavior:mQ,registerCombo:cPe,registerEdge:gQ,registerNode:Ud,Minimap:So.Minimap,Grid:So.Grid,Bundling:So.Bundling,Menu:So.Menu,ToolBar:So.ToolBar,Tooltip:So.Tooltip,Legend:So.Legend,TimeBar:xVe,SnapLine:CVe,Fisheye:bVe,ImageMinimap:wVe,EdgeFilterLens:SVe,Algorithm:yVe,Arrow:nPe,Marker:iPe,Shape:_a};EVe.version="4.5.5";var hst=un(function(r,t){(function(e,n){r.exports=n()})(dd,function(){var e=1e3,n=6e4,i=36e5,a="millisecond",o="second",s="minute",l="hour",u="day",c="week",f="month",d="quarter",h="year",v="date",p="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},b=function(O,B,U){var N=String(O);return!N||N.length>=B?O:""+Array(B+1-N.length).join(U)+O},w={s:b,z:function(O){var B=-O.utcOffset(),U=Math.abs(B),N=Math.floor(U/60),G=U%60;return(B<=0?"+":"-")+b(N,2,"0")+":"+b(G,2,"0")},m:function O(B,U){if(B.date()<U.date())return-O(U,B);var N=12*(U.year()-B.year())+(U.month()-B.month()),G=B.clone().add(N,f),L=U-G<0,F=B.clone().add(N+(L?-1:1),f);return+(-(N+(U-G)/(L?G-F:F-G))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:f,y:h,w:c,d:u,D:v,h:l,m:s,s:o,ms:a,Q:d}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},S="en",E={};E[S]=y;var _=function(O){return O instanceof I},A=function(O,B,U){var N;if(!O)return S;if(typeof O=="string")E[O]&&(N=O),B&&(E[O]=B,N=O);else{var G=O.name;E[G]=O,N=G}return!U&&N&&(S=N),N||!U&&S},k=function(O,B){if(_(O))return O.clone();var U=typeof B=="object"?B:{};return U.date=O,U.args=arguments,new I(U)},T=w;T.l=A,T.i=_,T.w=function(O,B){return k(O,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var I=function(){function O(U){this.$L=A(U.locale,null,!0),this.parse(U)}var B=O.prototype;return B.parse=function(U){this.$d=function(N){var G=N.date,L=N.utc;if(G===null)return new Date(NaN);if(T.u(G))return new Date;if(G instanceof Date)return new Date(G);if(typeof G=="string"&&!/Z$/i.test(G)){var F=G.match(g);if(F){var W=F[2]-1||0,H=(F[7]||"0").substring(0,3);return L?new Date(Date.UTC(F[1],W,F[3]||1,F[4]||0,F[5]||0,F[6]||0,H)):new Date(F[1],W,F[3]||1,F[4]||0,F[5]||0,F[6]||0,H)}}return new Date(G)}(U),this.$x=U.x||{},this.init()},B.init=function(){var U=this.$d;this.$y=U.getFullYear(),this.$M=U.getMonth(),this.$D=U.getDate(),this.$W=U.getDay(),this.$H=U.getHours(),this.$m=U.getMinutes(),this.$s=U.getSeconds(),this.$ms=U.getMilliseconds()},B.$utils=function(){return T},B.isValid=function(){return this.$d.toString()!==p},B.isSame=function(U,N){var G=k(U);return this.startOf(N)<=G&&G<=this.endOf(N)},B.isAfter=function(U,N){return k(U)<this.startOf(N)},B.isBefore=function(U,N){return this.endOf(N)<k(U)},B.$g=function(U,N,G){return T.u(U)?this[N]:this.set(G,U)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(U,N){var G=this,L=!!T.u(N)||N,F=T.p(U),W=function(he,Ee){var He=T.w(G.$u?Date.UTC(G.$y,Ee,he):new Date(G.$y,Ee,he),G);return L?He:He.endOf(u)},H=function(he,Ee){return T.w(G.toDate()[he].apply(G.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(Ee)),G)},K=this.$W,ie=this.$M,ee=this.$D,Q="set"+(this.$u?"UTC":"");switch(F){case h:return L?W(1,0):W(31,11);case f:return L?W(1,ie):W(0,ie+1);case c:var be=this.$locale().weekStart||0,fe=(K<be?K+7:K)-be;return W(L?ee-fe:ee+(6-fe),ie);case u:case v:return H(Q+"Hours",0);case l:return H(Q+"Minutes",1);case s:return H(Q+"Seconds",2);case o:return H(Q+"Milliseconds",3);default:return this.clone()}},B.endOf=function(U){return this.startOf(U,!1)},B.$set=function(U,N){var G,L=T.p(U),F="set"+(this.$u?"UTC":""),W=(G={},G[u]=F+"Date",G[v]=F+"Date",G[f]=F+"Month",G[h]=F+"FullYear",G[l]=F+"Hours",G[s]=F+"Minutes",G[o]=F+"Seconds",G[a]=F+"Milliseconds",G)[L],H=L===u?this.$D+(N-this.$W):N;if(L===f||L===h){var K=this.clone().set(v,1);K.$d[W](H),K.init(),this.$d=K.set(v,Math.min(this.$D,K.daysInMonth())).$d}else W&&this.$d[W](H);return this.init(),this},B.set=function(U,N){return this.clone().$set(U,N)},B.get=function(U){return this[T.p(U)]()},B.add=function(U,N){var G,L=this;U=Number(U);var F=T.p(N),W=function(ie){var ee=k(L);return T.w(ee.date(ee.date()+Math.round(ie*U)),L)};if(F===f)return this.set(f,this.$M+U);if(F===h)return this.set(h,this.$y+U);if(F===u)return W(1);if(F===c)return W(7);var H=(G={},G[s]=n,G[l]=i,G[o]=e,G)[F]||1,K=this.$d.getTime()+U*H;return T.w(K,this)},B.subtract=function(U,N){return this.add(-1*U,N)},B.format=function(U){var N=this,G=this.$locale();if(!this.isValid())return G.invalidDate||p;var L=U||"YYYY-MM-DDTHH:mm:ssZ",F=T.z(this),W=this.$H,H=this.$m,K=this.$M,ie=G.weekdays,ee=G.months,Q=function(Ee,He,nt,st){return Ee&&(Ee[He]||Ee(N,L))||nt[He].substr(0,st)},be=function(Ee){return T.s(W%12||12,Ee,"0")},fe=G.meridiem||function(Ee,He,nt){var st=Ee<12?"AM":"PM";return nt?st.toLowerCase():st},he={YY:String(this.$y).slice(-2),YYYY:this.$y,M:K+1,MM:T.s(K+1,2,"0"),MMM:Q(G.monthsShort,K,ee,3),MMMM:Q(ee,K),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:Q(G.weekdaysMin,this.$W,ie,2),ddd:Q(G.weekdaysShort,this.$W,ie,3),dddd:ie[this.$W],H:String(W),HH:T.s(W,2,"0"),h:be(1),hh:be(2),a:fe(W,H,!0),A:fe(W,H,!1),m:String(H),mm:T.s(H,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:F};return L.replace(m,function(Ee,He){return He||he[Ee]||F.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(U,N,G){var L,F=T.p(N),W=k(U),H=(W.utcOffset()-this.utcOffset())*n,K=this-W,ie=T.m(this,W);return ie=(L={},L[h]=ie/12,L[f]=ie,L[d]=ie/3,L[c]=(K-H)/6048e5,L[u]=(K-H)/864e5,L[l]=K/i,L[s]=K/n,L[o]=K/e,L)[F]||K,G?ie:T.a(ie)},B.daysInMonth=function(){return this.endOf(f).$D},B.$locale=function(){return E[this.$L]},B.locale=function(U,N){if(!U)return this.$L;var G=this.clone(),L=A(U,N,!0);return L&&(G.$L=L),G},B.clone=function(){return T.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},O}(),D=I.prototype;return k.prototype=D,[["$ms",a],["$s",o],["$m",s],["$H",l],["$W",u],["$M",f],["$y",h],["$D",v]].forEach(function(O){D[O[1]]=function(B){return this.$g(B,O[0],O[1])}}),k.extend=function(O,B){return O.$i||(O(B,I,k),O.$i=!0),k},k.locale=A,k.isDayjs=_,k.unix=function(O){return k(1e3*O)},k.en=E[S],k.Ls=E,k.p={},k})}),Da;(function(r){r.FORE="fore",r.MID="mid",r.BG="bg"})(Da||(Da={}));var ur;(function(r){r.TOP="top",r.TOP_LEFT="top-left",r.TOP_RIGHT="top-right",r.RIGHT="right",r.RIGHT_TOP="right-top",r.RIGHT_BOTTOM="right-bottom",r.LEFT="left",r.LEFT_TOP="left-top",r.LEFT_BOTTOM="left-bottom",r.BOTTOM="bottom",r.BOTTOM_LEFT="bottom-left",r.BOTTOM_RIGHT="bottom-right",r.RADIUS="radius",r.CIRCLE="circle",r.NONE="none"})(ur||(ur={}));var Co;(function(r){r.AXIS="axis",r.GRID="grid",r.LEGEND="legend",r.TOOLTIP="tooltip",r.ANNOTATION="annotation",r.SLIDER="slider",r.SCROLLBAR="scrollbar",r.OTHER="other"})(Co||(Co={}));var Ky={FORE:3,MID:2,BG:1},bn;(function(r){r.BEFORE_RENDER="beforerender",r.AFTER_RENDER="afterrender",r.BEFORE_PAINT="beforepaint",r.AFTER_PAINT="afterpaint",r.BEFORE_CHANGE_DATA="beforechangedata",r.AFTER_CHANGE_DATA="afterchangedata",r.BEFORE_CLEAR="beforeclear",r.AFTER_CLEAR="afterclear",r.BEFORE_DESTROY="beforedestroy",r.BEFORE_CHANGE_SIZE="beforechangesize",r.AFTER_CHANGE_SIZE="afterchangesize"})(bn||(bn={}));var Zy;(function(r){r.BEFORE_DRAW_ANIMATE="beforeanimate",r.AFTER_DRAW_ANIMATE="afteranimate"})(Zy||(Zy={}));var Zs;(function(r){r.MOUSE_ENTER="plot:mouseenter",r.MOUSE_DOWN="plot:mousedown",r.MOUSE_MOVE="plot:mousemove",r.MOUSE_UP="plot:mouseup",r.MOUSE_LEAVE="plot:mouseleave",r.TOUCH_START="plot:touchstart",r.TOUCH_MOVE="plot:touchmove",r.TOUCH_END="plot:touchend",r.TOUCH_CANCEL="plot:touchcancel",r.CLICK="plot:click",r.DBLCLICK="plot:dblclick",r.CONTEXTMENU="plot:contextmenu",r.LEAVE="plot:leave",r.ENTER="plot:enter"})(Zs||(Zs={}));var pT;(function(r){r.ACTIVE="active",r.INACTIVE="inactive",r.SELECTED="selected",r.DEFAULT="default"})(pT||(pT={}));var $y=["color","shape","size"],Si="_origin",QW=1,JW=1,e9=.25,Cte={};function _Ve(r){var t=Cte[r];if(!t)throw new Error("G engine '".concat(r,"' is not exist, please register it at first."));return t}function Ete(r,t){Cte[r]=t}function TVe(r){var t=getComputedStyle(r);return{width:(r.clientWidth||parseInt(t.width,10))-parseInt(t.paddingLeft,10)-parseInt(t.paddingRight,10),height:(r.clientHeight||parseInt(t.height,10))-parseInt(t.paddingTop,10)-parseInt(t.paddingBottom,10)}}function t9(r){return typeof r=="number"&&!isNaN(r)}function r9(r,t,e,n){var i=e,a=n;if(t){var o=TVe(r);i=o.width?o.width:i,a=o.height?o.height:a}return{width:Math.max(t9(i)?i:QW,QW),height:Math.max(t9(a)?a:JW,JW)}}function AVe(r){var t=r.parentNode;t&&t.removeChild(r)}var FN=function(r){Ve(t,r);function t(e){var n=r.call(this)||this;n.destroyed=!1;var i=e.visible,a=i===void 0?!0:i;return n.visible=a,n}return t.prototype.show=function(){var e=this.visible;e||this.changeVisible(!0)},t.prototype.hide=function(){var e=this.visible;e&&this.changeVisible(!1)},t.prototype.destroy=function(){this.off(),this.destroyed=!0},t.prototype.changeVisible=function(e){this.visible!==e&&(this.visible=e)},t}(wA),n9=0,kVe=1/2,MVe=1/2,IVe=.05,jA=function(){function r(t){var e=t.xField,n=t.yField,i=t.adjustNames,a=i===void 0?["x","y"]:i,o=t.dimValuesMap;this.adjustNames=a,this.xField=e,this.yField=n,this.dimValuesMap=o}return r.prototype.isAdjust=function(t){return this.adjustNames.indexOf(t)>=0},r.prototype.getAdjustRange=function(t,e,n){var i=this.yField,a=n.indexOf(e),o=n.length,s,l;return!i&&this.isAdjust("y")?(s=0,l=1):o>1?(s=n[a===0?0:a-1],l=n[a===o-1?o-1:a+1],a!==0?s+=(e-s)/2:s-=(l-e)/2,a!==o-1?l-=(l-e)/2:l+=(e-n[o-2])/2):(s=e===0?0:e-.5,l=e===0?1:e+.5),{pre:s,next:l}},r.prototype.adjustData=function(t,e){var n=this,i=this.getDimValues(e);q(t,function(a,o){q(i,function(s,l){n.adjustDim(l,s,a,o)})})},r.prototype.groupData=function(t,e){return q(t,function(n){n[e]===void 0&&(n[e]=n9)}),xs(t,e)},r.prototype.adjustDim=function(t,e,n,i){},r.prototype.getDimValues=function(t){var e=this,n=e.xField,i=e.yField,a=cr({},this.dimValuesMap),o=[];if(n&&this.isAdjust("x")&&o.push(n),i&&this.isAdjust("y")&&o.push(i),o.forEach(function(l){a&&a[l]||(a[l]=xu(t,l).sort(function(u,c){return u-c}))}),!i&&this.isAdjust("y")){var s="y";a[s]=[n9,1]}return a},r}(),_te={},Tte=function(r){return _te[r.toLowerCase()]},YA=function(r,t){if(Tte(r))throw new Error("Adjust type '"+r+"' existed.");_te[r.toLowerCase()]=t};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wO=function(r,t){return wO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},wO(r,t)};function XA(r,t){wO(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Xc=function(){return Xc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Xc.apply(this,arguments)},PVe=function(r){XA(t,r);function t(e){var n=r.call(this,e)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var i=e.marginRatio,a=i===void 0?kVe:i,o=e.dodgeRatio,s=o===void 0?MVe:o,l=e.dodgeBy,u=e.intervalPadding,c=e.dodgePadding,f=e.xDimensionLength,d=e.groupNum,h=e.defaultSize,v=e.maxColumnWidth,p=e.minColumnWidth,g=e.columnWidthRatio,m=e.customOffset;return n.marginRatio=a,n.dodgeRatio=s,n.dodgeBy=l,n.intervalPadding=u,n.dodgePadding=c,n.xDimensionLegenth=f,n.groupNum=d,n.defaultSize=h,n.maxColumnWidth=v,n.minColumnWidth=p,n.columnWidthRatio=g,n.customOffset=m,n}return t.prototype.process=function(e){var n=Jr(e),i=fl(n),a=this.dodgeBy,o=a?hK(i,a):n;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=i,this.adjustData(o,i),this.adjustDataArray=[],this.mergeData=[],n},t.prototype.adjustDim=function(e,n,i,a){var o=this,s=this.customOffset,l=this.getDistribution(e),u=this.groupData(i,e);return q(u,function(c,f){var d;n.length===1?d={pre:n[0]-1,next:n[0]+1}:d=o.getAdjustRange(e,parseFloat(f),n),q(c,function(h){var v=h[e],p=l[v],g=p.indexOf(a);if(xt(s))h[e]=o.getDodgeOffset(d,g,p.length);else{var m=d.pre,y=d.next;h[e]=yr(s)?s(h,d):(m+y)/2+s}})}),[]},t.prototype.getDodgeOffset=function(e,n,i){var a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,u=a.dodgePadding,c=e.pre,f=e.next,d=f-c,h;if(!xt(l)&&xt(u)&&l>=0){var v=this.getIntervalOnlyOffset(i,n);h=c+v}else if(!xt(u)&&xt(l)&&u>=0){var v=this.getDodgeOnlyOffset(i,n);h=c+v}else if(!xt(l)&&!xt(u)&&l>=0&&u>=0){var v=this.getIntervalAndDodgeOffset(i,n);h=c+v}else{var p=d*o/i,g=s*p,v=1/2*(d-i*p-(i-1)*g)+((n+1)*p+n*g)-1/2*p-1/2*d;h=(c+f)/2+v}return h},t.prototype.getIntervalOnlyOffset=function(e,n){var i=this,a=i.defaultSize,o=i.intervalPadding,s=i.xDimensionLegenth,l=i.groupNum,u=i.dodgeRatio,c=i.maxColumnWidth,f=i.minColumnWidth,d=i.columnWidthRatio,h=o/s,v=(1-(l-1)*h)/l*u/(e-1),p=((1-h*(l-1))/l-v*(e-1))/e;if(p=xt(d)?p:1/l/e*d,!xt(c)){var g=c/s;p=Math.min(p,g)}if(!xt(f)){var m=f/s;p=Math.max(p,m)}p=a?a/s:p,v=((1-(l-1)*h)/l-e*p)/(e-1);var y=((1/2+n)*p+n*v+1/2*h)*l-h/2;return y},t.prototype.getDodgeOnlyOffset=function(e,n){var i=this,a=i.defaultSize,o=i.dodgePadding,s=i.xDimensionLegenth,l=i.groupNum,u=i.marginRatio,c=i.maxColumnWidth,f=i.minColumnWidth,d=i.columnWidthRatio,h=o/s,v=1*u/(l-1),p=((1-v*(l-1))/l-h*(e-1))/e;if(p=d?1/l/e*d:p,!xt(c)){var g=c/s;p=Math.min(p,g)}if(!xt(f)){var m=f/s;p=Math.max(p,m)}p=a?a/s:p,v=(1-(p*e+h*(e-1))*l)/(l-1);var y=((1/2+n)*p+n*h+1/2*v)*l-v/2;return y},t.prototype.getIntervalAndDodgeOffset=function(e,n){var i=this,a=i.intervalPadding,o=i.dodgePadding,s=i.xDimensionLegenth,l=i.groupNum,u=a/s,c=o/s,f=((1-u*(l-1))/l-c*(e-1))/e,d=((1/2+n)*f+n*c+1/2*u)*l-u/2;return d},t.prototype.getDistribution=function(e){var n=this.adjustDataArray,i=this.cacheMap,a=i[e];return a||(a={},q(n,function(o,s){var l=xu(o,e);l.length||l.push(0),q(l,function(u){a[u]||(a[u]=[]),a[u].push(s)})}),i[e]=a),a},t}(jA);function RVe(r,t){return(t-r)*Math.random()+r}var DVe=function(r){XA(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.process=function(e){var n=Jr(e),i=fl(n);return this.adjustData(n,i),n},t.prototype.adjustDim=function(e,n,i){var a=this,o=this.groupData(i,e);return q(o,function(s,l){return a.adjustGroup(s,e,parseFloat(l),n)})},t.prototype.getAdjustOffset=function(e){var n=e.pre,i=e.next,a=(i-n)*IVe;return RVe(n+a,i-a)},t.prototype.adjustGroup=function(e,n,i,a){var o=this,s=this.getAdjustRange(n,i,a);return q(e,function(l){l[n]=o.getAdjustOffset(s)}),e},t}(jA),MP=EK,OVe=function(r){XA(t,r);function t(e){var n=r.call(this,e)||this,i=e.adjustNames,a=i===void 0?["y"]:i,o=e.height,s=o===void 0?NaN:o,l=e.size,u=l===void 0?10:l,c=e.reverseOrder,f=c===void 0?!1:c;return n.adjustNames=a,n.height=s,n.size=u,n.reverseOrder=f,n}return t.prototype.process=function(e){var n=this,i=n.yField,a=n.reverseOrder,o=i?this.processStack(e):this.processOneDimStack(e);return a?this.reverse(o):o},t.prototype.reverse=function(e){return e.slice(0).reverse()},t.prototype.processStack=function(e){var n=this,i=n.xField,a=n.yField,o=n.reverseOrder,s=o?this.reverse(e):e,l=new MP,u=new MP;return s.map(function(c){return c.map(function(f){var d,h=me(f,i,0),v=me(f,[a]),p=h.toString();if(v=gt(v)?v[1]:v,!xt(v)){var g=v>=0?l:u;g.has(p)||g.set(p,0);var m=g.get(p),y=v+m;return g.set(p,y),Xc(Xc({},f),(d={},d[a]=[m,y],d))}return f})})},t.prototype.processOneDimStack=function(e){var n=this,i=this,a=i.xField,o=i.height,s=i.reverseOrder,l="y",u=s?this.reverse(e):e,c=new MP;return u.map(function(f){return f.map(function(d){var h,v=n.size,p=d[a],g=v*2/o;c.has(p)||c.set(p,g/2);var m=c.get(p);return c.set(p,m+g),Xc(Xc({},d),(h={},h[l]=m,h))})})},t}(jA),LVe=function(r){XA(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.process=function(e){var n=fl(e),i=this,a=i.xField,o=i.yField,s=this.getXValuesMaxMap(n),l=Math.max.apply(Math,Object.keys(s).map(function(u){return s[u]}));return Di(e,function(u){return Di(u,function(c){var f,d,h=c[o],v=c[a];if(gt(h)){var p=(l-s[v])/2;return Xc(Xc({},c),(f={},f[o]=Di(h,function(m){return p+m}),f))}var g=(l-h)/2;return Xc(Xc({},c),(d={},d[o]=[g,h+g],d))})})},t.prototype.getXValuesMaxMap=function(e){var n=this,i=this,a=i.xField,o=i.yField,s=xs(e,function(l){return l[a]});return wK(s,function(l){return n.getDimMaxValue(l,o)})},t.prototype.getDimMaxValue=function(e,n){var i=Di(e,function(o){return me(o,n,[])}),a=fl(i);return Math.max.apply(Math,a)},t}(jA);YA("Dodge",PVe);YA("Jitter",DVe);YA("Stack",OVe);YA("Symmetric",LVe);var i9=function(r,t){return wt(t)?t:r.invert(r.scale(t))},bS=function(){function r(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}return r.prototype.mapping=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e.map(function(a,o){return t._toOriginParam(a,t.scales[o])});return this.callback.apply(this,i)},r.prototype.getLinearValue=function(t){var e=this.values.length-1,n=Math.floor(e*t),i=e*t-n,a=this.values[n],o=n===e?a:this.values[n+1];return a+(o-a)*i},r.prototype.getNames=function(){for(var t=this.scales,e=this.names,n=Math.min(t.length,e.length),i=[],a=0;a<n;a+=1)i.push(e[a]);return i},r.prototype.getFields=function(){return this.scales.map(function(t){return t.field})},r.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},r.prototype.defaultCallback=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length===0?this.values:e.map(function(i,a){var o=t.scales[a];return o.type==="identity"?o.values[0]:t._getAttributeValue(o,i)})},r.prototype._parseCfg=function(t){var e=this,n=t.type,i=n===void 0?"base":n,a=t.names,o=a===void 0?[]:a,s=t.scales,l=s===void 0?[]:s,u=t.values,c=u===void 0?[]:u,f=t.callback;this.type=i,this.scales=l,this.values=c,this.names=o,this.callback=function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];if(f){var v=f.apply(void 0,d);if(!xt(v))return[v]}return e.defaultCallback.apply(e,d)}},r.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear){var n=t.translate(e);return this.values[n%this.values.length]}var i=t.scale(e);return this.getLinearValue(i)},r.prototype._toOriginParam=function(t,e){return e.isLinear?t:gt(t)?t.map(function(n){return i9(e,n)}):i9(e,t)},r}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var SO=function(r,t){return SO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},SO(r,t)};function xS(r,t){SO(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var FVe=/rgba?\(([\s.,0-9]+)\)/,NVe=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,BVe=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,zVe=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,$Ve=function(r){return/^[r,R,L,l]{1}[\s]*\(/.test(r)},GVe=function(){var r=document.createElement("i");return r.title="Web Colour Picker",r.style.display="none",document.body.appendChild(r),r},IP=function(r,t,e,n){return r[n]+(t[n]-r[n])*e};function Ate(r){return"#"+PP(r[0])+PP(r[1])+PP(r[2])}var kte=function(r){return[parseInt(r.substr(1,2),16),parseInt(r.substr(3,2),16),parseInt(r.substr(5,2),16)]},PP=function(r){var t=Math.round(r).toString(16);return t.length===1?"0"+t:t},UVe=function(r,t){var e=isNaN(Number(t))||t<0?0:t>1?1:Number(t),n=r.length-1,i=Math.floor(n*e),a=n*e-i,o=r[i],s=i===n?o:r[i+1];return Ate([IP(o,s,a,0),IP(o,s,a,1),IP(o,s,a,2)])},l2,Mte=function(r){if(r[0]==="#"&&r.length===7)return r;l2||(l2=GVe()),l2.style.color=r;var t=document.defaultView.getComputedStyle(l2,"").getPropertyValue("color"),e=FVe.exec(t),n=e[1].split(/\s*,\s*/).map(function(i){return Number(i)});return t=Ate(n),t},HVe=function(r){var t=wt(r)?r.split("-"):r,e=Di(t,function(n){return kte(n.indexOf("#")===-1?Mte(n):n)});return function(n){return UVe(e,n)}},VVe=function(r){if($Ve(r)){var t,e=void 0;if(r[0]==="l"){var n=NVe.exec(r),i=+n[1]+90;e=n[2],t="linear-gradient("+i+"deg, "}else if(r[0]==="r"){t="radial-gradient(";var n=BVe.exec(r);e=n[4]}var a=e.match(zVe);return q(a,function(o,s){var l=o.split(":");t+=l[1]+" "+l[0]*100+"%",s!==a.length-1&&(t+=", ")}),t+=")",t}return r},fv={rgb2arr:kte,gradient:HVe,toRGB:qg(Mte),toCSSGradient:VVe},WVe=function(r){xS(t,r);function t(e){var n=r.call(this,e)||this;return n.type="color",n.names=["color"],wt(n.values)&&(n.linear=!0),n.gradient=fv.gradient(n.values),n}return t.prototype.getLinearValue=function(e){return this.gradient(e)},t}(bS),jVe=function(r){xS(t,r);function t(e){var n=r.call(this,e)||this;return n.type="opacity",n.names=["opacity"],n}return t}(bS),YVe=function(r){xS(t,r);function t(e){var n=r.call(this,e)||this;return n.names=["x","y"],n.type="position",n}return t.prototype.mapping=function(e,n){var i=this.scales,a=i[0],o=i[1];return xt(e)||xt(n)?[]:[gt(e)?e.map(function(s){return a.scale(s)}):a.scale(e),gt(n)?n.map(function(s){return o.scale(s)}):o.scale(n)]},t}(bS),XVe=function(r){xS(t,r);function t(e){var n=r.call(this,e)||this;return n.type="shape",n.names=["shape"],n}return t.prototype.getLinearValue=function(e){var n=Math.round((this.values.length-1)*e);return this.values[n]},t}(bS),qVe=function(r){xS(t,r);function t(e){var n=r.call(this,e)||this;return n.type="size",n.names=["size"],n}return t}(bS),Ite={},Pte=function(r){return Ite[r.toLowerCase()]},wS=function(r,t){if(Pte(r))throw new Error("Attribute type '"+r+"' existed.");Ite[r.toLowerCase()]=t};wS("Color",WVe);wS("Opacity",jVe);wS("Position",YVe);wS("Shape",XVe);wS("Size",qVe);var NN=function(){function r(t){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=t.start,n=t.end,i=t.matrix,a=i===void 0?[1,0,0,0,1,0,0,0,1]:i,o=t.isTransposed,s=o===void 0?!1:o;this.start=e,this.end=n,this.matrix=a,this.originalMatrix=$i([],a),this.isTransposed=s}return r.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},r.prototype.update=function(t){cr(this,t),this.initial()},r.prototype.convertDim=function(t,e){var n,i=this[e],a=i.start,o=i.end;return this.isReflect(e)&&(n=[o,a],a=n[0],o=n[1]),a+t*(o-a)},r.prototype.invertDim=function(t,e){var n,i=this[e],a=i.start,o=i.end;return this.isReflect(e)&&(n=[o,a],a=n[0],o=n[1]),(t-a)/(o-a)},r.prototype.applyMatrix=function(t,e,n){n===void 0&&(n=0);var i=this.matrix,a=[t,e,n];return of(a,a,i),a},r.prototype.invertMatrix=function(t,e,n){n===void 0&&(n=0);var i=this.matrix,a=SA([0,0,0,0,0,0,0,0,0],i),o=[t,e,n];return a&&of(o,o,a),o},r.prototype.convert=function(t){var e=this.convertPoint(t),n=e.x,i=e.y,a=this.applyMatrix(n,i,1);return{x:a[0],y:a[1]}},r.prototype.invert=function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})},r.prototype.rotate=function(t){var e=this.matrix,n=this.center;return Ty(e,e,[-n.x,-n.y]),SF(e,e,t),Ty(e,e,[n.x,n.y]),this},r.prototype.reflect=function(t){return t==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},r.prototype.scale=function(t,e){var n=this.matrix,i=this.center;return Ty(n,n,[-i.x,-i.y]),NK(n,n,[t,e]),Ty(n,n,[i.x,i.y]),this},r.prototype.translate=function(t,e){var n=this.matrix;return Ty(n,n,[t,e]),this},r.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},r.prototype.getCenter=function(){return this.center},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRadius=function(){return this.radius},r.prototype.isReflect=function(t){return t==="x"?this.isReflectX:this.isReflectY},r.prototype.resetMatrix=function(t){this.matrix=t||$i([],this.originalMatrix)},r}(),Rte=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return t.prototype.initial=function(){r.prototype.initial.call(this);var e=this.start,n=this.end;this.x={start:e.x,end:n.x},this.y={start:e.y,end:n.y}},t.prototype.convertPoint=function(e){var n,i=e.x,a=e.y;return this.isTransposed&&(n=[a,i],i=n[0],a=n[1]),{x:this.convertDim(i,"x"),y:this.convertDim(a,"y")}},t.prototype.invertPoint=function(e){var n,i=this.invertDim(e.x,"x"),a=this.invertDim(e.y,"y");return this.isTransposed&&(n=[a,i],i=n[0],a=n[1]),{x:i,y:a}},t}(NN),KVe=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;n.isHelix=!0,n.type="helix";var i=e.startAngle,a=i===void 0?1.25*Math.PI:i,o=e.endAngle,s=o===void 0?7.25*Math.PI:o,l=e.innerRadius,u=l===void 0?0:l,c=e.radius;return n.startAngle=a,n.endAngle=s,n.innerRadius=u,n.radius=c,n.initial(),n}return t.prototype.initial=function(){r.prototype.initial.call(this);var e=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n=n*this.radius),this.d=Math.floor(n*(1-this.innerRadius)/e),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+this.d*.99}},t.prototype.convertPoint=function(e){var n,i=e.x,a=e.y;this.isTransposed&&(n=[a,i],i=n[0],a=n[1]);var o=this.convertDim(i,"x"),s=this.a*o,l=this.convertDim(a,"y");return{x:this.center.x+Math.cos(o)*(s+l),y:this.center.y+Math.sin(o)*(s+l)}},t.prototype.invertPoint=function(e){var n,i=this.d+this.y.start,a=LK([0,0],[e.x,e.y],[this.center.x,this.center.y]),o=CF(a,[1,0],!0),s=o*this.a;Oy(a)<s&&(s=Oy(a));var l=Math.floor((Oy(a)-s)/i);o=2*l*Math.PI+o;var u=this.a*o,c=Oy(a)-u;c=Vo(c,0)?0:c;var f=this.invertDim(o,"x"),d=this.invertDim(c,"y");return f=Vo(f,0)?0:f,d=Vo(d,0)?0:d,this.isTransposed&&(n=[d,f],f=n[0],d=n[1]),{x:f,y:d}},t}(NN),ZVe=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;n.isPolar=!0,n.type="polar";var i=e.startAngle,a=i===void 0?-Math.PI/2:i,o=e.endAngle,s=o===void 0?Math.PI*3/2:o,l=e.innerRadius,u=l===void 0?0:l,c=e.radius;return n.startAngle=a,n.endAngle=s,n.innerRadius=u,n.radius=c,n.initial(),n}return t.prototype.initial=function(){for(r.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var e=this.getOneBox(),n=e.maxX-e.minX,i=e.maxY-e.minY,a=Math.abs(e.minX)/n,o=Math.abs(e.minY)/i,s;this.height/i>this.width/n?(s=this.width/n,this.circleCenter={x:this.center.x-(.5-a)*this.width,y:this.center.y-(.5-o)*s*i}):(s=this.height/i,this.circleCenter={x:this.center.x-(.5-a)*s*n,y:this.center.y-(.5-o)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=s*this.radius:(this.radius<=0||this.radius>s)&&(this.polarRadius=s):this.polarRadius=s,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},t.prototype.getRadius=function(){return this.polarRadius},t.prototype.convertPoint=function(e){var n,i=this.getCenter(),a=e.x,o=e.y;return this.isTransposed&&(n=[o,a],a=n[0],o=n[1]),a=this.convertDim(a,"x"),o=this.convertDim(o,"y"),{x:i.x+Math.cos(a)*o,y:i.y+Math.sin(a)*o}},t.prototype.invertPoint=function(e){var n,i=this.getCenter(),a=[e.x-i.x,e.y-i.y],o=this,s=o.startAngle,l=o.endAngle;this.isReflect("x")&&(n=[l,s],s=n[0],l=n[1]);var u=[1,0,0,0,1,0,0,0,1];SF(u,u,s);var c=[1,0,0];of(c,c,u);var f=[c[0],c[1]],d=CF(f,a,l<s);Vo(d,Math.PI*2)&&(d=0);var h=Oy(a),v=d/(l-s);v=l-s>0?v:-v;var p=this.invertDim(h,"y"),g={x:0,y:0};return g.x=this.isTransposed?p:v,g.y=this.isTransposed?v:p,g},t.prototype.getCenter=function(){return this.circleCenter},t.prototype.getOneBox=function(){var e=this.startAngle,n=this.endAngle;if(Math.abs(n-e)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var i=[0,Math.cos(e),Math.cos(n)],a=[0,Math.sin(e),Math.sin(n)],o=Math.min(e,n);o<Math.max(e,n);o+=Math.PI/18)i.push(Math.cos(o)),a.push(Math.sin(o));return{minX:Math.min.apply(Math,i),maxX:Math.max.apply(Math,i),minY:Math.min.apply(Math,a),maxY:Math.max.apply(Math,a)}},t}(NN),Dte={},QVe=function(r){return Dte[r.toLowerCase()]},qA=function(r,t){Dte[r.toLowerCase()]=t};qA("rect",Rte);qA("cartesian",Rte);qA("polar",ZVe);qA("helix",KVe);function Ote(r,t,e){var n=new Z0(t,e);n.target=r,n.propagationPath.push(r),r.emitDelegation(t,n);for(var i=r.getParent();i;)i.emitDelegation(t,n),n.propagationPath.push(i),i=i.getParent()}var Lte=[1,0,0,0,1,0,0,0,1];function Dg(r,t,e){if(e===void 0&&(e=Lte),!t)return null;var n=Ai(e,[["t",-r.x,-r.y],["r",t],["t",r.x,r.y]]);return n}function BN(r,t){return!r.x&&!r.y?null:Ai(t||Lte,[["t",r.x,r.y]])}function JVe(r){var t=[1,0,0],e=[0,0,0];return of(e,t,r),Math.atan2(e[1],e[0])}function u2(r,t){var e=[0,0];return QTe(e,t,r),e}function eWe(r,t){var e=u2(r,[t.minX,t.minY]),n=u2(r,[t.maxX,t.minY]),i=u2(r,[t.minX,t.maxY]),a=u2(r,[t.maxX,t.maxY]),o=Math.min(e[0],n[0],i[0],a[0]),s=Math.max(e[0],n[0],i[0],a[0]),l=Math.min(e[1],n[1],i[1],a[1]),u=Math.max(e[1],n[1],i[1],a[1]);return{x:o,y:l,minX:o,minY:l,maxX:s,maxY:u,width:s-o,height:u-l}}function Fte(r,t,e,n){if(t){var i=Dg({x:e,y:n},t,r.getMatrix());r.setMatrix(i)}}function $1(r,t,e){var n=BN({x:t,y:e});r.attr("matrix",n)}function gT(r){var t=0,e=0,n=0,i=0;return ir(r)?t=e=n=i=r:gt(r)&&(t=r[0],n=xt(r[1])?r[0]:r[1],i=xt(r[2])?r[0]:r[2],e=xt(r[3])?n:r[3]),[t,n,i,e]}function zN(r){for(var t=r.childNodes,e=t.length,n=e-1;n>=0;n--)r.removeChild(t[n])}function tWe(r,t){return!!r.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function Mw(r){var t=r.start,e=r.end,n=Math.min(t.x,e.x),i=Math.min(t.y,e.y),a=Math.max(t.x,e.x),o=Math.max(t.y,e.y);return{x:n,y:i,minX:n,minY:i,maxX:a,maxY:o,width:a-n,height:o-i}}function rWe(r){var t=r.map(function(s){return s.x}),e=r.map(function(s){return s.y}),n=Math.min.apply(Math,t),i=Math.min.apply(Math,e),a=Math.max.apply(Math,t),o=Math.max.apply(Math,e);return{x:n,y:i,minX:n,minY:i,maxX:a,maxY:o,width:a-n,height:o-i}}function KA(r,t,e,n){var i=r+e,a=t+n;return{x:r,y:t,width:e,height:n,minX:r,minY:t,maxX:isNaN(i)?0:i,maxY:isNaN(a)?0:a}}function vg(r,t,e){return(1-e)*r+t*e}function Qy(r,t,e){return{x:r.x+Math.cos(e)*t,y:r.y+Math.sin(e)*t}}function nWe(r,t){var e=t.x-r.x,n=t.y-r.y;return Math.sqrt(e*e+n*n)}var mT=function(r,t,e){return e===void 0&&(e=Math.pow(Number.EPSILON,.5)),[r,t].includes(1/0)?Math.abs(r)===Math.abs(t):Math.abs(r-t)<e};function iWe(r,t){var e=Math.max(r.minX,t.minX),n=Math.max(r.minY,t.minY),i=Math.min(r.maxX,t.maxX),a=Math.min(r.maxY,t.maxY);return KA(e,n,i-e,a-n)}function Nte(r){var t=r.getClip(),e=t&&t.getBBox(),n;if(!r.isGroup())n=r.getBBox();else{var i=1/0,a=-1/0,o=1/0,s=-1/0,l=r.getChildren();l.length>0?q(l,function(u){if(u.get("visible")){if(u.isGroup()&&u.get("children").length===0)return!0;var c=Nte(u),f=u.applyToMatrix([c.minX,c.minY,1]),d=u.applyToMatrix([c.minX,c.maxY,1]),h=u.applyToMatrix([c.maxX,c.minY,1]),v=u.applyToMatrix([c.maxX,c.maxY,1]),p=Math.min(f[0],d[0],h[0],v[0]),g=Math.max(f[0],d[0],h[0],v[0]),m=Math.min(f[1],d[1],h[1],v[1]),y=Math.max(f[1],d[1],h[1],v[1]);p<i&&(i=p),g>a&&(a=g),m<o&&(o=m),y>s&&(s=y)}}):(i=0,a=0,o=0,s=0),n=KA(i,o,a-i,s-o)}return e?iWe(n,e):n}function aWe(r,t){if(!(!r.getClip()&&!t.getClip())){var e=t.getClip();if(!e){r.setClip(null);return}var n={type:e.get("type"),attrs:e.attr()};r.setClip(n)}}function rl(r){return r+"px"}function Bte(r,t,e,n){var i=nWe(r,t),a=n/i,o=0;return e==="start"?o=0-a:e==="end"&&(o=1+a),{x:vg(r.x,t.x,o),y:vg(r.y,t.y,o)}}var oWe={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},zte=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;return n.initCfg(),n}return t.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},t.prototype.clear=function(){},t.prototype.update=function(e){var n=this,i=this.get("defaultCfg")||{};q(e,function(a,o){var s=n.get(o),l=a;s!==a&&(Hn(a)&&i[o]&&(l=Kt({},i[o],a)),n.set(o,l))}),this.updateInner(e),this.afterUpdate(e)},t.prototype.updateInner=function(e){},t.prototype.afterUpdate=function(e){af(e,"visible")&&(e.visible?this.show():this.hide()),af(e,"capture")&&this.setCapture(e.capture)},t.prototype.getLayoutBBox=function(){return this.getBBox()},t.prototype.getLocationType=function(){return this.get("locationType")},t.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},t.prototype.setOffset=function(e,n){this.update({offsetX:e,offsetY:n})},t.prototype.setLocation=function(e){var n=P({},e);this.update(n)},t.prototype.getLocation=function(){var e=this,n={},i=this.get("locationType"),a=oWe[i];return q(a,function(o){n[o]=e.get(o)}),n},t.prototype.isList=function(){return!1},t.prototype.isSlider=function(){return!1},t.prototype.init=function(){},t.prototype.initCfg=function(){var e=this,n=this.get("defaultCfg");q(n,function(i,a){var o=e.get(a);if(Hn(o)){var s=Kt({},i,o);e.set(a,s)}})},t}(EA),Pp="update_status",sWe=["visible","tip","delegateObject"],lWe=["container","group","shapesMap","isRegister","isUpdating","destroyed"],ds=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},t.prototype.remove=function(){this.clear();var e=this.get("group");e.remove()},t.prototype.clear=function(){var e=this.get("group");e.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},t.prototype.getChildComponentById=function(e){var n=this.getElementById(e),i=n&&n.get("component");return i},t.prototype.getElementById=function(e){return this.get("shapesMap")[e]},t.prototype.getElementByLocalId=function(e){var n=this.getElementId(e);return this.getElementById(n)},t.prototype.getElementsByName=function(e){var n=[];return q(this.get("shapesMap"),function(i){i.get("name")===e&&n.push(i)}),n},t.prototype.getContainer=function(){return this.get("container")},t.prototype.updateInner=function(e){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},t.prototype.render=function(){var e=this.get("offScreenGroup");e||(e=this.offScreenRender());var n=this.get("group");this.updateElements(e,n),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},t.prototype.show=function(){var e=this.get("group");e.show(),this.set("visible",!0)},t.prototype.hide=function(){var e=this.get("group");e.hide(),this.set("visible",!1)},t.prototype.setCapture=function(e){var n=this.get("group");n.set("capture",e),this.set("capture",e)},t.prototype.destroy=function(){this.removeEvent(),this.remove(),r.prototype.destroy.call(this)},t.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},t.prototype.getLayoutBBox=function(){var e=this.get("group"),n=this.getInnerLayoutBBox(),i=e.getTotalMatrix();return i&&(n=eWe(i,n)),n},t.prototype.on=function(e,n,i){var a=this.get("group");return a.on(e,n,i),this},t.prototype.off=function(e,n){var i=this.get("group");return i&&i.off(e,n),this},t.prototype.emit=function(e,n){var i=this.get("group");i.emit(e,n)},t.prototype.init=function(){r.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},t.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},t.prototype.delegateEmit=function(e,n){var i=this.get("group");n.target=i,i.emit(e,n),Ote(i,e,n)},t.prototype.createOffScreenGroup=function(){var e=this.get("group"),n=e.getGroupBase(),i=new n({delegateObject:this.getDelegateObject()});return i},t.prototype.applyOffset=function(){var e=this.get("offsetX"),n=this.get("offsetY");this.moveElementTo(this.get("group"),{x:e,y:n})},t.prototype.initGroup=function(){var e=this.get("container");this.set("group",e.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},t.prototype.offScreenRender=function(){this.clearOffScreenCache();var e=this.createOffScreenGroup();return this.renderInner(e),this.set("offScreenGroup",e),this.set("offScreenBBox",Nte(e)),e},t.prototype.addGroup=function(e,n){this.appendDelegateObject(e,n);var i=e.addGroup(n);return this.get("isRegister")&&this.registerElement(i),i},t.prototype.addShape=function(e,n){this.appendDelegateObject(e,n);var i=e.addShape(n);return this.get("isRegister")&&this.registerElement(i),i},t.prototype.addComponent=function(e,n){var i=n.id,a=n.component,o=xn(n,["id","component"]),s=new a(P(P({},o),{id:i,container:e,updateAutoRender:this.get("updateAutoRender")}));return s.init(),s.render(),this.get("isRegister")&&this.registerElement(s.get("group")),s},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){var e=this.get("group");e.off()},t.prototype.getElementId=function(e){var n=this.get("id"),i=this.get("name");return n+"-"+i+"-"+e},t.prototype.registerElement=function(e){var n=e.get("id");this.get("shapesMap")[n]=e},t.prototype.unregisterElement=function(e){var n=e.get("id");delete this.get("shapesMap")[n]},t.prototype.moveElementTo=function(e,n){var i=BN(n);e.attr("matrix",i)},t.prototype.addAnimation=function(e,n,i){var a=n.attr("opacity");xt(a)&&(a=1),n.attr("opacity",0),n.animate({opacity:a},i)},t.prototype.removeAnimation=function(e,n,i){n.animate({opacity:0},i)},t.prototype.updateAnimation=function(e,n,i,a){n.animate(i,a)},t.prototype.updateElements=function(e,n){var i=this,a=this.get("animate"),o=this.get("animateOption"),s=e.getChildren().slice(0),l;q(s,function(u){var c=u.get("id"),f=i.getElementById(c),d=u.get("name");if(f)if(u.get("isComponent")){var h=u.get("component"),v=f.get("component"),p=xA(h.cfg,oK(Yg(h.cfg),lWe));v.update(p),f.set(Pp,"update")}else{var g=i.getReplaceAttrs(f,u);a&&o.update?i.updateAnimation(d,f,g,o.update):f.attr(g),u.isGroup()&&i.updateElements(u,f),q(sWe,function(w){f.set(w,u.get(w))}),aWe(f,u),l=f,f.set(Pp,"update")}else{n.add(u);var m=n.getChildren();if(m.splice(m.length-1,1),l){var y=m.indexOf(l);m.splice(y+1,0,u)}else m.unshift(u);if(i.registerElement(u),u.set(Pp,"add"),u.get("isComponent")){var h=u.get("component");h.set("container",n)}else u.isGroup()&&i.registerNewGroup(u);if(l=u,a){var b=i.get("isInit")?o.appear:o.enter;b&&i.addAnimation(d,u,b)}}})},t.prototype.clearUpdateStatus=function(e){var n=e.getChildren();q(n,function(i){i.set(Pp,null)})},t.prototype.clearOffScreenCache=function(){var e=this.get("offScreenGroup");e&&e.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},t.prototype.getDelegateObject=function(){var e,n=this.get("name"),i=(e={},e[n]=this,e.component=this,e);return i},t.prototype.appendDelegateObject=function(e,n){var i=e.get("delegateObject");n.delegateObject||(n.delegateObject={}),cr(n.delegateObject,i)},t.prototype.getReplaceAttrs=function(e,n){var i=e.attr(),a=n.attr();return q(i,function(o,s){a[s]===void 0&&(a[s]=void 0)}),a},t.prototype.registerNewGroup=function(e){var n=this,i=e.getChildren();q(i,function(a){n.registerElement(a),a.set(Pp,"add"),a.isGroup()&&n.registerNewGroup(a)})},t.prototype.deleteElements=function(){var e=this,n=this.get("shapesMap"),i=[];q(n,function(s,l){!s.get(Pp)||s.destroyed?i.push([l,s]):s.set(Pp,null)});var a=this.get("animate"),o=this.get("animateOption");q(i,function(s){var l=s[0],u=s[1];if(!u.destroyed){var c=u.get("name");if(a&&o.leave){var f=cr({callback:function(){e.removeElement(u)}},o.leave);e.removeAnimation(c,u,f)}else e.removeElement(u)}delete n[l]})},t.prototype.removeElement=function(e){if(e.get("isGroup")){var n=e.get("component");n&&n.destroy()}e.remove()},t}(zte),RP="\u2026";function uWe(r){for(var t=0,e=0;e<r.length;e++)t+=zp(r,e);return t}function zp(r,t){return r.charCodeAt(t)>0&&r.charCodeAt(t)<128?1:2}function cWe(r,t,e){e===void 0&&(e="tail");var n=r.length,i="";if(e==="tail"){for(var a=0,o=0;a<t;){var s=zp(r,o);if(a+s<=t)i+=r[o],a+=zp(r,o),o++;else break}i+=RP}else if(e==="head"){for(var a=0,o=n-1;a<t;){var s=zp(r,o);if(a+s<=t)i+=r[o],a+=zp(r,o),o--;else break}i=RP+i}else{for(var l="",u="",a=0,c=0,f=n-1;a<t;){var d=zp(r,c),h=!1;d+a<=t&&(l+=r[c],c++,a+=d,h=!0);var v=zp(r,f);if(v+a<=t&&(u=r[f]+u,a+=v,f--,h=!0),!h)break}i=l+RP+u}return i}var fWe="\u2026",dWe=2,hWe=400;function vWe(r){for(var t=r.map(function(l){var u=l.attr("text");return xt(u)?"":""+u}),e=0,n=0,i=0;i<t.length;i+=1){for(var a=0,o=0;o<=t[i].length;o+=1){var s=t[i].charCodeAt(o);s>=19968&&s<=40869?a+=2:a+=1}a>e&&(e=a,n=i)}return r[n].getBBox().width}function CO(r){if(r.length>hWe)return vWe(r);var t=0;return q(r,function(e){var n=e.getBBox(),i=n.width;t<i&&(t=i)}),t}function pWe(r,t){var e=t.getCanvasBBox();return r?e.width:e.height}function G1(r,t,e,n){var i;n===void 0&&(n="tail");var a=(i=t.attr("text"))!==null&&i!==void 0?i:"";if(n==="tail"){var o=xA(t.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),s=CK(a,e,o,"\u2026");return a!==s?(t.attr("text",s),t.set("tip",a),!0):(t.set("tip",null),!1)}var l=pWe(r,t),u=uWe(a),c=!1;if(e<l){var f=Math.floor(e/l*u)-dWe,d=void 0;f>=0?d=cWe(a,f,n):d=fWe,d&&(t.attr("text",d),c=!0)}return c?t.set("tip",a):t.set("tip",null),c}function ZA(r,t){var e=t.x,n=t.y,i=t.content,a=t.style,o=t.id,s=t.name,l=t.rotate,u=t.maxLength,c=t.autoEllipsis,f=t.isVertical,d=t.ellipsisPosition,h=t.background,v=r.addGroup({id:o+"-group",name:s+"-group",attrs:{x:e,y:n}}),p=v.addShape({type:"text",id:o,name:s,attrs:P({x:0,y:0,text:i},a)}),g=gT(me(h,"padding",0));if(u&&c){var m=u-(g[1]+g[3]);G1(!f,p,m,d)}if(h){var y=me(h,"style",{}),b=p.getCanvasBBox(),w=b.minX,S=b.minY,E=b.width,_=b.height,A=v.addShape("rect",{id:o+"-bg",name:o+"-bg",attrs:P({x:w-g[3],y:S-g[0],width:E+g[1]+g[3],height:_+g[0]+g[2]},y)});A.toBack()}$1(v,e,n),Fte(v,l,e,n)}var Rn={fontFamily:`
  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},gWe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:Rn.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:Rn.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:Rn.lineColor,lineWidth:1}}}})},t.prototype.renderInner=function(e){this.renderLine(e),this.get("text")&&this.renderLabel(e)},t.prototype.renderLine=function(e){var n=this.get("start"),i=this.get("end"),a=this.get("style");this.addShape(e,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:P({x1:n.x,y1:n.y,x2:i.x,y2:i.y},a)})},t.prototype.getLabelPoint=function(e,n,i){var a;return i==="start"?a=0:i==="center"?a=.5:wt(i)&&i.indexOf("%")!==-1?a=parseInt(i,10)/100:ir(i)?a=i:a=1,(a>1||a<0)&&(a=1),{x:vg(e.x,n.x,a),y:vg(e.y,n.y,a)}},t.prototype.renderLabel=function(e){var n=this.get("text"),i=this.get("start"),a=this.get("end"),o=n.position,s=n.content,l=n.style,u=n.offsetX,c=n.offsetY,f=n.autoRotate,d=n.maxLength,h=n.autoEllipsis,v=n.ellipsisPosition,p=n.background,g=n.isVertical,m=g===void 0?!1:g,y=this.getLabelPoint(i,a,o),b=y.x+u,w=y.y+c,S={id:this.getElementId("line-text"),name:"annotation-line-text",x:b,y:w,content:s,style:l,maxLength:d,autoEllipsis:h,ellipsisPosition:v,background:p,isVertical:m};if(f){var E=[a.x-i.x,a.y-i.y];S.rotate=Math.atan2(E[1],E[0])}ZA(e,S)},t}(ds),mWe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:Rn.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:Rn.fontFamily}}})},t.prototype.setLocation=function(e){this.set("x",e.x),this.set("y",e.y),this.resetLocation()},t.prototype.renderInner=function(e){var n=this.getLocation(),i=n.x,a=n.y,o=this.get("content"),s=this.get("style"),l=this.getElementId("text"),u=this.get("name")+"-text",c=this.get("maxLength"),f=this.get("autoEllipsis"),d=this.get("isVertical"),h=this.get("ellipsisPosition"),v=this.get("background"),p=this.get("rotate"),g={id:l,name:u,x:i,y:a,content:o,style:s,maxLength:c,autoEllipsis:f,isVertical:d,ellipsisPosition:h,background:v,rotate:p};ZA(e,g)},t.prototype.resetLocation=function(){var e=this.getElementByLocalId("text-group");if(e){var n=this.getLocation(),i=n.x,a=n.y,o=this.get("rotate");$1(e,i,a),Fte(e,o,i,a)}},t}(ds),yWe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},t.prototype.renderInner=function(e){this.renderArc(e)},t.prototype.getArcPath=function(){var e=this.getLocation(),n=e.center,i=e.radius,a=e.startAngle,o=e.endAngle,s=Qy(n,i,a),l=Qy(n,i,o),u=o-a>Math.PI?1:0,c=[["M",s.x,s.y]];if(o-a===Math.PI*2){var f=Qy(n,i,a+Math.PI);c.push(["A",i,i,0,u,1,f.x,f.y]),c.push(["A",i,i,0,u,1,l.x,l.y])}else c.push(["A",i,i,0,u,1,l.x,l.y]);return c},t.prototype.renderArc=function(e){var n=this.getArcPath(),i=this.get("style");this.addShape(e,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:P({path:n},i)})},t}(ds),bWe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:Rn.regionColor,opacity:.4}}})},t.prototype.renderInner=function(e){this.renderRegion(e)},t.prototype.renderRegion=function(e){var n=this.get("start"),i=this.get("end"),a=this.get("style"),o=Mw({start:n,end:i});this.addShape(e,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:P({x:o.x,y:o.y,width:o.width,height:o.height},a)})},t}(ds),xWe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},t.prototype.renderInner=function(e){this.renderImage(e)},t.prototype.getImageAttrs=function(){var e=this.get("start"),n=this.get("end"),i=this.get("style"),a=Mw({start:e,end:n}),o=this.get("src");return P({x:a.x,y:a.y,img:o,width:a.width,height:a.height},i)},t.prototype.renderImage=function(e){this.addShape(e,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},t}(ds),wWe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:Rn.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:Rn.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:Rn.fontFamily}}}})},t.prototype.renderInner=function(e){me(this.get("line"),"display")&&this.renderLine(e),me(this.get("text"),"display")&&this.renderText(e),me(this.get("point"),"display")&&this.renderPoint(e),this.get("autoAdjust")&&this.autoAdjust(e)},t.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},t.prototype.renderPoint=function(e){var n=this.getShapeAttrs().point;this.addShape(e,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:n})},t.prototype.renderLine=function(e){var n=this.getShapeAttrs().line;this.addShape(e,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:n})},t.prototype.renderText=function(e){var n=this.getShapeAttrs().text,i=n.x,a=n.y,o=n.text,s=xn(n,["x","y","text"]),l=this.get("text"),u=l.background,c=l.maxLength,f=l.autoEllipsis,d=l.isVertival,h=l.ellipsisPosition,v={x:i,y:a,id:this.getElementId("text"),name:"annotation-text",content:o,style:s,background:u,maxLength:c,autoEllipsis:f,isVertival:d,ellipsisPosition:h};ZA(e,v)},t.prototype.autoAdjust=function(e){var n=this.get("direction"),i=this.get("x"),a=this.get("y"),o=me(this.get("line"),"length",0),s=this.get("coordinateBBox"),l=e.getBBox(),u=l.minX,c=l.maxX,f=l.minY,d=l.maxY,h=e.findById(this.getElementId("text-group")),v=e.findById(this.getElementId("text")),p=e.findById(this.getElementId("line"));if(!!s){if(h){if(i+u<=s.minX){var g=s.minX-(i+u);$1(h,h.attr("x")+g,h.attr("y"))}if(i+c>=s.maxX){var g=i+c-s.maxX;$1(h,h.attr("x")-g,h.attr("y"))}}if(n==="upward"&&a+f<=s.minY||n!=="upward"&&a+d>=s.maxY){var m=void 0,y=void 0;n==="upward"&&a+f<=s.minY?(m="top",y=1):(m="bottom",y=-1),v.attr("textBaseline",m),p&&p.attr("path",[["M",0,0],["L",0,o*y]]),$1(h,h.attr("x"),(o+2)*y)}}},t.prototype.getShapeAttrs=function(){var e=me(this.get("line"),"display"),n=me(this.get("point"),"style",{}),i=me(this.get("line"),"style",{}),a=me(this.get("text"),"style",{}),o=this.get("direction"),s=e?me(this.get("line"),"length",0):0,l=o==="upward"?-1:1;return{point:P({x:0,y:0},n),line:P({path:[["M",0,0],["L",0,s*l]]},i),text:P({x:0,y:(s+2)*l,text:me(this.get("text"),"content",""),textBaseline:o==="upward"?"bottom":"top"},a)}},t}(ds),SWe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:Rn.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:Rn.textColor,fontFamily:Rn.fontFamily}}}})},t.prototype.renderInner=function(e){var n=me(this.get("region"),"style",{});me(this.get("text"),"style",{});var i=this.get("lineLength")||0,a=this.get("points");if(!!a.length){var o=rWe(a),s=[];s.push(["M",a[0].x,o.minY-i]),a.forEach(function(u){s.push(["L",u.x,u.y])}),s.push(["L",a[a.length-1].x,a[a.length-1].y-i]),this.addShape(e,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:P({path:s},n)});var l=P({id:this.getElementId("text"),name:"annotation-text",x:(o.minX+o.maxX)/2,y:o.minY-i},this.get("text"));ZA(e,l)}},t}(ds),CWe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},t.prototype.renderInner=function(e){var n=this,i=this.get("start"),a=this.get("end"),o=this.addGroup(e,{id:this.getElementId("region-filter"),capture:!1});q(this.get("shapes"),function(l,u){var c=l.get("type"),f=Jr(l.attr());n.adjustShapeAttrs(f),n.addShape(o,{id:n.getElementId("shape-"+c+"-"+u),capture:!1,type:c,attrs:f})});var s=Mw({start:i,end:a});o.setClip({type:"rect",attrs:{x:s.minX,y:s.minY,width:s.width,height:s.height}})},t.prototype.adjustShapeAttrs=function(e){var n=this.get("color");e.fill&&(e.fill=e.fillStyle=n),e.stroke=e.strokeStyle=n},t}(ds),EWe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"annotation",type:"shape",draw:pd})},t.prototype.renderInner=function(e){var n=this.get("render");yr(n)&&n(e)},t}(ds),$N=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},t.prototype.getContainer=function(){return this.get("container")},t.prototype.show=function(){var e=this.get("container");e.style.display="",this.set("visible",!0)},t.prototype.hide=function(){var e=this.get("container");e.style.display="none",this.set("visible",!1)},t.prototype.setCapture=function(e){var n=this.getContainer(),i=e?"auto":"none";n.style.pointerEvents=i,this.set("capture",e)},t.prototype.getBBox=function(){var e=this.getContainer(),n=parseFloat(e.style.left)||0,i=parseFloat(e.style.top)||0;return KA(n,i,e.clientWidth,e.clientHeight)},t.prototype.clear=function(){var e=this.get("container");zN(e)},t.prototype.destroy=function(){this.removeEvent(),this.removeDom(),r.prototype.destroy.call(this)},t.prototype.init=function(){r.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},t.prototype.initCapture=function(){this.setCapture(this.get("capture"))},t.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},t.prototype.initDom=function(){},t.prototype.initContainer=function(){var e=this.get("container");if(xt(e)){e=this.createDom();var n=this.get("parent");wt(n)&&(n=document.getElementById(n),this.set("parent",n)),n.appendChild(e),this.get("containerId")&&e.setAttribute("id",this.get("containerId")),this.set("container",e)}else wt(e)&&(e=document.getElementById(e),this.set("container",e));this.get("parent")||this.set("parent",e.parentNode)},t.prototype.resetStyles=function(){var e=this.get("domStyles"),n=this.get("defaultStyles");e?e=Kt({},n,e):e=n,this.set("domStyles",e)},t.prototype.applyStyles=function(){var e=this.get("domStyles");if(!!e){var n=this.getContainer();this.applyChildrenStyles(n,e);var i=this.get("containerClassName");if(i&&tWe(n,i)){var a=e[i];pn(n,a)}}},t.prototype.applyChildrenStyles=function(e,n){q(n,function(i,a){var o=e.getElementsByClassName(a);q(o,function(s){pn(s,i)})})},t.prototype.applyStyle=function(e,n){var i=this.get("domStyles");pn(n,i[e])},t.prototype.createDom=function(){var e=this.get("containerTpl");return Ri(e)},t.prototype.initEvent=function(){},t.prototype.removeDom=function(){var e=this.get("container");e&&e.parentNode&&e.parentNode.removeChild(e)},t.prototype.removeEvent=function(){},t.prototype.updateInner=function(e){af(e,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},t.prototype.resetPosition=function(){},t}(zte),_We=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},t.prototype.render=function(){var e=this.getContainer(),n=this.get("html");zN(e);var i=yr(n)?n(e):n;if(yF(i))e.appendChild(i);else if(wt(i)||ir(i)){var a=Ri(""+i);a&&e.appendChild(a)}this.resetPosition()},t.prototype.resetPosition=function(){var e=this.getContainer(),n=this.getLocation(),i=n.x,a=n.y,o=this.get("alignX"),s=this.get("alignY"),l=this.get("offsetX"),u=this.get("offsetY"),c=CDe(e),f=wDe(e),d={x:i,y:a};o==="middle"?d.x-=Math.round(c/2):o==="right"&&(d.x-=Math.round(c)),s==="middle"?d.y-=Math.round(f/2):s==="bottom"&&(d.y-=Math.round(f)),l&&(d.x+=l),u&&(d.y+=u),pn(e,{position:"absolute",left:d.x+"px",top:d.y+"px",zIndex:this.get("zIndex")})},t}($N),TWe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Line:gWe,Text:mWe,Arc:yWe,Region:bWe,Image:xWe,DataMarker:wWe,DataRegion:SWe,RegionFilter:CWe,Shape:EWe,Html:_We});function h1(r,t,e){var n=t+"Style",i=null;return q(e,function(a,o){r[o]&&a[n]&&(i||(i={}),cr(i,a[n]))}),i}var $te=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:Rn.lineColor}},tickLine:{style:{lineWidth:1,stroke:Rn.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:Rn.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:Rn.textColor,fontFamily:Rn.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:Rn.textColor,textBaseline:"middle",fontFamily:Rn.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:Rn.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},t.prototype.renderInner=function(e){this.get("line")&&this.drawLine(e),this.drawTicks(e),this.get("title")&&this.drawTitle(e)},t.prototype.isList=function(){return!0},t.prototype.getItems=function(){return this.get("ticks")},t.prototype.setItems=function(e){this.update({ticks:e})},t.prototype.updateItem=function(e,n){cr(e,n),this.clear(),this.render()},t.prototype.clearItems=function(){var e=this.getElementByLocalId("label-group");e&&e.clear()},t.prototype.setItemState=function(e,n,i){e[n]=i,this.updateTickStates(e)},t.prototype.hasState=function(e,n){return!!e[n]},t.prototype.getItemStates=function(e){var n=this.get("tickStates"),i=[];return q(n,function(a,o){e[o]&&i.push(o)}),i},t.prototype.clearItemsState=function(e){var n=this,i=this.getItemsByState(e);q(i,function(a){n.setItemState(a,e,!1)})},t.prototype.getItemsByState=function(e){var n=this,i=this.getItems();return ko(i,function(a){return n.hasState(a,e)})},t.prototype.getSidePoint=function(e,n){var i=this,a=i.getSideVector(n,e);return{x:e.x+a[0],y:e.y+a[1]}},t.prototype.getTextAnchor=function(e){var n;return Vo(e[0],0)?n="center":e[0]>0?n="start":e[0]<0&&(n="end"),n},t.prototype.getTextBaseline=function(e){var n;return Vo(e[1],0)?n="middle":e[1]>0?n="top":e[1]<0&&(n="bottom"),n},t.prototype.processOverlap=function(e){},t.prototype.drawLine=function(e){var n=this.getLinePath(),i=this.get("line");this.addShape(e,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:cr({path:n},i.style)})},t.prototype.getTickLineItems=function(e){var n=this,i=[],a=this.get("tickLine"),o=a.alignTick,s=a.length,l=1,u=e.length;return u>=2&&(l=e[1].value-e[0].value),q(e,function(c){var f=c.point;o||(f=n.getTickPoint(c.value-l/2));var d=n.getSidePoint(f,s);i.push({startPoint:f,tickValue:c.value,endPoint:d,tickId:c.id,id:"tickline-"+c.id})}),i},t.prototype.getSubTickLineItems=function(e){var n=[],i=this.get("subTickLine"),a=i.count,o=e.length;if(o>=2)for(var s=0;s<o-1;s++)for(var l=e[s],u=e[s+1],c=0;c<a;c++){var f=(c+1)/(a+1),d=(1-f)*l.tickValue+f*u.tickValue,h=this.getTickPoint(d),v=this.getSidePoint(h,i.length);n.push({startPoint:h,endPoint:v,tickValue:d,id:"sub-"+l.id+"-"+c})}return n},t.prototype.getTickLineAttrs=function(e,n,i,a){var o=this.get(n).style,s={points:[e.startPoint,e.endPoint]},l=me(this.get("theme"),["tickLine","style"],{});o=yr(o)?cr({},l,o(s,i,a)):o;var u=e.startPoint,c=e.endPoint;return P({x1:u.x,y1:u.y,x2:c.x,y2:c.y},o)},t.prototype.drawTick=function(e,n,i,a,o){this.addShape(n,{type:"line",id:this.getElementId(e.id),name:"axis-"+i,attrs:this.getTickLineAttrs(e,i,a,o)})},t.prototype.drawTickLines=function(e){var n=this,i=this.get("ticks"),a=this.get("subTickLine"),o=this.getTickLineItems(i),s=this.addGroup(e,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),l=this.get("tickLine");if(q(o,function(c,f){if(l.displayWithLabel){var d=n.getElementId("label-"+c.tickId);e.findById(d)&&n.drawTick(c,s,"tickLine",f,o)}else n.drawTick(c,s,"tickLine",f,o)}),a){var u=this.getSubTickLineItems(o);q(u,function(c,f){n.drawTick(c,s,"subTickLine",f,u)})}},t.prototype.processTicks=function(){var e=this,n=this.get("ticks");q(n,function(i){i.point=e.getTickPoint(i.value),xt(i.id)&&(i.id=i.name)})},t.prototype.drawTicks=function(e){var n=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(e),this.get("tickLine")&&this.drawTickLines(e);var i=this.get("ticks");q(i,function(a){n.applyTickStates(a,e)})},t.prototype.optimizeTicks=function(){var e=this.get("optimize"),n=this.get("ticks");if(e&&e.enable&&e.threshold>0){var i=Qa(n);if(i>e.threshold){var a=Math.ceil(i/e.threshold),o=n.filter(function(s,l){return l%a===0});this.set("ticks",o),this.set("originalTicks",n)}}},t.prototype.getLabelAttrs=function(e,n,i){var a=this.get("label"),o=a.offset,s=a.offsetX,l=a.offsetY,u=a.rotate,c=a.formatter,f=this.getSidePoint(e.point,o),d=this.getSideVector(o,f),h=c?c(e.name,e,n):e.name,v=a.style;v=yr(v)?me(this.get("theme"),["label","style"],{}):v;var p=cr({x:f.x+s,y:f.y+l,text:h,textAlign:this.getTextAnchor(d),textBaseline:this.getTextBaseline(d)},v);return u&&(p.matrix=Dg(f,u)),p},t.prototype.drawLabels=function(e){var n=this,i=this.get("ticks"),a=this.addGroup(e,{name:"axis-label-group",id:this.getElementId("label-group")});q(i,function(d,h){n.addShape(a,{type:"text",name:"axis-label",id:n.getElementId("label-"+d.id),attrs:n.getLabelAttrs(d,h,i),delegateObject:{tick:d,item:d,index:h}})}),this.processOverlap(a);var o=a.getChildren(),s=me(this.get("theme"),["label","style"],{}),l=this.get("label"),u=l.style,c=l.formatter;if(yr(u)){var f=o.map(function(d){return me(d.get("delegateObject"),"tick")});q(o,function(d,h){var v=d.get("delegateObject").tick,p=c?c(v.name,v,h):v.name,g=cr({},s,u(p,h,f));d.attr(g)})}},t.prototype.getTitleAttrs=function(){var e=this.get("title"),n=e.style,i=e.position,a=e.offset,o=e.spacing,s=o===void 0?0:o,l=e.autoRotate,u=n.fontSize,c=.5;i==="start"?c=0:i==="end"&&(c=1);var f=this.getTickPoint(c),d=this.getSidePoint(f,a||s+u/2),h=cr({x:d.x,y:d.y,text:e.text},n),v=e.rotate,p=v;if(xt(v)&&l){var g=this.getAxisVector(f),m=[1,0];p=CF(g,m,!0)}if(p){var y=Dg(d,p);h.matrix=y}return h},t.prototype.drawTitle=function(e){this.addShape(e,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},t.prototype.applyTickStates=function(e,n){var i=this.getItemStates(e);if(i.length){var a=this.get("tickStates"),o=this.getElementId("label-"+e.id),s=n.findById(o);if(s){var l=h1(e,"label",a);l&&s.attr(l)}var u=this.getElementId("tickline-"+e.id),c=n.findById(u);if(c){var f=h1(e,"tickLine",a);f&&c.attr(f)}}},t.prototype.updateTickStates=function(e){var n=this.getItemStates(e),i=this.get("tickStates"),a=this.get("label"),o=this.getElementByLocalId("label-"+e.id),s=this.get("tickLine"),l=this.getElementByLocalId("tickline-"+e.id);if(n.length){if(o){var u=h1(e,"label",i);u&&o.attr(u)}if(l){var c=h1(e,"tickLine",i);c&&l.attr(c)}}else o&&o.attr(a.style),l&&l.attr(s.style)},t}(ds);function GN(r,t,e,n){var i=t.getChildren(),a=!1;return q(i,function(o){var s=G1(r,o,e,n);a=a||s}),a}function AWe(){return Gte}function kWe(r,t,e){return GN(r,t,e,"head")}function Gte(r,t,e){return GN(r,t,e,"tail")}function MWe(r,t,e){return GN(r,t,e,"middle")}var IWe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",getDefault:AWe,ellipsisHead:kWe,ellipsisTail:Gte,ellipsisMiddle:MWe});function PWe(r){var t=r.attr("matrix");return t&&t[0]!==1}function Ute(r){var t=PWe(r)?JVe(r.attr("matrix")):0;return t%360}function EO(r,t,e,n){var i=!1,a=Ute(t),o=Math.abs(r?e.attr("y")-t.attr("y"):e.attr("x")-t.attr("x")),s=(r?e.attr("y")>t.attr("y"):e.attr("x")>t.attr("x"))?t.getBBox():e.getBBox();if(r){var l=Math.abs(Math.cos(a));mT(l,0,Math.PI/180)?i=s.width+n>o:i=s.height/l+n>o}else{var l=Math.abs(Math.sin(a));mT(l,0,Math.PI/180)?i=s.width+n>o:i=s.height/l+n>o}return i}function Iw(r,t,e,n){var i=(n==null?void 0:n.minGap)||0,a=t.getChildren().slice().filter(function(h){return h.get("visible")});if(!a.length)return!1;var o=!1;e&&a.reverse();for(var s=a.length,l=a[0],u=l,c=1;c<s;c++){var f=a[c];f.getBBox();var d=EO(r,u,f,i);d?(f.hide(),o=!0):u=f}return o}function Hte(r,t,e){var n=(e==null?void 0:e.minGap)||0,i=t.getChildren().slice();if(i.length<2)return!1;var a=!1,o=i[0],s=o.getBBox(),l=i[1],u=i.length,c=Ute(o),f=Math.abs(r?l.attr("y")-o.attr("y"):l.attr("x")-o.attr("x")),d=0;if(r){var h=Math.abs(Math.cos(c));if(mT(h,0,Math.PI/180)){var v=CO(i);d=(v+n)/f}else d=(s.height/h+n)/f}else{var h=Math.abs(Math.sin(c));if(mT(h,0,Math.PI/180)){var v=CO(i);d=(v+n)/f}else d=(s.height/h+n)/f}if(d>1){d=Math.ceil(d);for(var p=0;p<u;p++)p%d!==0&&(i[p].hide(),a=!0)}return a}function RWe(){return Vte}function DWe(r,t,e,n){return Iw(r,t,!1,n)}function OWe(r,t,e,n){return Iw(r,t,!0,n)}function LWe(r,t,e,n){var i=(n==null?void 0:n.minGap)||0,a=t.getChildren().slice();if(a.length<=2)return!1;for(var o=!1,s=a.length,l=a[0],u=a[s-1],c=l,f=1;f<s-1;f++){var d=a[f];d.getBBox();var h=EO(r,c,d,i);h?(d.hide(),o=!0):c=d}var v=EO(r,c,u,i);return v&&(c.hide(),o=!0),o}function Vte(r,t,e,n){var i=Hte(r,t,n);return Iw(r,t,!1)&&(i=!0),i}function FWe(r,t,e,n){var i=t.getChildren().slice(),a=Hte(r,t,n);if(i.length>2){var o=i[0],s=i[i.length-1];o.get("visible")||(o.show(),Iw(r,t,!1,n)&&(a=!0)),s.get("visible")||(s.show(),Iw(r,t,!0,n)&&(a=!0))}return a}var NWe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",getDefault:RWe,reserveFirst:DWe,reserveLast:OWe,reserveBoth:LWe,equidistance:Vte,equidistanceWithReverseBoth:FWe});function BWe(r,t){q(r,function(e){var n=e.attr("x"),i=e.attr("y"),a=Dg({x:n,y:i},t);e.attr("matrix",a)})}function Wte(r,t,e,n){var i=t.getChildren();if(!i.length||!r&&i.length<2)return!1;var a=CO(i),o=!1;if(r)o=!!e&&a>e;else{var s=Math.abs(i[1].attr("x")-i[0].attr("x"));o=a>s}if(o){var l=n(e,a);BWe(i,l)}return o}function zWe(){return jte}function jte(r,t,e,n){return Wte(r,t,e,function(){return ir(n)?n:r?Rn.verticalAxisRotate:Rn.horizontalAxisRotate})}function $We(r,t,e){return Wte(r,t,e,function(n,i){if(!n)return r?Rn.verticalAxisRotate:Rn.horizontalAxisRotate;if(r)return-Math.acos(n/i);var a=0;return n>i?a=Math.PI/4:(a=Math.asin(n/i),a>Math.PI/4&&(a=Math.PI/4)),a})}var GWe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",getDefault:zWe,fixedAngle:jte,unfixedAngle:$We}),Yte=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",autoHide:NWe,autoRotate:GWe,autoEllipsis:IWe}),UWe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{type:"line",locationType:"region",start:null,end:null})},t.prototype.getLinePath=function(){var e=this.get("start"),n=this.get("end"),i=[];return i.push(["M",e.x,e.y]),i.push(["L",n.x,n.y]),i},t.prototype.getInnerLayoutBBox=function(){var e=this.get("start"),n=this.get("end"),i=r.prototype.getInnerLayoutBBox.call(this),a=Math.min(e.x,n.x,i.x),o=Math.min(e.y,n.y,i.y),s=Math.max(e.x,n.x,i.maxX),l=Math.max(e.y,n.y,i.maxY);return{x:a,y:o,minX:a,minY:o,maxX:s,maxY:l,width:s-a,height:l-o}},t.prototype.isVertical=function(){var e=this.get("start"),n=this.get("end");return Vo(e.x,n.x)},t.prototype.isHorizontal=function(){var e=this.get("start"),n=this.get("end");return Vo(e.y,n.y)},t.prototype.getTickPoint=function(e){var n=this,i=n.get("start"),a=n.get("end"),o=a.x-i.x,s=a.y-i.y;return{x:i.x+o*e,y:i.y+s*e}},t.prototype.getSideVector=function(e){var n=this.getAxisVector(),i=cv([0,0],n),a=this.get("verticalFactor"),o=[i[1],i[0]*-1];return pa([0,0],o,e*a)},t.prototype.getAxisVector=function(){var e=this.get("start"),n=this.get("end");return[n.x-e.x,n.y-e.y]},t.prototype.processOverlap=function(e){var n=this,i=this.isVertical(),a=this.isHorizontal();if(!(!i&&!a)){var o=this.get("label"),s=this.get("title"),l=this.get("verticalLimitLength"),u=o.offset,c=l,f=0,d=0;s&&(f=s.style.fontSize,d=s.spacing),c&&(c=c-u-d-f);var h=this.get("overlapOrder");if(q(h,function(g){o[g]&&n.canProcessOverlap(g)&&n.autoProcessOverlap(g,o[g],e,c)}),s&&xt(s.offset)){var v=e.getCanvasBBox(),p=i?v.width:v.height;s.offset=u+p+d+f/2}}},t.prototype.canProcessOverlap=function(e){var n=this.get("label");return e==="autoRotate"?xt(n.rotate):!0},t.prototype.autoProcessOverlap=function(e,n,i,a){var o=this,s=this.isVertical(),l=!1,u=Yte[e];if(n===!0)this.get("label"),l=u.getDefault()(s,i,a);else if(yr(n))l=n(s,i,a);else if(Hn(n)){var c=n;u[c.type]&&(l=u[c.type](s,i,a,c.cfg))}else u[n]&&(l=u[n](s,i,a));if(e==="autoRotate"){if(l){var f=i.getChildren(),d=this.get("verticalFactor");q(f,function(v){var p=v.attr("textAlign");if(p==="center"){var g=d>0?"end":"start";v.attr("textAlign",g)}})}}else if(e==="autoHide"){var h=i.getChildren().slice(0);q(h,function(v){v.get("visible")||(o.get("isRegister")&&o.unregisterElement(v),v.remove())})}},t}($te),HWe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},t.prototype.getLinePath=function(){var e=this.get("center"),n=e.x,i=e.y,a=this.get("radius"),o=a,s=this.get("startAngle"),l=this.get("endAngle"),u=[];if(Math.abs(l-s)===Math.PI*2)u=[["M",n,i-o],["A",a,o,0,1,1,n,i+o],["A",a,o,0,1,1,n,i-o],["Z"]];else{var c=this.getCirclePoint(s),f=this.getCirclePoint(l),d=Math.abs(l-s)>Math.PI?1:0,h=s>l?0:1;u=[["M",n,i],["L",c.x,c.y],["A",a,o,0,d,h,f.x,f.y],["L",n,i]]}return u},t.prototype.getTickPoint=function(e){var n=this.get("startAngle"),i=this.get("endAngle"),a=n+(i-n)*e;return this.getCirclePoint(a)},t.prototype.getSideVector=function(e,n){var i=this.get("center"),a=[n.x-i.x,n.y-i.y],o=this.get("verticalFactor"),s=Oy(a);return pa(a,a,o*e/s),a},t.prototype.getAxisVector=function(e){var n=this.get("center"),i=[e.x-n.x,e.y-n.y];return[i[1],-1*i[0]]},t.prototype.getCirclePoint=function(e,n){var i=this.get("center");return n=n||this.get("radius"),{x:i.x+Math.cos(e)*n,y:i.y+Math.sin(e)*n}},t.prototype.canProcessOverlap=function(e){var n=this.get("label");return e==="autoRotate"?xt(n.rotate):!0},t.prototype.processOverlap=function(e){var n=this,i=this.get("label"),a=this.get("title"),o=this.get("verticalLimitLength"),s=i.offset,l=o,u=0,c=0;a&&(u=a.style.fontSize,c=a.spacing),l&&(l=l-s-c-u);var f=this.get("overlapOrder");if(q(f,function(h){i[h]&&n.canProcessOverlap(h)&&n.autoProcessOverlap(h,i[h],e,l)}),a&&xt(a.offset)){var d=e.getCanvasBBox().height;a.offset=s+d+c+u/2}},t.prototype.autoProcessOverlap=function(e,n,i,a){var o=this,s=!1,l=Yte[e];if(a>0)if(n===!0)s=l.getDefault()(!1,i,a);else if(yr(n))s=n(!1,i,a);else if(Hn(n)){var u=n;l[u.type]&&(s=l[u.type](!1,i,a,u.cfg))}else l[n]&&(s=l[n](!1,i,a));if(e==="autoRotate"){if(s){var c=i.getChildren(),f=this.get("verticalFactor");q(c,function(h){var v=h.attr("textAlign");if(v==="center"){var p=f>0?"end":"start";h.attr("textAlign",p)}})}}else if(e==="autoHide"){var d=i.getChildren().slice(0);q(d,function(h){h.get("visible")||(o.get("isRegister")&&o.unregisterElement(h),h.remove())})}},t}($te),UN=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:Rn.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:Rn.textColor,textAlign:"center",textBaseline:"middle",fontFamily:Rn.fontFamily}},textBackground:{padding:5,style:{stroke:Rn.lineColor}}}})},t.prototype.renderInner=function(e){this.get("line")&&this.renderLine(e),this.get("text")&&(this.renderText(e),this.renderBackground(e))},t.prototype.renderText=function(e){var n=this.get("text"),i=n.style,a=n.autoRotate,o=n.content;if(!xt(o)){var s=this.getTextPoint(),l=null;if(a){var u=this.getRotateAngle();l=Dg(s,u)}this.addShape(e,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:P(P(P({},s),{text:o,matrix:l}),i)})}},t.prototype.renderLine=function(e){var n=this.getLinePath(),i=this.get("line"),a=i.style;this.addShape(e,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:P({path:n},a)})},t.prototype.renderBackground=function(e){var n=this.getElementId("text"),i=e.findById(n),a=this.get("textBackground");if(a&&i){var o=i.getBBox(),s=gT(a.padding),l=a.style,u=this.addShape(e,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:P({x:o.x-s[3],y:o.y-s[0],width:o.width+s[1]+s[3],height:o.height+s[0]+s[2],matrix:i.attr("matrix")},l)});u.toBack()}},t}(ds),Xte=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{type:"line",locationType:"region",start:null,end:null})},t.prototype.getRotateAngle=function(){var e=this.getLocation(),n=e.start,i=e.end,a=this.get("text").position,o=Math.atan2(i.y-n.y,i.x-n.x),s=a==="start"?o-Math.PI/2:o+Math.PI/2;return s},t.prototype.getTextPoint=function(){var e=this.getLocation(),n=e.start,i=e.end,a=this.get("text"),o=a.position,s=a.offset;return Bte(n,i,o,s)},t.prototype.getLinePath=function(){var e=this.getLocation(),n=e.start,i=e.end;return[["M",n.x,n.y],["L",i.x,i.y]]},t}(UN),VWe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},t.prototype.getRotateAngle=function(){var e=this.getLocation(),n=e.startAngle,i=e.endAngle,a=this.get("text").position,o=a==="start"?n+Math.PI/2:i-Math.PI/2;return o},t.prototype.getTextPoint=function(){var e=this.get("text"),n=e.position,i=e.offset,a=this.getLocation(),o=a.center,s=a.radius,l=a.startAngle,u=a.endAngle,c=n==="start"?l:u,f=this.getRotateAngle()-Math.PI,d=Qy(o,s,c),h=Math.cos(f)*i,v=Math.sin(f)*i;return{x:d.x+h,y:d.y+v}},t.prototype.getLinePath=function(){var e=this.getLocation(),n=e.center,i=e.radius,a=e.startAngle,o=e.endAngle,s=null;if(o-a===Math.PI*2){var l=n.x,u=n.y;s=[["M",l,u-i],["A",i,i,0,1,1,l,u+i],["A",i,i,0,1,1,l,u-i],["Z"]]}else{var c=Qy(n,i,a),f=Qy(n,i,o),d=Math.abs(o-a)>Math.PI?1:0,h=a>o?0:1;s=[["M",c.x,c.y],["A",i,i,0,d,h,f.x,f.y]]}return s},t}(UN),Pw="g2-crosshair",_O=Pw+"-line",TO=Pw+"-text",Gx,WWe=(Gx={},Gx[""+Pw]={position:"relative"},Gx[""+_O]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},Gx[""+TO]={position:"absolute",color:Rn.textColor,fontFamily:Rn.fontFamily},Gx),jWe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+Pw+'"></div>',crosshairTpl:'<div class="'+_O+'"></div>',textTpl:'<span class="'+TO+'">{content}</span>',domStyles:null,containerClassName:Pw,defaultStyles:WWe,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},t.prototype.render=function(){this.resetText(),this.resetPosition()},t.prototype.initCrossHair=function(){var e=this.getContainer(),n=this.get("crosshairTpl"),i=Ri(n);e.appendChild(i),this.applyStyle(_O,i),this.set("crosshairEl",i)},t.prototype.getTextPoint=function(){var e=this.getLocation(),n=e.start,i=e.end,a=this.get("text"),o=a.position,s=a.offset;return Bte(n,i,o,s)},t.prototype.resetText=function(){var e=this.get("text"),n=this.get("textEl");if(e){var i=e.content;if(!n){var a=this.getContainer(),o=gF(this.get("textTpl"),e);n=Ri(o),a.appendChild(n),this.applyStyle(TO,n),this.set("textEl",n)}n.innerHTML=i}else n&&n.remove()},t.prototype.isVertical=function(e,n){return e.x===n.x},t.prototype.resetPosition=function(){var e=this.get("crosshairEl");e||(this.initCrossHair(),e=this.get("crosshairEl"));var n=this.get("start"),i=this.get("end"),a=Math.min(n.x,i.x),o=Math.min(n.y,i.y);this.isVertical(n,i)?pn(e,{width:"1px",height:rl(Math.abs(i.y-n.y))}):pn(e,{height:"1px",width:rl(Math.abs(i.x-n.x))}),pn(e,{top:rl(o),left:rl(a)}),this.alignText()},t.prototype.alignText=function(){var e=this.get("textEl");if(e){var n=this.get("text").align,i=e.clientWidth,a=this.getTextPoint();switch(n){case"center":a.x=a.x-i/2;break;case"right":a.x=a.x-i}pn(e,{top:rl(a.y),left:rl(a.x)})}},t.prototype.updateInner=function(e){af(e,"text")&&this.resetText(),r.prototype.updateInner.call(this,e)},t}($N),a9=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Line:Xte,Circle:VWe,Base:UN,Html:jWe}),qte=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:Rn.lineColor}}}})},t.prototype.getLineType=function(){var e=this.get("line")||this.get("defaultCfg").line;return e.type},t.prototype.renderInner=function(e){this.drawGrid(e)},t.prototype.getAlternatePath=function(e,n){var i=this.getGridPath(e),a=n.slice(0).reverse(),o=this.getGridPath(a,!0),s=this.get("closed");return s?i=i.concat(o):(o[0][0]="L",i=i.concat(o),i.push(["Z"])),i},t.prototype.getPathStyle=function(){return this.get("line").style},t.prototype.drawGrid=function(e){var n=this,i=this.get("line"),a=this.get("items"),o=this.get("alternateColor"),s=null;q(a,function(l,u){var c=l.id||u;if(i){var f=n.getPathStyle();f=yr(f)?f(l,u,a):f;var d=n.getElementId("line-"+c),h=n.getGridPath(l.points);n.addShape(e,{type:"path",name:"grid-line",id:d,attrs:cr({path:h},f)})}if(o&&u>0){var v=n.getElementId("region-"+c),p=u%2===0;if(wt(o))p&&n.drawAlternateRegion(v,e,s.points,l.points,o);else{var g=p?o[1]:o[0];n.drawAlternateRegion(v,e,s.points,l.points,g)}}s=l})},t.prototype.drawAlternateRegion=function(e,n,i,a,o){var s=this.getAlternatePath(i,a);this.addShape(n,{type:"path",id:e,name:"grid-region",attrs:{path:s,fill:o}})},t}(ds);function YWe(r,t,e,n){var i=e-r,a=n-t;return Math.sqrt(i*i+a*a)}var XWe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{type:"circle",center:null,closed:!0})},t.prototype.getGridPath=function(e,n){var i=this.getLineType(),a=this.get("closed"),o=[];if(e.length)if(i==="circle"){var s=this.get("center"),l=e[0],u=YWe(s.x,s.y,l.x,l.y),c=n?0:1;a?(o.push(["M",s.x,s.y-u]),o.push(["A",u,u,0,0,c,s.x,s.y+u]),o.push(["A",u,u,0,0,c,s.x,s.y-u]),o.push(["Z"])):q(e,function(f,d){d===0?o.push(["M",f.x,f.y]):o.push(["A",u,u,0,0,c,f.x,f.y])})}else q(e,function(f,d){d===0?o.push(["M",f.x,f.y]):o.push(["L",f.x,f.y])}),a&&o.push(["Z"]);return o},t}(qte),qWe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{type:"line"})},t.prototype.getGridPath=function(e){var n=[];return q(e,function(i,a){a===0?n.push(["M",i.x,i.y]):n.push(["L",i.x,i.y])}),n},t}(qte),Kte=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},t.prototype.getLayoutBBox=function(){var e=r.prototype.getLayoutBBox.call(this),n=this.get("maxWidth"),i=this.get("maxHeight"),a=e.width,o=e.height;return n&&(a=Math.min(a,n)),i&&(o=Math.min(o,i)),KA(e.minX,e.minY,a,o)},t.prototype.setLocation=function(e){this.set("x",e.x),this.set("y",e.y),this.resetLocation()},t.prototype.resetLocation=function(){var e=this.get("x"),n=this.get("y"),i=this.get("offsetX"),a=this.get("offsetY");this.moveElementTo(this.get("group"),{x:e+i,y:n+a})},t.prototype.applyOffset=function(){this.resetLocation()},t.prototype.getDrawPoint=function(){return this.get("currentPoint")},t.prototype.setDrawPoint=function(e){return this.set("currentPoint",e)},t.prototype.renderInner=function(e){this.resetDraw(),this.get("title")&&this.drawTitle(e),this.drawLegendContent(e),this.get("background")&&this.drawBackground(e)},t.prototype.drawBackground=function(e){var n=this.get("background"),i=e.getBBox(),a=gT(n.padding),o=P({x:0,y:0,width:i.width+a[1]+a[3],height:i.height+a[0]+a[2]},n.style),s=this.addShape(e,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:o});s.toBack()},t.prototype.drawTitle=function(e){var n=this.get("currentPoint"),i=this.get("title"),a=i.spacing,o=i.style,s=i.text,l=this.addShape(e,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:P({text:s,x:n.x,y:n.y},o)}),u=l.getBBox();this.set("currentPoint",{x:n.x,y:u.maxY+a})},t.prototype.resetDraw=function(){var e=this.get("background"),n={x:0,y:0};if(e){var i=gT(e.padding);n.x=i[3],n.y=i[0]}this.set("currentPoint",n)},t}(ds),DP={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},c2={fill:Rn.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:Rn.fontFamily,fontWeight:"normal",lineHeight:12},OP="navigation-arrow-right",LP="navigation-arrow-left",o9={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},KWe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.currentPageIndex=1,e.totalPagesCnt=1,e.pageWidth=0,e.pageHeight=0,e.startX=0,e.startY=0,e.onNavigationBack=function(){var n=e.getElementByLocalId("item-group");if(e.currentPageIndex>1){e.currentPageIndex-=1,e.updateNavigation();var i=e.getCurrentNavigationMatrix();e.get("animate")?n.animate({matrix:i},100):n.attr({matrix:i})}},e.onNavigationAfter=function(){var n=e.getElementByLocalId("item-group");if(e.currentPageIndex<e.totalPagesCnt){e.currentPageIndex+=1,e.updateNavigation();var i=e.getCurrentNavigationMatrix();e.get("animate")?n.animate({matrix:i},100):n.attr({matrix:i})}},e}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:Rn.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:Rn.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:DP,itemName:{spacing:16,style:c2},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:c2,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:Rn.uncheckedColor},markerStyle:{fill:Rn.uncheckedColor,stroke:Rn.uncheckedColor}},inactive:{nameStyle:{fill:Rn.uncheckedColor},markerStyle:{opacity:.2}}}}})},t.prototype.isList=function(){return!0},t.prototype.getItems=function(){return this.get("items")},t.prototype.setItems=function(e){this.update({items:e})},t.prototype.updateItem=function(e,n){cr(e,n),this.clear(),this.render()},t.prototype.clearItems=function(){var e=this.getElementByLocalId("item-group");e&&e.clear()},t.prototype.setItemState=function(e,n,i){e[n]=i;var a=this.getElementByLocalId("item-"+e.id);if(a){var o=this.getItems(),s=o.indexOf(e),l=this.createOffScreenGroup(),u=this.drawItem(e,s,this.getItemHeight(),l);this.updateElements(u,a),this.clearUpdateStatus(a)}},t.prototype.hasState=function(e,n){return!!e[n]},t.prototype.getItemStates=function(e){var n=this.get("itemStates"),i=[];return q(n,function(a,o){e[o]&&i.push(o)}),i},t.prototype.clearItemsState=function(e){var n=this,i=this.getItemsByState(e);q(i,function(a){n.setItemState(a,e,!1)})},t.prototype.getItemsByState=function(e){var n=this,i=this.getItems();return ko(i,function(a){return n.hasState(a,e)})},t.prototype.drawLegendContent=function(e){this.processItems(),this.drawItems(e)},t.prototype.processItems=function(){var e=this.get("items");q(e,function(n){n.id||(n.id=n.name)})},t.prototype.drawItems=function(e){var n=this,i=this.addGroup(e,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),a=this.addGroup(i,{id:this.getElementId("item-group"),name:"legend-item-group"}),o=this.getItemHeight(),s=this.get("itemWidth"),l=this.get("itemSpacing"),u=this.get("itemMarginBottom"),c=this.get("currentPoint"),f=c.x,d=c.y,h=this.get("layout"),v=this.get("items"),p=!1,g=0,m=this.get("maxWidth"),y=this.get("maxHeight");q(v,function(b,w){var S=n.drawItem(b,w,o,a),E=S.getBBox(),_=s||E.width;_>g&&(g=_),h==="horizontal"?(m&&m<c.x+_-f&&(p=!0,c.x=f,c.y+=o+u),n.moveElementTo(S,c),c.x+=_+l):(y&&y<c.y+o+u-d&&(p=!0,c.x+=g+l,c.y=d,g=0),n.moveElementTo(S,c),c.y+=o+u)}),p&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=f,this.startY=d,this.adjustNavigation(e,a))},t.prototype.getItemHeight=function(){var e=this.get("itemHeight");if(!e){var n=(this.get("itemName")||{}).style;if(yr(n)){var i=this.getItems();i.forEach(function(a,o){var s=P(P({},c2),n(a,o,i)).fontSize;e<s&&(e=s)})}else n&&(e=n.fontSize)}return e},t.prototype.drawMarker=function(e,n,i,a){var o=P(P(P({x:0,y:a/2},n.style),{symbol:me(i.marker,"symbol","circle")}),me(i.marker,"style",{})),s=this.addShape(e,{type:"marker",id:this.getElementId("item-"+i.id+"-marker"),name:"legend-item-marker",attrs:o}),l=s.getBBox();s.attr("x",l.width/2);var u=s.attr(),c=u.stroke,f=u.fill;return c&&s.set("isStroke",!0),f&&s.set("isFill",!0),s},t.prototype.drawItemText=function(e,n,i,a,o,s,l){var u=i.formatter,c=i.style,f=P(P({x:s,y:o/2,text:u?u(a[n],a,l):a[n]},c2),yr(c)?c(a,l,this.getItems()):c);return this.addShape(e,{type:"text",id:this.getElementId("item-"+a.id+"-"+n),name:"legend-item-"+n,attrs:f})},t.prototype.drawRadio=function(e,n,i,a,o){var s,l=n.style||{},u=(s=l.r)!==null&&s!==void 0?s:a/2,c=u*3.6/8,f=[o+u,a/2-u],d=f[0],h=f[1],v=[d+u,h+u],p=v[0],g=v[1],m=[d,g+u],y=m[0],b=m[1],w=[o,h+u],S=w[0],E=w[1],_=i.showRadio,A=P(P({path:[["M",d,h],["A",u,u,0,0,1,p,g],["L",p-c,g],["L",p,g],["A",u,u,0,0,1,y,b],["L",y,b-c],["L",y,b],["A",u,u,0,0,1,S,E],["L",S+c,E],["L",S,E],["A",u,u,0,0,1,d,h],["L",d,h+c]],stroke:"#000000",fill:"#ffffff"},l),{opacity:_?.45:0}),k=this.addShape(e,{type:"path",id:this.getElementId("item-"+i.id+"-radio"),name:"legend-item-radio",attrs:A});return k.set("tip",n.tip),k},t.prototype.drawItem=function(e,n,i,a){var o="item-"+e.id,s=this.addGroup(a,{name:"legend-item-container",id:this.getElementId("item-container-"+o),delegateObject:{item:e,index:n}}),l=this.addGroup(s,{name:"legend-item",id:this.getElementId(o),delegateObject:{item:e,index:n}}),u=this.get("marker"),c=this.get("itemName"),f=this.get("itemValue"),d=this.get("itemBackground"),h=this.get("radio"),v=this.getLimitItemWidth(),p=0;if(u){var g=this.drawMarker(l,u,e,i),m=u.spacing,y=me(e,["marker","spacing"]);ir(y)&&(m=y),p=g.getBBox().maxX+m}if(c){var b=this.drawItemText(l,"name",c,e,i,p,n);v&&G1(!0,b,Bi(v-p,0,v)),p=b.getBBox().maxX+c.spacing}if(f){var w=this.drawItemText(l,"value",f,e,i,p,n);v&&(f.alignRight?(w.attr({textAlign:"right",x:v}),G1(!0,w,Bi(v-p,0,v),"head")):G1(!0,w,Bi(v-p,0,v))),p=w.getBBox().maxX+f.spacing}if(h&&this.drawRadio(l,h,e,i,p),d){var S=l.getBBox(),E=this.addShape(l,{type:"rect",name:"legend-item-background",id:this.getElementId(o+"-background"),attrs:P({x:0,y:0,width:S.width,height:i},d.style)});E.toBack()}return this.applyItemStates(e,l),l},t.prototype.adjustNavigation=function(e,n){var i=this,a=this.startX,o=this.startY,s=this.get("layout"),l=n.findAll(function(T){return T.get("name")==="legend-item"}),u=this.get("maxWidth"),c=this.get("maxHeight"),f=this.get("itemWidth"),d=this.get("itemSpacing"),h=this.getItemHeight(),v=Kt({},DP,this.get("pageNavigator")),p=this.drawNavigation(e,s,"00/00",v),g=p.getBBox(),m={x:a,y:o},y=1,b=0,w=0,S=0,E=this.get("itemMarginBottom");if(s==="horizontal"){var _=this.get("maxRow")||1,A=h+(_===1?0:E);this.pageHeight=A*_,q(l,function(T){var I=T.getBBox(),D=f||I.width;(b&&b<m.x+D+d||u<m.x+D+d+g.width)&&(y===1&&(b=m.x+d,i.pageWidth=b,i.moveElementTo(p,{x:u-d-g.width-g.minX,y:m.y+h/2-g.height/2-g.minY})),y+=1,m.x=a,m.y+=A),i.moveElementTo(T,m),T.getParent().setClip({type:"rect",attrs:{x:m.x,y:m.y,width:D+d,height:h}}),m.x+=D+d})}else{q(l,function(T){var I=T.getBBox();I.width>w&&(w=I.width)}),S=w,w+=d,u&&(w=Math.min(u,w),S=Math.min(u,S)),this.pageWidth=w,this.pageHeight=c-Math.max(g.height,h+E);var k=Math.floor(this.pageHeight/(h+E));q(l,function(T,I){I!==0&&I%k===0&&(y+=1,m.x+=w,m.y=o),i.moveElementTo(T,m),T.getParent().setClip({type:"rect",attrs:{x:m.x,y:m.y,width:w,height:h}}),m.y+=h+E}),this.totalPagesCnt=y,this.moveElementTo(p,{x:a+S/2-g.width/2-g.minX,y:c-g.height-g.minY})}this.pageHeight&&this.pageWidth&&n.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),s==="horizontal"&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(y/this.get("maxRow")):this.totalPagesCnt=y,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(p),n.attr("matrix",this.getCurrentNavigationMatrix())},t.prototype.drawNavigation=function(e,n,i,a){var o={x:0,y:0},s=this.addGroup(e,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),l=me(a.marker,"style",{}),u=l.size,c=u===void 0?12:u,f=xn(l,["size"]),d=this.drawArrow(s,o,LP,n==="horizontal"?"up":"left",c,f);d.on("click",this.onNavigationBack);var h=d.getBBox();o.x+=h.width+2;var v=this.addShape(s,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:P({x:o.x,y:o.y+c/2,text:i,textBaseline:"middle"},me(a.text,"style"))}),p=v.getBBox();o.x+=p.width+2;var g=this.drawArrow(s,o,OP,n==="horizontal"?"down":"right",c,f);return g.on("click",this.onNavigationAfter),s},t.prototype.updateNavigation=function(e){var n=Kt({},DP,this.get("pageNavigator")),i=n.marker.style,a=i.fill,o=i.opacity,s=i.inactiveFill,l=i.inactiveOpacity,u=this.currentPageIndex+"/"+this.totalPagesCnt,c=e?e.getChildren()[1]:this.getElementByLocalId("navigation-text"),f=e?e.findById(this.getElementId(LP)):this.getElementByLocalId(LP),d=e?e.findById(this.getElementId(OP)):this.getElementByLocalId(OP);c.attr("text",u),f.attr("opacity",this.currentPageIndex===1?l:o),f.attr("fill",this.currentPageIndex===1?s:a),f.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),d.attr("opacity",this.currentPageIndex===this.totalPagesCnt?l:o),d.attr("fill",this.currentPageIndex===this.totalPagesCnt?s:a),d.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var h=f.getBBox().maxX+2;c.attr("x",h),h+=c.getBBox().width+2,this.updateArrowPath(d,{x:h,y:0})},t.prototype.drawArrow=function(e,n,i,a,o,s){var l=n.x,u=n.y,c=this.addShape(e,{type:"path",id:this.getElementId(i),name:i,attrs:P({size:o,direction:a,path:[["M",l+o/2,u],["L",l,u+o],["L",l+o,u+o],["Z"]],cursor:"pointer"},s)});return c.attr("matrix",Dg({x:l+o/2,y:u+o/2},o9[a])),c},t.prototype.updateArrowPath=function(e,n){var i=n.x,a=n.y,o=e.attr(),s=o.size,l=o.direction,u=Dg({x:i+s/2,y:a+s/2},o9[l]);e.attr("path",[["M",i+s/2,a],["L",i,a+s],["L",i+s,a+s],["Z"]]),e.attr("matrix",u)},t.prototype.getCurrentNavigationMatrix=function(){var e=this,n=e.currentPageIndex,i=e.pageWidth,a=e.pageHeight,o=this.get("layout"),s=o==="horizontal"?{x:0,y:a*(1-n)}:{x:i*(1-n),y:0};return BN(s)},t.prototype.applyItemStates=function(e,n){var i=this.getItemStates(e),a=i.length>0;if(a){var o=n.getChildren(),s=this.get("itemStates");q(o,function(l){var u=l.get("name"),c=u.split("-")[2],f=h1(e,c,s);f&&(l.attr(f),c==="marker"&&!(l.get("isStroke")&&l.get("isFill"))&&(l.get("isStroke")&&l.attr("fill",null),l.get("isFill")&&l.attr("stroke",null)))})}},t.prototype.getLimitItemWidth=function(){var e=this.get("itemWidth"),n=this.get("maxItemWidth");return n?e&&(n=e<=n?e:n):e&&(n=e),n},t}(Kte),ZWe=1.4,s9=.4,QWe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:Rn.textColor,textBaseline:"middle",fontFamily:Rn.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:Rn.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},t.prototype.isSlider=function(){return!0},t.prototype.getValue=function(){return this.getCurrentValue()},t.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},t.prototype.setRange=function(e,n){this.update({min:e,max:n})},t.prototype.setValue=function(e){var n=this.getValue();this.set("value",e);var i=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(i),this.delegateEmit("valuechanged",{originValue:n,value:e})},t.prototype.initEvent=function(){var e=this.get("group");this.bindSliderEvent(e),this.bindRailEvent(e),this.bindTrackEvent(e)},t.prototype.drawLegendContent=function(e){this.drawRail(e),this.drawLabels(e),this.fixedElements(e),this.resetTrack(e),this.resetTrackClip(e),this.get("slidable")&&this.resetHandlers(e)},t.prototype.bindSliderEvent=function(e){this.bindHandlersEvent(e)},t.prototype.bindHandlersEvent=function(e){var n=this;e.on("legend-handler-min:drag",function(i){var a=n.getValueByCanvasPoint(i.x,i.y),o=n.getCurrentValue(),s=o[1];s<a&&(s=a),n.setValue([a,s])}),e.on("legend-handler-max:drag",function(i){var a=n.getValueByCanvasPoint(i.x,i.y),o=n.getCurrentValue(),s=o[0];s>a&&(s=a),n.setValue([s,a])})},t.prototype.bindRailEvent=function(e){},t.prototype.bindTrackEvent=function(e){var n=this,i=null;e.on("legend-track:dragstart",function(a){i={x:a.x,y:a.y}}),e.on("legend-track:drag",function(a){if(!!i){var o=n.getValueByCanvasPoint(i.x,i.y),s=n.getValueByCanvasPoint(a.x,a.y),l=n.getCurrentValue(),u=l[1]-l[0],c=n.getRange(),f=s-o;f<0?l[0]+f>c.min?n.setValue([l[0]+f,l[1]+f]):n.setValue([c.min,c.min+u]):f>0&&(f>0&&l[1]+f<c.max?n.setValue([l[0]+f,l[1]+f]):n.setValue([c.max-u,c.max])),i={x:a.x,y:a.y}}}),e.on("legend-track:dragend",function(a){i=null})},t.prototype.drawLabels=function(e){this.drawLabel("min",e),this.drawLabel("max",e)},t.prototype.drawLabel=function(e,n){var i=this.get("label"),a=i.style,o=i.align,s=i.formatter,l=this.get(e),u=this.getLabelAlignAttrs(e,o),c="label-"+e;this.addShape(n,{type:"text",id:this.getElementId(c),name:"legend-label-"+e,attrs:P(P({x:0,y:0,text:yr(s)?s(l):l},a),u)})},t.prototype.getLabelAlignAttrs=function(e,n){var i=this.isVertical(),a="center",o="middle";return i?(a="start",n!=="rail"?e==="min"?o="top":o="bottom":o="top"):n!=="rail"?(o="top",e==="min"?a="start":a="end"):(a="start",o="middle"),{textAlign:a,textBaseline:o}},t.prototype.getRailPath=function(e,n,i,a){var o=this.get("rail"),s=o.size,l=o.defaultLength,u=o.type,c=this.isVertical(),f=l,d=i,h=a;d||(d=c?s:f),h||(h=c?f:s);var v=[];return u==="color"?(v.push(["M",e,n]),v.push(["L",e+d,n]),v.push(["L",e+d,n+h]),v.push(["L",e,n+h]),v.push(["Z"])):(v.push(["M",e+d,n]),v.push(["L",e+d,n+h]),v.push(["L",e,n+h]),v.push(["Z"])),v},t.prototype.drawRail=function(e){var n=this.get("rail"),i=n.style;this.addShape(e,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:P({path:this.getRailPath(0,0)},i)})},t.prototype.getTrackColor=function(e){var n=e.length;if(!n)return null;if(n===1)return e[0];var i;this.isVertical()?i="l(90)":i="l(0)";for(var a=0;a<n;a++){var o=a/(n-1);i+=" "+o+":"+e[a]}return i},t.prototype.getTrackPath=function(e){var n=this.getRailShape(e),i=n.attr("path");return Jr(i)},t.prototype.getClipTrackAttrs=function(e){var n=this.getCurrentValue(),i=n[0],a=n[1],o=this.getRailBBox(e),s=this.getPointByValue(i,e),l=this.getPointByValue(a,e),u=this.isVertical(),c,f,d,h;return u?(c=o.minX,f=s.y,d=o.width,h=l.y-s.y):(c=s.x,f=o.minY,d=l.x-s.x,h=o.height),{x:c,y:f,width:d,height:h}},t.prototype.getTrackAttrs=function(e){var n=this.get("track"),i=this.get("colors"),a=this.getTrackPath(e);return cr({path:a,fill:this.getTrackColor(i)},n.style)},t.prototype.resetTrackClip=function(e){var n=e||this.get("group"),i=this.getElementId("track"),a=n.findById(i),o=a.getClip(),s=this.getClipTrackAttrs(e);o?o.attr(s):a.setClip({type:"rect",attrs:s})},t.prototype.resetTrack=function(e){var n=this.getElementId("track"),i=e.findById(n),a=this.getTrackAttrs(e);i?i.attr(a):this.addShape(e,{type:"path",id:n,draggable:this.get("slidable"),name:"legend-track",attrs:a})},t.prototype.getPointByValue=function(e,n){var i=this.getRange(),a=i.min,o=i.max,s=(e-a)/(o-a),l=this.getRailBBox(n),u=this.isVertical(),c={x:0,y:0};return u?(c.x=l.minX+l.width/2,c.y=vg(l.minY,l.maxY,s)):(c.x=vg(l.minX,l.maxX,s),c.y=l.minY+l.height/2),c},t.prototype.getRailShape=function(e){var n=e||this.get("group");return n.findById(this.getElementId("rail"))},t.prototype.getRailBBox=function(e){var n=this.getRailShape(e),i=n.getBBox();return i},t.prototype.getRailCanvasBBox=function(){var e=this.get("group"),n=e.findById(this.getElementId("rail")),i=n.getCanvasBBox();return i},t.prototype.isVertical=function(){return this.get("layout")==="vertical"},t.prototype.getValueByCanvasPoint=function(e,n){var i=this.getRange(),a=i.min,o=i.max,s=this.getRailCanvasBBox(),l=this.isVertical(),u=this.get("step"),c;l?c=(n-s.minY)/s.height:c=(e-s.minX)/s.width;var f=vg(a,o,c);if(u){var d=Math.round((f-a)/u);f=a+d*u}return f>o&&(f=o),f<a&&(f=a),f},t.prototype.getCurrentValue=function(){var e=this.get("value");if(!e){var n=this.get("values");return n?[Math.max(Math.min.apply(Math,ki(n,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,ki(n,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return e},t.prototype.resetHandlers=function(e){var n=this.getCurrentValue(),i=n[0],a=n[1];this.resetHandler(e,"min",i),this.resetHandler(e,"max",a)},t.prototype.getHandlerPath=function(e,n){var i=this.isVertical(),a=[],o=e.size,s=n.x,l=n.y,u=o*ZWe,c=o/2,f=o/6;if(i){var d=s+u*s9;a.push(["M",s,l]),a.push(["L",d,l+c]),a.push(["L",s+u,l+c]),a.push(["L",s+u,l-c]),a.push(["L",d,l-c]),a.push(["Z"]),a.push(["M",d,l+f]),a.push(["L",s+u-2,l+f]),a.push(["M",d,l-f]),a.push(["L",s+u-2,l-f])}else{var h=l+u*s9;a.push(["M",s,l]),a.push(["L",s-c,h]),a.push(["L",s-c,l+u]),a.push(["L",s+c,l+u]),a.push(["L",s+c,h]),a.push(["Z"]),a.push(["M",s-f,h]),a.push(["L",s-f,l+u-2]),a.push(["M",s+f,h]),a.push(["L",s+f,l+u-2])}return a},t.prototype.resetHandler=function(e,n,i){var a=this.getPointByValue(i,e),o=this.get("handler"),s=this.getHandlerPath(o,a),l=this.getElementId("handler-"+n),u=e.findById(l),c=this.isVertical();u?u.attr("path",s):this.addShape(e,{type:"path",name:"legend-handler-"+n,draggable:!0,id:l,attrs:P(P({path:s},o.style),{cursor:c?"ns-resize":"ew-resize"})})},t.prototype.fixedElements=function(e){var n=e.findById(this.getElementId("rail")),i=e.findById(this.getElementId("label-min")),a=e.findById(this.getElementId("label-max")),o=this.getDrawPoint();this.isVertical()?this.fixedVertail(i,a,n,o):this.fixedHorizontal(i,a,n,o)},t.prototype.fitRailLength=function(e,n,i,a){var o=this.isVertical(),s=o?"height":"width",l=this.get("label"),u=l.align,c=l.spacing,f=this.get("max"+Ju(s));if(f){var d=u==="rail"?i[s]+e[s]+n[s]+c*2:i[s],h=d-f;h>0&&this.changeRailLength(a,s,i[s]-h)}},t.prototype.changeRailLength=function(e,n,i){var a=e.getBBox(),o;n==="height"?o=this.getRailPath(a.x,a.y,a.width,i):o=this.getRailPath(a.x,a.y,i,a.height),e.attr("path",o)},t.prototype.changeRailPosition=function(e,n,i){var a=e.getBBox(),o=this.getRailPath(n,i,a.width,a.height);e.attr("path",o)},t.prototype.fixedHorizontal=function(e,n,i,a){var o=this.get("label"),s=o.align,l=o.spacing,u=i.getBBox(),c=e.getBBox(),f=n.getBBox(),d=u.height;this.fitRailLength(c,f,u,i),u=i.getBBox(),s==="rail"?(e.attr({x:a.x,y:a.y+d/2}),this.changeRailPosition(i,a.x+c.width+l,a.y),n.attr({x:a.x+c.width+u.width+l*2,y:a.y+d/2})):s==="top"?(e.attr({x:a.x,y:a.y}),n.attr({x:a.x+u.width,y:a.y}),this.changeRailPosition(i,a.x,a.y+c.height+l)):(this.changeRailPosition(i,a.x,a.y),e.attr({x:a.x,y:a.y+u.height+l}),n.attr({x:a.x+u.width,y:a.y+u.height+l}))},t.prototype.fixedVertail=function(e,n,i,a){var o=this.get("label"),s=o.align,l=o.spacing,u=i.getBBox(),c=e.getBBox(),f=n.getBBox();if(this.fitRailLength(c,f,u,i),u=i.getBBox(),s==="rail")e.attr({x:a.x,y:a.y}),this.changeRailPosition(i,a.x,a.y+c.height+l),n.attr({x:a.x,y:a.y+c.height+u.height+l*2});else if(s==="right")e.attr({x:a.x+u.width+l,y:a.y}),this.changeRailPosition(i,a.x,a.y),n.attr({x:a.x+u.width+l,y:a.y+u.height});else{var d=Math.max(c.width,f.width);e.attr({x:a.x,y:a.y}),this.changeRailPosition(i,a.x+d+l,a.y),n.attr({x:a.x,y:a.y+u.height})}},t}(Kte),Og="g2-tooltip",Lg="g2-tooltip-title",Rw="g2-tooltip-list",QA="g2-tooltip-list-item",JA="g2-tooltip-marker",ek="g2-tooltip-value",Zte="g2-tooltip-name",HN="g2-tooltip-crosshair-x",VN="g2-tooltip-crosshair-y",JWe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",CONTAINER_CLASS:Og,TITLE_CLASS:Lg,LIST_CLASS:Rw,LIST_ITEM_CLASS:QA,MARKER_CLASS:JA,VALUE_CLASS:ek,NAME_CLASS:Zte,CROSSHAIR_X:HN,CROSSHAIR_Y:VN}),Lc,e9e=(Lc={},Lc[""+Og]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:Rn.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Lc[""+Lg]={marginBottom:"4px"},Lc[""+Rw]={margin:"0px",listStyleType:"none",padding:"0px"},Lc[""+QA]={listStyleType:"none",marginBottom:"4px"},Lc[""+JA]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Lc[""+ek]={display:"inline-block",float:"right",marginLeft:"30px"},Lc[""+HN]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Lc[""+VN]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Lc);function t9e(r,t,e,n,i){var a={left:r<i.x,right:r+e>i.x+i.width,top:t<i.y,bottom:t+n>i.y+i.height};return a}function r9e(r,t,e,n,i,a){var o=r,s=t;switch(a){case"left":o=r-n-e,s=t-i/2;break;case"right":o=r+e,s=t-i/2;break;case"top":o=r-n/2,s=t-i-e;break;case"bottom":o=r-n/2,s=t+e;break;default:o=r+e,s=t-i-e;break}return{x:o,y:s}}function n9e(r,t,e,n,i,a,o){var s=r9e(r,t,e,n,i,a);if(o){var l=t9e(s.x,s.y,n,i,o);a==="auto"?(l.right&&(s.x=Math.max(0,r-n-e)),l.top&&(s.y=Math.max(0,t-i-e))):a==="top"||a==="bottom"?(l.left&&(s.x=o.x),l.right&&(s.x=o.x+o.width-n),a==="top"&&l.top&&(s.y=t+e),a==="bottom"&&l.bottom&&(s.y=t-i-e)):(l.top&&(s.y=o.y),l.bottom&&(s.y=o.y+o.height-i),a==="left"&&l.left&&(s.x=r+e),a==="right"&&l.right&&(s.x=r-n-e))}return s}function i9e(r,t){var e=!1;return q(t,function(n){if(af(r,n))return e=!0,!1}),e}var a9e=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+Og+'"><div class="'+Lg+'"></div><ul class="'+Rw+'"></ul></div>',itemTpl:'<li class="'+QA+`" data-index={index}>
          <span class="`+JA+`" style="background:{color}"></span>
          <span class="`+Zte+`">{name}</span>:
          <span class="`+ek+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+HN+'"></div>',yCrosshairTpl:'<div class="'+VN+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:Og,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:e9e})},t.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},t.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},t.prototype.show=function(){var e=this.getContainer();!e||this.destroyed||(this.set("visible",!0),pn(e,{visibility:"visible"}),this.setCrossHairsVisible(!0))},t.prototype.hide=function(){var e=this.getContainer();!e||this.destroyed||(this.set("visible",!1),pn(e,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},t.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},t.prototype.setLocation=function(e){this.set("x",e.x),this.set("y",e.y),this.resetPosition()},t.prototype.setCrossHairsVisible=function(e){var n=e?"":"none",i=this.get("xCrosshairDom"),a=this.get("yCrosshairDom");i&&pn(i,{display:n}),a&&pn(a,{display:n})},t.prototype.initContainer=function(){if(r.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var e=this.getHtmlContentNode();this.get("parent").appendChild(e),this.set("container",e),this.resetStyles(),this.applyStyles()}},t.prototype.updateInner=function(e){this.get("customContent")?this.renderCustomContent():(i9e(e,["title","showTitle"])&&this.resetTitle(),af(e,"items")&&this.renderItems()),r.prototype.updateInner.call(this,e)},t.prototype.initDom=function(){this.cacheDoms()},t.prototype.removeDom=function(){r.prototype.removeDom.call(this),this.clearCrosshairs()},t.prototype.resetPosition=function(){var e=this.get("x"),n=this.get("y"),i=this.get("offset"),a=this.getOffset(),o=a.offsetX,s=a.offsetY,l=this.get("position"),u=this.get("region"),c=this.getContainer(),f=this.getBBox(),d=f.width,h=f.height,v;u&&(v=Mw(u));var p=n9e(e,n,i,d,h,l,v);pn(c,{left:rl(p.x+o),top:rl(p.y+s)}),this.resetCrosshairs()},t.prototype.renderCustomContent=function(){var e=this.getHtmlContentNode(),n=this.get("parent"),i=this.get("container");i&&i.parentNode===n?n.replaceChild(e,i):n.appendChild(e),this.set("container",e),this.resetStyles(),this.applyStyles()},t.prototype.getHtmlContentNode=function(){var e,n=this.get("customContent");if(n){var i=n(this.get("title"),this.get("items"));yF(i)?e=i:e=Ri(i)}return e},t.prototype.cacheDoms=function(){var e=this.getContainer(),n=e.getElementsByClassName(Lg)[0],i=e.getElementsByClassName(Rw)[0];this.set("titleDom",n),this.set("listDom",i)},t.prototype.resetTitle=function(){var e=this.get("title"),n=this.get("showTitle");n&&e?this.setTitle(e):this.setTitle("")},t.prototype.setTitle=function(e){var n=this.get("titleDom");n&&(n.innerText=e)},t.prototype.resetCrosshairs=function(){var e=this.get("crosshairsRegion"),n=this.get("crosshairs");if(!e||!n)this.clearCrosshairs();else{var i=Mw(e),a=this.get("xCrosshairDom"),o=this.get("yCrosshairDom");n==="x"?(this.resetCrosshair("x",i),o&&(o.remove(),this.set("yCrosshairDom",null))):n==="y"?(this.resetCrosshair("y",i),a&&(a.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",i),this.resetCrosshair("y",i)),this.setCrossHairsVisible(this.get("visible"))}},t.prototype.resetCrosshair=function(e,n){var i=this.checkCrosshair(e),a=this.get(e);e==="x"?pn(i,{left:rl(a),top:rl(n.y),height:rl(n.height)}):pn(i,{top:rl(a),left:rl(n.x),width:rl(n.width)})},t.prototype.checkCrosshair=function(e){var n=e+"CrosshairDom",i=e+"CrosshairTpl",a="CROSSHAIR_"+e.toUpperCase(),o=JWe[a],s=this.get(n),l=this.get("parent");return s||(s=Ri(this.get(i)),this.applyStyle(o,s),l.appendChild(s),this.set(n,s)),s},t.prototype.renderItems=function(){this.clearItemDoms();var e=this.get("items"),n=this.get("itemTpl"),i=this.get("listDom");i&&(q(e,function(a){var o=fv.toCSSGradient(a.color),s=P(P({},a),{color:o}),l=gF(n,s),u=Ri(l);i.appendChild(u)}),this.applyChildrenStyles(i,this.get("domStyles")))},t.prototype.clearItemDoms=function(){this.get("listDom")&&zN(this.get("listDom"))},t.prototype.clearCrosshairs=function(){var e=this.get("xCrosshairDom"),n=this.get("yCrosshairDom");e&&e.remove(),n&&n.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},t}($N),o9e={opacity:0},s9e={stroke:"#C5C5C5",strokeOpacity:.85},l9e={fill:"#CACED4",opacity:.85};function u9e(r){return Di(r,function(t,e){var n=e===0?"M":"L",i=t[0],a=t[1];return[n,i,a]})}function Qte(r){return u9e(r)}function c9e(r){if(r.length<=2)return Qte(r);var t=[];q(r,function(o){Zi(o,t.slice(t.length-2))||t.push(o[0],o[1])});var e=HF(t,!1),n=Fs(r),i=n[0],a=n[1];return e.unshift(["M",i,a]),e}function f9e(r,t,e,n){n===void 0&&(n=!0);var i=new Jg({values:r}),a=new J0({values:Di(r,function(s,l){return l})}),o=Di(r,function(s,l){return[a.scale(l)*t,e-i.scale(s)*e]});return n?c9e(o):Qte(o)}function d9e(r,t){var e=new Jg({values:r}),n=e.max<0?e.max:Math.max(0,e.min);return t-e.scale(n)*t}function h9e(r,t,e,n){var i=ki(r),a=d9e(n,e);return i.push(["L",t,a]),i.push(["L",0,a]),i.push(["Z"]),i}var v9e=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:o9e,lineStyle:s9e,areaStyle:l9e})},t.prototype.renderInner=function(e){var n=this.cfg,i=n.width,a=n.height,o=n.data,s=n.smooth,l=n.isArea,u=n.backgroundStyle,c=n.lineStyle,f=n.areaStyle;this.addShape(e,{id:this.getElementId("background"),type:"rect",attrs:P({x:0,y:0,width:i,height:a},u)});var d=f9e(o,i,a,s);if(this.addShape(e,{id:this.getElementId("line"),type:"path",attrs:P({path:d},c)}),l){var h=h9e(d,i,a,o);this.addShape(e,{id:this.getElementId("area"),type:"path",attrs:P({path:h},f)})}},t.prototype.applyOffset=function(){var e=this.cfg,n=e.x,i=e.y;this.moveElementTo(this.get("group"),{x:n,y:i})},t}(ds),Jte={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},l9=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"handler",x:0,y:0,width:10,height:24,style:Jte})},t.prototype.renderInner=function(e){var n=this.cfg,i=n.width,a=n.height,o=n.style,s=o.fill,l=o.stroke,u=o.radius,c=o.opacity,f=o.cursor;this.addShape(e,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:i,height:a,fill:s,stroke:l,radius:u,opacity:c,cursor:f}});var d=1/3*i,h=2/3*i,v=1/4*a,p=3/4*a;this.addShape(e,{id:this.getElementId("line-left"),type:"line",attrs:{x1:d,y1:v,x2:d,y2:p,stroke:l,cursor:f}}),this.addShape(e,{id:this.getElementId("line-right"),type:"line",attrs:{x1:h,y1:v,x2:h,y2:p,stroke:l,cursor:f}})},t.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},t.prototype.initEvent=function(){this.bindEvents()},t.prototype.bindEvents=function(){var e=this;this.get("group").on("mouseenter",function(){var n=e.get("style").highLightFill;e.getElementByLocalId("background").attr("fill",n),e.draw()}),this.get("group").on("mouseleave",function(){var n=e.get("style").fill;e.getElementByLocalId("background").attr("fill",n),e.draw()})},t.prototype.draw=function(){var e=this.get("container").get("canvas");e&&e.draw()},t}(ds),p9e={fill:"#416180",opacity:.05},g9e={fill:"#5B8FF9",opacity:.15,cursor:"move"},K2=10,m9e={width:K2,height:24},y9e={textBaseline:"middle",fill:"#000",opacity:.45},b9e="sliderchange",x9e=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.onMouseDown=function(n){return function(i){e.currentTarget=n;var a=i.originalEvent;a.stopPropagation(),a.preventDefault(),e.prevX=me(a,"touches.0.pageX",a.pageX),e.prevY=me(a,"touches.0.pageY",a.pageY);var o=e.getContainerDOM();o.addEventListener("mousemove",e.onMouseMove),o.addEventListener("mouseup",e.onMouseUp),o.addEventListener("mouseleave",e.onMouseUp),o.addEventListener("touchmove",e.onMouseMove),o.addEventListener("touchend",e.onMouseUp),o.addEventListener("touchcancel",e.onMouseUp)}},e.onMouseMove=function(n){var i=e.cfg.width,a=[e.get("start"),e.get("end")];n.stopPropagation(),n.preventDefault();var o=me(n,"touches.0.pageX",n.pageX),s=me(n,"touches.0.pageY",n.pageY),l=o-e.prevX,u=e.adjustOffsetRange(l/i);e.updateStartEnd(u),e.updateUI(e.getElementByLocalId("foreground"),e.getElementByLocalId("minText"),e.getElementByLocalId("maxText")),e.prevX=o,e.prevY=s,e.draw(),e.emit(b9e,[e.get("start"),e.get("end")].sort()),e.delegateEmit("valuechanged",{originValue:a,value:[e.get("start"),e.get("end")]})},e.onMouseUp=function(){e.currentTarget&&(e.currentTarget=void 0);var n=e.getContainerDOM();n&&(n.removeEventListener("mousemove",e.onMouseMove),n.removeEventListener("mouseup",e.onMouseUp),n.removeEventListener("mouseleave",e.onMouseUp),n.removeEventListener("touchmove",e.onMouseMove),n.removeEventListener("touchend",e.onMouseUp),n.removeEventListener("touchcancel",e.onMouseUp))},e}return t.prototype.setRange=function(e,n){this.set("minLimit",e),this.set("maxLimit",n);var i=this.get("start"),a=this.get("end"),o=Bi(i,e,n),s=Bi(a,e,n);!this.get("isInit")&&(i!==o||a!==s)&&this.setValue([o,s])},t.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},t.prototype.setValue=function(e){var n=this.getRange();if(gt(e)&&e.length===2){var i=[this.get("start"),this.get("end")];this.update({start:Bi(e[0],n.min,n.max),end:Bi(e[1],n.min,n.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:i,value:e})}},t.prototype.getValue=function(){return[this.get("start"),this.get("end")]},t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:p9e,foregroundStyle:g9e,handlerStyle:m9e,textStyle:y9e}})},t.prototype.update=function(e){var n=e.start,i=e.end,a=P({},e);xt(n)||(a.start=Bi(n,0,1)),xt(i)||(a.end=Bi(i,0,1)),r.prototype.update.call(this,a),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},t.prototype.init=function(){this.set("start",Bi(this.get("start"),0,1)),this.set("end",Bi(this.get("end"),0,1)),r.prototype.init.call(this)},t.prototype.render=function(){r.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},t.prototype.renderInner=function(e){var n=this.cfg;n.start,n.end;var i=n.width,a=n.height,o=n.trendCfg,s=o===void 0?{}:o,l=n.minText,u=n.maxText,c=n.backgroundStyle,f=c===void 0?{}:c,d=n.foregroundStyle,h=d===void 0?{}:d,v=n.textStyle,p=v===void 0?{}:v,g=Kt({},Jte,this.cfg.handlerStyle);Qa(me(s,"data"))&&(this.trend=this.addComponent(e,P({component:v9e,id:this.getElementId("trend"),x:0,y:0,width:i,height:a},s))),this.addShape(e,{id:this.getElementId("background"),type:"rect",attrs:P({x:0,y:0,width:i,height:a},f)}),this.addShape(e,{id:this.getElementId("minText"),type:"text",attrs:P({y:a/2,textAlign:"right",text:l,silent:!1},p)}),this.addShape(e,{id:this.getElementId("maxText"),type:"text",attrs:P({y:a/2,textAlign:"left",text:u,silent:!1},p)}),this.addShape(e,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:P({y:0,height:a},h)});var m=me(g,"width",K2),y=me(g,"height",24);this.minHandler=this.addComponent(e,{component:l9,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(a-y)/2,width:m,height:y,cursor:"ew-resize",style:g}),this.maxHandler=this.addComponent(e,{component:l9,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(a-y)/2,width:m,height:y,cursor:"ew-resize",style:g})},t.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},t.prototype.initEvent=function(){this.bindEvents()},t.prototype.updateUI=function(e,n,i){var a=this.cfg,o=a.start,s=a.end,l=a.width,u=a.minText,c=a.maxText,f=a.handlerStyle,d=a.height,h=o*l,v=s*l;this.trend&&(this.trend.update({width:l,height:d}),this.get("updateAutoRender")||this.trend.render()),e.attr("x",h),e.attr("width",v-h);var p=me(f,"width",K2);n.attr("text",u),i.attr("text",c);var g=this._dodgeText([h,v],n,i),m=g[0],y=g[1];this.minHandler&&(this.minHandler.update({x:h-p/2}),this.get("updateAutoRender")||this.minHandler.render()),q(m,function(b,w){return n.attr(w,b)}),this.maxHandler&&(this.maxHandler.update({x:v-p/2}),this.get("updateAutoRender")||this.maxHandler.render()),q(y,function(b,w){return i.attr(w,b)})},t.prototype.bindEvents=function(){var e=this.get("group");e.on("handler-min:mousedown",this.onMouseDown("minHandler")),e.on("handler-min:touchstart",this.onMouseDown("minHandler")),e.on("handler-max:mousedown",this.onMouseDown("maxHandler")),e.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var n=e.findById(this.getElementId("foreground"));n.on("mousedown",this.onMouseDown("foreground")),n.on("touchstart",this.onMouseDown("foreground"))},t.prototype.adjustOffsetRange=function(e){var n=this.cfg,i=n.start,a=n.end;switch(this.currentTarget){case"minHandler":{var o=0-i,s=1-i;return Math.min(s,Math.max(o,e))}case"maxHandler":{var o=0-a,s=1-a;return Math.min(s,Math.max(o,e))}case"foreground":{var o=0-i,s=1-a;return Math.min(s,Math.max(o,e))}}},t.prototype.updateStartEnd=function(e){var n=this.cfg,i=n.start,a=n.end;switch(this.currentTarget){case"minHandler":i+=e;break;case"maxHandler":a+=e;break;case"foreground":i+=e,a+=e;break}this.set("start",i),this.set("end",a)},t.prototype._dodgeText=function(e,n,i){var a,o,s=this.cfg,l=s.handlerStyle,u=s.width,c=2,f=me(l,"width",K2),d=e[0],h=e[1],v=!1;d>h&&(a=[h,d],d=a[0],h=a[1],o=[i,n],n=o[0],i=o[1],v=!0);var p=n.getBBox(),g=i.getBBox(),m=p.width>d-c?{x:d+f/2+c,textAlign:"left"}:{x:d-f/2-c,textAlign:"right"},y=g.width>u-h-c?{x:h-f/2-c,textAlign:"right"}:{x:h+f/2+c,textAlign:"left"};return v?[y,m]:[m,y]},t.prototype.draw=function(){var e=this.get("container"),n=e&&e.get("canvas");n&&n.draw()},t.prototype.getContainerDOM=function(){var e=this.get("container"),n=e&&e.get("canvas");return n&&n.get("container")},t}(ds),w9e={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},FP={default:w9e,hover:{thumbColor:"rgba(0,0,0,0.2)"}},S9e=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.clearEvents=pd,e.onStartEvent=function(n){return function(i){e.isMobile=n,i.originalEvent.preventDefault();var a=n?me(i.originalEvent,"touches.0.clientX"):i.clientX,o=n?me(i.originalEvent,"touches.0.clientY"):i.clientY;e.startPos=e.cfg.isHorizontal?a:o,e.bindLaterEvent()}},e.bindLaterEvent=function(){var n=e.getContainerDOM(),i=[];e.isMobile?i=[qu(n,"touchmove",e.onMouseMove),qu(n,"touchend",e.onMouseUp),qu(n,"touchcancel",e.onMouseUp)]:i=[qu(n,"mousemove",e.onMouseMove),qu(n,"mouseup",e.onMouseUp),qu(n,"mouseleave",e.onMouseUp)],e.clearEvents=function(){i.forEach(function(a){a.remove()})}},e.onMouseMove=function(n){var i=e.cfg,a=i.isHorizontal,o=i.thumbOffset;n.preventDefault();var s=e.isMobile?me(n,"touches.0.clientX"):n.clientX,l=e.isMobile?me(n,"touches.0.clientY"):n.clientY,u=a?s:l,c=u-e.startPos;e.startPos=u,e.updateThumbOffset(o+c)},e.onMouseUp=function(n){n.preventDefault(),e.clearEvents()},e.onTrackClick=function(n){var i=e.cfg,a=i.isHorizontal,o=i.x,s=i.y,l=i.thumbLen,u=e.getContainerDOM(),c=u.getBoundingClientRect(),f=n.clientX,d=n.clientY,h=a?f-c.left-o-l/2:d-c.top-s-l/2,v=e.validateRange(h);e.updateThumbOffset(v)},e.onThumbMouseOver=function(){var n=e.cfg.theme.hover.thumbColor;e.getElementByLocalId("thumb").attr("stroke",n),e.draw()},e.onThumbMouseOut=function(){var n=e.cfg.theme.default.thumbColor;e.getElementByLocalId("thumb").attr("stroke",n),e.draw()},e}return t.prototype.setRange=function(e,n){this.set("minLimit",e),this.set("maxLimit",n);var i=this.getValue(),a=Bi(i,e,n);i!==a&&!this.get("isInit")&&this.setValue(a)},t.prototype.getRange=function(){var e=this.get("minLimit")||0,n=this.get("maxLimit")||1;return{min:e,max:n}},t.prototype.setValue=function(e){var n=this.getRange(),i=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Bi(e,n.min,n.max)}),this.delegateEmit("valuechange",{originalValue:i,value:this.getValue()})},t.prototype.getValue=function(){return Bi(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return P(P({},e),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:FP})},t.prototype.renderInner=function(e){this.renderTrackShape(e),this.renderThumbShape(e)},t.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},t.prototype.initEvent=function(){this.bindEvents()},t.prototype.renderTrackShape=function(e){var n=this.cfg,i=n.trackLen,a=n.theme,o=a===void 0?{default:{}}:a,s=Kt({},FP,o).default,l=s.lineCap,u=s.trackColor,c=s.size,f=me(this.cfg,"size",c),d=this.get("isHorizontal")?{x1:0+f/2,y1:f/2,x2:i-f/2,y2:f/2,lineWidth:f,stroke:u,lineCap:l}:{x1:f/2,y1:0+f/2,x2:f/2,y2:i-f/2,lineWidth:f,stroke:u,lineCap:l};return this.addShape(e,{id:this.getElementId("track"),name:"track",type:"line",attrs:d})},t.prototype.renderThumbShape=function(e){var n=this.cfg,i=n.thumbOffset,a=n.thumbLen,o=n.theme,s=Kt({},FP,o).default,l=s.size,u=s.lineCap,c=s.thumbColor,f=me(this.cfg,"size",l),d=this.get("isHorizontal")?{x1:i+f/2,y1:f/2,x2:i+a-f/2,y2:f/2,lineWidth:f,stroke:c,lineCap:u,cursor:"default"}:{x1:f/2,y1:i+f/2,x2:f/2,y2:i+a-f/2,lineWidth:f,stroke:c,lineCap:u,cursor:"default"};return this.addShape(e,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:d})},t.prototype.bindEvents=function(){var e=this.get("group");e.on("mousedown",this.onStartEvent(!1)),e.on("mouseup",this.onMouseUp),e.on("touchstart",this.onStartEvent(!0)),e.on("touchend",this.onMouseUp);var n=e.findById(this.getElementId("track"));n.on("click",this.onTrackClick);var i=e.findById(this.getElementId("thumb"));i.on("mouseover",this.onThumbMouseOver),i.on("mouseout",this.onThumbMouseOut)},t.prototype.getContainerDOM=function(){var e=this.get("container"),n=e&&e.get("canvas");return n&&n.get("container")},t.prototype.validateRange=function(e){var n=this.cfg,i=n.thumbLen,a=n.trackLen,o=e;return e+i>a?o=a-i:e+i<i&&(o=0),o},t.prototype.draw=function(){var e=this.get("container"),n=e&&e.get("canvas");n&&n.draw()},t.prototype.updateThumbOffset=function(e){var n=this.cfg,i=n.thumbOffset,a=n.isHorizontal,o=n.thumbLen,s=n.size,l=this.validateRange(e);if(l!==i){var u=this.getElementByLocalId("thumb");a?u.attr({x1:l+s/2,x2:l+o-s/2}):u.attr({y1:l+s/2,y2:l+o-s/2}),this.emitOffsetChange(l)}},t.prototype.emitOffsetChange=function(e){var n=this.cfg,i=n.thumbOffset,a=n.trackLen,o=n.thumbLen;this.cfg.thumbOffset=e,this.emit("scrollchange",{thumbOffset:e,ratio:Bi(e/(a-o),0,1)}),this.delegateEmit("valuechange",{originalValue:i,value:e})},t}(ds),C9e=UWe,E9e=HWe,_9e=qWe,T9e=XWe,u9=KWe,A9e=QWe,WN=a9e;function k9e(r){if(Bs(r))return null;var t=r[0].x,e=r[0].x,n=r[0].y,i=r[0].y;return q(r,function(a){t=t>a.x?a.x:t,e=e<a.x?a.x:e,n=n>a.y?a.y:n,i=i<a.y?a.y:i}),{minX:t,maxX:e,minY:n,maxY:i,centerX:(t+e)/2,centerY:(n+i)/2}}function c9(r){return Array.from(new Set(r)).length===1}function f9(r){return(Os(r)+bs(r))/2}function Ga(r,t,e,n){return{x:r+e*Math.cos(n),y:t+e*Math.sin(n)}}function dv(r,t,e,n,i,a){a===void 0&&(a=0);var o=Ga(r,t,e,n),s=Ga(r,t,e,i),l=Ga(r,t,a,n),u=Ga(r,t,a,i);if(i-n===Math.PI*2){var c=Ga(r,t,e,n+Math.PI),f=Ga(r,t,a,n+Math.PI),d=[["M",o.x,o.y],["A",e,e,0,1,1,c.x,c.y],["A",e,e,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(d.push(["A",a,a,0,1,0,f.x,f.y]),d.push(["A",a,a,0,1,0,u.x,u.y])),d.push(["M",o.x,o.y]),d.push(["Z"]),d}var h=i-n<=Math.PI?0:1,v=[["M",o.x,o.y],["A",e,e,0,h,1,s.x,s.y],["L",u.x,u.y]];return a&&v.push(["A",a,a,0,h,0,l.x,l.y]),v.push(["L",o.x,o.y]),v.push(["Z"]),v}function ere(r,t,e,n,i){var a=Ga(r,t,e,n),o=Ga(r,t,e,i);if(Vo(i-n,Math.PI*2)){var s=Ga(r,t,e,n+Math.PI);return[["M",a.x,a.y],["A",e,e,0,1,1,s.x,s.y],["A",e,e,0,1,1,a.x,a.y],["A",e,e,0,1,0,s.x,s.y],["A",e,e,0,1,0,a.x,a.y],["Z"]]}var l=i-n<=Math.PI?0:1;return[["M",a.x,a.y],["A",e,e,0,l,1,o.x,o.y]]}function Dw(r,t){var e=r.points,n=k9e(e),i,a,o=t.startAngle,s=t.endAngle,l=s-o;return t.isTransposed?(i=n.maxY*l,a=n.minY*l):(i=n.maxX*l,a=n.minX*l),i+=o,a+=o,{startAngle:a,endAngle:i}}function M9e(r,t){if(ir(r)&&ir(t))return[r,t];if(r=r,t=t,c9(r)||c9(t))return[f9(r),f9(t)];for(var e=-1,n=0,i=0,a,o=r.length-1,s,l=0;++e<r.length;)a=o,o=e,l+=s=r[a]*t[o]-r[o]*t[a],n+=(r[a]+r[o])*s,i+=(t[a]+t[o])*s;return l*=3,[n/l,i/l]}function tre(r,t){var e=r.attr(),n=t.attr();return q(e,function(i,a){n[a]===void 0&&(n[a]=void 0)}),n}function Gy(r,t,e){var n=Math.min(t,e),i=Math.max(t,e);return r>=n&&r<=i}function I9e(r,t,e){if(wt(r))return r.padEnd(t,e);if(gt(r)){var n=r.length;if(n<t)for(var i=t-n,a=0;a<i;a++)r.push(e)}return r}function nl(r,t){return typeof r=="object"&&t.forEach(function(e){delete r[e]}),r}function Zh(r,t,e){t===void 0&&(t=[]),e===void 0&&(e=new Map);for(var n=0,i=r;n<i.length;n++){var a=i[n];e.has(a)||(t.push(a),e.set(a,!0))}return t}var Ns=function(){function r(t,e,n,i){t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=t,this.y=e,this.height=i,this.width=n}return r.fromRange=function(t,e,n,i){return new r(t,e,n-t,i-e)},r.fromObject=function(t){return new r(t.minX,t.minY,t.width,t.height)},Object.defineProperty(r.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),r.prototype.isEqual=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},r.prototype.contains=function(t){return t.minX>=this.minX&&t.maxX<=this.maxX&&t.minY>=this.minY&&t.maxY<=this.maxY},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return q(t,function(i){n.x=Math.min(i.x,n.x),n.y=Math.min(i.y,n.y),n.width=Math.max(i.maxX,n.maxX)-n.x,n.height=Math.max(i.maxY,n.maxY)-n.y}),n},r.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return q(t,function(i){n.x=Math.max(i.x,n.x),n.y=Math.max(i.y,n.y),n.width=Math.min(i.maxX,n.maxX)-n.x,n.height=Math.min(i.maxY,n.maxY)-n.y}),n},r.prototype.cut=function(t,e){var n=t.width,i=t.height;switch(e){case ur.TOP:case ur.TOP_LEFT:case ur.TOP_RIGHT:return r.fromRange(this.minX,this.minY+i,this.maxX,this.maxY);case ur.RIGHT:case ur.RIGHT_TOP:case ur.RIGHT_BOTTOM:return r.fromRange(this.minX,this.minY,this.maxX-n,this.maxY);case ur.BOTTOM:case ur.BOTTOM_LEFT:case ur.BOTTOM_RIGHT:return r.fromRange(this.minX,this.minY,this.maxX,this.maxY-i);case ur.LEFT:case ur.LEFT_TOP:case ur.LEFT_BOTTOM:return r.fromRange(this.minX+n,this.minY,this.maxX,this.maxY);default:return this}},r.prototype.shrink=function(t){var e=t[0],n=t[1],i=t[2],a=t[3];return new r(this.x+a,this.y+e,this.width-a-n,this.height-e-i)},r.prototype.expand=function(t){var e=t[0],n=t[1],i=t[2],a=t[3];return new r(this.x-a,this.y-e,this.width+a+n,this.height+e+i)},r.prototype.exceed=function(t){return[Math.max(-this.minY+t.minY,0),Math.max(this.maxX-t.maxX,0),Math.max(this.maxY-t.maxY,0),Math.max(-this.minX+t.minX,0)]},r.prototype.collide=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},r.prototype.size=function(){return this.width*this.height},r.prototype.isPointIn=function(t){return t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY},r}();function P9e(r){return[[r.minX,r.minY],[r.maxX,r.minY],[r.maxX,r.maxY],[r.minX,r.maxY]]}function SS(r){if(r.isPolar&&!r.isTransposed)return(r.endAngle-r.startAngle)*r.getRadius();var t=r.convert({x:0,y:0}),e=r.convert({x:1,y:0});return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function R9e(r){if(r.isPolar){var t=r.startAngle,e=r.endAngle;return e-t===Math.PI*2}return!1}function tk(r,t){var e=r.getCenter();return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function AO(r,t){var e=!1;if(r)if(r.type==="theta"){var n=r.start,i=r.end;e=Gy(t.x,n.x,i.x)&&Gy(t.y,n.y,i.y)}else{var a=r.invert(t);e=Gy(a.x,0,1)&&Gy(a.y,0,1)}return e}function _0(r,t){var e=r.getCenter();return Math.atan2(t.y-e.y,t.x-e.x)}function jN(r,t){t===void 0&&(t=0);var e=r.start,n=r.end,i=r.getWidth(),a=r.getHeight();if(r.isPolar){var o=r.startAngle,s=r.endAngle,l=r.getCenter(),u=r.getRadius();return{type:"path",startState:{path:dv(l.x,l.y,u+t,o,o)},endState:function(f){var d=(s-o)*f+o,h=dv(l.x,l.y,u+t,o,d);return{path:h}},attrs:{path:dv(l.x,l.y,u+t,o,s)}}}var c;return r.isTransposed?c={height:a+t*2}:c={width:i+t*2},{type:"rect",startState:{x:e.x-t,y:n.y-t,width:r.isTransposed?i+t*2:0,height:r.isTransposed?0:a+t*2},endState:c,attrs:{x:e.x-t,y:n.y-t,width:i+t*2,height:a+t*2}}}function D9e(r,t){t===void 0&&(t=0);var e=r.start,n=r.end,i=r.getWidth(),a=r.getHeight(),o=Math.min(e.x,n.x),s=Math.min(e.y,n.y);return Ns.fromRange(o-t,s-t,o+i+t,s+a+t)}var O9e=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function L9e(r){var t="linear";return O9e.test(r)?t="timeCat":wt(r)&&(t="cat"),t}function rre(r,t,e,n){return t===void 0&&(t={}),t.type?t.type:r.type!=="identity"&&$y.includes(e)&&["interval"].includes(n)||r.isCategory?"cat":r.type}function F9e(r,t,e){var n=t||[];if(ir(r)||xt(sK(n,r))&&Bs(e)){var i=dO("identity");return new i({field:r.toString(),values:[r]})}var a=xu(n,r),o=me(e,"type",L9e(a[0])),s=dO(o);return new s(P({field:r,values:a},e))}function N9e(r,t){if(r.type!=="identity"&&t.type!=="identity"){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);r.change(e)}}function Ow(r){return r.alias||r.field}function nre(r,t,e){var n=r.values,i=n.length,a;if(i===1)a=[.5,1];else{var o=1,s=0;R9e(t)?t.isTransposed?(o=me(e,"widthRatio.multiplePie",1/1.3),s=1/i*o,a=[s/2,1-s/2]):a=[0,1-1/i]:(s=1/i/2,a=[s,1-s])}return a}function B9e(r){var t=r.values.filter(function(e){return!xt(e)&&!isNaN(e)});return Math.max.apply(Math,$i($i([],t,!1),[xt(r.max)?-1/0:r.max],!1))}function z9e(r){var t,e;switch(r){case ur.TOP:t={x:0,y:1},e={x:1,y:1};break;case ur.RIGHT:t={x:1,y:0},e={x:1,y:1};break;case ur.BOTTOM:t={x:0,y:0},e={x:1,y:0};break;case ur.LEFT:t={x:0,y:0},e={x:0,y:1};break;default:t=e={x:0,y:0}}return{start:t,end:e}}function $9e(r){var t,e;return r.isTransposed?(t={x:0,y:0},e={x:1,y:0}):(t={x:0,y:0},e={x:0,y:1}),{start:t,end:e}}function f2(r,t){var e={start:{x:0,y:0},end:{x:0,y:0}};r.isRect?e=z9e(t):r.isPolar&&(e=$9e(r));var n=e.start,i=e.end;return{start:r.convert(n),end:r.convert(i)}}function ire(r){var t=r.start,e=r.end;return t.x===e.x}function d9(r,t){var e=r.start,n=r.end,i=ire(r);return i?(e.y-n.y)*(t.x-e.x)>0?1:-1:(n.x-e.x)*(e.y-t.y)>0?-1:1}function d2(r,t){var e=me(r,["components","axis"],{});return Kt({},me(e,["common"],{}),Kt({},me(e,[t],{})))}function h9(r,t,e){var n=me(r,["components","axis"],{});return Kt({},me(n,["common","title"],{}),Kt({},me(n,[t,"title"],{})),e)}function NP(r){var t=r.x,e=r.y,n=r.circleCenter,i=e.start>e.end,a=r.isTransposed?r.convert({x:i?0:1,y:0}):r.convert({x:0,y:i?0:1}),o=[a.x-n.x,a.y-n.y],s=[1,0],l=a.y>n.y?iD(o,s):iD(o,s)*-1,u=l+(t.end-t.start),c=Math.sqrt(Math.pow(a.x-n.x,2)+Math.pow(a.y-n.y,2));return{center:n,radius:c,startAngle:l,endAngle:u}}function yT(r,t){return Pd(r)?r===!1?!1:{}:me(r,[t])}function v9(r,t){return me(r,"position",t)}function p9(r,t){return me(t,["title","text"],Ow(r))}var eb=function(){function r(t,e){this.destroyed=!1,this.facets=[],this.view=t,this.cfg=Kt({},this.getDefaultCfg(),e)}return r.prototype.init=function(){this.container||(this.container=this.createContainer());var t=this.view.getData();this.facets=this.generateFacets(t)},r.prototype.render=function(){this.renderViews()},r.prototype.update=function(){},r.prototype.clear=function(){this.clearFacetViews()},r.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},r.prototype.facetToView=function(t){var e=t.region,n=t.data,i=t.padding,a=i===void 0?this.cfg.padding:i,o=this.view.createView({region:e,padding:a});o.data(n||[]),t.view=o,this.beforeEachView(o,t);var s=this.cfg.eachView;return s&&s(o,t),this.afterEachView(o,t),o},r.prototype.createContainer=function(){var t=this.view.getLayer(Da.FORE);return t.addGroup()},r.prototype.renderViews=function(){this.createFacetViews()},r.prototype.createFacetViews=function(){var t=this;return this.facets.map(function(e){return t.facetToView(e)})},r.prototype.clearFacetViews=function(){var t=this;q(this.facets,function(e){e.view&&(t.view.removeView(e.view),e.view=void 0)})},r.prototype.parseSpacing=function(){var t=this.view.viewBBox,e=t.width,n=t.height,i=this.cfg.spacing;return i.map(function(a,o){return ir(a)?a/(o===0?e:n):parseFloat(a)/100})},r.prototype.getFieldValues=function(t,e){var n=[],i={};return q(t,function(a){var o=a[e];!xt(o)&&!i[o]&&(n.push(o),i[o]=!0)}),n},r.prototype.getRegion=function(t,e,n,i){var a=this.parseSpacing(),o=a[0],s=a[1],l=(1+o)/(e===0?1:e)-o,u=(1+s)/(t===0?1:t)-s,c={x:(l+o)*n,y:(u+s)*i},f={x:c.x+l,y:c.y+u};return{start:c,end:f}},r.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},r.prototype.getDefaultTitleCfg=function(){var t=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:t}}},r.prototype.processAxis=function(t,e){var n=t.getOptions(),i=n.coordinate,a=t.geometries,o=me(i,"type","rect");if(o==="rect"&&a.length){xt(n.axes)&&(n.axes={});var s=n.axes,l=a[0].getXYFields(),u=l[0],c=l[1],f=yT(s,u),d=yT(s,c);f!==!1&&(n.axes[u]=this.getXAxisOption(u,s,f,e)),d!==!1&&(n.axes[c]=this.getYAxisOption(c,s,d,e))}},r.prototype.getFacetDataFilter=function(t){return function(e){return mA(t,function(n){var i=n.field,a=n.value;return!xt(a)&&i?e[i]===a:!0})}},r}(),are={},G9e=function(r){return are[Xg(r)]},tb=function(r,t){are[Xg(r)]=t},ia=function(){function r(t,e){this.context=t,this.cfg=e,t.addAction(this)}return r.prototype.applyCfg=function(t){cr(this,t)},r.prototype.init=function(){this.applyCfg(this.cfg)},r.prototype.destroy=function(){this.context.removeAction(this),this.context=null},r}(),U9e=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.execute=function(){this.callback&&this.callback(this.context)},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.callback=null},t}(ia),YN={};function H9e(r,t){var e=YN[r],n=null;if(e){var i=e.ActionClass,a=e.cfg;n=new i(t,a),n.name=r,n.init()}return n}function rk(r){var t=YN[r];return me(t,"ActionClass")}function Gr(r,t,e){YN[r]={ActionClass:t,cfg:e}}function V9e(r,t){var e=new U9e(t);return e.callback=r,e.name="callback",e}function W9e(r,t){var e=[];if(r.length){e.push(["M",r[0].x,r[0].y]);for(var n=1,i=r.length;n<i;n+=1){var a=r[n];e.push(["L",a.x,a.y])}t&&e.push(["Z"])}return e}function kO(r,t){for(var e=[r[0]],n=1,i=r.length;n<i;n=n+2){var a=t.convert({x:r[n],y:r[n+1]});e.push(a.x,a.y)}return e}function ore(r,t){var e=t.isTransposed,n=r[1],i=r[6],a=r[7],o=t.convert({x:i,y:a}),s=e?0:1;return["A",n,n,0,0,s,o.x,o.y]}function j9e(r,t,e){var n=e.isTransposed,i=e.startAngle,a=e.endAngle,o=r[0].toLowerCase()==="a"?{x:r[6],y:r[7]}:{x:r[1],y:r[2]},s={x:t[1],y:t[2]},l=[],u=n?"y":"x",c=Math.abs(s[u]-o[u])*(a-i),f=s[u]>=o[u]?1:0,d=c>Math.PI?1:0,h=e.convert(s),v=tk(e,h);if(v>=.5)if(c===Math.PI*2){var p={x:(s.x+o.x)/2,y:(s.y+o.y)/2},g=e.convert(p);l.push(["A",v,v,0,d,f,g.x,g.y]),l.push(["A",v,v,0,d,f,h.x,h.y])}else l.push(["A",v,v,0,d,f,h.x,h.y]);return l}function Y9e(r){q(r,function(t,e){var n=t;if(n[0].toLowerCase()==="a"){var i=r[e-1],a=r[e+1];a&&a[0].toLowerCase()==="a"?i&&i[0].toLowerCase()==="l"&&(i[0]="M"):i&&i[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var X9e=function(r,t,e,n){var i=[],a=!!n,o,s,l,u,c,f,d;if(a){l=n[0],u=n[1];for(var h=0,v=r.length;h<v;h++){var p=r[h];l=zo([0,0],l,p),u=$o([0,0],u,p)}}for(var h=0,g=r.length;h<g;h++){var p=r[h];if(h===0&&!e)d=p;else if(h===g-1&&!e)f=p,i.push(d),i.push(f);else{o=r[e?h?h-1:g-1:h-1],s=r[e?(h+1)%g:h+1];var m=[0,0];m=lg(m,s,o),m=pa(m,m,t);var y=y0(p,o),b=y0(p,s),w=y+b;w!==0&&(y/=w,b/=w);var S=pa([0,0],m,-y),E=pa([0,0],m,b);f=Pa([0,0],p,S),c=Pa([0,0],p,E),c=zo([0,0],c,$o([0,0],s,p)),c=$o([0,0],c,zo([0,0],s,p)),S=lg([0,0],c,p),S=pa([0,0],S,-y/b),f=Pa([0,0],p,S),f=zo([0,0],f,$o([0,0],o,p)),f=$o([0,0],f,zo([0,0],o,p)),E=lg([0,0],p,f),E=pa([0,0],E,b/y),c=Pa([0,0],p,E),a&&(f=$o([0,0],f,l),f=zo([0,0],f,u),c=$o([0,0],c,l),c=zo([0,0],c,u)),i.push(d),i.push(f),d=c}}return e&&i.push(i.shift()),i};function sre(r,t,e){for(var n=!!t,i=[],a=0,o=r.length;a<o;a+=2)i.push([r[a],r[a+1]]);for(var s=X9e(i,.4,n,e),l=i.length,u=[],c,f,d,a=0;a<l-1;a++)c=s[a*2],f=s[a*2+1],d=i[a+1],u.push(["C",c[0],c[1],f[0],f[1],d[0],d[1]]);return n&&(c=s[l],f=s[l+1],d=i[0],u.push(["C",c[0],c[1],f[0],f[1],d[0],d[1]])),u}function CS(r,t){return W9e(r,t)}function bT(r,t,e){var n=[],i=r[0],a=null;if(r.length<=2)return CS(r,t);for(var o=0,s=r.length;o<s;o++){var l=r[o];(!a||!(a.x===l.x&&a.y===l.y))&&(n.push(l.x),n.push(l.y),a=l)}var u=e||[[0,0],[1,1]],c=sre(n,t,u);return c.unshift(["M",i.x,i.y]),c}function q9e(r,t){var e=[];return q(t,function(n){var i=n[0];switch(i.toLowerCase()){case"m":case"l":case"c":e.push(kO(n,r));break;case"a":e.push(ore(n,r));break;case"z":default:e.push(n);break}}),e}function K9e(r,t){var e=[],n,i,a,o;return q(t,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":e.push(kO(s,r));break;case"l":n=t[l-1],i=s,a=r.isTransposed,o=a?n[n.length-2]===i[1]:n[n.length-1]===i[2],o?e=e.concat(j9e(n,i,r)):e.push(kO(s,r));break;case"a":e.push(ore(s,r));break;case"z":default:e.push(s);break}}),Y9e(e),e}function lre(r,t){var e=r.event,n=e.target,i=n.getCanvasBBox();return i.width>=t||i.height>=t?i:null}function Z9e(r,t){var e=r.event,n=e.target,i=n.getCanvasBBox();return i.width>=t||i.height>=t?n.attr("path"):null}function Sv(r){var t=r.event,e,n=t.target;return n&&(e=n.get("element")),e}function T0(r){var t=r.event,e=t.target,n;return e&&(n=e.get("delegateObject")),n}function ure(r){var t=r.event.gEvent;return!(t&&t.fromShape&&t.toShape&&t.fromShape.get("element")===t.toShape.get("element"))}function Lw(r){return r&&r.component&&r.component.isList()}function cre(r){return r&&r.component&&r.component.isSlider()}function Fw(r){var t=r.event,e=t.target;return e&&e.get("name")==="mask"}function XN(r,t){var e=r.event.target;if(e.get("type")==="path"){var n=Z9e(r,t);return n?e7e(r.view,n):void 0}var i=lre(r,t);return i?qN(r.view,i):null}function fre(r,t,e){var n=lre(r,e);if(!n)return null;var i=r.view,a=MO(i,t,{x:n.x,y:n.y}),o=MO(i,t,{x:n.maxX,y:n.maxY}),s={minX:a.x,minY:a.y,maxX:o.x,maxY:o.y};return qN(t,s)}function jo(r){var t=r.geometries,e=[];return q(t,function(n){var i=n.elements;e=e.concat(i)}),r.views&&r.views.length&&q(r.views,function(n){e=e.concat(jo(n))}),e}function Q9e(r,t,e){var n=jo(r);return n.filter(function(i){return tc(i,t)===e})}function dre(r,t){var e=r.geometries,n=[];return q(e,function(i){var a=i.getElementsBy(function(o){return o.hasState(t)});n=n.concat(a)}),n}function tc(r,t){var e=r.getModel(),n=e.data,i;return gt(n)?i=n[0][t]:i=n[t],i}function J9e(r,t){return!(t.minX>r.maxX||t.maxX<r.minX||t.minY>r.maxY||t.maxY<r.minY)}function qN(r,t){var e=jo(r),n=[];return q(e,function(i){var a=i.shape,o=a.getCanvasBBox();J9e(t,o)&&n.push(i)}),n}function g9(r){var t=[];return q(r,function(e){var n=e[0];if(n!=="A")for(var i=1;i<e.length;i=i+2)t.push([e[i],e[i+1]]);else{var a=e.length;t.push([e[a-2],e[a-1]])}}),t}function e7e(r,t){var e=jo(r),n=g9(t),i=e.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=g9(o.attr("path"));else{var l=o.getCanvasBBox();s=P9e(l)}return dIe(n,s)});return i}function hre(r){return r.getComponents().map(function(t){return t.component})}function KN(r,t){var e=t.x-r.x,n=t.y-r.y;return Math.sqrt(e*e+n*n)}function t7e(r,t){if(r.length<=2)return CS(r,!1);var e=r[0],n=[];q(r,function(a){n.push(a.x),n.push(a.y)});var i=sre(n,t,null);return i.unshift(["M",e.x,e.y]),i}function m9(r,t){return r.x<=t.x&&r.maxX>=t.x&&r.y<=t.y&&r.maxY>t.y}function Qc(r){var t=r.parent,e=null;return t&&(e=t.views.filter(function(n){return n!==r})),e}function r7e(r,t){var e=r.getCoordinate();return e.invert(t)}function MO(r,t,e){var n=r7e(r,e);return t.getCoordinate().convert(n)}function vre(r,t,e,n){var i=!1;return q(r,function(a){if(a[e]===t[e]&&a[n]===t[n])return i=!0,!1}),i}function A0(r,t){var e=r.getScaleByField(t);return!e&&r.views&&q(r.views,function(n){if(e=A0(n,t),e)return!1}),e}var n7e=function(){function r(t){this.actions=[],this.event=null,this.cacheMap={},this.view=t}return r.prototype.cache=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)return this.cacheMap[t[0]];t.length===2&&(this.cacheMap[t[0]]=t[1])},r.prototype.getAction=function(t){return this.actions.find(function(e){return e.name===t})},r.prototype.addAction=function(t){this.actions.push(t)},r.prototype.removeAction=function(t){var e=this.actions,n=this.actions.indexOf(t);n>=0&&e.splice(n,1)},r.prototype.getCurrentPoint=function(){var t=this.event;if(t)if(t.target instanceof HTMLElement){var e=this.view.getCanvas(),n=e.getPointByClient(t.clientX,t.clientY);return n}else return{x:t.x,y:t.y};return null},r.prototype.getCurrentShape=function(){return me(this.event,["gEvent","shape"])},r.prototype.isInPlot=function(){var t=this.getCurrentPoint();return t?this.view.isPointInPlot(t):!1},r.prototype.isInShape=function(t){var e=this.getCurrentShape();return e?e.get("name")===t:!1},r.prototype.isInComponent=function(t){var e=hre(this.view),n=this.getCurrentPoint();return n?!!e.find(function(i){var a=i.getBBox();return t?i.get("name")===t&&m9(a,n):m9(a,n)}):!1},r.prototype.destroy=function(){q(this.actions.slice(),function(t){t.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},r}(),i7e=function(){function r(t,e){this.view=t,this.cfg=e}return r.prototype.init=function(){this.initEvents()},r.prototype.initEvents=function(){},r.prototype.clearEvents=function(){},r.prototype.destroy=function(){this.clearEvents()},r}();function y9(r,t,e){var n=r.split(":"),i=n[0],a=t.getAction(i)||H9e(i,t);if(!a)throw new Error("There is no action named ".concat(i));var o=n[1];return{action:a,methodName:o,arg:e}}function b9(r){var t=r.action,e=r.methodName,n=r.arg;if(t[e])t[e](n);else throw new Error("Action(".concat(t.name,") doesn't have a method called ").concat(e))}var Il={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},a7e=function(r){Ve(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.callbackCaches={},i.emitCaches={},i.steps=n,i}return t.prototype.init=function(){this.initContext(),r.prototype.init.call(this)},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},t.prototype.initEvents=function(){var e=this;q(this.steps,function(n,i){q(n,function(a){var o=e.getActionCallback(i,a);o&&e.bindEvent(a.trigger,o)})})},t.prototype.clearEvents=function(){var e=this;q(this.steps,function(n,i){q(n,function(a){var o=e.getActionCallback(i,a);o&&e.offEvent(a.trigger,o)})})},t.prototype.initContext=function(){var e=this.view,n=new n7e(e);this.context=n;var i=this.steps;q(i,function(a){q(a,function(o){if(yr(o.action))o.actionObject={action:V9e(o.action,n),methodName:"execute"};else if(wt(o.action))o.actionObject=y9(o.action,n,o.arg);else if(gt(o.action)){var s=o.action,l=gt(o.arg)?o.arg:[o.arg];o.actionObject=[],q(s,function(u,c){o.actionObject.push(y9(u,n,l[c]))})}})})},t.prototype.isAllowStep=function(e){var n=this.currentStepName,i=this.steps;if(n===e||e===Il.SHOW_ENABLE)return!0;if(e===Il.PROCESSING)return n===Il.START;if(e===Il.START)return n!==Il.PROCESSING;if(e===Il.END)return n===Il.PROCESSING||n===Il.START;if(e===Il.ROLLBACK){if(i[Il.END])return n===Il.END;if(n===Il.START)return!0}return!1},t.prototype.isAllowExecute=function(e,n){if(this.isAllowStep(e)){var i=this.getKey(e,n);return n.once&&this.emitCaches[i]?!1:n.isEnable?n.isEnable(this.context):!0}return!1},t.prototype.enterStep=function(e){this.currentStepName=e,this.emitCaches={}},t.prototype.afterExecute=function(e,n){e!==Il.SHOW_ENABLE&&this.currentStepName!==e&&this.enterStep(e);var i=this.getKey(e,n);this.emitCaches[i]=!0},t.prototype.getKey=function(e,n){return e+n.trigger+n.action},t.prototype.getActionCallback=function(e,n){var i=this,a=this.context,o=this.callbackCaches,s=n.actionObject;if(n.action&&s){var l=this.getKey(e,n);if(!o[l]){var u=function(c){a.event=c,i.isAllowExecute(e,n)?(gt(s)?q(s,function(f){a.event=c,b9(f)}):(a.event=c,b9(s)),i.afterExecute(e,n),n.callback&&(a.event=c,n.callback(a))):a.event=null};n.debounce?o[l]=aS(u,n.debounce.wait,n.debounce.immediate):n.throttle?o[l]=X0(u,n.throttle.wait,{leading:n.throttle.leading,trailing:n.throttle.trailing}):o[l]=u}return o[l]}return null},t.prototype.bindEvent=function(e,n){var i=e.split(":");i[0]==="window"?window.addEventListener(i[1],n):i[0]==="document"?document.addEventListener(i[1],n):this.view.on(e,n)},t.prototype.offEvent=function(e,n){var i=e.split(":");i[0]==="window"?window.removeEventListener(i[1],n):i[0]==="document"?document.removeEventListener(i[1],n):this.view.off(e,n)},t}(i7e),pre={};function o7e(r){return pre[Xg(r)]}function cn(r,t){pre[Xg(r)]=t}function s7e(r,t,e){var n=o7e(r);if(!n)return null;if(Oa(n)){var i=cr(Jr(n),e);return new a7e(t,i)}else{var a=n;return new a(t,e)}}function l7e(r){return{title:{autoRotate:!0,position:"center",spacing:r.axisTitleSpacing,style:{fill:r.axisTitleTextFillColor,fontSize:r.axisTitleTextFontSize,lineHeight:r.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:r.fontFamily}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:r.axisLabelOffset,style:{fill:r.axisLabelFillColor,fontSize:r.axisLabelFontSize,lineHeight:r.axisLabelLineHeight,fontFamily:r.fontFamily}},line:{style:{lineWidth:r.axisLineBorder,stroke:r.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:r.axisGridBorderColor,lineWidth:r.axisGridBorder,lineDash:r.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:r.axisTickLineBorder,stroke:r.axisTickLineBorderColor},alignTick:!0,length:r.axisTickLineLength},subTickLine:null,animate:!0}}function u7e(r){return{title:null,marker:{symbol:"circle",spacing:r.legendMarkerSpacing,style:{r:r.legendCircleMarkerSize,fill:r.legendMarkerColor}},itemName:{spacing:5,style:{fill:r.legendItemNameFillColor,fontFamily:r.fontFamily,fontSize:r.legendItemNameFontSize,lineHeight:r.legendItemNameLineHeight,fontWeight:r.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:r.legendPageNavigatorMarkerSize,inactiveFill:r.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:r.legendPageNavigatorMarkerInactiveFillOpacity,fill:r.legendPageNavigatorMarkerFillColor,opacity:r.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:r.legendPageNavigatorTextFillColor,fontSize:r.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:r.legendItemSpacing,itemMarginBottom:r.legendItemMarginBottom,padding:r.legendPadding}}function gre(r){var t,e={point:{default:{fill:r.pointFillColor,r:r.pointSize,stroke:r.pointBorderColor,lineWidth:r.pointBorder,fillOpacity:r.pointFillOpacity},active:{stroke:r.pointActiveBorderColor,lineWidth:r.pointActiveBorder},selected:{stroke:r.pointSelectedBorderColor,lineWidth:r.pointSelectedBorder},inactive:{fillOpacity:r.pointInactiveFillOpacity,strokeOpacity:r.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:r.hollowPointFillColor,lineWidth:r.hollowPointBorder,stroke:r.hollowPointBorderColor,strokeOpacity:r.hollowPointBorderOpacity,r:r.hollowPointSize},active:{stroke:r.hollowPointActiveBorderColor,strokeOpacity:r.hollowPointActiveBorderOpacity},selected:{lineWidth:r.hollowPointSelectedBorder,stroke:r.hollowPointSelectedBorderColor,strokeOpacity:r.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:r.hollowPointInactiveBorderOpacity}},area:{default:{fill:r.areaFillColor,fillOpacity:r.areaFillOpacity,stroke:null},active:{fillOpacity:r.areaActiveFillOpacity},selected:{fillOpacity:r.areaSelectedFillOpacity},inactive:{fillOpacity:r.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:r.hollowAreaBorderColor,lineWidth:r.hollowAreaBorder,strokeOpacity:r.hollowAreaBorderOpacity},active:{fill:null,lineWidth:r.hollowAreaActiveBorder},selected:{fill:null,lineWidth:r.hollowAreaSelectedBorder},inactive:{strokeOpacity:r.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:r.intervalFillColor,fillOpacity:r.intervalFillOpacity},active:{stroke:r.intervalActiveBorderColor,lineWidth:r.intervalActiveBorder},selected:{stroke:r.intervalSelectedBorderColor,lineWidth:r.intervalSelectedBorder},inactive:{fillOpacity:r.intervalInactiveFillOpacity,strokeOpacity:r.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:r.hollowIntervalFillColor,stroke:r.hollowIntervalBorderColor,lineWidth:r.hollowIntervalBorder,strokeOpacity:r.hollowIntervalBorderOpacity},active:{stroke:r.hollowIntervalActiveBorderColor,lineWidth:r.hollowIntervalActiveBorder,strokeOpacity:r.hollowIntervalActiveBorderOpacity},selected:{stroke:r.hollowIntervalSelectedBorderColor,lineWidth:r.hollowIntervalSelectedBorder,strokeOpacity:r.hollowIntervalSelectedBorderOpacity},inactive:{stroke:r.hollowIntervalInactiveBorderColor,lineWidth:r.hollowIntervalInactiveBorder,strokeOpacity:r.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:r.lineBorderColor,lineWidth:r.lineBorder,strokeOpacity:r.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:r.lineActiveBorder},selected:{lineWidth:r.lineSelectedBorder},inactive:{strokeOpacity:r.lineInactiveBorderOpacity}}},n=l7e(r),i=u7e(r);return{background:r.backgroundColor,defaultColor:r.brandColor,subColor:r.subColor,semanticRed:r.paletteSemanticRed,semanticGreen:r.paletteSemanticGreen,padding:"auto",fontFamily:r.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:r.paletteQualitative10,colors20:r.paletteQualitative20,sequenceColors:r.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:e.interval.default},active:{style:e.interval.active},inactive:{style:e.interval.inactive},selected:{style:function(a){var o=a.geometry.coordinate;if(o.isPolar&&o.isTransposed){var s=Dw(a.getModel(),o),l=s.startAngle,u=s.endAngle,c=(l+u)/2,f=7.5,d=f*Math.cos(c),h=f*Math.sin(c);return{matrix:Ai(null,[["t",d,h]])}}return e.interval.selected}}},"hollow-rect":{default:{style:e.hollowInterval.default},active:{style:e.hollowInterval.active},inactive:{style:e.hollowInterval.inactive},selected:{style:e.hollowInterval.selected}},line:{default:{style:e.hollowInterval.default},active:{style:e.hollowInterval.active},inactive:{style:e.hollowInterval.inactive},selected:{style:e.hollowInterval.selected}},tick:{default:{style:e.hollowInterval.default},active:{style:e.hollowInterval.active},inactive:{style:e.hollowInterval.inactive},selected:{style:e.hollowInterval.selected}},funnel:{default:{style:e.interval.default},active:{style:e.interval.active},inactive:{style:e.interval.inactive},selected:{style:e.interval.selected}},pyramid:{default:{style:e.interval.default},active:{style:e.interval.active},inactive:{style:e.interval.inactive},selected:{style:e.interval.selected}}},line:{line:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},dot:{default:{style:P(P({},e.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:P(P({},e.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:P(P({},e.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:P(P({},e.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:P(P({},e.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:P(P({},e.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:P(P({},e.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:P(P({},e.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},hv:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},vh:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},hvh:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},vhv:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}}},polygon:{polygon:{default:{style:e.interval.default},active:{style:e.interval.active},inactive:{style:e.interval.inactive},selected:{style:e.interval.selected}}},point:{circle:{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},square:{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},bowtie:{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},diamond:{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},hexagon:{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},triangle:{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},"triangle-down":{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},"hollow-circle":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},"hollow-square":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},"hollow-bowtie":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},"hollow-diamond":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},"hollow-hexagon":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},"hollow-triangle":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},"hollow-triangle-down":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},cross:{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},tick:{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},plus:{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},hyphen:{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},line:{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}}},area:{area:{default:{style:e.area.default},active:{style:e.area.active},inactive:{style:e.area.inactive},selected:{style:e.area.selected}},smooth:{default:{style:e.area.default},active:{style:e.area.active},inactive:{style:e.area.inactive},selected:{style:e.area.selected}},line:{default:{style:e.hollowArea.default},active:{style:e.hollowArea.active},inactive:{style:e.hollowArea.inactive},selected:{style:e.hollowArea.selected}},"smooth-line":{default:{style:e.hollowArea.default},active:{style:e.hollowArea.active},inactive:{style:e.hollowArea.inactive},selected:{style:e.hollowArea.selected}}},schema:{candle:{default:{style:e.hollowInterval.default},active:{style:e.hollowInterval.active},inactive:{style:e.hollowInterval.inactive},selected:{style:e.hollowInterval.selected}},box:{default:{style:e.hollowInterval.default},active:{style:e.hollowInterval.active},inactive:{style:e.hollowInterval.inactive},selected:{style:e.hollowInterval.selected}}},edge:{line:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},vhv:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},smooth:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},arc:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}}},violin:{violin:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},smooth:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},hollow:{default:{style:e.hollowArea.default},active:{style:e.hollowArea.active},inactive:{style:e.hollowArea.inactive},selected:{style:e.hollowArea.selected}},"hollow-smooth":{default:{style:e.hollowArea.default},active:{style:e.hollowArea.active},inactive:{style:e.hollowArea.inactive},selected:{style:e.hollowArea.selected}}}},components:{axis:{common:n,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:Kt({},n.grid,{line:{type:"line"}})},radius:{title:null,grid:Kt({},n.grid,{line:{type:"circle"}})}},legend:{common:i,right:{layout:"vertical",padding:r.legendVerticalPadding},left:{layout:"vertical",padding:r.legendVerticalPadding},top:{layout:"horizontal",padding:r.legendHorizontalPadding},bottom:{layout:"horizontal",padding:r.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:r.sliderRailHeight,defaultLength:r.sliderRailWidth,style:{fill:r.sliderRailFillColor,stroke:r.sliderRailBorderColor,lineWidth:r.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:r.sliderLabelTextFillColor,fontSize:r.sliderLabelTextFontSize,lineHeight:r.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:r.fontFamily}},handler:{size:r.sliderHandlerWidth,style:{fill:r.sliderHandlerFillColor,stroke:r.sliderHandlerBorderColor}},slidable:!0,padding:i.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:r.tooltipCrosshairsBorderColor,lineWidth:r.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(t={},t["".concat(Og)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:r.tooltipContainerFillColor,opacity:r.tooltipContainerFillOpacity,boxShadow:r.tooltipContainerShadow,borderRadius:"".concat(r.tooltipContainerBorderRadius,"px"),color:r.tooltipTextFillColor,fontSize:"".concat(r.tooltipTextFontSize,"px"),fontFamily:r.fontFamily,lineHeight:"".concat(r.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},t["".concat(Lg)]={marginBottom:"12px",marginTop:"12px"},t["".concat(Rw)]={margin:0,listStyleType:"none",padding:0},t["".concat(QA)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},t["".concat(JA)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},t["".concat(ek)]={display:"inline-block",float:"right",marginLeft:"30px"},t)},annotation:{arc:{style:{stroke:r.annotationArcBorderColor,lineWidth:r.annotationArcBorder},animate:!0},line:{style:{stroke:r.annotationLineBorderColor,lineDash:r.annotationLineDash,lineWidth:r.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,textAlign:"start",fontFamily:r.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:r.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:r.annotationRegionBorder,stroke:r.annotationRegionBorderColor,fill:r.annotationRegionFillColor,fillOpacity:r.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:r.brandColor,lineWidth:2}},line:{style:{stroke:r.annotationLineBorderColor,lineWidth:r.annotationLineBorder},length:r.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,fontFamily:r.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:r.annotationRegionFillColor,fillOpacity:r.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,fontFamily:r.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:r.cSliderBackgroundFillColor,opacity:r.cSliderBackgroundFillOpacity},foregroundStyle:{fill:r.cSliderForegroundFillColor,opacity:r.cSliderForegroundFillOpacity},handlerStyle:{width:r.cSliderHandlerWidth,height:r.cSliderHandlerHeight,fill:r.cSliderHandlerFillColor,opacity:r.cSliderHandlerFillOpacity,stroke:r.cSliderHandlerBorderColor,lineWidth:r.cSliderHandlerBorder,radius:r.cSliderHandlerBorderRadius,highLightFill:r.cSliderHandlerHighlightFillColor},textStyle:{fill:r.cSliderTextFillColor,opacity:r.cSliderTextFillOpacity,fontSize:r.cSliderTextFontSize,lineHeight:r.cSliderTextLineHeight,fontWeight:r.cSliderTextFontWeight,stroke:r.cSliderTextBorderColor,lineWidth:r.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:r.scrollbarTrackFillColor,thumbColor:r.scrollbarThumbFillColor}},hover:{style:{thumbColor:r.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:r.labelFillColor,fontSize:r.labelFontSize,fontFamily:r.fontFamily,stroke:r.labelBorderColor,lineWidth:r.labelBorder},fillColorDark:r.labelFillColorDark,fillColorLight:r.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:r.innerLabelFillColor,fontSize:r.innerLabelFontSize,fontFamily:r.fontFamily,stroke:r.innerLabelBorderColor,lineWidth:r.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:r.overflowLabelFillColor,fontSize:r.overflowLabelFontSize,fontFamily:r.fontFamily,stroke:r.overflowLabelBorderColor,lineWidth:r.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:r.labelLineBorder}},autoRotate:!0}}}var di={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Ux={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},c7e=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],f7e=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],d7e=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],mre=function(r){r===void 0&&(r={});var t=r.backgroundColor,e=t===void 0?"transparent":t,n=r.subColor,i=n===void 0?"rgba(0,0,0,0.05)":n,a=r.paletteQualitative10,o=a===void 0?c7e:a,s=r.paletteQualitative20,l=s===void 0?f7e:s,u=r.paletteSemanticRed,c=u===void 0?"#F4664A":u,f=r.paletteSemanticGreen,d=f===void 0?"#30BF78":f,h=r.paletteSemanticYellow,v=h===void 0?"#FAAD14":h,p=r.paletteSequence,g=p===void 0?d7e:p,m=r.fontFamily,y=m===void 0?`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:m,b=r.brandColor,w=b===void 0?o[0]:b;return{backgroundColor:e,brandColor:w,subColor:i,paletteQualitative10:o,paletteQualitative20:l,paletteSemanticRed:c,paletteSemanticGreen:d,paletteSemanticYellow:v,paletteSequence:g,fontFamily:y,axisLineBorderColor:di[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:di[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:di[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:di[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:di[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:di[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:di[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:w,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:di[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:di[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:di[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:di[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:di[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:di[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:di[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:di[25],annotationArcBorderColor:di[15],annotationArcBorder:1,annotationLineBorderColor:di[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:di[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:di[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:di[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:di[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:di[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Ux[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:di[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Ux[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:di[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:w,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Ux[100],pointBorderOpacity:1,pointActiveBorderColor:di[100],pointSelectedBorder:2,pointSelectedBorderColor:di[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:w,hollowPointBorderOpacity:.95,hollowPointFillColor:Ux[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:di[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:di[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:w,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:w,areaFillOpacity:.25,areaActiveFillColor:w,areaActiveFillOpacity:.5,areaSelectedFillColor:w,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:w,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:di[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:di[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:w,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:di[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:di[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:w,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Ux[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:di[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:di[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}};mre();function xT(r){var t=r.styleSheet,e=t===void 0?{}:t,n=xn(r,["styleSheet"]),i=mre(e);return Kt({},gre(i),n)}var h7e=xT({}),IO={default:h7e};function U1(r){return me(IO,Xg(r),IO.default)}function v7e(r,t){IO[Xg(r)]=xT(t)}function x9(r,t,e){var n=e.translate(r),i=e.translate(t);return Vo(n,i)}function p7e(r,t){var e=t.coordinate,n=t.getXScale(),i=n.range,a=i[i.length-1],o=i[0],s=e.invert(r),l=s.x;return e.isPolar&&l>(1+a)/2&&(l=o),n.translate(n.invert(l))}function w9(r,t,e){var n=e.coordinate,i=e.getYScale(),a=i.field,o=n.invert(t),s=i.invert(o.y),l=bu(r,function(u){var c=u[Si];return c[a][0]<=s&&c[a][1]>=s});return l||r[r.length-1]}var g7e=qg(function(r){if(r.isCategory)return 1;for(var t=r.values,e=t.length,n=r.translate(t[0]),i=n,a=0;a<e;a++){var o=t[a],s=r.translate(o);s<n&&(n=s),s>i&&(i=s)}return(i-n)/(e-1)});function m7e(r,t,e){var n=t.getAttribute("position"),i=n.getFields(),a=t.scales,o=yr(e)||!e?i[0]:e,s=a[o],l=s?s.getText(r[o]):r[o]||o;return yr(e)?e(l,r):l}function y7e(r){var t=Y0(r.attributes);return ko(t,function(e){return Hc($y,e.type)})}function yre(r){for(var t=y7e(r),e,n=0,i=t;n<i.length;n++){var a=i[n],o=a.getScale(a.type);if(o&&o.isLinear){var s=me(r.scaleDefs,o.field),l=rre(o,s,a.type,r.type);if(l!=="cat"){e=o;break}}}var u=r.getXScale(),c=r.getYScale();return e||c||u}function b7e(r,t){var e=t.field,n=r[e];if(gt(n)){var i=n.map(function(a){return t.getText(a)});return i.join("-")}return t.getText(n)}function x7e(r,t){var e,n=t.getGroupScales();if(n.length&&(e=n[0]),e){var i=e.field;return e.getText(r[i])}var a=yre(t);return Ow(a)}function bre(r,t,e){if(t.length===0)return null;var n=e.type,i=e.getXScale(),a=e.getYScale(),o=i.field,s=a.field,l=null;if(n==="heatmap"||n==="point"){for(var u=e.coordinate,c=u.invert(r),f=i.invert(c.x),d=a.invert(c.y),h=1/0,v=0;v<t.length;v++){var p=t[v],g=p[Si],m=Math.pow(g[o]-f,2)+Math.pow(g[s]-d,2);m<h&&(h=m,l=p)}return l}var y=t[0],b=t[t.length-1],w=p7e(r,e),S=y[Si][o],E=y[Si][s],_=b[Si][o],A=a.isLinear&&gt(E);if(gt(S)){for(var v=0;v<t.length;v++){var k=t[v],g=k[Si];if(i.translate(g[o][0])<=w&&i.translate(g[o][1])>=w)if(A)gt(l)||(l=[]),l.push(k);else{l=k;break}}gt(l)&&(l=w9(l,r,e))}else{var T=void 0;if(!i.isLinear&&i.type!=="timeCat"){for(var v=0;v<t.length;v++){var k=t[v],g=k[Si];if(x9(g[o],w,i))if(A)gt(l)||(l=[]),l.push(k);else{l=k;break}else i.translate(g[o])<=w&&(b=k,T=t[v+1])}gt(l)&&(l=w9(l,r,e))}else{if((w>i.translate(_)||w<i.translate(S))&&(w>i.max||w<i.min))return null;for(var I=0,D=t.length-1,O=void 0;I<=D;){O=Math.floor((I+D)/2);var B=t[O][Si][o];if(x9(B,w,i))return t[O];i.translate(B)<=i.translate(w)?(I=O+1,b=t[O],T=t[O+1]):(D===0&&(b=t[0]),D=O-1)}}b&&T&&Math.abs(i.translate(b[Si][o])-w)>Math.abs(i.translate(T[Si][o])-w)&&(b=T)}var U=g7e(e.getXScale());return!l&&Math.abs(i.translate(b[Si][o])-w)<=U/2&&(l=b),l}function ZN(r,t,e,n){e===void 0&&(e=""),n===void 0&&(n=!1);var i=r[Si],a=m7e(i,t,e),o=t.tooltipOption,s=t.theme.defaultColor,l=[],u,c;function f(_,A){if(n||!xt(A)&&A!==""){var k={title:a,data:i,mappingData:r,name:_,value:A,color:r.color||s,marker:!0};l.push(k)}}if(Hn(o)){var d=o.fields,h=o.callback;if(h){var v=d.map(function(_){return r[Si][_]}),p=h.apply(void 0,v),g=P({data:r[Si],mappingData:r,title:a,color:r.color||s,marker:!0},p);l.push(g)}else for(var m=t.scales,y=0,b=d;y<b.length;y++){var w=b[y];if(!xt(i[w])){var S=m[w];u=Ow(S),c=S.getText(i[w]),f(u,c)}}}else{var E=yre(t);c=b7e(i,E),u=x7e(i,t),f(u,c)}return l}function S9(r,t,e,n){var i=n.showNil,a=[],o=r.dataArray;if(!Bs(o)){r.sort(o);for(var s=0,l=o;s<l.length;s++){var u=l[s],c=bre(t,u,r);if(c){var f=r.getElementId(c),d=r.elementsMap[f];if(r.type==="heatmap"||d.visible){var h=ZN(c,r,e,i);h.length&&a.push(h)}}}}return a}function C9(r,t,e,n){var i=n.showNil,a=[],o=r.container,s=o.getShape(t.x,t.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,u=ZN(l,r,e,i);u.length&&a.push(u)}return a}function PO(r,t,e){for(var n=[],i=r.geometries,a=e.shared,o=e.title,s=e.reversed,l=0,u=i;l<u.length;l++){var c=u[l];if(c.visible&&c.tooltipOption!==!1){var f=c.type,d=void 0;["point","edge","polygon"].includes(f)?d=C9(c,t,o,e):["area","line","path","heatmap"].includes(f)||a!==!1?d=S9(c,t,o,e):d=C9(c,t,o,e),d.length&&(s&&d.reverse(),n.push(d))}}return n}function w7e(r,t,e){for(var n=PO(r,t,e),i=0,a=r.views;i<a.length;i++){var o=a[i];n=n.concat(PO(o,t,e))}return n}function S7e(r){return!ir(r)&&!gt(r)}function QN(r){r===void 0&&(r=0);var t=gt(r)?r:[r];switch(t.length){case 0:t=[0,0,0,0];break;case 1:t=new Array(4).fill(t[0]);break;case 2:t=$i($i([],t,!0),t,!0);break;case 3:t=$i($i([],t,!0),[t[1]],!1);break;default:t=t.slice(0,4);break}return t}var JN={};function em(r,t){JN[r]=t}function C7e(){return Object.keys(JN)}function E7e(r){return JN[r]}var _7e=function(){function r(t){this.option=this.wrapperOption(t)}return r.prototype.update=function(t){return this.option=this.wrapperOption(t),this},r.prototype.hasAction=function(t){var e=this.option.actions;return iS(e,function(n){return n[0]===t})},r.prototype.create=function(t,e){var n=this.option,i=n.type,a=n.cfg,o=i==="theta",s=P({start:t,end:e},a),l=QVe(o?"polar":i);return this.coordinate=new l(s),this.coordinate.type=i,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},r.prototype.adjust=function(t,e){return this.coordinate.update({start:t,end:e}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},r.prototype.rotate=function(t){return this.option.actions.push(["rotate",t]),this},r.prototype.reflect=function(t){return this.option.actions.push(["reflect",t]),this},r.prototype.scale=function(t,e){return this.option.actions.push(["scale",t,e]),this},r.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},r.prototype.getOption=function(){return this.option},r.prototype.getCoordinate=function(){return this.coordinate},r.prototype.wrapperOption=function(t){return P({type:"rect",actions:[],cfg:{}},t)},r.prototype.execActions=function(t){var e=this,n=this.option.actions;q(n,function(i){var a,o=i[0],s=i.slice(1),l=xt(t)?!0:t.includes(o);l&&(a=e.coordinate)[o].apply(a,s)})},r}(),na=function(){function r(t,e,n){this.view=t,this.gEvent=e,this.data=n,this.type=e.type}return r.fromData=function(t,e,n){return new r(t,new Z0(e,{}),n)},Object.defineProperty(r.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),r.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},r.prototype.clone=function(){return new r(this.view,this.gEvent,this.data)},r}();function T7e(r){var t=r.getController("axis"),e=r.getController("legend"),n=r.getController("annotation"),i=r.getController("slider"),a=r.getController("scrollbar");[t,i,a,e,n].forEach(function(o){o&&o.layout()})}var A7e=function(){function r(){this.scales=new Map,this.syncScales=new Map}return r.prototype.createScale=function(t,e,n,i){var a=n,o=this.getScaleMeta(i);if(e.length===0&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=Kt(l,o.scaleDef,n)}var u=F9e(t,e,a);return this.cacheScale(u,n,i),u},r.prototype.sync=function(t,e){var n=this;this.syncScales.forEach(function(i,a){var o=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,l=[];q(i,function(u){var c=n.getScale(u);s=ir(c.max)?Math.max(s,c.max):s,o=ir(c.min)?Math.min(o,c.min):o,q(c.values,function(f){l.includes(f)||l.push(f)})}),q(i,function(u){var c=n.getScale(u);if(c.isContinuous)c.change({min:o,max:s,values:l});else if(c.isCategory){var f=c.range,d=n.getScaleMeta(u);l&&!me(d,["scaleDef","range"])&&(f=nre(Kt({},c,{values:l}),t,e)),c.change({values:l,range:f})}})})},r.prototype.cacheScale=function(t,e,n){var i=this.getScaleMeta(n);i&&i.scale.type===t.type?(N9e(i.scale,t),i.scaleDef=e):(i={key:n,scale:t,scaleDef:e},this.scales.set(n,i));var a=this.getSyncKey(i);if(i.syncKey=a,this.removeFromSyncScales(n),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(n)}},r.prototype.getScale=function(t){var e=this.getScaleMeta(t);if(!e){var n=Ua(t.split("-")),i=this.syncScales.get(n);i&&i.length&&(e=this.getScaleMeta(i[0]))}return e&&e.scale},r.prototype.deleteScale=function(t){var e=this.getScaleMeta(t);if(e){var n=e.syncKey,i=this.syncScales.get(n);if(i&&i.length){var a=i.indexOf(t);a!==-1&&i.splice(a,1)}}this.scales.delete(t)},r.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},r.prototype.removeFromSyncScales=function(t){var e=this;this.syncScales.forEach(function(n,i){var a=n.indexOf(t);if(a!==-1)return n.splice(a,1),n.length===0&&e.syncScales.delete(i),!1})},r.prototype.getSyncKey=function(t){var e=t.scale,n=t.scaleDef,i=e.field,a=me(n,["sync"]);return a===!0?i:a===!1?void 0:a},r.prototype.getScaleMeta=function(t){return this.scales.get(t)},r}(),Z2=function(){function r(t,e,n,i){t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=0),this.top=t,this.right=e,this.bottom=n,this.left=i}return r.instance=function(t,e,n,i){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=0),new r(t,e,n,i)},r.prototype.max=function(t){var e=t[0],n=t[1],i=t[2],a=t[3];return this.top=Math.max(this.top,e),this.right=Math.max(this.right,n),this.bottom=Math.max(this.bottom,i),this.left=Math.max(this.left,a),this},r.prototype.shrink=function(t){var e=t[0],n=t[1],i=t[2],a=t[3];return this.top+=e,this.right+=n,this.bottom+=i,this.left+=a,this},r.prototype.inc=function(t,e){var n=t.width,i=t.height;switch(e){case ur.TOP:case ur.TOP_LEFT:case ur.TOP_RIGHT:this.top+=i;break;case ur.RIGHT:case ur.RIGHT_TOP:case ur.RIGHT_BOTTOM:this.right+=n;break;case ur.BOTTOM:case ur.BOTTOM_LEFT:case ur.BOTTOM_RIGHT:this.bottom+=i;break;case ur.LEFT:case ur.LEFT_TOP:case ur.LEFT_BOTTOM:this.left+=n;break}return this},r.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},r.prototype.clone=function(){return new(r.bind.apply(r,$i([void 0],this.getPadding(),!1)))},r}();function k7e(r){var t=r.padding;if(!S7e(t))return new(Z2.bind.apply(Z2,$i([void 0],QN(t),!1)));var e=r.viewBBox,n=new Z2,i=[],a=[],o=[];return q(r.getComponents(),function(s){var l=s.type;l===Co.AXIS?i.push(s):[Co.LEGEND,Co.SLIDER,Co.SCROLLBAR].includes(l)?a.push(s):l!==Co.GRID&&l!==Co.TOOLTIP&&o.push(s)}),q(i,function(s){var l=s.component,u=l.getLayoutBBox(),c=new Ns(u.x,u.y,u.width,u.height),f=c.exceed(e);n.max(f)}),q(a,function(s){var l=s.component,u=s.direction,c=l.getLayoutBBox(),f=l.get("padding"),d=new Ns(c.x,c.y,c.width,c.height).expand(f);n.inc(d,u)}),q(o,function(s){var l=s.component,u=s.direction,c=l.getLayoutBBox(),f=new Ns(c.x,c.y,c.width,c.height);n.inc(f,u)}),n}function M7e(r,t,e){var n=e.instance();t.forEach(function(i){i.autoPadding=n.max(i.autoPadding.getPadding())})}var xre=function(r){Ve(t,r);function t(e){var n=r.call(this,{visible:e.visible})||this;n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=C7e(),n.scalePool=new A7e,n.layoutFunc=T7e,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(b){var w=b.name;if(!w.includes(":")){var S=n.createViewEvent(b);n.doPlotEvent(S),n.emit(w,S)}},n.onDelegateEvents=function(b){var w=b.name;if(!!w.includes(":")){var S=n.createViewEvent(b);n.emit(w,S)}};var i=e.id,a=i===void 0?ec("view"):i,o=e.parent,s=e.canvas,l=e.backgroundGroup,u=e.middleGroup,c=e.foregroundGroup,f=e.region,d=f===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:f,h=e.padding,v=e.appendPadding,p=e.theme,g=e.options,m=e.limitInPlot,y=e.syncViewPadding;return n.parent=o,n.canvas=s,n.backgroundGroup=l,n.middleGroup=u,n.foregroundGroup=c,n.region=d,n.padding=h,n.appendPadding=v,n.options=P(P({},n.options),g),n.limitInPlot=m,n.id=a,n.syncViewPadding=y,n.themeObject=Hn(p)?Kt({},U1("default"),xT(p)):U1(p),n.init(),n}return t.prototype.setLayout=function(e){this.layoutFunc=e},t.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},t.prototype.render=function(e,n){e===void 0&&(e=!1),this.emit(bn.BEFORE_RENDER,na.fromData(this,bn.BEFORE_RENDER,n)),this.paint(e),this.emit(bn.AFTER_RENDER,na.fromData(this,bn.AFTER_RENDER,n)),this.visible===!1&&this.changeVisible(!1)},t.prototype.clear=function(){var e=this;this.emit(bn.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var n=this.geometries,i=0;i<n.length;i++)n[i].clear(),n[i].container.remove(!0),n[i].labelsContainer.remove(!0);this.geometries=[];for(var a=this.controllers,i=0;i<a.length;i++)a[i].name==="annotation"?a[i].clear(!0):a[i].clear();this.createdScaleKeys.forEach(function(s,l){e.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();for(var o=this.views,i=0;i<o.length;i++)o[i].clear();this.emit(bn.AFTER_CLEAR)},t.prototype.destroy=function(){this.emit(bn.BEFORE_DESTROY);var e=this.interactions;q(e,function(s){s&&s.destroy()}),this.clear();for(var n=this.controllers,i=0,a=n.length;i<a;i++){var o=n[i];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),r.prototype.destroy.call(this)},t.prototype.changeVisible=function(e){r.prototype.changeVisible.call(this,e);for(var n=this.geometries,i=0,a=n.length;i<a;i++){var o=n[i];o.changeVisible(e)}for(var s=this.controllers,i=0,a=s.length;i<a;i++){var l=s[i];l.changeVisible(e)}return this.foregroundGroup.set("visible",e),this.middleGroup.set("visible",e),this.backgroundGroup.set("visible",e),this.getCanvas().draw(),this},t.prototype.data=function(e){return $a(this.options,"data",e),this.isDataChanged=!0,this},t.prototype.source=function(e){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(e)},t.prototype.filter=function(e,n){return yr(n)?($a(this.options,["filters",e],n),this):(!n&&me(this.options,["filters",e])&&delete this.options.filters[e],this)},t.prototype.axis=function(e,n){return Pd(e)?$a(this.options,["axes"],e):$a(this.options,["axes",e],n),this},t.prototype.legend=function(e,n){return Pd(e)?$a(this.options,["legends"],e):wt(e)?($a(this.options,["legends",e],n),Oa(n)&&(n==null?void 0:n.selected)&&$a(this.options,["filters",e],function(i){var a;return(a=n==null?void 0:n.selected[i])!==null&&a!==void 0?a:!0})):$a(this.options,["legends"],e),this},t.prototype.scale=function(e,n){var i=this;return wt(e)?$a(this.options,["scales",e],n):Hn(e)&&q(e,function(a,o){$a(i.options,["scales",o],a)}),this},t.prototype.tooltip=function(e){return $a(this.options,"tooltip",e),this},t.prototype.annotation=function(){return this.getController("annotation")},t.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},t.prototype.coordinate=function(e,n){return wt(e)?$a(this.options,"coordinate",{type:e,cfg:n}):$a(this.options,"coordinate",e),this.coordinateController.update(this.options.coordinate),this.coordinateController},t.prototype.coord=function(e,n){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(e,n)},t.prototype.facet=function(e,n){this.facetInstance&&this.facetInstance.destroy();var i=G9e(e);if(!i)throw new Error("facet '".concat(e,"' is not exist!"));return this.facetInstance=new i(this,P(P({},n),{type:e})),this},t.prototype.animate=function(e){return $a(this.options,"animate",e),this},t.prototype.updateOptions=function(e){return this.clear(),cr(this.options,e),this.views.forEach(function(n){return n.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},t.prototype.option=function(e,n){if(t.prototype[e])throw new Error(`Can't use built in variable name "`.concat(e,'", please change another one.'));return $a(this.options,e,n),this},t.prototype.theme=function(e){return this.themeObject=Hn(e)?Kt({},this.themeObject,xT(e)):U1(e),this},t.prototype.interaction=function(e,n){var i=this.interactions[e];i&&i.destroy();var a=s7e(e,this,n);return a&&(a.init(),this.interactions[e]=a),this},t.prototype.removeInteraction=function(e){var n=this.interactions[e];n&&(n.destroy(),this.interactions[e]=void 0)},t.prototype.changeData=function(e){this.isDataChanged=!0,this.emit(bn.BEFORE_CHANGE_DATA,na.fromData(this,bn.BEFORE_CHANGE_DATA,null)),this.data(e),this.paint(!0);for(var n=this.views,i=0,a=n.length;i<a;i++){var o=n[i];o.changeData(e)}this.emit(bn.AFTER_CHANGE_DATA,na.fromData(this,bn.AFTER_CHANGE_DATA,null))},t.prototype.createView=function(e){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var n={data:this.options.data,scales:Jr(this.options.scales),axes:Jr(this.options.axes),coordinate:Jr(this.coordinateController.getOption()),tooltip:Jr(this.options.tooltip),legends:Jr(this.options.legends),animate:this.options.animate,visible:this.visible},i=new t(P(P({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:Ky.BG}),middleGroup:this.middleGroup.addGroup({zIndex:Ky.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:Ky.FORE}),theme:this.themeObject,padding:this.padding},e),{options:P(P({},n),me(e,"options",{}))}));return this.views.push(i),i},t.prototype.view=function(e){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(e)},t.prototype.removeView=function(e){var n=fK(this.views,function(i){return i===e})[0];return n&&n.destroy(),n},t.prototype.getCoordinate=function(){return this.coordinateInstance},t.prototype.getTheme=function(){return this.themeObject},t.prototype.getXScale=function(){var e=this.geometries[0];return e?e.getXScale():null},t.prototype.getYScales=function(){var e={},n=[];return this.geometries.forEach(function(i){var a=i.getYScale(),o=a.field;e[o]||(e[o]=!0,n.push(a))}),n},t.prototype.getScalesByDim=function(e){for(var n=this.geometries,i={},a=0,o=n.length;a<o;a++){var s=n[a],l=e==="x"?s.getXScale():s.getYScale();l&&!i[l.field]&&(i[l.field]=l)}return i},t.prototype.getScale=function(e,n){var i=n||this.getScaleKey(e);return this.getRootView().scalePool.getScale(i)},t.prototype.getScaleByField=function(e,n){return this.getScale(e,n)},t.prototype.getOptions=function(){return this.options},t.prototype.getData=function(){return this.filteredData},t.prototype.getOriginalData=function(){return this.options.data},t.prototype.getPadding=function(){return this.autoPadding.getPadding()},t.prototype.getGeometries=function(){return this.geometries},t.prototype.getElements=function(){return us(this.geometries,function(e,n){return e.concat(n.getElements())},[])},t.prototype.getElementsBy=function(e){return this.getElements().filter(function(n){return e(n)})},t.prototype.getLayer=function(e){return e===Da.BG?this.backgroundGroup:e===Da.MID?this.middleGroup:e===Da.FORE?this.foregroundGroup:this.foregroundGroup},t.prototype.isPointInPlot=function(e){return AO(this.getCoordinate(),e)},t.prototype.getLegendAttributes=function(){return fl(this.geometries.map(function(e){return e.getGroupAttributes()}))},t.prototype.getGroupScales=function(){var e=this.geometries.map(function(n){return n.getGroupScales()});return Zh(fl(e))},t.prototype.getCanvas=function(){return this.getRootView().canvas},t.prototype.getRootView=function(){for(var e=this;;){if(e.parent){e=e.parent;continue}break}return e},t.prototype.getXY=function(e){var n=this.getCoordinate(),i=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if(q(e,function(l,u){i[u]&&(o=i[u].scale(l)),a[u]&&(s=a[u].scale(l))}),!xt(o)&&!xt(s))return n.convert({x:o,y:s})},t.prototype.getController=function(e){return bu(this.controllers,function(n){return n.name===e})},t.prototype.showTooltip=function(e){var n=this.getController("tooltip");return n&&n.showTooltip(e),this},t.prototype.hideTooltip=function(){var e=this.getController("tooltip");return e&&e.hideTooltip(),this},t.prototype.lockTooltip=function(){var e=this.getController("tooltip");return e&&e.lockTooltip(),this},t.prototype.unlockTooltip=function(){var e=this.getController("tooltip");return e&&e.unlockTooltip(),this},t.prototype.isTooltipLocked=function(){var e=this.getController("tooltip");return e&&e.isTooltipLocked()},t.prototype.getTooltipItems=function(e){var n=this.getController("tooltip");return n?n.getTooltipItems(e):[]},t.prototype.getSnapRecords=function(e){for(var n=this.geometries,i=[],a=0,o=n.length;a<o;a++){var s=n[a],l=s.dataArray;s.sort(l);for(var u=void 0,c=0,f=l.length;c<f;c++){var d=l[c];u=bre(e,d,s),u&&i.push(u)}}for(var h=this.views,a=0,o=h.length;a<o;a++){var v=h[a],p=v.getSnapRecords(e);i=i.concat(p)}return i},t.prototype.getComponents=function(){for(var e=[],n=this.controllers,i=0,a=n.length;i<a;i++){var o=n[i];e=e.concat(o.getComponents())}return e},t.prototype.filterData=function(e){var n=this.options.filters;return Qa(n)===0?e:ko(e,function(i,a){var o=Object.keys(n);return o.every(function(s){var l=n[s];return l(i[s],i,a)})})},t.prototype.filterFieldData=function(e,n){var i=this.options.filters,a=me(i,e);return Jh(a)?n:n.filter(function(o,s){return a(o[e],o,s)})},t.prototype.adjustCoordinate=function(){var e=this.getCoordinate(),n=e.start,i=e.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if(Zi(n,a)&&Zi(i,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},t.prototype.paint=function(e){this.renderDataRecursive(e),this.syncScale(),this.emit(bn.BEFORE_PAINT),this.renderPaddingRecursive(e),this.renderLayoutRecursive(e),this.renderBackgroundStyleShape(),this.renderPaintRecursive(e),this.emit(bn.AFTER_PAINT),this.isDataChanged=!1},t.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var e=me(this.themeObject,"background");if(e){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var n=this.viewBBox,i=n.x,a=n.y,o=n.width,s=n.height;this.backgroundStyleRectShape.attr({fill:e,x:i,y:a,width:o,height:s})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},t.prototype.renderPaddingRecursive=function(e){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(e),this.autoPadding=k7e(this).shrink(QN(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();for(var n=this.views,i=0,a=n.length;i<a;i++){var o=n[i];o.renderPaddingRecursive(e)}},t.prototype.renderLayoutRecursive=function(e){var n=this.syncViewPadding===!0?M7e:yr(this.syncViewPadding)?this.syncViewPadding:void 0;n&&(n(this,this.views,Z2),this.views.forEach(function(l){l.coordinateBBox=l.viewBBox.shrink(l.autoPadding.getPadding()),l.adjustCoordinate()})),this.doLayout();for(var i=this.views,a=0,o=i.length;a<o;a++){var s=i[a];s.renderLayoutRecursive(e)}},t.prototype.renderPaintRecursive=function(e){var n=this.middleGroup;if(this.limitInPlot){var i=jN(this.coordinateInstance),a=i.type,o=i.attrs;n.setClip({type:a,attrs:o})}else n.setClip(void 0);this.paintGeometries(e),this.renderComponents(e);for(var s=this.views,l=0,u=s.length;l<u;l++){var c=s[l];c.renderPaintRecursive(e)}},t.prototype.createScale=function(e,n,i,a){var o=me(this.options.scales,[e]),s=P(P({},o),i);return this.parent?this.parent.createScale(e,n,s,a):this.scalePool.createScale(e,n,s,a)},t.prototype.renderDataRecursive=function(e){this.doFilterData(),this.createCoordinate(),this.initGeometries(e),this.renderFacet(e);for(var n=this.views,i=0,a=n.length;i<a;i++){var o=n[i];o.renderDataRecursive(e)}},t.prototype.calculateViewBBox=function(){var e,n,i,a;if(this.parent){var o=this.parent.coordinateBBox;e=o.x,n=o.y,i=o.width,a=o.height}else e=0,n=0,i=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,u=s.end,c=new Ns(e+i*l.x,n+a*l.y,i*(u.x-l.x),a*(u.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(c))&&(this.viewBBox=new Ns(e+i*l.x,n+a*l.y,i*(u.x-l.x),a*(u.y-l.y))),this.coordinateBBox=this.viewBBox},t.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},t.prototype.initComponentController=function(){for(var e=this.usedControllers,n=0,i=e.length;n<i;n++){var a=e[n],o=E7e(a);o&&this.controllers.push(new o(this))}},t.prototype.createViewEvent=function(e){var n=e.shape,i=e.name,a=n?n.get("origin"):null,o=new na(this,e,a);return o.type=i,o},t.prototype.doPlotEvent=function(e){var n=e.type,i=e.x,a=e.y,o={x:i,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(n)){var l=this.isPointInPlot(o),u=e.clone();if(l){var c="plot:".concat(n);u.type=c,this.emit(c,u),(n==="mouseleave"||n==="touchend")&&(this.isPreMouseInPlot=!1)}n==="mousemove"||n==="touchmove"?(this.isPreMouseInPlot&&!l?(n==="mousemove"&&(u.type=Zs.MOUSE_LEAVE,this.emit(Zs.MOUSE_LEAVE,u)),u.type=Zs.LEAVE,this.emit(Zs.LEAVE,u)):!this.isPreMouseInPlot&&l&&(n==="mousemove"&&(u.type=Zs.MOUSE_ENTER,this.emit(Zs.MOUSE_ENTER,u)),u.type=Zs.ENTER,this.emit(Zs.ENTER,u)),this.isPreMouseInPlot=l):(n==="mouseleave"||n==="touchend")&&this.isPreMouseInPlot&&(n==="mouseleave"&&(u.type=Zs.MOUSE_LEAVE,this.emit(Zs.MOUSE_LEAVE,u)),u.type=Zs.LEAVE,this.emit(Zs.LEAVE,u),this.isPreMouseInPlot=!1)}},t.prototype.doFilterData=function(){var e=this.options.data;this.filteredData=this.filterData(e)},t.prototype.initGeometries=function(e){this.createOrUpdateScales();for(var n=this.getCoordinate(),i=me(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var u={coordinate:n,scaleDefs:i,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};e?l.update(u):l.init(u)}this.adjustScales()},t.prototype.createOrUpdateScales=function(){for(var e=this.getScaleFields(),n=this.getGroupedFields(),i=this.getOptions(),a=i.data,o=i.scales,s=o===void 0?{}:o,l=this.filteredData,u=0,c=e.length;u<c;u++){var f=e[u],d=s[f],h=this.getScaleKey(f);this.createScale(f,n.includes(f)?a:l,d,h),this.createdScaleKeys.set(h,!0)}},t.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},t.prototype.getGeometryScales=function(){for(var e=this.getScaleFields(),n={},i=0;i<e.length;i++){var a=e[i];n[a]=this.getScaleByField(a)}return n},t.prototype.getScaleFields=function(){for(var e=[],n=new Map,i=this.geometries,a=0;a<i.length;a++){var o=i[a],s=o.getScaleFields();Zh(s,e,n)}return e},t.prototype.getGroupedFields=function(){for(var e=[],n=new Map,i=this.geometries,a=0;a<i.length;a++){var o=i[a],s=o.getGroupFields();Zh(s,e,n)}return e},t.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},t.prototype.adjustCategoryScaleRange=function(){var e=this,n=$i([this.getXScale()],this.getYScales(),!0).filter(function(o){return!!o}),i=this.getCoordinate(),a=this.options.scales;q(n,function(o){var s=o.field,l=o.values,u=o.isCategory,c=o.isIdentity;(u||c)&&l&&!me(a,[s,"range"])&&(o.range=nre(o,i,e.theme))})},t.prototype.initComponents=function(e){for(var n=this.controllers,i=0;i<n.length;i++){var a=n[i];e?a.update():(a.clear(),a.render())}},t.prototype.doLayout=function(){this.layoutFunc(this)},t.prototype.createCoordinate=function(){var e=this.coordinateBBox.bl,n=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(e,n)},t.prototype.paintGeometries=function(e){for(var n=this.options.animate,i=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=i,l.canvasRegion=a,n||l.animate(!1),l.paint(e)}},t.prototype.renderComponents=function(e){for(var n=0;n<this.getComponents().length;n++){var i=this.getComponents()[n];i.component.render()}},t.prototype.renderFacet=function(e){this.facetInstance&&(e?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},t.prototype.initOptions=function(){var e=this,n=this.options,i=n.geometries,a=i===void 0?[]:i,o=n.interactions,s=o===void 0?[]:o,l=n.views,u=l===void 0?[]:l,c=n.annotations,f=c===void 0?[]:c,d=n.coordinate,h=n.events,v=n.facets;this.coordinateController?d&&this.coordinateController.update(d):this.coordinateController=new _7e(d);for(var p=0;p<a.length;p++){var g=a[p];this.createGeometry(g)}for(var m=0;m<s.length;m++){var y=s[m],b=y.type,w=y.cfg;this.interaction(b,w)}for(var S=0;S<u.length;S++){var E=u[S];this.createView(E)}for(var _=this.getController("annotation"),A=0;A<f.length;A++){var k=f[A];_.annotation(k)}h&&q(h,function(T,I){e.on(I,T)}),v&&q(v,function(T){var I=T.type,D=xn(T,["type"]);e.facet(I,D)})},t.prototype.createGeometry=function(e){var n=e.type,i=e.cfg,a=i===void 0?{}:i;if(this[n]){var o=this[n](a);q(e,function(s,l){yr(o[l])&&o[l](s)})}},t.prototype.getScaleKey=function(e){return"".concat(this.id,"-").concat(e)},t}(FN);function vf(r,t){xre.prototype[r.toLowerCase()]=function(e){e===void 0&&(e={});var n=P({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},e),i=new t(n);return this.geometries.push(i),i}}var I7e=function(r){Ve(t,r);function t(e){var n=this,i=e.container,a=e.width,o=e.height,s=e.autoFit,l=s===void 0?!1:s,u=e.padding,c=e.appendPadding,f=e.renderer,d=f===void 0?"canvas":f,h=e.pixelRatio,v=e.localRefresh,p=v===void 0?!0:v,g=e.visible,m=g===void 0?!0:g,y=e.supportCSSTransform,b=y===void 0?!1:y,w=e.defaultInteractions,S=w===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:w,E=e.options,_=e.limitInPlot,A=e.theme,k=e.syncViewPadding,T=wt(i)?document.getElementById(i):i,I=Ri('<div style="position:relative;"></div>');T.appendChild(I);var D=r9(T,l,a,o),O=_Ve(d),B=new O.Canvas(P({container:I,pixelRatio:h,localRefresh:p,supportCSSTransform:b},D));return n=r.call(this,{parent:null,canvas:B,backgroundGroup:B.addGroup({zIndex:Ky.BG}),middleGroup:B.addGroup({zIndex:Ky.MID}),foregroundGroup:B.addGroup({zIndex:Ky.FORE}),padding:u,appendPadding:c,visible:m,options:E,limitInPlot:_,theme:A,syncViewPadding:k})||this,n.onResize=aS(function(){n.forceFit()},300),n.ele=T,n.canvas=B,n.width=D.width,n.height=D.height,n.autoFit=l,n.localRefresh=p,n.renderer=d,n.wrapperElement=I,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(S),n}return t.prototype.initDefaultInteractions=function(e){var n=this;q(e,function(i){n.interaction(i)})},t.prototype.aria=function(e){var n="aria-label";e===!1?this.ele.removeAttribute(n):this.ele.setAttribute(n,e.label)},t.prototype.changeSize=function(e,n){return this.width===e&&this.height===n?this:(this.emit(bn.BEFORE_CHANGE_SIZE),this.width=e,this.height=n,this.canvas.changeSize(e,n),this.render(!0),this.emit(bn.AFTER_CHANGE_SIZE),this)},t.prototype.clear=function(){r.prototype.clear.call(this),this.aria(!1)},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),AVe(this.wrapperElement),this.wrapperElement=null},t.prototype.changeVisible=function(e){return r.prototype.changeVisible.call(this,e),this.wrapperElement.style.display=e?"":"none",this},t.prototype.forceFit=function(){if(!this.destroyed){var e=r9(this.ele,!0,this.width,this.height),n=e.width,i=e.height;this.changeSize(n,i)}},t.prototype.updateCanvasStyle=function(){pn(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},t.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},t.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},t}(xre),rb=function(){function r(t){this.visible=!0,this.components=[],this.view=t}return r.prototype.clear=function(t){q(this.components,function(e){e.component.destroy()}),this.components=[]},r.prototype.destroy=function(){this.clear()},r.prototype.getComponents=function(){return this.components},r.prototype.changeVisible=function(t){this.visible!==t&&(this.components.forEach(function(e){t?e.component.show():e.component.hide()}),this.visible=t)},r}();function P7e(r){for(var t=[],e=function(i){var a=r[i],o=bu(t,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||t.push(a)},n=0;n<r.length;n++)e(n);return t}var wre=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.isLocked=!1,e}return Object.defineProperty(t.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.isVisible=function(){var e=this.view.getOptions().tooltip;return e!==!1},t.prototype.render=function(){},t.prototype.showTooltip=function(e){if(this.point=e,!!this.isVisible()){var n=this.view,i=this.getTooltipItems(e);if(!i.length){this.hideTooltip();return}var a=this.getTitle(i),o={x:i[0].x,y:i[0].y};n.emit("tooltip:show",na.fromData(n,"tooltip:show",P({items:i,title:a},e)));var s=this.getTooltipCfg(),l=s.follow,u=s.showMarkers,c=s.showCrosshairs,f=s.showContent,d=s.marker,h=this.items,v=this.title;if(!Zi(v,a)||!Zi(h,i)?(n.emit("tooltip:change",na.fromData(n,"tooltip:change",P({items:i,title:a},e))),(yr(f)?f(i):f)&&(this.tooltip||this.renderTooltip(),this.tooltip.update(cr({},s,{items:this.getItemsAfterProcess(i),title:a},l?e:{})),this.tooltip.show()),u&&this.renderTooltipMarkers(i,d)):(this.tooltip&&l&&(this.tooltip.update(e),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=i,this.title=a,c){var p=me(s,["crosshairs","follow"],!1);this.renderCrosshairs(p?e:o,s)}}},t.prototype.hideTooltip=function(){var e=this.getTooltipCfg().follow;if(!e){this.point=null;return}var n=this.tooltipMarkersGroup;n&&n.hide();var i=this.xCrosshair,a=this.yCrosshair;i&&i.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",na.fromData(this.view,"tooltip:hide",{})),this.point=null},t.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},t.prototype.unlockTooltip=function(){this.isLocked=!1;var e=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(e.capture)},t.prototype.isTooltipLocked=function(){return this.isLocked},t.prototype.clear=function(){var e=this,n=e.tooltip,i=e.xCrosshair,a=e.yCrosshair,o=e.tooltipMarkersGroup;n&&(n.hide(),n.clear()),i&&i.clear(),a&&a.clear(),o&&o.clear(),(n==null?void 0:n.get("customContent"))&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},t.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},t.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},t.prototype.changeVisible=function(e){if(this.visible!==e){var n=this,i=n.tooltip,a=n.tooltipMarkersGroup,o=n.xCrosshair,s=n.yCrosshair;e?(i&&i.show(),a&&a.show(),o&&o.show(),s&&s.show()):(i&&i.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=e}},t.prototype.getTooltipItems=function(e){var n=this.findItemsFromView(this.view,e);if(n.length){n=fl(n);for(var i=0,a=n;i<a.length;i++)for(var o=a[i],s=0,l=o;s<l.length;s++){var u=l[s],c=u.mappingData,f=c.x,d=c.y;u.x=gt(f)?f[f.length-1]:f,u.y=gt(d)?d[d.length-1]:d}var h=this.getTooltipCfg().shared;if(h===!1&&n.length>1){for(var v=n[0],p=Math.abs(e.y-v[0].y),g=0,m=n;g<m.length;g++){var y=m[g],b=Math.abs(e.y-y[0].y);b<=p&&(v=y,p=b)}n=[v]}return P7e(fl(n))}return[]},t.prototype.layout=function(){},t.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var e=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}})}},t.prototype.isCursorEntered=function(e){if(this.tooltip){var n=this.tooltip.getContainer(),i=this.tooltip.get("capture");if(n&&i){var a=n.getBoundingClientRect(),o=a.x,s=a.y,l=a.width,u=a.height;return new Ns(o,s,l,u).isPointIn(e)}}return!1},t.prototype.getTooltipCfg=function(){var e=this.view,n=e.getOptions().tooltip,i=this.processCustomContent(n),a=e.getTheme(),o=me(a,["components","tooltip"],{}),s=me(i,"enterable",o.enterable);return Kt({},o,i,{capture:!!(s||this.isLocked)})},t.prototype.processCustomContent=function(e){if(Pd(e)||!me(e,"customContent"))return e;var n=e.customContent,i=function(a,o){var s=n(a,o)||"";return wt(s)?'<div class="g2-tooltip">'+s+"</div>":s};return P(P({},e),{customContent:i})},t.prototype.getTitle=function(e){var n=e[0].title||e[0].name;return this.title=n,n},t.prototype.renderTooltip=function(){var e=this.view.getCanvas(),n={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},i=this.getTooltipCfg(),a=new WN(P(P({parent:e.get("el").parentNode,region:n},i),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},t.prototype.renderTooltipMarkers=function(e,n){for(var i=this.getTooltipMarkersGroup(),a=this.view.getRootView(),o=a.limitInPlot,s=0,l=e;s<l.length;s++){var u=l[s],c=u.x,f=u.y;if(o||(i==null?void 0:i.getClip())){var d=jN(a.getCoordinate()),h=d.type,v=d.attrs;i==null||i.setClip({type:h,attrs:v})}else i==null||i.setClip(void 0);var p=P(P({fill:u.color,symbol:"circle",shadowColor:u.color},n),{x:c,y:f});i.addShape("marker",{attrs:p})}},t.prototype.renderCrosshairs=function(e,n){var i=me(n,["crosshairs","type"],"x");i==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(e,n)):i==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(e,n)):i==="xy"&&(this.renderXCrosshairs(e,n),this.renderYCrosshairs(e,n))},t.prototype.renderXCrosshairs=function(e,n){var i=this.getViewWithGeometry(this.view).getCoordinate();if(!!AO(i,e)){var a,o;if(i.isRect)i.isTransposed?(a={x:i.start.x,y:e.y},o={x:i.end.x,y:e.y}):(a={x:e.x,y:i.end.y},o={x:e.x,y:i.start.y});else{var s=_0(i,e),l=i.getCenter(),u=i.getRadius();o=Ga(l.x,l.y,u,s),a=l}var c=Kt({start:a,end:o,container:this.getTooltipCrosshairsGroup()},me(n,"crosshairs",{}),this.getCrosshairsText("x",e,n));delete c.type;var f=this.xCrosshair;f?f.update(c):(f=new Xte(c),f.init()),f.render(),f.show(),this.xCrosshair=f}},t.prototype.renderYCrosshairs=function(e,n){var i=this.getViewWithGeometry(this.view).getCoordinate();if(!!AO(i,e)){var a,o;if(i.isRect){var s=void 0,l=void 0;i.isTransposed?(s={x:e.x,y:i.end.y},l={x:e.x,y:i.start.y}):(s={x:i.start.x,y:e.y},l={x:i.end.x,y:e.y}),a={start:s,end:l},o="Line"}else a={center:i.getCenter(),radius:tk(i,e),startAngle:i.startAngle,endAngle:i.endAngle},o="Circle";a=Kt({container:this.getTooltipCrosshairsGroup()},a,me(n,"crosshairs",{}),this.getCrosshairsText("y",e,n)),delete a.type;var u=this.yCrosshair;u?i.isRect&&u.get("type")==="circle"||!i.isRect&&u.get("type")==="line"?(u=new a9[o](a),u.init()):u.update(a):(u=new a9[o](a),u.init()),u.render(),u.show(),this.yCrosshair=u}},t.prototype.getCrosshairsText=function(e,n,i){var a=me(i,["crosshairs","text"]),o=me(i,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),u=s[0],c=l.getXScale(),f=l.getYScales()[0],d=void 0,h=void 0;if(o){var v=this.view.getCoordinate().invert(n);d=c.invert(v.x),h=f.invert(v.y)}else d=u.data[c.field],h=u.data[f.field];var p=e==="x"?d:h;return yr(a)?a=a(e,p,s,n):a.content=p,{text:a}}},t.prototype.getGuideGroup=function(){if(!this.guideGroup){var e=this.view.foregroundGroup;this.guideGroup=e.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},t.prototype.getTooltipMarkersGroup=function(){var e=this.tooltipMarkersGroup;return e&&!e.destroyed?(e.clear(),e.show()):(e=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),e.toFront(),this.tooltipMarkersGroup=e),e},t.prototype.getTooltipCrosshairsGroup=function(){var e=this.tooltipCrosshairsGroup;return e||(e=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),e.toBack(),this.tooltipCrosshairsGroup=e),e},t.prototype.findItemsFromView=function(e,n){if(e.getOptions().tooltip===!1)return[];for(var i=this.getTooltipCfg(),a=PO(e,n,i),o=0,s=e.views;o<s.length;o++){var l=s[o];a=a.concat(this.findItemsFromView(l,n))}return a},t.prototype.getViewWithGeometry=function(e){var n=this;return e.geometries.length?e:bu(e.views,function(i){return n.getViewWithGeometry(i)})},t.prototype.getItemsAfterProcess=function(e){var n=this.getTooltipCfg().customItems,i=n||function(a){return a};return i(e)},t}(rb),Sre={};function Cre(r){return Sre[r.toLowerCase()]}function Hl(r,t){Sre[r.toLowerCase()]=t}var k0={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},R7e={interval:function(r){return{enter:{animation:r.isRect?r.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:r.isPolar&&r.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},E9={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(r){var t;return r.isRect?t=r.isTransposed?"grow-in-x":"grow-in-y":(t="grow-in-xy",r.isPolar&&r.isTransposed&&(t="wave-in")),{animation:t}},schema:function(r){var t;return r.isRect?t=r.isTransposed?"grow-in-x":"grow-in-y":t="grow-in-xy",{animation:t}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function D7e(r,t){return{delay:yr(r.delay)?r.delay(t):r.delay,easing:yr(r.easing)?r.easing(t):r.easing,duration:yr(r.duration)?r.duration(t):r.duration,callback:r.callback,repeat:r.repeat}}function Ere(r,t,e){var n=R7e[r];return n&&(yr(n)&&(n=n(t)),n=Kt({},k0,n),e)?n[e]:n}function Jy(r,t,e){var n=me(r.get("origin"),"data",Si),i=t.animation,a=D7e(t,n);if(i){var o=Cre(i);o&&o(r,a,e)}else r.animate(e.toAttrs,a)}function O7e(r,t,e,n,i){if(E9[e]){var a=E9[e](n),o=Cre(me(a,"animation",""));if(o){var s=P(P(P({},k0.appear),a),t);r.stopAnimate(),o(r,s,{coordinate:n,minYPoint:i,toAttrs:null})}}}var eB="element-background",_re=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;n.states=[];var i=e.shapeFactory,a=e.container,o=e.offscreenGroup,s=e.elementIndex,l=e.visible,u=l===void 0?!0:l;return n.shapeFactory=i,n.container=a,n.offscreenGroup=o,n.visible=u,n.elementIndex=s,n}return t.prototype.draw=function(e,n){n===void 0&&(n=!1),this.model=e,this.data=e.data,this.shapeType=this.getShapeType(e),this.drawShape(e,n),this.visible===!1&&this.changeVisible(!1)},t.prototype.update=function(e){var n=this,i=n.shapeFactory,a=n.shape;if(!!a){this.model=e,this.data=e.data,this.shapeType=this.getShapeType(e),this.setShapeInfo(a,e);var o=this.getOffscreenGroup(),s=i.drawShape(this.shapeType,e,o);s.cfg.data=this.data,s.cfg.origin=e,s.cfg.element=this,this.syncShapeStyle(a,s,this.getStates(),this.getAnimateCfg("update"))}},t.prototype.destroy=function(){var e=this,n=e.shapeFactory,i=e.shape;if(i){var a=this.getAnimateCfg("leave");a?Jy(i,a,{coordinate:n.coordinate,toAttrs:P({},i.attr())}):i.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,r.prototype.destroy.call(this)},t.prototype.changeVisible=function(e){r.prototype.changeVisible.call(this,e),e?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(n){n.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(n){n.hide()}))},t.prototype.setState=function(e,n){var i=this,a=i.states,o=i.shapeFactory,s=i.model,l=i.shape,u=i.shapeType,c=a.indexOf(e);if(n){if(c>-1)return;a.push(e),(e==="active"||e==="selected")&&(l==null||l.toFront())}else{if(c===-1)return;if(a.splice(c,1),e==="active"||e==="selected"){var f=this.geometry,d=f.sortZIndex,h=f.zIndexReversed,v=h?this.geometry.elements.length-this.elementIndex:this.elementIndex;d?l.setZIndex(v):l.set("zIndex",v)}}var p=o.drawShape(u,s,this.getOffscreenGroup());a.length?this.syncShapeStyle(l,p,a,null):this.syncShapeStyle(l,p,["reset"],null),p.remove(!0);var g={state:e,stateStatus:n,element:this,target:this.container};this.container.emit("statechange",g),Ote(this.shape,"statechange",g)},t.prototype.clearStates=function(){var e=this,n=this.states;q(n,function(i){e.setState(i,!1)}),this.states=[]},t.prototype.hasState=function(e){return this.states.includes(e)},t.prototype.getStates=function(){return this.states},t.prototype.getData=function(){return this.data},t.prototype.getModel=function(){return this.model},t.prototype.getBBox=function(){var e=this,n=e.shape,i=e.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return n&&(a=n.getCanvasBBox()),i&&i.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},t.prototype.getStatesStyle=function(){if(!this.statesStyle){var e=this,n=e.shapeType,i=e.geometry,a=e.shapeFactory,o=i.stateOption,s=a.defaultShapeType,l=a.theme[n]||a.theme[s];this.statesStyle=Kt({},l,o)}return this.statesStyle},t.prototype.getStateStyle=function(e,n){var i=this.getStatesStyle(),a=me(i,[e,"style"],{}),o=a[n]||a;return yr(o)?o(this):o},t.prototype.getAnimateCfg=function(e){var n=this,i=this.animate;if(i){var a=i[e];return a&&P(P({},a),{callback:function(){var o;yr(a.callback)&&a.callback(),(o=n.geometry)===null||o===void 0||o.emit(Zy.AFTER_DRAW_ANIMATE)}})}return null},t.prototype.drawShape=function(e,n){var i;n===void 0&&(n=!1);var a=this,o=a.shapeFactory,s=a.container,l=a.shapeType;if(this.shape=o.drawShape(l,e,s),this.shape){this.setShapeInfo(this.shape,e);var u=this.shape.cfg.name;u?wt(u)&&(this.shape.cfg.name=["element",u]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var c=n?"enter":"appear",f=this.getAnimateCfg(c);f&&((i=this.geometry)===null||i===void 0||i.emit(Zy.BEFORE_DRAW_ANIMATE),Jy(this.shape,f,{coordinate:o.coordinate,toAttrs:P({},this.shape.attr())}))}},t.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var e=this.container.getGroupBase();this.offscreenGroup=new e({})}return this.offscreenGroup},t.prototype.setShapeInfo=function(e,n){var i=this;if(e.cfg.origin=n,e.cfg.element=this,e.isGroup()){var a=e.get("children");a.forEach(function(o){i.setShapeInfo(o,n)})}},t.prototype.syncShapeStyle=function(e,n,i,a,o){var s=this,l;if(i===void 0&&(i=[]),o===void 0&&(o=0),!(!e||!n)){var u=e.get("clipShape"),c=n.get("clipShape");if(this.syncShapeStyle(u,c,i,a),e.isGroup())for(var f=e.get("children"),d=n.get("children"),h=0;h<f.length;h++)this.syncShapeStyle(f[h],d[h],i,a,o+h);else{if(!Bs(i)&&!Zi(i,["reset"])){var v=e.get("name");gt(v)&&(v=v[1]),q(i,function(g){if(n.get("name")!==eB){var m=s.getStateStyle(g,v||o);n.attr(m)}})}var p=tre(e,n);this.animate?a?((l=this.geometry)===null||l===void 0||l.emit(Zy.BEFORE_DRAW_ANIMATE),Jy(e,a,{coordinate:this.shapeFactory.coordinate,toAttrs:p,shapeModel:this.model})):Bs(i)?e.attr(p):(e.stopAnimate(),e.animate(p,{duration:300})):e.attr(p)}}},t.prototype.getShapeType=function(e){var n=me(e,"shape");return gt(n)?n[0]:n},t}(FN),Tre={},Are={};function L7e(r){return Tre[r.toLowerCase()]}function ES(r,t){Tre[r.toLowerCase()]=t}function F7e(r){return Are[r.toLowerCase()]}function vl(r,t){Are[r.toLowerCase()]=t}var N7e={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(r,t){var e=this.getShape(r);return e.getPoints?e.getPoints(t):this.getDefaultPoints(t)},getShape:function(r){var t=this[r]||this[this.defaultShapeType];return t.coordinate=this.coordinate,t},getDefaultPoints:function(){return[]},getDefaultStyle:function(r){return me(r,[this.defaultShapeType,"default","style"],{})},getMarker:function(r,t){var e=this.getShape(r);if(!e.getMarker){var n=this.defaultShapeType;e=this.getShape(n)}var i=this.theme,a=me(i,[r,"default"],{}),o=e.getMarker(t);return Kt({},a,o)},drawShape:function(r,t,e){var n=this.getShape(r);return n.draw(t,e)}},B7e={coordinate:null,parsePath:function(r){var t=this.coordinate,e=mw(r);return t.isPolar?e=K9e(t,e):e=q9e(t,e),e},parsePoint:function(r){var t=this.coordinate;return t.convert(r)},parsePoints:function(r){var t=this.coordinate;return r.map(function(e){return t.convert(e)})},draw:function(r,t){}},tB={};function Lv(r,t){var e=Ju(r),n=P(P(P({},N7e),t),{geometryType:r});return tB[e]=n,n}function ai(r,t,e){var n=Ju(r),i=tB[n],a=P(P({},B7e),e);return i[t]=a,a}function _9(r){var t=Ju(r);return tB[t]}function z7e(r,t,e){if(e===void 0&&(e={}),!t)return[r];var n=vF(r,t),i=[];if(t.length===1&&e[t[0]])for(var a=e[t[0]],o=0,s=a;o<s.length;o++){var l=s[o],u=n["_".concat(l)];u&&i.push(u)}else for(var c in n)if(n.hasOwnProperty(c)){var f=n[c];i.push(f)}return i}function kre(r,t){return iS(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(e){return!Zi(r[e],t[e])})}function Hx(r){return gt(r)?r:r.split("*")}function Mre(r,t){for(var e=[],n=[],i=[],a=new Map,o=0;o<t.length;o++){var s=t[o];r[s]?n.push(s):e.push(s),a.set(s,!0)}return Object.keys(r).forEach(function(l){a.has(l)||i.push(l)}),{added:e,updated:n,removed:i}}function $7e(r,t){var e=[];return q(t,function(n,i){var a=i.split(" ")[0];a===r&&e.push(n)}),e}var Fv=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var i=e.container,a=e.labelsContainer,o=e.coordinate,s=e.data,l=e.sortable,u=l===void 0?!1:l,c=e.visible,f=c===void 0?!0:c,d=e.theme,h=e.scales,v=h===void 0?{}:h,p=e.scaleDefs,g=p===void 0?{}:p,m=e.intervalPadding,y=e.dodgePadding,b=e.maxColumnWidth,w=e.minColumnWidth,S=e.columnWidthRatio,E=e.roseWidthRatio,_=e.multiplePieWidthRatio,A=e.zIndexReversed,k=e.sortZIndex;return n.container=i,n.labelsContainer=a,n.coordinate=o,n.data=s,n.sortable=u,n.visible=f,n.userTheme=d,n.scales=v,n.scaleDefs=g,n.intervalPadding=m,n.dodgePadding=y,n.maxColumnWidth=b,n.minColumnWidth=w,n.columnWidthRatio=S,n.roseWidthRatio=E,n.multiplePieWidthRatio=_,n.zIndexReversed=A,n.sortZIndex=k,n}return t.prototype.position=function(e){var n=e;Oa(e)||(n={fields:Hx(e)});var i=me(n,"fields");return i.length===1&&(i.unshift("1"),$a(n,"fields",i)),$a(this.attributeOption,"position",n),this},t.prototype.color=function(e,n){return this.createAttrOption("color",e,n),this},t.prototype.shape=function(e,n){return this.createAttrOption("shape",e,n),this},t.prototype.size=function(e,n){return this.createAttrOption("size",e,n),this},t.prototype.adjust=function(e){var n=e;return(wt(e)||Oa(e))&&(n=[e]),q(n,function(i,a){Hn(i)||(n[a]={type:i})}),this.adjustOption=n,this},t.prototype.style=function(e,n){if(wt(e)){var i=Hx(e);this.styleOption={fields:i,callback:n}}else{var a=e,i=a.fields,o=a.callback,s=a.cfg;i||o||s?this.styleOption=e:this.styleOption={cfg:e}}return this},t.prototype.tooltip=function(e,n){if(wt(e)){var i=Hx(e);this.tooltipOption={fields:i,callback:n}}else this.tooltipOption=e;return this},t.prototype.animate=function(e){return this.animateOption=e,this},t.prototype.label=function(e,n,i){if(wt(e)){var a={},o=Hx(e);a.fields=o,yr(n)?a.callback=n:Oa(n)&&(a.cfg=n),i&&(a.cfg=i),this.labelOption=a}else this.labelOption=e;return this},t.prototype.state=function(e){return this.stateOption=e,this},t.prototype.customInfo=function(e){return this.customOption=e,this},t.prototype.init=function(e){e===void 0&&(e={}),this.setCfg(e),this.initAttributes(),this.processData(this.data),this.adjustScale()},t.prototype.update=function(e){e===void 0&&(e={});var n=e.data,i=e.isDataChanged,a=e.isCoordinateChanged,o=this,s=o.attributeOption,l=o.lastAttributeOption;Zi(s,l)?n&&(i||!Zi(n,this.data))?(this.setCfg(e),this.initAttributes(),this.processData(n)):this.setCfg(e):this.init(e),this.adjustScale(),this.isCoordinateChanged=a},t.prototype.paint=function(e){e===void 0&&(e=!1),this.animateOption&&(this.animateOption=Kt({},Ere(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[];var n=this.getOffscreenGroup();n.clear();var i=this.beforeMappingData,a=this.beforeMapping(i);this.dataArray=new Array(a.length);for(var o=0;o<a.length;o++){var s=a[o];this.dataArray[o]=this.mapping(s)}if(this.updateElements(this.dataArray,e),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(e)){var l=this.container,u=this.type,c=this.coordinate,f=me(this.animateOption,"appear"),d=this.getYScale(),h=c.convert({x:0,y:d.scale(this.getYMinValue())});O7e(l,f,u,c,h)}this.labelOption&&this.renderLabels(fl(this.dataArray),e),this.lastAttributeOption=P({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},t.prototype.clear=function(){var e=this,n=e.container,i=e.geometryLabel,a=e.offscreenGroup;n&&n.clear(),i&&i.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},t.prototype.destroy=function(){this.clear();var e=this.container;e.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,r.prototype.destroy.call(this)},t.prototype.getGroupScales=function(){return this.groupScales},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},t.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},t.prototype.getGroupAttributes=function(){var e=[];return q(this.attributes,function(n){$y.includes(n.type)&&e.push(n)}),e},t.prototype.getDefaultValue=function(e){var n,i=this.getAttribute(e);return i&&Bs(i.scales)&&(n=i.values[0]),n},t.prototype.getAttributeValues=function(e,n){for(var i=[],a=e.scales,o=0,s=a.length;o<s;o++){var l=a[o],u=l.field;l.isIdentity?i.push(l.values):i.push(n[u])}return e.mapping.apply(e,i)},t.prototype.getAdjust=function(e){return this.adjusts[e]},t.prototype.getCoordinate=function(){return this.coordinate},t.prototype.getData=function(){return this.data},t.prototype.getShapeMarker=function(e,n){var i=this.getShapeFactory();return i.getMarker(e,n)},t.prototype.getElementsBy=function(e){return this.elements.filter(function(n){return e(n)})},t.prototype.getElements=function(){return this.elements},t.prototype.getElementId=function(e){e=gt(e)?e[0]:e;var n=e[Si];if(this.idFields.length){for(var i=n[this.idFields[0]],a=1;a<this.idFields.length;a++)i+="-"+n[this.idFields[a]];return i}var o=this.type,s=this.getXScale(),l=this.getYScale(),u=s.field||"x",c=l.field||"y",f=n[c],d;s.type==="identity"?d=s.values[0]:d=n[u];var h;o==="interval"||o==="schema"?h="".concat(d):o==="line"||o==="area"||o==="path"?h=o:h="".concat(d,"-").concat(f);for(var v=this.groupScales,a=0,p=v.length;a<p;a++){var g=v[a],m=g.field;h="".concat(h,"-").concat(n[m])}var y=this.getAdjust("dodge");if(y){var b=y.dodgeBy;b&&(h="".concat(h,"-").concat(n[b]))}return this.getAdjust("jitter")&&(h="".concat(h,"-").concat(e.x,"-").concat(e.y)),h},t.prototype.getScaleFields=function(){var e=[],n=new Map,i=this,a=i.attributeOption,o=i.labelOption,s=i.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];u.fields?Zh(u.fields,e,n):u.values&&Zh(u.values,e,n)}return o&&o.fields&&Zh(o.fields,e,n),Hn(s)&&s.fields&&Zh(s.fields,e,n),e},t.prototype.changeVisible=function(e){r.prototype.changeVisible.call(this,e);for(var n=this.elements,i=0,a=n.length;i<a;i++){var o=n[i];o.changeVisible(e)}e?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},t.prototype.getFields=function(){var e=new Map,n=[];return Object.values(this.attributeOption).forEach(function(i){var a=(i==null?void 0:i.fields)||[];a.forEach(function(o){e.has(o)||n.push(o),e.set(o,!0)})},[]),n},t.prototype.getGroupFields=function(){for(var e=[],n=new Map,i=0,a=$y.length;i<a;i++){var o=$y[i],s=this.attributeOption[o];s&&s.fields&&Zh(s.fields,e,n)}return e},t.prototype.getXYFields=function(){var e=this.attributeOption.position.fields,n=e[0],i=e[1];return[n,i]},t.prototype.getXField=function(){return me(this.getXYFields(),[0])},t.prototype.getYField=function(){return me(this.getXYFields(),[1])},t.prototype.getShapes=function(){return this.elements.map(function(e){return e.shape})},t.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var e=this.container.getGroupBase();this.offscreenGroup=new e({})}return this.offscreenGroup},t.prototype.sort=function(e){if(!this.hasSorted)for(var n=this.getXScale(),i=n.field,a=0;a<e.length;a++){var o=e[a];o.sort(function(s,l){return n.translate(s[Si][i])-n.translate(l[Si][i])})}this.hasSorted=!0},t.prototype.adjustScale=function(){var e=this.getYScale();e&&this.getAdjust("stack")&&this.updateStackRange(e,this.beforeMappingData)},t.prototype.getShapeFactory=function(){var e=this.shapeType;if(!!_9(e))return this.shapeFactory||(this.shapeFactory=Jr(_9(e))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[e]||{},this.shapeFactory},t.prototype.createShapePointsCfg=function(e){var n=this.getXScale(),i=this.getYScale(),a=this.normalizeValues(e[n.field],n),o;return i?o=this.normalizeValues(e[i.field],i):o=e.y?e.y:.1,{x:a,y:o,y0:i?i.scale(this.getYMinValue()):void 0}},t.prototype.createElement=function(e,n,i){i===void 0&&(i=!1);var a=this.container,o=this.getDrawCfg(e),s=this.getShapeFactory(),l=new _re({shapeFactory:s,container:a,offscreenGroup:this.getOffscreenGroup(),elementIndex:n});return l.animate=this.animateOption,l.geometry=this,l.draw(o,i),l},t.prototype.getDrawCfg=function(e){var n=e[Si],i={mappingData:e,data:n,x:e.x,y:e.y,color:e.color,size:e.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},a=e.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),i.shape=a;var o=this.theme.geometries[this.shapeType];i.defaultStyle=me(o,[a,"default"],{}).style,!i.defaultStyle&&this.getShapeFactory()&&(i.defaultStyle=this.getShapeFactory().getDefaultStyle(o));var s=this.styleOption;return s&&(i.style=this.getStyleCfg(s,n)),this.generatePoints&&(i.points=e.points,i.nextPoints=e.nextPoints),i},t.prototype.updateElements=function(e,n){n===void 0&&(n=!1);for(var i=new Map,a=[],o=new Map,s=0,l=0;l<e.length;l++)for(var u=e[l],c=0;c<u.length;c++){var f=u[c],d=this.getElementId(f),h=i.has(d)?"".concat(d,"-").concat(l,"-").concat(c):d;a.push(h),i.set(h,f),o.set(h,s),s++}this.elements=new Array(s);for(var v=Mre(this.lastElementsMap,a),p=v.added,g=v.updated,m=v.removed,y=0,b=p;y<b.length;y++){var d=b[y],f=i.get(d),l=o.get(d),w=this.createElement(f,l,n);this.elements[l]=w,this.elementsMap[d]=w,w.shape&&w.shape.set("zIndex",this.zIndexReversed?this.elements.length-l:l)}for(var S=0,E=g;S<E.length;S++){var d=E[S],w=this.lastElementsMap[d],f=i.get(d),_=this.getDrawCfg(f),A=w.getModel(),l=o.get(d);(this.isCoordinateChanged||kre(_,A))&&(w.animate=this.animateOption,w.update(_)),this.elements[l]=w,this.elementsMap[d]=w,w.shape&&w.shape.set("zIndex",this.zIndexReversed?this.elements.length-l:l)}this.container&&this.container.sort();for(var k=0,T=m;k<T.length;k++){var d=T[k],w=this.lastElementsMap[d];w.animate=this.animateOption,w.destroy()}},t.prototype.getLabelType=function(){var e=this,n=e.labelOption,i=e.coordinate,a=e.type,o=i.type,s=i.isTransposed,l=me(n,["cfg","type"]);return l||(o==="polar"?l=s?"pie":"polar":o==="theta"?l="pie":a==="interval"||a==="polygon"?l="interval":l="base"),l},t.prototype.getYMinValue=function(){var e=this.getYScale(),n=e.min,i=e.max,a;return n>=0?a=n:i<=0?a=i:a=0,a},t.prototype.createAttrOption=function(e,n,i){if(xt(n)||Hn(n))Hn(n)&&Zi(Object.keys(n),["values"])?$a(this.attributeOption,e,{fields:n.values}):$a(this.attributeOption,e,n);else{var a={};ir(n)?a.values=[n]:a.fields=Hx(n),i&&(yr(i)?a.callback=i:a.values=i),$a(this.attributeOption,e,a)}},t.prototype.initAttributes=function(){var e=this,n=this,i=n.attributes,a=n.attributeOption,o=n.theme,s=n.shapeType;this.groupScales=[];var l={},u=function(d){if(a.hasOwnProperty(d)){var h=a[d];if(!h)return{value:void 0};var v=P({},h),p=v.callback,g=v.values,m=v.fields,y=m===void 0?[]:m,b=y.map(function(S){var E=e.scales[S];if(!l[S]&&$y.includes(d)){var _=rre(E,me(e.scaleDefs,S),d,e.type);_==="cat"&&(e.groupScales.push(E),l[S]=!0)}return E});v.scales=b,d!=="position"&&b.length===1&&b[0].type==="identity"?v.values=b[0].values:!p&&!g&&(d==="size"?v.values=o.sizes:d==="shape"?v.values=o.shapes[s]||[]:d==="color"&&(b.length?v.values=b[0].values.length<=10?o.colors10:o.colors20:v.values=o.colors10));var w=Pte(d);i[d]=new w(v)}};for(var c in a){var f=u(c);if(typeof f=="object")return f.value}},t.prototype.processData=function(e){this.hasSorted=!1;for(var n=this.getAttribute("position").scales,i=n.filter(function(S){return S.isCategory}),a=this.groupData(e),o=[],s=0,l=a.length;s<l;s++){for(var u=a[s],c=[],f=0,d=u.length;f<d;f++){var h=u[f],v={};for(var p in h)v[p]=h[p];v[Si]=h;for(var g=0,m=i;g<m.length;g++){var y=m[g],b=y.field;v[b]=y.translate(v[b])}c.push(v)}o.push(c)}var w=this.adjustData(o);return this.beforeMappingData=w,w},t.prototype.adjustData=function(e){var n=this.adjustOption,i=this,a=i.intervalPadding,o=i.dodgePadding,s=i.theme,l=this.maxColumnWidth||s.maxColumnWidth,u=this.minColumnWidth||s.minColumnWidth,c=this.columnWidthRatio||s.columnWidthRatio,f=e;if(n){var d=this.getXScale(),h=this.getYScale(),v=d.field,p=h?h.field:null,g=SS(this.coordinate),m=d.values.length,y=this.getAttribute("size"),b=void 0;y&&(b=y.values[0]);for(var w=0,S=n.length;w<S;w++){var E=n[w],_=P({xField:v,yField:p,intervalPadding:a,dodgePadding:o,xDimensionLength:g,groupNum:m,defaultSize:b,maxColumnWidth:l,minColumnWidth:u,columnWidthRatio:c},E),A=E.type;if(A==="dodge"){var k=[];if(d.isCategory||d.type==="identity")k.push("x");else if(!h)k.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");_.adjustNames=k,_.dodgeRatio=c}else if(A==="stack"){var T=this.coordinate;if(!h){_.height=T.getHeight();var I=this.getDefaultValue("size")||3;_.size=I}!T.isTransposed&&xt(_.reverseOrder)&&(_.reverseOrder=!0)}var D=Tte(A);_.dimValuesMap={},d&&d.values&&(_.dimValuesMap[d.field]=d.values.map(function(B){return d.translate(B)}));var O=new D(_);f=O.process(f),this.adjusts[A]=O}}return f},t.prototype.groupData=function(e){for(var n=this.getGroupScales(),i=this.scaleDefs,a={},o=[],s=0;s<n.length;s++){var l=n[s],u=l.field;o.push(u),me(i,[u,"values"])&&(a[u]=i[u].values)}return z7e(e,o,a)},t.prototype.updateStackRange=function(e,n){for(var i=fl(n),a=e.field,o=e.min,s=e.max,l=0;l<i.length;l++){var u=i[l],c=Math.min.apply(null,u[a]),f=Math.max.apply(null,u[a]);c<o&&(o=c),f>s&&(s=f)}var d=this.scaleDefs,h={};o<e.min&&!me(d,[a,"min"])&&(h.min=o),s>e.max&&!me(d,[a,"max"])&&(h.max=s),e.change(h)},t.prototype.beforeMapping=function(e){var n=e;if(this.sortable&&this.sort(n),this.generatePoints)for(var i=0,a=n.length;i<a;i++){var o=n[i];this.generateShapePoints(o);var s=n[i+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return n},t.prototype.generateShapePoints=function(e){for(var n=this.getShapeFactory(),i=this.getAttribute("shape"),a=0;a<e.length;a++){var o=e[a],s=this.createShapePointsCfg(o),l=i?this.getAttributeValues(i,o):null,u=n.getShapePoints(l,s);o.points=u}},t.prototype.normalizeValues=function(e,n){var i=[];if(gt(e))for(var a=0;a<e.length;a++){var o=e[a];i.push(n.scale(o))}else i=n.scale(e);return i},t.prototype.mapping=function(e){for(var n=this.attributes,i=[],a=0;a<e.length;a++){var o=e[a],s={_origin:o[Si],points:o.points,nextPoints:o.nextPoints};for(var l in n)if(n.hasOwnProperty(l)){var u=n[l],c=u.names,f=this.getAttributeValues(u,o);if(c.length>1)for(var d=0;d<f.length;d+=1){var h=f[d],v=c[d];s[v]=gt(h)&&h.length===1?h[0]:h}else s[c[0]]=f.length===1?f[0]:f}this.convertPoint(s),i.push(s)}return i},t.prototype.convertPoint=function(e){var n=e.x,i=e.y,a,o,s,l=this.coordinate;if(gt(n)&&gt(i)){a=[],o=[];for(var u=0,c=0,f=n.length,d=i.length;u<f&&c<d;u+=1,c+=1)s=l.convert({x:n[u],y:i[c]}),a.push(s.x),o.push(s.y)}else if(gt(i)){o=[];for(var h=0;h<i.length;h++){var v=i[h];s=l.convert({x:n,y:v}),a&&a!==s.x?(gt(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if(gt(n)){a=[];for(var h=0;h<n.length;h++){var p=n[h];s=l.convert({x:p,y:i}),o&&o!==s.y?(gt(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var g=l.convert({x:n,y:i});a=g.x,o=g.y}e.x=a,e.y=o},t.prototype.getStyleCfg=function(e,n){var i=e.fields,a=i===void 0?[]:i,o=e.callback,s=e.cfg;if(s)return s;var l=a.map(function(u){return n[u]});return o.apply(void 0,l)},t.prototype.setCfg=function(e){var n=this,i=e.coordinate,a=e.data,o=e.theme,s=e.scaleDefs;i&&(this.coordinate=i),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],q(s,function(l,u){l&&l.key&&n.idFields.push(u)})),o&&(this.theme=this.userTheme?Kt({},o,this.userTheme):o)},t.prototype.renderLabels=function(e,n){n===void 0&&(n=!1);var i=this.geometryLabel;if(!i){var a=this.getLabelType(),o=L7e(a);i=new o(this),this.geometryLabel=i}i.render(e,n);var s=i.labelsRenderer.shapesMap;q(this.elementsMap,function(l,u){var c=$7e(u,s);if(c.length){l.labelShape=c;for(var f=0;f<c.length;f++)for(var d=c[f],h=d.getChildren(),v=0;v<h.length;v++){var p=h[v];p.cfg.name=["element","label"],p.cfg.element=l}}})},t.prototype.canDoGroupAnimation=function(e){return!e&&this.animateOption&&(me(this.animateOption,"appear")===void 0||me(this.animateOption,"appear")&&me(this.animateOption,["appear","animation"])===void 0)},t}(FN),nk=Ai;function _S(r,t,e){var n=nk(r.getMatrix(),[["t",t,e]]);r.setMatrix(n)}function G7e(r,t){var e=r.attr(),n=e.x,i=e.y,a=nk(r.getMatrix(),[["t",-n,-i],["r",t],["t",n,i]]);return a}function rB(r,t){var e=G7e(r,t);r.setMatrix(e)}function U7e(r,t){var e=r.getBBox(),n=(e.minX+e.maxX)/2,i=(e.minY+e.maxY)/2;r.applyToMatrix([n,i,1]);var a=nk(r.getMatrix(),[["t",-n,-i],["s",t,t],["t",n,i]]);r.setMatrix(a)}function Cv(r){return r.find(function(t){return t.get("type")==="text"})}function RO(r,t,e){e===void 0&&(e=[0,0,0,0]);var n=r.getChildren()[0];if(n){var i=n.clone();(t==null?void 0:t.rotate)&&rB(i,-t.rotate);var a=i.getCanvasBBox(),o=a.x,s=a.y,l=a.width,u=a.height;i.destroy();var c=e;return xt(c)?c=[2,2,2,2]:ir(c)&&(c=new Array(4).fill(c)),{x:o-c[3],y:s-c[0],width:l+c[1]+c[3],height:u+c[0]+c[2],rotation:(t==null?void 0:t.rotate)||0}}}function H7e(r,t,e){e===void 0&&(e=0);var n=Math.max(0,Math.min(r.x+r.width+e,t.x+t.width+e)-Math.max(r.x-e,t.x-e)),i=Math.max(0,Math.min(r.y+r.height+e,t.y+t.height+e)-Math.max(r.y-e,t.y-e));return n*i}function V7e(r,t){var e=r.getBBox();return iS(t,function(n){var i=n.getBBox();return H7e(e,i,2)>0})}function Ire(r,t,e){var n=e.data,i=e.origin,a=e.animateCfg,o=e.coordinate,s=me(a,"update");r.set("data",n),r.set("origin",i),r.set("animateCfg",a),r.set("coordinate",o),r.set("visible",t.get("visible")),r.getChildren().forEach(function(l,u){var c=t.getChildByIndex(u);if(!c)r.removeChild(l),l.remove(!0);else{l.set("data",n),l.set("origin",i),l.set("animateCfg",a),l.set("coordinate",o);var f=tre(l,c);s?Jy(l,s,{toAttrs:f,coordinate:o}):l.attr(f),c.isGroup()&&Ire(l,c,e)}}),q(t.getChildren(),function(l,u){u>=r.getCount()&&(l.destroyed||r.add(l))})}var W7e=function(){function r(t){this.shapesMap={},this.lastShapesMap={};var e=t.layout,n=t.container;this.layout=e,this.container=n}return r.prototype.render=function(t,e,n){var i=this;n===void 0&&(n=!1),this.shapesMap={};var a=this.container,o=this.createOffscreenGroup();if(t.length){for(var s=0,l=t;s<l.length;s++){var u=l[s];u&&this.renderLabel(u,o)}this.doLayout(t,e),this.renderLabelLine(t),this.renderLabelBackground(t),this.adjustLabel(t)}var c=this.lastShapesMap,f=this.shapesMap;q(f,function(d,h){if(d.destroyed)delete f[h];else{if(c[h]){var v=d.get("data"),p=d.get("origin"),g=d.get("coordinate"),m=d.get("animateCfg"),y=c[h];Ire(y,f[h],{data:v,origin:p,animateCfg:m,coordinate:g}),i.shapesMap[h]=y}else{a.add(d);var b=me(d.get("animateCfg"),n?"enter":"appear");b&&Jy(d,b,{toAttrs:P({},d.attr()),coordinate:d.get("coordinate")})}delete c[h]}}),q(c,function(d){var h=me(d.get("animateCfg"),"leave");h?Jy(d,h,{toAttrs:null,coordinate:d.get("coordinate")}):d.remove(!0)}),this.lastShapesMap=f,o.destroy()},r.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},r.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},r.prototype.renderLabel=function(t,e){var n=t.id,i=t.elementId,a=t.data,o=t.mappingData,s=t.coordinate,l=t.animate,u=t.content,c={id:n,elementId:i,data:a,origin:P(P({},o),{data:o[Si]}),coordinate:s},f=e.addGroup(P({name:"label",animateCfg:this.animate===!1||l===null||l===!1?!1:Kt({},this.animate,l)},c)),d;if(u.isGroup&&u.isGroup()||u.isShape&&u.isShape()){var h=u.getCanvasBBox(),v=h.width,p=h.height,g=me(t,"textAlign","left"),m=t.x,y=t.y-p/2;g==="center"?m=m-v/2:(g==="right"||g==="end")&&(m=m-v),_S(u,m,y),d=u,f.add(u)}else{var b=me(t,["style","fill"]);d=f.addShape("text",P({attrs:P(P({x:t.x,y:t.y,textAlign:t.textAlign,textBaseline:me(t,"textBaseline","middle"),text:t.content},t.style),{fill:gK(b)?t.color:b})},c))}t.rotate&&rB(d,t.rotate),this.shapesMap[n]=f},r.prototype.doLayout=function(t,e){var n=this;if(this.layout){var i=gt(this.layout)?this.layout:[this.layout];q(i,function(a){var o=F7e(me(a,"type",""));if(o){var s=[],l=[];q(n.shapesMap,function(u,c){s.push(u),l.push(e[u.get("elementId")])}),o(t,s,l,n.region,a.cfg)}})}},r.prototype.renderLabelLine=function(t){var e=this;q(t,function(n){var i=me(n,"coordinate");if(!(!n||!i)){var a=i.getCenter(),o=i.getRadius();if(!!n.labelLine){var s=me(n,"labelLine",{}),l=n.id,u=s.path;if(!u){var c=Ga(a.x,a.y,o,n.angle);u=[["M",c.x,c.y],["L",n.x,n.y]]}var f=e.shapesMap[l];f.destroyed||f.addShape("path",{capture:!1,attrs:P({path:u,stroke:n.color?n.color:me(n,["style","fill"],"#000"),fill:null},s.style),id:l,origin:n.mappingData,data:n.data,coordinate:n.coordinate})}}})},r.prototype.renderLabelBackground=function(t){var e=this;q(t,function(n){var i=me(n,"coordinate"),a=me(n,"background");if(!(!a||!i)){var o=n.id,s=e.shapesMap[o];if(!s.destroyed){var l=s.getChildren()[0];if(l){var u=RO(s,n,a.padding),c=u.rotation,f=xn(u,["rotation"]),d=s.addShape("rect",{attrs:P(P({},f),a.style||{}),id:o,origin:n.mappingData,data:n.data,coordinate:n.coordinate});if(d.setZIndex(-1),c){var h=l.getMatrix();d.setMatrix(h)}}}}})},r.prototype.createOffscreenGroup=function(){var t=this.container,e=t.getGroupBase(),n=new e({});return n},r.prototype.adjustLabel=function(t){var e=this;q(t,function(n){if(n){var i=n.id,a=e.shapesMap[i];if(!a.destroyed){var o=a.findAll(function(s){return s.get("type")!=="path"});q(o,function(s){s&&(n.offsetX&&s.attr("x",s.attr("x")+n.offsetX),n.offsetY&&s.attr("y",s.attr("y")+n.offsetY))})}}})},r}();function T9(r){var t=0;return q(r,function(e){t+=e}),t/r.length}var ik=function(){function r(t){this.geometry=t}return r.prototype.getLabelItems=function(t){var e=this,n=[],i=this.getLabelCfgs(t);return q(t,function(a,o){var s=i[o];if(!s||xt(a.x)||xt(a.y)){n.push(null);return}var l=gt(s.content)?s.content:[s.content];s.content=l;var u=l.length;q(l,function(c,f){if(xt(c)||c===""){n.push(null);return}var d=P(P({},s),e.getLabelPoint(s,a,f));d.textAlign||(d.textAlign=e.getLabelAlign(d,f,u)),d.offset<=0&&(d.labelLine=null),n.push(d)})}),n},r.prototype.render=function(t,e){e===void 0&&(e=!1);var n=this.getLabelItems(t),i=this.getLabelsRenderer(),a=this.getGeometryShapes();i.render(n,a,e)},r.prototype.clear=function(){var t=this.labelsRenderer;t&&t.clear()},r.prototype.destroy=function(){var t=this.labelsRenderer;t&&t.destroy(),this.labelsRenderer=null},r.prototype.getCoordinate=function(){return this.geometry.coordinate},r.prototype.getDefaultLabelCfg=function(t,e){var n=this.geometry,i=n.type,a=n.theme;return i==="polygon"||i==="interval"&&e==="middle"||t<0&&!["line","point","path"].includes(i)?me(a,"innerLabels",{}):me(a,"labels",{})},r.prototype.getThemedLabelCfg=function(t){var e=this.geometry,n=this.getDefaultLabelCfg(),i=e.type,a=e.theme,o;return i==="polygon"||t.offset<0&&!["line","point","path"].includes(i)?o=Kt({},n,a.innerLabels,t):o=Kt({},n,a.labels,t),o},r.prototype.setLabelPosition=function(t,e,n,i){},r.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),n=this.getOffsetVector(t);return e.isTransposed?n[0]:n[1]},r.prototype.getLabelOffsetPoint=function(t,e,n){var i=t.offset,a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",l=o?1:-1,u={x:0,y:0};return e>0||n===1?u[s]=i*l:u[s]=i*l*-1,u},r.prototype.getLabelPoint=function(t,e,n){var i=this.getCoordinate(),a=t.content.length;function o(g,m,y){y===void 0&&(y=!1);var b=g;return gt(b)&&(t.content.length===1?y?b=T9(b):b.length<=2?b=b[g.length-1]:b=T9(b):b=b[m]),b}var s={content:t.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"},l=gt(e.shape)?e.shape[0]:e.shape,u=l==="funnel"||l==="pyramid";if(this.geometry.type==="polygon"){var c=M9e(e.x,e.y);s.x=c[0],s.y=c[1]}else this.geometry.type==="interval"&&!u?(s.x=o(e.x,n,!0),s.y=o(e.y,n)):(s.x=o(e.x,n),s.y=o(e.y,n));if(u){var f=me(e,"nextPoints"),d=me(e,"points");if(f){var h=i.convert(d[1]),v=i.convert(f[1]);s.x=(h.x+v.x)/2,s.y=(h.y+v.y)/2}else if(l==="pyramid"){var h=i.convert(d[1]),v=i.convert(d[2]);s.x=(h.x+v.x)/2,s.y=(h.y+v.y)/2}}t.position&&this.setLabelPosition(s,e,n,t.position);var p=this.getLabelOffsetPoint(t,n,a);return s.start={x:s.x,y:s.y},s.x+=p.x,s.y+=p.y,s.color=e.color,s},r.prototype.getLabelAlign=function(t,e,n){var i="center",a=this.getCoordinate();if(a.isTransposed){var o=t.offset;o<0?i="right":o===0?i="center":i="left",n>1&&e===0&&(i==="right"?i="left":i==="left"&&(i="right"))}return i},r.prototype.getLabelId=function(t){var e=this.geometry,n=e.type,i=e.getXScale(),a=e.getYScale(),o=t[Si],s=e.getElementId(t);return n==="line"||n==="area"?s+=" ".concat(o[i.field]):n==="path"&&(s+=" ".concat(o[i.field],"-").concat(o[a.field])),s},r.prototype.getLabelsRenderer=function(){var t=this.geometry,e=t.labelsContainer,n=t.labelOption,i=t.canvasRegion,a=t.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new W7e({container:e,layout:me(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=i,s.animate=a?Ere("label",o):!1,s},r.prototype.getLabelCfgs=function(t){var e=this,n=this.geometry,i=n.labelOption,a=n.scales,o=n.coordinate,s=i,l=s.fields,u=s.callback,c=s.cfg,f=l.map(function(h){return a[h]}),d=[];return q(t,function(h,v){var p=h[Si],g=e.getLabelText(p,f),m;if(u){var y=l.map(function(_){return p[_]});if(m=u.apply(void 0,y),xt(m)){d.push(null);return}}var b=P(P({id:e.getLabelId(h),elementId:e.geometry.getElementId(h),data:p,mappingData:h,coordinate:o},c),m);yr(b.position)&&(b.position=b.position(p,h,v));var w=e.getLabelOffset(b.offset||0),S=e.getDefaultLabelCfg(w,b.position);b=Kt({},S,b),b.offset=e.getLabelOffset(b.offset||0);var E=b.content;yr(E)?b.content=E(p,h,v):Jh(E)&&(b.content=g[0]),d.push(b)}),d},r.prototype.getLabelText=function(t,e){var n=[];return q(e,function(i){var a=t[i.field];gt(a)?a=a.map(function(o){return i.getText(o)}):a=i.getText(a),xt(a)||a===""?n.push(null):n.push(a)}),n},r.prototype.getOffsetVector=function(t){t===void 0&&(t=0);var e=this.getCoordinate(),n=0;return ir(t)&&(n=t),e.isTransposed?e.applyMatrix(n,0):e.applyMatrix(0,n)},r.prototype.getGeometryShapes=function(){var t=this.geometry,e={};return q(t.elementsMap,function(n,i){e[i]=n.shape}),q(t.getOffscreenGroup().getChildren(),function(n){var i=t.getElementId(n.get("origin").mappingData);e[i]=n}),e},r}();function DO(r,t,e){if(!r)return e;var n;if(r.callback&&r.callback.length>1){var i=Array(r.callback.length-1).fill("");n=r.mapping.apply(r,$i([t],i,!1)).join("")}else n=r.mapping(t).join("");return n||e}var Fg={hexagon:function(r,t,e){var n=e/2*Math.sqrt(3);return[["M",r,t-e],["L",r+n,t-e/2],["L",r+n,t+e/2],["L",r,t+e],["L",r-n,t+e/2],["L",r-n,t-e/2],["Z"]]},bowtie:function(r,t,e){var n=e-1.5;return[["M",r-e,t-n],["L",r+e,t+n],["L",r+e,t-n],["L",r-e,t+n],["Z"]]},cross:function(r,t,e){return[["M",r-e,t-e],["L",r+e,t+e],["M",r+e,t-e],["L",r-e,t+e]]},tick:function(r,t,e){return[["M",r-e/2,t-e],["L",r+e/2,t-e],["M",r,t-e],["L",r,t+e],["M",r-e/2,t+e],["L",r+e/2,t+e]]},plus:function(r,t,e){return[["M",r-e,t],["L",r+e,t],["M",r,t-e],["L",r,t+e]]},hyphen:function(r,t,e){return[["M",r-e,t],["L",r+e,t]]},line:function(r,t,e){return[["M",r,t-e],["L",r,t+e]]}},j7e=["line","cross","tick","plus","hyphen"];function Y7e(r,t){return yr(t)?t(r):Kt({},r,t)}function X7e(r,t){var e=r.symbol;if(wt(e)&&j7e.indexOf(e)!==-1){var n=me(r,"style",{}),i=me(n,"lineWidth",1),a=n.stroke||n.fill||t;r.style=Kt({},r.style,{lineWidth:i,stroke:a,fill:null})}}function Pre(r){var t=r.symbol;wt(t)&&Fg[t]&&(r.symbol=Fg[t])}function BP(r){return r.startsWith(ur.LEFT)||r.startsWith(ur.RIGHT)?"vertical":"horizontal"}function Rre(r,t,e,n,i){var a=e.getScale(e.type);if(a.isCategory){var o=a.field,s=t.getAttribute("color"),l=t.getAttribute("shape"),u=r.getTheme().defaultColor,c=t.coordinate.isPolar;return a.getTicks().map(function(f,d){var h,v=f.text,p=f.value,g=v,m=a.invert(p),y=r.filterFieldData(o,[(h={},h[o]=m,h)]).length===0;q(r.views,function(_){var A;_.filterFieldData(o,[(A={},A[o]=m,A)]).length||(y=!0)});var b=DO(s,m,u),w=DO(l,m,"point"),S=t.getShapeMarker(w,{color:b,isInPolar:c}),E=i;return yr(E)&&(E=E(g,d,P({name:g,value:m},Kt({},n,S)))),S=Kt({},n,S,nl(P({},E),["style"])),X7e(S,b),E&&E.style&&(S.style=Y7e(S.style,E.style)),Pre(S),{id:m,name:g,value:m,marker:S,unchecked:y}})}return[]}function q7e(r,t,e){return e.map(function(n,i){var a=t;yr(a)&&(a=a(n.name,i,Kt({},r,n)));var o=yr(n.marker)?n.marker(n.name,i,Kt({},r,n)):n.marker,s=Kt({},r,a,o);return Pre(s),n.marker=s,n})}function A9(r,t){var e=me(r,["components","legend"],{});return Kt({},me(e,["common"],{}),Kt({},me(e,[t],{})))}function zP(r){return r?!1:r==null||isNaN(r)}function k9(r){if(gt(r))return zP(r[1].y);var t=r.y;return gt(t)?zP(t[0]):zP(t)}function ak(r,t,e){if(t===void 0&&(t=!1),e===void 0&&(e=!0),!r.length||r.length===1&&!e)return[];if(t){for(var n=[],i=0,a=r.length;i<a;i++){var o=r[i];k9(o)||n.push(o)}return[n]}for(var s=[],l=[],i=0,a=r.length;i<a;i++){var o=r[i];k9(o)?l.length&&(l.length===1&&!e||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function Dre(r){for(var t=[],e=0;e<r.length;e++){var n=r[e];if(n){var i=e===0?"M":"L";t.push([i,n.x,n.y])}}var a=r[0];return a&&(t.push(["L",a.x,a.y]),t.push(["z"])),t}function Ore(r){for(var t=r.length/2,e=[],n=[],i=0;i<r.length;i++)i<t?e.push(r[i]):n.push(r[i]);var a=bT(e,!1),o=bT(n,!1);n.length&&a.push(["L",n[0].x,n[0].y]),o.shift();var s=a.concat(o);return e.length&&s.push(["L",e[0].x,e[0].y]),s.push(["z"]),s}function La(r,t,e,n){n===void 0&&(n="");var i=r.style,a=i===void 0?{}:i,o=r.defaultStyle,s=r.color,l=r.size,u=P(P({},o),a);return s&&(t&&(a.stroke||(u.stroke=s)),e&&(a.fill||(u.fill=s))),n&&xt(a[n])&&!xt(l)&&(u[n]=l),u}function Lre(r){return Kt({},{fill:"#CCD6EC",fillOpacity:.3},me(r,["background","style"]))}function nB(r){var t=r.x,e=gt(r.y)?r.y:[r.y];return e.map(function(n,i){return{x:gt(t)?t[i]:t,y:n}})}var K7e={line:function(r,t,e){return[["M",r-e,t],["L",r+e,t]]},dot:function(r,t,e){return[["M",r-e,t],["L",r+e,t]]},dash:function(r,t,e){return[["M",r-e,t],["L",r+e,t]]},smooth:function(r,t,e){return[["M",r-e,t],["A",e/2,e/2,0,1,1,r,t],["A",e/2,e/2,0,1,0,r+e,t]]},hv:function(r,t,e){return[["M",r-e-1,t-2.5],["L",r,t-2.5],["L",r,t+2.5],["L",r+e+1,t+2.5]]},vh:function(r,t,e){return[["M",r-e-1,t+2.5],["L",r,t+2.5],["L",r,t-2.5],["L",r+e+1,t-2.5]]},hvh:function(r,t,e){return[["M",r-(e+1),t+2.5],["L",r-e/2,t+2.5],["L",r-e/2,t-2.5],["L",r+e/2,t-2.5],["L",r+e/2,t+2.5],["L",r+e+1,t+2.5]]},vhv:function(r,t){return[["M",r-5,t+2.5],["L",r-5,t],["L",r,t],["L",r,t-3],["L",r,t+3],["L",r+6.5,t+3]]}};function Fre(r,t){var e=r.color;return{symbol:K7e[t],style:{lineWidth:2,r:6,stroke:e}}}function Z7e(r,t,e){for(var n=r.isStack,i=r.connectNulls,a=r.isInCircle,o=r.showSinglePoint,s=La(r,!0,!1,"lineWidth"),l=ak(r.points,i,o),u=[],c=0,f=l.length;c<f;c++){var d=l[c];u=u.concat(Nre(d,a,n,t,e,s))}return s.path=u,s}function OO(r,t,e,n,i){if(r.length===1)return[["M",r[0].x,r[0].y-i.lineWidth/2],["L",r[0].x,r[0].y],["L",r[0].x,r[0].y+i.lineWidth/2]];var a;return e?(t&&r.length&&r.push({x:r[0].x,y:r[0].y}),a=bT(r,!1,n)):(a=CS(r,!1),t&&a.push(["Z"])),a}function Q7e(r,t,e,n,i,a){var o=[],s=[];q(r,function(c){var f=nB(c);o.push(f[1]),s.push(f[0])});var l=OO(o,t,n,i,a),u=OO(s,t,n,i,a);return e?l:l.concat(u)}function Nre(r,t,e,n,i,a){if(r.length){var o=r[0];return gt(o.y)?Q7e(r,t,e,n,i,a):OO(r,t,n,i,a)}return[]}Lv("line",{defaultShapeType:"line"});q(["line","dot","dash","smooth"],function(r){ai("line",r,{draw:function(t,e){var n=r==="smooth",i;if(n){var a=this.coordinate,o=a.start,s=a.end;i=[[o.x,s.y],[s.x,o.y]]}var l=Z7e(t,n,i),u=e.addShape({type:"path",attrs:l,name:"line",capture:!n});return u},getMarker:function(t){return Fre(t,r)}})});var dl={getLegendItems:Rre,translate:_S,rotate:rB,zoom:U7e,transform:nk,getAngle:Dw,getSectorPath:dv,polarToCartesian:Ga,getDelegationObject:T0,getTooltipItems:ZN,getMappingValue:DO,getPath:Nre,getPathPoints:ak},Rp={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},xi={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Uu=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],J7e=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],eje=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],tje=function(r){r===void 0&&(r={});var t=r.backgroundColor,e=t===void 0?"#141414":t,n=r.subColor,i=n===void 0?"rgba(255,255,255,0.05)":n,a=r.paletteQualitative10,o=a===void 0?Uu:a,s=r.paletteQualitative20,l=s===void 0?J7e:s,u=r.paletteSemanticRed,c=u===void 0?"#F4664A":u,f=r.paletteSemanticGreen,d=f===void 0?"#30BF78":f,h=r.paletteSemanticYellow,v=h===void 0?"#FAAD14":h,p=r.paletteSequence,g=p===void 0?eje:p,m=r.fontFamily,y=m===void 0?`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:m,b=r.brandColor,w=b===void 0?o[0]:b;return{backgroundColor:e,brandColor:w,subColor:i,paletteQualitative10:o,paletteQualitative20:l,paletteSemanticRed:c,paletteSemanticGreen:d,paletteSemanticYellow:v,paletteSequence:g,fontFamily:y,axisLineBorderColor:xi[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:xi[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:xi[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:xi[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:xi[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:xi[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:xi[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Uu[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:xi[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:xi[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:xi[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:xi[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:xi[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:xi[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Rp[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Rp[25],annotationArcBorderColor:xi[15],annotationArcBorder:1,annotationLineBorderColor:xi[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:xi[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:xi[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:xi[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:xi[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:xi[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Rp[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:xi[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Rp[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:xi[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:Uu[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Rp[100],pointBorderOpacity:1,pointActiveBorderColor:xi[100],pointSelectedBorder:2,pointSelectedBorderColor:xi[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Uu[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Rp[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:xi[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:xi[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Uu[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Uu[0],areaFillOpacity:.25,areaActiveFillColor:Uu[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Uu[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Uu[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:xi[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:xi[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Uu[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:xi[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:xi[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Uu[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Rp[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:xi[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:xi[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}},rje=tje(),iB=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;n.type="path",n.shapeType="line";var i=e.connectNulls,a=i===void 0?!1:i,o=e.showSinglePoint,s=o===void 0?!0:o;return n.connectNulls=a,n.showSinglePoint=s,n}return t.prototype.updateElements=function(e,n){n===void 0&&(n=!1);for(var i=new Map,a=new Map,o=[],s=0,l=0;l<e.length;l++){var u=e[l],c=this.getElementId(u);o.push(c),i.set(c,u),a.set(c,s),s++}this.elements=new Array(s);for(var f=Mre(this.lastElementsMap,o),d=f.added,h=f.updated,v=f.removed,p=0,g=d;p<g.length;p++){var c=g[p],u=i.get(c),m=this.getShapeFactory(),y=this.getShapeInfo(u),l=a.get(c),b=new _re({shapeFactory:m,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:l});b.geometry=this,b.animate=this.animateOption,b.draw(y,n),this.elementsMap[c]=b,this.elements[l]=b}for(var w=0,S=h;w<S.length;w++){var c=S[w],u=i.get(c),b=this.lastElementsMap[c],l=a.get(c),y=this.getShapeInfo(u),E=b.getModel();(this.isCoordinateChanged||kre(E,y))&&(b.animate=this.animateOption,b.update(y)),this.elementsMap[c]=b,this.elements[l]=b}for(var _=0,A=v;_<A.length;_++){var c=A[_],b=this.lastElementsMap[c];b.animate=this.animateOption,b.destroy()}},t.prototype.getPointsAndData=function(e){for(var n=[],i=[],a=0,o=e.length;a<o;a++){var s=e[a];n.push({x:s.x,y:s.y}),i.push(s[Si])}return{points:n,data:i}},t.prototype.getShapeInfo=function(e){var n=this.getDrawCfg(e[0]),i=this.getPointsAndData(e),a=i.points,o=i.data;return n.mappingData=e,n.data=o,n.isStack=!!this.getAdjust("stack"),n.points=a,n.connectNulls=this.connectNulls,n.showSinglePoint=this.showSinglePoint,n},t}(Fv);function nje(r,t,e,n,i){var a=[];if(r.length){for(var o=[],s=[],l=0,u=r.length;l<u;l++){var c=r[l];o.push(c[1]),s.push(c[0])}s=s.reverse(),q([o,s],function(f,d){var h=[],v=n.parsePoints(f),p=v[0];o.length===1&&s.length===1?h=d===0?[["M",p.x-.5,p.y],["L",p.x+.5,p.y]]:[["L",p.x+.5,p.y],["L",p.x-.5,p.y]]:(t&&v.push({x:p.x,y:p.y}),e?h=bT(v,!1,i):h=CS(v,!1),d>0&&(h[0][0]="L")),a=a.concat(h)}),a.push(["Z"])}return a}function ok(r,t,e,n,i){for(var a=La(r,t,!t,"lineWidth"),o=r.connectNulls,s=r.isInCircle,l=r.points,u=r.showSinglePoint,c=ak(l,o,u),f=[],d=0,h=c.length;d<h;d++){var v=c[d];f=f.concat(nje(v,s,e,n,i))}return a.path=f,a}function Bre(r){var t=r.start,e=r.end;return[[t.x,e.y],[e.x,t.y]]}Lv("area",{defaultShapeType:"area",getDefaultPoints:function(r){var t=r.x,e=r.y0,n=gt(r.y)?r.y:[e,r.y];return n.map(function(i){return{x:t,y:i}})}});ai("area","area",{draw:function(r,t){var e=ok(r,!1,!1,this),n=t.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(r){var t=r.color;return{symbol:function(e,n,i){return i===void 0&&(i=5.5),[["M",e-i,n-4],["L",e+i,n-4],["L",e+i,n+4],["L",e-i,n+4],["Z"]]},style:{r:5,fill:t}}}});var ije=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var i=e.startOnZero,a=i===void 0?!0:i,o=e.sortable,s=o===void 0?!1:o,l=e.showSinglePoint,u=l===void 0?!1:l;return n.startOnZero=a,n.sortable=s,n.showSinglePoint=u,n}return t.prototype.getPointsAndData=function(e){for(var n=[],i=[],a=0,o=e.length;a<o;a++){var s=e[a];n.push(s.points),i.push(s[Si])}return{points:n,data:i}},t.prototype.getYMinValue=function(){if(this.startOnZero)return r.prototype.getYMinValue.call(this);var e=this.getYScale();return e.min},t}(iB);Lv("edge",{defaultShapeType:"line",getDefaultPoints:function(r){return nB(r)}});ai("edge","line",{draw:function(r,t){var e=La(r,!0,!1,"lineWidth"),n=CS(this.parsePoints(r.points),this.coordinate.isPolar);return t.addShape("path",{attrs:P(P({},e),{path:n})})},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});var aje=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="edge",e.shapeType="edge",e.generatePoints=!0,e}return t}(Fv),oje=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="heatmap",e.paletteCache={},e}return t.prototype.updateElements=function(e,n){for(var i=0;i<e.length;i++){var a=e[i],o=this.prepareRange(a),s=this.prepareSize(),l=me(this.styleOption,["cfg","shadowBlur"]);ir(l)||(l=s/2),this.prepareGreyScaleBlurredCircle(s,l),this.drawWithRange(a,o,s,l)}},t.prototype.color=function(e,n){return this.createAttrOption("color",e,typeof n!="function"?n:""),this},t.prototype.clear=function(){r.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},t.prototype.prepareRange=function(e){var n=this.getAttribute("color"),i=n.getFields()[0],a=1/0,o=-1/0;return e.forEach(function(s){var l=s[Si][i];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},t.prototype.prepareSize=function(){var e=this.getDefaultValue("size");return ir(e)||(e=this.getDefaultSize()),e},t.prototype.prepareGreyScaleBlurredCircle=function(e,n){var i=this.getGrayScaleBlurredCanvas(),a=e+n,o=i.getContext("2d");i.width=i.height=a*2,o.clearRect(0,0,i.width,i.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=n,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,e,0,Math.PI*2,!0),o.closePath(),o.fill()},t.prototype.drawWithRange=function(e,n,i,a){var o=this.coordinate,s=o.start,l=o.end,u=this.coordinate.getWidth(),c=this.coordinate.getHeight(),f=this.getAttribute("color"),d=f.getFields()[0];this.clearShadowCanvasCtx();var h=this.getShadowCanvasCtx();n&&(e=e.filter(function(A){return A[Si][d]<=n[1]&&A[Si][d]>=n[0]}));for(var v=this.scales[d],p=0,g=e;p<g.length;p++){var m=g[p],y=this.getDrawCfg(m),b=y.x,w=y.y,S=v.scale(m[Si][d]);this.drawGrayScaleBlurredCircle(b-s.x,w-l.y,i+a,S,h)}var E=h.getImageData(0,0,u,c);this.clearShadowCanvasCtx(),this.colorize(E),h.putImageData(E,0,0);var _=this.getImageShape();_.attr("x",s.x),_.attr("y",l.y),_.attr("width",u),_.attr("height",c),_.attr("img",h.canvas),_.set("origin",this.getShapeInfo(e))},t.prototype.getDefaultSize=function(){var e=this.getAttribute("position"),n=this.coordinate;return Math.min(n.getWidth()/(e.scales[0].ticks.length*4),n.getHeight()/(e.scales[1].ticks.length*4))},t.prototype.clearShadowCanvasCtx=function(){var e=this.getShadowCanvasCtx();e.clearRect(0,0,e.canvas.width,e.canvas.height)},t.prototype.getShadowCanvasCtx=function(){var e=this.shadowCanvas;return e||(e=document.createElement("canvas"),this.shadowCanvas=e),e.width=this.coordinate.getWidth(),e.height=this.coordinate.getHeight(),e.getContext("2d")},t.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},t.prototype.drawGrayScaleBlurredCircle=function(e,n,i,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,e-i,n-i)},t.prototype.colorize=function(e){for(var n=this.getAttribute("color"),i=e.data,a=this.paletteCache,o=3;o<i.length;o+=4){var s=i[o];if(ir(s)){var l=a[s]?a[s]:fv.rgb2arr(n.gradient(s/256));i[o-3]=l[0],i[o-2]=l[1],i[o-1]=l[2],i[o]=s}}},t.prototype.getImageShape=function(){var e=this.imageShape;if(e)return e;var n=this.container;return e=n.addShape({type:"image",attrs:{}}),this.imageShape=e,e},t.prototype.getShapeInfo=function(e){var n=this.getDrawCfg(e[0]),i=e.map(function(a){return a[Si]});return P(P({},n),{mappingData:e,data:i})},t}(Fv);function aB(r){var t=r.x,e=r.y,n=r.y0,i=r.size,a,o;gt(e)?(a=e[0],o=e[1]):(a=n,o=e);var s,l;gt(t)?(s=t[0],l=t[1]):(s=t-i/2,l=t+i/2);var u=[{x:s,y:a},{x:s,y:o}];return u.push({x:l,y:o},{x:l,y:a}),u}function oB(r,t){t===void 0&&(t=!0);var e=[],n=r[0];e.push(["M",n.x,n.y]);for(var i=1,a=r.length;i<a;i++)e.push(["L",r[i].x,r[i].y]);return t&&(e.push(["L",n.x,n.y]),e.push(["z"])),e}function zre(r,t){var e=0,n=0,i=0,a=0;return gt(r)?r.length===1?e=n=i=a=r[0]:r.length===2?(e=i=r[0],n=a=r[1]):r.length===3?(e=r[0],n=a=r[1],i=r[2]):(e=r[0],n=r[1],i=r[2],a=r[3]):e=n=i=a=r,e+n>t&&(e=e?t/(1+n/e):0,n=t-e),i+a>t&&(i=i?t/(1+a/i):0,a=t-i),[e||0,n||0,i||0,a||0]}function $re(r,t,e){var n=[];if(e.isRect){var i=e.isTransposed?{x:e.start.x,y:t[0].y}:{x:t[0].x,y:e.start.y},a=e.isTransposed?{x:e.end.x,y:t[2].y}:{x:t[3].x,y:e.end.y},o=me(r,["background","style","radius"]);if(o){var s=e.isTransposed?Math.abs(t[0].y-t[2].y):t[2].x-t[1].x,l=e.isTransposed?e.getWidth():e.getHeight(),u=zre(o,Math.min(s,l)),c=u[0],f=u[1],d=u[2],h=u[3];n.push(["M",i.x,a.y+c]),c!==0&&n.push(["A",c,c,0,0,1,i.x+c,a.y]),n.push(["L",a.x-f,a.y]),f!==0&&n.push(["A",f,f,0,0,1,a.x,a.y+f]),n.push(["L",a.x,i.y-d]),d!==0&&n.push(["A",d,d,0,0,1,a.x-d,i.y]),n.push(["L",i.x+h,i.y]),h!==0&&n.push(["A",h,h,0,0,1,i.x,i.y-h])}else n.push(["M",i.x,i.y]),n.push(["L",a.x,i.y]),n.push(["L",a.x,a.y]),n.push(["L",i.x,a.y]),n.push(["L",i.x,i.y]);n.push(["z"])}if(e.isPolar){var v=e.getCenter(),p=Dw(r,e),g=p.startAngle,m=p.endAngle;if(e.type!=="theta"&&!e.isTransposed)n=dv(v.x,v.y,e.getRadius(),g,m);else{var y=function(S){return Math.pow(S,2)},c=Math.sqrt(y(v.x-t[0].x)+y(v.y-t[0].y)),f=Math.sqrt(y(v.x-t[2].x)+y(v.y-t[2].y));n=dv(v.x,v.y,c,e.startAngle,e.endAngle,f)}}return n}function sje(r,t,e){var n=e.getWidth(),i=e.getHeight(),a=e.type==="rect",o=[],s=(r[2].x-r[1].x)/2,l=e.isTransposed?s*i/n:s*n/i;return t==="round"?(a?(o.push(["M",r[0].x,r[0].y+l]),o.push(["L",r[1].x,r[1].y-l]),o.push(["A",s,s,0,0,1,r[2].x,r[2].y-l]),o.push(["L",r[3].x,r[3].y+l]),o.push(["A",s,s,0,0,1,r[0].x,r[0].y+l])):(o.push(["M",r[0].x,r[0].y]),o.push(["L",r[1].x,r[1].y]),o.push(["A",s,s,0,0,1,r[2].x,r[2].y]),o.push(["L",r[3].x,r[3].y]),o.push(["A",s,s,0,0,1,r[0].x,r[0].y])),o.push(["z"])):o=oB(r),o}function Gre(r,t,e){var n=[];return xt(t)?e?n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",(r[2].x+r[3].x)/2,(r[2].y+r[3].y)/2],["Z"]):n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",r[2].x,r[2].y],["L",r[3].x,r[3].y],["Z"]):n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",t[1].x,t[1].y],["L",t[0].x,t[0].y],["Z"]),n}function Vx(r,t){return[t,r]}function lje(r,t,e){var n,i,a,o,s,l,u,c=$i([],r,!0),f=c[0],d=c[1],h=c[2],v=c[3],p=typeof e=="number"?Array(4).fill(e):e,g=p[0],m=p[1],y=p[2],b=p[3];t.isTransposed&&(n=Vx(d,v),d=n[0],v=n[1],i=[b,g,m,y],g=i[0],m=i[1],y=i[2],b=i[3]),t.isReflect("y")&&(a=Vx(f,d),f=a[0],d=a[1],o=Vx(h,v),h=o[0],v=o[1]),t.isReflect("x")&&(s=Vx(f,v),f=s[0],v=s[1],l=Vx(d,h),d=l[0],h=l[1]);var w=[],S=function(E){return Math.abs(E)};return u=zre([g,m,y,b],Math.min(S(v.x-f.x),S(d.y-f.y))).map(function(E){return S(E)}),g=u[0],m=u[1],y=u[2],b=u[3],f.y<d.y?(w.push(["M",v.x,v.y+y]),y!==0&&w.push(["A",y,y,0,0,0,v.x-y,v.y]),w.push(["L",f.x+b,f.y]),b!==0&&w.push(["A",b,b,0,0,0,f.x,f.y+b]),w.push(["L",d.x,d.y-g]),g!==0&&w.push(["A",g,g,0,0,0,d.x+g,d.y]),w.push(["L",h.x-m,h.y]),m!==0&&w.push(["A",m,m,0,0,0,h.x,h.y-m]),w.push(["L",v.x,v.y+y]),w.push(["z"])):v.x<f.x?(w.push(["M",h.x+m,h.y]),m!==0&&w.push(["A",m,m,0,0,0,h.x,h.y+m]),w.push(["L",v.x,v.y-y]),y!==0&&w.push(["A",y,y,0,0,0,v.x+y,v.y]),w.push(["L",f.x-b,f.y]),b!==0&&w.push(["A",b,b,0,0,0,f.x,f.y-b]),w.push(["L",d.x,d.y+g]),g!==0&&w.push(["A",g,g,0,0,0,d.x-g,d.y]),w.push(["L",h.x+m,h.y]),w.push(["z"])):(w.push(["M",d.x,d.y+g]),g!==0&&w.push(["A",g,g,0,0,1,d.x+g,d.y]),w.push(["L",h.x-m,h.y]),m!==0&&w.push(["A",m,m,0,0,1,h.x,h.y+m]),w.push(["L",v.x,v.y-y]),y!==0&&w.push(["A",y,y,0,0,1,v.x-y,v.y]),w.push(["L",f.x+b,f.y]),b!==0&&w.push(["A",b,b,0,0,1,f.x,f.y-b]),w.push(["L",d.x,d.y+g]),w.push(["z"])),w}Lv("interval",{defaultShapeType:"rect",getDefaultPoints:function(r){return aB(r)}});ai("interval","rect",{draw:function(r,t){var e=La(r,!1,!0),n=t,i=r==null?void 0:r.background;if(i){n=t.addGroup();var a=Lre(r),o=$re(r,this.parsePoints(r.points),this.coordinate);n.addShape("path",{attrs:P(P({},a),{path:o}),zIndex:-1,name:eB})}var s;e.radius&&this.coordinate.isRect?s=lje(this.parsePoints(r.points),this.coordinate,e.radius):s=this.parsePath(sje(r.points,e.lineCap,this.coordinate));var l=n.addShape("path",{attrs:P(P({},e),{path:s}),name:"interval"});return i?n:l},getMarker:function(r){var t=r.color,e=r.isInPolar;return e?{symbol:"circle",style:{r:4.5,fill:t}}:{symbol:"square",style:{r:4,fill:t}}}});function uje(r,t){var e=r.length,n=r;wt(n[0])&&(n=r.map(function(s){return t.translate(s)}));for(var i=n[1]-n[0],a=2;a<e;a++){var o=n[a]-n[a-1];i>o&&(i=o)}return i}function cje(r,t){if(t){var e=fl(r),n=xu(e,t);return n.length}return r.length}function sB(r){var t=r.theme,e=r.coordinate,n=r.getXScale(),i=n.values,a=r.beforeMappingData,o=i.length,s=SS(r.coordinate),l=r.intervalPadding,u=r.dodgePadding,c=r.maxColumnWidth||t.maxColumnWidth,f=r.minColumnWidth||t.minColumnWidth,d=r.columnWidthRatio||t.columnWidthRatio,h=r.multiplePieWidthRatio||t.multiplePieWidthRatio,v=r.roseWidthRatio||t.roseWidthRatio;if(n.isLinear&&i.length>1){i.sort();var p=uje(i,n);o=(n.max-n.min)/p,i.length>o&&(o=i.length)}var g=n.range,m=1/o,y=1;if(e.isPolar?e.isTransposed&&o>1?y=h:y=v:(n.isLinear&&(m*=g[1]-g[0]),y=d),!xt(l)&&l>=0){var b=l/s;m=(1-(o-1)*b)/o}else m*=y;if(r.getAdjust("dodge")){var w=r.getAdjust("dodge"),S=w.dodgeBy,E=cje(a,S);if(!xt(u)&&u>=0){var _=u/s;m=(m-_*(E-1))/E}else!xt(l)&&l>=0&&(m*=y),m=m/E;m=m>=0?m:0}if(!xt(c)&&c>=0){var A=c/s;m>A&&(m=A)}if(!xt(f)&&f>=0){var k=f/s;m<k&&(m=k)}return m}var fje=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;n.type="interval",n.shapeType="interval",n.generatePoints=!0;var i=e.background;return n.background=i,n}return t.prototype.createShapePointsCfg=function(e){var n=r.prototype.createShapePointsCfg.call(this,e),i,a=this.getAttribute("size");if(a){i=this.getAttributeValues(a,e)[0];var o=this.coordinate,s=SS(o);i=i/s}else this.defaultSize||(this.defaultSize=sB(this)),i=this.defaultSize;return n.size=i,n},t.prototype.adjustScale=function(){r.prototype.adjustScale.call(this);var e=this.getYScale();if(this.coordinate.type==="theta")e.change({nice:!1,min:0,max:B9e(e)});else{var n=this.scaleDefs,i=e.field,a=e.min,o=e.max,s=e.type;s!=="time"&&(a>0&&!me(n,[i,"min"])&&e.change({min:0}),o<=0&&!me(n,[i,"max"])&&e.change({max:0}))}},t.prototype.getDrawCfg=function(e){var n=r.prototype.getDrawCfg.call(this,e);return n.background=this.background,n},t}(Fv),dje=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;n.type="line";var i=e.sortable,a=i===void 0?!1:i;return n.sortable=a,n}return t}(iB),Ure=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],hje=["cross","tick","plus","hyphen","line"];function lB(r,t,e,n,i){var a=La(t,i,!i,"r"),o=r.parsePoints(t.points),s=o[0];if(t.isStack)s=o[1];else if(o.length>1){for(var l=e.addGroup(),u=0,c=o;u<c.length;u++){var f=c[u];l.addShape({type:"marker",attrs:P(P(P({},a),{symbol:Fg[n]||n}),f)})}return l}return e.addShape({type:"marker",attrs:P(P(P({},a),{symbol:Fg[n]||n}),s)})}Lv("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(r){return nB(r)}});q(Ure,function(r){ai("point","hollow-".concat(r),{draw:function(t,e){return lB(this,t,e,r,!0)},getMarker:function(t){var e=t.color;return{symbol:Fg[r]||r,style:{r:4.5,stroke:e,fill:null}}}})});var vje=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="point",e.shapeType="point",e.generatePoints=!0,e}return t.prototype.getDrawCfg=function(e){var n=r.prototype.getDrawCfg.call(this,e);return P(P({},n),{isStack:!!this.getAdjust("stack")})},t}(Fv);function pje(r){for(var t=r[0],e=1,n=[["M",t.x,t.y]];e<r.length;){var i=r[e];(i.x!==r[e-1].x||i.y!==r[e-1].y)&&(n.push(["L",i.x,i.y]),i.x===t.x&&i.y===t.y&&e<r.length-1&&(t=r[e+1],n.push(["Z"]),n.push(["M",t.x,t.y]),e++)),e++}return Zi(Ua(n),t)||n.push(["L",t.x,t.y]),n.push(["Z"]),n}Lv("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(r){var t=[];return q(r.x,function(e,n){var i=r.y[n];t.push({x:e,y:i})}),t}});ai("polygon","polygon",{draw:function(r,t){if(!Bs(r.points)){var e=La(r,!0,!0),n=this.parsePath(pje(r.points));return t.addShape("path",{attrs:P(P({},e),{path:n}),name:"polygon"})}},getMarker:function(r){var t=r.color;return{symbol:"square",style:{r:4,fill:t}}}});var gje=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="polygon",e.shapeType="polygon",e.generatePoints=!0,e}return t.prototype.createShapePointsCfg=function(e){var n=r.prototype.createShapePointsCfg.call(this,e),i=n.x,a=n.y,o;if(!(gt(i)&&gt(a))){var s=this.getXScale(),l=this.getYScale(),u=s.values.length,c=l.values.length,f=.5*1/u,d=.5*1/c;s.isCategory&&l.isCategory?(i=[i-f,i-f,i+f,i+f],a=[a-d,a+d,a+d,a-d]):gt(i)?(o=i,i=[o[0],o[0],o[1],o[1]],a=[a-d/2,a+d/2,a+d/2,a-d/2]):gt(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],i=[i-f/2,i-f/2,i+f/2,i+f/2]),n.x=i,n.y=a}return n},t}(Fv);Lv("schema",{defaultShapeType:""});var mje=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="schema",e.shapeType="schema",e.generatePoints=!0,e}return t.prototype.createShapePointsCfg=function(e){var n=r.prototype.createShapePointsCfg.call(this,e),i,a=this.getAttribute("size");if(a){i=this.getAttributeValues(a,e)[0];var o=this.coordinate,s=SS(o);i=i/s}else this.defaultSize||(this.defaultSize=sB(this)),i=this.defaultSize;return n.size=i,n},t}(Fv);function yje(r){if(!gt(r))return[];var t=bs(r);return Di(r,function(e){return e/t})}Lv("violin",{defaultShapeType:"violin",getDefaultPoints:function(r){var t=r.size/2,e=[],n=yje(r._size);return q(r.y,function(i,a){var o=n[a]*t,s=a===0,l=a===r.y.length-1;e.push({isMin:s,isMax:l,x:r.x-o,y:i}),e.unshift({isMin:s,isMax:l,x:r.x+o,y:i})}),e}});ai("violin","violin",{draw:function(r,t){var e=La(r,!0,!0),n=this.parsePath(Dre(r.points));return t.addShape("path",{attrs:P(P({},e),{path:n}),name:"violin"})},getMarker:function(r){var t=r.color;return{symbol:"circle",style:{r:4,fill:t}}}});var bje=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="violin",e.shapeType="violin",e.generatePoints=!0,e}return t.prototype.createShapePointsCfg=function(e){var n=r.prototype.createShapePointsCfg.call(this,e),i,a=this.getAttribute("size");if(a){i=this.getAttributeValues(a,e)[0];var o=this.coordinate,s=SS(o);i=i/s}else this.defaultSize||(this.defaultSize=sB(this)),i=this.defaultSize;return n.size=i,n._size=me(e[Si],[this._sizeField]),n},t.prototype.initAttributes=function(){var e=this.attributeOption,n=e.size?e.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=n,delete e.size,r.prototype.initAttributes.call(this)},t}(Fv);ai("area","line",{draw:function(r,t){var e=ok(r,!0,!1,this),n=t.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(r){var t=r.color;return{symbol:function(e,n,i){return i===void 0&&(i=5.5),[["M",e-i,n-4],["L",e+i,n-4],["L",e+i,n+4],["L",e-i,n+4],["Z"]]},style:{r:5,stroke:t,fill:null}}}});ai("area","smooth",{draw:function(r,t){var e=this.coordinate,n=ok(r,!1,!0,this,Bre(e)),i=t.addShape({type:"path",attrs:n,name:"area"});return i},getMarker:function(r){var t=r.color;return{symbol:function(e,n,i){return i===void 0&&(i=5.5),[["M",e-i,n-4],["L",e+i,n-4],["L",e+i,n+4],["L",e-i,n+4],["Z"]]},style:{r:5,fill:t}}}});ai("area","smooth-line",{draw:function(r,t){var e=this.coordinate,n=ok(r,!0,!0,this,Bre(e)),i=t.addShape({type:"path",attrs:n,name:"area"});return i},getMarker:function(r){var t=r.color;return{symbol:function(e,n,i){return i===void 0&&(i=5.5),[["M",e-i,n-4],["L",e+i,n-4],["L",e+i,n+4],["L",e-i,n+4],["Z"]]},style:{r:5,stroke:t,fill:null}}}});function LO(r,t){return["C",r.x*1/2+t.x*1/2,r.y,r.x*1/2+t.x*1/2,t.y,t.x,t.y]}function FO(r,t){var e=[];e.push({x:t.x,y:t.y}),e.push(r);var n=["Q"];return q(e,function(i){n.push(i.x,i.y)}),n}function xje(r,t,e){var n=FO(t,e),i=[["M",r.x,r.y]];return i.push(n),i}function wje(r,t){var e=FO(r[1],t),n=FO(r[3],t),i=[["M",r[0].x,r[0].y]];return i.push(n),i.push(["L",r[3].x,r[3].y]),i.push(["L",r[2].x,r[2].y]),i.push(e),i.push(["L",r[1].x,r[1].y]),i.push(["L",r[0].x,r[0].y]),i.push(["Z"]),i}ai("edge","arc",{draw:function(r,t){var e=La(r,!0,!1,"lineWidth"),n=r.points,i=n.length>2?"weight":"normal",a;if(r.isInCircle){var o={x:0,y:1};return i==="normal"?a=xje(n[0],n[1],o):(e.fill=e.stroke,a=wje(n,o)),a=this.parsePath(a),t.addShape("path",{attrs:P(P({},e),{path:a})})}else{if(i==="normal")return n=this.parsePoints(n),a=ere((n[1].x+n[0].x)/2,n[0].y,Math.abs(n[1].x-n[0].x)/2,Math.PI,Math.PI*2),t.addShape("path",{attrs:P(P({},e),{path:a})});var s=LO(n[1],n[3]),l=LO(n[2],n[0]);return a=[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],s,["L",n[3].x,n[3].y],["L",n[2].x,n[2].y],l,["Z"]],a=this.parsePath(a),e.fill=e.stroke,t.addShape("path",{attrs:P(P({},e),{path:a})})}},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});function Sje(r,t){var e=LO(r,t),n=[["M",r.x,r.y]];return n.push(e),n}ai("edge","smooth",{draw:function(r,t){var e=La(r,!0,!1,"lineWidth"),n=r.points,i=this.parsePath(Sje(n[0],n[1]));return t.addShape("path",{attrs:P(P({},e),{path:i})})},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});var h2=1/3;function Cje(r,t){var e=[];e.push({x:r.x,y:r.y*(1-h2)+t.y*h2}),e.push({x:t.x,y:r.y*(1-h2)+t.y*h2}),e.push(t);var n=[["M",r.x,r.y]];return q(e,function(i){n.push(["L",i.x,i.y])}),n}ai("edge","vhv",{draw:function(r,t){var e=La(r,!0,!1,"lineWidth"),n=r.points,i=this.parsePath(Cje(n[0],n[1]));return t.addShape("path",{attrs:P(P({},e),{path:i})})},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});ai("interval","funnel",{getPoints:function(r){return r.size=r.size*2,aB(r)},draw:function(r,t){var e=La(r,!1,!0),n=this.parsePath(Gre(r.points,r.nextPoints,!1)),i=t.addShape("path",{attrs:P(P({},e),{path:n}),name:"interval"});return i},getMarker:function(r){var t=r.color;return{symbol:"square",style:{r:4,fill:t}}}});ai("interval","hollow-rect",{draw:function(r,t){var e=La(r,!0,!1),n=t,i=r==null?void 0:r.background;if(i){n=t.addGroup();var a=Lre(r),o=$re(r,this.parsePoints(r.points),this.coordinate);n.addShape("path",{attrs:P(P({},a),{path:o}),zIndex:-1,name:eB})}var s=this.parsePath(oB(r.points)),l=n.addShape("path",{attrs:P(P({},e),{path:s}),name:"interval"});return i?n:l},getMarker:function(r){var t=r.color,e=r.isInPolar;return e?{symbol:"circle",style:{r:4.5,stroke:t,fill:null}}:{symbol:"square",style:{r:4,stroke:t,fill:null}}}});function Eje(r){var t=r.x,e=r.y,n=r.y0;return gt(e)?e.map(function(i,a){return{x:gt(t)?t[a]:t,y:i}}):[{x:t,y:n},{x:t,y:e}]}ai("interval","line",{getPoints:function(r){return Eje(r)},draw:function(r,t){var e=La(r,!0,!1,"lineWidth"),n=nl(P({},e),["fill"]),i=this.parsePath(oB(r.points,!1)),a=t.addShape("path",{attrs:P(P({},n),{path:i}),name:"interval"});return a},getMarker:function(r){var t=r.color;return{symbol:function(e,n,i){return[["M",e,n-i],["L",e,n+i]]},style:{r:5,stroke:t}}}});ai("interval","pyramid",{getPoints:function(r){return r.size=r.size*2,aB(r)},draw:function(r,t){var e=La(r,!1,!0),n=this.parsePath(Gre(r.points,r.nextPoints,!0)),i=t.addShape("path",{attrs:P(P({},e),{path:n}),name:"interval"});return i},getMarker:function(r){var t=r.color;return{symbol:"square",style:{r:4,fill:t}}}});function _je(r){var t=r.x,e=r.y,n=r.y0,i=r.size,a,o;gt(e)?(a=e[0],o=e[1]):(a=n,o=e);var s=t+i/2,l=t-i/2;return[{x:t,y:a},{x:t,y:o},{x:l,y:a},{x:s,y:a},{x:l,y:o},{x:s,y:o}]}function Tje(r){return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y]]}ai("interval","tick",{getPoints:function(r){return _je(r)},draw:function(r,t){var e=La(r,!0,!1),n=this.parsePath(Tje(r.points)),i=t.addShape("path",{attrs:P(P({},e),{path:n}),name:"interval"});return i},getMarker:function(r){var t=r.color;return{symbol:function(e,n,i){return[["M",e-i/2,n-i],["L",e+i/2,n-i],["M",e,n-i],["L",e,n+i],["M",e-i/2,n+i],["L",e+i/2,n+i]]},style:{r:5,stroke:t}}}});var Aje=function(r,t,e){var n=r.x,i=r.y,a=t.x,o=t.y,s;switch(e){case"hv":s=[{x:a,y:i}];break;case"vh":s=[{x:n,y:o}];break;case"hvh":var l=(a+n)/2;s=[{x:l,y:i},{x:l,y:o}];break;case"vhv":var u=(i+o)/2;s=[{x:n,y:u},{x:a,y:u}];break}return s};function kje(r,t){var e=[];return q(r,function(n,i){var a=r[i+1];if(e.push(n),a){var o=Aje(n,a,t);e=e.concat(o)}}),e}function Mje(r){return r.map(function(t,e){return e===0?["M",t.x,t.y]:["L",t.x,t.y]})}function Ije(r,t){var e=ak(r.points,r.connectNulls,r.showSinglePoint),n=[];return q(e,function(i){var a=kje(i,t);n=n.concat(Mje(a))}),P(P({},La(r,!0,!1,"lineWidth")),{path:n})}q(["hv","vh","hvh","vhv"],function(r){ai("line",r,{draw:function(t,e){var n=Ije(t,r),i=e.addShape({type:"path",attrs:n,name:"line"});return i},getMarker:function(t){return Fre(t,r)}})});q(hje,function(r){ai("point",r,{draw:function(t,e){return lB(this,t,e,r,!0)},getMarker:function(t){var e=t.color;return{symbol:Fg[r],style:{r:4.5,stroke:e,fill:null}}}})});ai("point","image",{draw:function(r,t){var e=La(r,!1,!1,"r").r,n=this.parsePoints(r.points),i=n[0];if(r.isStack)i=n[1];else if(n.length>1){for(var a=t.addGroup(),o=0,s=n;o<s.length;o++){var l=s[o];a.addShape("image",{attrs:{x:l.x-e/2,y:l.y-e,width:e,height:e,img:r.shape[1]}})}return a}return t.addShape("image",{attrs:{x:i.x-e/2,y:i.y-e,width:e,height:e,img:r.shape[1]}})},getMarker:function(r){var t=r.color;return{symbol:"circle",style:{r:4.5,fill:t}}}});q(Ure,function(r){ai("point",r,{draw:function(t,e){return lB(this,t,e,r,!1)},getMarker:function(t){var e=t.color;return{symbol:Fg[r]||r,style:{r:4.5,fill:e}}}})});function M9(r){var t=gt(r)?r:[r],e=t[0],n=t[t.length-1],i=t.length>1?t[1]:e,a=t.length>3?t[3]:n,o=t.length>2?t[2]:i;return{min:e,max:n,min1:i,max1:a,median:o}}function I9(r,t,e){var n=e/2,i;if(gt(t)){var a=M9(t),o=a.min,s=a.max,l=a.median,u=a.min1,c=a.max1,f=r-n,d=r+n;i=[[f,s],[d,s],[r,s],[r,c],[f,u],[f,c],[d,c],[d,u],[r,u],[r,o],[f,o],[d,o],[f,l],[d,l]]}else{t=xt(t)?.5:t;var h=M9(r),o=h.min,s=h.max,l=h.median,u=h.min1,c=h.max1,v=t-n,p=t+n;i=[[o,v],[o,p],[o,t],[u,t],[u,v],[u,p],[c,p],[c,v],[c,t],[s,t],[s,v],[s,p],[l,v],[l,p]]}return i.map(function(g){return{x:g[0],y:g[1]}})}function Pje(r){return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y],["L",r[6].x,r[6].y],["L",r[7].x,r[7].y],["L",r[4].x,r[4].y],["Z"],["M",r[8].x,r[8].y],["L",r[9].x,r[9].y],["M",r[10].x,r[10].y],["L",r[11].x,r[11].y],["M",r[12].x,r[12].y],["L",r[13].x,r[13].y]]}ai("schema","box",{getPoints:function(r){var t=r.x,e=r.y,n=r.size;return I9(t,e,n)},draw:function(r,t){var e=La(r,!0,!1),n=this.parsePath(Pje(r.points)),i=t.addShape("path",{attrs:P(P({},e),{path:n,name:"schema"})});return i},getMarker:function(r){var t=r.color;return{symbol:function(e,n,i){var a=[n-6,n-3,n,n+3,n+6],o=I9(e,a,i);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:t}}}});function Rje(r){var t=gt(r)?r:[r],e=t.sort(function(n,i){return i-n});return I9e(e,4,e[e.length-1])}function P9(r,t,e){var n=Rje(t);return[{x:r,y:n[0]},{x:r,y:n[1]},{x:r-e/2,y:n[2]},{x:r-e/2,y:n[1]},{x:r+e/2,y:n[1]},{x:r+e/2,y:n[2]},{x:r,y:n[2]},{x:r,y:n[3]}]}function Dje(r){return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["L",r[4].x,r[4].y],["L",r[5].x,r[5].y],["Z"],["M",r[6].x,r[6].y],["L",r[7].x,r[7].y]]}ai("schema","candle",{getPoints:function(r){var t=r.x,e=r.y,n=r.size;return P9(t,e,n)},draw:function(r,t){var e=La(r,!0,!0),n=this.parsePath(Dje(r.points)),i=t.addShape("path",{attrs:P(P({},e),{path:n,name:"schema"})});return i},getMarker:function(r){var t=r.color;return{symbol:function(e,n,i){var a=[n+7.5,n+3,n-3,n-7.5],o=P9(e,a,i);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:t,fill:t,r:6}}}});function Oje(r,t){var e=Math.abs(r[0].x-r[2].x),n=Math.abs(r[0].y-r[2].y),i=Math.min(e,n);t&&(i=Bi(t,0,Math.min(e,n))),i=i/2;var a=(r[0].x+r[2].x)/2,o=(r[0].y+r[2].y)/2;return{x:a-i,y:o-i,width:i*2,height:i*2}}ai("polygon","square",{draw:function(r,t){if(!Bs(r.points)){var e=La(r,!0,!0),n=this.parsePoints(r.points);return t.addShape("rect",{attrs:P(P({},e),Oje(n,r.size)),name:"polygon"})}},getMarker:function(r){var t=r.color;return{symbol:"square",style:{r:4,fill:t}}}});ai("violin","smooth",{draw:function(r,t){var e=La(r,!0,!0),n=this.parsePath(Ore(r.points));return t.addShape("path",{attrs:P(P({},e),{path:n})})},getMarker:function(r){var t=r.color;return{symbol:"circle",style:{stroke:null,r:4,fill:t}}}});ai("violin","hollow",{draw:function(r,t){var e=La(r,!0,!1),n=this.parsePath(Dre(r.points));return t.addShape("path",{attrs:P(P({},e),{path:n})})},getMarker:function(r){var t=r.color;return{symbol:"circle",style:{r:4,fill:null,stroke:t}}}});ai("violin","hollow-smooth",{draw:function(r,t){var e=La(r,!0,!1),n=this.parsePath(Ore(r.points));return t.addShape("path",{attrs:P(P({},e),{path:n})})},getMarker:function(r){var t=r.color;return{symbol:"circle",style:{r:4,fill:null,stroke:t}}}});var Lje=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getLabelValueDir=function(e){var n="y",i=e.points;return i[0][n]<=i[2][n]?1:-1},t.prototype.getLabelOffsetPoint=function(e,n,i,a){var o,s=r.prototype.getLabelOffsetPoint.call(this,e,n,i),l=this.getCoordinate(),u=l.isTransposed,c=u?"x":"y",f=this.getLabelValueDir(e.mappingData);return s=P(P({},s),(o={},o[c]=s[c]*f,o)),l.isReflect("x")&&(s=P(P({},s),{x:s.x*-1})),l.isReflect("y")&&(s=P(P({},s),{y:s.y*-1})),s},t.prototype.getThemedLabelCfg=function(e){var n=this.geometry,i=this.getDefaultLabelCfg(),a=n.theme;return Kt({},i,a.labels,e.position==="middle"?{offset:0}:{},e)},t.prototype.setLabelPosition=function(e,n,i,a){var o=this.getCoordinate(),s=o.isTransposed,l=n.points,u=o.convert(l[0]),c=o.convert(l[2]),f=this.getLabelValueDir(n),d,h,v,p,g=gt(n.shape)?n.shape[0]:n.shape;if(g==="funnel"||g==="pyramid"){var m=me(n,"nextPoints"),y=me(n,"points");if(m){var b=o.convert(y[0]),w=o.convert(y[1]),S=o.convert(m[0]),E=o.convert(m[1]);s?(d=Math.min(S.y,b.y),v=Math.max(S.y,b.y),h=(w.x+E.x)/2,p=(b.x+S.x)/2):(d=Math.min((w.y+E.y)/2,(b.y+S.y)/2),v=Math.max((w.y+E.y)/2,(b.y+S.y)/2),h=E.x,p=b.x)}else d=Math.min(c.y,u.y),v=Math.max(c.y,u.y),h=c.x,p=u.x}else d=Math.min(c.y,u.y),v=Math.max(c.y,u.y),h=c.x,p=u.x;switch(a){case"right":e.x=h,e.y=(d+v)/2,e.textAlign=me(e,"textAlign",f>0?"left":"right");break;case"left":e.x=p,e.y=(d+v)/2,e.textAlign=me(e,"textAlign",f>0?"left":"right");break;case"bottom":s&&(e.x=(h+p)/2),e.y=v,e.textAlign=me(e,"textAlign","center"),e.textBaseline=me(e,"textBaseline",f>0?"bottom":"top");break;case"middle":s&&(e.x=(h+p)/2),e.y=(d+v)/2,e.textAlign=me(e,"textAlign","center"),e.textBaseline=me(e,"textBaseline","middle");break;case"top":s&&(e.x=(h+p)/2),e.y=d,e.textAlign=me(e,"textAlign","center"),e.textBaseline=me(e,"textBaseline",f>0?"bottom":"top");break}},t}(ik),v2=Math.PI/2,Hre=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getLabelOffset=function(e){var n=this.getCoordinate(),i=0;if(ir(e))i=e;else if(wt(e)&&e.indexOf("%")!==-1){var a=n.getRadius();n.innerRadius>0&&(a=a*(1-n.innerRadius)),i=parseFloat(e)*.01*a}return i},t.prototype.getLabelItems=function(e){var n=r.prototype.getLabelItems.call(this,e),i=this.geometry.getYScale();return Di(n,function(a){if(a&&i){var o=i.scale(me(a.data,i.field));return P(P({},a),{percent:o})}return a})},t.prototype.getLabelAlign=function(e){var n=this.getCoordinate(),i;if(e.labelEmit)i=e.angle<=Math.PI/2&&e.angle>=-Math.PI/2?"left":"right";else if(!n.isTransposed)i="center";else{var a=n.getCenter(),o=e.offset;Math.abs(e.x-a.x)<1?i="center":e.angle>Math.PI||e.angle<=0?i=o>0?"left":"right":i=o>0?"right":"left"}return i},t.prototype.getLabelPoint=function(e,n,i){var a=1,o,s=e.content[i];this.isToMiddle(n)?o=this.getMiddlePoint(n.points):(e.content.length===1&&i===0?i=1:i===0&&(a=-1),o=this.getArcPoint(n,i));var l=e.offset*a,u=this.getPointAngle(o),c=e.labelEmit,f=this.getCirclePoint(u,l,o,c);return f.r===0?f.content="":(f.content=s,f.angle=u,f.color=n.color),f.rotate=e.autoRotate?this.getLabelRotate(u,l,c):e.rotate,f.start={x:o.x,y:o.y},f},t.prototype.getArcPoint=function(e,n){return n===void 0&&(n=0),!gt(e.x)&&!gt(e.y)?{x:e.x,y:e.y}:{x:gt(e.x)?e.x[n]:e.x,y:gt(e.y)?e.y[n]:e.y}},t.prototype.getPointAngle=function(e){return _0(this.getCoordinate(),e)},t.prototype.getCirclePoint=function(e,n,i,a){var o=this.getCoordinate(),s=o.getCenter(),l=tk(o,i);if(l===0)return P(P({},s),{r:l});var u=e;if(o.isTransposed&&l>n&&!a){var c=Math.asin(n/(2*l));u=e+c*2}else l=l+n;return{x:s.x+l*Math.cos(u),y:s.y+l*Math.sin(u),r:l}},t.prototype.getLabelRotate=function(e,n,i){var a=e+v2;return i&&(a-=v2),a&&(a>v2?a=a-Math.PI:a<-v2&&(a=a+Math.PI)),a},t.prototype.getMiddlePoint=function(e){var n=this.getCoordinate(),i=e.length,a={x:0,y:0};return q(e,function(o){a.x+=o.x,a.y+=o.y}),a.x/=i,a.y/=i,a=n.convert(a),a},t.prototype.isToMiddle=function(e){return e.x.length>2},t}(ik),Fje=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.defaultLayout="distribute",e}return t.prototype.getDefaultLabelCfg=function(e,n){var i=r.prototype.getDefaultLabelCfg.call(this,e,n);return Kt({},i,me(this.geometry.theme,"pieLabels",{}))},t.prototype.getLabelOffset=function(e){return r.prototype.getLabelOffset.call(this,e)||0},t.prototype.getLabelRotate=function(e,n,i){var a;return n<0&&(a=e,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},t.prototype.getLabelAlign=function(e){var n=this.getCoordinate(),i=n.getCenter(),a;return e.angle<=Math.PI/2&&e.x>=i.x?a="left":a="right",e.offset<=0&&(a==="right"?a="left":a="right"),a},t.prototype.getArcPoint=function(e){return e},t.prototype.getPointAngle=function(e){var n=this.getCoordinate(),i={x:gt(e.x)?e.x[0]:e.x,y:e.y[0]},a={x:gt(e.x)?e.x[1]:e.x,y:e.y[1]},o,s=_0(n,i);if(e.points&&e.points[0].y===e.points[1].y)o=s;else{var l=_0(n,a);s>=l&&(l=l+Math.PI*2),o=s+(l-s)/2}return o},t.prototype.getCirclePoint=function(e,n){var i=this.getCoordinate(),a=i.getCenter(),o=i.getRadius()+n;return P(P({},Ga(a.x,a.y,o,e)),{angle:e,r:o})},t}(Hre),R9=4;function Nje(r,t,e,n,i,a){var o=!0,s=n.start,l=n.end,u=Math.min(s.y,l.y),c=Math.abs(s.y-l.y),f,d=0,h=Number.MIN_VALUE,v=t.map(function(S){return S.y>d&&(d=S.y),S.y<h&&(h=S.y),{size:e,targets:[S.y-u]}});for(h-=u,d-u>c&&(c=d-u);o;)for(v.forEach(function(S){var E=(Math.min.apply(h,S.targets)+Math.max.apply(h,S.targets))/2;S.pos=Math.min(Math.max(h,E-S.size/2),c-S.size)}),o=!1,f=v.length;f--;)if(f>0){var p=v[f-1],g=v[f];p.pos+p.size>g.pos&&(p.size+=g.size,p.targets=p.targets.concat(g.targets),p.pos+p.size>c&&(p.pos=c-p.size),v.splice(f,1),o=!0)}f=0,v.forEach(function(S){var E=u+e/2;S.targets.forEach(function(){t[f].y=S.pos+E,E+=e,f++})});for(var m={},y=0,b=r;y<b.length;y++){var w=b[y];m[w.get("id")]=w}t.forEach(function(S){var E=S.r*S.r,_=Math.pow(Math.abs(S.y-i.y),2);if(E<_)S.x=i.x;else{var A=Math.sqrt(E-_);a?S.x=i.x+A:S.x=i.x-A}var k=m[S.id];k.attr("x",S.x),k.attr("y",S.y);var T=bu(k.getChildren(),function(I){return I.get("type")==="text"});T&&(T.attr("y",S.y),T.attr("x",S.x))})}function Bje(r,t,e,n){if(!(!r.length||!t.length)){var i=r[0]?r[0].offset:0,a=t[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(i>0){var l=14,u=o+i,c=u*2+l*2,f={start:a.start,end:a.end},d=[[],[]];r.forEach(function(h){!h||(h.textAlign==="right"?d[0].push(h):d[1].push(h))}),d.forEach(function(h,v){var p=c/l;h.length>p&&(h.sort(function(g,m){return m["..percent"]-g["..percent"]}),h.splice(p,h.length-p)),h.sort(function(g,m){return g.y-m.y}),Nje(t,h,l,f,s,v)})}q(r,function(h){if(h&&h.labelLine){var v=h.offset,p=h.angle,g=Ga(s.x,s.y,o,p),m=Ga(s.x,s.y,o+v/2,p),y=h.x+me(h,"offsetX",0),b=h.y+me(h,"offsetY",0),w={x:y-Math.cos(p)*R9,y:b-Math.sin(p)*R9};Hn(h.labelLine)||(h.labelLine={}),h.labelLine.path=["M ".concat(g.x),"".concat(g.y," Q").concat(m.x),"".concat(m.y," ").concat(w.x),w.y].join(",")}})}}function Vre(r,t,e){var n=r.filter(function(v){return!v.invisible});n.sort(function(v,p){return v.y-p.y});var i=!0,a=e.minY,o=e.maxY,s=Math.abs(a-o),l,u=0,c=Number.MIN_VALUE,f=n.map(function(v){return v.y>u&&(u=v.y),v.y<c&&(c=v.y),{content:v.content,size:t,targets:[v.y-a],pos:null}});for(c-=a,u-a>s&&(s=u-a);i;)for(f.forEach(function(v){var p=(Math.min.apply(c,v.targets)+Math.max.apply(c,v.targets))/2;v.pos=Math.min(Math.max(c,p-v.size/2),s-v.size),v.pos=Math.max(0,v.pos)}),i=!1,l=f.length;l--;)if(l>0){var d=f[l-1],h=f[l];d.pos+d.size>h.pos&&(d.size+=h.size,d.targets=d.targets.concat(h.targets),d.pos+d.size>s&&(d.pos=s-d.size),f.splice(l,1),i=!0)}l=0,f.forEach(function(v){var p=a+t/2;v.targets.forEach(function(){n[l].y=v.pos+p,p+=t,l++})})}var D9=4;function zje(r,t){var e=t.getCenter(),n=t.getRadius();if(r&&r.labelLine){var i=r.angle,a=r.offset,o=Ga(e.x,e.y,n,i),s=r.x+me(r,"offsetX",0)*(Math.cos(i)>0?1:-1),l=r.y+me(r,"offsetY",0)*(Math.sin(i)>0?1:-1),u={x:s-Math.cos(i)*D9,y:l-Math.sin(i)*D9},c=r.labelLine.smooth,f=[],d=u.x-e.x,h=u.y-e.y,v=Math.atan(h/d);if(d<0&&(v+=Math.PI),c===!1){Hn(r.labelLine)||(r.labelLine={});var p=0;(i<0&&i>-Math.PI/2||i>Math.PI*1.5)&&u.y>o.y&&(p=1),i>=0&&i<Math.PI/2&&u.y>o.y&&(p=1),i>=Math.PI/2&&i<Math.PI&&o.y>u.y&&(p=1),(i<-Math.PI/2||i>=Math.PI&&i<Math.PI*1.5)&&o.y>u.y&&(p=1);var g=a/2>4?4:Math.max(a/2-1,0),m=Ga(e.x,e.y,n+g,i),y=Ga(e.x,e.y,n+a/2,v),b=0;f.push("M ".concat(o.x," ").concat(o.y)),f.push("L ".concat(m.x," ").concat(m.y)),f.push("A ".concat(e.x," ").concat(e.y," 0 ").concat(b," ").concat(p," ").concat(y.x," ").concat(y.y)),f.push("L ".concat(u.x," ").concat(u.y))}else{var m=Ga(e.x,e.y,n+(a/2>4?4:Math.max(a/2-1,0)),i),w=o.x<e.x?1:-1;f.push("M ".concat(u.x," ").concat(u.y));var S=(o.y-e.y)/(o.x-e.x),E=(u.y-e.y)/(u.x-e.x);Math.abs(S-E)>Math.pow(Math.E,-16)&&f.push.apply(f,["C",u.x+w*4,u.y,2*m.x-o.x,2*m.y-o.y,o.x,o.y]),f.push("L ".concat(o.x," ").concat(o.y))}r.labelLine.path=f.join(" ")}}function $je(r,t,e,n){var i=ko(r,function(E){return!xt(E)}),a=t[0]&&t[0].get("coordinate");if(!!a){for(var o=a.getCenter(),s=a.getRadius(),l={},u=0,c=t;u<c.length;u++){var f=c[u];l[f.get("id")]=f}var d=me(i[0],"labelHeight",14),h=me(i[0],"offset",0);if(!(h<=0)){var v="left",p="right",g=xs(i,function(E){return E.x<o.x?v:p}),m=a.start,y=a.end,b=Math.min((s+h+d)*2,a.getHeight()),w=b/2,S={minX:m.x,maxX:y.x,minY:o.y-w,maxY:o.y+w};q(g,function(E,_){var A=Math.floor(b/d);E.length>A&&(E.sort(function(k,T){return T.percent-k.percent}),q(E,function(k,T){T+1>A&&(l[k.id].set("visible",!1),k.invisible=!0)})),Vre(E,d,S)}),q(g,function(E,_){q(E,function(A){var k=_===p,T=l[A.id],I=T.getChildByIndex(0);if(I){var D=s+h,O=A.y-o.y,B=Math.pow(D,2),U=Math.pow(O,2),N=B-U>0?B-U:0,G=Math.sqrt(N),L=Math.abs(Math.cos(A.angle)*D);k?A.x=o.x+Math.max(G,L):A.x=o.x-Math.max(G,L)}I&&(I.attr("y",A.y),I.attr("x",A.x)),zje(A,a)})})}}}var NO=4,Gje=4,O9=4;function Uje(r,t,e){var n=t.getCenter(),i=t.getRadius(),a={x:r.x-(e?O9:-O9),y:r.y},o=Ga(n.x,n.y,i+NO,r.angle),s={x:a.x,y:a.y},l={x:o.x,y:o.y},u=Ga(n.x,n.y,i,r.angle),c="";if(a.y!==o.y){var f=e?4:-4;s.y=a.y,r.angle<0&&r.angle>=-Math.PI/2&&(s.x=Math.max(o.x,a.x-f),a.y<o.y?l.y=s.y:(l.y=o.y,l.x=Math.max(l.x,s.x-f))),r.angle>0&&r.angle<Math.PI/2&&(s.x=Math.max(o.x,a.x-f),a.y>o.y?l.y=s.y:(l.y=o.y,l.x=Math.max(l.x,s.x-f))),r.angle>Math.PI/2&&(s.x=Math.min(o.x,a.x-f),a.y>o.y?l.y=s.y:(l.y=o.y,l.x=Math.min(l.x,s.x-f))),r.angle<-Math.PI/2&&(s.x=Math.min(o.x,a.x-f),a.y<o.y?l.y=s.y:(l.y=o.y,l.x=Math.min(l.x,s.x-f)))}c=["M ".concat(a.x,",").concat(a.y),"L ".concat(s.x,",").concat(s.y),"L ".concat(l.x,",").concat(l.y),"L ".concat(o.x,",").concat(o.y),"L ".concat(u.x,",").concat(u.y)].join(" "),r.labelLine=Kt({},r.labelLine,{path:c})}function Hje(r,t,e,n){var i=t[0]&&t[0].get("coordinate");if(!!i){for(var a=i.getCenter(),o=i.getRadius(),s={},l=0,u=t;l<u.length;l++){var c=u[l];s[c.get("id")]=c}var f=me(r[0],"labelHeight",14),d=Math.max(me(r[0],"offset",0),NO);q(r,function(E){var _=me(s,[E.id]);if(!!_){var A=E.x>a.x||E.x===a.x&&E.y>a.y,k=xt(E.offsetX)?Gje:E.offsetX,T=Ga(a.x,a.y,o+NO,E.angle),I=d+k;E.x=a.x+(A?1:-1)*(o+I),E.y=T.y}});var h=i.start,v=i.end,p="left",g="right",m=xs(r,function(E){return E.x<a.x?p:g}),y=(o+d)*2+f;q(m,function(E){var _=E.length*f;_>y&&(y=Math.min(_,Math.abs(h.y-v.y)))});var b={minX:h.x,maxX:v.x,minY:a.y-y/2,maxY:a.y+y/2};q(m,function(E,_){var A=y/f;E.length>A&&(E.sort(function(k,T){return T.percent-k.percent}),q(E,function(k,T){T>A&&(s[k.id].set("visible",!1),k.invisible=!0)})),Vre(E,f,b)});var w=b.minY,S=b.maxY;q(m,function(E,_){var A=_===g;q(E,function(k){var T=me(s,k&&[k.id]);if(!!T){if(k.y<w||k.y>S){T.set("visible",!1);return}var I=T.getChildByIndex(0),D=I.getCanvasBBox(),O={x:A?D.x:D.maxX,y:D.y+D.height/2};_S(I,k.x-O.x,k.y-O.y),k.labelLine&&Uje(k,i,A)}})})}}function Vje(r,t,e,n){q(t,function(i){var a=n.minX,o=n.minY,s=n.maxX,l=n.maxY,u=i.getCanvasBBox(),c=u.minX,f=u.minY,d=u.maxX,h=u.maxY,v=u.x,p=u.y,g=u.width,m=u.height,y=v,b=p;(c<a||d<a)&&(y=a),(f<o||h<o)&&(b=o),c>s?y=s-g:d>s&&(y=y-(d-s)),f>l?b=l-m:h>l&&(b=b-(h-l)),(y!==v||b!==p)&&_S(i,y-v,b-p)})}function Wje(r,t,e,n){q(t,function(i,a){var o=i.getCanvasBBox(),s=e[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&i.remove(!0)})}var jje=100,Wre=function(){function r(t){t===void 0&&(t={}),this.bitmap={};var e=t.xGap,n=e===void 0?1:e,i=t.yGap,a=i===void 0?8:i;this.xGap=n,this.yGap=a}return r.prototype.hasGap=function(t){for(var e=!0,n=this.bitmap,i=Math.round(t.minX),a=Math.round(t.maxX),o=Math.round(t.minY),s=Math.round(t.maxY),l=i;l<=a;l+=1){if(!n[l]){n[l]={};continue}if(l===i||l===a){for(var u=o;u<=s;u++)if(n[l][u]){e=!1;break}}else if(n[l][o]||n[l][s]){e=!1;break}}return e},r.prototype.fillGap=function(t){for(var e=this.bitmap,n=Math.round(t.minX),i=Math.round(t.maxX),a=Math.round(t.minY),o=Math.round(t.maxY),s=n;s<=i;s+=1)e[s]||(e[s]={});for(var s=n;s<=i;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)e[s][l]=!0;e[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)e[n][s]=!0,e[i][s]=!0;if(this.xGap!==1)for(var s=n;s<=i;s+=1)e[s][a]=!0,e[s][o]=!0},r.prototype.destroy=function(){this.bitmap={}},r}();function Yje(r,t,e){e===void 0&&(e=jje);var n=-1,i=r.attr(),a=i.x,o=i.y,s=r.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),u,c=-n,f=0,d=0,h=function(m){var y=m*.1;return[y*Math.cos(y),y*Math.sin(y)]};if(t.hasGap(s))return t.fillGap(s),!0;for(var v=!1,p=0,g={};Math.min(Math.abs(f),Math.abs(d))<l&&p<e;)if(u=h(c+=n),f=~~u[0],d=~~u[1],!(!f&&!d||g["".concat(f,"-").concat(d)])&&(r.attr({x:a+f,y:o+d}),f+d<0&&r.attr("textAlign","right"),p++,t.hasGap(r.getCanvasBBox()))){t.fillGap(r.getCanvasBBox()),v=!0,g["".concat(f,"-").concat(d)]=!0;break}return v}function Xje(r,t,e,n){var i=r.getCanvasBBox(),a=i.width,o=i.height,s={x:t,y:e,textAlign:"center"};switch(n){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break}return r.attr(s),r.getCanvasBBox()}function qje(r,t,e,n){var i=new Wre;q(t,function(a){var o=a.find(function(s){return s.get("type")==="text"});Yje(o,i)||a.remove(!0)}),i.destroy()}function Kje(r,t,e,n){var i=new Wre;q(t,function(a){for(var o=a.find(function(h){return h.get("type")==="text"}),s=o.attr(),l=s.x,u=s.y,c=!1,f=0;f<=8;f++){var d=Xje(o,l,u,f);if(i.hasGap(d)){i.fillGap(d),c=!0;break}}c||a.remove(!0)}),i.destroy()}var Zje=wF;function L9(r){if(r.length>4)return[];var t=function(i,a){return[a.x-i.x,a.y-i.y]},e=t(r[0],r[1]),n=t(r[1],r[2]);return[e,n]}function p2(r,t,e){t===void 0&&(t=0),e===void 0&&(e={x:0,y:0});var n=r.x,i=r.y;return{x:(n-e.x)*Math.cos(-t)+(i-e.y)*Math.sin(-t)+e.x,y:(e.x-n)*Math.sin(-t)+(i-e.y)*Math.cos(-t)+e.y}}function F9(r){var t=[{x:r.x,y:r.y},{x:r.x+r.width,y:r.y},{x:r.x+r.width,y:r.y+r.height},{x:r.x,y:r.y+r.height}],e=r.rotation;return e?[p2(t[0],e,t[0]),p2(t[1],e,t[0]),p2(t[2],e,t[0]),p2(t[3],e,t[0])]:t}function N9(r,t){if(r.length>4)return{min:0,max:0};var e=[];return r.forEach(function(n){e.push(Zje([n.x,n.y],t))}),{min:Math.min.apply(Math,e),max:Math.max.apply(Math,e)}}function Qje(r,t){return r.max>t.min&&r.min<t.max}function Jje(r){return ir(r)&&!Number.isNaN(r)&&r!==1/0&&r!==-1/0}function B9(r){return Object.values(r).every(Jje)}function eYe(r,t,e){return e===void 0&&(e=0),!(t.x>r.x+r.width+e||t.x+t.width<r.x-e||t.y>r.y+r.height+e||t.y+t.height<r.y-e)}function tYe(r,t){if(!B9(r)||!B9(t))return!1;if(!r.rotation&&!t.rotation)return eYe(r,t);for(var e=F9(r),n=F9(t),i=$i($i([],L9(e),!0),L9(n),!0),a=0;a<i.length;a++){var o=i[a],s=N9(e,o),l=N9(n,o);if(!Qje(s,l))return!1}return!0}function rYe(r,t,e,n){for(var i=0;i<t.length;i++){var a=t[i];if(t[i].get("visible"))for(var o=i+1;o<t.length;o++){var s=t[o];if(a&&s&&a!==s&&s.get("visible")){var l=RO(a,r[i],me(r[i],"background.padding")),u=RO(s,r[o],me(r[o],"background.padding"));tYe(l,u)&&t[o].set("visible",!1)}}}}var z9={"#5B8FF9":!0},nYe=function(r){var t=fv.toRGB(r).toUpperCase();if(z9[t])return z9[t];var e=fv.rgb2arr(t),n=e[0],i=e[1],a=e[2],o=(n*299+i*587+a*114)/1e3<128;return o};function iYe(r,t,e){if(e.length!==0){var n=e[0].get("element"),i=n.geometry.theme,a=i.labels||{},o=a.fillColorLight,s=a.fillColorDark;e.forEach(function(l,u){var c=t[u],f=c.find(function(m){return m.get("type")==="text"}),d=Ns.fromObject(l.getBBox()),h=Ns.fromObject(f.getCanvasBBox()),v=!d.contains(h),p=l.attr("fill"),g=nYe(p);v?f.attr(i.overflowLabels.style):g?o&&f.attr("fill",o):s&&f.attr("fill",s)})}}function aYe(r,t,e){var n=r.coordinate,i=Cv(t),a=Ns.fromObject(i.getCanvasBBox()),o=Ns.fromObject(e.getBBox());return n.isTransposed?o.height>=a.height:o.width>=a.width}function oYe(r,t,e){var n=!!r.getAdjust("stack");return n||t.every(function(i,a){var o=e[a];return aYe(r,i,o)})}function sYe(r,t,e){var n=r.coordinate,i=Ns.fromObject(e.getBBox()),a=Cv(t);n.isTransposed?a.attr({x:i.minX+i.width/2,textAlign:"center"}):a.attr({y:i.minY+i.height/2,textBaseline:"middle"})}function lYe(r,t,e){var n;if(e.length!==0){var i=(n=e[0])===null||n===void 0?void 0:n.get("element"),a=i==null?void 0:i.geometry;if(!(!a||a.type!=="interval")){var o=oYe(a,t,e);o&&e.forEach(function(s,l){var u=t[l];sYe(a,u,s)})}}}function uYe(r){var t=500,e=[],n=Math.max(Math.floor(r.length/t),1);return q(r,function(i,a){a%n===0?e.push(i):i.set("visible",!1)}),e}function cYe(r,t,e){var n;if(e.length!==0){var i=(n=e[0])===null||n===void 0?void 0:n.get("element"),a=i==null?void 0:i.geometry;if(!(!a||a.type!=="interval")){var o=uYe(t),s=a.getXYFields()[0],l=[],u=[],c=xs(o,function(p){return p.get("data")[s]}),f=nf(Di(o,function(p){return p.get("data")[s]})),d;o.forEach(function(p){p.set("visible",!0)});var h=function(p){p&&(p.length&&u.push(p.pop()),u.push.apply(u,p))};for(Qa(f)>0&&(d=f.shift(),h(c[d])),Qa(f)>0&&(d=f.pop(),h(c[d])),q(f.reverse(),function(p){h(c[p])});u.length>0;){var v=u.shift();v.get("visible")&&(V7e(v,l)?v.set("visible",!1):l.push(v))}}}}function fYe(r,t){var e=r.getXYFields()[1],n=[],i=t.sort(function(a,o){return a.get("data")[e]-a.get("data")[e]});return i.length>0&&n.push(i.shift()),i.length>0&&n.push(i.pop()),n.push.apply(n,i),n}function jre(r,t,e){return r.some(function(n){return e(n,t)})}function dYe(r,t,e){e===void 0&&(e=0);var n=Math.max(0,Math.min(r.x+r.width+e,t.x+t.width+e)-Math.max(r.x-e,t.x-e)),i=Math.max(0,Math.min(r.y+r.height+e,t.y+t.height+e)-Math.max(r.y-e,t.y-e));return n*i}function $9(r,t){return jre(r,t,function(e,n){var i=Cv(e),a=Cv(n);return dYe(i.getCanvasBBox(),a.getCanvasBBox(),2)>0})}function hYe(r,t,e,n,i){var a,o;if(e.length!==0){var s=(a=e[0])===null||a===void 0?void 0:a.get("element"),l=s==null?void 0:s.geometry;if(!(!l||l.type!=="point")){var u=l.getXYFields(),c=u[0],f=u[1],d=xs(t,function(p){return p.get("data")[c]}),h=[],v=i&&i.offset||((o=r[0])===null||o===void 0?void 0:o.offset)||12;Di(Yg(d).reverse(),function(p){for(var g=fYe(l,d[p]);g.length;){var m=g.shift(),y=Cv(m);if(jre(h,m,function(S,E){return S.get("data")[c]===E.get("data")[c]&&S.get("data")[f]===E.get("data")[f]})){y.set("visible",!1);continue}var b=$9(h,m),w=!1;if(b&&(y.attr("y",y.attr("y")+2*v),w=$9(h,m)),w){y.set("visible",!1);continue}h.push(m)}})}}}function vYe(r,t){var e=r.getXYFields()[1],n=[],i=t.sort(function(a,o){return a.get("data")[e]-a.get("data")[e]});return i.length>0&&n.push(i.shift()),i.length>0&&n.push(i.pop()),n.push.apply(n,i),n}function Yre(r,t,e){return r.some(function(n){return e(n,t)})}function pYe(r,t,e){e===void 0&&(e=0);var n=Math.max(0,Math.min(r.x+r.width+e,t.x+t.width+e)-Math.max(r.x-e,t.x-e)),i=Math.max(0,Math.min(r.y+r.height+e,t.y+t.height+e)-Math.max(r.y-e,t.y-e));return n*i}function G9(r,t){return Yre(r,t,function(e,n){var i=Cv(e),a=Cv(n);return pYe(i.getCanvasBBox(),a.getCanvasBBox(),2)>0})}function gYe(r,t,e,n,i){var a,o;if(e.length!==0){var s=(a=e[0])===null||a===void 0?void 0:a.get("element"),l=s==null?void 0:s.geometry;if(!(!l||["path","line","area"].indexOf(l.type)<0)){var u=l.getXYFields(),c=u[0],f=u[1],d=xs(t,function(p){return p.get("data")[c]}),h=[],v=i&&i.offset||((o=r[0])===null||o===void 0?void 0:o.offset)||12;Di(Yg(d).reverse(),function(p){for(var g=vYe(l,d[p]);g.length;){var m=g.shift(),y=Cv(m);if(Yre(h,m,function(S,E){return S.get("data")[c]===E.get("data")[c]&&S.get("data")[f]===E.get("data")[f]})){y.set("visible",!1);continue}var b=G9(h,m),w=!1;if(b&&(y.attr("y",y.attr("y")+2*v),w=G9(h,m)),w){y.set("visible",!1);continue}h.push(m)}})}}}var $P;function mYe(){return $P||($P=document.createElement("canvas").getContext("2d")),$P}var g2=qg(function(r,t){t===void 0&&(t={});var e=t.fontSize,n=t.fontFamily,i=t.fontWeight,a=t.fontStyle,o=t.fontVariant,s=mYe();return s.font=[a,o,i,"".concat(e,"px"),n].join(" "),s.measureText(wt(r)?r:"").width},function(r,t){return t===void 0&&(t={}),$i([r],Y0(t),!0).join("")}),yYe=function(r,t,e){var n=16,i=g2("...",e),a;wt(r)?a=r:a=Ov(r);var o=t,s=[],l,u;if(g2(r,e)<=t)return r;for(;l=a.substr(0,n),u=g2(l,e),!(u+i>o&&u>o);)if(s.push(l),o-=u,a=a.substr(n),!a)return s.join("");for(;l=a.substr(0,1),u=g2(l,e),!(u+i>o);)if(s.push(l),o-=u,a=a.substr(1),!a)return s.join("");return"".concat(s.join(""),"...")};function bYe(r,t,e,n,i){if(!(t.length<=0)){var a=(i==null?void 0:i.direction)||["top","right","bottom","left"],o=(i==null?void 0:i.action)||"translate",s=(i==null?void 0:i.margin)||0,l=t[0].get("coordinate");if(!!l){var u=D9e(l,s),c=u.minX,f=u.minY,d=u.maxX,h=u.maxY;q(t,function(v){var p=v.getCanvasBBox(),g=p.minX,m=p.minY,y=p.maxX,b=p.maxY,w=p.x,S=p.y,E=p.width,_=p.height,A=w,k=S;if(a.indexOf("left")>=0&&(g<c||y<c)&&(A=c),a.indexOf("top")>=0&&(m<f||b<f)&&(k=f),a.indexOf("right")>=0&&(g>d?A=d-E:y>d&&(A=A-(y-d))),a.indexOf("bottom")>=0&&(m>h?k=h-_:b>h&&(k=k-(b-h))),A!==w||k!==S){var T=A-w;if(o==="translate")_S(v,T,k-S);else if(o==="ellipsis"){var I=v.findAll(function(D){return D.get("type")==="text"});I.forEach(function(D){var O=xA(D.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),B=D.getCanvasBBox(),U=yYe(D.attr("text"),B.width-Math.abs(T),O);D.attr("text",U)})}else v.hide()}})}}}function xYe(r,t,e){var n={fillOpacity:xt(r.attr("fillOpacity"))?1:r.attr("fillOpacity"),strokeOpacity:xt(r.attr("strokeOpacity"))?1:r.attr("strokeOpacity"),opacity:xt(r.attr("opacity"))?1:r.attr("opacity")};r.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),r.animate(n,t)}function wYe(r,t,e){var n={fillOpacity:0,strokeOpacity:0,opacity:0},i=t.easing,a=t.duration,o=t.delay;r.animate(n,a,i,function(){r.remove(!0)},o)}function SYe(r,t,e){var n,i=t[0],a=t[1];return r.applyToMatrix([i,a,1]),e==="x"?(r.setMatrix(Ai(r.getMatrix(),[["t",-i,-a],["s",.01,1],["t",i,a]])),n=Ai(r.getMatrix(),[["t",-i,-a],["s",100,1],["t",i,a]])):e==="y"?(r.setMatrix(Ai(r.getMatrix(),[["t",-i,-a],["s",1,.01],["t",i,a]])),n=Ai(r.getMatrix(),[["t",-i,-a],["s",1,100],["t",i,a]])):e==="xy"&&(r.setMatrix(Ai(r.getMatrix(),[["t",-i,-a],["s",.01,.01],["t",i,a]])),n=Ai(r.getMatrix(),[["t",-i,-a],["s",100,100],["t",i,a]])),n}function uB(r,t,e,n,i){var a=e.start,o=e.end,s=e.getWidth(),l=e.getHeight(),u,c;i==="y"?(u=a.x+s/2,c=n.y<a.y?n.y:a.y):i==="x"?(u=n.x>a.x?n.x:a.x,c=a.y+l/2):i==="xy"&&(e.isPolar?(u=e.getCenter().x,c=e.getCenter().y):(u=(a.x+o.x)/2,c=(a.y+o.y)/2));var f=SYe(r,[u,c],i);r.animate({matrix:f},t)}function CYe(r,t,e){var n=e.coordinate,i=e.minYPoint;uB(r,t,n,i,"x")}function EYe(r,t,e){var n=e.coordinate,i=e.minYPoint;uB(r,t,n,i,"y")}function _Ye(r,t,e){var n=e.coordinate,i=e.minYPoint;uB(r,t,n,i,"xy")}function TYe(r,t,e){var n=r.getTotalLength();r.attr("lineDash",[n]),r.animate(function(i){return{lineDashOffset:(1-i)*n}},t)}function AYe(r,t,e){var n=e.toAttrs,i=n.x,a=n.y;delete n.x,delete n.y,r.attr(n),r.animate({x:i,y:a},t)}function kYe(r,t,e){var n=r.getBBox(),i=r.get("origin").mappingData,a=i.points,o=a[0].y-a[1].y>0?n.maxX:n.minX,s=(n.minY+n.maxY)/2;r.applyToMatrix([o,s,1]);var l=Ai(r.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);r.setMatrix(l),r.animate({matrix:Ai(r.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},t)}function MYe(r,t,e){var n=r.getBBox(),i=r.get("origin").mappingData,a=(n.minX+n.maxX)/2,o=i.points,s=o[0].y-o[1].y<=0?n.maxY:n.minY;r.applyToMatrix([a,s,1]);var l=Ai(r.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);r.setMatrix(l),r.animate({matrix:Ai(r.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},t)}function U9(r,t){var e,n=j_(r,t),i=n.startAngle,a=n.endAngle;return!Vo(i,-Math.PI*.5)&&i<-Math.PI*.5&&(i+=Math.PI*2),!Vo(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),t[5]===0&&(e=[a,i],i=e[0],a=e[1]),Vo(i,Math.PI*1.5)&&(i=Math.PI*-.5),Vo(a,Math.PI*-.5)&&(a=Math.PI*1.5),{startAngle:i,endAngle:a}}function H9(r){var t;return r[0]==="M"||r[0]==="L"?t=[r[1],r[2]]:(r[0]==="a"||r[0]==="A"||r[0]==="C")&&(t=[r[r.length-2],r[r.length-1]]),t}function V9(r){var t,e,n,i=r.filter(function(b){return b[0]==="A"||b[0]==="a"});if(i.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var a=i[0],o=i.length>1?i[1]:i[0],s=r.indexOf(a),l=r.indexOf(o),u=H9(r[s-1]),c=H9(r[l-1]),f=U9(u,a),d=f.startAngle,h=f.endAngle,v=U9(c,o),p=v.startAngle,g=v.endAngle;Vo(d,p)&&Vo(h,g)?(e=d,n=h):(e=Math.min(d,p),n=Math.max(h,g));var m=a[1],y=i[i.length-1][1];return m<y?(t=[y,m],m=t[0],y=t[1]):m===y&&(y=0),{startAngle:e,endAngle:n,radius:m,innerRadius:y}}function IYe(r,t,e){var n=e.toAttrs,i=e.coordinate,a=n.path||[],o=a.map(function(y){return y[0]});if(!(a.length<1)){var s=V9(a),l=s.startAngle,u=s.endAngle,c=s.radius,f=s.innerRadius,d=V9(r.attr("path")),h=d.startAngle,v=d.endAngle,p=i.getCenter(),g=l-h,m=u-v;if(g===0&&m===0){r.attr("path",a);return}r.animate(function(y){var b=h+y*g,w=v+y*m;return P(P({},n),{path:Zi(o,["M","A","A","Z"])?ere(p.x,p.y,c,b,w):dv(p.x,p.y,c,b,w,f)})},P(P({},t),{callback:function(){r.attr("path",a)}}))}}function PYe(r,t,e){var n=jN(e.coordinate,20),i=n.type,a=n.startState,o=n.endState,s=r.setClip({type:i,attrs:a});s.animate(o,P(P({},t),{callback:function(){r&&!r.get("destroyed")&&r.set("clipShape",null),s.remove(!0)}}))}function cB(r,t,e){if(r.isGroup())q(r.getChildren(),function(s){cB(s,t,e)});else{var n=r.getBBox(),i=(n.minX+n.maxX)/2,a=(n.minY+n.maxY)/2;if(r.applyToMatrix([i,a,1]),e==="zoomIn"){var o=Ai(r.getMatrix(),[["t",-i,-a],["s",.01,.01],["t",i,a]]);r.setMatrix(o),r.animate({matrix:Ai(r.getMatrix(),[["t",-i,-a],["s",100,100],["t",i,a]])},t)}else r.animate({matrix:Ai(r.getMatrix(),[["t",-i,-a],["s",.01,.01],["t",i,a]])},P(P({},t),{callback:function(){r.remove(!0)}}))}}function RYe(r,t,e){cB(r,t,"zoomIn")}function DYe(r,t,e){cB(r,t,"zoomOut")}function Od(r){return[ur.TOP,ur.BOTTOM].includes(r)?{offsetX:0,offsetY:r===ur.TOP?-8:8,style:{textAlign:"center",textBaseline:r===ur.TOP?"bottom":"top"}}:[ur.LEFT,ur.RIGHT].includes(r)?{offsetX:r===ur.LEFT?-8:8,offsetY:0,style:{textAlign:r===ur.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function GP(r,t,e){return{x:r.x+t*Math.cos(e),y:r.y+t*Math.sin(e)}}var OYe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){return Kt({},r.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this)})},t.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},t.prototype.getRegion=function(e,n){var i=.5,a={x:.5,y:.5},o=Math.PI*2/e,s=-1*Math.PI/2+o*n,l=i/(1+1/Math.sin(o/2)),u=GP(a,i-l,s),c=Math.PI*5/4,f=Math.PI*1/4;return{start:GP(u,l,c),end:GP(u,l,f)}},t.prototype.afterEachView=function(e,n){this.processAxis(e,n)},t.prototype.beforeEachView=function(e,n){},t.prototype.generateFacets=function(e){var n=this,i=this.cfg,a=i.fields,o=i.type,s=a[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(e,s),u=l.length,c=[];return l.forEach(function(f,d){var h=[{field:s,value:f,values:l}],v=ko(e,n.getFacetDataFilter(h)),p={type:o,data:v,region:n.getRegion(u,d),columnValue:f,columnField:s,columnIndex:d,columnValuesLength:u,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};c.push(p)}),c},t.prototype.getXAxisOption=function(e,n,i,a){return i},t.prototype.getYAxisOption=function(e,n,i,a){return i},t.prototype.renderTitle=function(){var e=this;q(this.facets,function(n){var i=n.columnValue,a=n.view,o=me(e.cfg.title,"formatter"),s=Kt({position:["50%","0%"],content:o?o(i):i},Od(ur.TOP),e.cfg.title);a.annotation().text(s)})},t}(eb),LYe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){return Kt({},r.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this)})},t.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},t.prototype.afterEachView=function(e,n){this.processAxis(e,n)},t.prototype.beforeEachView=function(e,n){},t.prototype.generateFacets=function(e){var n=this,i=this.cfg.fields,a=this.cfg.cols,o=i[0];if(!o)throw new Error("No `fields` specified!");var s=this.getFieldValues(e,o),l=s.length;a=a||l;var u=this.getPageCount(l,a),c=[];return s.forEach(function(f,d){var h=n.getRowCol(d,a),v=h.row,p=h.col,g=[{field:o,value:f,values:s}],m=ko(e,n.getFacetDataFilter(g)),y={type:n.cfg.type,data:m,region:n.getRegion(u,a,p,v),columnValue:f,rowValue:f,columnField:o,rowField:null,columnIndex:p,rowIndex:v,columnValuesLength:a,rowValuesLength:u,total:l};c.push(y)}),c},t.prototype.getXAxisOption=function(e,n,i,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?P(P({},i),{label:null,title:null}):i},t.prototype.getYAxisOption=function(e,n,i,a){return a.columnIndex!==0?P(P({},i),{title:null,label:null}):i},t.prototype.renderTitle=function(){var e=this;q(this.facets,function(n){var i=n.columnValue,a=n.view,o=me(e.cfg.title,"formatter"),s=Kt({position:["50%","0%"],content:o?o(i):i},Od(ur.TOP),e.cfg.title);a.annotation().text(s)})},t.prototype.getPageCount=function(e,n){return Math.floor((e+n-1)/n)},t.prototype.getRowCol=function(e,n){var i=Math.floor(e/n),a=e%n;return{row:i,col:a}},t}(eb),FYe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){return Kt({},r.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:P({},r.prototype.getDefaultTitleCfg.call(this)),rowTitle:P({},r.prototype.getDefaultTitleCfg.call(this))})},t.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},t.prototype.afterEachView=function(e,n){this.processAxis(e,n)},t.prototype.beforeEachView=function(e,n){},t.prototype.generateFacets=function(e){for(var n=this.cfg,i=n.fields,a=n.type,o=i.length,s=o,l=[],u=0;u<s;u++)for(var c=i[u],f=0;f<o;f++){var d=i[f],h={type:a,data:e,region:this.getRegion(o,s,u,f),columnValue:c,rowValue:d,columnField:c,rowField:d,columnIndex:u,rowIndex:f,columnValuesLength:s,rowValuesLength:o};l.push(h)}return l},t.prototype.getXAxisOption=function(e,n,i,a){return a.rowIndex!==a.rowValuesLength-1?P(P({},i),{label:null,title:null}):i},t.prototype.getYAxisOption=function(e,n,i,a){return a.columnIndex!==0?P(P({},i),{title:null,label:null}):i},t.prototype.renderTitle=function(){var e=this;q(this.facets,function(n,i){var a=n.columnIndex,o=n.rowIndex,s=n.columnValuesLength;n.rowValuesLength;var l=n.columnValue,u=n.rowValue,c=n.view;if(o===0){var f=me(e.cfg.columnTitle,"formatter"),d=Kt({position:["50%","0%"],content:f?f(l):l},Od(ur.TOP),e.cfg.columnTitle);c.annotation().text(d)}if(a===s-1){var f=me(e.cfg.rowTitle,"formatter"),d=Kt({position:["100%","50%"],content:f?f(u):u},Od(ur.RIGHT),e.cfg.rowTitle);c.annotation().text(d)}})},t}(eb),NYe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){return Kt({},r.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this),transpose:!1})},t.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},t.prototype.beforeEachView=function(e,n){this.cfg.transpose?n.columnIndex%2===0?e.coordinate().transpose().reflect("x"):e.coordinate().transpose():n.rowIndex%2!==0&&e.coordinate().reflect("y")},t.prototype.afterEachView=function(e,n){this.processAxis(e,n)},t.prototype.generateFacets=function(e){var n=this,i=this.cfg.fields[0],a=[],o=1,s=1,l=[""],u=[""],c,f;return this.cfg.transpose?(c=i,l=this.getFieldValues(e,c).slice(0,2),o=l.length):(f=i,u=this.getFieldValues(e,f).slice(0,2),s=u.length),l.forEach(function(d,h){u.forEach(function(v,p){var g=[{field:c,value:d,values:l},{field:f,value:v,values:u}],m=ko(e,n.getFacetDataFilter(g)),y={type:n.cfg.type,data:m,region:n.getRegion(s,o,h,p),columnValue:d,rowValue:v,columnField:c,rowField:f,columnIndex:h,rowIndex:p,columnValuesLength:o,rowValuesLength:s};a.push(y)})}),a},t.prototype.getXAxisOption=function(e,n,i,a){return a.columnIndex===1||a.rowIndex===1?P(P({},i),{label:null,title:null}):i},t.prototype.getYAxisOption=function(e,n,i,a){return i},t.prototype.renderTitle=function(){var e=this;q(this.facets,function(n,i){var a=n.columnValue,o=n.rowValue,s=n.view,l=me(e.cfg.title,"formatter");if(e.cfg.transpose){var u=Kt({position:["50%","0%"],content:l?l(a):a},Od(ur.TOP),e.cfg.title);s.annotation().text(u)}else{var u=Kt({position:["100%","50%"],content:l?l(o):o},Od(ur.RIGHT),e.cfg.title);s.annotation().text(u)}})},t}(eb),BYe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.afterEachView=function(e,n){this.processAxis(e,n)},t.prototype.beforeEachView=function(e,n){},t.prototype.getDefaultCfg=function(){return Kt({},r.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:P({},r.prototype.getDefaultTitleCfg.call(this)),rowTitle:P({},r.prototype.getDefaultTitleCfg.call(this))})},t.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},t.prototype.generateFacets=function(e){var n=this,i=this.cfg.fields,a=i[0],o=i[1],s=[],l=1,u=1,c=[""],f=[""];return a&&(c=this.getFieldValues(e,a),l=c.length),o&&(f=this.getFieldValues(e,o),u=f.length),c.forEach(function(d,h){f.forEach(function(v,p){var g=[{field:a,value:d,values:c},{field:o,value:v,values:f}],m=ko(e,n.getFacetDataFilter(g)),y={type:n.cfg.type,data:m,region:n.getRegion(u,l,h,p),columnValue:d,rowValue:v,columnField:a,rowField:o,columnIndex:h,rowIndex:p,columnValuesLength:l,rowValuesLength:u};s.push(y)})}),s},t.prototype.renderTitle=function(){var e=this;q(this.facets,function(n,i){var a=n.columnIndex,o=n.rowIndex,s=n.columnValuesLength,l=n.columnValue,u=n.rowValue,c=n.view;if(o===0){var f=me(e.cfg.columnTitle,"formatter"),d=Kt({position:["50%","0%"],content:f?f(l):l},Od(ur.TOP),e.cfg.columnTitle);c.annotation().text(d)}if(a===s-1){var f=me(e.cfg.rowTitle,"formatter"),d=Kt({position:["100%","50%"],content:f?f(u):u},Od(ur.RIGHT),e.cfg.rowTitle);c.annotation().text(d)}})},t.prototype.getXAxisOption=function(e,n,i,a){return a.rowIndex!==a.rowValuesLength-1?P(P({},i),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?P(P({},i),{title:null}):i},t.prototype.getYAxisOption=function(e,n,i,a){return a.columnIndex!==0?P(P({},i),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?P(P({},i),{title:null}):i},t}(eb),zYe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.afterChartRender=function(){e.facets&&e.cfg.line&&(e.container.clear(),e.drawLines(e.facets))},e}return t.prototype.afterEachView=function(e,n){this.processAxis(e,n)},t.prototype.beforeEachView=function(e,n){},t.prototype.init=function(){r.prototype.init.call(this),this.view.on(bn.AFTER_RENDER,this.afterChartRender)},t.prototype.getDefaultCfg=function(){return Kt({},r.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this)})},t.prototype.generateFacets=function(e){var n=this.cfg.fields;if(!n.length)throw new Error("Please specify for the fields for rootFacet!");var i=[],a={type:this.cfg.type,data:e,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return i.push(a),a.children=this.getChildFacets(e,1,i),this.setRegion(i),i},t.prototype.setRegion=function(e){var n=this;this.forceColIndex(e),e.forEach(function(i){i.region=n.getRegion(i.rowValuesLength,i.columnValuesLength,i.columnIndex,i.rowIndex)})},t.prototype.getRegion=function(e,n,i,a){var o=1/n,s=1/e,l={x:o*i,y:s*a},u={x:l.x+o,y:l.y+s*2/3};return{start:l,end:u}},t.prototype.forceColIndex=function(e){var n=this,i=[],a=0;e.forEach(function(d){n.isLeaf(d)&&(i.push(d),d.columnIndex=a,a++)}),i.forEach(function(d){d.columnValuesLength=i.length});for(var o=this.cfg.fields.length,s=o-1;s>=0;s--)for(var l=this.getFacetsByLevel(e,s),u=0,c=l;u<c.length;u++){var f=c[u];this.isLeaf(f)||(f.originColIndex=f.columnIndex,f.columnIndex=this.getRegionIndex(f.children),f.columnValuesLength=i.length)}},t.prototype.getFacetsByLevel=function(e,n){var i=[];return e.forEach(function(a){a.rowIndex===n&&i.push(a)}),i},t.prototype.getRegionIndex=function(e){var n=e[0],i=e[e.length-1];return(i.columnIndex-n.columnIndex)/2+n.columnIndex},t.prototype.isLeaf=function(e){return!e.children||!e.children.length},t.prototype.getRows=function(){return this.cfg.fields.length+1},t.prototype.getChildFacets=function(e,n,i){var a=this,o=this.cfg.fields,s=o.length;if(!(s<n)){var l=[],u=o[n-1],c=this.getFieldValues(e,u);return c.forEach(function(f,d){var h=[{field:u,value:f,values:c}],v=e.filter(a.getFacetDataFilter(h));if(v.length){var p={type:a.cfg.type,data:v,region:null,columnValue:f,rowValue:"",columnField:u,rowField:"",columnIndex:d,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:n,children:a.getChildFacets(v,n+1,i)};l.push(p),i.push(p)}}),l}},t.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},t.prototype.renderTitle=function(){var e=this;q(this.facets,function(n){var i=n.columnValue,a=n.view,o=me(e.cfg.title,"formatter"),s=Kt({position:["50%","0%"],content:o?o(i):i},Od(ur.TOP),e.cfg.title);a.annotation().text(s)})},t.prototype.drawLines=function(e){var n=this;e.forEach(function(i){if(!n.isLeaf(i)){var a=i.children;n.addFacetLines(i,a)}})},t.prototype.addFacetLines=function(e,n){var i=this,a=e.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};n.forEach(function(l){var u=l.view.coordinateBBox,c={x:u.bl.x+(u.tr.x-u.bl.x)/2,y:u.tr.y},f={x:s.x,y:s.y+(c.y-s.y)/2},d={x:c.x,y:f.y};i.drawLine([s,f,d,c])})},t.prototype.getPath=function(e){var n=[],i=this.cfg.line.smooth;return i?(n.push(["M",e[0].x,e[0].y]),n.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y])):e.forEach(function(a,o){o===0?n.push(["M",a.x,a.y]):n.push(["L",a.x,a.y])}),n},t.prototype.drawLine=function(e){var n=this.getPath(e),i=this.cfg.line.style;this.container.addShape("path",{attrs:cr({path:n},i)})},t.prototype.getXAxisOption=function(e,n,i,a){return a.rowIndex!==a.rowValuesLength-1?P(P({},i),{title:null,label:null}):i},t.prototype.getYAxisOption=function(e,n,i,a){return a.originColIndex!==0&&a.columnIndex!==0?P(P({},i),{title:null,label:null}):i},t}(eb);function W9(r){var t=$i([],r,!0);t.sort(function(n,i){return n-i});var e=t.length;return e===0?0:e%2===1?t[(e-1)/2]:(t[e/2]+t[e/2-1])/2}function $Ye(r){var t=us(r,function(e,n){return e+=isNaN(n)||!ir(n)?0:n},0);return r.length===0?0:t/r.length}function m2(r,t){if(!t)return null;var e;switch(r){case"start":return 0;case"center":return .5;case"end":return 1;case"median":{e=t.isCategory?W9(t.values.map(function(n,i){return i})):W9(t.values);break}case"mean":{e=t.isCategory?(t.values.length-1)/2:$Ye(t.values);break}case"min":e=t.isCategory?0:t[r];break;case"max":e=t.isCategory?t.values.length-1:t[r];break;default:e=r;break}return t.scale(e)}var y2=["regionFilter","shape"],GYe=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;return n.cache=new Map,n.foregroundContainer=n.view.getLayer(Da.FORE).addGroup(),n.backgroundContainer=n.view.getLayer(Da.BG).addGroup(),n.option=[],n}return Object.defineProperty(t.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.layout=function(){this.update()},t.prototype.render=function(){},t.prototype.update=function(){var e=this;this.onAfterRender(function(){var i=new Map;q(e.option,function(a){if(Hc(y2,a.type)){var o=e.updateOrCreate(a);o&&i.set(e.getCacheKey(a),o)}}),e.cache=e.syncCache(i)});var n=new Map;q(this.option,function(i){if(!Hc(y2,i.type)){var a=e.updateOrCreate(i);a&&n.set(e.getCacheKey(i),a)}}),this.cache=this.syncCache(n)},t.prototype.clear=function(e){e===void 0&&(e=!1),r.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),e&&(this.option=[])},t.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},t.prototype.getComponents=function(){var e=[];return this.cache.forEach(function(n){e.push(n)}),e},t.prototype.clearComponents=function(){this.getComponents().forEach(function(e){e.component.destroy()}),this.cache.clear()},t.prototype.onAfterRender=function(e){this.view.getOptions().animate?this.view.geometries.forEach(function(n){n.animateOption&&n.once(Zy.AFTER_DRAW_ANIMATE,function(){e()})}):this.view.getRootView().once(bn.AFTER_RENDER,function(){e()})},t.prototype.createAnnotation=function(e){var n=e.type,i=TWe[Ju(n)];if(i){var a=this.getAnnotationTheme(n),o=this.getAnnotationCfg(n,e,a);if(!o)return null;var s=new i(o);return{component:s,layer:this.isTop(o)?Da.FORE:Da.BG,direction:ur.NONE,type:Co.ANNOTATION,extra:e}}},t.prototype.annotation=function(e){this.option.push(e)},t.prototype.arc=function(e){return this.annotation(P({type:"arc"},e)),this},t.prototype.image=function(e){return this.annotation(P({type:"image"},e)),this},t.prototype.line=function(e){return this.annotation(P({type:"line"},e)),this},t.prototype.region=function(e){return this.annotation(P({type:"region"},e)),this},t.prototype.text=function(e){return this.annotation(P({type:"text"},e)),this},t.prototype.dataMarker=function(e){return this.annotation(P({type:"dataMarker"},e)),this},t.prototype.dataRegion=function(e){this.annotation(P({type:"dataRegion"},e))},t.prototype.regionFilter=function(e){this.annotation(P({type:"regionFilter"},e))},t.prototype.shape=function(e){this.annotation(P({type:"shape"},e))},t.prototype.html=function(e){this.annotation(P({type:"html"},e))},t.prototype.parsePosition=function(e){var n=this.view.getXScale(),i=this.view.getScalesByDim("y"),a=yr(e)?e.call(null,n,i):e,o=0,s=0;if(gt(a)){var l=a[0],u=a[1];if(wt(l)&&l.indexOf("%")!==-1&&!isNaN(l.slice(0,-1)))return this.parsePercentPosition(a);o=m2(l,n),s=m2(u,Object.values(i)[0])}else if(!xt(a))for(var c=0,f=Yg(a);c<f.length;c++){var d=f[c],h=a[d];d===n.field&&(o=m2(h,n)),i[d]&&(s=m2(h,i[d]))}return isNaN(o)||isNaN(s)?null:this.view.getCoordinate().convert({x:o,y:s})},t.prototype.getRegionPoints=function(e,n){var i=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,u=this.view.getData(),c=gt(e)?e[0]:e[l],f=gt(n)?n[0]:n[l],d=[],h;return q(u,function(v,p){if(v[l]===c&&(h=p),p>=h){var g=i.parsePosition([v[l],v[s.field]]);g&&d.push(g)}if(v[l]===f)return!1}),d},t.prototype.parsePercentPosition=function(e){var n=parseFloat(e[0])/100,i=parseFloat(e[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},u=a.getWidth()*n+l.x,c=a.getHeight()*i+l.y;return{x:u,y:c}},t.prototype.getCoordinateBBox=function(){var e=this.view.getCoordinate(),n=e.start,i=e.end,a=e.getWidth(),o=e.getHeight(),s={x:Math.min(n.x,i.x),y:Math.min(n.y,i.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},t.prototype.getAnnotationCfg=function(e,n,i){var a=this,o=this.view.getCoordinate(),s=this.view.getCanvas(),l={};if(xt(n))return null;var u=n.start,c=n.end,f=n.position,d=this.parsePosition(u),h=this.parsePosition(c),v=this.parsePosition(f);if(["arc","image","line","region","regionFilter"].includes(e)&&(!d||!h))return null;if(["text","dataMarker","html"].includes(e)&&!v)return null;if(e==="arc"){var p=n;p.start,p.end;var g=xn(p,["start","end"]),m=_0(o,d),y=_0(o,h);m>y&&(y=Math.PI*2+y),l=P(P({},g),{center:o.getCenter(),radius:tk(o,d),startAngle:m,endAngle:y})}else if(e==="image"){var b=n;b.start,b.end;var g=xn(b,["start","end"]);l=P(P({},g),{start:d,end:h,src:n.src})}else if(e==="line"){var w=n;w.start,w.end;var g=xn(w,["start","end"]);l=P(P({},g),{start:d,end:h,text:me(n,"text",null)})}else if(e==="region"){var S=n;S.start,S.end;var g=xn(S,["start","end"]);l=P(P({},g),{start:d,end:h})}else if(e==="text"){var E=this.view.getData(),_=n;_.position;var A=_.content,g=xn(_,["position","content"]),k=A;yr(A)&&(k=A(E)),l=P(P(P({},v),g),{content:k})}else if(e==="dataMarker"){var T=n;T.position;var I=T.point,D=T.line,O=T.text,B=T.autoAdjust,U=T.direction,g=xn(T,["position","point","line","text","autoAdjust","direction"]);l=P(P(P({},g),v),{coordinateBBox:this.getCoordinateBBox(),point:I,line:D,text:O,autoAdjust:B,direction:U})}else if(e==="dataRegion"){var N=n,G=N.start,L=N.end,F=N.region,O=N.text,W=N.lineLength,g=xn(N,["start","end","region","text","lineLength"]);l=P(P({},g),{points:this.getRegionPoints(G,L),region:F,text:O,lineLength:W})}else if(e==="regionFilter"){var H=n;H.start,H.end;var K=H.apply,ie=H.color,g=xn(H,["start","end","apply","color"]),ee=this.view.geometries,Q=[],be=function(ae){!ae||(ae.isGroup()?ae.getChildren().forEach(function(ue){return be(ue)}):Q.push(ae))};q(ee,function(ae){K?Hc(K,ae.type)&&q(ae.elements,function(ue){be(ue.shape)}):q(ae.elements,function(ue){be(ue.shape)})}),l=P(P({},g),{color:ie,shapes:Q,start:d,end:h})}else if(e==="shape"){var fe=n,he=fe.render,Ee=xn(fe,["render"]),He=function(X){if(yr(n.render))return he(X,a.view,{parsePosition:a.parsePosition.bind(a)})};l=P(P({},Ee),{render:He})}else if(e==="html"){var nt=n,st=nt.html;nt.position;var Ee=xn(nt,["html","position"]),z=function(ae){return yr(st)?st(ae,a.view):st};l=P(P(P({},Ee),v),{parent:s.get("el").parentNode,html:z})}var j=Kt({},i,P(P({},l),{top:n.top,style:n.style,offsetX:n.offsetX,offsetY:n.offsetY}));return e!=="html"&&(j.container=this.getComponentContainer(j)),j.animate=this.view.getOptions().animate&&j.animate&&me(n,"animate",j.animate),j.animateOption=Kt({},k0,j.animateOption,n.animateOption),j},t.prototype.isTop=function(e){return me(e,"top",!0)},t.prototype.getComponentContainer=function(e){return this.isTop(e)?this.foregroundContainer:this.backgroundContainer},t.prototype.getAnnotationTheme=function(e){return me(this.view.getTheme(),["components","annotation",e],{})},t.prototype.updateOrCreate=function(e){var n=this.cache.get(this.getCacheKey(e));if(n){var i=e.type,a=this.getAnnotationTheme(i),o=this.getAnnotationCfg(i,e,a);o&&nl(o,["container"]),n.component.update(P(P({},o||{}),{visible:!!o})),Hc(y2,e.type)&&n.component.render()}else n=this.createAnnotation(e),n&&(n.component.init(),Hc(y2,e.type)&&n.component.render());return n},t.prototype.syncCache=function(e){var n=this,i=new Map(this.cache);return e.forEach(function(a,o){i.set(o,a)}),i.forEach(function(a,o){bu(n.option,function(s){return o===n.getCacheKey(s)})||(a.component.destroy(),i.delete(o))}),i},t.prototype.getCacheKey=function(e){return e},t}(rb);function j9(r,t){var e=Kt({},me(r,["components","axis","common"]),me(r,["components","axis",t]));return me(e,["grid"],{})}function b2(r,t,e,n){var i=[],a=t.getTicks();return r.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var u=s.value;if(n)i.push({points:[r.convert(e==="y"?{x:0,y:u}:{x:u,y:0}),r.convert(e==="y"?{x:1,y:u}:{x:u,y:1})]});else if(l){var c=o.value,f=(c+u)/2;i.push({points:[r.convert(e==="y"?{x:0,y:f}:{x:f,y:0}),r.convert(e==="y"?{x:1,y:f}:{x:f,y:1})]})}return s},a[0]),i}function UP(r,t,e,n,i){var a=t.values.length,o=[],s=e.getTicks();return s.reduce(function(l,u){var c=l?l.value:u.value,f=u.value,d=(c+f)/2;return i==="x"?o.push({points:[r.convert({x:n?f:d,y:0}),r.convert({x:n?f:d,y:1})]}):o.push({points:Di(Array(a+1),function(h,v){return r.convert({x:v/a,y:n?f:d})})}),u},s[0]),o}function Y9(r,t){var e=me(t,"grid");if(e===null)return!1;var n=me(r,"grid");return!(e===void 0&&n===null)}var Fh=["container"],X9=P(P({},k0),{appear:null}),UYe=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;return n.cache=new Map,n.gridContainer=n.view.getLayer(Da.BG).addGroup(),n.gridForeContainer=n.view.getLayer(Da.FORE).addGroup(),n.axisContainer=n.view.getLayer(Da.BG).addGroup(),n.axisForeContainer=n.view.getLayer(Da.FORE).addGroup(),n}return Object.defineProperty(t.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.render=function(){this.update()},t.prototype.layout=function(){var e=this,n=this.view.getCoordinate();q(this.getComponents(),function(i){var a=i.component,o=i.direction,s=i.type,l=i.extra,u=l.dim,c=l.scale,f=l.alignTick,d;if(s===Co.AXIS)n.isPolar?u==="x"?d=n.isTransposed?f2(n,o):NP(n):u==="y"&&(d=n.isTransposed?NP(n):f2(n,o)):d=f2(n,o);else if(s===Co.GRID)if(n.isPolar){var h=void 0;n.isTransposed?h=u==="x"?UP(n,e.view.getYScales()[0],c,f,u):b2(n,c,u,f):h=u==="x"?b2(n,c,u,f):UP(n,e.view.getXScale(),c,f,u),d={items:h,center:e.view.getCoordinate().getCenter()}}else d={items:b2(n,c,u,f)};a.update(d)})},t.prototype.update=function(){this.option=this.view.getOptions().axes;var e=new Map;this.updateXAxes(e),this.updateYAxes(e);var n=new Map;this.cache.forEach(function(i,a){e.has(a)?n.set(a,i):i.component.destroy()}),this.cache=n},t.prototype.clear=function(){r.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},t.prototype.getComponents=function(){var e=[];return this.cache.forEach(function(n){e.push(n)}),e},t.prototype.updateXAxes=function(e){var n=this.view.getXScale();if(!(!n||n.isIdentity)){var i=yT(this.option,n.field);if(i!==!1){var a=v9(i,ur.BOTTOM),o=Da.BG,s="x",l=this.view.getCoordinate(),u=this.getId("axis",n.field),c=this.getId("grid",n.field);if(l.isRect){var f=this.cache.get(u);if(f){var d=this.getLineAxisCfg(n,i,a);nl(d,Fh),f.component.update(d),e.set(u,f)}else f=this.createLineAxis(n,i,o,a,s),this.cache.set(u,f),e.set(u,f);var h=this.cache.get(c);if(h){var d=this.getLineGridCfg(n,i,a,s);nl(d,Fh),h.component.update(d),e.set(c,h)}else h=this.createLineGrid(n,i,o,a,s),h&&(this.cache.set(c,h),e.set(c,h))}else if(l.isPolar){var f=this.cache.get(u);if(f){var d=l.isTransposed?this.getLineAxisCfg(n,i,ur.RADIUS):this.getCircleAxisCfg(n,i,a);nl(d,Fh),f.component.update(d),e.set(u,f)}else{if(l.isTransposed){if(Jh(i))return;f=this.createLineAxis(n,i,o,ur.RADIUS,s)}else f=this.createCircleAxis(n,i,o,a,s);this.cache.set(u,f),e.set(u,f)}var h=this.cache.get(c);if(h){var d=l.isTransposed?this.getCircleGridCfg(n,i,ur.RADIUS,s):this.getLineGridCfg(n,i,ur.CIRCLE,s);nl(d,Fh),h.component.update(d),e.set(c,h)}else{if(l.isTransposed){if(Jh(i))return;h=this.createCircleGrid(n,i,o,ur.RADIUS,s)}else h=this.createLineGrid(n,i,o,ur.CIRCLE,s);h&&(this.cache.set(c,h),e.set(c,h))}}}}},t.prototype.updateYAxes=function(e){var n=this,i=this.view.getYScales();q(i,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,l=yT(n.option,s);if(l!==!1){var u=Da.BG,c="y",f=n.getId("axis",s),d=n.getId("grid",s),h=n.view.getCoordinate();if(h.isRect){var v=v9(l,o===0?ur.LEFT:ur.RIGHT),p=n.cache.get(f);if(p){var g=n.getLineAxisCfg(a,l,v);nl(g,Fh),p.component.update(g),e.set(f,p)}else p=n.createLineAxis(a,l,u,v,c),n.cache.set(f,p),e.set(f,p);var m=n.cache.get(d);if(m){var g=n.getLineGridCfg(a,l,v,c);nl(g,Fh),m.component.update(g),e.set(d,m)}else m=n.createLineGrid(a,l,u,v,c),m&&(n.cache.set(d,m),e.set(d,m))}else if(h.isPolar){var p=n.cache.get(f);if(p){var g=h.isTransposed?n.getCircleAxisCfg(a,l,ur.CIRCLE):n.getLineAxisCfg(a,l,ur.RADIUS);nl(g,Fh),p.component.update(g),e.set(f,p)}else{if(h.isTransposed){if(Jh(l))return;p=n.createCircleAxis(a,l,u,ur.CIRCLE,c)}else p=n.createLineAxis(a,l,u,ur.RADIUS,c);n.cache.set(f,p),e.set(f,p)}var m=n.cache.get(d);if(m){var g=h.isTransposed?n.getLineGridCfg(a,l,ur.CIRCLE,c):n.getCircleGridCfg(a,l,ur.RADIUS,c);nl(g,Fh),m.component.update(g),e.set(d,m)}else{if(h.isTransposed){if(Jh(l))return;m=n.createLineGrid(a,l,u,ur.CIRCLE,c)}else m=n.createCircleGrid(a,l,u,ur.RADIUS,c);m&&(n.cache.set(d,m),e.set(d,m))}}}}})},t.prototype.createLineAxis=function(e,n,i,a,o){var s={component:new C9e(this.getLineAxisCfg(e,n,a)),layer:i,direction:a===ur.RADIUS?ur.NONE:a,type:Co.AXIS,extra:{dim:o,scale:e}};return s.component.set("field",e.field),s.component.init(),s},t.prototype.createLineGrid=function(e,n,i,a,o){var s=this.getLineGridCfg(e,n,a,o);if(s){var l={component:new _9e(s),layer:i,direction:ur.NONE,type:Co.GRID,extra:{dim:o,scale:e,alignTick:me(s,"alignTick",!0)}};return l.component.init(),l}},t.prototype.createCircleAxis=function(e,n,i,a,o){var s={component:new E9e(this.getCircleAxisCfg(e,n,a)),layer:i,direction:a,type:Co.AXIS,extra:{dim:o,scale:e}};return s.component.set("field",e.field),s.component.init(),s},t.prototype.createCircleGrid=function(e,n,i,a,o){var s=this.getCircleGridCfg(e,n,a,o);if(s){var l={component:new T9e(s),layer:i,direction:ur.NONE,type:Co.GRID,extra:{dim:o,scale:e,alignTick:me(s,"alignTick",!0)}};return l.component.init(),l}},t.prototype.getLineAxisCfg=function(e,n,i){var a=me(n,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=f2(o,i),l=p9(e,n),u=d2(this.view.getTheme(),i),c=me(n,["title"])?Kt({title:{style:{text:l}}},{title:h9(this.view.getTheme(),i,n.title)},n):n,f=Kt(P(P({container:a},s),{ticks:e.getTicks().map(function(b){return{id:"".concat(b.tickValue),name:b.text,value:b.value}}),verticalFactor:o.isPolar?d9(s,o.getCenter())*-1:d9(s,o.getCenter()),theme:u}),u,c),d=this.getAnimateCfg(f),h=d.animate,v=d.animateOption;f.animateOption=v,f.animate=h;var p=ire(s),g=me(f,"verticalLimitLength",p?1/3:1/2);if(g<=1){var m=this.view.getCanvas().get("width"),y=this.view.getCanvas().get("height");f.verticalLimitLength=g*(p?m:y)}return f},t.prototype.getLineGridCfg=function(e,n,i,a){if(!!Y9(d2(this.view.getTheme(),i),n)){var o=j9(this.view.getTheme(),i),s=Kt({container:me(n,["top"])?this.gridForeContainer:this.gridContainer},o,me(n,"grid"),this.getAnimateCfg(n));return s.items=b2(this.view.getCoordinate(),e,a,me(s,"alignTick",!0)),s}},t.prototype.getCircleAxisCfg=function(e,n,i){var a=me(n,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=e.getTicks().map(function(p){return{id:"".concat(p.tickValue),name:p.text,value:p.value}});!e.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.pop();var l=p9(e,n),u=d2(this.view.getTheme(),ur.CIRCLE),c=me(n,["title"])?Kt({title:{style:{text:l}}},{title:h9(this.view.getTheme(),i,n.title)},n):n,f=Kt(P(P({container:a},NP(this.view.getCoordinate())),{ticks:s,verticalFactor:1,theme:u}),u,c),d=this.getAnimateCfg(f),h=d.animate,v=d.animateOption;return f.animate=h,f.animateOption=v,f},t.prototype.getCircleGridCfg=function(e,n,i,a){if(!!Y9(d2(this.view.getTheme(),i),n)){var o=j9(this.view.getTheme(),ur.RADIUS),s=Kt({container:me(n,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,me(n,"grid"),this.getAnimateCfg(n)),l=me(s,"alignTick",!0),u=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=UP(this.view.getCoordinate(),u,e,l,a),s}},t.prototype.getId=function(e,n){var i=this.view.getCoordinate();return"".concat(e,"-").concat(n,"-").concat(i.type)},t.prototype.getAnimateCfg=function(e){return{animate:this.view.getOptions().animate&&me(e,"animate"),animateOption:e&&e.animateOption?Kt({},X9,e.animateOption):X9}},t}(rb);function av(r,t,e){return e===ur.TOP?[r.minX+r.width/2-t.width/2,r.minY]:e===ur.BOTTOM?[r.minX+r.width/2-t.width/2,r.maxY-t.height]:e===ur.LEFT?[r.minX,r.minY+r.height/2-t.height/2]:e===ur.RIGHT?[r.maxX-t.width,r.minY+r.height/2-t.height/2]:e===ur.TOP_LEFT||e===ur.LEFT_TOP?[r.tl.x,r.tl.y]:e===ur.TOP_RIGHT||e===ur.RIGHT_TOP?[r.tr.x-t.width,r.tr.y]:e===ur.BOTTOM_LEFT||e===ur.LEFT_BOTTOM?[r.bl.x,r.bl.y-t.height]:e===ur.BOTTOM_RIGHT||e===ur.RIGHT_BOTTOM?[r.br.x-t.width,r.br.y-t.height]:[0,0]}function q9(r,t){return Pd(r)?r===!1?!1:{}:me(r,[t],r)}function x2(r){return me(r,"position",ur.BOTTOM)}var HYe=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;return n.container=n.view.getLayer(Da.FORE).addGroup(),n}return Object.defineProperty(t.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.render=function(){this.update()},t.prototype.layout=function(){var e=this;this.layoutBBox=this.view.viewBBox,q(this.components,function(n){var i=n.component,a=n.direction,o=BP(a),s=i.get("maxWidthRatio"),l=i.get("maxHeightRatio"),u=e.getCategoryLegendSizeCfg(o,s,l),c=i.get("maxWidth"),f=i.get("maxHeight");i.update({maxWidth:Math.min(u.maxWidth,c||0),maxHeight:Math.min(u.maxHeight,f||0)});var d=i.get("padding"),h=i.getLayoutBBox(),v=new Ns(h.x,h.y,h.width,h.height).expand(d),p=av(e.view.viewBBox,v,a),g=p[0],m=p[1],y=av(e.layoutBBox,v,a),b=y[0],w=y[1],S=0,E=0;a.startsWith("top")||a.startsWith("bottom")?(S=g,E=w):(S=b,E=m),i.setLocation({x:S+d[3],y:E+d[0]}),e.layoutBBox=e.layoutBBox.cut(v,a)})},t.prototype.update=function(){var e=this;this.option=this.view.getOptions().legends;var n={},i=function(d,h,v){var p=e.getId(v.field),g=e.getComponentById(p);if(g){var m=void 0,y=q9(e.option,v.field);y!==!1&&(me(y,"custom")?m=e.getCategoryCfg(d,h,v,y,!0):v.isLinear?m=e.getContinuousCfg(d,h,v,y):v.isCategory&&(m=e.getCategoryCfg(d,h,v,y))),m&&(nl(m,["container"]),g.direction=x2(y),g.component.update(m),n[p]=!0)}else{var b=e.createFieldLegend(d,h,v);b&&(b.component.init(),e.components.push(b),n[p]=!0)}};if(me(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);nl(s,["container"]),o.component.update(s),n[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var u=Da.FORE,c=x2(this.option);this.components.push({id:a,component:l,layer:u,direction:c,type:Co.LEGEND,extra:void 0}),n[a]=!0}}}else this.loopLegends(i);var f=[];q(this.getComponents(),function(d){n[d.id]?f.push(d):d.component.destroy()}),this.components=f},t.prototype.clear=function(){r.prototype.clear.call(this),this.container.clear()},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.container.remove(!0)},t.prototype.getGeometries=function(e){var n=this,i=e.geometries;return q(e.views,function(a){i=i.concat(n.getGeometries(a))}),i},t.prototype.loopLegends=function(e){var n=this.view.getRootView()===this.view;if(!!n){var i=this.getGeometries(this.view),a={};q(i,function(o){var s=o.getGroupAttributes();q(s,function(l){var u=l.getScale(l.type);!u||u.type==="identity"||a[u.field]||(e(o,l,u),a[u.field]=!0)})})}},t.prototype.createFieldLegend=function(e,n,i){var a,o=q9(this.option,i.field),s=Da.FORE,l=x2(o);if(o!==!1&&(me(o,"custom")?a=this.createCustomLegend(e,n,i,o):i.isLinear?a=this.createContinuousLegend(e,n,i,o):i.isCategory&&(a=this.createCategoryLegend(e,n,i,o))),a)return a.set("field",i.field),{id:this.getId(i.field),component:a,layer:s,direction:l,type:Co.LEGEND,extra:{scale:i}}},t.prototype.createCustomLegend=function(e,n,i,a){var o=this.getCategoryCfg(e,n,i,a,!0);return new u9(o)},t.prototype.createContinuousLegend=function(e,n,i,a){var o=this.getContinuousCfg(e,n,i,nl(a,["value"]));return new A9e(o)},t.prototype.createCategoryLegend=function(e,n,i,a){var o=this.getCategoryCfg(e,n,i,a);return new u9(o)},t.prototype.getContinuousCfg=function(e,n,i,a){var o=i.getTicks(),s=bu(o,function(p){return p.value===0}),l=bu(o,function(p){return p.value===1}),u=o.map(function(p){var g=p.value,m=p.tickValue,y=n.mapping(i.invert(g)).join("");return{value:m,attrValue:y,color:y,scaleValue:g}});s||u.push({value:i.min,attrValue:n.mapping(i.invert(0)).join(""),color:n.mapping(i.invert(0)).join(""),scaleValue:0}),l||u.push({value:i.max,attrValue:n.mapping(i.invert(1)).join(""),color:n.mapping(i.invert(1)).join(""),scaleValue:1}),u.sort(function(p,g){return p.value-g.value});var c={min:Fs(u).value,max:Ua(u).value,colors:[],rail:{type:n.type},track:{}};n.type==="size"&&(c.track={style:{fill:n.type==="size"?this.view.getTheme().defaultColor:void 0}}),n.type==="color"&&(c.colors=u.map(function(p){return p.attrValue}));var f=this.container,d=x2(a),h=BP(d),v=me(a,"title");return v&&(v=Kt({text:Ow(i)},v)),c.container=f,c.layout=h,c.title=v,c.animateOption=k0,this.mergeLegendCfg(c,a,"continuous")},t.prototype.getCategoryCfg=function(e,n,i,a,o){var s=this.container,l=me(a,"position",ur.BOTTOM),u=A9(this.view.getTheme(),l),c=me(u,["marker"]),f=me(a,"marker"),d=BP(l),h=me(u,["pageNavigator"]),v=me(a,"pageNavigator"),p=o?q7e(c,f,a.items):Rre(this.view,e,n,c,f),g=me(a,"title");g&&(g=Kt({text:i?Ow(i):""},g));var m=me(a,"maxWidthRatio"),y=me(a,"maxHeightRatio"),b=this.getCategoryLegendSizeCfg(d,m,y);b.container=s,b.layout=d,b.items=p,b.title=g,b.animateOption=k0,b.pageNavigator=Kt({},h,v);var w=this.mergeLegendCfg(b,a,l);w.reversed&&w.items.reverse();var S=me(w,"maxItemWidth");return S&&S<=1&&(w.maxItemWidth=this.view.viewBBox.width*S),w},t.prototype.mergeLegendCfg=function(e,n,i){var a=i.split("-")[0],o=A9(this.view.getTheme(),a);return Kt({},o,e,n)},t.prototype.getId=function(e){return"".concat(this.name,"-").concat(e)},t.prototype.getComponentById=function(e){return bu(this.components,function(n){return n.id===e})},t.prototype.getCategoryLegendSizeCfg=function(e,n,i){n===void 0&&(n=e9),i===void 0&&(i=e9);var a=this.view.viewBBox,o=a.width,s=a.height;return e==="vertical"?{maxWidth:o*n,maxHeight:s}:{maxWidth:o,maxHeight:s*i}},t}(rb),VYe=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;return n.onChangeFn=pd,n.resetMeasure=function(){n.clear()},n.onValueChange=function(i){var a=i[0],o=i[1];n.start=a,n.end=o,n.changeViewData(a,o)},n.container=n.view.getLayer(Da.FORE).addGroup(),n.onChangeFn=X0(n.onValueChange,20,{leading:!0}),n.width=0,n.view.on(bn.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(bn.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(t.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){r.prototype.destroy.call(this),this.view.off(bn.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(bn.BEFORE_CHANGE_SIZE,this.resetMeasure)},t.prototype.init=function(){},t.prototype.render=function(){this.option=this.view.getOptions().slider;var e=this.getSliderCfg(),n=e.start,i=e.end;xt(this.start)&&(this.start=n,this.end=i);var a=this.view.getOptions().data;this.option&&!Bs(a)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},t.prototype.layout=function(){var e=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){e.view.destroyed||e.changeViewData(e.start,e.end)},0)),this.slider){var n=this.view.coordinateBBox.width,i=this.slider.component.get("padding"),a=i[0];i[1],i[2];var o=i[3],s=this.slider.component.getLayoutBBox(),l=new Ns(s.x,s.y,Math.min(s.width,n),s.height).expand(i),u=this.getMinMaxText(this.start,this.end),c=u.minText,f=u.maxText,d=av(this.view.viewBBox,l,ur.BOTTOM);d[0];var h=d[1],v=av(this.view.coordinateBBox,l,ur.BOTTOM),p=v[0];v[1],this.slider.component.update(P(P({},this.getSliderCfg()),{x:p+o,y:h+a,width:this.width,start:this.start,end:this.end,minText:c,maxText:f})),this.view.viewBBox=this.view.viewBBox.cut(l,ur.BOTTOM)}},t.prototype.update=function(){this.render()},t.prototype.createSlider=function(){var e=this.getSliderCfg(),n=new x9e(P({container:this.container},e));return n.init(),{component:n,layer:Da.FORE,direction:ur.BOTTOM,type:Co.SLIDER}},t.prototype.updateSlider=function(){var e=this.getSliderCfg();if(this.width){var n=this.getMinMaxText(this.start,this.end),i=n.minText,a=n.maxText;e=P(P({},e),{width:this.width,start:this.start,end:this.end,minText:i,maxText:a})}return this.slider.component.update(e),this.slider},t.prototype.measureSlider=function(){var e=this.getSliderCfg().width;this.width=e},t.prototype.getSliderCfg=function(){var e={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if(Hn(this.option)){var n=P({data:this.getData()},me(this.option,"trendCfg",{}));e=Kt({},e,this.getThemeOptions(),this.option),e=P(P({},e),{trendCfg:n})}return e.start=Bi(Math.min(xt(e.start)?0:e.start,xt(e.end)?1:e.end),0,1),e.end=Bi(Math.max(xt(e.start)?0:e.start,xt(e.end)?1:e.end),0,1),e},t.prototype.getData=function(){var e=this.view.getOptions().data,n=this.view.getYScales()[0],i=this.view.getGroupScales();if(i.length){var a=i[0],o=a.field,s=a.ticks;return e.reduce(function(l,u){return u[o]===s[0]&&l.push(u[n.field]),l},[])}return e.map(function(l){return l[n.field]||0})},t.prototype.getThemeOptions=function(){var e=this.view.getTheme();return me(e,["components","slider","common"],{})},t.prototype.getMinMaxText=function(e,n){var i=this.view.getOptions().data,a=this.view.getXScale(),o=xu(i,a.field);a.isLinear&&(o=o.sort());var s=o,l=Qa(i);if(!a||!l)return{};var u=Qa(s),c=Math.floor(e*(u-1)),f=Math.floor(n*(u-1)),d=me(s,[c]),h=me(s,[f]),v=this.getSliderCfg().formatter;return v&&(d=v(d,i[c],c),h=v(h,i[f],f)),{minText:d,maxText:h}},t.prototype.changeViewData=function(e,n){var i=this.view.getOptions().data,a=this.view.getXScale(),o=Qa(i);if(!(!a||!o)){var s=xu(i,a.field),l=this.view.getXScale().isLinear?s.sort(function(h,v){return Number(h)-Number(v)}):s,u=l,c=Qa(u),f=Math.floor(e*(c-1)),d=Math.floor(n*(c-1));this.view.filter(a.field,function(h,v){var p=u.indexOf(h);return p>-1?Gy(p,f,d):!0}),this.view.render(!0)}},t.prototype.getComponents=function(){return this.slider?[this.slider]:[]},t.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},t}(rb),w2=0,K9=8,WYe=32,jYe=20,YYe=function(r){Ve(t,r);function t(e){var n=r.call(this,e)||this;return n.onChangeFn=pd,n.resetMeasure=function(){n.clear()},n.onValueChange=function(i){var a=i.ratio,o=n.getValidScrollbarCfg().animate;n.ratio=Bi(a,0,1);var s=n.view.getOptions().animate;o||n.view.animate(!1),n.changeViewData(n.getScrollRange(),!0),n.view.animate(s)},n.container=n.view.getLayer(Da.FORE).addGroup(),n.onChangeFn=X0(n.onValueChange,20,{leading:!0}),n.trackLen=0,n.thumbLen=0,n.ratio=0,n.view.on(bn.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(bn.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(t.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){r.prototype.destroy.call(this),this.view.off(bn.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(bn.BEFORE_CHANGE_SIZE,this.resetMeasure)},t.prototype.init=function(){},t.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},t.prototype.layout=function(){var e=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){e.view.destroyed||e.changeViewData(e.getScrollRange(),!0)})),this.scrollbar){var n=this.view.coordinateBBox.width,i=this.scrollbar.component.get("padding"),a=this.scrollbar.component.getLayoutBBox(),o=new Ns(a.x,a.y,Math.min(a.width,n),a.height).expand(i),s=this.getScrollbarComponentCfg(),l=void 0,u=void 0;if(s.isHorizontal){var c=av(this.view.viewBBox,o,ur.BOTTOM);c[0];var f=c[1],d=av(this.view.coordinateBBox,o,ur.BOTTOM),h=d[0];d[1],l=h,u=f}else{var v=av(this.view.viewBBox,o,ur.RIGHT);v[0];var f=v[1],p=av(this.view.viewBBox,o,ur.RIGHT),h=p[0];p[1],l=h,u=f}l+=i[3],u+=i[0],this.trackLen?this.scrollbar.component.update(P(P({},s),{x:l,y:u,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(P(P({},s),{x:l,y:u})),this.view.viewBBox=this.view.viewBBox.cut(o,s.isHorizontal?ur.BOTTOM:ur.RIGHT)}},t.prototype.update=function(){this.render()},t.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},t.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},t.prototype.setValue=function(e){this.onValueChange({ratio:e})},t.prototype.getValue=function(){return this.ratio},t.prototype.getThemeOptions=function(){var e=this.view.getTheme();return me(e,["components","scrollbar","common"],{})},t.prototype.getScrollbarTheme=function(e){var n=me(this.view.getTheme(),["components","scrollbar"]),i=e||{},a=i.thumbHighlightColor,o=xn(i,["thumbHighlightColor"]);return{default:Kt({},me(n,["default","style"],{}),o),hover:Kt({},me(n,["hover","style"],{}),{thumbColor:a})}},t.prototype.measureScrollbar=function(){var e=this.view.getXScale(),n=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var i=this.getScrollbarComponentCfg(),a=i.trackLen,o=i.thumbLen;this.trackLen=a,this.thumbLen=o,this.xScaleCfg={field:e.field,values:e.values||[]},this.yScalesCfg=n},t.prototype.getScrollRange=function(){var e=Math.floor((this.cnt-this.step)*Bi(this.ratio,0,1)),n=Math.min(e+this.step-1,this.cnt-1);return[e,n]},t.prototype.changeViewData=function(e,n){var i=this,a=e[0],o=e[1],s=this.getValidScrollbarCfg().type,l=s!=="vertical",u=xu(this.data,this.xScaleCfg.field),c=this.view.getXScale().isLinear?u.sort(function(d,h){return Number(d)-Number(h)}):u,f=l?c:c.reverse();this.yScalesCfg.forEach(function(d){i.view.scale(d.field,{formatter:d.formatter,type:d.type,min:d.min,max:d.max,tickMethod:d.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(d){var h=f.indexOf(d);return h>-1?Gy(h,a,o):!0}),this.view.render(!0)},t.prototype.createScrollbar=function(){var e=this.getValidScrollbarCfg().type,n=e!=="vertical",i=new S9e(P(P({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return i.init(),{component:i,layer:Da.FORE,direction:n?ur.BOTTOM:ur.RIGHT,type:Co.SCROLLBAR}},t.prototype.updateScrollbar=function(){var e=this.getScrollbarComponentCfg(),n=this.trackLen?P(P({},e),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):P({},e);return this.scrollbar.component.update(n),this.scrollbar},t.prototype.getStep=function(){if(this.step)return this.step;var e=this.view.coordinateBBox,n=this.getValidScrollbarCfg(),i=n.type,a=n.categorySize,o=i!=="vertical";return Math.floor((o?e.width:e.height)/a)},t.prototype.getCnt=function(){if(this.cnt)return this.cnt;var e=this.view.getXScale(),n=this.getScrollbarData(),i=xu(n,e.field);return Qa(i)},t.prototype.getScrollbarComponentCfg=function(){var e=this.view,n=e.coordinateBBox,i=e.viewBBox,a=this.getValidScrollbarCfg(),o=a.type,s=a.padding,l=a.width,u=a.height,c=a.style,f=o!=="vertical",d=s[0],h=s[1],v=s[2],p=s[3],g=f?{x:n.minX+p,y:i.maxY-u-v}:{x:i.maxX-l-h,y:n.minY+d},m=this.getStep(),y=this.getCnt(),b=f?n.width-p-h:n.height-d-v,w=Math.max(b*Bi(m/y,0,1),jYe);return P(P({},this.getThemeOptions()),{x:g.x,y:g.y,size:f?u:l,isHorizontal:f,trackLen:b,thumbLen:w,thumbOffset:0,theme:this.getScrollbarTheme(c)})},t.prototype.getValidScrollbarCfg=function(){var e={type:"horizontal",categorySize:WYe,width:K9,height:K9,padding:[0,0,0,0],animate:!0,style:{}};return Hn(this.option)&&(e=P(P({},e),this.option)),(!Hn(this.option)||!this.option.padding)&&(e.padding=e.type==="horizontal"?[w2,0,w2,0]:[0,w2,0,w2]),e},t.prototype.getScrollbarData=function(){var e=this.view.getCoordinate(),n=this.getValidScrollbarCfg(),i=this.view.getOptions().data||[];return e.isReflect("y")&&n.type==="vertical"&&(i=$i([],i,!0).reverse()),i},t}(rb),XYe={fill:"#CCD6EC",opacity:.3};function qYe(r,t,e){var n=w7e(r,t,e);if(n.length){n=fl(n);for(var i=0,a=n;i<a.length;i++)for(var o=a[i],s=0,l=o;s<l.length;s++){var u=l[s],c=u.mappingData,f=c.x,d=c.y;u.x=gt(f)?f[f.length-1]:f,u.y=gt(d)?d[d.length-1]:d}var h=e.shared;if(h===!1&&n.length>1){for(var v=n[0],p=Math.abs(t.y-v[0].y),g=0,m=n;g<m.length;g++){var y=m[g],b=Math.abs(t.y-y[0].y);b<=p&&(v=y,p=b)}n=[v]}return nf(fl(n))}return[]}var KYe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.show=function(e){var n=this.context.view,i=this.context.event,a=n.getController("tooltip").getTooltipCfg(),o=qYe(n,{x:i.x,y:i.y},a);if(!Zi(o,this.items)&&(this.items=o,o.length)){var s=n.getXScale().field,l=o[0].data[s],u=[],c=n.geometries;if(q(c,function(L){if(L.type==="interval"||L.type==="schema"){var F=L.getElementsBy(function(W){var H=W.getData();return H[s]===l});u=u.concat(F)}}),u.length){var f=n.getCoordinate(),d=u[0].shape.getCanvasBBox(),h=u[0].shape.getCanvasBBox(),v=d;q(u,function(L){var F=L.shape.getCanvasBBox();f.isTransposed?(F.minY<d.minY&&(d=F),F.maxY>h.maxY&&(h=F)):(F.minX<d.minX&&(d=F),F.maxX>h.maxX&&(h=F)),v.x=Math.min(F.minX,v.minX),v.y=Math.min(F.minY,v.minY),v.width=Math.max(F.maxX,v.maxX)-v.x,v.height=Math.max(F.maxY,v.maxY)-v.y});var p=n.backgroundGroup,g=n.coordinateBBox,m=void 0;if(f.isRect){var y=n.getXScale(),b=e||{},w=b.appendRatio,S=b.appendWidth;xt(S)&&(w=xt(w)?y.isLinear?0:.25:w,S=f.isTransposed?w*h.height:w*d.width);var E=void 0,_=void 0,A=void 0,k=void 0;f.isTransposed?(E=g.minX,_=Math.min(h.minY,d.minY)-S,A=g.width,k=v.height+S*2):(E=Math.min(d.minX,h.minX)-S,_=g.minY,A=v.width+S*2,k=g.height),m=[["M",E,_],["L",E+A,_],["L",E+A,_+k],["L",E,_+k],["Z"]]}else{var T=Fs(u),I=Ua(u),D=Dw(T.getModel(),f).startAngle,O=Dw(I.getModel(),f).endAngle,B=f.getCenter(),U=f.getRadius(),N=f.innerRadius*U;m=dv(B.x,B.y,U,D,O,N)}if(this.regionPath)this.regionPath.attr("path",m),this.regionPath.show();else{var G=me(e,"style",XYe);this.regionPath=p.addShape({type:"path",name:"active-region",capture:!1,attrs:P(P({},G),{path:m})})}}}},t.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},t.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),r.prototype.destroy.call(this)},t}(ia),Xre=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.timeStamp=0,e}return t.prototype.show=function(){var e=this.context,n=e.event,i=e.view,a=i.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date,l=me(e.view.getOptions(),"tooltip.showDelay",16);if(s-o>l){var u=this.location,c={x:n.x,y:n.y};(!u||!Zi(u,c))&&this.showTooltip(i,c),this.timeStamp=s,this.location=c}}},t.prototype.hide=function(){var e=this.context.view,n=e.getController("tooltip"),i=this.context.event,a=i.clientX,o=i.clientY;n.isCursorEntered({x:a,y:o})||e.isTooltipLocked()||(this.hideTooltip(e),this.location=null)},t.prototype.showTooltip=function(e,n){e.showTooltip(n)},t.prototype.hideTooltip=function(e){e.hideTooltip()},t}(ia),ZYe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.showTooltip=function(e,n){var i=Qc(e);q(i,function(a){var o=MO(e,a,n);a.showTooltip(o)})},t.prototype.hideTooltip=function(e){var n=Qc(e);q(n,function(i){i.hideTooltip()})},t}(Xre),QYe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.timeStamp=0,e}return t.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},t.prototype.show=function(){var e=this.context,n=e.event,i=this.timeStamp,a=+new Date;if(a-i>16){var o=this.location,s={x:n.x,y:n.y};(!o||!Zi(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},t.prototype.hide=function(){this.hideTooltip(),this.location=null},t.prototype.showTooltip=function(e){var n=this.context,i=n.event,a=i.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update(P({title:o},e)),this.tooltip.show()}},t.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},t.prototype.renderTooltip=function(){var e,n=this.context.view,i=n.canvas,a={start:{x:0,y:0},end:{x:i.get("width"),y:i.get("height")}},o=n.getTheme(),s=me(o,["components","tooltip","domStyles"],{}),l=new WN({parent:i.get("el").parentNode,region:a,visible:!1,crosshairs:null,domStyles:P({},Kt({},s,(e={},e[Og]={"max-width":"50%"},e[Lg]={"word-break":"break-all"},e)))});l.init(),l.setCapture(!1),this.tooltip=l},t}(ia),fB=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.stateName="",e}return t.prototype.hasState=function(e){return e.hasState(this.stateName)},t.prototype.setElementState=function(e,n){e.setState(this.stateName,n)},t.prototype.setState=function(){this.setStateEnable(!0)},t.prototype.clear=function(){var e=this.context.view;this.clearViewState(e)},t.prototype.clearViewState=function(e){var n=this,i=dre(e,this.stateName);q(i,function(a){n.setElementState(a,!1)})},t}(ia);function Z9(r){return me(r.get("delegateObject"),"item")}var dB=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.ignoreListItemStates=["unchecked"],e}return t.prototype.isItemIgnore=function(e,n){var i=this.ignoreListItemStates,a=i.filter(function(o){return n.hasState(e,o)});return!!a.length},t.prototype.setStateByComponent=function(e,n,i){var a=this.context.view,o=e.get("field"),s=jo(a);this.setElementsStateByItem(s,o,n,i)},t.prototype.setStateByElement=function(e,n){this.setElementState(e,n)},t.prototype.isMathItem=function(e,n,i){var a=this.context.view,o=A0(a,n),s=tc(e,n);return!xt(s)&&i.name===o.getText(s)},t.prototype.setElementsStateByItem=function(e,n,i,a){var o=this;q(e,function(s){o.isMathItem(s,n,i)&&s.setState(o.stateName,a)})},t.prototype.setStateEnable=function(e){var n=Sv(this.context);if(n)ure(this.context)&&this.setStateByElement(n,e);else{var i=T0(this.context);if(Lw(i)){var a=i.item,o=i.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&Z9(s.fromShape)===Z9(s.toShape))return;this.setStateByComponent(o,a,e)}}}},t.prototype.toggle=function(){var e=Sv(this.context);if(e){var n=e.hasState(this.stateName);this.setElementState(e,!n)}},t.prototype.reset=function(){this.setStateEnable(!1)},t}(fB),JYe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.stateName="active",e}return t.prototype.active=function(){this.setState()},t}(dB),eXe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.cache={},e}return t.prototype.getColorScale=function(e,n){var i=n.geometry.getAttribute("color");if(!i)return null;var a=e.getScaleByField(i.getFields()[0]);return a},t.prototype.getLinkPath=function(e,n){var i=this.context.view,a=i.getCoordinate().isTransposed,o=e.shape.getCanvasBBox(),s=n.shape.getCanvasBBox(),l=a?[["M",o.minX,o.minY],["L",s.minX,s.maxY],["L",s.maxX,s.maxY],["L",o.maxX,o.minY],["Z"]]:[["M",o.maxX,o.minY],["L",s.minX,s.minY],["L",s.minX,s.maxY],["L",o.maxX,o.maxY],["Z"]];return l},t.prototype.addLinkShape=function(e,n,i,a){var o={opacity:.4,fill:n.shape.attr("fill")};e.addShape({type:"path",attrs:P(P({},Kt({},o,yr(a)?a(o,n):a)),{path:this.getLinkPath(n,i)})})},t.prototype.linkByElement=function(e,n){var i=this,a=this.context.view,o=this.getColorScale(a,e);if(!!o){var s=tc(e,o.field);if(!this.cache[s]){var l=Q9e(a,o.field,s),u=this.linkGroup,c=u.addGroup();this.cache[s]=c;var f=l.length;q(l,function(d,h){if(h<f-1){var v=l[h+1];i.addLinkShape(c,d,v,n)}})}}},t.prototype.removeLink=function(e){var n=this.getColorScale(this.context.view,e);if(!!n){var i=tc(e,n.field);this.cache[i]&&(this.cache[i].remove(),this.cache[i]=null)}},t.prototype.link=function(e){var n=this.context;this.linkGroup||(this.linkGroup=n.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var i=Sv(n);i&&this.linkByElement(i,e==null?void 0:e.style)},t.prototype.unlink=function(){var e=Sv(this.context);e&&this.removeLink(e)},t.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},t}(ia),hB=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.startPoint=null,e.endPoint=null,e.isStarted=!1,e.effectSiblings=!1,e.effectByRecord=!1,e}return t.prototype.getCurrentPoint=function(){var e=this.context.event;return{x:e.x,y:e.y}},t.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},t.prototype.getIntersectElements=function(){var e=null;if(Fw(this.context))e=XN(this.context,10);else{var n=this.startPoint,i=this.isStarted?this.getCurrentPoint():this.endPoint;if(!n||!i)return;var a={minX:Math.min(n.x,i.x),minY:Math.min(n.y,i.y),maxX:Math.max(n.x,i.x),maxY:Math.max(n.y,i.y)},o=this.context.view;e=qN(o,a)}return e},t.prototype.setStateEnable=function(e){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(e);else{var n=jo(this.context.view),i=this.getIntersectElements();i&&i.length?this.effectByRecord?this.setSiblingsStateByRecord(i,e):this.setElementsState(i,e,n):this.clear()}},t.prototype.setSiblingsStateByRecord=function(e,n){var i=this,a=this.context.view,o=Qc(a),s=e.map(function(c){return c.getModel().data}),l=a.getXScale().field,u=a.getYScales()[0].field;q(o,function(c){var f=jo(c),d=f.filter(function(h){var v=h.getModel().data;return vre(s,v,l,u)});i.setElementsState(d,n,f)})},t.prototype.setSiblingsState=function(e){var n=this,i=this.context.view,a=Qc(i);Fw(this.context)&&q(a,function(o){var s=jo(o),l=fre(n.context,o,10);l&&l.length?n.setElementsState(l,e,s):n.clearViewState(o)})},t.prototype.setElementsState=function(e,n,i){var a=this;q(i,function(o){e.includes(o)?a.setElementState(o,n):a.setElementState(o,!1)})},t.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},t.prototype.clear=function(){var e=this,n=this.context.view;if(this.effectSiblings){var i=Qc(n);q(i,function(a){e.clearViewState(a)})}else this.clearViewState(n)},t}(fB),tXe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.stateName="active",e}return t.prototype.active=function(){this.setState()},t}(hB),vB=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.setStateEnable=function(e){var n=Sv(this.context);if(n){if(!ure(this.context))return;e?(this.clear(),this.setElementState(n,!0)):this.hasState(n)&&this.setElementState(n,!1)}},t.prototype.toggle=function(){var e=Sv(this.context);if(e){var n=this.hasState(e);n||this.clear(),this.setElementState(e,!n)}},t.prototype.reset=function(){this.setStateEnable(!1)},t}(fB),rXe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.stateName="active",e}return t.prototype.active=function(){this.setState()},t}(vB),H1="inactive",V1="active";function pB(r){var t=jo(r);q(t,function(e){e.hasState(V1)&&e.setState(V1,!1),e.hasState(H1)&&e.setState(H1,!1)})}function qre(r,t,e){q(r,function(n){t(n)?(n.hasState(H1)&&n.setState(H1,!1),n.setState(V1,e)):(n.hasState(V1)&&n.setState(V1,!1),n.setState(H1,e))})}var eg=pT.INACTIVE,cd=pT.ACTIVE,gB=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.stateName=cd,e}return t.prototype.setElementsStateByItem=function(e,n,i,a){var o=this,s=function(l){return o.isMathItem(l,n,i)};this.setHighlightBy(e,s,a)},t.prototype.setElementHighlight=function(e,n){n(e)?(e.hasState(eg)&&e.setState(eg,!1),e.setState(cd,!0)):e.hasState(cd)||e.setState(eg,!0)},t.prototype.setHighlightBy=function(e,n,i){var a=this;if(i)q(e,function(l){a.setElementHighlight(l,n)});else{var o=dre(this.context.view,cd),s=!0;q(o,function(l){if(!n(l))return s=!1,!1}),s?this.clear():q(e,function(l){n(l)&&(l.hasState(cd)&&l.setState(cd,!1),l.setState(eg,!0))})}},t.prototype.setElementState=function(e,n){var i=this.context.view,a=jo(i);this.setHighlightBy(a,function(o){return e===o},n)},t.prototype.highlight=function(){this.setState()},t.prototype.clear=function(){var e=this.context.view;pB(e)},t}(dB),nXe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.setStateByElement=function(e,n){var i=this.context.view,a=e.geometry.getAttribute("color");if(!!a){var o=i.getScaleByField(a.getFields()[0]),s=tc(e,o.field),l=jo(i),u=l.filter(function(c){return tc(c,o.field)===s});this.setHighlightBy(l,function(c){return u.includes(c)},n)}},t}(gB),iXe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.setElementHighlight=function(e,n){n(e)?(e.hasState(eg)&&e.setState(eg,!1),e.setState(cd,!0)):(e.setState(eg,!0),e.hasState(cd)&&e.setState(cd,!1))},t.prototype.setStateByElement=function(e,n){var i=this.context.view,a=i.getXScale(),o=tc(e,a.field),s=jo(i),l=s.filter(function(u){return tc(u,a.field)===o});this.setHighlightBy(s,function(u){return l.includes(u)},n)},t.prototype.toggle=function(){var e=Sv(this.context);if(e){var n=e.hasState(this.stateName);this.setStateByElement(e,!n)}},t}(gB),Nc;(function(r){r.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",r.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",r.BEFORE_CLEAR="element-range-highlight:beforeclear",r.AFTER_CLEAR="element-range-highlight:afterclear"})(Nc||(Nc={}));var Kre=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.stateName="active",e}return t.prototype.clearViewState=function(e){pB(e)},t.prototype.highlight=function(){var e=this.context,n=e.view,i=e.event,a=this.getIntersectElements(),o={view:n,event:i,highlightElements:a};n.emit(Nc.BEFORE_HIGHLIGHT,na.fromData(n,Nc.BEFORE_HIGHLIGHT,o)),this.setState(),n.emit(Nc.AFTER_HIGHLIGHT,na.fromData(n,Nc.AFTER_HIGHLIGHT,o))},t.prototype.clear=function(){var e=this.context.view;e.emit(Nc.BEFORE_CLEAR,na.fromData(e,Nc.BEFORE_CLEAR,{})),r.prototype.clear.call(this),e.emit(Nc.AFTER_CLEAR,na.fromData(e,Nc.AFTER_CLEAR,{}))},t.prototype.setElementsState=function(e,n,i){qre(i,function(a){return e.indexOf(a)>=0},n)},t}(hB),aXe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.stateName="active",e}return t.prototype.highlight=function(){this.setState()},t.prototype.setElementState=function(e,n){var i=this.context.view,a=jo(i);qre(a,function(o){return e===o},n)},t.prototype.clear=function(){var e=this.context.view;pB(e)},t}(vB),oXe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.stateName="selected",e}return t.prototype.selected=function(){this.setState()},t}(hB),sXe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.stateName="selected",e}return t.prototype.selected=function(){this.setState()},t}(dB),lXe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.stateName="selected",e}return t.prototype.selected=function(){this.setState()},t}(vB),tm=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.stateName="",e.ignoreItemStates=[],e}return t.prototype.getTriggerListInfo=function(){var e=T0(this.context),n=null;return Lw(e)&&(n={item:e.item,list:e.component}),n},t.prototype.getAllowComponents=function(){var e=this,n=this.context.view,i=hre(n),a=[];return q(i,function(o){o.isList()&&e.allowSetStateByElement(o)&&a.push(o)}),a},t.prototype.hasState=function(e,n){return e.hasState(n,this.stateName)},t.prototype.clearAllComponentsState=function(){var e=this,n=this.getAllowComponents();q(n,function(i){i.clearItemsState(e.stateName)})},t.prototype.allowSetStateByElement=function(e){var n=e.get("field");if(!n)return!1;if(this.cfg&&this.cfg.componentNames){var i=e.get("name");if(this.cfg.componentNames.indexOf(i)===-1)return!1}var a=this.context.view,o=A0(a,n);return o&&o.isCategory},t.prototype.allowSetStateByItem=function(e,n){var i=this.ignoreItemStates;if(i.length){var a=i.filter(function(o){return n.hasState(e,o)});return a.length===0}return!0},t.prototype.setStateByElement=function(e,n,i){var a=e.get("field"),o=this.context.view,s=A0(o,a),l=tc(n,a),u=s.getText(l);this.setItemsState(e,u,i)},t.prototype.setStateEnable=function(e){var n=this,i=Sv(this.context);if(i){var a=this.getAllowComponents();q(a,function(u){n.setStateByElement(u,i,e)})}else{var o=T0(this.context);if(Lw(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,e)}}},t.prototype.setItemsState=function(e,n,i){var a=this,o=e.getItems();q(o,function(s){s.name===n&&a.setItemState(e,s,i)})},t.prototype.setItemState=function(e,n,i){e.setItemState(n,this.stateName,i)},t.prototype.setState=function(){this.setStateEnable(!0)},t.prototype.reset=function(){this.setStateEnable(!1)},t.prototype.toggle=function(){var e=this.getTriggerListInfo();if(e&&e.item){var n=e.list,i=e.item,a=this.hasState(n,i);this.setItemState(n,i,!a)}},t.prototype.clear=function(){var e=this.getTriggerListInfo();e?e.list.clearItemsState(this.stateName):this.clearAllComponentsState()},t}(ia),uXe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.stateName="active",e}return t.prototype.active=function(){this.setState()},t}(tm),Q9="inactive",J9="active";function cXe(r){var t=r.getItems();q(t,function(e){r.hasState(e,J9)&&r.setItemState(e,J9,!1),r.hasState(e,Q9)&&r.setItemState(e,Q9,!1)})}var Wx="inactive",Dp="active",mB=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.stateName=Dp,e.ignoreItemStates=["unchecked"],e}return t.prototype.setItemsState=function(e,n,i){this.setHighlightBy(e,function(a){return a.name===n},i)},t.prototype.setItemState=function(e,n,i){e.getItems(),this.setHighlightBy(e,function(a){return a===n},i)},t.prototype.setHighlightBy=function(e,n,i){var a=e.getItems();if(i)q(a,function(l){n(l)?(e.hasState(l,Wx)&&e.setItemState(l,Wx,!1),e.setItemState(l,Dp,!0)):e.hasState(l,Dp)||e.setItemState(l,Wx,!0)});else{var o=e.getItemsByState(Dp),s=!0;q(o,function(l){if(!n(l))return s=!1,!1}),s?this.clear():q(a,function(l){n(l)&&(e.hasState(l,Dp)&&e.setItemState(l,Dp,!1),e.setItemState(l,Wx,!0))})}},t.prototype.highlight=function(){this.setState()},t.prototype.clear=function(){var e=this.getTriggerListInfo();if(e)cXe(e.list);else{var n=this.getAllowComponents();q(n,function(i){i.clearItemsState(Dp),i.clearItemsState(Wx)})}},t}(tm),fXe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.stateName="selected",e}return t.prototype.selected=function(){this.setState()},t}(tm),dXe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.stateName="unchecked",e}return t.prototype.unchecked=function(){this.setState()},t}(tm),yy="unchecked",S2="checked",hXe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.stateName=S2,e}return t.prototype.setItemState=function(e,n,i){this.setCheckedBy(e,function(a){return a===n},i)},t.prototype.setCheckedBy=function(e,n,i){var a=e.getItems();i&&q(a,function(o){n(o)?(e.hasState(o,yy)&&e.setItemState(o,yy,!1),e.setItemState(o,S2,!0)):e.hasState(o,S2)||e.setItemState(o,yy,!0)})},t.prototype.toggle=function(){var e=this.getTriggerListInfo();if(e&&e.item){var n=e.list,i=e.item,a=!iS(n.getItems(),function(o){return n.hasState(o,yy)});a||n.hasState(i,yy)?this.setItemState(n,i,!0):this.reset()}},t.prototype.checked=function(){this.setState()},t.prototype.reset=function(){var e=this.getAllowComponents();q(e,function(n){n.clearItemsState(S2),n.clearItemsState(yy)})},t}(tm),by="unchecked",vXe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.toggle=function(){var e=this.getTriggerListInfo();if(e==null?void 0:e.item){var n=e.list,i=e.item,a=n.getItems(),o=a.filter(function(y){return!n.hasState(y,by)}),s=a.filter(function(y){return n.hasState(y,by)}),l=o[0];if(a.length===o.length)for(var u=0,c=a;u<c.length;u++){var f=c[u];n.setItemState(f,by,f.id!==i.id)}else if(a.length-s.length===1)if(l.id===i.id)for(var d=0,h=a;d<h.length;d++){var f=h[d];n.setItemState(f,by,!1)}else for(var v=0,p=a;v<p.length;v++){var f=p[v];n.setItemState(f,by,f.id!==i.id)}else for(var g=0,m=a;g<m.length;g++){var f=m[g];n.setItemState(f,by,f.id!==i.id)}}},t}(tm),e7="showRadio",HP="legend-radio-tip",pXe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.timeStamp=0,e}return t.prototype.show=function(){var e=this.getTriggerListInfo();if(e==null?void 0:e.item){var n=e.list,i=e.item;n.setItemState(i,e7,!0)}},t.prototype.hide=function(){var e=this.getTriggerListInfo();if(e==null?void 0:e.item){var n=e.list,i=e.item;n.setItemState(i,e7,!1)}},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},t.prototype.showTip=function(){var e=this.context,n=e.event,i=this.timeStamp,a=+new Date,o=this.context.event.target;if(a-i>16&&o.get("name")==="legend-item-radio"){var s=this.location,l={x:n.x,y:n.y};this.timeStamp=a,this.location=l,(!s||!Zi(s,l))&&this.showTooltip(l)}},t.prototype.hideTip=function(){this.hideTooltip(),this.location=null},t.prototype.showTooltip=function(e){var n=this.context,i=n.event,a=i.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=n.view.getCanvas().get("el").getBoundingClientRect(),s=o.x,l=o.y;this.tooltip.update(P(P({title:a.get("tip")},e),{x:e.x+s,y:e.y+l})),this.tooltip.show()}},t.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},t.prototype.renderTooltip=function(){var e,n=(e={},e[Og]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},e[Lg]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},e);document.getElementById(HP)&&document.body.removeChild(document.getElementById(HP));var i=new WN({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:n,containerId:HP});i.init(),i.setCapture(!1),this.tooltip=i},t}(tm),yB=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.maskShape=null,e.points=[],e.starting=!1,e.moving=!1,e.preMovePoint=null,e.shapeType="path",e}return t.prototype.getCurrentPoint=function(){var e=this.context.event;return{x:e.x,y:e.y}},t.prototype.emitEvent=function(e){var n="mask:".concat(e),i=this.context.view,a=this.context.event;i.emit(n,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},t.prototype.createMask=function(){var e=this.context.view,n=this.getMaskAttrs(),i=e.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:P({fill:"#C5D4EB",opacity:.3},n)});return i},t.prototype.getMaskPath=function(){return[]},t.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},t.prototype.start=function(e){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(e==null?void 0:e.maskStyle),this.emitEvent("start")},t.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},t.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var e=this.getCurrentPoint(),n=this.preMovePoint,i=e.x-n.x,a=e.y-n.y,o=this.points;q(o,function(s){s.x+=i,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=e}},t.prototype.updateMask=function(e){var n=Kt({},this.getMaskAttrs(),e);this.maskShape.attr(n)},t.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},t.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},t.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},t.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},t.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,r.prototype.destroy.call(this)},t}(ia),gXe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.shapeType="circle",e}return t.prototype.getMaskAttrs=function(){var e=this.points,n=Ua(this.points),i=0,a=0,o=0;if(e.length){var s=e[0];i=KN(s,n)/2,a=(n.x+s.x)/2,o=(n.y+s.y)/2}return{x:a,y:o,r:i}},t}(yB),Zre=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.shapeType="rect",e}return t.prototype.getRegion=function(){var e=this.points;return{start:Fs(e),end:Ua(e)}},t.prototype.getMaskAttrs=function(){var e=this.getRegion(),n=e.start,i=e.end,a=Math.min(n.x,i.x),o=Math.min(n.y,i.y),s=Math.abs(i.x-n.x),l=Math.abs(i.y-n.y);return{x:a,y:o,width:s,height:l}},t}(yB);function t7(r){r.x=Bi(r.x,0,1),r.y=Bi(r.y,0,1)}var Qre=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.dim="x",e.inPlot=!0,e}return t.prototype.getRegion=function(){var e=null,n=null,i=this.points,a=this.dim,o=this.context.view.getCoordinate(),s=o.invert(Fs(i)),l=o.invert(Ua(i));return this.inPlot&&(t7(s),t7(l)),a==="x"?(e=o.convert({x:s.x,y:0}),n=o.convert({x:l.x,y:1})):(e=o.convert({x:0,y:s.y}),n=o.convert({x:1,y:l.y})),{start:e,end:n}},t}(Zre),Jre=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getMaskPath=function(){var e=this.points,n=[];return e.length&&(q(e,function(i,a){a===0?n.push(["M",i.x,i.y]):n.push(["L",i.x,i.y])}),n.push(["L",e[0].x,e[0].y])),n},t.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},t.prototype.addPoint=function(){this.resize()},t}(yB),mXe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getMaskPath=function(){var e=this.points;return t7e(e,!0)},t}(Jre),yXe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.setCursor=function(e){var n=this.context.view;n.getCanvas().setCursor(e)},t.prototype.default=function(){this.setCursor("default")},t.prototype.pointer=function(){this.setCursor("pointer")},t.prototype.move=function(){this.setCursor("move")},t.prototype.crosshair=function(){this.setCursor("crosshair")},t.prototype.wait=function(){this.setCursor("wait")},t.prototype.help=function(){this.setCursor("help")},t.prototype.text=function(){this.setCursor("text")},t.prototype.eResize=function(){this.setCursor("e-resize")},t.prototype.wResize=function(){this.setCursor("w-resize")},t.prototype.nResize=function(){this.setCursor("n-resize")},t.prototype.sResize=function(){this.setCursor("s-resize")},t.prototype.neResize=function(){this.setCursor("ne-resize")},t.prototype.nwResize=function(){this.setCursor("nw-resize")},t.prototype.seResize=function(){this.setCursor("se-resize")},t.prototype.swResize=function(){this.setCursor("sw-resize")},t.prototype.nsResize=function(){this.setCursor("ns-resize")},t.prototype.ewResize=function(){this.setCursor("ew-resize")},t}(ia),bXe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.filterView=function(e,n,i){var a=this;e.getScaleByField(n)&&e.filter(n,i),e.views&&e.views.length&&q(e.views,function(o){a.filterView(o,n,i)})},t.prototype.filter=function(){var e=T0(this.context);if(e){var n=this.context.view,i=e.component,a=i.get("field");if(Lw(e)){if(a){var o=i.getItemsByState("unchecked"),s=A0(n,a),l=o.map(function(d){return d.name});l.length?this.filterView(n,a,function(d){var h=s.getText(d);return!l.includes(h)}):this.filterView(n,a,null),n.render(!0)}}else if(cre(e)){var u=i.getValue(),c=u[0],f=u[1];this.filterView(n,a,function(d){return d>=c&&d<=f}),n.render(!0)}}},t}(ia);function r7(r,t,e,n){var i=Math.min(e[t],n[t]),a=Math.max(e[t],n[t]),o=r.range,s=o[0],l=o[1];if(i<s&&(i=s),a>l&&(a=l),i===l&&a===l)return null;var u=r.invert(i),c=r.invert(a);if(r.isCategory){var f=r.values.indexOf(u),d=r.values.indexOf(c),h=r.values.slice(f,d+1);return function(v){return h.includes(v)}}else return function(v){return v>=u&&v<=c}}var Js;(function(r){r.FILTER="brush-filter-processing",r.RESET="brush-filter-reset",r.BEFORE_FILTER="brush-filter:beforefilter",r.AFTER_FILTER="brush-filter:afterfilter",r.BEFORE_RESET="brush-filter:beforereset",r.AFTER_RESET="brush-filter:afterreset"})(Js||(Js={}));var sk=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.dims=["x","y"],e.startPoint=null,e.isStarted=!1,e}return t.prototype.hasDim=function(e){return this.dims.includes(e)},t.prototype.start=function(){var e=this.context;this.isStarted=!0,this.startPoint=e.getCurrentPoint()},t.prototype.filter=function(){var e,n;if(Fw(this.context)){var i=this.context.event.target,a=i.getCanvasBBox();e={x:a.x,y:a.y},n={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;e=this.startPoint,n=this.context.getCurrentPoint()}if(!(Math.abs(e.x-n.x)<5||Math.abs(e.x-n.y)<5)){var o=this.context,s=o.view,l=o.event,u={view:s,event:l,dims:this.dims};s.emit(Js.BEFORE_FILTER,na.fromData(s,Js.BEFORE_FILTER,u));var c=s.getCoordinate(),f=c.invert(n),d=c.invert(e);if(this.hasDim("x")){var h=s.getXScale(),v=r7(h,"x",f,d);this.filterView(s,h.field,v)}if(this.hasDim("y")){var p=s.getYScales()[0],v=r7(p,"y",f,d);this.filterView(s,p.field,v)}this.reRender(s,{source:Js.FILTER}),s.emit(Js.AFTER_FILTER,na.fromData(s,Js.AFTER_FILTER,u))}},t.prototype.end=function(){this.isStarted=!1},t.prototype.reset=function(){var e=this.context.view;if(e.emit(Js.BEFORE_RESET,na.fromData(e,Js.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var n=e.getXScale();this.filterView(e,n.field,null)}if(this.hasDim("y")){var i=e.getYScales()[0];this.filterView(e,i.field,null)}this.reRender(e,{source:Js.RESET}),e.emit(Js.AFTER_RESET,na.fromData(e,Js.AFTER_RESET,{}))},t.prototype.filterView=function(e,n,i){e.filter(n,i)},t.prototype.reRender=function(e,n){e.render(!0,n)},t}(ia),bB=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.filterView=function(e,n,i){var a=Qc(e);q(a,function(o){o.filter(n,i)})},t.prototype.reRender=function(e){var n=Qc(e);q(n,function(i){i.render(!0)})},t}(sk),xXe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.filter=function(){var e=T0(this.context),n=this.context.view,i=jo(n);if(Fw(this.context)){var a=XN(this.context,10);a&&q(i,function(v){a.includes(v)?v.show():v.hide()})}else if(e){var o=e.component,s=o.get("field");if(Lw(e)){if(s){var l=o.getItemsByState("unchecked"),u=A0(n,s),c=l.map(function(v){return v.name});q(i,function(v){var p=tc(v,s),g=u.getText(p);c.indexOf(g)>=0?v.hide():v.show()})}}else if(cre(e)){var f=o.getValue(),d=f[0],h=f[1];q(i,function(v){var p=tc(v,s);p>=d&&p<=h?v.show():v.hide()})}}},t.prototype.clear=function(){var e=jo(this.context.view);q(e,function(n){n.show()})},t.prototype.reset=function(){this.clear()},t}(ia),ene=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.byRecord=!1,e}return t.prototype.filter=function(){Fw(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},t.prototype.filterByRecord=function(){var e=this.context.view,n=XN(this.context,10);if(!!n){var i=e.getXScale().field,a=e.getYScales()[0].field,o=n.map(function(l){return l.getModel().data}),s=Qc(e);q(s,function(l){var u=jo(l);q(u,function(c){var f=c.getModel().data;vre(o,f,i,a)?c.show():c.hide()})})}},t.prototype.filterByBBox=function(){var e=this,n=this.context.view,i=Qc(n);q(i,function(a){var o=fre(e.context,a,10),s=jo(a);o&&q(s,function(l){o.includes(l)?l.show():l.hide()})})},t.prototype.reset=function(){var e=Qc(this.context.view);q(e,function(n){var i=jo(n);q(i,function(a){a.show()})})},t}(ia),wXe=10,SXe=5,CXe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},e}return t.prototype.getButtonCfg=function(){return Kt(this.buttonCfg,this.cfg)},t.prototype.drawButton=function(){var e=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:e.name}),i=n.addShape({type:"text",name:"button-text",attrs:P({text:e.text},e.textStyle)}),a=i.getBBox(),o=QN(e.padding),s=n.addShape({type:"rect",name:"button-rect",attrs:P({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},e.style)});s.toBack(),n.on("mouseenter",function(){s.attr(e.activeStyle)}),n.on("mouseleave",function(){s.attr(e.style)}),this.buttonGroup=n},t.prototype.resetPosition=function(){var e=this.context.view,n=e.getCoordinate(),i=n.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=Ai(null,[["t",i.x-o.width-wXe,i.y+o.height+SXe]]);a.setMatrix(s)},t.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},t.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},t.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),r.prototype.destroy.call(this)},t}(ia),EXe=4,_Xe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.starting=!1,e.dragStart=!1,e}return t.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},t.prototype.drag=function(){if(!!this.startPoint){var e=this.context.getCurrentPoint(),n=this.context.view,i=this.context.event;this.dragStart?n.emit("drag",{target:i.target,x:i.x,y:i.y}):KN(e,this.startPoint)>EXe&&(n.emit("dragstart",{target:i.target,x:i.x,y:i.y}),this.dragStart=!0)}},t.prototype.end=function(){if(this.dragStart){var e=this.context.view,n=this.context.event;e.emit("dragend",{target:n.target,x:n.x,y:n.y})}this.starting=!1,this.dragStart=!1},t}(ia),TXe=5,AXe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.starting=!1,e.isMoving=!1,e.startPoint=null,e.startMatrix=null,e}return t.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},t.prototype.move=function(){if(!!this.starting){var e=this.startPoint,n=this.context.getCurrentPoint(),i=KN(e,n);if(i>TXe&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=Ai(this.startMatrix,[["t",n.x-e.x,n.y-e.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},t.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},t.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var e=this.context.view;e.backgroundGroup.resetMatrix(),e.foregroundGroup.resetMatrix(),e.middleGroup.resetMatrix(),this.isMoving=!1},t}(ia),n7="x",i7="y",tne=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.dims=[n7,i7],e.cfgFields=["dims"],e.cacheScaleDefs={},e}return t.prototype.hasDim=function(e){return this.dims.includes(e)},t.prototype.getScale=function(e){var n=this.context.view;return e==="x"?n.getXScale():n.getYScales()[0]},t.prototype.resetDim=function(e){var n=this.context.view;if(this.hasDim(e)&&this.cacheScaleDefs[e]){var i=this.getScale(e);n.scale(i.field,this.cacheScaleDefs[e]),this.cacheScaleDefs[e]=null}},t.prototype.reset=function(){this.resetDim(n7),this.resetDim(i7);var e=this.context.view;e.render(!0)},t}(ia),kXe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.startPoint=null,e.starting=!1,e.startCache={},e}return t.prototype.start=function(){var e=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var n=this.dims;q(n,function(i){var a=e.getScale(i),o=a.min,s=a.max,l=a.values;e.startCache[i]={min:o,max:s,values:l}})},t.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},t.prototype.translate=function(){var e=this;if(!!this.starting){var n=this.startPoint,i=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=i.invert(n),s=i.invert(a),l=s.x-o.x,u=s.y-o.y,c=this.context.view,f=this.dims;q(f,function(d){e.translateDim(d,{x:l*-1,y:u*-1})}),c.render(!0)}},t.prototype.translateDim=function(e,n){if(this.hasDim(e)){var i=this.getScale(e);i.isLinear&&this.translateLinear(e,i,n)}},t.prototype.translateLinear=function(e,n,i){var a=this.context.view,o=this.startCache[e],s=o.min,l=o.max,u=l-s,c=i[e]*u;this.cacheScaleDefs[e]||(this.cacheScaleDefs[e]={nice:n.nice,min:s,max:l}),a.scale(n.field,{nice:!1,min:s+c,max:l+c})},t.prototype.reset=function(){r.prototype.reset.call(this),this.startPoint=null,this.starting=!1},t}(tne),MXe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.zoomRatio=.05,e}return t.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},t.prototype.zoom=function(e){var n=this,i=this.dims;q(i,function(a){n.zoomDim(a,e)}),this.context.view.render(!0)},t.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},t.prototype.zoomDim=function(e,n){if(this.hasDim(e)){var i=this.getScale(e);i.isLinear&&this.zoomLinear(e,i,n)}},t.prototype.zoomLinear=function(e,n,i){var a=this.context.view;this.cacheScaleDefs[e]||(this.cacheScaleDefs[e]={nice:n.nice,min:n.min,max:n.max});var o=this.cacheScaleDefs[e],s=o.max-o.min,l=n.min,u=n.max,c=i*s,f=l-c,d=u+c,h=d-f,v=h/s;d>f&&v<100&&v>.01&&a.scale(n.field,{nice:!1,min:l-c,max:u+c})},t}(tne);function IXe(r){var t=r.gEvent.originalEvent;return t.deltaY>0}var PXe=1,RXe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.scroll=function(e){var n=this.context,i=n.view,a=n.event;if(!!i.getOptions().scrollbar){var o=(e==null?void 0:e.wheelDelta)||PXe,s=i.getController("scrollbar"),l=i.getXScale(),u=i.getOptions().data,c=Qa(xu(u,l.field)),f=Qa(l.values),d=s.getValue(),h=Math.floor((c-f)*d),v=h+(IXe(a)?o:-o),p=o/(c-f)/1e4,g=Bi(v/(c-f)+p,0,1);s.setValue(g)}},t}(ia);v7e("dark",gre(rje));Ete("canvas",oRe);Ete("svg",KRe);vf("Polygon",gje);vf("Interval",fje);vf("Schema",mje);vf("Path",iB);vf("Point",vje);vf("Line",dje);vf("Area",ije);vf("Edge",aje);vf("Heatmap",oje);vf("Violin",bje);ES("base",ik);ES("interval",Lje);ES("pie",Fje);ES("polar",Hre);vl("overlap",Kje);vl("distribute",Bje);vl("fixed-overlap",qje);vl("hide-overlap",rYe);vl("limit-in-shape",Wje);vl("limit-in-canvas",Vje);vl("limit-in-plot",bYe);vl("pie-outer",$je);vl("adjust-color",iYe);vl("interval-adjust-position",lYe);vl("interval-hide-overlap",cYe);vl("point-adjust-position",hYe);vl("pie-spider",Hje);vl("path-adjust-position",gYe);Hl("fade-in",xYe);Hl("fade-out",wYe);Hl("grow-in-x",CYe);Hl("grow-in-xy",_Ye);Hl("grow-in-y",EYe);Hl("scale-in-x",kYe);Hl("scale-in-y",MYe);Hl("wave-in",PYe);Hl("zoom-in",RYe);Hl("zoom-out",DYe);Hl("position-update",AYe);Hl("sector-path-update",IYe);Hl("path-in",TYe);tb("rect",BYe);tb("mirror",NYe);tb("list",LYe);tb("matrix",FYe);tb("circle",OYe);tb("tree",zYe);em("axis",UYe);em("legend",HYe);em("tooltip",wre);em("annotation",GYe);em("slider",VYe);em("scrollbar",YYe);Gr("tooltip",Xre);Gr("sibling-tooltip",ZYe);Gr("ellipsis-text",QYe);Gr("element-active",JYe);Gr("element-single-active",rXe);Gr("element-range-active",tXe);Gr("element-highlight",gB);Gr("element-highlight-by-x",iXe);Gr("element-highlight-by-color",nXe);Gr("element-single-highlight",aXe);Gr("element-range-highlight",Kre);Gr("element-sibling-highlight",Kre,{effectSiblings:!0,effectByRecord:!0});Gr("element-selected",sXe);Gr("element-single-selected",lXe);Gr("element-range-selected",oXe);Gr("element-link-by-color",eXe);Gr("active-region",KYe);Gr("list-active",uXe);Gr("list-selected",fXe);Gr("list-highlight",mB);Gr("list-unchecked",dXe);Gr("list-checked",hXe);Gr("list-focus",vXe);Gr("list-radio",pXe);Gr("legend-item-highlight",mB,{componentNames:["legend"]});Gr("axis-label-highlight",mB,{componentNames:["axis"]});Gr("rect-mask",Zre);Gr("x-rect-mask",Qre,{dim:"x"});Gr("y-rect-mask",Qre,{dim:"y"});Gr("circle-mask",gXe);Gr("path-mask",Jre);Gr("smooth-path-mask",mXe);Gr("cursor",yXe);Gr("data-filter",bXe);Gr("brush",sk);Gr("brush-x",sk,{dims:["x"]});Gr("brush-y",sk,{dims:["y"]});Gr("sibling-filter",bB);Gr("sibling-x-filter",bB);Gr("sibling-y-filter",bB);Gr("element-filter",xXe);Gr("element-sibling-filter",ene);Gr("element-sibling-filter-record",ene,{byRecord:!0});Gr("view-drag",_Xe);Gr("view-move",AXe);Gr("scale-translate",kXe);Gr("scale-zoom",MXe);Gr("reset-button",CXe,{name:"reset-button",text:"reset"});Gr("mousewheel-scroll",RXe);function hv(r){return r.isInPlot()}cn("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]});cn("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]});cn("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]});cn("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]});cn("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]});cn("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]});cn("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]});cn("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]});cn("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]});cn("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]});cn("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]});cn("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(r){return!r.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(r){return!r.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]});cn("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:hv,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:hv,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:hv,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]});cn("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]});cn("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:hv,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:hv,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:hv,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]});cn("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:hv,action:"path-mask:start"},{trigger:"mousedown",isEnable:hv,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]});cn("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]});cn("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(r){return!r.isInShape("legend-item-radio")},action:["list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]});cn("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]});cn("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]});cn("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]});cn("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function a7(r){return r.gEvent.preventDefault(),r.gEvent.originalEvent.deltaY>0}cn("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(r){return a7(r.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(r){return!a7(r.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]});cn("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});cn("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});function jr(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(e){return r.reduce(function(n,i){return i(n)},e)}}function hi(r,t){var e={};return r!==null&&typeof r=="object"&&t.forEach(function(n){var i=r[n];i!==void 0&&(e[n]=i)}),e}function rne(r,t){return t?us(t,function(e,n,i){return e.replace(new RegExp("{\\s*"+i+"\\s*}","g"),n)},r):r}var rc;(function(r){r.ERROR="error",r.WARN="warn",r.INFO="log"})(rc||(rc={}));var DXe="AntV/G2Plot";function OXe(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var n=0;return DXe+": "+r.replace(/%s/g,function(){return""+t[n++]})}function Ld(r,t,e){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];t||console[r](OXe.apply(void 0,ki([e],n)))}function BO(r){if(!r)return{width:0,height:0};var t=getComputedStyle(r);return{width:(r.clientWidth||parseInt(t.width,10))-parseInt(t.paddingLeft,10)-parseInt(t.paddingRight,10),height:(r.clientHeight||parseInt(t.height,10))-parseInt(t.paddingTop,10)-parseInt(t.paddingBottom,10)}}function cs(r,t){return r.geometries.find(function(e){return e.type===t})}function wT(r){return us(r.geometries,function(t,e){return t.concat(e.elements)},[])}function Nw(r){return me(r,["views","length"],0)<=0?wT(r):us(r.views,function(t,e){return t.concat(Nw(e))},wT(r))}function LXe(r){return me(r,["views","length"],0)<=0?r.geometries:us(r.views,function(t,e){return t.concat(e.geometries)},r.geometries)}function En(r,t){return r.views.find(function(e){return e.id===t})}function v1(r){var t=r.parent;return t?t.views:[]}function o7(r){return v1(r).filter(function(t){return t!==r})}function _o(r){if(!Su(r,"Object"))return r;var t=P({},r);return t.formatter&&!t.content&&(t.content=t.formatter),t}function FXe(r,t){var e=[];if(r.length){e.push(["M",r[0].x,r[0].y]);for(var n=1,i=r.length;n<i;n+=1){var a=r[n];e.push(["L",a.x,a.y])}t&&e.push(["Z"])}return e}var NXe=function(r,t,e,n){var i=[],a,o,s=!!n,l,u;if(s){l=[1/0,1/0],u=[-1/0,-1/0];for(var c=0,f=r.length;c<f;c++){var d=r[c];l=zo([0,0],l,d),u=$o([0,0],u,d)}l=zo([0,0],l,n[0]),u=$o([0,0],u,n[1])}for(var c=0,h=r.length;c<h;c++){var d=r[c];if(e)a=r[c?c-1:h-1],o=r[(c+1)%h];else if(c===0||c===h-1){i.push(d);continue}else a=r[c-1],o=r[c+1];var v=[0,0];v=lg(v,o,a),v=pa(v,v,t);var p=y0(d,a),g=y0(d,o),m=p+g;m!==0&&(p/=m,g/=m);var y=pa([0,0],v,-p),b=pa([0,0],v,g),w=Pa([0,0],d,y),S=Pa([0,0],d,b);s&&(w=$o([0,0],w,l),w=zo([0,0],w,u),S=$o([0,0],S,l),S=zo([0,0],S,u)),i.push(w),i.push(S)}return e&&i.push(i.shift()),i};function BXe(r,t,e){for(var n=!!t,i=[],a=0,o=r.length;a<o;a+=2)i.push([r[a],r[a+1]]);for(var s=NXe(i,.4,n,e),l=i.length,u=[],c,f,d,a=0;a<l-1;a++)c=s[a*2],f=s[a*2+1],d=i[a+1],u.push(["C",c[0],c[1],f[0],f[1],d[0],d[1]]);return n&&(c=s[l],f=s[l+1],d=i[0],u.push(["C",c[0],c[1],f[0],f[1],d[0],d[1]])),u}function zXe(r,t,e){var n=[],i=r[0],a=null;if(r.length<=2)return FXe(r,t);for(var o=0,s=r.length;o<s;o++){var l=r[o];(!a||!(a.x===l.x&&a.y===l.y))&&(n.push(l.x),n.push(l.y),a=l)}var u=e||[[0,0],[1,1]],c=BXe(n,t,u);return c.unshift(["M",i.x,i.y]),c}var $Xe=5,GXe={}.toString,nne=function(r,t){return GXe.call(r)==="[object "+t+"]"},UXe=function(r){return nne(r,"Array")},HXe=function(r){return typeof r=="object"&&r!==null},s7=function(r){if(!HXe(r)||!nne(r,"Object"))return!1;for(var t=r;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(r)===t},ine=function(r,t,e,n){e=e||0,n=n||$Xe;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=t[i];a?s7(a)?(s7(r[i])||(r[i]={}),e<n?ine(r[i],a,e+1,n):r[i]=t[i]):UXe(a)?(r[i]=[],r[i]=r[i].concat(a)):r[i]=a:r[i]=a}},pt=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var n=0;n<t.length;n+=1)ine(r,t[n]);return r};function l7(r){if(!r)return r;var t=r.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);return t.map(function(e){return e.toLowerCase()}).join("-")}function ane(r){var t={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},e=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];me(r,"fill")&&(t.color=r.fill);var n=hi(r,e),i=n.shadowColor,a=n.shadowBlur,o=a===void 0?0:a,s=n.shadowOffsetX,l=s===void 0?0:s,u=n.shadowOffsetY,c=u===void 0?0:u;t["text-shadow"]=""+[i,l+"px",c+"px",o+"px"].join(" ");var f=hi(r,e),d=f.stroke,h=f.lineWidth,v=h===void 0?0:h;return t["-webkit-text-stroke"]=""+[v+"px",d].join(" "),q(r,function(p,g){["fontSize"].includes(g)&&ir(p)?t[l7(g)]=p+"px":g&&!e.includes(g)&&(t[l7(g)]=""+p)}),t}function one(r,t){r.style["pointer-events"]="none",q(t,function(e,n){n&&e&&(r.style[n]=e)})}var lk=function(r,t,e){var n=t.statistic,i=t.plotType,a=n.title,o=n.content;[a,o].forEach(function(s,l){if(!!s){var u="";l===0?u=o?"translate(-50%, -100%)":"translate(-50%, -50%)":u=a?"translate(-50%, 0)":"translate(-50%, -50%)";var c=yr(s.style)?s.style(e):s.style;r.annotation().html(P({position:["50%","50%"],html:function(f,d){var h=d.getCoordinate(),v=0;if(i==="pie"||i==="ring-progress")v=h.getRadius()*h.innerRadius*2;else if(i==="liquid"){var p=me(d.geometries,[0,"elements",0,"shape"]);if(p){var g=p.find(function(w){return w.get("name")==="wrap"}),m=g.getCanvasBBox().width;v=m}}else v||(v=h.getWidth());one(f,P({width:v+"px",transform:u},ane(c)));var y=d.getData();if(s.customHtml)return s.customHtml(f,d,e,y);var b=s.content;return s.formatter&&(b=s.formatter(e,y)),b?wt(b)?b:""+b:"<div></div>"},key:(l===0?"top":"bottom")+"-statistic"},hi(s,["offsetX","offsetY","rotate","style","formatter"])))}})},VXe=function(r,t,e){var n=t.statistic,i=n.title,a=n.content;[i,a].forEach(function(o){if(!!o){var s=yr(o.style)?o.style(e):o.style;r.annotation().html(P({position:["50%","100%"],html:function(l,u){var c=u.getCoordinate(),f=u.views[0].getCoordinate(),d=f.getCenter(),h=f.getRadius(),v=Math.max(Math.sin(f.startAngle),Math.sin(f.endAngle))*h,p=d.y+v-c.y.start-parseFloat(me(s,"fontSize",0)),g=c.getRadius()*c.innerRadius*2;one(l,P({width:g+"px",transform:"translate(-50%, "+p+"px)"},ane(s)));var m=u.getData();if(o.customHtml)return o.customHtml(l,u,e,m);var y=o.content;return o.formatter&&(y=o.formatter(e,m)),y?wt(y)?y:""+y:"<div></div>"}},hi(o,["offsetX","offsetY","rotate","style","formatter"])))}})},VP;function WXe(){return VP||(VP=document.createElement("canvas").getContext("2d")),VP}qg(function(r,t){t===void 0&&(t={});var e=t.fontSize,n=t.fontFamily,i=n===void 0?"sans-serif":n,a=t.fontWeight,o=t.fontStyle,s=t.fontVariant,l=WXe();l.font=[o,a,s,e+"px",i].join(" ");var u=l.measureText(wt(r)?r:"");return u.width},function(r,t){return t===void 0&&(t={}),ki([r],Y0(t)).join("")});function Ng(r){return typeof r=="number"&&!isNaN(r)}function jXe(r,t,e){var n=Math.min(t,e),i=Math.max(t,e);return r>=n&&r<=i}function xB(r,t){if(!r)return{};var e=r.filter(function(a){var o=me(a,[t]);return ir(o)&&!isNaN(o)}),n=e.every(function(a){return me(a,[t])>=0}),i=e.every(function(a){return me(a,[t])<=0});return n?{min:0}:i?{max:0}:{}}function sne(r,t,e,n,i){if(i===void 0&&(i=[]),!Array.isArray(r))return{nodes:[],links:[]};var a=[],o={},s=-1;return r.forEach(function(l){var u=l[t],c=l[e],f=l[n],d=hi(l,i);o[u]||(o[u]=P({id:++s,name:u},d)),o[c]||(o[c]=P({id:++s,name:c},d)),a.push(P({source:o[u].id,target:o[c].id,value:f},d))}),{nodes:Object.values(o).sort(function(l,u){return l.id-u.id}),links:a}}function M0(r,t){var e=ko(r,function(n){var i=n[t];return i===null||typeof i=="number"&&!isNaN(i)});return Ld(rc.WARN,e.length===r.length,"illegal data existed in chart data."),e}function Ev(r){if(ir(r))return[r,r,r,r];if(gt(r)){var t=r.length;if(t===1)return[r[0],r[0],r[0],r[0]];if(t===2)return[r[0],r[1],r[0],r[1]];if(t===3)return[r[0],r[1],r[2],r[1]];if(t===4)return r}return[0,0,0,0]}function uk(r,t,e){t===void 0&&(t="bottom"),e===void 0&&(e=25);var n=Ev(r),i=[t.startsWith("top")?e:0,t.startsWith("right")?e:0,t.startsWith("bottom")?e:0,t.startsWith("left")?e:0];return[n[0]+i[0],n[1]+i[1],n[2]+i[2],n[3]+i[3]]}function wB(r){var t=r.map(function(n){return Ev(n)}),e=[0,0,0,0];return t.length>0&&(e=e.map(function(n,i){return t.forEach(function(a,o){n+=t[o][i]}),n})),e}var YXe={locale:"en-US"},Q2={};function lne(r,t){Q2[r]=t}function ck(r){return{get:function(t,e){return rne(me(Q2[r],t)||me(Q2[YXe.locale],t)||me(Q2["en-US"],t)||t,e)}}}var XXe={locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}},qXe={locale:"zh-CN",general:{increase:"\u589E\u52A0",decrease:"\u51CF\u5C11",root:"\u521D\u59CB"},statistic:{total:"\u603B\u8BA1"},conversionTag:{label:"\u8F6C\u5316\u7387"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"\u603B\u8BA1"}},une=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=1,n=function(){return"".concat(e++)};t.default=n});zn(une);var SB=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,o=null;return function(){for(var s=this,l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];clearTimeout(o),o=setTimeout(function(){i.apply(s,u)},a)}};t.default=e});zn(SB);var qc=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SensorTabIndex=t.SensorClassName=t.SizeSensorId=void 0;var e="size-sensor-id";t.SizeSensorId=e;var n="size-sensor-object";t.SensorClassName=n;var i="-1";t.SensorTabIndex=i});zn(qc);qc.SensorTabIndex;qc.SensorClassName;qc.SizeSensorId;var CB=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var e=n(SB);function n(a){return a&&a.__esModule?a:{default:a}}var i=function(o){var s=void 0,l=[],u=function(){getComputedStyle(o).position==="static"&&(o.style.position="relative");var p=document.createElement("object");return p.onload=function(){p.contentDocument.defaultView.addEventListener("resize",c),c()},p.style.display="block",p.style.position="absolute",p.style.top="0",p.style.left="0",p.style.height="100%",p.style.width="100%",p.style.overflow="hidden",p.style.pointerEvents="none",p.style.zIndex="-1",p.style.opacity="0",p.setAttribute("class",qc.SensorClassName),p.setAttribute("tabindex",qc.SensorTabIndex),p.type="text/html",o.appendChild(p),p.data="about:blank",p},c=(0,e.default)(function(){l.forEach(function(v){v(o)})}),f=function(p){s||(s=u()),l.indexOf(p)===-1&&l.push(p)},d=function(){s&&s.parentNode&&(s.contentDocument&&s.contentDocument.defaultView.removeEventListener("resize",c),s.parentNode.removeChild(s),s=void 0,l=[])},h=function(p){var g=l.indexOf(p);g!==-1&&l.splice(g,1),l.length===0&&s&&d()};return{element:o,bind:f,destroy:d,unbind:h}};t.createSensor=i});zn(CB);CB.createSensor;var EB=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var e=n(SB);function n(a){return a&&a.__esModule?a:{default:a}}var i=function(o){var s=void 0,l=[],u=(0,e.default)(function(){l.forEach(function(v){v(o)})}),c=function(){var p=new ResizeObserver(u);return p.observe(o),u(),p},f=function(p){s||(s=c()),l.indexOf(p)===-1&&l.push(p)},d=function(){s.disconnect(),l=[],s=void 0},h=function(p){var g=l.indexOf(p);g!==-1&&l.splice(g,1),l.length===0&&s&&d()};return{element:o,bind:f,destroy:d,unbind:h}};t.createSensor=i});zn(EB);EB.createSensor;var _B=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var e=typeof ResizeObserver!="undefined"?EB.createSensor:CB.createSensor;t.createSensor=e});zn(_B);_B.createSensor;var e0=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.removeSensor=t.getSensor=void 0;var e=n(une);function n(s){return s&&s.__esModule?s:{default:s}}var i={},a=function(l){var u=l.getAttribute(qc.SizeSensorId);if(u&&i[u])return i[u];var c=(0,e.default)();l.setAttribute(qc.SizeSensorId,c);var f=(0,_B.createSensor)(l);return i[c]=f,f};t.getSensor=a;var o=function(l){var u=l.element.getAttribute(qc.SizeSensorId);l.element.removeAttribute(qc.SizeSensorId),l.destroy(),u&&i[u]&&delete i[u]};t.removeSensor=o});zn(e0);e0.removeSensor;e0.getSensor;var fk=un(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ver=t.clear=t.bind=void 0;var e=function(o,s){var l=(0,e0.getSensor)(o);return l.bind(s),function(){l.unbind(s)}};t.bind=e;var n=function(o){var s=(0,e0.getSensor)(o);(0,e0.removeSensor)(s)};t.clear=n;var i="1.0.1";t.ver=i});zn(fk);fk.ver;fk.clear;var KXe=fk.bind,u7="data-chart-source-type",cne=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],on=function(r){Ve(t,r);function t(e,n){var i=r.call(this)||this;return i.container=typeof e=="string"?document.getElementById(e):e,i.options=pt({},i.getDefaultOptions(),n),i.createG2(),i.bindEvents(),i}return t.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},t.prototype.createG2=function(){var e=this.options,n=e.width,i=e.height,a=e.defaultInteractions;this.chart=new I7e(P(P(P(P({container:this.container,autoFit:!1},this.getChartSize(n,i)),{localRefresh:!1}),hi(this.options,cne)),{defaultInteractions:a})),this.container.setAttribute(u7,"G2Plot")},t.prototype.getChartSize=function(e,n){var i=BO(this.container);return{width:e||i.width||400,height:n||i.height||400}},t.prototype.bindEvents=function(){var e=this;this.chart&&this.chart.on("*",function(n){(n==null?void 0:n.type)&&e.emit(n.type,n)})},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},t.prototype.update=function(e){this.updateOption(e),this.render()},t.prototype.updateOption=function(e){this.options=pt({},this.options,e)},t.prototype.setState=function(e,n,i){i===void 0&&(i=!0);var a=Nw(this.chart);q(a,function(o){n(o.getData())&&o.setState(e,i)})},t.prototype.getStates=function(){var e=Nw(this.chart),n=[];return q(e,function(i){var a=i.getData(),o=i.getStates();q(o,function(s){n.push({data:a,state:s,geometry:i.geometry,element:i})})}),n},t.prototype.changeData=function(e){this.update({data:e})},t.prototype.changeSize=function(e,n){this.chart.changeSize(e,n)},t.prototype.addAnnotations=function(e){var n=ki(e),i=this.chart.getController("annotation"),a=i.getComponents().map(function(l){return l.extra});i.clear(!0);for(var o=function(l){var u=a[l],c=n.findIndex(function(f){return f.id&&f.id===u.id});c!==-1&&(u=pt({},u,n[c]),n.splice(c,1)),i.annotation(u)},s=0;s<a.length;s++)o(s);n.forEach(function(l){return i.annotation(l)}),this.chart.render(!0)},t.prototype.removeAnnotations=function(e){var n=this.chart.getController("annotation"),i=n.getComponents().map(function(s){return s.extra});n.clear(!0);for(var a=function(s){var l=i[s];e.find(function(u){return u.id&&u.id===l.id})||n.annotation(l)},o=0;o<i.length;o++)a(o);this.chart.render(!0)},t.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(u7)},t.prototype.execAdaptor=function(){var e=this.getSchemaAdaptor(),n=this.options,i=n.padding,a=n.appendPadding;this.chart.padding=i,this.chart.appendPadding=a,e({chart:this.chart,options:this.options})},t.prototype.triggerResize=function(){this.chart.forceFit()},t.prototype.bindSizeSensor=function(){var e=this;if(!this.unbind){var n=this.options.autoFit,i=n===void 0?!0:n;i&&(this.unbind=KXe(this.container,function(){var a=BO(e.container),o=a.width,s=a.height;(o!==e.chart.width||s!==e.chart.height)&&e.triggerResize()}))}},t.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},t}(wA),sl=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"];function dk(){return typeof window=="object"?window==null?void 0:window.devicePixelRatio:2}function TB(r,t){t===void 0&&(t=r);var e=document.createElement("canvas"),n=dk();e.width=r*n,e.height=t*n,e.style.width=r+"px",e.style.height=t+"px";var i=e.getContext("2d");return i.scale(n,n),e}function AB(r,t,e,n){n===void 0&&(n=e);var i=t.backgroundColor,a=t.opacity;r.globalAlpha=a,r.fillStyle=i,r.beginPath(),r.fillRect(0,0,e,n),r.closePath()}function fne(r,t,e){var n=r+t;return e?n*2:n}function dne(r,t){var e=t?[[r*.25,r*.25],[r*.75,r*.75]]:[[r*.5,r*.5]];return e}function kB(r,t){var e=t*Math.PI/180,n={a:Math.cos(e)*(1/r),b:Math.sin(e)*(1/r),c:-Math.sin(e)*(1/r),d:Math.cos(e)*(1/r),e:0,f:0};return n}var ZXe={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function QXe(r,t,e,n){var i=t.size,a=t.fill,o=t.lineWidth,s=t.stroke,l=t.fillOpacity;r.beginPath(),r.globalAlpha=l,r.fillStyle=a,r.strokeStyle=s,r.lineWidth=o,r.arc(e,n,i/2,0,2*Math.PI,!1),r.fill(),o&&r.stroke(),r.closePath()}function JXe(r){var t=pt({},ZXe,r),e=t.size,n=t.padding,i=t.isStagger,a=t.rotation,o=fne(e,n,i),s=dne(o,i),l=TB(o,o),u=l.getContext("2d");AB(u,t,o);for(var c=0,f=s;c<f.length;c++){var d=f[c],h=d[0],v=d[1];QXe(u,t,h,v)}var p=u.createPattern(l,"repeat");if(p){var g=dk(),m=kB(g,a);p.setTransform(m)}return p}var eqe={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};function tqe(r,t,e){var n=t.stroke,i=t.lineWidth,a=t.strokeOpacity,o=new Path2D(e);r.globalAlpha=a,r.lineCap="square",r.strokeStyle=i?n:"transparent",r.lineWidth=i,r.stroke(o)}function rqe(r){var t=pt({},eqe,r),e=t.spacing,n=t.rotation,i=t.lineWidth,a=e+i||1,o=e+i||1,s=`
            M 0 0 L `+a+` 0
            M 0 `+o+" L "+a+" "+o+`
            `,l=TB(a,o),u=l.getContext("2d");AB(u,t,a,o),tqe(u,t,s);var c=u.createPattern(l,"repeat");if(c){var f=dk(),d=kB(f,n);c.setTransform(d)}return c}var nqe={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function iqe(r,t,e,n){var i=t.stroke,a=t.size,o=t.fill,s=t.lineWidth,l=t.fillOpacity;r.globalAlpha=l,r.strokeStyle=i,r.lineWidth=s,r.fillStyle=o,r.strokeRect(e-a/2,n-a/2,a,a),r.fillRect(e-a/2,n-a/2,a,a)}function aqe(r){var t=pt({},nqe,r),e=t.size,n=t.padding,i=t.isStagger,a=t.rotation,o=fne(e,n,i),s=dne(o,i),l=TB(o,o),u=l.getContext("2d");AB(u,t,o);for(var c=0,f=s;c<f.length;c++){var d=f[c],h=d[0],v=d[1];iqe(u,t,h,v)}var p=u.createPattern(l,"repeat");if(p){var g=dk(),m=kB(g,a);p.setTransform(m)}return p}function oqe(r){var t=r.type,e=r.cfg,n;switch(t){case"dot":n=JXe(e);break;case"line":n=rqe(e);break;case"square":n=aqe(e);break}return n}function Vl(r){var t=this;return function(e){var n,i=e.options,a=e.chart,o=i.pattern;if(!o)return e;var s=function(l){for(var u,c,f,d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];var v=a.getTheme().defaultColor,p=v,g=(c=(u=a.geometries)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.getAttribute("color");if(g){var m=g.getFields()[0],y=me(l,m);p=dl.getMappingValue(g,y,((f=g.values)===null||f===void 0?void 0:f[0])||v)}var b=o;typeof o=="function"&&(b=o.call(t,l,p)),b instanceof CanvasPattern||(b=oqe(pt({},{cfg:{backgroundColor:p}},b)));var w=i[r];return P(P({},typeof w=="function"?w.call.apply(w,ki([t,l],d)):w||{}),{fill:b||p})};return pt({},e,{options:(n={},n[r]=s,n)})}}function nb(r){var t=r.chart,e=r.options,n=e.legend,i=e.colorField,a=e.seriesField;return n===!1?t.legend(!1):(i||a)&&t.legend(i||a,n),r}function co(r){var t=r.chart,e=r.options,n=e.tooltip;return n!==void 0&&t.tooltip(n),r}function Vi(r){var t=r.chart,e=r.options,n=e.interactions;return q(n,function(i){i.enable===!1?t.removeInteraction(i.type):t.interaction(i.type,i.cfg||{})}),r}function yi(r){var t=r.chart,e=r.options,n=e.animation;return typeof n=="boolean"?t.animate(n):t.animate(!0),q(t.geometries,function(i){i.animate(n)}),r}function ti(r){var t=r.chart,e=r.options,n=e.theme;return n&&t.theme(n),r}function Nv(r){var t=r.chart,e=r.options,n=e.state;return n&&q(t.geometries,function(i){i.state(n)}),r}function TS(r){var t=r.chart,e=r.options,n=e.slider;return t.option("slider",n),r}function MB(r){var t=r.chart,e=r.options,n=e.scrollbar;return t.option("scrollbar",n),r}function Sa(r,t){return function(e){var n=e.chart,i=e.options,a={};return q(r,function(o,s){a[s]=hi(o,sl)}),a=pt({},t,i.meta,a),n.scale(a),e}}function Ca(r){return function(t){var e=t.chart,n=t.options,i=e.getController("annotation");return q(ki(n.annotations||[],r||[]),function(a){i.annotation(a)}),t}}function Bg(r){var t=r.chart,e=r.options,n=e.yAxis,i=e.limitInPlot,a=i;return Hn(n)&&xt(i)&&(Object.values(hi(n,["min","max","minLimit","maxLimit"])).some(function(o){return!xt(o)})?a=!0:a=!1),t.limitInPlot=a,r}function Au(r,t){if(r===!1)return{fields:!1};var e=me(r,"fields"),n=me(r,"formatter");return n&&!e&&(e=t),{fields:e,formatter:n}}function C2(r,t){var e=r.type,n=r.xField,i=r.yField,a=r.colorField,o=r.shapeField,s=r.sizeField,l=r.styleField,u=r.rawFields,c=u===void 0?[]:u,f=[];if(t==="color")f=ki([a||n],c);else if(t==="shape")f=ki([o||n],c);else if(t==="size")f=ki([s||n],c);else{f=ki([n,i,a,o,s,l],c);var d=["x","y","color","shape","size","style"].indexOf(t),h=f[d];f.splice(d,1),f.unshift(h)}var v=nf(f.filter(function(g){return!!g})),p=e==="line"&&[n,i].includes(v.join("*"))?"":v.join("*");return{mappingFields:v,tileMappingField:p}}function Py(r,t){if(!!t)return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i={};return r.forEach(function(a,o){i[a]=e[o]}),delete i.undefined,t(i)}}function pl(r){var t=r.chart,e=r.options,n=e.type,i=e.args,a=e.mapping,o=e.xField,s=e.yField,l=e.colorField,u=e.shapeField,c=e.sizeField,f=e.tooltipFields,d=e.label,h=e.state,v=e.customInfo;if(!a)return r;var p=a.color,g=a.shape,m=a.size,y=a.style,b=a.tooltip,w=t[n](i).position(o+"*"+s);if(wt(p))l?w.color(l,p):w.color(p);else if(yr(p)){var S=C2(e,"color"),E=S.mappingFields,_=S.tileMappingField;w.color(_,Py(E,p))}else l&&w.color(l,p);if(wt(g))u?w.shape(u,[g]):w.shape(g);else if(yr(g)){var A=C2(e,"shape"),E=A.mappingFields,_=A.tileMappingField;w.shape(_,Py(E,g))}else u&&w.shape(u,g);if(ir(m))c?w.size(c,m):w.size(m);else if(yr(m)){var k=C2(e,"size"),E=k.mappingFields,_=k.tileMappingField;w.size(_,Py(E,m))}else c&&w.size(c,m);if(yr(y)){var T=C2(e,"style"),E=T.mappingFields,_=T.tileMappingField;w.style(_,Py(E,y))}else Hn(y)&&w.style(y);if(f===!1?w.tooltip(!1):Bs(f)||w.tooltip(f.join("*"),Py(f,b)),d===!1)w.label(!1);else if(d){var I=d.callback,D=d.fields,O=xn(d,["callback","fields"]);w.label({fields:D||[s],callback:I,cfg:_o(O)})}return h&&w.state(h),v&&w.customInfo(v),[o,s].filter(function(B){return B!==l}).forEach(function(B){t.legend(B,!1)}),P(P({},r),{ext:{geometry:w}})}function hk(r){var t=r.options,e=t.area,n=t.xField,i=t.yField,a=t.seriesField,o=t.smooth,s=t.tooltip,l=Au(s,[n,i,a]),u=l.fields,c=l.formatter;return e?pl(pt({},r,{options:{type:"area",colorField:a,tooltipFields:u,mapping:P({shape:o?"smooth":"area",tooltip:c},e)}})):r}function ib(r){var t=r.options,e=t.line,n=t.stepType,i=t.xField,a=t.yField,o=t.seriesField,s=t.smooth,l=t.connectNulls,u=t.tooltip,c=Au(u,[i,a,o]),f=c.fields,d=c.formatter;return e?pl(pt({},r,{options:{type:"line",colorField:o,tooltipFields:f,mapping:Kt({shape:n||(s?"smooth":"line"),tooltip:d},e),args:{connectNulls:l}}})):r}function Wl(r){var t=r.options,e=t.point,n=t.xField,i=t.yField,a=t.seriesField,o=t.sizeField,s=t.shapeField,l=t.tooltip,u=Au(l,[n,i,a,o,s]),c=u.fields,f=u.formatter;return e?pl(pt({},r,{options:{type:"point",colorField:a,shapeField:s,tooltipFields:c,mapping:P({tooltip:f},e)}})):r}function sqe(r){var t=r.chart,e=r.options,n=r.ext,i=e.seriesField,a=e.isGroup,o=e.isStack,s=e.marginRatio,l=e.widthRatio,u=e.groupField,c=e.theme,f=[];if(i&&(a&&f.push({type:"dodge",dodgeBy:u||i,marginRatio:s}),o&&f.push({type:"stack",marginRatio:s})),f.length&&(n==null?void 0:n.geometry)){var d=n==null?void 0:n.geometry;d.adjust(f)}return xt(l)||t.theme(pt({},Hn(c)?c:U1(c),{columnWidthRatio:l})),r}function fs(r){var t=r.options,e=t.xField,n=t.yField,i=t.interval,a=t.seriesField,o=t.tooltip,s=t.minColumnWidth,l=t.maxColumnWidth,u=t.columnBackground,c=t.dodgePadding,f=t.intervalPadding,d=Au(o,[e,n,a]),h=d.fields,v=d.formatter,p=(i?pl(pt({},r,{options:{type:"interval",colorField:a,tooltipFields:h,mapping:P({tooltip:v},i),args:{dodgePadding:c,intervalPadding:f,minColumnWidth:s,maxColumnWidth:l,background:u}}})):r).ext;return sqe(P(P({},r),{ext:p}))}function vk(r){var t=r.options,e=t.polygon,n=t.xField,i=t.yField,a=t.seriesField,o=t.tooltip,s=Au(o,[n,i,a]),l=s.fields,u=s.formatter;return e?pl(pt({},r,{options:{type:"polygon",colorField:a,tooltipFields:l,mapping:P({tooltip:u},e)}})):r}function hne(r){var t=r.options,e=t.edge,n=t.xField,i=t.yField,a=t.seriesField,o=t.tooltip,s=Au(o,[n,i,a]),l=s.fields,u=s.formatter;return e?pl(pt({},r,{options:{type:"edge",colorField:a,tooltipFields:l,mapping:P({tooltip:u},e)}})):r}function IB(r){var t=r.options,e=t.schema,n=t.xField,i=t.yField,a=t.seriesField,o=t.tooltip,s=Au(o,[n,i,a]),l=s.fields,u=s.formatter;return e?pl(pt({},r,{options:{type:"schema",colorField:a,tooltipFields:l,mapping:P({tooltip:u},e)}})):r}function lqe(r){var t=r.options,e=t.violin,n=t.xField,i=t.yField,a=t.seriesField,o=t.sizeField,s=t.tooltip,l=Au(s,[n,i,a,o]),u=l.fields,c=l.formatter;return e?pl(pt({},r,{options:{type:"violin",colorField:a,tooltipFields:u,mapping:P({tooltip:c},e)}})):r}function uqe(r){var t=r.chart,e=r.options,n=e.data,i=e.color,a=e.lineStyle,o=e.lineShape,s=e.point,l=e.area,u=e.seriesField,c=s==null?void 0:s.state,f=l==null?void 0:l.state;t.data(n);var d=pt({},r,{options:{shapeField:u,line:{color:i,style:a,shape:o},point:s&&P({color:i,shape:"circle"},s),area:l&&P({color:i},l),label:void 0}}),h=pt({},d,{options:{tooltip:!1,state:c}}),v=pt({},d,{options:{tooltip:!1,state:f}});return ib(d),Wl(h),hk(v),r}function pk(r){var t,e,n=r.options,i=n.xAxis,a=n.yAxis,o=n.xField,s=n.yField,l=n.data;return jr(Sa((t={},t[o]=i,t[s]=a,t),(e={},e[o]={type:"cat"},e[s]=xB(l,s),e)))(r)}function cqe(r){var t=r.chart,e=r.options,n=e.reflect;if(n){var i=n;gt(i)||(i=[i]);var a=i.map(function(o){return["reflect",o]});t.coordinate({type:"rect",actions:a})}return r}function vne(r){var t=r.chart,e=r.options,n=e.xAxis,i=e.yAxis,a=e.xField,o=e.yField;return n===!1?t.axis(a,!1):t.axis(a,n),i===!1?t.axis(o,!1):t.axis(o,i),r}function pne(r){var t=r.chart,e=r.options,n=e.legend,i=e.seriesField;return n&&i?t.legend(i,n):n===!1&&t.legend(!1),r}function fqe(r){var t=r.chart,e=r.options,n=e.label,i=e.yField,a=cs(t,"line");if(!n)a.label(!1);else{var o=n.callback,s=xn(n,["callback"]);a.label({fields:[i],callback:o,cfg:P({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},_o(s))})}return r}function dqe(r){var t=r.chart,e=r.options,n=e.isStack;return n&&q(t.geometries,function(i){i.adjust("stack")}),r}function gne(r){return jr(uqe,pk,dqe,ti,cqe,vne,pne,co,fqe,TS,MB,Vi,yi,Ca(),Bg)(r)}var hqe=pt({},on.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),vqe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.active=function(){var e=this.getView(),n=this.context.event;if(n.data){var i=n.data.items,a=e.geometries.filter(function(o){return o.type==="point"});q(a,function(o){q(o.elements,function(s){var l=dF(i,function(u){return u.data===s.data})!==-1;s.setState("active",l)})})}},t.prototype.reset=function(){var e=this.getView(),n=e.geometries.filter(function(i){return i.type==="point"});q(n,function(i){q(i.elements,function(a){a.setState("active",!1)})})},t.prototype.getView=function(){return this.context.view},t}(ia);Gr("marker-active",vqe);cn("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var pqe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="line",e}return t.getDefaultOptions=function(){return hqe},t.prototype.changeData=function(e){this.updateOption({data:e});var n=this,i=n.chart,a=n.options;pk({chart:i,options:a}),this.chart.changeData(e)},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return gne},t}(on);function mne(r,t,e,n){var i=us(r,function(a,o){var s=o[e],l=a.has(s)?a.get(s):0,u=o[t];return l=Ng(u)?l+u:l,a.set(s,l),a},new Map);return Di(r,function(a){var o,s=a[t],l=a[e],u=Ng(s)&&i.get(l)!==0?s/i.get(l):0;return P(P({},a),(o={},o[n]=u,o))})}function gqe(r,t,e,n){var i=us(r,function(a,o){var s=us(e,function(c,f){return""+c+o[f]},""),l=a.has(s)?a.get(s):0,u=o[t];return l=Ng(u)?l+u:l,a.set(s,l),a},new Map);return Di(r,function(a){var o,s=a[t],l=us(e,function(c,f){return""+c+a[f]},""),u=Ng(s)&&i.get(l)!==0?s/i.get(l):0;return P(P({},a),(o={},o[n]=u,o))})}function AS(r,t,e,n,i){return i?mne(r,t,e,n):r}function mqe(r){var t=r.chart,e=r.options,n=e.data,i=e.areaStyle,a=e.color,o=e.point,s=e.line,l=e.isPercent,u=e.xField,c=e.yField,f=e.tooltip,d=e.seriesField,h=e.startOnZero,v=o==null?void 0:o.state,p=AS(n,c,u,c,l);t.data(p);var g=l?P({formatter:function(w){return{name:w[d]||w[u],value:(Number(w[c])*100).toFixed(2)+"%"}}},f):f,m=pt({},r,{options:{area:{color:a,style:i},point:o&&P({color:a},o),tooltip:g,label:void 0,args:{startOnZero:h}}}),y={chart:t,options:pt({line:{size:2}},oS(e,["state"]),{line:s&&P({color:a},s),sizeField:d,state:s==null?void 0:s.state,tooltip:!1,label:void 0,args:{startOnZero:h}})},b=pt({},m,{options:{tooltip:!1,state:v}});return hk(m),ib(y),Wl(b),r}function yqe(r){var t=r.chart,e=r.options,n=e.label,i=e.yField,a=cs(t,"area");if(!n)a.label(!1);else{var o=n.callback,s=xn(n,["callback"]);a.label({fields:[i],callback:o,cfg:P({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},_o(s))})}return r}function bqe(r){var t=r.chart,e=r.options,n=e.isStack,i=e.isPercent,a=e.seriesField;return(i||n)&&a&&q(t.geometries,function(o){o.adjust("stack")}),r}function yne(r){return jr(ti,Vl("areaStyle"),mqe,pk,bqe,vne,pne,co,yqe,TS,Ca(),Vi,yi,Bg)(r)}var xqe=pt({},on.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),wqe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="area",e}return t.getDefaultOptions=function(){return xqe},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.changeData=function(e){this.updateOption({data:e});var n=this.options,i=n.isPercent,a=n.xField,o=n.yField,s=this,l=s.chart,u=s.options;pk({chart:l,options:u}),this.chart.changeData(AS(e,o,a,o,i))},t.prototype.getSchemaAdaptor=function(){return yne},t}(on);function bne(r,t){return!ir(r)||!ir(t)?"-":r===t?"100%":r===0?"\u221E":t===0?"-\u221E":(100*t/r).toFixed(2)+"%"}function Sqe(r,t){return pt({size:t?32:80,spacing:t?8:12,offset:t?32:0,arrow:r.arrow!==!1&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:r.text!==!1&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:bne}},r)}function ST(r,t){return Di(t.getModel().points,function(e){return r.convertPoint(e)})}function Cqe(r,t,e){var n=r.view,i=r.geometry,a=r.group,o=r.options,s=r.horizontal,l=o.offset,u=o.size,c=o.arrow,f=n.getCoordinate(),d=ST(f,t)[3],h=ST(f,e)[0],v=h.y-d.y,p=h.x-d.x;if(typeof c!="boolean"){var g=c.headSize,m=o.spacing,y;s?(p-g)/2<m?(m=Math.max(1,(p-g)/2),y=[[d.x+m,d.y-l],[d.x+m,d.y-l-u],[h.x-m,h.y-l-u/2]]):y=[[d.x+m,d.y-l],[d.x+m,d.y-l-u],[h.x-m-g,h.y-l-u],[h.x-m,h.y-l-u/2],[h.x-m-g,h.y-l]]:(v-g)/2<m?(m=Math.max(1,(v-g)/2),y=[[d.x+l,d.y+m],[d.x+l+u,d.y+m],[h.x+l+u/2,h.y-m]]):y=[[d.x+l,d.y+m],[d.x+l+u,d.y+m],[h.x+l+u,h.y-m-g],[h.x+l+u/2,h.y-m],[h.x+l,h.y-m-g]],a.addShape("polygon",{id:n.id+"-conversion-tag-arrow-"+i.getElementId(t.getModel().mappingData),name:"conversion-tag-arrow",origin:{element:t,nextElement:e},attrs:P(P({},c.style||{}),{points:y})})}}function Eqe(r,t,e){var n,i,a,o=r.view,s=r.geometry,l=r.group,u=r.options,c=r.field,f=r.horizontal,d=u.offset,h=u.size;if(typeof u.text!="boolean"){var v=o.getCoordinate(),p=((n=u.text)===null||n===void 0?void 0:n.formatter)&&((i=u.text)===null||i===void 0?void 0:i.formatter(t.getData()[c],e.getData()[c])),g=ST(v,t)[f?3:0],m=ST(v,e)[f?0:3],y=l.addShape("text",{id:o.id+"-conversion-tag-text-"+s.getElementId(t.getModel().mappingData),name:"conversion-tag-text",origin:{element:t,nextElement:e},attrs:P(P({},((a=u.text)===null||a===void 0?void 0:a.style)||{}),{text:p,x:f?(g.x+m.x)/2:g.x+d+h/2,y:f?g.y-d-h/2:(g.y+m.y)/2})});if(f){var b=m.x-g.x,w=y.getBBox().width;if(w>b){var S=w/p.length,E=Math.max(1,Math.ceil(b/S)-1),_=p.slice(0,E)+"...";y.attr("text",_)}}}}function _qe(r,t,e){Cqe(r,t,e),Eqe(r,t,e)}function Tqe(r,t,e){return t===void 0&&(t=!0),e===void 0&&(e=!1),function(n){var i=n.options,a=n.chart,o=i.conversionTag,s=i.theme;return o&&!e&&(a.theme(pt({},Hn(s)?s:U1(s),{columnWidthRatio:1/3})),a.annotation().shape({render:function(l,u){var c=l.addGroup({id:a.id+"-conversion-tag-group",name:"conversion-tag-group"}),f=bu(a.geometries,function(v){return v.type==="interval"}),d={view:u,geometry:f,group:c,field:r,horizontal:t,options:Sqe(o,t)},h=f.elements;q(h,function(v,p){p>0&&_qe(d,h[p-1],v)})}})),n}}var pg={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},PB=function(r,t){return r==="hover"?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:t}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:t}]}]};cn(pg.hover,{start:PB(pg.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]});cn(pg.click,{start:PB(pg.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});function Aqe(r){return r===void 0&&(r=!1),function(t){var e=t.chart,n=t.options,i=n.connectedArea,a=function(){e.removeInteraction(pg.hover),e.removeInteraction(pg.click)};if(!r&&i){var o=i.trigger||"hover";a(),e.interaction(pg[o],{start:PB(o,i.style)})}else a();return t}}var kqe=10,Mqe=5,Iqe={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},Pqe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg=P({name:"button"},Iqe),e}return t.prototype.getButtonCfg=function(){var e=this.context.view,n=me(e,["interactions","filter-action","cfg","buttonConfig"]);return pt(this.buttonCfg,n,this.cfg)},t.prototype.drawButton=function(){var e=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:e.name}),i=this.drawText(n);this.drawBackground(n,i.getBBox()),this.buttonGroup=n},t.prototype.drawText=function(e){var n,i=this.getButtonCfg();return e.addShape({type:"text",name:"button-text",attrs:P({text:i.text},(n=i.textStyle)===null||n===void 0?void 0:n.default)})},t.prototype.drawBackground=function(e,n){var i,a=this.getButtonCfg(),o=Ev(a.padding),s=e.addShape({type:"rect",name:"button-rect",attrs:P({x:n.x-o[3],y:n.y-o[0],width:n.width+o[1]+o[3],height:n.height+o[0]+o[2]},(i=a.buttonStyle)===null||i===void 0?void 0:i.default)});return s.toBack(),e.on("mouseenter",function(){var l;s.attr((l=a.buttonStyle)===null||l===void 0?void 0:l.active)}),e.on("mouseleave",function(){var l;s.attr((l=a.buttonStyle)===null||l===void 0?void 0:l.default)}),s},t.prototype.resetPosition=function(){var e=this.context.view,n=e.getCoordinate(),i=n.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=dl.transform(null,[["t",i.x-o.width-kqe,i.y+o.height+Mqe]]);a.setMatrix(s)},t.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},t.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},t.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),r.prototype.destroy.call(this)},t}(ia);Gr("brush-reset-button",Pqe,{name:"brush-reset-button"});cn("filter-action",{});function id(r){return r.isInPlot()}function rm(r,t,e){var n=t||"rect";switch(r){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:id,action:["brush:start",n+"-mask:start",n+"-mask:show"],arg:[null,{maskStyle:e==null?void 0:e.style}]}],processing:[{trigger:"mousemove",isEnable:id,action:[n+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:id,action:["brush:filter","brush:end",n+"-mask:end",n+"-mask:hide","brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(i){return!i.isInShape("mask")},action:[n+"-mask:start",n+"-mask:show"],arg:[{maskStyle:e==null?void 0:e.style}]},{trigger:"mask:dragstart",action:[n+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[n+"-mask:resize"]},{trigger:"mask:drag",action:[n+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[n+"-mask:end"]},{trigger:"mask:dragend",action:[n+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(i){return!i.isInPlot()},action:["element-range-highlight:clear",n+"-mask:end",n+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",n+"-mask:hide"]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:id,action:["brush-x:start",n+"-mask:start",n+"-mask:show"],arg:[null,{maskStyle:e==null?void 0:e.style}]}],processing:[{trigger:"mousemove",isEnable:id,action:[n+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:id,action:["brush-x:filter","brush-x:end",n+"-mask:end",n+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(i){return!i.isInShape("mask")},action:[n+"-mask:start",n+"-mask:show"],arg:[{maskStyle:e==null?void 0:e.style}]},{trigger:"mask:dragstart",action:[n+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[n+"-mask:resize"]},{trigger:"mask:drag",action:[n+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[n+"-mask:end"]},{trigger:"mask:dragend",action:[n+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(i){return!i.isInPlot()},action:["element-range-highlight:clear",n+"-mask:end",n+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",n+"-mask:hide"]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:id,action:["brush-y:start",n+"-mask:start",n+"-mask:show"],arg:[null,{maskStyle:e==null?void 0:e.style}]}],processing:[{trigger:"mousemove",isEnable:id,action:[n+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:id,action:["brush-y:filter","brush-y:end",n+"-mask:end",n+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(i){return!i.isInShape("mask")},action:[n+"-mask:start",n+"-mask:show"],arg:[{maskStyle:e==null?void 0:e.style}]},{trigger:"mask:dragstart",action:[n+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[n+"-mask:resize"]},{trigger:"mask:drag",action:[n+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[n+"-mask:end"]},{trigger:"mask:dragend",action:[n+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(i){return!i.isInPlot()},action:["element-range-highlight:clear",n+"-mask:end",n+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",n+"-mask:hide"]}]};default:return{}}}cn("brush",rm("brush"));cn("brush-highlight",rm("brush-highlight"));cn("brush-x",rm("brush-x","x-rect"));cn("brush-y",rm("brush-y","y-rect"));cn("brush-x-highlight",rm("brush-x-highlight","x-rect"));cn("brush-y-highlight",rm("brush-y-highlight","y-rect"));var c7=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function xne(r){var t=r.options,e=t.brush,n=ko(t.interactions||[],function(i){return c7.indexOf(i.type)===-1});return(e==null?void 0:e.enabled)&&(c7.forEach(function(i){var a,o=!1;switch(e.type){case"x-rect":o=i===(e.action==="highlight"?"brush-x-highlight":"brush-x");break;case"y-rect":o=i===(e.action==="highlight"?"brush-y-highlight":"brush-y");break;default:o=i===(e.action==="highlight"?"brush-highlight":"brush");break}var s={type:i,enable:o};(((a=e.mask)===null||a===void 0?void 0:a.style)||e.type)&&(s.cfg=rm(i,e.type,e.mask)),n.push(s)}),(e==null?void 0:e.action)!=="highlight"&&n.push({type:"filter-action",cfg:{buttonConfig:e.button}})),pt({},r,{options:{interactions:n}})}function Rqe(r){var t=r.options,e=t.legend,n=t.seriesField,i=t.isStack;return n?e!==!1&&(e=P({position:i?"right-top":"top-left"},e)):e=!1,r.options.legend=e,r}function Dqe(r){var t=r.chart,e=r.options,n=e.data,i=e.columnStyle,a=e.color,o=e.columnWidthRatio,s=e.isPercent,l=e.isGroup,u=e.isStack,c=e.xField,f=e.yField,d=e.seriesField,h=e.groupField,v=e.tooltip,p=e.shape,g=s&&l&&u?gqe(n,f,[c,h],f):AS(n,f,c,f,s),m=[];u&&d&&!l?g.forEach(function(w){var S=m.find(function(E){return E[c]===w[c]&&E[d]===w[d]});S?S[f]+=w[f]||0:m.push(P({},w))}):m=g,t.data(m);var y=s?P({formatter:function(w){return{name:l&&u?w[d]+" - "+w[h]:w[d]||w[c],value:(Number(w[f])*100).toFixed(2)+"%"}}},v):v,b=pt({},r,{options:{data:m,widthRatio:o,tooltip:y,interval:{shape:p,style:i,color:a}}});return fs(b),b}function RB(r){var t,e,n=r.options,i=n.xAxis,a=n.yAxis,o=n.xField,s=n.yField,l=n.data,u=n.isPercent,c=u?{max:1,min:0,minLimit:0,maxLimit:1}:{};return jr(Sa((t={},t[o]=i,t[s]=a,t),(e={},e[o]={type:"cat"},e[s]=P(P({},xB(l,s)),c),e)))(r)}function Oqe(r){var t=r.chart,e=r.options,n=e.xAxis,i=e.yAxis,a=e.xField,o=e.yField;return n===!1?t.axis(a,!1):t.axis(a,n),i===!1?t.axis(o,!1):t.axis(o,i),r}function Lqe(r){var t=r.chart,e=r.options,n=e.legend,i=e.seriesField;return n&&i?t.legend(i,n):n===!1&&t.legend(!1),r}function Fqe(r){var t=r.chart,e=r.options,n=e.label,i=e.yField,a=e.isRange,o=cs(t,"interval");if(!n)o.label(!1);else{var s=n.callback,l=xn(n,["callback"]);o.label({fields:[i],callback:s,cfg:P({layout:(l==null?void 0:l.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},_o(a?P({content:function(u){var c;return(c=u[i])===null||c===void 0?void 0:c.join("-")}},l):l))})}return r}function Nqe(r){var t=r.chart,e=r.options,n=e.tooltip,i=e.isGroup,a=e.isStack,o=e.groupField,s=e.data,l=e.xField,u=e.yField,c=e.seriesField;if(n===!1)t.tooltip(!1);else{var f=n;if(i&&a){var d=(f==null?void 0:f.formatter)||function(h){return{name:h[c]+" - "+h[o],value:h[u]}};f=P(P({},f),{customItems:function(h){var v=[];return q(h,function(p){var g=ko(s,function(m){return fF(m,hi(p.data,[l,c]))});g.forEach(function(m){v.push(P(P(P({},p),{value:m[u],data:m,mappingData:{_origin:m}}),d(m)))})}),v}})}t.tooltip(f)}return r}function gk(r,t){t===void 0&&(t=!1);var e=r.options,n=e.seriesField;return jr(Rqe,ti,Vl("columnStyle"),Nv,Dqe,RB,Oqe,Lqe,Nqe,TS,MB,Fqe,xne,Vi,yi,Ca(),Tqe(e.yField,!t,!!n),Aqe(!e.isStack),Bg)(r)}var Bqe=pt({},on.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),zqe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="column",e}return t.getDefaultOptions=function(){return Bqe},t.prototype.changeData=function(e){this.updateOption({data:e});var n=this.options,i=n.yField,a=n.xField,o=n.isPercent,s=this,l=s.chart,u=s.options;RB({chart:l,options:u}),this.chart.changeData(AS(e,i,a,i,o))},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return gk},t}(on);function $qe(r){var t=r.options,e=t.xField,n=t.yField,i=t.xAxis,a=t.yAxis,o={left:"bottom",right:"top",top:"left",bottom:"right"},s=a!==!1?P({position:o[(a==null?void 0:a.position)||"left"]},a):!1,l=i!==!1?P({position:o[(i==null?void 0:i.position)||"bottom"]},i):!1;return P(P({},r),{options:P(P({},t),{xField:n,yField:e,xAxis:s,yAxis:l})})}function Gqe(r){var t=r.options,e=t.label;return e&&!e.position&&(e.position="left",e.layout||(e.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),pt({},r,{options:{label:e}})}function Uqe(r){var t=r.options,e=t.seriesField,n=t.isStack,i=t.legend;return e?i!==!1&&(i=P({position:n?"top-left":"right-top"},i||{})):i=!1,pt({},r,{options:{legend:i}})}function Hqe(r){var t=r.chart;return t.coordinate({actions:[["transpose"],["reflect","y"]]}),r}function Vqe(r){var t=r.chart,e=r.options,n=e.barStyle,i=e.barWidthRatio,a=e.minBarWidth,o=e.maxBarWidth,s=e.barBackground;return gk({chart:t,options:P(P({},e),{columnStyle:n,columnWidthRatio:i,minColumnWidth:a,maxColumnWidth:o,columnBackground:s})},!0)}function wne(r){return jr($qe,Gqe,Uqe,co,Hqe,Vqe)(r)}var Wqe=pt({},on.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),jqe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="bar",e}return t.getDefaultOptions=function(){return Wqe},t.prototype.changeData=function(e){this.updateOption({data:e});var n=this,i=n.chart,a=n.options,o=a.xField,s=a.yField,l=a.isPercent,u=P(P({},a),{xField:s,yField:o});RB({chart:i,options:u}),i.changeData(AS(e,o,s,o,l))},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return wne},t}(on),Sne=pt({},on.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}});function Yqe(r,t){var e=null;return q(r,function(n){typeof n[t]=="number"&&(e+=n[t])}),e}function Xqe(r,t){var e;switch(r){case"inner":return e="-30%",wt(t)&&t.endsWith("%")?parseFloat(t)*.01>0?e:t:t<0?t:e;case"outer":return e=12,wt(t)&&t.endsWith("%")?parseFloat(t)*.01<0?e:t:t>0?t:e;default:return t}}function CT(r,t){return mA(M0(r,t),function(e){return e[t]===0})}var qqe=[1,0,0,0,1,0,0,0,1];function zO(r,t){var e=ki(t||qqe);return dl.transform(e,r)}var Kqe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getActiveElements=function(){var e=dl.getDelegationObject(this.context);if(e){var n=this.context.view,i=e.component,a=e.item,o=i.get("field");if(o){var s=n.geometries[0].elements;return s.filter(function(l){return l.getModel().data[o]===a.value})}}return[]},t.prototype.getActiveElementLabels=function(){var e=this.context.view,n=this.getActiveElements(),i=e.geometries[0].labelsContainer.getChildren();return i.filter(function(a){return n.find(function(o){return Zi(o.getData(),a.get("data"))})})},t.prototype.transfrom=function(e){e===void 0&&(e=7.5);var n=this.getActiveElements(),i=this.getActiveElementLabels();n.forEach(function(a,o){var s=i[o],l=a.geometry.coordinate;if(l.isPolar&&l.isTransposed){var u=dl.getAngle(a.getModel(),l),c=u.startAngle,f=u.endAngle,d=(c+f)/2,h=e,v=h*Math.cos(d),p=h*Math.sin(d);a.shape.setMatrix(zO([["t",v,p]])),s.setMatrix(zO([["t",v,p]]))}})},t.prototype.active=function(){this.transfrom()},t.prototype.reset=function(){this.transfrom(0)},t}(ia);function Zqe(r){var t=r.event,e,n=t.target;return n&&(e=n.get("element")),e}var Qqe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getAnnotations=function(e){var n=e||this.context.view;return n.getController("annotation").option},t.prototype.getInitialAnnotation=function(){return this.initialAnnotation},t.prototype.init=function(){var e=this,n=this.context.view;n.removeInteraction("tooltip"),n.on("afterchangesize",function(){var i=e.getAnnotations(n);e.initialAnnotation=i})},t.prototype.change=function(e){var n=this.context,i=n.view,a=n.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var o=me(a,["data","data"]);if(a.type.match("legend-item")){var s=dl.getDelegationObject(this.context),l=i.getGroupedFields()[0];if(s&&l){var u=s.item;o=i.getData().find(function(h){return h[l]===u.value})}}if(o){var c=me(e,"annotations",[]),f=me(e,"statistic",{});i.getController("annotation").clear(!0),q(c,function(h){typeof h=="object"&&i.annotation()[h.type](h)}),lk(i,{statistic:f,plotType:"pie"},o),i.render(!0)}var d=Zqe(this.context);d&&d.shape.toFront()},t.prototype.reset=function(){var e=this.context.view,n=e.getController("annotation");n.clear(!0);var i=this.getInitialAnnotation();q(i,function(a){e.annotation()[a.type](a)}),e.render(!0)},t}(ia),Cne="pie-statistic";Gr(Cne,Qqe);cn("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]});Gr("pie-legend",Kqe);cn("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});function Jqe(r){var t=r.chart,e=r.options,n=e.data,i=e.angleField,a=e.colorField,o=e.color,s=e.pieStyle,l=M0(n,i);if(CT(l,i)){var u="$$percentage$$";l=l.map(function(f){var d;return P(P({},f),(d={},d[u]=1/l.length,d))}),t.data(l);var c=pt({},r,{options:{xField:"1",yField:u,seriesField:a,isStack:!0,interval:{color:o,style:s},args:{zIndexReversed:!0,sortZIndex:!0}}});fs(c)}else{t.data(l);var c=pt({},r,{options:{xField:"1",yField:i,seriesField:a,isStack:!0,interval:{color:o,style:s},args:{zIndexReversed:!0,sortZIndex:!0}}});fs(c)}return r}function eKe(r){var t,e=r.chart,n=r.options,i=n.meta,a=n.colorField,o=pt({},i);return e.scale(o,(t={},t[a]={type:"cat"},t)),r}function tKe(r){var t=r.chart,e=r.options,n=e.radius,i=e.innerRadius,a=e.startAngle,o=e.endAngle;return t.coordinate({type:"theta",cfg:{radius:n,innerRadius:i,startAngle:a,endAngle:o}}),r}function rKe(r){var t=r.chart,e=r.options,n=e.label,i=e.colorField,a=e.angleField,o=t.geometries[0];if(!n)o.label(!1);else{var s=n.callback,l=xn(n,["callback"]),u=_o(l);if(u.content){var c=u.content;u.content=function(v,p,g){var m=v[i],y=v[a],b=t.getScaleByField(a),w=b==null?void 0:b.scale(y);return yr(c)?c(P(P({},v),{percent:w}),p,g):wt(c)?rne(c,{value:y,name:m,percentage:ir(w)&&!xt(y)?(w*100).toFixed(2)+"%":null}):c}}var f={inner:"",outer:"pie-outer",spider:"pie-spider"},d=u.type?f[u.type]:"pie-outer",h=u.layout?gt(u.layout)?u.layout:[u.layout]:[];u.layout=(d?[{type:d}]:[]).concat(h),o.label({fields:i?[a,i]:[a],callback:s,cfg:P(P({},u),{offset:Xqe(u.type,u.offset),type:"pie"})})}return r}function Ene(r){var t=r.innerRadius,e=r.statistic,n=r.angleField,i=r.colorField,a=r.meta,o=r.locale,s=ck(o);if(t&&e){var l=pt({},Sne.statistic,e),u=l.title,c=l.content;return u!==!1&&(u=pt({},{formatter:function(f){return f?f[i]:xt(u.content)?s.get(["statistic","total"]):u.content}},u)),c!==!1&&(c=pt({},{formatter:function(f,d){var h=f?f[n]:Yqe(d,n),v=me(a,[n,"formatter"])||function(p){return p};return f||xt(c.content)?v(h):c.content}},c)),pt({},{statistic:{title:u,content:c}},r)}return r}function _ne(r){var t=r.chart,e=r.options,n=Ene(e),i=n.innerRadius,a=n.statistic;return t.getController("annotation").clear(!0),jr(Ca())(r),i&&a&&lk(t,{statistic:a,plotType:"pie"}),r}function nKe(r){var t=r.chart,e=r.options,n=e.tooltip,i=e.colorField,a=e.angleField,o=e.data;if(n===!1)t.tooltip(n);else if(t.tooltip(pt({},n,{shared:!1})),CT(o,a)){var s=me(n,"fields"),l=me(n,"formatter");Bs(me(n,"fields"))&&(s=[i,a],l=l||function(u){return{name:u[i],value:Ov(u[a])}}),t.geometries[0].tooltip(s.join("*"),Py(s,l))}return r}function iKe(r){var t=r.chart,e=r.options,n=Ene(e),i=n.interactions,a=n.statistic,o=n.annotations;return q(i,function(s){var l,u;if(s.enable===!1)t.removeInteraction(s.type);else if(s.type==="pie-statistic-active"){var c=[];((l=s.cfg)===null||l===void 0?void 0:l.start)||(c=[{trigger:"element:mouseenter",action:Cne+":change",arg:{statistic:a,annotations:o}}]),q((u=s.cfg)===null||u===void 0?void 0:u.start,function(f){c.push(P(P({},f),{arg:{statistic:a,annotations:o}}))}),t.interaction(s.type,pt({},s.cfg,{start:c}))}else t.interaction(s.type,s.cfg||{})}),r}function Tne(r){return jr(Vl("pieStyle"),Jqe,eKe,ti,tKe,nb,nKe,rKe,Nv,_ne,iKe,yi)(r)}var aKe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="pie",e}return t.getDefaultOptions=function(){return Sne},t.prototype.changeData=function(e){this.chart.emit(bn.BEFORE_CHANGE_DATA,na.fromData(this.chart,bn.BEFORE_CHANGE_DATA,null));var n=this.options,i=this.options.angleField,a=M0(n.data,i),o=M0(e,i);CT(a,i)||CT(o,i)?this.update({data:e}):(this.updateOption({data:e}),this.chart.data(o),_ne({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(bn.AFTER_CHANGE_DATA,na.fromData(this.chart,bn.AFTER_CHANGE_DATA,null))},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Tne},t}(on);function oKe(r){var t=r.chart,e=r.options,n=e.data,i=e.sectorStyle,a=e.color;return t.data(n),jr(fs)(pt({},r,{options:{marginRatio:1,interval:{style:i,color:a}}})),r}function sKe(r){var t=r.chart,e=r.options,n=e.label,i=e.xField,a=cs(t,"interval");if(n===!1)a.label(!1);else if(Hn(n)){var o=n.callback,s=n.fields,l=xn(n,["callback","fields"]),u=l.offset,c=l.layout;(u===void 0||u>=0)&&(c=c?gt(c)?c:[c]:[],l.layout=ko(c,function(f){return f.type!=="limit-in-shape"}),l.layout.length||delete l.layout),a.label({fields:s||[i],callback:o,cfg:_o(l)})}else Ld(rc.WARN,n===null,"the label option must be an Object."),a.label({fields:[i]});return r}function lKe(r){var t=r.chart,e=r.options,n=e.legend,i=e.seriesField;return n===!1?t.legend(!1):i&&t.legend(i,n),r}function uKe(r){var t=r.chart,e=r.options,n=e.radius,i=e.innerRadius,a=e.startAngle,o=e.endAngle;return t.coordinate({type:"polar",cfg:{radius:n,innerRadius:i,startAngle:a,endAngle:o}}),r}function cKe(r){var t,e=r.options,n=e.xAxis,i=e.yAxis,a=e.xField,o=e.yField;return jr(Sa((t={},t[a]=n,t[o]=i,t)))(r)}function fKe(r){var t=r.chart,e=r.options,n=e.xAxis,i=e.yAxis,a=e.xField,o=e.yField;return n?t.axis(a,n):t.axis(a,!1),i?t.axis(o,i):t.axis(o,!1),r}function dKe(r){jr(Vl("sectorStyle"),oKe,cKe,sKe,uKe,fKe,lKe,co,Vi,yi,ti,Ca(),Nv)(r)}var hKe=pt({},on.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});(function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="rose",e}return t.getDefaultOptions=function(){return hKe},t.prototype.changeData=function(e){this.updateOption({data:e}),this.chart.changeData(e)},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return dKe},t})(on);var vKe={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function pKe(r,t){return t=cr({},vKe,t),gKe(r,t)}function gKe(r,t){var e=MKe();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(l){xt(t[l])||e[l](t[l])}),e.words(r),t.imageMask&&e.createMask(t.imageMask);var n=e.start(),i=n._tags;i.forEach(function(l){l.x+=t.size[0]/2,l.y+=t.size[1]/2});var a=t.size,o=a[0],s=a[1];return i.push({text:"",value:0,x:0,y:0,opacity:0}),i.push({text:"",value:0,x:o,y:s,opacity:0}),i}var WP=Math.PI/180,p1=1<<11>>5,J2=1<<11;function mKe(r){return r.text}function yKe(){return"serif"}function f7(){return"normal"}function bKe(r){return r.value}function xKe(){return~~(Math.random()*2)*90}function wKe(){return 1}function SKe(r,t,e,n){if(!t.sprite){var i=r.context,a=r.ratio;i.clearRect(0,0,(p1<<5)/a,J2/a);var o=0,s=0,l=0,u=e.length;for(--n;++n<u;){t=e[n],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font;var c=i.measureText(t.text+"m").width*a,f=t.size<<1;if(t.rotate){var d=Math.sin(t.rotate*WP),h=Math.cos(t.rotate*WP),v=c*h,p=c*d,g=f*h,m=f*d;c=Math.max(Math.abs(v+m),Math.abs(v-m))+31>>5<<5,f=~~Math.max(Math.abs(p+g),Math.abs(p-g))}else c=c+31>>5<<5;if(f>l&&(l=f),o+c>=p1<<5&&(o=0,s+=l,l=0),s+f>=J2)break;i.translate((o+(c>>1))/a,(s+(f>>1))/a),t.rotate&&i.rotate(t.rotate*WP),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=f,t.xoff=o,t.yoff=s,t.x1=c>>1,t.y1=f>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,o+=c}for(var y=i.getImageData(0,0,(p1<<5)/a,J2/a).data,b=[];--n>=0;)if(t=e[n],!!t.hasText){for(var c=t.width,w=c>>5,f=t.y1-t.y0,S=0;S<f*w;S++)b[S]=0;if(o=t.xoff,o==null)return;s=t.yoff;for(var E=0,_=-1,A=0;A<f;A++){for(var S=0;S<c;S++){var k=w*A+(S>>5),T=y[(s+A)*(p1<<5)+(o+S)<<2]?1<<31-S%32:0;b[k]|=T,E|=T}E?_=A:(t.y0++,f--,A--,s++)}t.y1=t.y0+_,t.sprite=b.slice(0,(t.y1-t.y0)*w)}}}function CKe(r,t,e){e>>=5;for(var n=r.sprite,i=r.width>>5,a=r.x-(i<<4),o=a&127,s=32-o,l=r.y1-r.y0,u=(r.y+r.y0)*e+(a>>5),c,f=0;f<l;f++){c=0;for(var d=0;d<=i;d++)if((c<<s|(d<i?(c=n[f*i+d])>>>o:0))&t[u+d])return!0;u+=e}return!1}function EKe(r,t){var e=r[0],n=r[1];t.x+t.x0<e.x&&(e.x=t.x+t.x0),t.y+t.y0<e.y&&(e.y=t.y+t.y0),t.x+t.x1>n.x&&(n.x=t.x+t.x1),t.y+t.y1>n.y&&(n.y=t.y+t.y1)}function _Ke(r,t){return r.x+r.x1>t[0].x&&r.x+r.x0<t[1].x&&r.y+r.y1>t[0].y&&r.y+r.y0<t[1].y}function Ane(r){var t=r[0]/r[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function TKe(r){var t=4,e=t*r[0]/r[1],n=0,i=0;return function(a){var o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:n+=e;break;case 1:i+=t;break;case 2:n-=e;break;default:i-=t;break}return[n,i]}}function d7(r){for(var t=[],e=-1;++e<r;)t[e]=0;return t}function AKe(){return document.createElement("canvas")}function Uc(r){return yr(r)?r:function(){return r}}var kKe={archimedean:Ane,rectangular:TKe};function MKe(){var r=[256,256],t=yKe,e=bKe,n=f7,i=xKe,a=wKe,o=Ane,s=Math.random,l=[],u=1/0,c=mKe,f=f7,d=AKe,h={};h.start=function(){var g=r[0],m=r[1],y=v(d()),b=h.board?h.board:d7((r[0]>>5)*r[1]),w=l.length,S=[],E=l.map(function(T,I,D){return T.text=c.call(this,T,I,D),T.font=t.call(this,T,I,D),T.style=f.call(this,T,I,D),T.weight=n.call(this,T,I,D),T.rotate=i.call(this,T,I,D),T.size=~~e.call(this,T,I,D),T.padding=a.call(this,T,I,D),T}).sort(function(T,I){return I.size-T.size}),_=-1,A=h.board?[{x:0,y:0},{x:g,y:m}]:null;k();function k(){for(var T=Date.now();Date.now()-T<u&&++_<w;){var I=E[_];I.x=g*(s()+.5)>>1,I.y=m*(s()+.5)>>1,SKe(y,I,E,_),I.hasText&&p(b,I,A)&&(S.push(I),A?h.hasImage||EKe(A,I):A=[{x:I.x+I.x0,y:I.y+I.y0},{x:I.x+I.x1,y:I.y+I.y1}],I.x-=r[0]>>1,I.y-=r[1]>>1)}h._tags=S,h._bounds=A}return h};function v(g){g.width=g.height=1;var m=Math.sqrt(g.getContext("2d").getImageData(0,0,1,1).data.length>>2);g.width=(p1<<5)/m,g.height=J2/m;var y=g.getContext("2d");return y.fillStyle=y.strokeStyle="red",y.textAlign="center",{context:y,ratio:m}}function p(g,m,y){for(var b=m.x,w=m.y,S=Math.sqrt(r[0]*r[0]+r[1]*r[1]),E=o(r),_=s()<.5?1:-1,A,k=-_,T,I;(A=E(k+=_))&&(T=~~A[0],I=~~A[1],!(Math.min(Math.abs(T),Math.abs(I))>=S));)if(m.x=b+T,m.y=w+I,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>r[0]||m.y+m.y1>r[1])&&(!y||!CKe(m,g,r[0]))&&(!y||_Ke(m,y))){for(var D=m.sprite,O=m.width>>5,B=r[0]>>5,U=m.x-(O<<4),N=U&127,G=32-N,L=m.y1-m.y0,F=void 0,W=(m.y+m.y0)*B+(U>>5),H=0;H<L;H++){F=0;for(var K=0;K<=O;K++)g[W+K]|=F<<G|(K<O?(F=D[H*O+K])>>>N:0);W+=B}return delete m.sprite,!0}return!1}return h.createMask=function(g){var m=document.createElement("canvas"),y=r[0],b=r[1];if(!(!y||!b)){var w=y>>5,S=d7((y>>5)*b);m.width=y,m.height=b;var E=m.getContext("2d");E.drawImage(g,0,0,g.width,g.height,0,0,y,b);for(var _=E.getImageData(0,0,y,b).data,A=0;A<b;A++)for(var k=0;k<y;k++){var T=w*A+(k>>5),I=A*y+k<<2,D=_[I]>=250&&_[I+1]>=250&&_[I+2]>=250,O=D?1<<31-k%32:0;S[T]|=O}h.board=S,h.hasImage=!0}},h.timeInterval=function(g){u=g==null?1/0:g},h.words=function(g){l=g},h.size=function(g){r=[+g[0],+g[1]]},h.font=function(g){t=Uc(g)},h.fontWeight=function(g){n=Uc(g)},h.rotate=function(g){i=Uc(g)},h.spiral=function(g){o=kKe[g]||g},h.fontSize=function(g){e=Uc(g)},h.padding=function(g){a=Uc(g)},h.random=function(g){s=Uc(g)},h}function kne(r){var t=r.options,e=r.chart,n=e,i=n.width,a=n.height,o=n.padding,s=n.appendPadding,l=n.ele,u=t.data,c=t.imageMask,f=t.wordField,d=t.weightField,h=t.colorField,v=t.wordStyle,p=t.timeInterval,g=t.random,m=t.spiral,y=t.autoFit,b=y===void 0?!0:y,w=t.placementStrategy;if(!u||!u.length)return[];var S=v.fontFamily,E=v.fontWeight,_=v.padding,A=v.fontSize,k=OKe(u,d),T=[NKe(k),BKe(k)],I=u.map(function(B){return{text:B[f],value:B[d],color:B[h],datum:B}}),D={imageMask:c,font:S,fontSize:DKe(A,T),fontWeight:E,size:IKe({width:i,height:a,padding:o,appendPadding:s,autoFit:b,container:l}),padding:_,timeInterval:p,random:g,spiral:m,rotate:LKe(t)};if(yr(w)){var O=I.map(function(B,U,N){return P(P(P({},B),{hasText:!!B.text,font:Uc(D.font)(B,U,N),weight:Uc(D.fontWeight)(B,U,N),rotate:Uc(D.rotate)(B,U,N),size:Uc(D.fontSize)(B,U,N),style:"normal"}),w.call(e,B,U,N))});return O.push({text:"",value:0,x:0,y:0,opacity:0}),O.push({text:"",value:0,x:D.size[0],y:D.size[1],opacity:0}),O}return pKe(I,D)}function IKe(r){var t=r.width,e=r.height,n=r.container,i=r.autoFit,a=r.padding,o=r.appendPadding;if(i){var s=BO(n);t=s.width,e=s.height}t=t||400,e=e||400;var l=PKe({padding:a,appendPadding:o}),u=l[0],c=l[1],f=l[2],d=l[3],h=[t-(d+c),e-(u+f)];return h}function PKe(r){var t=Ev(r.padding),e=Ev(r.appendPadding),n=t[0]+e[0],i=t[1]+e[1],a=t[2]+e[2],o=t[3]+e[3];return[n,i,a,o]}function RKe(r){return new Promise(function(t,e){if(r instanceof HTMLImageElement){t(r);return}if(wt(r)){var n=new Image;n.crossOrigin="anonymous",n.src=r,n.onload=function(){t(n)},n.onerror=function(){Ld(rc.ERROR,!1,"image %s load failed !!!",r),e()};return}Ld(rc.WARN,r===void 0,"The type of imageMask option must be String or HTMLImageElement."),e()})}function DKe(r,t){if(yr(r))return r;if(gt(r)){var e=r[0],n=r[1];if(!t)return function(){return(n+e)/2};var i=t[0],a=t[1];return a===i?function(){return(n+e)/2}:function(s){var l=s.value;return(n-e)/(a-i)*(l-i)+e}}return function(){return r}}function OKe(r,t){return r.map(function(e){return e[t]}).filter(function(e){return typeof e=="number"&&!isNaN(e)})}function LKe(r){var t=FKe(r),e=t.rotation,n=t.rotationSteps;if(!gt(e))return e;var i=e[0],a=e[1],o=n===1?0:(a-i)/(n-1);return function(){return a===i?a:Math.floor(Math.random()*n)*o}}function FKe(r){var t=r.wordStyle.rotationSteps;return t<1&&(Ld(rc.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),t=1),{rotation:r.wordStyle.rotation,rotationSteps:t}}function NKe(r){return Math.min.apply(Math,r)}function BKe(r){return Math.max.apply(Math,r)}var DB="color",zKe=pt({},on.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",DB],formatter:function(r){return{name:r.text,value:r.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}});function $Ke(r){var t=r.chart,e=r.options,n=e.colorField,i=e.color,a=kne(r);t.data(a);var o=pt({},r,{options:{xField:"x",yField:"y",seriesField:n&&DB,rawFields:yr(i)&&ki(me(e,"rawFields",[]),["datum"]),point:{color:i,shape:"word-cloud"}}}),s=Wl(o).ext;return s.geometry.label(!1),t.coordinate().reflect("y"),t.axis(!1),r}function GKe(r){return jr(Sa({x:{nice:!1},y:{nice:!1}}))(r)}function UKe(r){var t=r.chart,e=r.options,n=e.legend,i=e.colorField;return n===!1?t.legend(!1):i&&t.legend(DB,n),r}function HKe(r){jr($Ke,GKe,co,UKe,Vi,yi,ti,Nv)(r)}ai("point","word-cloud",{draw:function(r,t){var e=r.x,n=r.y,i=t.addShape("text",{attrs:P(P({},VKe(r)),{x:e,y:n})}),a=r.data.rotate;return typeof a=="number"&&dl.rotate(i,a*Math.PI/180),i}});function VKe(r){return{fontSize:r.data.size,text:r.data.text,textAlign:"center",fontFamily:r.data.font,fontWeight:r.data.weight,fill:r.color||r.defaultStyle.stroke,textBaseline:"alphabetic"}}var vst=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="word-cloud",e}return t.getDefaultOptions=function(){return zKe},t.prototype.changeData=function(e){this.updateOption({data:e}),this.options.imageMask?this.render():this.chart.changeData(kne({chart:this.chart,options:this.options}))},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.render=function(){var e=this;return new Promise(function(n){var i=e.options.imageMask;if(!i){r.prototype.render.call(e),n();return}var a=function(o){e.options=P(P({},e.options),{imageMask:o||null}),r.prototype.render.call(e),n()};RKe(i).then(a).catch(a)})},t.prototype.getSchemaAdaptor=function(){return HKe},t.prototype.triggerResize=function(){var e=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){r.prototype.triggerResize.call(e)}))},t}(on);function _v(r,t){return WKe(r)||jKe(r,t)||YKe()}function WKe(r){if(Array.isArray(r))return r}function jKe(r,t){var e=[],n=!0,i=!1,a=void 0;try{for(var o=r[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(e.push(s.value),!(t&&e.length===t));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return e}function YKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function OB(r,t,e,n){r=r.filter(function(v,p){var g=t(v,p),m=e(v,p);return g!=null&&isFinite(g)&&m!=null&&isFinite(m)}),n&&r.sort(function(v,p){return t(v)-t(p)});for(var i=r.length,a=new Float64Array(i),o=new Float64Array(i),s=0,l=0,u,c,f,d=0;d<i;)f=r[d],a[d]=u=+t(f,d,r),o[d]=c=+e(f,d,r),++d,s+=(u-s)/d,l+=(c-l)/d;for(var h=0;h<i;++h)a[h]-=s,o[h]-=l;return[a,o,s,l]}function nm(r,t,e,n){for(var i=0,a=0,o=r.length;a<o;a++){var s=r[a],l=+t(s,a,r),u=+e(s,a,r);l!=null&&isFinite(l)&&u!=null&&isFinite(u)&&n(l,u,i++)}}function ab(r,t,e,n,i){var a=0,o=0;return nm(r,t,e,function(s,l){var u=l-i(s),c=l-n;a+=u*u,o+=c*c}),1-a/o}function h7(r){return Math.atan2(r[1][1]-r[0][1],r[1][0]-r[0][0])*180/Math.PI}function XKe(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}function kS(r,t,e){for(var n=Math.log(t-r)*Math.LOG10E+1|0,i=1*Math.pow(10,-n/2-1),a=1e4,o=[l(r),l(t)],s=0;u(o)&&s<a;);return o;function l(c){return[c,e(c)]}function u(c){s++;for(var f=c.length,d=!1,h=0;h<f-1;h++){var v=c[h],p=c[h+1],g=XKe([v,p]),m=l(g[0]),y=h7([v,g]),b=h7([v,m]),w=Math.abs(y-b);w>i&&(c.splice(h+1,0,m),d=!0)}return d}}function MS(r,t,e,n){var i=n-r*r,a=Math.abs(i)<1e-24?0:(e-r*t)/i,o=t-a*r;return[o,a]}function qKe(){var r=function(a){return a[0]},t=function(a){return a[1]},e;function n(i){var a=0,o=0,s=0,l=0,u=0,c=0,f=e?+e[0]:1/0,d=e?+e[1]:-1/0;nm(i,r,t,function(b,w){var S=Math.log(w),E=b*w;++a,o+=(w-o)/a,l+=(E-l)/a,c+=(b*E-c)/a,s+=(w*S-s)/a,u+=(E*S-u)/a,e||(b<f&&(f=b),b>d&&(d=b))});var h=MS(l/o,s/o,u/o,c/o),v=_v(h,2),p=v[0],g=v[1];p=Math.exp(p);var m=function(w){return p*Math.exp(g*w)},y=kS(f,d,m);return y.a=p,y.b=g,y.predict=m,y.rSquared=ab(i,r,t,o,m),y}return n.domain=function(i){return arguments.length?(e=i,n):e},n.x=function(i){return arguments.length?(r=i,n):r},n.y=function(i){return arguments.length?(t=i,n):t},n}function Mne(){var r=function(a){return a[0]},t=function(a){return a[1]},e;function n(i){var a=0,o=0,s=0,l=0,u=0,c=e?+e[0]:1/0,f=e?+e[1]:-1/0;nm(i,r,t,function(y,b){++a,o+=(y-o)/a,s+=(b-s)/a,l+=(y*b-l)/a,u+=(y*y-u)/a,e||(y<c&&(c=y),y>f&&(f=y))});var d=MS(o,s,l,u),h=_v(d,2),v=h[0],p=h[1],g=function(b){return p*b+v},m=[[c,g(c)],[f,g(f)]];return m.a=p,m.b=v,m.predict=g,m.rSquared=ab(i,r,t,s,g),m}return n.domain=function(i){return arguments.length?(e=i,n):e},n.x=function(i){return arguments.length?(r=i,n):r},n.y=function(i){return arguments.length?(t=i,n):t},n}function KKe(r){r.sort(function(e,n){return e-n});var t=r.length/2;return t%1===0?(r[t-1]+r[t])/2:r[Math.floor(t)]}var v7=2,p7=1e-12;function ZKe(){var r=function(a){return a[0]},t=function(a){return a[1]},e=.3;function n(i){for(var a=OB(i,r,t,!0),o=_v(a,4),s=o[0],l=o[1],u=o[2],c=o[3],f=s.length,d=Math.max(2,~~(e*f)),h=new Float64Array(f),v=new Float64Array(f),p=new Float64Array(f).fill(1),g=-1;++g<=v7;){for(var m=[0,d-1],y=0;y<f;++y){for(var b=s[y],w=m[0],S=m[1],E=b-s[w]>s[S]-b?w:S,_=0,A=0,k=0,T=0,I=0,D=1/Math.abs(s[E]-b||1),O=w;O<=S;++O){var B=s[O],U=l[O],N=QKe(Math.abs(b-B)*D)*p[O],G=B*N;_+=N,A+=G,k+=U*N,T+=U*G,I+=B*G}var L=MS(A/_,k/_,T/_,I/_),F=_v(L,2),W=F[0],H=F[1];h[y]=W+H*b,v[y]=Math.abs(l[y]-h[y]),JKe(s,y+1,m)}if(g===v7)break;var K=KKe(v);if(Math.abs(K)<p7)break;for(var ie=0,ee,Q;ie<f;++ie)ee=v[ie]/(6*K),p[ie]=ee>=1?p7:(Q=1-ee*ee)*Q}return eZe(s,h,u,c)}return n.bandwidth=function(i){return arguments.length?(e=i,n):e},n.x=function(i){return arguments.length?(r=i,n):r},n.y=function(i){return arguments.length?(t=i,n):t},n}function QKe(r){return(r=1-r*r*r)*r*r}function JKe(r,t,e){var n=r[t],i=e[0],a=e[1]+1;if(!(a>=r.length))for(;t>i&&r[a]-n<=n-r[i];)e[0]=++i,e[1]=a,++a}function eZe(r,t,e,n){for(var i=r.length,a=[],o=0,s=0,l=[],u;o<i;++o)u=r[o]+e,l[0]===u?l[1]+=(t[o]-l[1])/++s:(s=0,l[1]+=n,l=[u,t[o]],a.push(l));return l[1]+=n,a}function tZe(){var r=function(o){return o[0]},t=function(o){return o[1]},e=Math.E,n;function i(a){var o=0,s=0,l=0,u=0,c=0,f=n?+n[0]:1/0,d=n?+n[1]:-1/0,h=Math.log(e);nm(a,r,t,function(w,S){var E=Math.log(w)/h;++o,s+=(E-s)/o,l+=(S-l)/o,u+=(E*S-u)/o,c+=(E*E-c)/o,n||(w<f&&(f=w),w>d&&(d=w))});var v=MS(s,l,u,c),p=_v(v,2),g=p[0],m=p[1],y=function(S){return m*Math.log(S)/h+g},b=kS(f,d,y);return b.a=m,b.b=g,b.predict=y,b.rSquared=ab(a,r,t,l,y),b}return i.domain=function(a){return arguments.length?(n=a,i):n},i.x=function(a){return arguments.length?(r=a,i):r},i.y=function(a){return arguments.length?(t=a,i):t},i.base=function(a){return arguments.length?(e=a,i):e},i}function Ine(){var r=function(a){return a[0]},t=function(a){return a[1]},e;function n(i){var a=OB(i,r,t),o=_v(a,4),s=o[0],l=o[1],u=o[2],c=o[3],f=s.length,d=0,h=0,v=0,p=0,g=0,m,y,b,w;for(m=0;m<f;)y=s[m],b=l[m++],w=y*y,d+=(w-d)/m,h+=(w*y-h)/m,v+=(w*w-v)/m,p+=(y*b-p)/m,g+=(w*b-g)/m;var S=0,E=0,_=e?+e[0]:1/0,A=e?+e[1]:-1/0;nm(i,r,t,function(N,G){E++,S+=(G-S)/E,e||(N<_&&(_=N),N>A&&(A=N))});var k=v-d*d,T=d*k-h*h,I=(g*d-p*h)/T,D=(p*k-g*h)/T,O=-I*d,B=function(G){return G=G-u,I*G*G+D*G+O+c},U=kS(_,A,B);return U.a=I,U.b=D-2*I*u,U.c=O-D*u+I*u*u+c,U.predict=B,U.rSquared=ab(i,r,t,S,B),U}return n.domain=function(i){return arguments.length?(e=i,n):e},n.x=function(i){return arguments.length?(r=i,n):r},n.y=function(i){return arguments.length?(t=i,n):t},n}function rZe(){var r=function(o){return o[0]},t=function(o){return o[1]},e=3,n;function i(a){if(e===1){var o=Mne().x(r).y(t).domain(n)(a);return o.coefficients=[o.b,o.a],delete o.a,delete o.b,o}if(e===2){var s=Ine().x(r).y(t).domain(n)(a);return s.coefficients=[s.c,s.b,s.a],delete s.a,delete s.b,delete s.c,s}var l=OB(a,r,t),u=_v(l,4),c=u[0],f=u[1],d=u[2],h=u[3],v=c.length,p=[],g=[],m=e+1,y=0,b=0,w=n?+n[0]:1/0,S=n?+n[1]:-1/0;nm(a,r,t,function(B,U){++b,y+=(U-y)/b,n||(B<w&&(w=B),B>S&&(S=B))});var E,_,A,k,T;for(E=0;E<m;++E){for(A=0,k=0;A<v;++A)k+=Math.pow(c[A],E)*f[A];for(p.push(k),T=new Float64Array(m),_=0;_<m;++_){for(A=0,k=0;A<v;++A)k+=Math.pow(c[A],E+_);T[_]=k}g.push(T)}g.push(p);var I=iZe(g),D=function(U){U-=d;var N=h+I[0]+I[1]*U+I[2]*U*U;for(E=3;E<m;++E)N+=I[E]*Math.pow(U,E);return N},O=kS(w,S,D);return O.coefficients=nZe(m,I,-d,h),O.predict=D,O.rSquared=ab(a,r,t,y,D),O}return i.domain=function(a){return arguments.length?(n=a,i):n},i.x=function(a){return arguments.length?(r=a,i):r},i.y=function(a){return arguments.length?(t=a,i):t},i.order=function(a){return arguments.length?(e=a,i):e},i}function nZe(r,t,e,n){var i=Array(r),a,o,s,l;for(a=0;a<r;++a)i[a]=0;for(a=r-1;a>=0;--a)for(s=t[a],l=1,i[a]+=s,o=1;o<=a;++o)l*=(a+1-o)/o,i[a-o]+=s*Math.pow(e,o)*l;return i[0]+=n,i}function iZe(r){var t=r.length-1,e=[],n,i,a,o,s;for(n=0;n<t;++n){for(o=n,i=n+1;i<t;++i)Math.abs(r[n][i])>Math.abs(r[n][o])&&(o=i);for(a=n;a<t+1;++a)s=r[a][n],r[a][n]=r[a][o],r[a][o]=s;for(i=n+1;i<t;++i)for(a=t;a>=n;a--)r[a][i]-=r[a][n]*r[n][i]/r[n][n]}for(i=t-1;i>=0;--i){for(s=0,a=i+1;a<t;++a)s+=r[a][i]*e[a];e[i]=(r[t][i]-s)/r[i][i]}return e}function aZe(){var r=function(a){return a[0]},t=function(a){return a[1]},e;function n(i){var a=0,o=0,s=0,l=0,u=0,c=0,f=e?+e[0]:1/0,d=e?+e[1]:-1/0;nm(i,r,t,function(b,w){var S=Math.log(b),E=Math.log(w);++a,o+=(S-o)/a,s+=(E-s)/a,l+=(S*E-l)/a,u+=(S*S-u)/a,c+=(w-c)/a,e||(b<f&&(f=b),b>d&&(d=b))});var h=MS(o,s,l,u),v=_v(h,2),p=v[0],g=v[1];p=Math.exp(p);var m=function(w){return p*Math.pow(w,g)},y=kS(f,d,m);return y.a=p,y.b=g,y.predict=m,y.rSquared=ab(i,r,t,c,m),y}return n.domain=function(i){return arguments.length?(e=i,n):e},n.x=function(i){return arguments.length?(r=i,n):r},n.y=function(i){return arguments.length?(t=i,n):t},n}var oZe={exp:qKe,linear:Mne,loess:ZKe,log:tZe,poly:rZe,pow:aZe,quad:Ine};function sZe(r,t){var e=10,n={regionStyle:[{position:{start:[r,"max"],end:["max",t]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[r,t]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",t],end:[r,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[r,t],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",t],offsetX:-e,offsetY:-e,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",t],offsetX:e,offsetY:-e,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",t],offsetX:e,offsetY:e,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",t],offsetX:-e,offsetY:e,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]};return n}var lZe=function(r,t){var e=t.view,n=t.options,i=n.xField,a=n.yField,o=e.getScaleByField(i),s=e.getScaleByField(a),l=r.map(function(u){return e.getCoordinate().convert({x:o.scale(u[0]),y:s.scale(u[1])})});return zXe(l,!1)},uZe=function(r){var t=r.options,e=t.xField,n=t.yField,i=t.data,a=t.regressionLine,o=a.type,s=o===void 0?"linear":o,l=a.algorithm,u;if(l)u=gt(l)?l:l(i);else{var c=oZe[s]().x(function(f){return f[e]}).y(function(f){return f[n]});u=c(i)}return lZe(u,r)},cZe=function(r){var t,e=r.meta,n=e===void 0?{}:e,i=r.xField,a=r.yField,o=r.data,s=o[0][i],l=o[0][a],u=s>0,c=l>0;function f(d,h){var v=me(n,[d]);function p(m){return me(v,m)}var g={};return h==="x"?(ir(s)&&(ir(p("min"))||(g.min=u?0:s*2),ir(p("max"))||(g.max=u?s*2:0)),g):(ir(l)&&(ir(p("min"))||(g.min=c?0:l*2),ir(p("max"))||(g.max=c?l*2:0)),g)}return P(P({},n),(t={},t[i]=P(P({},n[i]),f(i,"x")),t[a]=P(P({},n[a]),f(a,"y")),t))};function Pne(r){var t=r.data,e=t===void 0?[]:t,n=r.xField,i=r.yField;if(e.length){for(var a=!0,o=!0,s=e[0],l=void 0,u=1;u<e.length&&(l=e[u],s[n]!==l[n]&&(a=!1),s[i]!==l[i]&&(o=!1),!(!a&&!o));u++)s=l;var c=[];a&&c.push(n),o&&c.push(i);var f=hi(cZe(r),c);return pt({},r,{meta:f})}return r}function fZe(r){var t=r.chart,e=r.options,n=e.data,i=e.type,a=e.color,o=e.shape,s=e.pointStyle,l=e.shapeField,u=e.colorField,c=e.xField,f=e.yField,d=e.sizeField,h=e.size,v=e.tooltip;d&&(h||(h=[2,8]),ir(h)&&(h=[h,h])),v&&!v.fields&&(v=P(P({},v),{fields:[c,f,u,d,l]})),t.data(n),Wl(pt({},r,{options:{seriesField:u,point:{color:a,shape:o,size:h,style:s},tooltip:v}}));var p=cs(t,"point");return i&&p.adjust(i),r}function e_(r){var t,e=r.options,n=e.xAxis,i=e.yAxis,a=e.xField,o=e.yField,s=Pne(e);return jr(Sa((t={},t[a]=n,t[o]=i,t)))(pt({},r,{options:s}))}function dZe(r){var t=r.chart,e=r.options,n=e.xAxis,i=e.yAxis,a=e.xField,o=e.yField;return t.axis(a,n),t.axis(o,i),r}function hZe(r){var t=r.chart,e=r.options,n=e.legend,i=e.colorField,a=e.shapeField,o=e.sizeField,s=e.shapeLegend,l=e.sizeLegend,u=n!==!1;return i&&t.legend(i,u?n:!1),a&&(s?t.legend(a,s):t.legend(a,s===!1?!1:n)),o&&t.legend(o,l||!1),!u&&!s&&!l&&t.legend(!1),r}function vZe(r){var t=r.chart,e=r.options,n=e.label,i=e.yField,a=cs(t,"point");if(!n)a.label(!1);else{var o=n.callback,s=xn(n,["callback"]);a.label({fields:[i],callback:o,cfg:_o(s)})}return r}function pZe(r){var t=r.options,e=t.quadrant,n=[];if(e){var i=e.xBaseline,a=i===void 0?0:i,o=e.yBaseline,s=o===void 0?0:o,l=e.labels,u=e.regionStyle,c=e.lineStyle,f=sZe(a,s),d=new Array(4).join(",").split(",");d.forEach(function(h,v){n.push(P(P({type:"region",top:!1},f.regionStyle[v].position),{style:pt({},f.regionStyle[v].style,u==null?void 0:u[v])}),P({type:"text",top:!0},pt({},f.labelStyle[v],l==null?void 0:l[v])))}),n.push({type:"line",top:!1,start:["min",s],end:["max",s],style:pt({},f.lineStyle,c)},{type:"line",top:!1,start:[a,"min"],end:[a,"max"],style:pt({},f.lineStyle,c)})}return jr(Ca(n))(r)}function gZe(r){var t=r.options,e=r.chart,n=t.regressionLine;if(n){var i=n.style,a=n.top,o=a===void 0?!1:a,s={stroke:"#9ba29a",lineWidth:2,opacity:.5};e.annotation().shape({top:o,render:function(l,u){var c=l.addGroup({id:e.id+"-regression-line",name:"regression-line-group"}),f=uZe({view:u,options:t});c.addShape("path",{name:"regression-line",attrs:P(P({path:f},s),i)})}})}return r}function mZe(r){var t=r.chart,e=r.options,n=e.tooltip;return n?t.tooltip(n):n===!1&&t.tooltip(!1),r}function Rne(r){return jr(fZe,e_,dZe,hZe,mZe,vZe,xne,TS,MB,Vi,pZe,yi,ti,gZe)(r)}var yZe=pt({},on.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});cn("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var bZe=function(r){Ve(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.type="scatter",i.on(bn.BEFORE_RENDER,function(a){var o,s,l=i,u=l.options,c=l.chart;if(((o=a.data)===null||o===void 0?void 0:o.source)===Js.FILTER){var f=i.chart.filterData(i.chart.getData());e_({chart:c,options:P(P({},u),{data:f})})}((s=a.data)===null||s===void 0?void 0:s.source)===Js.RESET&&e_({chart:c,options:u})}),i}return t.getDefaultOptions=function(){return yZe},t.prototype.changeData=function(e){this.updateOption(Pne(pt({},this.options,{data:e})));var n=this,i=n.options,a=n.chart;e_({chart:a,options:i}),this.chart.changeData(e)},t.prototype.getSchemaAdaptor=function(){return Rne},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t}(on);function xZe(r){var t=r.chart,e=r.options,n=e.data,i=e.lineStyle,a=e.color,o=e.point,s=e.area;t.data(n);var l=pt({},r,{options:{line:{style:i,color:a},point:o&&P({color:a},o),area:s&&P({color:a},s),label:void 0}}),u=pt({},l,{options:{tooltip:!1}}),c=(o==null?void 0:o.state)||e.state,f=pt({},l,{options:{tooltip:!1,state:c}});return ib(l),Wl(f),hk(u),r}function wZe(r){var t,e=r.options,n=e.xAxis,i=e.yAxis,a=e.xField,o=e.yField;return jr(Sa((t={},t[a]=n,t[o]=i,t)))(r)}function SZe(r){var t=r.chart,e=r.options,n=e.radius,i=e.startAngle,a=e.endAngle;return t.coordinate("polar",{radius:n,startAngle:i,endAngle:a}),r}function CZe(r){var t=r.chart,e=r.options,n=e.xField,i=e.xAxis,a=e.yField,o=e.yAxis;return t.axis(n,i),t.axis(a,o),r}function EZe(r){var t=r.chart,e=r.options,n=e.label,i=e.yField,a=cs(t,"line");if(!n)a.label(!1);else{var o=n.callback,s=xn(n,["callback"]);a.label({fields:[i],callback:o,cfg:_o(s)})}return r}function _Ze(r){return jr(xZe,wZe,ti,SZe,CZe,nb,co,EZe,Vi,yi,Ca())(r)}var TZe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),t.prototype.getTooltipItems=function(e){var n=this.getTooltipCfg(),i=n.shared,a=n.title,o=r.prototype.getTooltipItems.call(this,e);if(o.length>0){var s=this.view.geometries[0],l=s.dataArray,u=o[0].name,c=[];return l.forEach(function(f){f.forEach(function(d){var h=dl.getTooltipItems(d,s),v=h[0];if(!i&&v&&v.name===u){var p=xt(a)?u:a;c.push(P(P({},v),{name:v.title,title:p}))}else if(i&&v){var p=xt(a)?v.name||u:a;c.push(P(P({},v),{name:v.title,title:p}))}})}),c}return[]},t}(wre);em("radar-tooltip",TZe);var AZe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var e=this.context.view;e.removeInteraction("tooltip")},t.prototype.show=function(){var e=this.context.event,n=this.getTooltipController();n.showTooltip({x:e.x,y:e.y})},t.prototype.hide=function(){var e=this.getTooltipController();e.hideTooltip()},t.prototype.getTooltipController=function(){var e=this.context.view;return e.getController("radar-tooltip")},t}(ia);Gr("radar-tooltip",AZe);cn("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});(function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="radar",e}return t.prototype.changeData=function(e){this.updateOption({data:e}),this.chart.changeData(e)},t.prototype.getDefaultOptions=function(){return pt({},r.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},t.prototype.getSchemaAdaptor=function(){return _Ze},t})(on);var I0;(function(r){r.Left="Left",r.Right="Right"})(I0||(I0={}));var zg;(function(r){r.Line="line",r.Column="column"})(zg||(zg={}));var jl="left-axes-view",Yl="right-axes-view",Dne={nice:!0,label:{autoHide:!0,autoRotate:!1}},kZe=P(P({},Dne),{position:"left"}),MZe=P(P({},Dne),{position:"right",grid:null});function $O(r){return me(r,"geometry")===zg.Line}function LB(r){return me(r,"geometry")===zg.Column}function g7(r,t,e){return LB(e)?pt({},{geometry:zg.Column,label:e.label&&e.isRange?{content:function(n){var i;return(i=n[t])===null||i===void 0?void 0:i.join("-")}}:void 0},e):P({geometry:zg.Line},e)}function m7(r,t){var e=r[0],n=r[1];if(gt(t)){var i=t[0],a=t[1];return[i,a]}var o=me(t,e),s=me(t,n);return[o,s]}function y7(r,t){return t===I0.Left?r===!1?!1:pt({},kZe,r):t===I0.Right?r===!1?!1:pt({},MZe,r):r}function b7(r){var t=r.view,e=r.geometryOption,n=r.yField,i=r.legend,a=me(i,"marker"),o=cs(t,$O(e)?"line":"interval");if(!e.seriesField){var s=me(t,"options.scales."+n+".alias")||n,l=o.getAttribute("color"),u=t.getTheme().defaultColor;l&&(u=dl.getMappingValue(l,s,me(l,["values",0],u)));var c=(yr(a)?a:!Bs(a)&&pt({},{style:{stroke:u,fill:u}},a))||($O(e)?{symbol:function(d,h,v){return[["M",d-v,h],["L",d+v,h]]},style:{lineWidth:2,r:6,stroke:u}}:{symbol:"square",style:{fill:u}});return[{value:n,name:s,marker:c,isGeometry:!0,viewId:t.id}]}var f=o.getGroupAttributes();return us(f,function(d,h){var v=dl.getLegendItems(t,o,h,t.getTheme(),a);return d.concat(v)},[])}function IZe(r){var t=r.options,e=r.chart,n=t.geometryOption,i=n.isStack,a=n.color,o=n.seriesField,s=n.groupField,l=n.isGroup,u=["xField","yField"];if($O(n)){ib(pt({},r,{options:P(P(P({},hi(t,u)),n),{line:{color:n.color,style:n.lineStyle}})})),Wl(pt({},r,{options:P(P(P({},hi(t,u)),n),{point:n.point&&P({color:a,shape:"circle"},n.point)})}));var c=[];l&&c.push({type:"dodge",dodgeBy:s||o,customOffset:0}),i&&c.push({type:"stack"}),c.length&&q(e.geometries,function(f){f.adjust(c)})}return LB(n)&&gk(pt({},r,{options:P(P(P({},hi(t,u)),n),{widthRatio:n.columnWidthRatio,interval:P(P({},hi(n,["color"])),{style:n.columnStyle})})})),r}var x7=function(r,t){var e=t[0],n=t[1],i=r.getOptions().data,a=r.getXScale(),o=Qa(i);if(!(!a||!o)){var s=xu(i,a.field),l=s,u=Qa(l),c=Math.floor(e*(u-1)),f=Math.floor(n*(u-1));r.filter(a.field,function(d){var h=l.indexOf(d);return h>-1?jXe(h,c,f):!0}),r.getRootView().render(!0)}};function PZe(r){var t,e=r.options,n=e.geometryOptions,i=n===void 0?[]:n,a=e.xField,o=e.yField,s=mA(i,function(l){var u=l.geometry;return u===zg.Line||u===void 0});return pt({},{options:{geometryOptions:[],meta:(t={},t[a]={type:"cat",sync:!0,range:s?[0,1]:void 0},t),tooltip:{showMarkers:s,showCrosshairs:s,shared:!0,crosshairs:{type:"x"}},interactions:s?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},r,{options:{yAxis:m7(o,e.yAxis),geometryOptions:[g7(a,o[0],i[0]),g7(a,o[1],i[1])],annotations:m7(o,e.annotations)}})}function RZe(r){var t,e,n=r.chart,i=r.options,a=i.geometryOptions,o={line:0,column:1},s=[{type:(t=a[0])===null||t===void 0?void 0:t.geometry,id:jl},{type:(e=a[1])===null||e===void 0?void 0:e.geometry,id:Yl}];return s.sort(function(l,u){return-o[l.type]+o[u.type]}).forEach(function(l){return n.createView({id:l.id})}),r}function DZe(r){var t=r.chart,e=r.options,n=e.xField,i=e.yField,a=e.geometryOptions,o=e.data,s=e.tooltip,l=[P(P({},a[0]),{id:jl,data:o[0],yField:i[0]}),P(P({},a[1]),{id:Yl,data:o[1],yField:i[1]})];return l.forEach(function(u){var c=u.id,f=u.data,d=u.yField,h=LB(u)&&u.isPercent,v=h?mne(f,d,n,d):f,p=En(t,c).data(v),g=h?P({formatter:function(m){return{name:m[u.seriesField]||d,value:(Number(m[d])*100).toFixed(2)+"%"}}},s):s;IZe({chart:p,options:{xField:n,yField:d,tooltip:g,geometryOption:u}})}),r}function OZe(r){var t,e=r.chart,n=r.options,i=n.geometryOptions,a=((t=e.getTheme())===null||t===void 0?void 0:t.colors10)||[],o=0;return e.once("beforepaint",function(){q(i,function(s,l){var u=En(e,l===0?jl:Yl);if(!s.color){var c=u.getGroupScales(),f=me(c,[0,"values","length"],1),d=a.slice(o,o+f).concat(l===0?[]:a);u.geometries.forEach(function(h){s.seriesField?h.color(s.seriesField,d):h.color(d[0])}),o+=f}}),e.render(!0)}),r}function LZe(r){var t,e,n=r.chart,i=r.options,a=i.xAxis,o=i.yAxis,s=i.xField,l=i.yField;return Sa((t={},t[s]=a,t[l[0]]=o[0],t))(pt({},r,{chart:En(n,jl)})),Sa((e={},e[s]=a,e[l[1]]=o[1],e))(pt({},r,{chart:En(n,Yl)})),r}function FZe(r){var t=r.chart,e=r.options,n=En(t,jl),i=En(t,Yl),a=e.xField,o=e.yField,s=e.xAxis,l=e.yAxis;return t.axis(a,!1),t.axis(o[0],!1),t.axis(o[1],!1),n.axis(a,s),n.axis(o[0],y7(l[0],I0.Left)),i.axis(a,!1),i.axis(o[1],y7(l[1],I0.Right)),r}function NZe(r){var t=r.chart,e=r.options,n=e.tooltip,i=En(t,jl),a=En(t,Yl);return t.tooltip(n),i.tooltip({shared:!0}),a.tooltip({shared:!0}),r}function BZe(r){var t=r.chart;return Vi(pt({},r,{chart:En(t,jl)})),Vi(pt({},r,{chart:En(t,Yl)})),r}function zZe(r){var t=r.chart,e=r.options,n=e.annotations,i=me(n,[0]),a=me(n,[1]);return Ca(i)(pt({},r,{chart:En(t,jl),options:{annotations:i}})),Ca(a)(pt({},r,{chart:En(t,Yl),options:{annotations:a}})),r}function $Ze(r){var t=r.chart;return ti(pt({},r,{chart:En(t,jl)})),ti(pt({},r,{chart:En(t,Yl)})),ti(r),r}function GZe(r){var t=r.chart;return yi(pt({},r,{chart:En(t,jl)})),yi(pt({},r,{chart:En(t,Yl)})),r}function UZe(r){var t=r.chart,e=r.options,n=e.yAxis;return Bg(pt({},r,{chart:En(t,jl),options:{yAxis:n[0]}})),Bg(pt({},r,{chart:En(t,Yl),options:{yAxis:n[1]}})),r}function HZe(r){var t=r.chart,e=r.options,n=e.legend,i=e.geometryOptions,a=e.yField,o=e.data,s=En(t,jl),l=En(t,Yl);if(n===!1)t.legend(!1);else if(Hn(n)&&n.custom===!0)t.legend(n);else{var u=me(i,[0,"legend"],n),c=me(i,[1,"legend"],n);t.once("beforepaint",function(){var f=o[0].length?b7({view:s,geometryOption:i[0],yField:a[0],legend:u}):[],d=o[1].length?b7({view:l,geometryOption:i[1],yField:a[1],legend:c}):[];t.legend(pt({},n,{custom:!0,items:f.concat(d)}))}),i[0].seriesField&&s.legend(i[0].seriesField,u),i[1].seriesField&&l.legend(i[1].seriesField,c),t.on("legend-item:click",function(f){var d=me(f,"gEvent.delegateObject",{});if(d&&d.item){var h=d.item,v=h.value,p=h.isGeometry,g=h.viewId;if(p){var m=dF(a,function(w){return w===v});if(m>-1){var y=me(En(t,g),"geometries");q(y,function(w){w.changeVisible(!d.item.unchecked)})}}else{var b=me(t.getController("legend"),"option.items",[]);q(t.views,function(w){var S=w.getGroupScales();q(S,function(E){E.values&&E.values.indexOf(v)>-1&&w.filter(E.field,function(_){var A=bu(b,function(k){return k.value===_});return!A.unchecked})}),t.render(!0)})}}})}return r}function VZe(r){var t=r.chart,e=r.options,n=e.slider,i=En(t,jl),a=En(t,Yl);return n&&(i.option("slider",n),i.on("slider:valuechanged",function(o){var s=o.event,l=s.value,u=s.originValue;Zi(l,u)||x7(a,l)}),t.once("afterpaint",function(){if(!Pd(n)){var o=n.start,s=n.end;(o||s)&&x7(a,[o,s])}})),r}function WZe(r){return jr(PZe,RZe,$Ze,DZe,LZe,FZe,UZe,NZe,BZe,zZe,GZe,OZe,HZe,VZe)(r)}(function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dual-axes",e}return t.prototype.getDefaultOptions=function(){return pt({},r.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},t.prototype.getSchemaAdaptor=function(){return WZe},t})(on);var Bw="x",t0="y",One={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(r,t){return""+me(t,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},jZe={appendPadding:2,tooltip:P({},One),animation:{}};function im(r){return Di(r||[],function(t,e){return{x:""+e,y:t}})}function YZe(r){var t=r.chart,e=r.options,n=e.data,i=e.color,a=e.areaStyle,o=e.point,s=e.line,l=o==null?void 0:o.state,u=im(n);t.data(u);var c=pt({},r,{options:{xField:Bw,yField:t0,area:{color:i,style:a},line:s,point:o}}),f=pt({},c,{options:{tooltip:!1}}),d=pt({},c,{options:{tooltip:!1,state:l}});return hk(c),ib(f),Wl(d),t.axis(!1),t.legend(!1),r}function ob(r){var t,e,n=r.options,i=n.xAxis,a=n.yAxis,o=n.data,s=im(o);return jr(Sa((t={},t[Bw]=i,t[t0]=a,t),(e={},e[Bw]={type:"cat"},e[t0]=xB(s,t0),e)))(r)}function Lne(r){return jr(Vl("areaStyle"),YZe,ob,co,ti,yi,Ca())(r)}function XZe(r){var t=r.chart,e=r.options,n=e.data,i=e.color,a=e.lineStyle,o=e.point,s=o==null?void 0:o.state,l=im(n);t.data(l);var u=pt({},r,{options:{xField:Bw,yField:t0,line:{color:i,style:a},point:o}}),c=pt({},u,{options:{tooltip:!1,state:s}});return ib(u),Wl(c),t.axis(!1),t.legend(!1),r}function Fne(r){return jr(XZe,ob,ti,co,yi,Ca())(r)}var qZe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="tiny-line",e}return t.getDefaultOptions=function(){return jZe},t.prototype.changeData=function(e){this.updateOption({data:e});var n=this,i=n.chart,a=n.options;ob({chart:i,options:a}),i.changeData(im(e))},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Fne},t}(on);function KZe(r){var t=r.chart,e=r.options,n=e.data,i=e.color,a=e.columnStyle,o=e.columnWidthRatio,s=im(n);t.data(s);var l=pt({},r,{options:{xField:Bw,yField:t0,widthRatio:o,interval:{style:a,color:i}}});return fs(l),t.axis(!1),t.legend(!1),t.interaction("element-active"),r}function Nne(r){return jr(ti,Vl("columnStyle"),KZe,ob,co,yi,Ca())(r)}var ZZe={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(r,t){return""+me(t,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},QZe={appendPadding:2,tooltip:P({},ZZe),animation:{}},JZe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="tiny-column",e}return t.getDefaultOptions=function(){return QZe},t.prototype.changeData=function(e){this.updateOption({data:e});var n=this,i=n.chart,a=n.options;ob({chart:i,options:a}),i.changeData(im(e))},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Nne},t}(on),eQe={appendPadding:2,tooltip:P({},One),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},tQe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="tiny-area",e}return t.getDefaultOptions=function(){return eQe},t.prototype.changeData=function(e){this.updateOption({data:e});var n=this,i=n.chart,a=n.options;ob({chart:i,options:a}),i.changeData(im(e))},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Lne},t}(on);function w7(r,t,e){if(e===1)return[0,t];var n=Math.floor(r/t);return[t*n,t*(n+1)]}function rQe(r){return Math.ceil(Math.log(r.length)/Math.LN2)+1}function Bne(r,t,e,n,i){var a=Jr(r);dK(a,t);var o=xu(a,t),s=hF(o),l=s.max-s.min,u=e;if(!e&&n&&(u=n>1?l/(n-1):s.max),!e&&!n){var c=rQe(o);u=l/c}var f={},d=xs(a,i);Bs(d)?q(a,function(v){var p=v[t],g=w7(p,u,n),m=g[0]+"-"+g[1];af(f,m)||(f[m]={range:g,count:0}),f[m].count+=1}):Object.keys(d).forEach(function(v){q(d[v],function(p){var g=p[t],m=w7(g,u,n),y=m[0]+"-"+m[1],b=y+"-"+v;af(f,b)||(f[b]={range:m,count:0},f[b][i]=v),f[b].count+=1})});var h=[];return q(f,function(v){h.push(v)}),h}var ET="range",zw="count",nQe=pt({},on.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function iQe(r){var t=r.chart,e=r.options,n=e.data,i=e.binField,a=e.binNumber,o=e.binWidth,s=e.color,l=e.stackField,u=e.legend,c=e.columnStyle,f=Bne(n,i,o,a,l);t.data(f);var d=pt({},r,{options:{xField:ET,yField:zw,seriesField:l,isStack:!0,interval:{color:s,style:c}}});return fs(d),u&&l&&t.legend(l,u),r}function aQe(r){var t,e=r.options,n=e.xAxis,i=e.yAxis;return jr(Sa((t={},t[ET]=n,t[zw]=i,t)))(r)}function oQe(r){var t=r.chart,e=r.options,n=e.xAxis,i=e.yAxis;return n===!1?t.axis(ET,!1):t.axis(ET,n),i===!1?t.axis(zw,!1):t.axis(zw,i),r}function sQe(r){var t=r.chart,e=r.options,n=e.label,i=cs(t,"interval");if(!n)i.label(!1);else{var a=n.callback,o=xn(n,["callback"]);i.label({fields:[zw],callback:a,cfg:_o(o)})}return r}function zne(r){return jr(ti,Vl("columnStyle"),iQe,aQe,oQe,Nv,sQe,co,Vi,yi)(r)}var lQe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="histogram",e}return t.getDefaultOptions=function(){return nQe},t.prototype.changeData=function(e){this.updateOption({data:e});var n=this.options,i=n.binField,a=n.binNumber,o=n.binWidth,s=n.stackField;this.chart.changeData(Bne(e,i,o,a,s))},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return zne},t}(on),$ne=["#FAAD14","#E8EDF3"],uQe={percent:.2,color:$ne,animation:{}};function FB(r){var t=Bi(Ng(r)?r:0,0,1);return[{type:"current",percent:t},{type:"target",percent:1-t}]}function Gne(r){var t=r.chart,e=r.options,n=e.percent,i=e.progressStyle,a=e.color,o=e.barWidthRatio;t.data(FB(n));var s=pt({},r,{options:{xField:"1",yField:"percent",seriesField:"type",isStack:!0,widthRatio:o,interval:{style:i,color:wt(a)?[a,$ne[1]]:a},args:{zIndexReversed:!0,sortZIndex:!0}}});return fs(s),t.tooltip(!1),t.axis(!1),t.legend(!1),r}function cQe(r){var t=r.chart;return t.coordinate("rect").transpose(),r}function Une(r){return jr(Gne,Sa({}),cQe,yi,ti,Ca())(r)}var fQe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="process",e}return t.getDefaultOptions=function(){return uQe},t.prototype.changeData=function(e){this.updateOption({percent:e}),this.chart.changeData(FB(e))},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Une},t}(on);function dQe(r){var t=r.chart,e=r.options,n=e.innerRadius,i=e.radius;return t.coordinate("theta",{innerRadius:n,radius:i}),r}function Hne(r,t){var e=r.chart,n=r.options,i=n.innerRadius,a=n.statistic,o=n.percent,s=n.meta;if(e.getController("annotation").clear(!0),i&&a){var l=me(s,["percent","formatter"])||function(c){return(c*100).toFixed(2)+"%"},u=a.content;u&&(u=pt({},u,{content:xt(u.content)?l(o):u.content})),lk(e,{statistic:P(P({},a),{content:u}),plotType:"ring-progress"},{percent:o})}return t&&e.render(!0),r}function Vne(r){return jr(Gne,Sa({}),dQe,Hne,yi,ti,Ca())(r)}var hQe={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},vQe=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="ring-process",e}return t.getDefaultOptions=function(){return hQe},t.prototype.changeData=function(e){this.chart.emit(bn.BEFORE_CHANGE_DATA,na.fromData(this.chart,bn.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:e}),this.chart.data(FB(e)),Hne({chart:this.chart,options:this.options},!0),this.chart.emit(bn.AFTER_CHANGE_DATA,na.fromData(this.chart,bn.AFTER_CHANGE_DATA,null))},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Vne},t}(on);function pQe(r){var t=r.chart,e=r.options,n=e.data,i=e.type,a=e.xField,o=e.yField,s=e.colorField,l=e.sizeField,u=e.sizeRatio,c=e.shape,f=e.color,d=e.tooltip,h=e.heatmapStyle;t.data(n);var v="polygon";i==="density"&&(v="heatmap");var p=Au(d,[a,o,s]),g=p.fields,m=p.formatter,y=1;return(u||u===0)&&(!c&&!l?console.warn("sizeRatio is not in effect: Must define shape or sizeField first"):u<0||u>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):y=u),pl(pt({},r,{options:{type:v,colorField:s,tooltipFields:g,shapeField:l||"",label:void 0,mapping:{tooltip:m,shape:c&&(l?function(b){var w=n.map(function(_){return _[l]}),S=Math.min.apply(Math,w),E=Math.max.apply(Math,w);return[c,(me(b,l)-S)/(E-S),y]}:function(){return[c,1,y]}),color:f||s&&t.getTheme().sequenceColors.join("-"),style:h}}})),r}function gQe(r){var t,e=r.options,n=e.xAxis,i=e.yAxis,a=e.xField,o=e.yField;return jr(Sa((t={},t[a]=n,t[o]=i,t)))(r)}function mQe(r){var t=r.chart,e=r.options,n=e.xAxis,i=e.yAxis,a=e.xField,o=e.yField;return n===!1?t.axis(a,!1):t.axis(a,n),i===!1?t.axis(o,!1):t.axis(o,i),r}function yQe(r){var t=r.chart,e=r.options,n=e.legend,i=e.colorField,a=e.sizeField,o=e.sizeLegend,s=n!==!1;return i&&t.legend(i,s?n:!1),a&&t.legend(a,o===void 0?n:o),!s&&!o&&t.legend(!1),r}function bQe(r){var t=r.chart,e=r.options,n=e.label,i=e.colorField,a=e.type,o=cs(t,a==="density"?"heatmap":"polygon");if(!n)o.label(!1);else if(i){var s=n.callback,l=xn(n,["callback"]);o.label({fields:[i],callback:s,cfg:_o(l)})}return r}function xQe(r){var t=r.chart,e=r.options,n=e.coordinate,i=e.reflect;return n&&t.coordinate({type:n.type||"rect",cfg:n.cfg}),i&&t.coordinate().reflect(i),r}function wQe(r){return jr(ti,Vl("heatmapStyle"),gQe,xQe,pQe,mQe,yQe,co,bQe,Ca(),Vi,yi,Nv)(r)}var SQe=pt({},on.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});ai("polygon","circle",{draw:function(r,t){var e,n,i=r.x,a=r.y,o=this.parsePoints(r.points),s=Math.abs(o[2].x-o[1].x),l=Math.abs(o[1].y-o[0].y),u=Math.min(s,l)/2,c=Number(r.shape[1]),f=Number(r.shape[2]),d=Math.sqrt(f),h=u*d*Math.sqrt(c),v=((e=r.style)===null||e===void 0?void 0:e.fill)||r.color||((n=r.defaultStyle)===null||n===void 0?void 0:n.fill),p=t.addShape("circle",{attrs:P(P(P({x:i,y:a,r:h},r.defaultStyle),r.style),{fill:v})});return p}});ai("polygon","square",{draw:function(r,t){var e,n,i=r.x,a=r.y,o=this.parsePoints(r.points),s=Math.abs(o[2].x-o[1].x),l=Math.abs(o[1].y-o[0].y),u=Math.min(s,l),c=Number(r.shape[1]),f=Number(r.shape[2]),d=Math.sqrt(f),h=u*d*Math.sqrt(c),v=((e=r.style)===null||e===void 0?void 0:e.fill)||r.color||((n=r.defaultStyle)===null||n===void 0?void 0:n.fill),p=t.addShape("rect",{attrs:P(P(P({x:i-h/2,y:a-h/2,width:h,height:h},r.defaultStyle),r.style),{fill:v})});return p}});(function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="heatmap",e}return t.getDefaultOptions=function(){return SQe},t.prototype.getSchemaAdaptor=function(){return wQe},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t})(on);var jP,P0="$$range$$",CQe="low-q1-median-q3-high",EQe="$$y_outliers$$",Wne="outliers_view",_Qe=pt({},on.getDefaultOptions(),{meta:(jP={},jP[P0]={min:0,alias:CQe},jP),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),jne=function(r,t){var e=r;if(Array.isArray(t)){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4];e=Di(r,function(l){return l[P0]=[l[n],l[i],l[a],l[o],l[s]],l})}return e};function TQe(r){var t=r.chart,e=r.options,n=e.xField,i=e.yField,a=e.groupField,o=e.color,s=e.tooltip,l=e.boxStyle;t.data(jne(e.data,i));var u=gt(i)?P0:i,c=i?gt(i)?i:[i]:[],f=s;f!==!1&&(f=pt({},{fields:gt(i)?i:[]},f));var d=IB(pt({},r,{options:{xField:n,yField:u,seriesField:a,tooltip:f,rawFields:c,label:!1,schema:{shape:"box",color:o,style:l}}})).ext;return a&&d.geometry.adjust("dodge"),r}function AQe(r){var t=r.chart,e=r.options,n=e.xField,i=e.data,a=e.outliersField,o=e.outliersStyle,s=e.padding,l=e.label;if(!a)return r;var u=t.createView({padding:s,id:Wne}),c=i.reduce(function(f,d){var h=d[a];return h.forEach(function(v){var p;return f.push(P(P({},d),(p={},p[a]=v,p)))}),f},[]);return u.data(c),Wl({chart:u,options:{xField:n,yField:a,point:{shape:"circle",style:o},label:l}}),u.axis(!1),r}function kQe(r){var t,e,n=r.chart,i=r.options,a=i.meta,o=i.xAxis,s=i.yAxis,l=i.xField,u=i.yField,c=i.outliersField,f=Array.isArray(u)?P0:u,d={};if(c){var h=EQe;d=(t={},t[c]={sync:h,nice:!0},t[f]={sync:h,nice:!0},t)}var v=pt(d,a,(e={},e[l]=hi(o,sl),e[f]=hi(s,sl),e));return n.scale(v),r}function MQe(r){var t=r.chart,e=r.options,n=e.xAxis,i=e.yAxis,a=e.xField,o=e.yField,s=Array.isArray(o)?P0:o;return n===!1?t.axis(a,!1):t.axis(a,n),i===!1?t.axis(P0,!1):t.axis(s,i),r}function IQe(r){var t=r.chart,e=r.options,n=e.legend,i=e.groupField;return i?n?t.legend(i,n):t.legend(i,{position:"bottom"}):t.legend(!1),r}function PQe(r){return jr(TQe,AQe,kQe,MQe,IQe,co,Vi,yi,ti)(r)}(function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="box",e}return t.getDefaultOptions=function(){return _Qe},t.prototype.changeData=function(e){this.updateOption({data:e});var n=this.options.yField,i=this.chart.views.find(function(a){return a.id===Wne});i&&i.data(e),this.chart.changeData(jne(e,n))},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return PQe},t})(on);var ns=un(function(r){var t=r.exports;r.exports.isNumber=function(e){return typeof e=="number"},r.exports.findMin=function(e){if(e.length===0)return 1/0;for(var n=e[0],i=1;i<e.length;i++)n=Math.min(n,e[i]);return n},r.exports.findMax=function(e){if(e.length===0)return-1/0;for(var n=e[0],i=1;i<e.length;i++)n=Math.max(n,e[i]);return n},r.exports.findMinMulti=function(e){for(var n=t.findMin(e[0]),i=1;i<e.length;i++)n=Math.min(n,t.findMin(e[i]));return n},r.exports.findMaxMulti=function(e){for(var n=t.findMax(e[0]),i=1;i<e.length;i++)n=Math.max(n,t.findMax(e[i]));return n},r.exports.inside=function(e,n,i){return e<=i&&i<=n}});ns.isNumber;ns.findMin;ns.findMax;ns.findMinMulti;ns.findMaxMulti;ns.inside;var am=un(function(r){var t=50,e=2,n=Math.log(2),i=r.exports;function a(s){return 1-Math.abs(s)}r.exports.getUnifiedMinMax=function(s,l){return i.getUnifiedMinMaxMulti([s],l)},r.exports.getUnifiedMinMaxMulti=function(s,l){l=l||{};var u=!1,c=!1,f=ns.isNumber(l.width)?l.width:e,d=ns.isNumber(l.size)?l.size:t,h=ns.isNumber(l.min)?l.min:(u=!0,ns.findMinMulti(s)),v=ns.isNumber(l.max)?l.max:(c=!0,ns.findMaxMulti(s)),p=v-h,g=p/(d-1);return u&&(h=h-2*f*g),c&&(v=v+2*f*g),{min:h,max:v}},r.exports.create=function(s,l){if(l=l||{},!s||s.length===0)return[];var u=ns.isNumber(l.size)?l.size:t,c=ns.isNumber(l.width)?l.width:e,f=i.getUnifiedMinMax(s,{size:u,width:c,min:l.min,max:l.max}),d=f.min,h=f.max,v=h-d,p=v/(u-1);if(v===0)return[{x:d,y:1}];for(var g=[],m=0;m<u;m++)g.push({x:d+m*p,y:0});var y=function(T){return Math.floor((T-d)/p)},b=o(a,c),w=b[c],S=b[c-1]-b[c-2],E=0;s.forEach(function(T){var I=y(T);if(!(I+c<0||I-c>=g.length)){var D=Math.max(I-c,0),O=I,B=Math.min(I+c,g.length-1),U=D-(I-c),N=I+c-B,G=b[-c-1+U]||0,L=b[-c-1+N]||0,F=w/(w-G-L);U>0&&(E+=F*(U-1)*S);var W=Math.max(0,I-c+1);ns.inside(0,g.length-1,W)&&(g[W].y+=F*1*S),ns.inside(0,g.length-1,O+1)&&(g[O+1].y-=F*2*S),ns.inside(0,g.length-1,B+1)&&(g[B+1].y+=F*1*S)}});var _=E,A=0,k=0;return g.forEach(function(T){A+=T.y,_+=A,T.y=_,k+=_}),k>0&&g.forEach(function(T){T.y/=k}),g};function o(s,l){for(var u={},c=0,f=-l;f<=l;f++)c+=s(f/l),u[f]=c;return u}r.exports.getExpectedValueFromPdf=function(s){if(!(!s||s.length===0)){var l=0;return s.forEach(function(u){l+=u.x*u.y}),l}},r.exports.getXWithLeftTailArea=function(s,l){if(!(!s||s.length===0)){for(var u=0,c=0,f=0;f<s.length&&(c=f,u+=s[f].y,!(u>=l));f++);return s[c].x}},r.exports.getPerplexity=function(s){if(!(!s||s.length===0)){var l=0;return s.forEach(function(u){var c=Math.log(u.y);isFinite(c)&&(l+=u.y*c)}),l=-l/n,Math.pow(2,l)}}});am.getUnifiedMinMax;am.getUnifiedMinMaxMulti;am.create;am.getExpectedValueFromPdf;am.getXWithLeftTailArea;am.getPerplexity;function S7(r,t){var e=r.length*t;if(r.length===0)throw new Error("quantile requires at least one data point.");if(t<0||t>1)throw new Error("quantiles must be between 0 and 1");return t===1?r[r.length-1]:t===0?r[0]:e%1!==0?r[Math.ceil(e)-1]:r.length%2===0?(r[e-1]+r[e])/2:r[e]}function jx(r,t,e){var n=r[t];r[t]=r[e],r[e]=n}function t_(r,t,e,n){for(e=e||0,n=n||r.length-1;n>e;){if(n-e>600){var i=n-e+1,a=t-e+1,o=Math.log(i),s=.5*Math.exp(2*o/3),l=.5*Math.sqrt(o*s*(i-s)/i);a-i/2<0&&(l*=-1);var u=Math.max(e,Math.floor(t-a*s/i+l)),c=Math.min(n,Math.floor(t+(i-a)*s/i+l));t_(r,t,u,c)}var f=r[t],d=e,h=n;for(jx(r,e,t),r[n]>f&&jx(r,e,n);d<h;){for(jx(r,d,h),d++,h--;r[d]<f;)d++;for(;r[h]>f;)h--}r[e]===f?jx(r,e,h):(h++,jx(r,h,n)),h<=t&&(e=h+1),t<=h&&(n=h-1)}}function Yx(r,t){var e=r.slice();if(Array.isArray(t)){RQe(e,t);for(var n=[],i=0;i<t.length;i++)n[i]=S7(e,t[i]);return n}else{var a=Xne(e.length,t);return Yne(e,a,0,e.length-1),S7(e,t)}}function Yne(r,t,e,n){t%1===0?t_(r,t,e,n):(t=Math.floor(t),t_(r,t,e,n),t_(r,t+1,t+1,n))}function RQe(r,t){for(var e=[0],n=0;n<t.length;n++)e.push(Xne(r.length,t[n]));e.push(r.length-1),e.sort(DQe);for(var i=[0,e.length-1];i.length;){var a=Math.ceil(i.pop()),o=Math.floor(i.pop());if(!(a-o<=1)){var s=Math.floor((o+a)/2);Yne(r,e[s],Math.floor(e[o]),Math.ceil(e[a])),i.push(o,s,s,a)}}}function DQe(r,t){return r-t}function Xne(r,t){var e=r*t;return t===1?r-1:t===0?0:e%1!==0?Math.ceil(e)-1:r%2===0?e-.5:e}var C7=function(r){return{low:Os(r),high:bs(r),q1:Yx(r,.25),q3:Yx(r,.75),median:Yx(r,[.5]),minMax:[Os(r),bs(r)],quantile:[Yx(r,.25),Yx(r,.75)]}},E7=function(r,t){var e=am.create(r,t);return{violinSize:e.map(function(n){return n.y}),violinY:e.map(function(n){return n.x})}},qne=function(r){var t=r.xField,e=r.yField,n=r.seriesField,i=r.data,a=r.kde,o={min:a.min,max:a.max,size:a.sampleSize,width:a.width};if(!n){var s=xs(i,t);return Object.keys(s).map(function(c){var f=s[c],d=f.map(function(h){return h[e]});return P(P({x:c},E7(d,o)),C7(d))})}var l=[],u=xs(i,n);return Object.keys(u).forEach(function(c){var f=xs(u[c],t);return Object.keys(f).forEach(function(d){var h,v=f[d],p=v.map(function(g){return g[e]});l.push(P(P((h={x:d},h[n]=c,h),E7(p,o)),C7(p)))})}),l},vu="x",tg="violinY",OQe="violinSize",Kne="minMax",Zne="quantile",Qne="median",NB="violin_view",LQe="min_max_view",FQe="quantile_view",NQe="median_view",BQe=pt({},on.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),r_=["low","high","q1","q3","median"],n_=[{type:"dodge",marginRatio:1/32}];function zQe(r){var t=r.chart,e=r.options;return t.data(qne(e)),r}function $Qe(r){var t=r.chart,e=r.options,n=e.seriesField,i=e.color,a=e.shape,o=a===void 0?"violin":a,s=e.violinStyle,l=e.tooltip,u=e.state,c=t.createView({id:NB});return lqe({chart:c,options:{xField:vu,yField:tg,seriesField:n||vu,sizeField:OQe,tooltip:P({fields:r_},l),violin:{style:s,color:i,shape:o},state:u}}),c.geometries[0].adjust(n_),r}function GQe(r){var t=r.chart,e=r.options,n=e.seriesField,i=e.color,a=e.tooltip,o=e.box;if(o===!1)return r;var s=t.createView({id:LQe});fs({chart:s,options:{xField:vu,yField:Kne,seriesField:n||vu,tooltip:P({fields:r_},a),state:typeof o=="object"?o.state:{},interval:{color:i,size:1,style:{lineWidth:0}}}}),s.geometries[0].adjust(n_);var l=t.createView({id:FQe});fs({chart:l,options:{xField:vu,yField:Zne,seriesField:n||vu,tooltip:P({fields:r_},a),state:typeof o=="object"?o.state:{},interval:{color:i,size:8,style:{fillOpacity:1}}}}),l.geometries[0].adjust(n_);var u=t.createView({id:NQe});return Wl({chart:u,options:{xField:vu,yField:Qne,seriesField:n||vu,tooltip:P({fields:r_},a),state:typeof o=="object"?o.state:{},point:{color:i,size:1,style:{fill:"white",lineWidth:0}}}}),u.geometries[0].adjust(n_),l.axis(!1),s.axis(!1),u.axis(!1),u.legend(!1),s.legend(!1),l.legend(!1),r}function UQe(r){var t,e=r.chart,n=r.options,i=n.meta,a=n.xAxis,o=n.yAxis,s={},l=pt(s,i,(t={},t[vu]=P(P({sync:!0},hi(a,sl)),{type:"cat"}),t[tg]=P({sync:!0},hi(o,sl)),t[Kne]=P({sync:tg},hi(o,sl)),t[Zne]=P({sync:tg},hi(o,sl)),t[Qne]=P({sync:tg},hi(o,sl)),t));return e.scale(l),r}function HQe(r){var t=r.chart,e=r.options,n=e.xAxis,i=e.yAxis,a=En(t,NB);return n===!1?a.axis(vu,!1):a.axis(vu,n),i===!1?a.axis(tg,!1):a.axis(tg,i),t.axis(!1),r}function VQe(r){var t=r.chart,e=r.options,n=e.legend,i=e.seriesField,a=e.shape;if(n===!1)t.legend(!1);else{var o=i||vu,s=oS(n,["selected"]);(!a||!a.startsWith("hollow"))&&(me(s,["marker","style","lineWidth"])||$a(s,["marker","style","lineWidth"],0)),t.legend(o,s),me(n,"selected")&&q(t.views,function(l){return l.legend(o,n)})}return r}function WQe(r){var t=r.chart,e=En(t,NB);return Ca()(P(P({},r),{chart:e})),r}function jQe(r){var t=r.chart,e=r.options,n=e.animation;return q(t.views,function(i){typeof n=="boolean"?i.animate(n):i.animate(!0),q(i.geometries,function(a){a.animate(n)})}),r}function YQe(r){return jr(ti,zQe,$Qe,GQe,UQe,co,HQe,VQe,Vi,WQe,jQe)(r)}(function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="violin",e}return t.getDefaultOptions=function(){return BQe},t.prototype.changeData=function(e){this.updateOption({data:e}),this.chart.changeData(qne(this.options))},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return YQe},t})(on);var XQe=function(r){return function(t,e){var n=[];return n[0]=r(t[0],e[0]),n[1]=r(t[1],e[1]),n[2]=r(t[2],e[2]),n}},_7={normal:function(r){return r},multiply:function(r,t){return r*t/255},screen:function(r,t){return 255*(1-(1-r/255)*(1-t/255))},overlay:function(r,t){return t<128?2*r*t/255:255*(1-2*(1-r/255)*(1-t/255))},darken:function(r,t){return r>t?t:r},lighten:function(r,t){return r>t?r:t},dodge:function(r,t){return r===255?255:(r=255*(t/255)/(1-r/255),r>255?255:r)},burn:function(r,t){return t===255?255:r===0?0:255*(1-Math.min(1,(1-t/255)/(r/255)))}},qQe=function(r){if(!_7[r])throw new Error("unknown blend mode "+r);return _7[r]};function KQe(r,t,e){e===void 0&&(e="normal");var n=XQe(qQe(e))(E2(r),E2(t)),i=E2(r),a=i[0],o=i[1],s=i[2],l=i[3],u=E2(t),c=u[0],f=u[1],d=u[2],h=u[3],v=Number((l+h*(1-l)).toFixed(2)),p=Math.round((l*(1-h)*(a/255)+l*h*(n[0]/255)+(1-l)*h*(c/255))/v*255),g=Math.round((l*(1-h)*(o/255)+l*h*(n[1]/255)+(1-l)*h*(f/255))/v*255),m=Math.round((l*(1-h)*(s/255)+l*h*(n[2]/255)+(1-l)*h*(d/255))/v*255);return"rgba("+p+", "+g+", "+m+", "+v+")"}function E2(r){var t=r.replace("/s+/g",""),e;return typeof t=="string"&&!t.startsWith("rgba")&&!t.startsWith("#")?e=fv.rgb2arr(fv.toRGB(t)).concat([1]):(t.startsWith("rgba")&&(e=t.replace("rgba(","").replace(")","").split(",")),t.startsWith("#")&&(e=fv.rgb2arr(t).concat([1])),e.map(function(n,i){return i===3?Number(n):n|0}))}function ZQe(r,t,e,n){n=n||{};var i=n.maxIterations||100,a=n.tolerance||1e-10,o=r(t),s=r(e),l=e-t;if(o*s>0)throw"Initial bisect points must have opposite signs";if(o===0)return t;if(s===0)return e;for(var u=0;u<i;++u){l/=2;var c=t+l,f=r(c);if(f*o>=0&&(t=c),Math.abs(l)<a||f===0)return c}return t+l}function GO(r){for(var t=new Array(r),e=0;e<r;++e)t[e]=0;return t}function T7(r,t){return GO(r).map(function(){return GO(t)})}function r0(r,t){for(var e=0,n=0;n<r.length;++n)e+=r[n]*t[n];return e}function UO(r){return Math.sqrt(r0(r,r))}function HO(r,t,e){for(var n=0;n<t.length;++n)r[n]=t[n]*e}function vd(r,t,e,n,i){for(var a=0;a<r.length;++a)r[a]=t*e[a]+n*i[a]}function Jne(r,t,e){e=e||{};var n=e.maxIterations||t.length*200,i=e.nonZeroDelta||1.05,a=e.zeroDelta||.001,o=e.minErrorDelta||1e-6,s=e.minErrorDelta||1e-5,l=e.rho!==void 0?e.rho:1,u=e.chi!==void 0?e.chi:2,c=e.psi!==void 0?e.psi:-.5,f=e.sigma!==void 0?e.sigma:.5,d,h=t.length,v=new Array(h+1);v[0]=t,v[0].fx=r(t),v[0].id=0;for(var p=0;p<h;++p){var g=t.slice();g[p]=g[p]?g[p]*i:a,v[p+1]=g,v[p+1].fx=r(g),v[p+1].id=p+1}function m(D){for(var O=0;O<D.length;O++)v[h][O]=D[O];v[h].fx=D.fx}for(var y=function(D,O){return D.fx-O.fx},b=t.slice(),w=t.slice(),S=t.slice(),E=t.slice(),_=0;_<n;++_){if(v.sort(y),e.history){var A=v.map(function(D){var O=D.slice();return O.fx=D.fx,O.id=D.id,O});A.sort(function(D,O){return D.id-O.id}),e.history.push({x:v[0].slice(),fx:v[0].fx,simplex:A})}for(d=0,p=0;p<h;++p)d=Math.max(d,Math.abs(v[0][p]-v[1][p]));if(Math.abs(v[0].fx-v[h].fx)<o&&d<s)break;for(p=0;p<h;++p){b[p]=0;for(var k=0;k<h;++k)b[p]+=v[k][p];b[p]/=h}var T=v[h];if(vd(w,1+l,b,-l,T),w.fx=r(w),w.fx<v[0].fx)vd(E,1+u,b,-u,T),E.fx=r(E),E.fx<w.fx?m(E):m(w);else if(w.fx>=v[h-1].fx){var I=!1;if(w.fx>T.fx?(vd(S,1+c,b,-c,T),S.fx=r(S),S.fx<T.fx?m(S):I=!0):(vd(S,1-c*l,b,c*l,T),S.fx=r(S),S.fx<w.fx?m(S):I=!0),I){if(f>=1)break;for(p=1;p<v.length;++p)vd(v[p],1-f,v[0],f,v[p]),v[p].fx=r(v[p])}}else m(w)}return v.sort(y),{fx:v[0].fx,x:v[0]}}function QQe(r,t,e,n,i,a,o){var s=e.fx,l=r0(e.fxprime,t),u=s,c=s,f=l,d=0;i=i||1,a=a||1e-6,o=o||.1;function h(p,g,m){for(var y=0;y<16;++y)if(i=(p+g)/2,vd(n.x,1,e.x,i,t),u=n.fx=r(n.x,n.fxprime),f=r0(n.fxprime,t),u>s+a*i*l||u>=m)g=i;else{if(Math.abs(f)<=-o*l)return i;f*(g-p)>=0&&(g=p),p=i,m=u}return 0}for(var v=0;v<10;++v){if(vd(n.x,1,e.x,i,t),u=n.fx=r(n.x,n.fxprime),f=r0(n.fxprime,t),u>s+a*i*l||v&&u>=c)return h(d,i,c);if(Math.abs(f)<=-o*l)return i;if(f>=0)return h(i,d,u);c=u,d=i,i*=2}return i}function JQe(r,t,e){var n={x:t.slice(),fx:0,fxprime:t.slice()},i={x:t.slice(),fx:0,fxprime:t.slice()},a=t.slice(),o,s,l=1,u;e=e||{},u=e.maxIterations||t.length*20,n.fx=r(n.x,n.fxprime),o=n.fxprime.slice(),HO(o,n.fxprime,-1);for(var c=0;c<u;++c){if(l=QQe(r,o,n,i,l),e.history&&e.history.push({x:n.x.slice(),fx:n.fx,fxprime:n.fxprime.slice(),alpha:l}),!l)HO(o,n.fxprime,-1);else{vd(a,1,i.fxprime,-1,n.fxprime);var f=r0(n.fxprime,n.fxprime),d=Math.max(0,r0(a,i.fxprime)/f);vd(o,d,o,-1,i.fxprime),s=n,n=i,i=s}if(UO(n.fxprime)<=1e-5)break}return e.history&&e.history.push({x:n.x.slice(),fx:n.fx,fxprime:n.fxprime.slice(),alpha:l}),n}var eie=1e-10;function BB(r,t){var e=tJe(r),n=e.filter(function(_){return eJe(_,r)}),i=0,a=0,o,s=[];if(n.length>1){var l=nie(n);for(o=0;o<n.length;++o){var u=n[o];u.angle=Math.atan2(u.x-l.x,u.y-l.y)}n.sort(function(_,A){return A.angle-_.angle});var c=n[n.length-1];for(o=0;o<n.length;++o){var f=n[o];a+=(c.x+f.x)*(f.y-c.y);for(var d={x:(f.x+c.x)/2,y:(f.y+c.y)/2},h=null,v=0;v<f.parentIndex.length;++v)if(c.parentIndex.indexOf(f.parentIndex[v])>-1){var p=r[f.parentIndex[v]],g=Math.atan2(f.x-p.x,f.y-p.y),m=Math.atan2(c.x-p.x,c.y-p.y),y=m-g;y<0&&(y+=2*Math.PI);var b=m-y/2,w=Qu(d,{x:p.x+p.radius*Math.sin(b),y:p.y+p.radius*Math.cos(b)});w>p.radius*2&&(w=p.radius*2),(h===null||h.width>w)&&(h={circle:p,width:w,p1:f,p2:c})}h!==null&&(s.push(h),i+=VO(h.circle.radius,h.width),c=f)}}else{var S=r[0];for(o=1;o<r.length;++o)r[o].radius<S.radius&&(S=r[o]);var E=!1;for(o=0;o<r.length;++o)if(Qu(r[o],S)>Math.abs(S.radius-r[o].radius)){E=!0;break}E?i=a=0:(i=S.radius*S.radius*Math.PI,s.push({circle:S,p1:{x:S.x,y:S.y+S.radius},p2:{x:S.x-eie,y:S.y+S.radius},width:S.radius*2}))}return a/=2,t&&(t.area=i+a,t.arcArea=i,t.polygonArea=a,t.arcs=s,t.innerPoints=n,t.intersectionPoints=e),i+a}function eJe(r,t){for(var e=0;e<t.length;++e)if(Qu(r,t[e])>t[e].radius+eie)return!1;return!0}function tJe(r){for(var t=[],e=0;e<r.length;++e)for(var n=e+1;n<r.length;++n)for(var i=rie(r[e],r[n]),a=0;a<i.length;++a){var o=i[a];o.parentIndex=[e,n],t.push(o)}return t}function VO(r,t){return r*r*Math.acos(1-t/r)-(r-t)*Math.sqrt(t*(2*r-t))}function Qu(r,t){return Math.sqrt((r.x-t.x)*(r.x-t.x)+(r.y-t.y)*(r.y-t.y))}function tie(r,t,e){if(e>=r+t)return 0;if(e<=Math.abs(r-t))return Math.PI*Math.min(r,t)*Math.min(r,t);var n=r-(e*e-t*t+r*r)/(2*e),i=t-(e*e-r*r+t*t)/(2*e);return VO(r,n)+VO(t,i)}function rie(r,t){var e=Qu(r,t),n=r.radius,i=t.radius;if(e>=n+i||e<=Math.abs(n-i))return[];var a=(n*n-i*i+e*e)/(2*e),o=Math.sqrt(n*n-a*a),s=r.x+a*(t.x-r.x)/e,l=r.y+a*(t.y-r.y)/e,u=-(t.y-r.y)*(o/e),c=-(t.x-r.x)*(o/e);return[{x:s+u,y:l-c},{x:s-u,y:l+c}]}function nie(r){for(var t={x:0,y:0},e=0;e<r.length;++e)t.x+=r[e].x,t.y+=r[e].y;return t.x/=r.length,t.y/=r.length,t}function rJe(r,t){t=t||{},t.maxIterations=t.maxIterations||500;var e=t.initialLayout||oJe,n=t.lossFunction||zB;r=nJe(r);var i=e(r,t),a=[],o=[],s;for(s in i)i.hasOwnProperty(s)&&(a.push(i[s].x),a.push(i[s].y),o.push(s));for(var l=Jne(function(f){for(var d={},h=0;h<o.length;++h){var v=o[h];d[v]={x:f[2*h],y:f[2*h+1],radius:i[v].radius}}return n(d,r)},a,t),u=l.x,c=0;c<o.length;++c)s=o[c],i[s].x=u[2*c],i[s].y=u[2*c+1];return i}var iie=1e-10;function WO(r,t,e){return Math.min(r,t)*Math.min(r,t)*Math.PI<=e+iie?Math.abs(r-t):ZQe(function(n){return tie(r,t,n)-e},0,r+t)}function nJe(r){r=r.slice();var t=[],e={},n,i,a,o;for(n=0;n<r.length;++n){var s=r[n];s.sets.length==1?t.push(s.sets[0]):s.sets.length==2&&(a=s.sets[0],o=s.sets[1],e[[a,o]]=!0,e[[o,a]]=!0)}for(t.sort(function(l,u){return l>u?1:-1}),n=0;n<t.length;++n)for(a=t[n],i=n+1;i<t.length;++i)o=t[i],[a,o]in e||r.push({sets:[a,o],size:0});return r}function iJe(r,t,e){var n=T7(t.length,t.length),i=T7(t.length,t.length);return r.filter(function(a){return a.sets.length==2}).map(function(a){var o=e[a.sets[0]],s=e[a.sets[1]],l=Math.sqrt(t[o].size/Math.PI),u=Math.sqrt(t[s].size/Math.PI),c=WO(l,u,a.size);n[o][s]=n[s][o]=c;var f=0;a.size+1e-10>=Math.min(t[o].size,t[s].size)?f=1:a.size<=1e-10&&(f=-1),i[o][s]=i[s][o]=f}),{distances:n,constraints:i}}function aJe(r,t,e,n){var i=0,a;for(a=0;a<t.length;++a)t[a]=0;for(a=0;a<e.length;++a)for(var o=r[2*a],s=r[2*a+1],l=a+1;l<e.length;++l){var u=r[2*l],c=r[2*l+1],f=e[a][l],d=n[a][l],h=(u-o)*(u-o)+(c-s)*(c-s),v=Math.sqrt(h),p=h-f*f;d>0&&v<=f||d<0&&v>=f||(i+=2*p*p,t[2*a]+=4*p*(o-u),t[2*a+1]+=4*p*(s-c),t[2*l]+=4*p*(u-o),t[2*l+1]+=4*p*(c-s))}return i}function oJe(r,t){var e=lJe(r,t),n=t.lossFunction||zB;if(r.length>=8){var i=sJe(r,t),a=n(i,r),o=n(e,r);a+1e-8<o&&(e=i)}return e}function sJe(r,t){t=t||{};var e=t.restarts||10,n=[],i={},a;for(a=0;a<r.length;++a){var o=r[a];o.sets.length==1&&(i[o.sets[0]]=n.length,n.push(o))}var s=iJe(r,n,i),l=s.distances,u=s.constraints,c=UO(l.map(UO))/l.length;l=l.map(function(y){return y.map(function(b){return b/c})});var f=function(y,b){return aJe(y,b,l,u)},d,h;for(a=0;a<e;++a){var v=GO(l.length*2).map(Math.random);h=JQe(f,v,t),(!d||h.fx<d.fx)&&(d=h)}var p=d.x,g={};for(a=0;a<n.length;++a){var m=n[a];g[m.sets[0]]={x:p[2*a]*c,y:p[2*a+1]*c,radius:Math.sqrt(m.size/Math.PI)}}if(t.history)for(a=0;a<t.history.length;++a)HO(t.history[a].x,c);return g}function lJe(r,t){for(var e=t&&t.lossFunction?t.lossFunction:zB,n={},i={},a,o=0;o<r.length;++o){var s=r[o];s.sets.length==1&&(a=s.sets[0],n[a]={x:1e10,y:1e10,rowid:Object.keys(n).length,size:s.size,radius:Math.sqrt(s.size/Math.PI)},i[a]=[])}r=r.filter(function(N){return N.sets.length==2});for(var o=0;o<r.length;++o){var l=r[o],u=l.hasOwnProperty("weight")?l.weight:1,c=l.sets[0],f=l.sets[1];l.size+iie>=Math.min(n[c].size,n[f].size)&&(u=0),i[c].push({set:f,size:l.size,weight:u}),i[f].push({set:c,size:l.size,weight:u})}var d=[];for(a in i)if(i.hasOwnProperty(a)){for(var h=0,o=0;o<i[a].length;++o)h+=i[a][o].size*i[a][o].weight;d.push({set:a,size:h})}function v(N,G){return G.size-N.size}d.sort(v);var p={};function g(N){return N.set in p}function m(N,G){n[G].x=N.x,n[G].y=N.y,p[G]=!0}m({x:0,y:0},d[0].set);for(var o=1;o<d.length;++o){var y=d[o].set,b=i[y].filter(g);if(a=n[y],b.sort(v),b.length===0)throw"ERROR: missing pairwise overlap information";for(var w=[],S=0;S<b.length;++S){var E=n[b[S].set],_=WO(a.radius,E.radius,b[S].size);w.push({x:E.x+_,y:E.y}),w.push({x:E.x-_,y:E.y}),w.push({y:E.y+_,x:E.x}),w.push({y:E.y-_,x:E.x});for(var A=S+1;A<b.length;++A)for(var k=n[b[A].set],T=WO(a.radius,k.radius,b[A].size),I=rie({x:E.x,y:E.y,radius:_},{x:k.x,y:k.y,radius:T}),D=0;D<I.length;++D)w.push(I[D])}for(var O=1e50,B=w[0],S=0;S<w.length;++S){n[y].x=w[S].x,n[y].y=w[S].y;var U=e(n,r);U<O&&(O=U,B=w[S])}m(B,y)}return n}function zB(r,t){var e=0;function n(c){return c.map(function(f){return r[f]})}for(var i=0;i<t.length;++i){var a=t[i],o=void 0;if(a.sets.length!=1){if(a.sets.length==2){var s=r[a.sets[0]],l=r[a.sets[1]];o=tie(s.radius,l.radius,Qu(s,l))}else o=BB(n(a.sets));var u=a.hasOwnProperty("weight")?a.weight:1;e+=u*(o-a.size)*(o-a.size)}}return e}function uJe(r){var t=function(e){var n=Math.max.apply(null,r.map(function(a){return a[e]+a.radius})),i=Math.min.apply(null,r.map(function(a){return a[e]-a.radius}));return{max:n,min:i}};return{xRange:t("x"),yRange:t("y")}}function cJe(r,t,e,n){var i=[],a=[];for(var o in r)r.hasOwnProperty(o)&&(a.push(o),i.push(r[o]));t-=2*n,e-=2*n;var s=uJe(i),l=s.xRange,u=s.yRange;if(l.max==l.min||u.max==u.min)return console.log("not scaling solution: zero size detected"),r;for(var c=t/(l.max-l.min),f=e/(u.max-u.min),d=Math.min(f,c),h=(t-(l.max-l.min)*d)/2,v=(e-(u.max-u.min)*d)/2,p={},g=0;g<i.length;++g){var m=i[g];p[a[g]]={radius:d*m.radius,x:n+h+(m.x-l.min)*d,y:n+v+(m.y-u.min)*d}}return p}function YP(r,t,e){var n=t[0].radius-Qu(t[0],r),i,a;for(i=1;i<t.length;++i)a=t[i].radius-Qu(t[i],r),a<=n&&(n=a);for(i=0;i<e.length;++i)a=Qu(e[i],r)-e[i].radius,a<=n&&(n=a);return n}function aie(r,t){var e=[],n;for(n=0;n<r.length;++n){var i=r[n];e.push({x:i.x,y:i.y}),e.push({x:i.x+i.radius/2,y:i.y}),e.push({x:i.x-i.radius/2,y:i.y}),e.push({x:i.x,y:i.y+i.radius/2}),e.push({x:i.x,y:i.y-i.radius/2})}var a=e[0],o=YP(e[0],r,t);for(n=1;n<e.length;++n){var s=YP(e[n],r,t);s>=o&&(a=e[n],o=s)}var l=Jne(function(d){return-1*YP({x:d[0],y:d[1]},r,t)},[a.x,a.y],{maxIterations:500,minErrorDelta:1e-10}).x,u={x:l[0],y:l[1]},c=!0;for(n=0;n<r.length;++n)if(Qu(u,r[n])>r[n].radius){c=!1;break}for(n=0;n<t.length;++n)if(Qu(u,t[n])<t[n].radius){c=!1;break}if(!c)if(r.length==1)u={x:r[0].x,y:r[0].y};else{var f={};BB(r,f),f.arcs.length===0?u={x:0,y:-1e3,disjoint:!0}:f.arcs.length==1?u={x:f.arcs[0].circle.x,y:f.arcs[0].circle.y}:t.length?u=aie(r,[]):u=nie(f.arcs.map(function(d){return d.p1}))}return u}function fJe(r){var t={},e=[];for(var n in r)e.push(n),t[n]=[];for(var i=0;i<e.length;i++)for(var a=r[e[i]],o=i+1;o<e.length;++o){var s=r[e[o]],l=Qu(a,s);l+s.radius<=a.radius+1e-10?t[e[o]].push(e[i]):l+a.radius<=s.radius+1e-10&&t[e[i]].push(e[o])}return t}function dJe(r,t){for(var e={},n=fJe(r),i=0;i<t.length;++i){for(var a=t[i].sets,o={},s={},l=0;l<a.length;++l){o[a[l]]=!0;for(var u=n[a[l]],c=0;c<u.length;++c)s[u[c]]=!0}var f=[],d=[];for(var h in r)h in o?f.push(r[h]):h in s||d.push(r[h]);var v=aie(f,d);e[a]=v,v.disjoint&&t[i].size>0&&console.log("WARNING: area "+a+" not represented on screen")}return e}function hJe(r,t,e){var n=[],i=r-e,a=t;return n.push("M",i,a),n.push("A",e,e,0,1,0,i+2*e,a),n.push("A",e,e,0,1,0,i,a),n.join(" ")}function vJe(r){var t={};BB(r,t);var e=t.arcs;if(e.length===0)return"M 0 0";if(e.length==1){var n=e[0].circle;return hJe(n.x,n.y,n.radius)}else{for(var i=[`
M`,e[0].p2.x,e[0].p2.y],a=0;a<e.length;++a){var o=e[a],s=o.circle.radius,l=o.width>s;i.push(`
A`,s,s,0,l?1:0,1,o.p1.x,o.p1.y)}return i.join(" ")}}var Cd="id",jO="path",pJe={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(r){return{name:r.id,value:r.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]},gJe=qg(function(r,t,e,n){var i=new Map,a=r.length;return t.forEach(function(o,s){if(o[n].length===1)i.set(o[Cd],r[(s+a)%a]);else{var l=o[n].map(function(u){return i.get(u)});i.set(o[Cd],l.slice(1).reduce(function(u,c){return KQe(u,c,e)},l[0]))}}),i},function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return JSON.stringify(r)});function mJe(r,t,e,n){n===void 0&&(n=0);var i=r.data,a=r.setsField,o=r.sizeField;if(i.length===0)return Ld(rc.WARN,!1,"warn: %s","\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A"),[];var s=i.map(function(f){var d;return P(P({},f),(d={sets:f[a]||[],size:f[o]},d[jO]="",d[Cd]="",d))});s.sort(function(f,d){return f.sets.length-d.sets.length});var l=rJe(s),u=cJe(l,t,e,n),c=dJe(u,s);return s.forEach(function(f){var d=f.sets,h=d.join(",");f[Cd]=h;var v=d.map(function(m){return u[m]}),p=vJe(v);/[zZ]$/.test(p)||(p+=" Z"),f[jO]=p;var g=c[h]||{x:0,y:0};cr(f,g)}),s}function yJe(r,t){for(var e=0;e<t.length;e++)if(!r.includes(t[e]))return!1;return!0}function bJe(r){return pt({},r.defaultStyle,{fill:r.color},r.style)}ai("schema","venn",{draw:function(r,t){var e=r.data,n=mw(e[jO]),i=bJe(r),a=t.addGroup({name:"venn-shape"});a.addShape("path",{attrs:P(P({},i),{path:n}),name:"venn-path"});var o=r.customInfo,s=o.offsetX,l=o.offsetY,u=dl.transform(null,[["t",s,l]]);return a.setMatrix(u),a},getMarker:function(r){var t=r.color;return{symbol:"circle",style:{lineWidth:0,stroke:t,fill:t,r:4}}}});var xJe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getLabelPoint=function(e,n,i){var a=e.data,o=a.x,s=a.y,l=e.customLabelInfo,u=l.offsetX,c=l.offsetY;return{content:e.content[i],x:o+u,y:s+c}},t}(ik);ES("venn",xJe);function mk(r){if(!!r){var t=r.geometries[0].elements;t.forEach(function(e){e.shape.toFront()})}}var wJe=rk("element-active"),SJe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.syncElementsPos=function(){mk(this.context.view)},t.prototype.active=function(){r.prototype.active.call(this),this.syncElementsPos()},t.prototype.toggle=function(){r.prototype.toggle.call(this),this.syncElementsPos()},t.prototype.reset=function(){r.prototype.reset.call(this),this.syncElementsPos()},t}(wJe),CJe=rk("element-highlight"),EJe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.syncElementsPos=function(){mk(this.context.view)},t.prototype.highlight=function(){r.prototype.highlight.call(this),this.syncElementsPos()},t.prototype.toggle=function(){r.prototype.toggle.call(this),this.syncElementsPos()},t.prototype.clear=function(){r.prototype.clear.call(this),this.syncElementsPos()},t.prototype.reset=function(){r.prototype.reset.call(this),this.syncElementsPos()},t}(CJe),_Je=rk("element-selected"),TJe=rk("element-single-selected"),AJe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.syncElementsPos=function(){mk(this.context.view)},t.prototype.selected=function(){r.prototype.selected.call(this),this.syncElementsPos()},t.prototype.toggle=function(){r.prototype.toggle.call(this),this.syncElementsPos()},t.prototype.reset=function(){r.prototype.reset.call(this),this.syncElementsPos()},t}(_Je),kJe=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.syncElementsPos=function(){mk(this.context.view)},t.prototype.selected=function(){r.prototype.selected.call(this),this.syncElementsPos()},t.prototype.toggle=function(){r.prototype.toggle.call(this),this.syncElementsPos()},t.prototype.reset=function(){r.prototype.reset.call(this),this.syncElementsPos()},t}(TJe);Gr("venn-element-active",SJe);Gr("venn-element-highlight",EJe);Gr("venn-element-selected",AJe);Gr("venn-element-single-selected",kJe);cn("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]});cn("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]});cn("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]});cn("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]});cn("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]});cn("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});var MJe=40;function oie(r,t,e){var n=r.chart,i=r.options,a=i.blendMode,o=i.setsField,s=n.getTheme(),l=s.colors10,u=s.colors20,c=e;gt(c)||(c=t.filter(function(d){return d[o].length===1}).length<=10?l:u);var f=gJe(c,t,a,o);return function(d){return f.get(d)||c[0]}}function IJe(r,t){var e=r.options,n=e.color;if(typeof n!="function"){var i=typeof n=="string"?[n]:n,a=oie(r,t,i);return function(o){return a(o[Cd])}}return n}function PJe(r){var t=r.chart,e=r.options,n=e.legend,i=e.appendPadding,a=e.padding,o=Ev(i);return n!==!1&&(o=uk(i,me(n,"position"),MJe)),t.appendPadding=wB([o,a]),r}function RJe(r){var t=r.options,e=t.data;e||(Ld(rc.WARN,!1,"warn: %s","\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A"),e=[]);var n=e.filter(function(a){return a.sets.length===1}).map(function(a){return a.sets[0]}),i=e.filter(function(a){var o=a.sets;return yJe(n,o)});return Zi(i,e)||Ld(rc.WARN,!1,"warn: %s","\u4EA4\u96C6\u4E2D\u4E0D\u80FD\u51FA\u73B0\u4E0D\u5B58\u5728\u7684\u96C6\u5408, \u8BF7\u8F93\u5165\u5408\u6CD5\u6570\u636E"),Kt({},r,{options:{data:i}})}function DJe(r){var t=r.chart,e=r.options,n=e.pointStyle,i=e.setsField,a=e.sizeField,o=Ev(t.appendPadding),s=o[0],l=o[1],u=o[2],c=o[3],f={offsetX:c,offsetY:s},d=t.viewBBox,h=d.width,v=d.height,p=mJe(e,Math.max(h-(l+c),0),Math.max(v-(s+u),0),0);t.data(p);var g=IB(pt({},r,{options:{xField:"x",yField:"y",sizeField:a,seriesField:Cd,rawFields:[i,a],schema:{shape:"venn",style:n}}})).ext,m=g.geometry;m.customInfo(f);var y=IJe(r,p);return typeof y=="function"&&m.color(Cd,function(b){var w=p.find(function(E){return E[Cd]===b}),S=oie(r,p)(b);return y(w,S)}),r}function OJe(r){var t=r.chart,e=r.options,n=e.label,i=Ev(t.appendPadding),a=i[0],o=i[3],s={offsetX:o,offsetY:a},l=cs(t,"schema");if(!n)l.label(!1);else{var u=n.callback,c=xn(n,["callback"]);l.label({fields:["id"],callback:u,cfg:Kt({},_o(c),{type:"venn",customLabelInfo:s})})}return r}function LJe(r){var t=r.chart,e=r.options,n=e.legend,i=e.sizeField;return t.legend(Cd,n),t.legend(i,!1),r}function FJe(r){var t=r.chart;return t.axis(!1),r}function NJe(r){var t=r.options,e=r.chart,n=t.interactions;if(n){var i={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};Vi(pt({},r,{options:{interactions:n.map(function(a){return P(P({},a),{type:i[a.type]||a.type})})}}))}return e.removeInteraction("legend-active"),e.removeInteraction("legend-highlight"),r}function BJe(r){return jr(PJe,ti,RJe,DJe,OJe,Sa({}),LJe,FJe,co,NJe,yi)(r)}(function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="venn",e}return t.getDefaultOptions=function(){return pJe},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return BJe},t.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},t})(on);var $w="$$stock-range$$",yk="trend",sie="up",lie="down",zJe={showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(r,t,e){var n;if(r==="x"){var i=e[0];n=i?i.title:t}else n=t;return{position:r==="y"?"start":"end",content:n,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},$Je=pt({},on.getDefaultOptions(),{tooltip:zJe,interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function uie(r,t){return Di(r,function(e){if(gt(t)){var n=t[0],i=t[1],a=t[2],o=t[3];e[yk]=e[n]<=e[i]?sie:lie,e[$w]=[e[n],e[i],e[a],e[o]]}return e})}function GJe(r){var t=r.chart,e=r.options,n=e.yField,i=e.data,a=e.risingFill,o=e.fallingFill,s=e.tooltip,l=e.stockStyle;t.data(uie(i,n));var u=s;return u!==!1&&(u=pt({},{fields:n},u)),IB(pt({},r,{options:{schema:{shape:"candle",color:[a,o],style:l},yField:$w,seriesField:yk,rawFields:n,tooltip:u}})),r}function UJe(r){var t,e,n=r.chart,i=r.options,a=i.meta,o=i.xAxis,s=i.yAxis,l=i.xField,u=(t={},t[l]={type:"timeCat",tickCount:6},t[yk]={values:[sie,lie]},t),c=pt(u,a,(e={},e[l]=hi(o,sl),e[$w]=hi(s,sl),e));return n.scale(c),r}function HJe(r){var t=r.chart,e=r.options,n=e.xAxis,i=e.yAxis,a=e.xField;return n===!1?t.axis(a,!1):t.axis(a,n),i===!1?t.axis($w,!1):t.axis($w,i),r}function VJe(r){var t=r.chart,e=r.options,n=e.tooltip;return n!==!1?t.tooltip(n):t.tooltip(!1),r}function WJe(r){var t=r.chart,e=r.options,n=e.legend;return n?t.legend(yk,n):n===!1&&t.legend(!1),r}function jJe(r){jr(ti,GJe,UJe,HJe,VJe,WJe,Vi,yi,Ca(),TS)(r)}(function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="stock",e}return t.getDefaultOptions=function(){return $Je},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return jJe},t.prototype.changeData=function(e){this.updateOption({data:e});var n=this.options.yField;this.chart.changeData(uie(e,n))},t})(on);var XP,Tv="$$percentage$$",Av="$$mappingValue$$",Ed="$$conversion$$",YO="$$totalPercentage$$",Gw="$$x$$",Uw="$$y$$",YJe={appendPadding:[0,80],minSize:0,maxSize:1,meta:(XP={},XP[Av]={min:0,max:1,nice:!1},XP),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}};function cie(r,t,e){var n=[],i=e.yField,a=e.maxSize,o=e.minSize,s=me(pF(t,i),[i]),l=ir(a)?a:1,u=ir(o)?o:0;return n=Di(r,function(c,f){var d=(c[i]||0)/s;return c[Tv]=d,c[Av]=(l-u)*d+u,c[Ed]=[me(r,[f-1,i]),c[i]],c}),n}function $B(r){return function(t){var e=t.chart,n=t.options,i=n.conversionTag,a=e.getOptions().data;if(i){var o=i.formatter;a.forEach(function(s,l){if(!(l<=0||Number.isNaN(s[Av]))){var u=r(s,l,a,{top:!0,text:{content:yr(o)?o(s,a):o,offsetX:i.offsetX,offsetY:i.offsetY,position:"end",autoRotate:!1,style:P({textAlign:"start",textBaseline:"middle"},i.style)}});e.annotation().line(u)}})}return t}}function XJe(r){var t=r.chart,e=r.options,n=e.data,i=n===void 0?[]:n,a=e.yField,o=e.maxSize,s=e.minSize,l=cie(i,i,{yField:a,maxSize:o,minSize:s});return t.data(l),r}function qJe(r){var t=r.chart,e=r.options,n=e.xField,i=e.yField,a=e.color,o=e.tooltip,s=e.label,l=e.shape,u=l===void 0?"funnel":l,c=e.funnelStyle,f=e.state,d=Au(o,[n,i]),h=d.fields,v=d.formatter;pl({chart:t,options:{type:"interval",xField:n,yField:Av,colorField:n,tooltipFields:gt(h)&&h.concat([Tv,Ed]),mapping:{shape:u,tooltip:v,color:a,style:c},label:s,state:f}});var p=cs(r.chart,"interval");return p.adjust("symmetric"),r}function KJe(r){var t=r.chart,e=r.options,n=e.isTransposed;return t.coordinate({type:"rect",actions:n?[]:[["transpose"],["scale",1,-1]]}),r}function ZJe(r){var t=r.options,e=t.maxSize,n=function(i,a,o,s){var l=e-(e-i[Av])/2;return P(P({},s),{start:[a-.5,l],end:[a-.5,l+.05]})};return $B(n)(r),r}function fie(r){return jr(XJe,qJe,KJe,ZJe)(r)}function QJe(r){var t,e=r.chart,n=r.options,i=n.data,a=i===void 0?[]:i,o=n.yField;return e.data(a),e.scale((t={},t[o]={sync:!0},t)),r}function JJe(r){var t=r.chart,e=r.options,n=e.data,i=e.xField,a=e.yField,o=e.color,s=e.compareField,l=e.isTransposed,u=e.tooltip,c=e.maxSize,f=e.minSize,d=e.label,h=e.funnelStyle,v=e.state;return t.facet("mirror",{fields:[s],transpose:!l,padding:l?0:[32,0,0,0],eachView:function(p,g){var m=l?g.rowIndex:g.columnIndex;l||p.coordinate({type:"rect",actions:[["transpose"],["scale",m===0?-1:1,-1]]});var y=cie(g.data,n,{yField:a,maxSize:c,minSize:f});p.data(y);var b=Au(u,[i,a,s]),w=b.fields,S=b.formatter,E=l?{offset:m===0?10:-23,position:m===0?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:m===0?"end":"start"}};pl({chart:p,options:{type:"interval",xField:i,yField:Av,colorField:i,tooltipFields:gt(w)&&w.concat([Tv,Ed]),mapping:{shape:"funnel",tooltip:S,color:o,style:h},label:d===!1?!1:pt({},E,d),state:v}})}}),r}function eet(r){var t=r.chart,e=r.options,n=e.conversionTag,i=e.isTransposed;return t.once("beforepaint",function(){t.views.forEach(function(a,o){var s=function(l,u,c,f){var d=o===0?-1:1;return pt({},f,{start:[u-.5,l[Av]],end:[u-.5,l[Av]+.05],text:i?{style:{textAlign:"start"}}:{offsetX:n!==!1?d*n.offsetX:0,style:{textAlign:o===0?"end":"start"}}})};$B(s)(pt({},{chart:a,options:e}))})}),r}function tet(r){return jr(QJe,JJe,eet)(r)}function ret(r){var t,e=r.chart,n=r.options,i=n.data,a=i===void 0?[]:i,o=n.yField;return e.data(a),e.scale((t={},t[o]={sync:!0},t)),r}function net(r){var t=r.chart,e=r.options,n=e.seriesField,i=e.isTransposed;return t.facet("rect",{fields:[n],padding:[i?0:32,10,0,10],eachView:function(a,o){fie(pt({},r,{chart:a,options:{data:o.data}}))}}),r}function iet(r){return jr(ret,net)(r)}function aet(r){var t=r.chart,e=r.options,n=e.data,i=n===void 0?[]:n,a=e.yField,o=us(i,function(u,c){return u+(c[a]||0)},0),s=pF(i,a)[a],l=Di(i,function(u,c){var f=[],d=[];if(u[YO]=(u[a]||0)/o,c){var h=i[c-1][Gw],v=i[c-1][Uw];f[0]=h[3],d[0]=v[3],f[1]=h[2],d[1]=v[2]}else f[0]=-.5,d[0]=1,f[1]=.5,d[1]=1;return d[2]=d[1]-u[YO],f[2]=(d[2]+1)/4,d[3]=d[2],f[3]=-f[2],u[Gw]=f,u[Uw]=d,u[Tv]=(u[a]||0)/s,u[Ed]=[me(i,[c-1,a]),u[a]],u});return t.data(l),r}function oet(r){var t=r.chart,e=r.options,n=e.xField,i=e.yField,a=e.color,o=e.tooltip,s=e.label,l=e.funnelStyle,u=e.state,c=Au(o,[n,i]),f=c.fields,d=c.formatter;return pl({chart:t,options:{type:"polygon",xField:Gw,yField:Uw,colorField:n,tooltipFields:gt(f)&&f.concat([Tv,Ed]),label:s,state:u,mapping:{tooltip:d,color:a,style:l}}}),r}function set(r){var t=r.chart,e=r.options,n=e.isTransposed;return t.coordinate({type:"rect",actions:n?[["transpose"],["reflect","x"]]:[]}),r}function uet(r){var t=function(e,n,i,a){return P(P({},a),{start:[e[Gw][1],e[Uw][1]],end:[e[Gw][1]+.05,e[Uw][1]]})};return $B(t)(r),r}function cet(r){return jr(aet,oet,set,uet)(r)}function fet(r){var t=r.options,e=t.compareField,n=t.xField,i=t.yField,a=t.locale,o=t.funnelStyle,s=t.data,l=ck(a),u={label:e?{fields:[n,i,e,Tv,Ed],formatter:function(f){return""+f[i]}}:{fields:[n,i,Tv,Ed],offset:0,position:"middle",formatter:function(f){return f[n]+" "+f[i]}},tooltip:{title:n,formatter:function(f){return{name:f[n],value:f[i]}}},conversionTag:{formatter:function(f){return l.get(["conversionTag","label"])+": "+bne.apply(void 0,f[Ed])}}},c;return(e||o)&&(c=function(f){return pt({},e&&{lineWidth:1,stroke:"#fff"},yr(o)?o(f):o)}),pt({options:u},r,{options:{funnelStyle:c,data:Jr(s)}})}function det(r){var t=r.options,e=t.compareField,n=t.dynamicHeight,i=t.seriesField;return i?iet(r):e?tet(r):n?cet(r):fie(r)}function het(r){var t,e=r.options,n=e.xAxis,i=e.yAxis,a=e.xField,o=e.yField;return jr(Sa((t={},t[a]=n,t[o]=i,t)))(r)}function vet(r){var t=r.chart;return t.axis(!1),r}function pet(r){var t=r.chart,e=r.options,n=e.legend;return n===!1?t.legend(!1):t.legend(n),r}function die(r){return jr(fet,det,het,vet,co,Vi,pet,yi,ti,Ca())(r)}var get=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="funnel",e}return t.getDefaultOptions=function(){return YJe},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return die},t.prototype.setState=function(e,n,i){i===void 0&&(i=!0);var a=Nw(this.chart);q(a,function(o){n(o.getData())&&o.setState(e,i)})},t.prototype.getStates=function(){var e=Nw(this.chart),n=[];return q(e,function(i){var a=i.getData(),o=i.getStates();q(o,function(s){n.push({data:a,state:s,geometry:i.geometry,element:i})})}),n},t.CONVERSATION_FIELD=Ed,t.PERCENT_FIELD=Tv,t.TOTAL_PERCENT_FIELD=YO,t}(on),met="liquid";function hie(r){return[{percent:r,type:met}]}function yet(r){var t=r.chart,e=r.options,n=e.percent,i=e.liquidStyle,a=e.radius,o=e.outline,s=e.wave,l=e.shape,u=e.animation;t.scale({percent:{min:0,max:1}}),t.data(hie(n));var c=e.color||t.getTheme().defaultColor,f=pt({},r,{options:{xField:"type",yField:"percent",widthRatio:a,interval:{color:c,style:i,shape:"liquid-fill-gauge"}}}),d=fs(f).ext,h=d.geometry,v=t.getTheme().background,p={radius:a,outline:o,wave:s,shape:l,background:v,animation:u};return h.customInfo(p),t.legend(!1),t.axis(!1),t.tooltip(!1),r}function vie(r,t){var e=r.chart,n=r.options,i=n.statistic,a=n.percent,o=n.meta;e.getController("annotation").clear(!0);var s=me(o,["percent","formatter"])||function(u){return(u*100).toFixed(2)+"%"},l=i.content;return l&&(l=pt({},l,{content:xt(l.content)?s(a):l.content})),lk(e,{statistic:P(P({},i),{content:l}),plotType:"liquid"},{percent:a}),t&&e.render(!0),r}function bet(r){return jr(ti,Vl("liquidStyle"),yet,vie,Sa({}),yi,Vi)(r)}var xet={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"},A7=5e3;function k7(r,t,e){return r+(t-r)*e}function wet(r){var t=P({opacity:1},r.style);return r.color&&!t.fill&&(t.fill=r.color),t}function Cet(r){var t={fill:"#fff",fillOpacity:0,lineWidth:4},e=cr({},t,r.style);return r.color&&!e.stroke&&(e.stroke=r.color),ir(r.opacity)&&(e.opacity=e.strokeOpacity=r.opacity),e}function Eet(r,t,e,n){return t===0?[[r+1/2*e/Math.PI/2,n/2],[r+1/2*e/Math.PI,n],[r+e/4,n]]:t===1?[[r+1/2*e/Math.PI/2*(Math.PI-2),n],[r+1/2*e/Math.PI/2*(Math.PI-1),n/2],[r+e/4,0]]:t===2?[[r+1/2*e/Math.PI/2,-n/2],[r+1/2*e/Math.PI,-n],[r+e/4,-n]]:[[r+1/2*e/Math.PI/2*(Math.PI-2),-n],[r+1/2*e/Math.PI/2*(Math.PI-1),-n/2],[r+e/4,0]]}function _et(r,t,e,n,i,a,o){for(var s=Math.ceil(2*r/e*4)*4,l=[],u=n;u<-Math.PI*2;)u+=Math.PI*2;for(;u>0;)u-=Math.PI*2;u=u/Math.PI/2*e;var c=a-r+u-r*2;l.push(["M",c,t]);for(var f=0,d=0;d<s;++d){var h=d%4,v=Eet(d*e/4,h,e,i);l.push(["C",v[0][0]+c,-v[0][1]+t,v[1][0]+c,-v[1][1]+t,v[2][0]+c,-v[2][1]+t]),d===s-1&&(f=v[2][0])}return l.push(["L",f+c,o+r]),l.push(["L",c,o+r]),l.push(["Z"]),l}function Tet(r,t,e,n,i,a,o,s,l,u){for(var c=i.fill,f=i.opacity,d=o.getBBox(),h=d.maxX-d.minX,v=d.maxY-d.minY,p=0;p<n;p++){var g=n<=1?0:p/(n-1),m=a.addShape("path",{name:"waterwave-path",attrs:{path:_et(s,d.minY+v*e,l,0,h/32,r,t),fill:c,opacity:k7(.2,.9,g)*f}});try{if(u===!1)return;var y=zO([["t",l,0]]);m.stopAnimate(),m.animate({matrix:y},{duration:k7(.5*A7,A7,g),repeat:!0})}catch{console.warn("off-screen group animate error!")}}}function Aet(r,t,e,n){var i=e*2/3,a=Math.max(i,n),o=i/2,s=r,l=o+t-a/2,u=Math.asin(o/((a-o)*.85)),c=Math.sin(u)*o,f=Math.cos(u)*o,d=s-f,h=l+c,v=r,p=l+o/Math.sin(u);return`
      M `+d+" "+h+`
      A `+o+" "+o+" 0 1 1 "+(d+f*2)+" "+h+`
      Q `+v+" "+p+" "+r+" "+(t+a/2)+`
      Q `+v+" "+p+" "+d+" "+h+`
      Z 
    `}function ket(r,t,e,n){var i=e/2,a=n/2;return`
      M `+r+" "+(t-a)+` 
      a `+i+" "+a+" 0 1 0 0 "+a*2+`
      a `+i+" "+a+" 0 1 0 0 "+-a*2+`
      Z
    `}function Met(r,t,e,n){var i=n/2,a=e/2;return`
      M `+r+" "+(t-i)+`
      L `+(r+a)+" "+t+`
      L `+r+" "+(t+i)+`
      L `+(r-a)+" "+t+`
      Z
    `}function Iet(r,t,e,n){var i=n/2,a=e/2;return`
      M `+r+" "+(t-i)+`
      L `+(r+a)+" "+(t+i)+`
      L `+(r-a)+" "+(t+i)+`
      Z
    `}function Pet(r,t,e,n){var i=.618,a=n/2,o=e/2*i;return`
      M `+(r-o)+" "+(t-a)+`
      L `+(r+o)+" "+(t-a)+`
      L `+(r+o)+" "+(t+a)+`
      L `+(r-o)+" "+(t+a)+`
      Z
    `}ai("interval","liquid-fill-gauge",{draw:function(r,t){var e=.5,n=.5,i=r.customInfo,a=i,o=a.radius,s=a.shape,l=a.background,u=a.animation,c=i.outline,f=i.wave,d=c.border,h=c.distance,v=f.count,p=f.length,g=us(r.points,function(O,B){return Math.min(O,B.x)},1/0),m=this.parsePoint({x:e,y:n}),y=this.parsePoint({x:g,y:n}),b=m.x-y.x,w=Math.min(b,y.y*o),S=wet(r),E=Cet(cr({},r,c)),_=w-d/2,A={pin:Aet,circle:ket,diamond:Met,triangle:Iet,rect:Pet},k=typeof s=="function"?s:A[s]||A.circle,T=k(m.x,m.y,_*2,_*2),I=t.addGroup({name:"waves"}),D=I.setClip({type:"path",attrs:{path:T}});return Tet(m.x,m.y,1-r.points[1].y,v,S,I,D,w*2,p,u),t.addShape("path",{name:"distance",attrs:{path:T,fill:"transparent",lineWidth:d+h*2,stroke:l==="transparent"?"#fff":l}}),t.addShape("path",{name:"wrap",attrs:cr(E,{path:T,fill:"transparent",lineWidth:d})}),t}});(function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="liquid",e}return t.getDefaultOptions=function(){return xet},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.changeData=function(e){this.chart.emit(bn.BEFORE_CHANGE_DATA,na.fromData(this.chart,bn.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:e}),this.chart.data(hie(e)),vie({chart:this.chart,options:this.options},!0),this.chart.emit(bn.AFTER_CHANGE_DATA,na.fromData(this.chart,bn.AFTER_CHANGE_DATA,null))},t.prototype.getSchemaAdaptor=function(){return bet},t})(on);function pie(r){var t=r.data,e=r.xField,n=r.measureField,i=r.rangeField,a=r.targetField,o=r.layout,s=[],l=[];t.forEach(function(f,d){var h;f[i].sort(function(v,p){return v-p}),f[i].forEach(function(v,p){var g,m=p===0?v:f[i][p]-f[i][p-1];s.push((g={rKey:i+"_"+p},g[e]=e?f[e]:String(d),g[i]=m,g))}),f[n].forEach(function(v,p){var g;s.push((g={mKey:f[n].length>1?n+"_"+p:""+n},g[e]=e?f[e]:String(d),g[n]=v,g))}),s.push((h={tKey:""+a},h[e]=e?f[e]:String(d),h[a]=f[a],h)),l.push(f[i],f[n],f[a])});var u=Math.min.apply(Math,l.flat(1/0)),c=Math.max.apply(Math,l.flat(1/0));return u=u>0?0:u,o==="vertical"&&s.reverse(),{min:u,max:c,ds:s}}function Ret(r){var t=r.chart,e=r.options,n=e.bulletStyle,i=e.targetField,a=e.rangeField,o=e.measureField,s=e.xField,l=e.color,u=e.layout,c=e.size,f=e.label,d=pie(e),h=d.min,v=d.max,p=d.ds;t.data(p);var g=pt({},r,{options:{xField:s,yField:a,seriesField:"rKey",isStack:!0,label:me(f,"range"),interval:{color:me(l,"range"),style:me(n,"range"),size:me(c,"range")}}});fs(g),t.geometries[0].tooltip(!1);var m=pt({},r,{options:{xField:s,yField:o,seriesField:"mKey",isStack:!0,label:me(f,"measure"),interval:{color:me(l,"measure"),style:me(n,"measure"),size:me(c,"measure")}}});fs(m);var y=pt({},r,{options:{xField:s,yField:i,seriesField:"tKey",label:me(f,"target"),point:{color:me(l,"target"),style:me(n,"target"),size:yr(me(c,"target"))?function(b){return me(c,"target")(b)/2}:me(c,"target")/2,shape:u==="horizontal"?"line":"hyphen"}}});return Wl(y),u==="horizontal"&&t.coordinate().transpose(),P(P({},r),{ext:{data:{min:h,max:v}}})}function gie(r){var t,e,n=r.options,i=r.ext,a=n.xAxis,o=n.yAxis,s=n.targetField,l=n.rangeField,u=n.measureField,c=n.xField,f=i.data;return jr(Sa((t={},t[c]=a,t[u]=o,t),(e={},e[u]={min:f==null?void 0:f.min,max:f==null?void 0:f.max,sync:!0},e[s]={sync:""+u},e[l]={sync:""+u},e)))(r)}function Det(r){var t=r.chart,e=r.options,n=e.xAxis,i=e.yAxis,a=e.xField,o=e.measureField,s=e.rangeField,l=e.targetField;return t.axis(""+s,!1),t.axis(""+l,!1),n===!1?t.axis(""+a,!1):t.axis(""+a,n),i===!1?t.axis(""+o,!1):t.axis(""+o,i),r}function Oet(r){var t=r.chart,e=r.options,n=e.legend;return t.removeInteraction("legend-filter"),t.legend(n),t.legend("rKey",!1),t.legend("mKey",!1),t.legend("tKey",!1),r}function Let(r){var t=r.chart,e=r.options,n=e.label,i=e.measureField,a=e.targetField,o=e.rangeField,s=t.geometries,l=s[0],u=s[1],c=s[2];return me(n,"range")?l.label(""+o,P({layout:[{type:"limit-in-plot"}]},_o(n.range))):l.label(!1),me(n,"measure")?u.label(""+i,P({layout:[{type:"limit-in-plot"}]},_o(n.measure))):u.label(!1),me(n,"target")?c.label(""+a,P({layout:[{type:"limit-in-plot"}]},_o(n.target))):c.label(!1),r}function Fet(r){jr(Ret,gie,Det,Oet,ti,Let,co,Vi,yi)(r)}var Net=pt({},on.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}});(function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="bullet",e}return t.getDefaultOptions=function(){return Net},t.prototype.changeData=function(e){this.updateOption({data:e});var n=pie(this.options),i=n.min,a=n.max,o=n.ds;gie({options:this.options,ext:{data:{min:i,max:a}},chart:this.chart}),this.chart.changeData(o)},t.prototype.getSchemaAdaptor=function(){return Fet},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t})(on);var mie="nodeIndex",yie="childNodeCount",GB="nodeAncestor",qP="Invalid field: it must be a string!";function UB(r,t){var e=r.field,n=r.fields;if(wt(e))return e;if(gt(e))return console.warn(qP),e[0];if(console.warn(qP+" will try to get fields instead."),wt(n))return n;if(gt(n)&&n.length)return n[0];if(t)return t;throw new TypeError(qP)}function HB(r){var t=[];if(r&&r.each){var e,n;r.each(function(i){var a,o;i.parent!==e?(e=i.parent,n=0):n+=1;var s=ko((((a=i.ancestors)===null||a===void 0?void 0:a.call(i))||[]).map(function(l){return t.find(function(u){return u.name===l.name})||l}),function(l){var u=l.depth;return u>0&&u<i.depth});i[GB]=s,i[yie]=((o=i.children)===null||o===void 0?void 0:o.length)||0,i[mie]=n,t.push(i)})}else r&&r.eachNode&&r.eachNode(function(i){t.push(i)});return t}var VB="ancestor-node",bie="value",Hw="path",Bet=[Hw,mie,GB,yie,"name","depth","height"],zet=pt({},on.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}}),M7=4,$et=0,I7=5,P7="drilldown-bread-crumb",Get={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},Vw="hierarchy-data-transform-params",Uet=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.name="drill-down",e.historyCache=[],e.breadCrumbGroup=null,e.breadCrumbCfg=Get,e}return t.prototype.click=function(){var e=me(this.context,["event","data","data"]);if(!e)return!1;this.drill(e),this.drawBreadCrumb()},t.prototype.resetPosition=function(){if(!!this.breadCrumbGroup){var e=this.context.view.getCoordinate(),n=this.breadCrumbGroup,i=n.getBBox(),a=this.getButtonCfg().position,o={x:e.start.x,y:e.end.y-(i.height+I7*2)};e.isPolar&&(o={x:0,y:0}),a==="bottom-left"&&(o={x:e.start.x,y:e.start.y});var s=dl.transform(null,[["t",o.x+$et,o.y+i.height+I7]]);n.setMatrix(s)}},t.prototype.back=function(){Qa(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},t.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},t.prototype.drill=function(e){var n=this.context.view,i=me(n,["interactions","drill-down","cfg","transformData"],function(u){return u}),a=i(P({data:e.data},e[Vw]));n.changeData(a);for(var o=[],s=e;s;){var l=s.data;o.unshift({id:l.name+"_"+s.height+"_"+s.depth,name:l.name,children:i(P({data:l},e[Vw]))}),s=s.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(o)},t.prototype.backTo=function(e){if(!(!e||e.length<=0)){var n=this.context.view,i=Ua(e).children;n.changeData(i),e.length>1?(this.historyCache=e,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},t.prototype.getButtonCfg=function(){var e=this.context.view,n=me(e,["interactions","drill-down","cfg","drillDownConfig"]);return pt(this.breadCrumbCfg,n==null?void 0:n.breadCrumb,this.cfg)},t.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},t.prototype.drawBreadCrumbGroup=function(){var e=this,n=this.getButtonCfg(),i=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:P7});var a=0;i.forEach(function(o,s){var l=e.breadCrumbGroup.addShape({type:"text",id:o.id,name:P7+"_"+o.name+"_text",attrs:P(P({text:s===0&&!xt(n.rootText)?n.rootText:o.name},n.textStyle),{x:a,y:0})}),u=l.getBBox();if(a+=u.width+M7,l.on("click",function(d){var h,v=d.target.get("id");if(v!==((h=Ua(i))===null||h===void 0?void 0:h.id)){var p=i.slice(0,i.findIndex(function(g){return g.id===v})+1);e.backTo(p)}}),l.on("mouseenter",function(d){var h,v=d.target.get("id");v!==((h=Ua(i))===null||h===void 0?void 0:h.id)?l.attr(n.activeTextStyle):l.attr({cursor:"default"})}),l.on("mouseleave",function(){l.attr(n.textStyle)}),s<i.length-1){var c=e.breadCrumbGroup.addShape({type:"text",name:n.name+"_"+o.name+"_divider",attrs:P(P({text:n.dividerText},n.textStyle),{x:a,y:0})}),f=c.getBBox();a+=f.width+M7}})},t.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},t.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),r.prototype.destroy.call(this)},t}(ia);function Het(r,t){return r.parent===t.parent?1:2}function Vet(r){return r.reduce(Wet,0)/r.length}function Wet(r,t){return r+t.x}function jet(r){return 1+r.reduce(Yet,0)}function Yet(r,t){return Math.max(r,t.y)}function Xet(r){for(var t;t=r.children;)r=t[0];return r}function qet(r){for(var t;t=r.children;)r=t[t.length-1];return r}function Ket(){var r=Het,t=1,e=1,n=!1;function i(a){var o,s=0;a.eachAfter(function(d){var h=d.children;h?(d.x=Vet(h),d.y=jet(h)):(d.x=o?s+=r(d,o):0,d.y=0,o=d)});var l=Xet(a),u=qet(a),c=l.x-r(l,u)/2,f=u.x+r(u,l)/2;return a.eachAfter(n?function(d){d.x=(d.x-a.x)*t,d.y=(a.y-d.y)*e}:function(d){d.x=(d.x-c)/(f-c)*t,d.y=(1-(a.y?d.y/a.y:1))*e})}return i.separation=function(a){return arguments.length?(r=a,i):r},i.size=function(a){return arguments.length?(n=!1,t=+a[0],e=+a[1],i):n?null:[t,e]},i.nodeSize=function(a){return arguments.length?(n=!0,t=+a[0],e=+a[1],i):n?[t,e]:null},i}function Zet(r){var t=0,e=r.children,n=e&&e.length;if(!n)t=1;else for(;--n>=0;)t+=e[n].value;r.value=t}function Qet(){return this.eachAfter(Zet)}function Jet(r,t){let e=-1;for(const n of this)r.call(t,n,++e,this);return this}function ett(r,t){for(var e=this,n=[e],i,a,o=-1;e=n.pop();)if(r.call(t,e,++o,this),i=e.children)for(a=i.length-1;a>=0;--a)n.push(i[a]);return this}function ttt(r,t){for(var e=this,n=[e],i=[],a,o,s,l=-1;e=n.pop();)if(i.push(e),a=e.children)for(o=0,s=a.length;o<s;++o)n.push(a[o]);for(;e=i.pop();)r.call(t,e,++l,this);return this}function rtt(r,t){let e=-1;for(const n of this)if(r.call(t,n,++e,this))return n}function ntt(r){return this.eachAfter(function(t){for(var e=+r(t.data)||0,n=t.children,i=n&&n.length;--i>=0;)e+=n[i].value;t.value=e})}function itt(r){return this.eachBefore(function(t){t.children&&t.children.sort(r)})}function att(r){for(var t=this,e=ott(t,r),n=[t];t!==e;)t=t.parent,n.push(t);for(var i=n.length;r!==e;)n.splice(i,0,r),r=r.parent;return n}function ott(r,t){if(r===t)return r;var e=r.ancestors(),n=t.ancestors(),i=null;for(r=e.pop(),t=n.pop();r===t;)i=r,r=e.pop(),t=n.pop();return i}function stt(){for(var r=this,t=[r];r=r.parent;)t.push(r);return t}function ltt(){return Array.from(this)}function utt(){var r=[];return this.eachBefore(function(t){t.children||r.push(t)}),r}function ctt(){var r=this,t=[];return r.each(function(e){e!==r&&t.push({source:e.parent,target:e})}),t}function*ftt(){var r=this,t,e=[r],n,i,a;do for(t=e.reverse(),e=[];r=t.pop();)if(yield r,n=r.children)for(i=0,a=n.length;i<a;++i)e.push(n[i]);while(e.length)}function sb(r,t){r instanceof Map?(r=[void 0,r],t===void 0&&(t=vtt)):t===void 0&&(t=htt);for(var e=new R0(r),n,i=[e],a,o,s,l;n=i.pop();)if((o=t(n.data))&&(l=(o=Array.from(o)).length))for(n.children=o,s=l-1;s>=0;--s)i.push(a=o[s]=new R0(o[s])),a.parent=n,a.depth=n.depth+1;return e.eachBefore(xie)}function dtt(){return sb(this).eachBefore(ptt)}function htt(r){return r.children}function vtt(r){return Array.isArray(r)?r[1]:null}function ptt(r){r.data.value!==void 0&&(r.value=r.data.value),r.data=r.data.data}function xie(r){var t=0;do r.height=t;while((r=r.parent)&&r.height<++t)}function R0(r){this.data=r,this.depth=this.height=0,this.parent=null}R0.prototype=sb.prototype={constructor:R0,count:Qet,each:Jet,eachAfter:ttt,eachBefore:ett,find:rtt,sum:ntt,sort:itt,path:att,ancestors:stt,descendants:ltt,leaves:utt,links:ctt,copy:dtt,[Symbol.iterator]:ftt};function gtt(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function mtt(r){for(var t=r.length,e,n;t;)n=Math.random()*t--|0,e=r[t],r[t]=r[n],r[n]=e;return r}function wie(r){for(var t=0,e=(r=mtt(Array.from(r))).length,n=[],i,a;t<e;)i=r[t],a&&Sie(a,i)?++t:(a=btt(n=ytt(n,i)),t=0);return a}function ytt(r,t){var e,n;if(KP(t,r))return[t];for(e=0;e<r.length;++e)if(_2(t,r[e])&&KP(g1(r[e],t),r))return[r[e],t];for(e=0;e<r.length-1;++e)for(n=e+1;n<r.length;++n)if(_2(g1(r[e],r[n]),t)&&_2(g1(r[e],t),r[n])&&_2(g1(r[n],t),r[e])&&KP(Cie(r[e],r[n],t),r))return[r[e],r[n],t];throw new Error}function _2(r,t){var e=r.r-t.r,n=t.x-r.x,i=t.y-r.y;return e<0||e*e<n*n+i*i}function Sie(r,t){var e=r.r-t.r+Math.max(r.r,t.r,1)*1e-9,n=t.x-r.x,i=t.y-r.y;return e>0&&e*e>n*n+i*i}function KP(r,t){for(var e=0;e<t.length;++e)if(!Sie(r,t[e]))return!1;return!0}function btt(r){switch(r.length){case 1:return xtt(r[0]);case 2:return g1(r[0],r[1]);case 3:return Cie(r[0],r[1],r[2])}}function xtt(r){return{x:r.x,y:r.y,r:r.r}}function g1(r,t){var e=r.x,n=r.y,i=r.r,a=t.x,o=t.y,s=t.r,l=a-e,u=o-n,c=s-i,f=Math.sqrt(l*l+u*u);return{x:(e+a+l/f*c)/2,y:(n+o+u/f*c)/2,r:(f+i+s)/2}}function Cie(r,t,e){var n=r.x,i=r.y,a=r.r,o=t.x,s=t.y,l=t.r,u=e.x,c=e.y,f=e.r,d=n-o,h=n-u,v=i-s,p=i-c,g=l-a,m=f-a,y=n*n+i*i-a*a,b=y-o*o-s*s+l*l,w=y-u*u-c*c+f*f,S=h*v-d*p,E=(v*w-p*b)/(S*2)-n,_=(p*g-v*m)/S,A=(h*b-d*w)/(S*2)-i,k=(d*m-h*g)/S,T=_*_+k*k-1,I=2*(a+E*_+A*k),D=E*E+A*A-a*a,O=-(T?(I+Math.sqrt(I*I-4*T*D))/(2*T):D/I);return{x:n+E+_*O,y:i+A+k*O,r:O}}function R7(r,t,e){var n=r.x-t.x,i,a,o=r.y-t.y,s,l,u=n*n+o*o;u?(a=t.r+e.r,a*=a,l=r.r+e.r,l*=l,a>l?(i=(u+l-a)/(2*u),s=Math.sqrt(Math.max(0,l/u-i*i)),e.x=r.x-i*n-s*o,e.y=r.y-i*o+s*n):(i=(u+a-l)/(2*u),s=Math.sqrt(Math.max(0,a/u-i*i)),e.x=t.x+i*n-s*o,e.y=t.y+i*o+s*n)):(e.x=t.x+e.r,e.y=t.y)}function D7(r,t){var e=r.r+t.r-1e-6,n=t.x-r.x,i=t.y-r.y;return e>0&&e*e>n*n+i*i}function O7(r){var t=r._,e=r.next._,n=t.r+e.r,i=(t.x*e.r+e.x*t.r)/n,a=(t.y*e.r+e.y*t.r)/n;return i*i+a*a}function T2(r){this._=r,this.next=null,this.previous=null}function Eie(r){if(!(i=(r=gtt(r)).length))return 0;var t,e,n,i,a,o,s,l,u,c,f;if(t=r[0],t.x=0,t.y=0,!(i>1))return t.r;if(e=r[1],t.x=-e.r,e.x=t.r,e.y=0,!(i>2))return t.r+e.r;R7(e,t,n=r[2]),t=new T2(t),e=new T2(e),n=new T2(n),t.next=n.previous=e,e.next=t.previous=n,n.next=e.previous=t;e:for(s=3;s<i;++s){R7(t._,e._,n=r[s]),n=new T2(n),l=e.next,u=t.previous,c=e._.r,f=t._.r;do if(c<=f){if(D7(l._,n._)){e=l,t.next=e,e.previous=t,--s;continue e}c+=l._.r,l=l.next}else{if(D7(u._,n._)){t=u,t.next=e,e.previous=t,--s;continue e}f+=u._.r,u=u.previous}while(l!==u.next);for(n.previous=t,n.next=e,t.next=e.previous=e=n,a=O7(t);(n=n.next)!==e;)(o=O7(n))<a&&(t=n,a=o);e=t.next}for(t=[e._],n=e;(n=n.next)!==e;)t.push(n._);for(n=wie(t),s=0;s<i;++s)t=r[s],t.x-=n.x,t.y-=n.y;return n.r}function wtt(r){return Eie(r),r}function Stt(r){return r==null?null:_T(r)}function _T(r){if(typeof r!="function")throw new Error;return r}function Hp(){return 0}function Ry(r){return function(){return r}}function Ctt(r){return Math.sqrt(r.value)}function _ie(){var r=null,t=1,e=1,n=Hp;function i(a){return a.x=t/2,a.y=e/2,r?a.eachBefore(L7(r)).eachAfter(ZP(n,.5)).eachBefore(F7(1)):a.eachBefore(L7(Ctt)).eachAfter(ZP(Hp,1)).eachAfter(ZP(n,a.r/Math.min(t,e))).eachBefore(F7(Math.min(t,e)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(r=Stt(a),i):r},i.size=function(a){return arguments.length?(t=+a[0],e=+a[1],i):[t,e]},i.padding=function(a){return arguments.length?(n=typeof a=="function"?a:Ry(+a),i):n},i}function L7(r){return function(t){t.children||(t.r=Math.max(0,+r(t)||0))}}function ZP(r,t){return function(e){if(n=e.children){var n,i,a=n.length,o=r(e)*t||0,s;if(o)for(i=0;i<a;++i)n[i].r+=o;if(s=Eie(n),o)for(i=0;i<a;++i)n[i].r-=o;e.r=s+o}}}function F7(r){return function(t){var e=t.parent;t.r*=r,e&&(t.x=e.x+r*t.x,t.y=e.y+r*t.y)}}function Tie(r){r.x0=Math.round(r.x0),r.y0=Math.round(r.y0),r.x1=Math.round(r.x1),r.y1=Math.round(r.y1)}function IS(r,t,e,n,i){for(var a=r.children,o,s=-1,l=a.length,u=r.value&&(n-t)/r.value;++s<l;)o=a[s],o.y0=e,o.y1=i,o.x0=t,o.x1=t+=o.value*u}function Aie(){var r=1,t=1,e=0,n=!1;function i(o){var s=o.height+1;return o.x0=o.y0=e,o.x1=r,o.y1=t/s,o.eachBefore(a(t,s)),n&&o.eachBefore(Tie),o}function a(o,s){return function(l){l.children&&IS(l,l.x0,o*(l.depth+1)/s,l.x1,o*(l.depth+2)/s);var u=l.x0,c=l.y0,f=l.x1-e,d=l.y1-e;f<u&&(u=f=(u+f)/2),d<c&&(c=d=(c+d)/2),l.x0=u,l.y0=c,l.x1=f,l.y1=d}}return i.round=function(o){return arguments.length?(n=!!o,i):n},i.size=function(o){return arguments.length?(r=+o[0],t=+o[1],i):[r,t]},i.padding=function(o){return arguments.length?(e=+o,i):e},i}var Ett={depth:-1},N7={};function _tt(r){return r.id}function Ttt(r){return r.parentId}function Att(){var r=_tt,t=Ttt;function e(n){var i=Array.from(n),a=i.length,o,s,l,u,c,f,d,h=new Map;for(s=0;s<a;++s)o=i[s],c=i[s]=new R0(o),(f=r(o,s,n))!=null&&(f+="")&&(d=c.id=f,h.set(d,h.has(d)?N7:c)),(f=t(o,s,n))!=null&&(f+="")&&(c.parent=f);for(s=0;s<a;++s)if(c=i[s],f=c.parent){if(u=h.get(f),!u)throw new Error("missing: "+f);if(u===N7)throw new Error("ambiguous: "+f);u.children?u.children.push(c):u.children=[c],c.parent=u}else{if(l)throw new Error("multiple roots");l=c}if(!l)throw new Error("no root");if(l.parent=Ett,l.eachBefore(function(v){v.depth=v.parent.depth+1,--a}).eachBefore(xie),l.parent=null,a>0)throw new Error("cycle");return l}return e.id=function(n){return arguments.length?(r=_T(n),e):r},e.parentId=function(n){return arguments.length?(t=_T(n),e):t},e}function ktt(r,t){return r.parent===t.parent?1:2}function QP(r){var t=r.children;return t?t[0]:r.t}function JP(r){var t=r.children;return t?t[t.length-1]:r.t}function Mtt(r,t,e){var n=e/(t.i-r.i);t.c-=n,t.s+=e,r.c+=n,t.z+=e,t.m+=e}function Itt(r){for(var t=0,e=0,n=r.children,i=n.length,a;--i>=0;)a=n[i],a.z+=t,a.m+=t,t+=a.s+(e+=a.c)}function Ptt(r,t,e){return r.a.parent===t.parent?r.a:e}function i_(r,t){this._=r,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}i_.prototype=Object.create(R0.prototype);function Rtt(r){for(var t=new i_(r,0),e,n=[t],i,a,o,s;e=n.pop();)if(a=e._.children)for(e.children=new Array(s=a.length),o=s-1;o>=0;--o)n.push(i=e.children[o]=new i_(a[o],o)),i.parent=e;return(t.parent=new i_(null,0)).children=[t],t}function Dtt(){var r=ktt,t=1,e=1,n=null;function i(u){var c=Rtt(u);if(c.eachAfter(a),c.parent.m=-c.z,c.eachBefore(o),n)u.eachBefore(l);else{var f=u,d=u,h=u;u.eachBefore(function(y){y.x<f.x&&(f=y),y.x>d.x&&(d=y),y.depth>h.depth&&(h=y)});var v=f===d?1:r(f,d)/2,p=v-f.x,g=t/(d.x+v+p),m=e/(h.depth||1);u.eachBefore(function(y){y.x=(y.x+p)*g,y.y=y.depth*m})}return u}function a(u){var c=u.children,f=u.parent.children,d=u.i?f[u.i-1]:null;if(c){Itt(u);var h=(c[0].z+c[c.length-1].z)/2;d?(u.z=d.z+r(u._,d._),u.m=u.z-h):u.z=h}else d&&(u.z=d.z+r(u._,d._));u.parent.A=s(u,d,u.parent.A||f[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,c,f){if(c){for(var d=u,h=u,v=c,p=d.parent.children[0],g=d.m,m=h.m,y=v.m,b=p.m,w;v=JP(v),d=QP(d),v&&d;)p=QP(p),h=JP(h),h.a=u,w=v.z+y-d.z-g+r(v._,d._),w>0&&(Mtt(Ptt(v,u,f),u,w),g+=w,m+=w),y+=v.m,g+=d.m,b+=p.m,m+=h.m;v&&!JP(h)&&(h.t=v,h.m+=y-m),d&&!QP(p)&&(p.t=d,p.m+=g-b,f=u)}return f}function l(u){u.x*=t,u.y=u.depth*e}return i.separation=function(u){return arguments.length?(r=u,i):r},i.size=function(u){return arguments.length?(n=!1,t=+u[0],e=+u[1],i):n?null:[t,e]},i.nodeSize=function(u){return arguments.length?(n=!0,t=+u[0],e=+u[1],i):n?[t,e]:null},i}function bk(r,t,e,n,i){for(var a=r.children,o,s=-1,l=a.length,u=r.value&&(i-e)/r.value;++s<l;)o=a[s],o.x0=t,o.x1=n,o.y0=e,o.y1=e+=o.value*u}var kie=(1+Math.sqrt(5))/2;function Mie(r,t,e,n,i,a){for(var o=[],s=t.children,l,u,c=0,f=0,d=s.length,h,v,p=t.value,g,m,y,b,w,S,E;c<d;){h=i-e,v=a-n;do g=s[f++].value;while(!g&&f<d);for(m=y=g,S=Math.max(v/h,h/v)/(p*r),E=g*g*S,w=Math.max(y/E,E/m);f<d;++f){if(g+=u=s[f].value,u<m&&(m=u),u>y&&(y=u),E=g*g*S,b=Math.max(y/E,E/m),b>w){g-=u;break}w=b}o.push(l={value:g,dice:h<v,children:s.slice(c,f)}),l.dice?IS(l,e,n,i,p?n+=v*g/p:a):bk(l,e,n,p?e+=h*g/p:i,a),p-=g,c=f}return o}var Iie=function r(t){function e(n,i,a,o,s){Mie(t,n,i,a,o,s)}return e.ratio=function(n){return r((n=+n)>1?n:1)},e}(kie);function Pie(){var r=Iie,t=!1,e=1,n=1,i=[0],a=Hp,o=Hp,s=Hp,l=Hp,u=Hp;function c(d){return d.x0=d.y0=0,d.x1=e,d.y1=n,d.eachBefore(f),i=[0],t&&d.eachBefore(Tie),d}function f(d){var h=i[d.depth],v=d.x0+h,p=d.y0+h,g=d.x1-h,m=d.y1-h;g<v&&(v=g=(v+g)/2),m<p&&(p=m=(p+m)/2),d.x0=v,d.y0=p,d.x1=g,d.y1=m,d.children&&(h=i[d.depth+1]=a(d)/2,v+=u(d)-h,p+=o(d)-h,g-=s(d)-h,m-=l(d)-h,g<v&&(v=g=(v+g)/2),m<p&&(p=m=(p+m)/2),r(d,v,p,g,m))}return c.round=function(d){return arguments.length?(t=!!d,c):t},c.size=function(d){return arguments.length?(e=+d[0],n=+d[1],c):[e,n]},c.tile=function(d){return arguments.length?(r=_T(d),c):r},c.padding=function(d){return arguments.length?c.paddingInner(d).paddingOuter(d):c.paddingInner()},c.paddingInner=function(d){return arguments.length?(a=typeof d=="function"?d:Ry(+d),c):a},c.paddingOuter=function(d){return arguments.length?c.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):c.paddingTop()},c.paddingTop=function(d){return arguments.length?(o=typeof d=="function"?d:Ry(+d),c):o},c.paddingRight=function(d){return arguments.length?(s=typeof d=="function"?d:Ry(+d),c):s},c.paddingBottom=function(d){return arguments.length?(l=typeof d=="function"?d:Ry(+d),c):l},c.paddingLeft=function(d){return arguments.length?(u=typeof d=="function"?d:Ry(+d),c):u},c}function Ott(r,t,e,n,i){var a=r.children,o,s=a.length,l,u=new Array(s+1);for(u[0]=l=o=0;o<s;++o)u[o+1]=l+=a[o].value;c(0,s,r.value,t,e,n,i);function c(f,d,h,v,p,g,m){if(f>=d-1){var y=a[f];y.x0=v,y.y0=p,y.x1=g,y.y1=m;return}for(var b=u[f],w=h/2+b,S=f+1,E=d-1;S<E;){var _=S+E>>>1;u[_]<w?S=_+1:E=_}w-u[S-1]<u[S]-w&&f+1<S&&--S;var A=u[S]-b,k=h-A;if(g-v>m-p){var T=h?(v*k+g*A)/h:g;c(f,S,A,v,p,T,m),c(S,d,k,T,p,g,m)}else{var I=h?(p*k+m*A)/h:m;c(f,S,A,v,p,g,I),c(S,d,k,v,I,g,m)}}}function Ltt(r,t,e,n,i){(r.depth&1?bk:IS)(r,t,e,n,i)}var Ftt=function r(t){function e(n,i,a,o,s){if((l=n._squarify)&&l.ratio===t)for(var l,u,c,f,d=-1,h,v=l.length,p=n.value;++d<v;){for(u=l[d],c=u.children,f=u.value=0,h=c.length;f<h;++f)u.value+=c[f].value;u.dice?IS(u,i,a,o,p?a+=(s-a)*u.value/p:s):bk(u,i,a,p?i+=(o-i)*u.value/p:o,s),p-=u.value}else n._squarify=l=Mie(t,n,i,a,o,s),l.ratio=t}return e.ratio=function(n){return r((n=+n)>1?n:1)},e}(kie),B7=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",cluster:Ket,hierarchy:sb,pack:_ie,packSiblings:wtt,packEnclose:wie,partition:Aie,stratify:Att,tree:Dtt,treemap:Pie,treemapBinary:Ott,treemapDice:IS,treemapSlice:bk,treemapSliceDice:Ltt,treemapSquarify:Iie,treemapResquarify:Ftt}),Ntt={field:"value",size:[1,1],round:!1,padding:0,sort:function(r,t){return t.value-r.value},as:["x","y"],ignoreParentValue:!0};function Btt(r,t){t=cr({},Ntt,t);var e=t.as;if(!gt(e)||e.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var n;try{n=UB(t)}catch(l){console.warn(l)}var i=function(l){return Aie().size(t.size).round(t.round).padding(t.padding)(sb(l).sum(function(u){return Qa(u.children)?t.ignoreParentValue?0:u[n]-us(u.children,function(c,f){return c+f[n]},0):u[n]}).sort(t.sort))},a=i(r),o=e[0],s=e[1];return a.each(function(l){var u,c;l[o]=[l.x0,l.x1,l.x1,l.x0],l[s]=[l.y1,l.y1,l.y0,l.y0],l.name=l.name||((u=l.data)===null||u===void 0?void 0:u.name)||((c=l.data)===null||c===void 0?void 0:c.label),l.data.name=l.name,["x0","x1","y0","y1"].forEach(function(f){e.indexOf(f)===-1&&delete l[f]})}),HB(a)}var ztt={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(r,t){return t.value-r.value},ratio:.5*(1+Math.sqrt(5))};function $tt(r,t){return r==="treemapSquarify"?B7[r].ratio(t):B7[r]}function Rie(r,t){t=cr({},ztt,t);var e=t.as;if(!gt(e)||e.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var n;try{n=UB(t)}catch(u){console.warn(u)}var i=$tt(t.tile,t.ratio),a=function(u){return Pie().tile(i).size(t.size).round(t.round).padding(t.padding).paddingInner(t.paddingInner).paddingOuter(t.paddingOuter).paddingTop(t.paddingTop).paddingRight(t.paddingRight).paddingBottom(t.paddingBottom).paddingLeft(t.paddingLeft)(sb(u).sum(function(c){return t.ignoreParentValue&&c.children?0:c[n]}).sort(t.sort))},o=a(r),s=e[0],l=e[1];return o.each(function(u){u[s]=[u.x0,u.x1,u.x1,u.x0],u[l]=[u.y1,u.y1,u.y0,u.y0],["x0","x1","y0","y1"].forEach(function(c){e.indexOf(c)===-1&&delete u[c]})}),HB(o)}function Die(r){var t=r.data,e=r.colorField,n=r.rawFields,i=r.hierarchyConfig,a=i===void 0?{}:i,o=a.activeDepth,s={partition:Btt,treemap:Rie},l=r.seriesField,u=r.type||"partition",c=s[u](t,P(P({field:l||"value"},oS(a,["activeDepth"])),{type:"hierarchy."+u,as:["x","y"]})),f=[];return c.forEach(function(d){var h,v,p,g,m,y;if(d.depth===0||o>0&&d.depth>o)return null;for(var b=d.data.name,w=P({},d);w.depth>1;)b=((v=w.parent.data)===null||v===void 0?void 0:v.name)+" / "+b,w=w.parent;var S=P(P(P({},hi(d.data,ki(n||[],[a.field]))),(h={},h[Hw]=b,h[VB]=w.data.name,h)),d);l&&(S[l]=d.data[l]||((g=(p=d.parent)===null||p===void 0?void 0:p.data)===null||g===void 0?void 0:g[l])),e&&(S[e]=d.data[e]||((y=(m=d.parent)===null||m===void 0?void 0:m.data)===null||y===void 0?void 0:y[e])),S.ext=a,S[Vw]={hierarchyConfig:a,colorField:e,rawFields:n},f.push(S)}),f}function Gtt(r){var t=r.chart,e=r.options,n=e.color,i=e.colorField,a=i===void 0?VB:i,o=e.sunburstStyle,s=e.rawFields,l=s===void 0?[]:s,u=Die(e);t.data(u);var c;return o&&(c=function(f){return pt({},{fillOpacity:Math.pow(.85,f.depth)},yr(o)?o(f):o)}),vk(pt({},r,{options:{xField:"x",yField:"y",seriesField:a,rawFields:nf(ki(Bet,l)),polygon:{color:n,style:c}}})),r}function Utt(r){var t=r.chart;return t.axis(!1),r}function Htt(r){var t=r.chart,e=r.options,n=e.label,i=cs(t,"polygon");if(!n)i.label(!1);else{var a=n.fields,o=a===void 0?["name"]:a,s=n.callback,l=xn(n,["fields","callback"]);i.label({fields:o,callback:s,cfg:_o(l)})}return r}function Vtt(r){var t=r.chart,e=r.options,n=e.innerRadius,i=e.radius,a=e.reflect,o=t.coordinate({type:"polar",cfg:{innerRadius:n,radius:i}});return a&&o.reflect(a),r}function Wtt(r){var t,e=r.options,n=e.hierarchyConfig,i=e.meta;return jr(Sa({},(t={},t[bie]=me(i,me(n,["field"],"value")),t)))(r)}function jtt(r){var t=r.chart,e=r.options,n=e.tooltip;if(n===!1)t.tooltip(!1);else{var i=n;me(n,"fields")||(i=pt({},{customItems:function(a){return a.map(function(o){var s=me(t.getOptions(),"scales"),l=me(s,[Hw,"formatter"],function(c){return c}),u=me(s,[bie,"formatter"],function(c){return c});return P(P({},o),{name:l(o.data[Hw]),value:u(o.data.value)})})}},i)),t.tooltip(i)}return r}function Ytt(r){var t=r.drilldown,e=r.interactions,n=e===void 0?[]:e;return(t==null?void 0:t.enabled)?pt({},r,{interactions:ki(n,[{type:"drill-down",cfg:{drillDownConfig:t,transformData:Die}}])}):r}function Xtt(r){var t=r.chart,e=r.options,n=e.drilldown;return Vi({chart:t,options:Ytt(e)}),(n==null?void 0:n.enabled)&&(t.appendPadding=uk(t.appendPadding,me(n,["breadCrumb","position"]))),r}function qtt(r){return jr(ti,Vl("sunburstStyle"),Gtt,Utt,Wtt,nb,Vtt,jtt,Htt,Xtt,yi,Ca())(r)}function z7(r){var t=me(r,["event","data","data"],{});return gt(t.children)&&t.children.length>0}function $7(r){var t=r.view.getCoordinate(),e=t.innerRadius;if(e){var n=r.event,i=n.x,a=n.y,o=t.center,s=o.x,l=o.y,u=t.getRadius()*e,c=Math.sqrt(Math.pow(s-i,2)+Math.pow(l-a,2));return c<u}return!1}Gr("drill-down-action",Uet);cn("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:z7},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:$7}],start:[{trigger:"element:click",isEnable:z7,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:$7,action:["drill-down-action:back"]}]});(function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="sunburst",e}return t.getDefaultOptions=function(){return zet},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return qtt},t.SUNBURST_ANCESTOR_FIELD=VB,t.SUNBURST_PATH_FIELD=Hw,t.NODE_ANCESTORS_FIELD=GB,t})(on);var A2,TT="range",Oie="type",ov="percent",Ktt="#f0f0f0",Lie="indicator-view",Fie="range-view",Ztt={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(A2={},A2[TT]={sync:"v"},A2[ov]={sync:"v",tickCount:5,tickInterval:.2},A2),animation:!1};function Qtt(r,t){return r.map(function(e,n){var i;return i={},i[TT]=e-(r[n-1]||0),i[Oie]=""+n,i[ov]=t,i}).filter(function(e){return!!e[TT]})}function Nie(r){var t;return[(t={},t[ov]=Bi(r,0,1),t)]}function Bie(r,t){var e=me(t,["ticks"],[]),n=Qa(e)?e:[0,Bi(r,0,1),1];return Qtt(n,r)}function Jtt(r){var t=r.chart,e=r.options,n=e.percent,i=e.range,a=e.radius,o=e.innerRadius,s=e.startAngle,l=e.endAngle,u=e.axis,c=e.indicator,f=e.gaugeStyle,d=e.type,h=e.meter,v=i.color,p=i.width;if(c){var g=Nie(n),m=t.createView({id:Lie});m.data(g),m.point().position(ov+"*1").shape(c.shape||"gauge-indicator").customInfo({defaultColor:t.getTheme().defaultColor,indicator:c}),m.coordinate("polar",{startAngle:s,endAngle:l,radius:o*a}),m.axis(ov,u),m.scale(ov,hi(u,sl))}var y=Bie(n,e.range),b=t.createView({id:Fie});b.data(y);var w=wt(v)?[v,Ktt]:v,S=fs({chart:b,options:{xField:"1",yField:TT,seriesField:Oie,rawFields:[ov],isStack:!0,interval:{color:w,style:f,shape:d==="meter"?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:p,maxColumnWidth:p}}).ext,E=S.geometry;return E.customInfo({meter:h}),b.coordinate("polar",{innerRadius:o,radius:a,startAngle:s,endAngle:l}).transpose(),r}function ert(r){var t;return jr(Sa((t={range:{min:0,max:1,maxLimit:1,minLimit:0}},t[ov]={},t)))(r)}function zie(r,t){var e=r.chart,n=r.options,i=n.statistic,a=n.percent;if(e.getController("annotation").clear(!0),i){var o=i.content,s=void 0;o&&(s=pt({},{content:(a*100).toFixed(2)+"%",style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},o)),VXe(e,{statistic:P(P({},i),{content:s})},{percent:a})}return t&&e.render(!0),r}function trt(r){var t=r.chart;return t.legend(!1),t.tooltip(!1),r}function $ie(r){return jr(ti,yi,Jtt,ert,zie,Vi,Ca(),trt)(r)}ai("point","gauge-indicator",{draw:function(r,t){var e=r.customInfo,n=e.indicator,i=e.defaultColor,a=n,o=a.pointer,s=a.pin,l=t.addGroup(),u=this.parsePoint({x:0,y:0});return o&&l.addShape("line",{name:"pointer",attrs:P({x1:u.x,y1:u.y,x2:r.x,y2:r.y,stroke:i},o.style)}),s&&l.addShape("circle",{name:"pin",attrs:P({x:u.x,y:u.y,stroke:i},s.style)}),l}});ai("interval","meter-gauge",{draw:function(r,t){var e=r.customInfo.meter,n=e===void 0?{}:e,i=n.steps,a=i===void 0?50:i,o=n.stepRatio,s=o===void 0?.5:o;a=a<1?1:a,s=Bi(s,0,1);var l=this.coordinate,u=l.startAngle,c=l.endAngle,f=0;if(s>0&&s<1){var d=c-u;f=d/a/(s/(1-s)+1-1/a)}for(var h=f/(1-s)*s,v=t.addGroup(),p=this.coordinate.getCenter(),g=this.coordinate.getRadius(),m=dl.getAngle(r,this.coordinate),y=m.startAngle,b=m.endAngle,w=y;w<b;){var S=void 0,E=(w-u)%(h+f);E<h?S=w+(h-E):(w+=h+f-E,S=w+h);var _=dl.getSectorPath(p.x,p.y,g,w,Math.min(S,b),g*this.coordinate.innerRadius);v.addShape("path",{name:"meter-gauge",attrs:{path:_,fill:r.color,stroke:r.color,lineWidth:.5}}),w=S+f}return v}});var rrt=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="gauge",e}return t.getDefaultOptions=function(){return Ztt},t.prototype.changeData=function(e){this.chart.emit(bn.BEFORE_CHANGE_DATA,na.fromData(this.chart,bn.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:e});var n=this.chart.views.find(function(a){return a.id===Lie});n&&n.data(Nie(e));var i=this.chart.views.find(function(a){return a.id===Fie});i&&i.data(Bie(e,this.options.range)),zie({chart:this.chart,options:this.options},!0),this.chart.emit(bn.AFTER_CHANGE_DATA,na.fromData(this.chart,bn.AFTER_CHANGE_DATA,null))},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return $ie},t}(on),mu="$$yField$$",xk="$$diffField$$",WB="$$absoluteField$$",XO="$$isTotal$$",nrt={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function irt(r,t,e,n,i){var a,o=[];if(us(r,function(l,u){var c;Ld(rc.WARN,ir(u[e]),u[e]+" is not a valid number");var f=Jh(u[e])?null:u[e];return o.push(P(P({},u),(c={},c[n]=[l,l+f],c))),l+f},0),o.length&&i){var s=me(o,[[r.length-1],n,[1]]);o.push((a={},a[t]=i.label,a[e]=s,a[n]=[0,s],a))}return o}function Gie(r,t,e,n){var i=irt(r,t,e,mu,n);return i.map(function(a,o){var s;return Hn(a)?P(P({},a),(s={},s[WB]=a[mu][1],s[xk]=a[mu][1]-a[mu][0],s[XO]=o===r.length,s)):a})}function art(r){for(var t=[],e=0;e<r.length;e++){var n=r[e];if(n){var i=e===0?"M":"L";t.push([i,n.x,n.y])}}var a=r[0];return t.push(["L",a.x,a.y]),t.push(["z"]),t}function ort(r){return pt({},r.defaultStyle,r.style,{fill:r.color})}ai("interval","waterfall",{draw:function(r,t){var e=r.customInfo,n=r.points,i=r.nextPoints,a=t.addGroup(),o=this.parsePath(art(n)),s=ort(r);a.addShape("path",{attrs:P(P({},s),{path:o})});var l=me(e,"leaderLine");if(l&&i){var u=[["M",n[2].x,n[2].y],["L",i[0].x,i[0].y]];n[2].y===i[1].y&&(u[1]=["L",i[1].x,i[1].y]),u=this.parsePath(u),a.addShape("path",{attrs:P({path:u},l.style||{})})}return a}});function srt(r){var t=r.options,e=t.locale,n=t.total,i=ck(e).get(["waterfall","total"]);return n&&typeof n.label!="string"&&i&&(r.options.total.label=i),r}function lrt(r){var t=r.chart,e=r.options,n=e.data,i=e.xField,a=e.yField,o=e.total,s=e.leaderLine,l=e.columnWidthRatio,u=e.waterfallStyle,c=e.risingFill,f=e.fallingFill,d=e.color;t.data(Gie(n,i,a,o));var h=d||function(m){return me(m,[XO])?me(o,["style","fill"],""):me(m,[mu,1])-me(m,[mu,0])>0?c:f},v=pt({},r,{options:{xField:i,yField:mu,seriesField:i,rawFields:[a,xk,XO,mu],widthRatio:l,interval:{style:u,shape:"waterfall",color:h}}}),p=fs(v).ext,g=p.geometry;return g.customInfo({leaderLine:s}),r}function urt(r){var t,e,n=r.options,i=n.xAxis,a=n.yAxis,o=n.xField,s=n.yField,l=n.meta,u=pt({},{alias:s},me(l,s));return jr(Sa((t={},t[o]=i,t[s]=a,t[mu]=a,t),pt({},l,(e={},e[mu]=u,e[xk]=u,e[WB]=u,e))))(r)}function crt(r){var t=r.chart,e=r.options,n=e.xAxis,i=e.yAxis,a=e.xField,o=e.yField;return n===!1?t.axis(a,!1):t.axis(a,n),i===!1?(t.axis(o,!1),t.axis(mu,!1)):(t.axis(o,i),t.axis(mu,i)),r}function frt(r){var t=r.chart,e=r.options,n=e.legend,i=e.total,a=e.risingFill,o=e.fallingFill,s=e.locale,l=ck(s);if(n===!1)t.legend(!1);else{var u=[{name:l.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:a}}},{name:l.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:o}}}];i&&u.push({name:i.label||"",value:"total",marker:{symbol:"square",style:pt({},{r:5},me(i,"style"))}}),t.legend(pt({},{custom:!0,position:"top",items:u},n)),t.removeInteraction("legend-filter")}return r}function drt(r){var t=r.chart,e=r.options,n=e.label,i=e.labelMode,a=e.xField,o=cs(t,"interval");if(!n)o.label(!1);else{var s=n.callback,l=xn(n,["callback"]);o.label({fields:i==="absolute"?[WB,a]:[xk,a],callback:s,cfg:_o(l)})}return r}function hrt(r){var t=r.chart,e=r.options,n=e.tooltip,i=e.xField,a=e.yField;if(n!==!1){t.tooltip(P({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[a]},n));var o=t.geometries[0];(n==null?void 0:n.formatter)?o.tooltip(i+"*"+a,n.formatter):o.tooltip(a)}else t.tooltip(!1);return r}function vrt(r){return jr(srt,ti,lrt,urt,crt,frt,hrt,drt,Nv,Vi,yi,Ca())(r)}(function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="waterfall",e}return t.getDefaultOptions=function(){return nrt},t.prototype.changeData=function(e){var n=this.options,i=n.xField,a=n.yField,o=n.total;this.updateOption({data:e}),this.chart.changeData(Gie(e,i,a,o))},t.prototype.getSchemaAdaptor=function(){return vrt},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t})(on);function prt(r,t,e){var n=e.map(function(o){return o[t]}).filter(function(o){return o!==void 0}),i=n.length>0?Math.max.apply(Math,n):0,a=Math.abs(r)%360;return a?i*360/a:i}function grt(r,t,e){var n=[];return r.forEach(function(i){var a=n.find(function(o){return o[t]===i[t]});a?a[e]+=i[e]||null:n.push(P({},i))}),n}function mrt(r){var t=r.chart,e=r.options,n=e.barStyle,i=e.color,a=e.tooltip,o=e.colorField,s=e.type,l=e.xField,u=e.yField,c=e.data,f=M0(c,u);t.data(f);var d=pt({},r,{options:{tooltip:a,seriesField:o,interval:{style:n,color:i,shape:s==="line"?"line":"intervel"},minColumnWidth:e.minBarWidth,maxColumnWidth:e.maxBarWidth,columnBackground:e.barBackground}});return fs(d),s==="line"&&Wl({chart:t,options:{xField:l,yField:u,seriesField:o,point:{shape:"circle",color:i}}}),r}function Uie(r){var t,e=r.options,n=e.yField,i=e.xField,a=e.data,o=e.isStack,s=e.isGroup,l=e.colorField,u=e.maxAngle,c=o&&!s&&l?grt(a,i,n):a,f=M0(c,n);return jr(Sa((t={},t[n]={min:0,max:prt(u,n,f)},t)))(r)}function yrt(r){var t=r.chart,e=r.options,n=e.radius,i=e.innerRadius,a=e.startAngle,o=e.endAngle;return t.coordinate({type:"polar",cfg:{radius:n,innerRadius:i,startAngle:a,endAngle:o}}).transpose(),r}function brt(r){var t=r.chart,e=r.options,n=e.xField,i=e.xAxis;return t.axis(n,i),r}function xrt(r){var t=r.chart,e=r.options,n=e.label,i=e.yField,a=cs(t,"interval");if(!n)a.label(!1);else{var o=n.callback,s=xn(n,["callback"]);a.label({fields:[i],callback:o,cfg:P(P({},_o(s)),{type:"polar"})})}return r}function wrt(r){return jr(Vl("barStyle"),mrt,Uie,brt,yrt,Vi,yi,ti,co,nb,Ca(),xrt)(r)}var Srt=pt({},on.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240});(function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="radial-bar",e}return t.getDefaultOptions=function(){return Srt},t.prototype.changeData=function(e){this.updateOption({data:e}),Uie({chart:this.chart,options:this.options}),this.chart.changeData(e)},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return wrt},t})(on);var lf="first-axes-view",uf="second-axes-view",rg="series-field-key";function Hie(r,t,e,n,i){var a=[];t.forEach(function(f){n.forEach(function(d){var h,v=(h={},h[r]=d[r],h[e]=f,h[f]=d[f],h);a.push(v)})});var o=Object.values(xs(a,e)),s=o[0],l=s===void 0?[]:s,u=o[1],c=u===void 0?[]:u;return i?[l.reverse(),c.reverse()]:[l,c]}function Sd(r){return r!=="vertical"}function Crt(r,t,e){var n=t[0],i=t[1],a=n.autoPadding,o=i.autoPadding,s=r.__axisPosition,l=s.layout,u=s.position;if(Sd(l)&&u==="top"&&(n.autoPadding=e.instance(a.top,0,a.bottom,a.left),i.autoPadding=e.instance(o.top,a.left,o.bottom,0)),Sd(l)&&u==="bottom"&&(n.autoPadding=e.instance(a.top,a.right/2+5,a.bottom,a.left),i.autoPadding=e.instance(o.top,o.right,o.bottom,a.right/2+5)),!Sd(l)&&u==="bottom"){var c=a.left>=o.left?a.left:o.left;n.autoPadding=e.instance(a.top,a.right,a.bottom/2+5,c),i.autoPadding=e.instance(a.bottom/2+5,o.right,o.bottom,c)}if(!Sd(l)&&u==="top"){var c=a.left>=o.left?a.left:o.left;n.autoPadding=e.instance(a.top,a.right,0,c),i.autoPadding=e.instance(0,o.right,a.top,c)}}function Ert(r){var t=r.chart,e=r.options,n=e.data,i=e.xField,a=e.yField,o=e.color,s=e.barStyle,l=e.widthRatio,u=e.legend,c=e.layout,f=Hie(i,a,rg,n,Sd(c));u?t.legend(rg,u):u===!1&&t.legend(!1);var d,h,v=f[0],p=f[1];Sd(c)?(d=t.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:lf}),d.coordinate().transpose().reflect("x"),h=t.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:uf}),h.coordinate().transpose(),d.data(v),h.data(p)):(d=t.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:lf}),h=t.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:uf}),h.coordinate().reflect("y"),d.data(v),h.data(p));var g=pt({},r,{chart:d,options:{widthRatio:l,xField:i,yField:a[0],seriesField:rg,interval:{color:o,style:s}}});fs(g);var m=pt({},r,{chart:h,options:{xField:i,yField:a[1],seriesField:rg,widthRatio:l,interval:{color:o,style:s}}});return fs(m),r}function _rt(r){var t,e,n,i=r.options,a=r.chart,o=i.xAxis,s=i.yAxis,l=i.xField,u=i.yField,c=En(a,lf),f=En(a,uf),d={};return Yg((i==null?void 0:i.meta)||{}).map(function(h){me(i==null?void 0:i.meta,[h,"alias"])&&(d[h]=i.meta[h].alias)}),a.scale((t={},t[rg]={sync:!0,formatter:function(h){return me(d,h,h)}},t)),Sa((e={},e[l]=o,e[u[0]]=s[u[0]],e))(pt({},r,{chart:c})),Sa((n={},n[l]=o,n[u[1]]=s[u[1]],n))(pt({},r,{chart:f})),r}function Trt(r){var t=r.chart,e=r.options,n=e.xAxis,i=e.yAxis,a=e.xField,o=e.yField,s=e.layout,l=En(t,lf),u=En(t,uf);return(n==null?void 0:n.position)==="bottom"?u.axis(a,P(P({},n),{label:{formatter:function(){return""}}})):u.axis(a,!1),n===!1?l.axis(a,!1):l.axis(a,P({position:Sd(s)?"top":"bottom"},n)),i===!1?(l.axis(o[0],!1),u.axis(o[1],!1)):(l.axis(o[0],i[o[0]]),u.axis(o[1],i[o[1]])),t.__axisPosition={position:l.getOptions().axes[a].position,layout:s},r}function Art(r){var t=r.chart;return Vi(pt({},r,{chart:En(t,lf)})),Vi(pt({},r,{chart:En(t,uf)})),r}function krt(r){var t=r.chart,e=r.options,n=e.yField,i=e.yAxis;return Bg(pt({},r,{chart:En(t,lf),options:{yAxis:i[n[0]]}})),Bg(pt({},r,{chart:En(t,uf),options:{yAxis:i[n[1]]}})),r}function Mrt(r){var t=r.chart;return ti(pt({},r,{chart:En(t,lf)})),ti(pt({},r,{chart:En(t,uf)})),r}function Irt(r){var t=r.chart;return yi(pt({},r,{chart:En(t,lf)})),yi(pt({},r,{chart:En(t,uf)})),r}function Prt(r){var t=this,e,n,i=r.chart,a=r.options,o=a.label,s=a.yField,l=a.layout,u=En(i,lf),c=En(i,uf),f=cs(u,"interval"),d=cs(c,"interval");if(!o)f.label(!1),d.label(!1);else{var h=o.callback,v=xn(o,["callback"]);v.position||(v.position="middle"),v.offset===void 0&&(v.offset=2);var p=P({},v);if(Sd(l)){var g=((e=p.style)===null||e===void 0?void 0:e.textAlign)||(v.position==="middle"?"center":"left");v.style=pt({},v.style,{textAlign:g});var m={left:"right",right:"left",center:"center"};p.style=pt({},p.style,{textAlign:m[g]})}else{var y={top:"bottom",bottom:"top",middle:"middle"};typeof v.position=="string"?v.position=y[v.position]:typeof v.position=="function"&&(v.position=function(){for(var S=[],E=0;E<arguments.length;E++)S[E]=arguments[E];return y[v.position.apply(t,S)]});var b=((n=p.style)===null||n===void 0?void 0:n.textBaseline)||"bottom";p.style=pt({},p.style,{textBaseline:b});var w={top:"bottom",bottom:"top",middle:"middle"};v.style=pt({},v.style,{textBaseline:w[b]})}f.label({fields:[s[0]],callback:h,cfg:_o(p)}),d.label({fields:[s[1]],callback:h,cfg:_o(v)})}return r}function Rrt(r){return jr(Ert,_rt,Trt,krt,Mrt,Prt,co,Art,Irt)(r)}(function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="bidirectional-bar",e}return t.getDefaultOptions=function(){return pt({},r.getDefaultOptions.call(this),{syncViewPadding:Crt})},t.prototype.changeData=function(e){e===void 0&&(e=[]),this.chart.emit(bn.BEFORE_CHANGE_DATA,na.fromData(this.chart,bn.BEFORE_CHANGE_DATA,null)),this.updateOption({data:e});var n=this.options,i=n.xField,a=n.yField,o=n.layout,s=Hie(i,a,rg,e,Sd(o)),l=s[0],u=s[1],c=En(this.chart,lf),f=En(this.chart,uf);c.data(l),f.data(u),this.chart.render(!0),this.chart.emit(bn.AFTER_CHANGE_DATA,na.fromData(this.chart,bn.AFTER_CHANGE_DATA,null))},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Rrt},t.SERIES_FIELD_KEY=rg,t})(on);function Vie(r,t){if(!!gt(r))return r.find(function(e){return e.type===t})}function Wie(r,t){var e=Vie(r,t);return e&&e.enable!==!1}function jB(r){var t=r.interactions,e=r.drilldown;return me(e,"enabled")||Wie(t,"treemap-drill-down")}function Drt(r){var t=r.interactions["drill-down"];if(!!t){var e=t.context.actions.find(function(n){return n.name==="drill-down-action"});e.reset()}}function YB(r){var t=r.data,e=r.colorField,n=r.enableDrillDown,i=r.hierarchyConfig,a=Rie(t,P(P({},i),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),o=[];return a.forEach(function(s){if(s.depth===0||n&&s.depth!==1||!n&&s.children)return null;var l=s.ancestors().map(function(d){return{data:d.data,height:d.height,value:d.value}}),u=n&&gt(t.path)?l.concat(t.path.slice(1)):l,c=Object.assign({},s.data,P({x:s.x,y:s.y,depth:s.depth,value:s.value,path:u},s));if(!s.data[e]&&s.parent){var f=s.ancestors().find(function(d){return d.data[e]});c[e]=f==null?void 0:f.data[e]}else c[e]=s.data[e];c[Vw]={hierarchyConfig:i,colorField:e,enableDrillDown:n},o.push(c)}),o}function Ort(r){var t=r.options,e=t.colorField;return pt({options:{rawFields:["value"],tooltip:{fields:["name","value",e,"path"],formatter:function(n){return{name:n.name,value:n.value}}}}},r)}function Lrt(r){var t=r.chart,e=r.options,n=e.color,i=e.colorField,a=e.rectStyle,o=e.hierarchyConfig,s=e.rawFields,l=YB({data:e.data,colorField:e.colorField,enableDrillDown:jB(e),hierarchyConfig:o});return t.data(l),vk(pt({},r,{options:{xField:"x",yField:"y",seriesField:i,rawFields:s,polygon:{color:n,style:a}}})),t.coordinate().reflect("y"),r}function Frt(r){var t=r.chart;return t.axis(!1),r}function Nrt(r){var t=r.drilldown,e=r.interactions,n=e===void 0?[]:e,i=jB(r);return i?pt({},r,{interactions:ki(n,[{type:"drill-down",cfg:{drillDownConfig:t,transformData:YB}}])}):r}function Brt(r){var t=r.chart,e=r.options,n=e.interactions,i=e.drilldown;Vi({chart:t,options:Nrt(e)});var a=Vie(n,"view-zoom");a&&(a.enable!==!1?t.getCanvas().on("mousewheel",function(s){s.preventDefault()}):t.getCanvas().off("mousewheel"));var o=jB(e);return o&&(t.appendPadding=uk(t.appendPadding,me(i,["breadCrumb","position"]))),r}function zrt(r){return jr(Ort,ti,Vl("rectStyle"),Lrt,Frt,nb,co,Brt,yi,Ca())(r)}var $rt={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"\u521D\u59CB",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}};(function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="treemap",e}return t.getDefaultOptions=function(){return $rt},t.prototype.changeData=function(e){var n=this.options,i=n.colorField,a=n.interactions,o=n.hierarchyConfig;this.updateOption({data:e});var s=YB({data:e,colorField:i,enableDrillDown:Wie(a,"treemap-drill-down"),hierarchyConfig:o});this.chart.changeData(s),Drt(this.chart)},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return zrt},t})(on);function Grt(r){return r.target.depth}function Urt(r){return r.depth}function Hrt(r,t){return t-1-r.height}function XB(r,t){return r.sourceLinks.length?r.depth:t-1}function Vrt(r){return r.targetLinks.length?r.depth:r.sourceLinks.length?vK(r.sourceLinks,Grt)-1:0}function k2(r){return function(){return r}}function eR(r,t){for(var e=0,n=0;n<r.length;n++)e+=t(r[n]);return e}function tR(r,t){for(var e=-1/0,n=0;n<r.length;n++)e=Math.max(t(r[n]),e);return e}function Wrt(r,t){for(var e=1/0,n=0;n<r.length;n++)e=Math.min(t(r[n]),e);return e}function G7(r,t){return AT(r.source,t.source)||r.index-t.index}function U7(r,t){return AT(r.target,t.target)||r.index-t.index}function AT(r,t){return r.y0-t.y0}function rR(r){return r.value}function jrt(r){return r.index}function Yrt(r){return r.nodes}function Xrt(r){return r.links}function H7(r,t){var e=r.get(t);if(!e)throw new Error("missing: "+t);return e}function V7(r){for(var t=r.nodes,e=0,n=t;e<n.length;e++){for(var i=n[e],a=i.y0,o=a,s=0,l=i.sourceLinks;s<l.length;s++){var u=l[s];u.y0=a+u.width/2,a+=u.width}for(var c=0,f=i.targetLinks;c<f.length;c++){var u=f[c];u.y1=o+u.width/2,o+=u.width}}}function qrt(){var r=0,t=0,e=1,n=1,i=24,a=8,o,s=jrt,l=XB,u,c,f,d=Yrt,h=Xrt,v=6;function p(N){var G={nodes:d(N),links:h(N)};return g(G),m(G),y(G),b(G),E(G),V7(G),G}p.update=function(N){return V7(N),N},p.nodeId=function(N){return arguments.length?(s=typeof N=="function"?N:k2(N),p):s},p.nodeAlign=function(N){return arguments.length?(l=typeof N=="function"?N:k2(N),p):l},p.nodeDepth=function(N){return arguments.length?(u=N,p):u},p.nodeSort=function(N){return arguments.length?(c=N,p):c},p.nodeWidth=function(N){return arguments.length?(i=+N,p):i},p.nodePadding=function(N){return arguments.length?(a=o=+N,p):a},p.nodes=function(N){return arguments.length?(d=typeof N=="function"?N:k2(N),p):d},p.links=function(N){return arguments.length?(h=typeof N=="function"?N:k2(N),p):h},p.linkSort=function(N){return arguments.length?(f=N,p):f},p.size=function(N){return arguments.length?(r=t=0,e=+N[0],n=+N[1],p):[e-r,n-t]},p.extent=function(N){return arguments.length?(r=+N[0][0],e=+N[1][0],t=+N[0][1],n=+N[1][1],p):[[r,t],[e,n]]},p.iterations=function(N){return arguments.length?(v=+N,p):v};function g(N){var G=N.nodes,L=N.links;G.forEach(function(Q,be){Q.index=be,Q.sourceLinks=[],Q.targetLinks=[]});var F=new Map(G.map(function(Q){return[s(Q),Q]}));if(L.forEach(function(Q,be){Q.index=be;var fe=Q.source,he=Q.target;typeof fe!="object"&&(fe=Q.source=H7(F,fe)),typeof he!="object"&&(he=Q.target=H7(F,he)),fe.sourceLinks.push(Q),he.targetLinks.push(Q)}),f!=null)for(var W=0,H=G;W<H.length;W++){var K=H[W],ie=K.sourceLinks,ee=K.targetLinks;ie.sort(f),ee.sort(f)}}function m(N){for(var G=N.nodes,L=0,F=G;L<F.length;L++){var W=F[L];W.value=W.fixedValue===void 0?Math.max(eR(W.sourceLinks,rR),eR(W.targetLinks,rR)):W.fixedValue}}function y(N){for(var G=N.nodes,L=G.length,F=new Set(G),W=new Set,H=0;F.size;){if(F.forEach(function(Q){Q.depth=H;for(var be=0,fe=Q.sourceLinks;be<fe.length;be++){var he=fe[be].target;W.add(he)}}),++H>L)throw new Error("circular link");F=W,W=new Set}if(u)for(var K=Math.max(tR(G,function(Q){return Q.depth})+1,0),ie=void 0,ee=0;ee<G.length;ee++)ie=G[ee],ie.depth=u.call(null,ie,K)}function b(N){for(var G=N.nodes,L=G.length,F=new Set(G),W=new Set,H=0;F.size;){if(F.forEach(function(K){K.height=H;for(var ie=0,ee=K.targetLinks;ie<ee.length;ie++){var Q=ee[ie].source;W.add(Q)}}),++H>L)throw new Error("circular link");F=W,W=new Set}}function w(N){for(var G=N.nodes,L=Math.max(tR(G,function(he){return he.depth})+1,0),F=(e-r-i)/(L-1),W=new Array(L).fill(0).map(function(){return[]}),H=0,K=G;H<K.length;H++){var ie=K[H],ee=Math.max(0,Math.min(L-1,Math.floor(l.call(null,ie,L))));ie.layer=ee,ie.x0=r+ee*F,ie.x1=ie.x0+i,W[ee]?W[ee].push(ie):W[ee]=[ie]}if(c)for(var Q=0,be=W;Q<be.length;Q++){var fe=be[Q];fe.sort(c)}return W}function S(N){for(var G=Wrt(N,function(Ee){return(n-t-(Ee.length-1)*o)/eR(Ee,rR)}),L=0,F=N;L<F.length;L++){for(var W=F[L],H=t,K=0,ie=W;K<ie.length;K++){var ee=ie[K];ee.y0=H,ee.y1=H+ee.value*G,H=ee.y1+o;for(var Q=0,be=ee.sourceLinks;Q<be.length;Q++){var fe=be[Q];fe.width=fe.value*G}}H=(n-H+o)/(W.length+1);for(var he=0;he<W.length;++he){var ee=W[he];ee.y0+=H*(he+1),ee.y1+=H*(he+1)}O(W)}}function E(N){var G=w(N);o=Math.min(a,(n-t)/(tR(G,function(H){return H.length})-1)),S(G);for(var L=0;L<v;++L){var F=Math.pow(.99,L),W=Math.max(1-F,(L+1)/v);A(G,F,W),_(G,F,W)}}function _(N,G,L){for(var F=1,W=N.length;F<W;++F){for(var H=N[F],K=0,ie=H;K<ie.length;K++){for(var ee=ie[K],Q=0,be=0,fe=0,he=ee.targetLinks;fe<he.length;fe++){var Ee=he[fe],He=Ee.source,nt=Ee.value,st=nt*(ee.layer-He.layer);Q+=B(He,ee)*st,be+=st}if(be>0){var z=(Q/be-ee.y0)*G;ee.y0+=z,ee.y1+=z,D(ee)}}c===void 0&&H.sort(AT),H.length&&k(H,L)}}function A(N,G,L){for(var F=N.length,W=F-2;W>=0;--W){for(var H=N[W],K=0,ie=H;K<ie.length;K++){for(var ee=ie[K],Q=0,be=0,fe=0,he=ee.sourceLinks;fe<he.length;fe++){var Ee=he[fe],He=Ee.target,nt=Ee.value,st=nt*(He.layer-ee.layer);Q+=U(ee,He)*st,be+=st}if(be>0){var z=(Q/be-ee.y0)*G;ee.y0+=z,ee.y1+=z,D(ee)}}c===void 0&&H.sort(AT),H.length&&k(H,L)}}function k(N,G){var L=N.length>>1,F=N[L];I(N,F.y0-o,L-1,G),T(N,F.y1+o,L+1,G),I(N,n,N.length-1,G),T(N,t,0,G)}function T(N,G,L,F){for(;L<N.length;++L){var W=N[L],H=(G-W.y0)*F;H>1e-6&&(W.y0+=H,W.y1+=H),G=W.y1+o}}function I(N,G,L,F){for(;L>=0;--L){var W=N[L],H=(W.y1-G)*F;H>1e-6&&(W.y0-=H,W.y1-=H),G=W.y0-o}}function D(N){var G=N.sourceLinks,L=N.targetLinks;if(f===void 0){for(var F=0,W=L;F<W.length;F++){var H=W[F].source.sourceLinks;H.sort(U7)}for(var K=0,ie=G;K<ie.length;K++){var ee=ie[K].target.targetLinks;ee.sort(G7)}}}function O(N){if(f===void 0)for(var G=0,L=N;G<L.length;G++){var F=L[G],W=F.sourceLinks,H=F.targetLinks;W.sort(U7),H.sort(G7)}}function B(N,G){for(var L=N.y0-(N.sourceLinks.length-1)*o/2,F=0,W=N.sourceLinks;F<W.length;F++){var H=W[F],K=H.target,ie=H.width;if(K===G)break;L+=ie+o}for(var ee=0,Q=G.targetLinks;ee<Q.length;ee++){var be=Q[ee],K=be.source,ie=be.width;if(K===N)break;L-=ie}return L}function U(N,G){for(var L=G.y0-(G.targetLinks.length-1)*o/2,F=0,W=G.targetLinks;F<W.length;F++){var H=W[F],K=H.source,ie=H.width;if(K===N)break;L+=ie+o}for(var ee=0,Q=N.sourceLinks;ee<Q.length;ee++){var be=Q[ee],K=be.target,ie=be.width;if(K===G)break;L-=ie}return L}return p}var Krt={left:Urt,right:Hrt,center:Vrt,justify:XB},Zrt={nodeId:function(r){return r.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function Qrt(r){var t=wt(r)?Krt[r]:yr(r)?r:null;return t||XB}function Jrt(r){return cr({},Zrt,r)}function ent(r,t){var e=Jrt(r),n=e.nodeId,i=e.nodeSort,a=e.nodeAlign,o=e.nodeWidth,s=e.nodePadding,l=e.nodeDepth,u=qrt().nodeSort(i).nodeWidth(o).nodePadding(s).nodeDepth(l).nodeAlign(Qrt(a)).extent([[0,0],[1,1]]).nodeId(n),c=u(t);return c.nodes.forEach(function(f){var d=f.x0,h=f.x1,v=f.y0,p=f.y1;f.x=[d,h,h,d],f.y=[v,v,p,p]}),c.links.forEach(function(f){var d=f.source,h=f.target,v=d.x1,p=h.x0;f.x=[v,v,p,p];var g=f.width/2;f.y=[f.y0+g,f.y0-g,f.y1+g,f.y1-g]}),c}function tnt(r,t,e){var n=[];return r.forEach(function(i){var a=i[t],o=i[e];n.includes(a)||n.push(a),n.includes(o)||n.push(o)}),n}function rnt(r,t,e,n){var i={};return t.forEach(function(a){i[a]={},t.forEach(function(o){i[a][o]=0})}),r.forEach(function(a){i[a[e]][a[n]]=1}),i}function nnt(r,t,e){if(!gt(r))return[];var n=[],i=tnt(r,t,e),a=rnt(r,i,t,e),o={};i.forEach(function(l){o[l]=0});function s(l){o[l]=1,i.forEach(function(u){if(a[l][u]!=0)if(o[u]==1)n.push(l+"_"+u);else{if(o[u]==-1)return;s(u)}}),o[l]=-1}return i.forEach(function(l){o[l]!=-1&&s(l)}),n.length!==0&&console.warn("sankey data contains circle, "+n.length+" records removed.",n),r.filter(function(l){return n.findIndex(function(u){return u===l[t]+"_"+l[e]})<0})}function int(r){return r==="node-link"}function ant(r,t,e){return Ng(r)?r/e:t}function ont(r,t,e){return Ng(r)?r/e:t}function jie(r,t,e){var n=r.dataType,i=r.data,a=r.sourceField,o=r.targetField,s=r.weightField,l=r.nodeAlign,u=r.nodeSort,c=r.nodePadding,f=r.nodePaddingRatio,d=r.nodeWidth,h=r.nodeWidthRatio,v=r.nodeDepth,p=r.rawFields,g=p===void 0?[]:p,m;int(n)?m=i:m=sne(nnt(i,a,o),a,o,s,g);var y=ent({nodeAlign:l,nodePadding:ont(c,f,e),nodeWidth:ant(d,h,t),nodeSort:u,nodeDepth:v},m),b=y.nodes,w=y.links;return{nodes:b.map(function(S){return P(P({},hi(S,ki(["x","y","name"],g))),{isNode:!0})}),edges:w.map(function(S){return P(P({source:S.source.name,target:S.target.name,name:S.source.name||S.target.name},hi(S,ki(["x","y","value"],g))),{isNode:!1})})}}var W7="x",j7="y",Y7="name",wk="nodes",Sk="edges";function snt(r){var t=r.options,e=t.rawFields,n=e===void 0?[]:e;return pt({},{options:{tooltip:{fields:nf(ki(["name","source","target","value","isNode"],n))},label:{fields:nf(ki(["x","name"],n))}}},r)}function lnt(r){var t=r.chart,e=r.options,n=e.color,i=e.nodeStyle,a=e.edgeStyle,o=e.label,s=e.tooltip,l=e.nodeState,u=e.edgeState;t.legend(!1),t.tooltip(s),t.axis(!1),t.coordinate().reflect("y");var c=jie(e,t.width,t.height),f=c.nodes,d=c.edges,h=t.createView({id:Sk});h.data(d),hne({chart:h,options:{xField:W7,yField:j7,seriesField:Y7,edge:{color:n,style:a,shape:"arc"},tooltip:s,state:u}});var v=t.createView({id:wk});return v.data(f),vk({chart:v,options:{xField:W7,yField:j7,seriesField:Y7,polygon:{color:n,style:i},label:o,tooltip:s,state:l}}),t.interaction("element-active"),t.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),r}function unt(r){var t=r.chart,e=r.options,n=e.animation;typeof n=="boolean"?t.animate(n):t.animate(!0);var i=ki(t.views[0].geometries,t.views[1].geometries);return i.forEach(function(a){a.animate(n)}),r}function cnt(r){var t=r.chart,e=r.options,n=e.nodeDraggable,i="sankey-node-draggable";return n?t.interaction(i):t.removeInteraction(i),r}function fnt(r){var t=r.chart,e=r.options,n=e.interactions,i=n===void 0?[]:n,a=[].concat(i,e.nodeInteractions||[]),o=[].concat(i,e.edgeInteractions||[]),s=En(t,wk),l=En(t,Sk);return a.forEach(function(u){(u==null?void 0:u.enable)===!1?s.removeInteraction(u.type):s.interaction(u.type,u.cfg||{})}),o.forEach(function(u){(u==null?void 0:u.enable)===!1?l.removeInteraction(u.type):l.interaction(u.type,u.cfg||{})}),r}function dnt(r){return jr(snt,lnt,fnt,cnt,unt,ti)(r)}var hnt=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.isDragging=!1,e}return t.prototype.isNodeElement=function(){var e=me(this.context,"event.target");if(e){var n=e.get("element");return n&&n.getModel().data.isNode}return!1},t.prototype.getNodeView=function(){return En(this.context.view,wk)},t.prototype.getEdgeView=function(){return En(this.context.view,Sk)},t.prototype.getCurrentDatumIdx=function(e){return this.getNodeView().geometries[0].elements.indexOf(e)},t.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:me(this.context,"event.x"),y:me(this.context,"event.y")};var e=this.context.event.target.get("element"),n=this.getCurrentDatumIdx(e);if(n===-1)return;this.currentElementIdx=n,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},t.prototype.translate=function(){if(this.isDragging){var e=this.context.view,n={x:me(this.context,"event.x"),y:me(this.context,"event.y")},i=n.x-this.prevPoint.x,a=n.y-this.prevPoint.y,o=this.getNodeView(),s=o.geometries[0].elements[this.currentElementIdx];if(s&&s.getModel()){var l=s.getModel().data,u=o.getOptions().data,c=o.getCoordinate(),f={x:i/c.getWidth(),y:a/c.getHeight()},d=P(P({},l),{x:l.x.map(function(m){return m+=f.x}),y:l.y.map(function(m){return m+=f.y})}),h=ki(u);h[this.currentElementIdx]=d,o.data(h);var v=l.name,p=this.getEdgeView(),g=p.getOptions().data;g.forEach(function(m){m.source===v&&(m.x[0]+=f.x,m.x[1]+=f.x,m.y[0]+=f.y,m.y[1]+=f.y),m.target===v&&(m.x[2]+=f.x,m.x[3]+=f.x,m.y[2]+=f.y,m.y[3]+=f.y)}),p.data(g),this.prevPoint=n,e.render(!0)}}},t.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},t}(ia);Gr("sankey-node-drag",hnt);cn("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(r){return r.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});(function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="sankey",e}return t.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(e){var n=e.name;return n},callback:function(e){var n=e[1]===1;return{style:{fill:"#545454",textAlign:n?"end":"start"},offsetX:n?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(e){return!me(e,[0,"data","isNode"])},formatter:function(e){var n=e.source,i=e.target,a=e.value;return{name:n+" -> "+i,value:a}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},t.prototype.changeData=function(e){this.updateOption({data:e});var n=jie(this.options,this.chart.width,this.chart.height),i=n.nodes,a=n.edges,o=En(this.chart,wk),s=En(this.chart,Sk);o.changeData(i),s.changeData(a)},t.prototype.getSchemaAdaptor=function(){return dnt},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t})(on);var vnt={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(r){return r.id},source:function(r){return r.source},target:function(r){return r.target},sourceWeight:function(r){return r.value||1},targetWeight:function(r){return r.value||1},sortBy:null};function pnt(r,t,e){q(r,function(n,i){n.inEdges=t.filter(function(a){return""+e.target(a)==""+i}),n.outEdges=t.filter(function(a){return""+e.source(a)==""+i}),n.edges=n.outEdges.concat(n.inEdges),n.frequency=n.edges.length,n.value=0,n.inEdges.forEach(function(a){n.value+=e.targetWeight(a)}),n.outEdges.forEach(function(a){n.value+=e.sourceWeight(a)})})}function gnt(r,t){var e={weight:function(i,a){return a.value-i.value},frequency:function(i,a){return a.frequency-i.frequency},id:function(i,a){return(""+t.id(i)).localeCompare(""+t.id(a))}},n=e[t.sortBy];!n&&yr(t.sortBy)&&(n=t.sortBy),n&&r.sort(n)}function mnt(r,t){var e=r.length;if(!e)throw new TypeError("Invalid nodes: it's empty!");if(t.weight){var n=t.nodePaddingRatio;if(n<0||n>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var i=n/(2*e),a=t.nodeWidthRatio;if(a<=0||a>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var o=0;r.forEach(function(l){o+=l.value}),r.forEach(function(l){l.weight=l.value/o,l.width=l.weight*(1-n),l.height=a}),r.forEach(function(l,u){for(var c=0,f=u-1;f>=0;f--)c+=r[f].width+2*i;var d=l.minX=i+c,h=l.maxX=l.minX+l.width,v=l.minY=t.y-a/2,p=l.maxY=v+a;l.x=[d,h,h,d],l.y=[v,v,p,p]})}else{var s=1/e;r.forEach(function(l,u){l.x=(u+.5)*s,l.y=t.y})}return r}function ynt(r,t,e){if(e.weight){var n={};q(r,function(i,a){n[a]=i.value}),t.forEach(function(i){var a=e.source(i),o=e.target(i),s=r[a],l=r[o];if(s&&l){var u=n[a],c=e.sourceWeight(i),f=s.minX+(s.value-u)/s.value*s.width,d=f+c/s.value*s.width;n[a]-=c;var h=n[o],v=e.targetWeight(i),p=l.minX+(l.value-h)/l.value*l.width,g=p+v/l.value*l.width;n[o]-=v;var m=e.y;i.x=[f,d,p,g],i.y=[m,m,m,m],i.source=s,i.target=l}})}else t.forEach(function(i){var a=r[e.source(i)],o=r[e.target(i)];a&&o&&(i.x=[a.x,o.x],i.y=[a.y,o.y],i.source=a,i.target=o)});return t}function bnt(r){return cr({},vnt,r)}function xnt(r,t){var e=bnt(r),n={},i=t.nodes,a=t.links;i.forEach(function(l){var u=e.id(l);n[u]=l}),pnt(n,a,e),gnt(i,e);var o=mnt(i,e),s=ynt(n,a,e);return{nodes:o,links:s}}var Yie="x",Xie="y",qie="name",Kie="source",wnt={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(r,t){var e=(r[0]+r[1])/2,n=e>.5?-4:4;return{labelEmit:!0,style:{fill:"#8c8c8c"},offsetX:n,content:t}}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(r){return!me(r,[0,"data","isNode"])},formatter:function(r){var t=r.source,e=r.target,n=r.value;return{name:t+" -> "+e,value:n}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function Snt(r){var t=r.options,e=t.data,n=t.sourceField,i=t.targetField,a=t.weightField,o=t.nodePaddingRatio,s=t.nodeWidthRatio,l=t.rawFields,u=l===void 0?[]:l,c=sne(e,n,i,a),f=xnt({weight:!0,nodePaddingRatio:o,nodeWidthRatio:s},c),d=f.nodes,h=f.links,v=d.map(function(g){return P(P({},hi(g,ki(["id","x","y","name"],u))),{isNode:!0})}),p=h.map(function(g){return P(P({source:g.source.name,target:g.target.name,name:g.source.name||g.target.name},hi(g,ki(["x","y","value"],u))),{isNode:!1})});return P(P({},r),{ext:P(P({},r.ext),{chordData:{nodesData:v,edgesData:p}})})}function Cnt(r){var t,e=r.chart;return e.scale((t={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}},t[qie]={sync:"color"},t[Kie]={sync:"color"},t)),r}function Ent(r){var t=r.chart;return t.axis(!1),r}function _nt(r){var t=r.chart;return t.legend(!1),r}function Tnt(r){var t=r.chart,e=r.options,n=e.tooltip;return t.tooltip(n),r}function Ant(r){var t=r.chart;return t.coordinate("polar").reflect("y"),r}function knt(r){var t=r.chart,e=r.options,n=r.ext.chordData.nodesData,i=e.nodeStyle,a=e.label,o=e.tooltip,s=t.createView();return s.data(n),vk({chart:s,options:{xField:Yie,yField:Xie,seriesField:qie,polygon:{style:i},label:a,tooltip:o}}),r}function Mnt(r){var t=r.chart,e=r.options,n=r.ext.chordData.edgesData,i=e.edgeStyle,a=e.tooltip,o=t.createView();o.data(n);var s={xField:Yie,yField:Xie,seriesField:Kie,edge:{style:i,shape:"arc"},tooltip:a};return hne({chart:o,options:s}),r}function Int(r){var t=r.chart,e=r.options,n=e.animation;return typeof n=="boolean"?t.animate(n):t.animate(!0),q(LXe(t),function(i){i.animate(n)}),r}function Pnt(r){return jr(ti,Snt,Ant,Cnt,Ent,_nt,Tnt,Mnt,knt,Vi,Nv,Int)(r)}(function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="chord",e}return t.getDefaultOptions=function(){return wnt},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Pnt},t})(on);var Rnt={field:"value",as:["x","y","r"],sort:function(r,t){return t.value-r.value}};function Dnt(r,t){t=cr({},Rnt,t);var e=t.as;if(!gt(e)||e.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var n;try{n=UB(t)}catch(u){console.warn(u)}var i=function(u){return _ie().size(t.size).padding(t.padding)(sb(u).sum(function(c){return c[n]}).sort(t.sort))},a=i(r),o=e[0],s=e[1],l=e[2];return a.each(function(u){u[o]=u.x,u[s]=u.y,u[l]=u.r}),HB(a)}function Zie(r){var t=r.data,e=r.hierarchyConfig,n=r.rawFields,i=n===void 0?[]:n,a=r.enableDrillDown,o=Dnt(t,P(P({},e),{field:"value",as:["x","y","r"]})),s=[];return o.forEach(function(l){for(var u,c=l.data.name,f=P({},l);f.depth>1;)c=((u=f.parent.data)===null||u===void 0?void 0:u.name)+" / "+c,f=f.parent;if(a&&l.depth>2)return null;var d=pt({},l.data,P(P(P({},hi(l.data,i)),{path:c}),l));d.ext=e,d[Vw]={hierarchyConfig:e,rawFields:i,enableDrillDown:a},s.push(d)}),s}function Qie(r,t,e){var n=wB([r,t]),i=n[0],a=n[1],o=n[2],s=n[3],l=e.width,u=e.height,c=l-(s+a),f=u-(i+o),d=Math.min(c,f),h=(c-d)/2,v=(f-d)/2,p=i+v,g=a+h,m=o+v,y=s+h,b=[p,g,m,y],w=d<0?0:d;return{finalPadding:b,finalSize:w}}var Ont=["x","y","r","name","value","path","depth"],Lnt={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}};function Fnt(r){var t=r.chart,e=Math.min(t.viewBBox.width,t.viewBBox.height);return pt({options:{size:function(n){var i=n.r;return i*e}}},r)}function Nnt(r){var t=r.options,e=r.chart,n=e.viewBBox,i=t.padding,a=t.appendPadding,o=t.drilldown,s=a;if(o==null?void 0:o.enabled){var l=uk(e.appendPadding,me(o,["breadCrumb","position"]));s=wB([l,a])}var u=Qie(i,s,n).finalPadding;return e.padding=u,e.appendPadding=0,r}function Bnt(r){var t=r.chart,e=r.options,n=t.padding,i=t.appendPadding,a=e.color,o=e.colorField,s=e.pointStyle,l=e.hierarchyConfig,u=e.sizeField,c=e.rawFields,f=c===void 0?[]:c,d=e.drilldown,h=Zie({data:e.data,hierarchyConfig:l,enableDrillDown:d==null?void 0:d.enabled,rawFields:f});t.data(h);var v=t.viewBBox,p=Qie(n,i,v).finalSize,g=function(m){var y=m.r;return y*p};return u&&(g=function(m){return m[u]*p}),Wl(pt({},r,{options:{xField:"x",yField:"y",seriesField:o,sizeField:u,rawFields:ki(Ont,f),point:{color:a,style:s,shape:"circle",size:g}}})),r}function znt(r){return jr(Sa({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(r)}function $nt(r){var t=r.chart,e=r.options,n=e.tooltip;if(n===!1)t.tooltip(!1);else{var i=n;me(n,"fields")||(i=pt({},{customItems:function(a){return a.map(function(o){var s=me(t.getOptions(),"scales"),l=me(s,["name","formatter"],function(c){return c}),u=me(s,["value","formatter"],function(c){return c});return P(P({},o),{name:l(o.data.name),value:u(o.data.value)})})}},i)),t.tooltip(i)}return r}function Gnt(r){var t=r.chart;return t.axis(!1),r}function Unt(r){var t=r.drilldown,e=r.interactions,n=e===void 0?[]:e;return(t==null?void 0:t.enabled)?pt({},r,{interactions:ki(n,[{type:"drill-down",cfg:{drillDownConfig:t,transformData:Zie,enableDrillDown:!0}}])}):r}function Hnt(r){var t=r.chart,e=r.options;return Vi({chart:t,options:Unt(e)}),r}function Vnt(r){return jr(Vl("pointStyle"),Fnt,Nnt,ti,znt,Bnt,Gnt,nb,$nt,Hnt,yi,Ca())(r)}(function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="circle-packing",e}return t.getDefaultOptions=function(){return Lnt},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Vnt},t.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},t})(on);(function(r){Ve(t,r);function t(e,n,i,a){var o=r.call(this,e,pt({},a,n))||this;return o.type="g2-plot",o.defaultOptions=a,o.adaptor=i,o}return t.prototype.getDefaultOptions=function(){return this.defaultOptions},t.prototype.getSchemaAdaptor=function(){return this.adaptor},t})(on);var Wnt={line:gne,pie:Tne,column:gk,bar:wne,area:yne,gauge:$ie,"tiny-line":Fne,"tiny-column":Nne,"tiny-area":Lne,"ring-progress":Vne,progress:Une,scatter:Rne,histogram:zne,funnel:die},jnt={line:pqe,pie:aKe,column:zqe,bar:jqe,area:wqe,gauge:rrt,"tiny-line":qZe,"tiny-column":JZe,"tiny-area":tQe,"ring-progress":vQe,progress:fQe,scatter:bZe,histogram:lQe,funnel:get},Ynt={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function Jie(r,t,e){var n=jnt[r];if(!n){console.error("could not find "+r+" plot");return}var i=Wnt[r];i({chart:t,options:pt({},n.getDefaultOptions(),me(Ynt,r,{}),e)})}function Xnt(r){var t=r.chart,e=r.options,n=e.views,i=e.legend;return q(n,function(a){var o=a.region,s=a.data,l=a.meta,u=a.axes,c=a.coordinate,f=a.interactions,d=a.annotations,h=a.tooltip,v=a.geometries,p=t.createView({region:o});p.data(s);var g={};u&&q(u,function(m,y){g[y]=hi(m,sl)}),g=pt({},l,g),p.scale(g),u?q(u,function(m,y){p.axis(y,m)}):p.axis(!1),p.coordinate(c),q(v,function(m){var y=pl({chart:p,options:m}).ext,b=m.adjust;b&&y.geometry.adjust(b)}),q(f,function(m){m.enable===!1?p.removeInteraction(m.type):p.interaction(m.type,m.cfg)}),q(d,function(m){p.annotation()[m.type](P({},m))}),typeof a.animation=="boolean"?p.animate(!1):(p.animate(!0),q(p.geometries,function(m){m.animate(a.animation)})),h&&(p.interaction("tooltip"),p.tooltip(h))}),i?q(i,function(a,o){t.legend(o,a)}):t.legend(!1),t.tooltip(e.tooltip),r}function qnt(r){var t=r.chart,e=r.options,n=e.plots;return q(n,function(i){var a=i.type,o=i.region,s=i.options,l=s===void 0?{}:s,u=l.tooltip,c=t.createView(P({region:o},hi(l,cne)));u&&c.interaction("tooltip"),Jie(a,c,l)}),r}function Knt(r){return jr(yi,Xnt,qnt,Vi,yi,ti,co)(r)}function Znt(r,t){var e=r.getModel(),n=e.data,i;return gt(n)?i=n[0][t]:i=n[t],i}function Qnt(r){var t=wT(r);q(t,function(e){e.hasState("active")&&e.setState("active",!1),e.hasState("selected")&&e.setState("selected",!1),e.hasState("inactive")&&e.setState("inactive",!1)})}var Jnt=function(r){Ve(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getAssociationItems=function(e,n){var i,a=this.context.event,o=n||{},s=o.linkField,l=o.dim,u=[];if((i=a.data)===null||i===void 0?void 0:i.data){var c=a.data.data;q(e,function(f){var d,h,v=s;if(l==="x"?v=f.getXScale().field:l==="y"?v=(d=f.getYScales().find(function(g){return g.field===v}))===null||d===void 0?void 0:d.field:v||(v=(h=f.getGroupScales()[0])===null||h===void 0?void 0:h.field),!!v){var p=Di(wT(f),function(g){var m=!1,y=!1,b=gt(c)?me(c[0],v):me(c,v);return Znt(g,v)===b?m=!0:y=!0,{element:g,view:f,active:m,inactive:y}});u.push.apply(u,p)}})}return u},t.prototype.showTooltip=function(e){var n=o7(this.context.view),i=this.getAssociationItems(n,e);q(i,function(a){if(a.active){var o=a.element.shape.getCanvasBBox();a.view.showTooltip({x:o.minX+o.width/2,y:o.minY+o.height/2})}})},t.prototype.hideTooltip=function(){var e=o7(this.context.view);q(e,function(n){n.hideTooltip()})},t.prototype.active=function(e){var n=v1(this.context.view),i=this.getAssociationItems(n,e);q(i,function(a){var o=a.active,s=a.element;o&&s.setState("active",!0)})},t.prototype.selected=function(e){var n=v1(this.context.view),i=this.getAssociationItems(n,e);q(i,function(a){var o=a.active,s=a.element;o&&s.setState("selected",!0)})},t.prototype.highlight=function(e){var n=v1(this.context.view),i=this.getAssociationItems(n,e);q(i,function(a){var o=a.inactive,s=a.element;o&&s.setState("inactive",!0)})},t.prototype.reset=function(){var e=v1(this.context.view);q(e,function(n){Qnt(n)})},t}(ia);Gr("association",Jnt);cn("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]});cn("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]});cn("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]});cn("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var eit=function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="mix",e}return t.prototype.getSchemaAdaptor=function(){return Knt},t}(on);function tit(r,t){var e=t.data,n=t.coordinate,i=t.interactions,a=t.annotations,o=t.animation,s=t.tooltip,l=t.axes,u=t.meta,c=t.geometries;e&&r.data(e);var f={};l&&q(l,function(d,h){f[h]=hi(d,sl)}),f=pt({},u,f),r.scale(f),n&&r.coordinate(n),l===!1?r.axis(!1):q(l,function(d,h){r.axis(h,d)}),q(c,function(d){var h=pl({chart:r,options:d}).ext,v=d.adjust;v&&h.geometry.adjust(v)}),q(i,function(d){d.enable===!1?r.removeInteraction(d.type):r.interaction(d.type,d.cfg)}),q(a,function(d){r.annotation()[d.type](P({},d))}),typeof o=="boolean"?r.animate(!1):(r.animate(!0),q(r.geometries,function(d){d.animate(o)})),s?(r.interaction("tooltip"),r.tooltip(s)):s===!1&&r.removeInteraction("tooltip")}function rit(r){var t=r.chart,e=r.options,n=e.type,i=e.data,a=e.fields,o=e.eachView,s=oS(e,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return t.data(i),t.facet(n,P(P({},s),{fields:a,eachView:function(l,u){var c=o(l,u);if(c.geometries)tit(l,c);else{var f=c,d=f.options;d.tooltip&&l.interaction("tooltip"),Jie(f.type,l,d)}}})),r}function nit(r){var t=r.chart,e=r.options,n=e.axes,i=e.meta,a=e.tooltip,o=e.coordinate,s=e.theme,l=e.legend,u=e.interactions,c=e.annotations,f={};return n&&q(n,function(d,h){f[h]=hi(d,sl)}),f=pt({},i,f),t.scale(f),t.coordinate(o),n?q(n,function(d,h){t.axis(h,d)}):t.axis(!1),a?(t.interaction("tooltip"),t.tooltip(a)):a===!1&&t.removeInteraction("tooltip"),t.legend(l),s&&t.theme(s),q(u,function(d){d.enable===!1?t.removeInteraction(d.type):t.interaction(d.type,d.cfg)}),q(c,function(d){t.annotation()[d.type](P({},d))}),r}function iit(r){return jr(ti,rit,nit)(r)}var ait={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}};(function(r){Ve(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="area",e}return t.getDefaultOptions=function(){return ait},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return iit},t})(on);var n0;(function(r){r.DEV="DEV",r.BETA="BETA",r.STABLE="STABLE"})(n0||(n0={}));function oit(r,t){console.warn(r===n0.DEV?"Plot '"+t+"' is in DEV stage, just give us issues.":r===n0.BETA?"Plot '"+t+"' is in BETA stage, DO NOT use it in production env.":r===n0.STABLE?"Plot '"+t+`' is in STABLE stage, import it by "import { `+t+` } from '@antv/g2plot'".`:"invalid Stage type.")}(function(){function r(){}return Object.defineProperty(r,"MultiView",{get:function(){return oit(n0.STABLE,"MultiView"),eit},enumerable:!1,configurable:!0}),r})();lne("en-US",XXe);lne("zh-CN",qXe);var eae=function(t,e){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return t.apply(e,i)}},om=Object.prototype.toString;function qB(r){return om.call(r)==="[object Array]"}function qO(r){return typeof r=="undefined"}function sit(r){return r!==null&&!qO(r)&&r.constructor!==null&&!qO(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function lit(r){return om.call(r)==="[object ArrayBuffer]"}function uit(r){return typeof FormData!="undefined"&&r instanceof FormData}function cit(r){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(r):t=r&&r.buffer&&r.buffer instanceof ArrayBuffer,t}function fit(r){return typeof r=="string"}function dit(r){return typeof r=="number"}function tae(r){return r!==null&&typeof r=="object"}function a_(r){if(om.call(r)!=="[object Object]")return!1;var t=Object.getPrototypeOf(r);return t===null||t===Object.prototype}function hit(r){return om.call(r)==="[object Date]"}function vit(r){return om.call(r)==="[object File]"}function pit(r){return om.call(r)==="[object Blob]"}function rae(r){return om.call(r)==="[object Function]"}function git(r){return tae(r)&&rae(r.pipe)}function mit(r){return typeof URLSearchParams!="undefined"&&r instanceof URLSearchParams}function yit(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function bit(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function KB(r,t){if(!(r===null||typeof r=="undefined"))if(typeof r!="object"&&(r=[r]),qB(r))for(var e=0,n=r.length;e<n;e++)t.call(null,r[e],e,r);else for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.call(null,r[i],i,r)}function KO(){var r={};function t(i,a){a_(r[a])&&a_(i)?r[a]=KO(r[a],i):a_(i)?r[a]=KO({},i):qB(i)?r[a]=i.slice():r[a]=i}for(var e=0,n=arguments.length;e<n;e++)KB(arguments[e],t);return r}function xit(r,t,e){return KB(t,function(i,a){e&&typeof i=="function"?r[a]=eae(i,e):r[a]=i}),r}function wit(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}var Nr={isArray:qB,isArrayBuffer:lit,isBuffer:sit,isFormData:uit,isArrayBufferView:cit,isString:fit,isNumber:dit,isObject:tae,isPlainObject:a_,isUndefined:qO,isDate:hit,isFile:vit,isBlob:pit,isFunction:rae,isStream:git,isURLSearchParams:mit,isStandardBrowserEnv:bit,forEach:KB,merge:KO,extend:xit,trim:yit,stripBOM:wit};function X7(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var nae=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(Nr.isURLSearchParams(e))i=e.toString();else{var a=[];Nr.forEach(e,function(l,u){l===null||typeof l=="undefined"||(Nr.isArray(l)?u=u+"[]":l=[l],Nr.forEach(l,function(f){Nr.isDate(f)?f=f.toISOString():Nr.isObject(f)&&(f=JSON.stringify(f)),a.push(X7(u)+"="+X7(f))}))}),i=a.join("&")}if(i){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t};function Ck(){this.handlers=[]}Ck.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Ck.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Ck.prototype.forEach=function(t){Nr.forEach(this.handlers,function(n){n!==null&&t(n)})};var q7=Ck,K7=function(t,e){Nr.forEach(t,function(i,a){a!==e&&a.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[a])})},iae=function(t,e,n,i,a){return t.config=e,n&&(t.code=n),t.request=i,t.response=a,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t},o_=function(t,e,n,i,a){var o=new Error(t);return iae(o,e,n,i,a)},Sit=function(t,e,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(o_("Request failed with status code "+n.status,n.config,null,n.request,n))},Cit=Nr.isStandardBrowserEnv()?function(){return{write:function(e,n,i,a,o,s){var l=[];l.push(e+"="+encodeURIComponent(n)),Nr.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),Nr.isString(a)&&l.push("path="+a),Nr.isString(o)&&l.push("domain="+o),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Eit=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},_it=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t},Tit=function(t,e){return t&&!Eit(e)?_it(t,e):e},Ait=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],kit=function(t){var e={},n,i,a;return t&&Nr.forEach(t.split(`
`),function(s){if(a=s.indexOf(":"),n=Nr.trim(s.substr(0,a)).toLowerCase(),i=Nr.trim(s.substr(a+1)),n){if(e[n]&&Ait.indexOf(n)>=0)return;n==="set-cookie"?e[n]=(e[n]?e[n]:[]).concat([i]):e[n]=e[n]?e[n]+", "+i:i}}),e},Mit=Nr.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a"),n;function i(a){var o=a;return t&&(e.setAttribute("href",o),o=e.href),e.setAttribute("href",o),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return n=i(window.location.href),function(o){var s=Nr.isString(o)?i(o):o;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}(),Z7=function(t){return new Promise(function(n,i){var a=t.data,o=t.headers,s=t.responseType;Nr.isFormData(a)&&delete o["Content-Type"];var l=new XMLHttpRequest;if(t.auth){var u=t.auth.username||"",c=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.Authorization="Basic "+btoa(u+":"+c)}var f=Tit(t.baseURL,t.url);l.open(t.method.toUpperCase(),nae(f,t.params,t.paramsSerializer),!0),l.timeout=t.timeout;function d(){if(!!l){var v="getAllResponseHeaders"in l?kit(l.getAllResponseHeaders()):null,p=!s||s==="text"||s==="json"?l.responseText:l.response,g={data:p,status:l.status,statusText:l.statusText,headers:v,config:t,request:l};Sit(n,i,g),l=null}}if("onloadend"in l?l.onloadend=d:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(d)},l.onabort=function(){!l||(i(o_("Request aborted",t,"ECONNABORTED",l)),l=null)},l.onerror=function(){i(o_("Network Error",t,null,l)),l=null},l.ontimeout=function(){var p="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),i(o_(p,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",l)),l=null},Nr.isStandardBrowserEnv()){var h=(t.withCredentials||Mit(f))&&t.xsrfCookieName?Cit.read(t.xsrfCookieName):void 0;h&&(o[t.xsrfHeaderName]=h)}"setRequestHeader"in l&&Nr.forEach(o,function(p,g){typeof a=="undefined"&&g.toLowerCase()==="content-type"?delete o[g]:l.setRequestHeader(g,p)}),Nr.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),s&&s!=="json"&&(l.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&l.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(p){!l||(l.abort(),i(p),l=null)}),a||(a=null),l.send(a)})},Iit={"Content-Type":"application/x-www-form-urlencoded"};function Q7(r,t){!Nr.isUndefined(r)&&Nr.isUndefined(r["Content-Type"])&&(r["Content-Type"]=t)}function Pit(){var r;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(r=Z7),r}function Rit(r,t,e){if(Nr.isString(r))try{return(t||JSON.parse)(r),Nr.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(e||JSON.stringify)(r)}var Ek={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Pit(),transformRequest:[function(t,e){return K7(e,"Accept"),K7(e,"Content-Type"),Nr.isFormData(t)||Nr.isArrayBuffer(t)||Nr.isBuffer(t)||Nr.isStream(t)||Nr.isFile(t)||Nr.isBlob(t)?t:Nr.isArrayBufferView(t)?t.buffer:Nr.isURLSearchParams(t)?(Q7(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Nr.isObject(t)||e&&e["Content-Type"]==="application/json"?(Q7(e,"application/json"),Rit(t)):t}],transformResponse:[function(t){var e=this.transitional,n=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,a=!n&&this.responseType==="json";if(a||i&&Nr.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(a)throw o.name==="SyntaxError"?iae(o,this,"E_JSON_PARSE"):o}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};Ek.headers={common:{Accept:"application/json, text/plain, */*"}};Nr.forEach(["delete","get","head"],function(t){Ek.headers[t]={}});Nr.forEach(["post","put","patch"],function(t){Ek.headers[t]=Nr.merge(Iit)});var ZB=Ek,nR=function(t,e,n){var i=this||ZB;return Nr.forEach(n,function(o){t=o.call(i,t,e)}),t},aae=function(t){return!!(t&&t.__CANCEL__)};function iR(r){r.cancelToken&&r.cancelToken.throwIfRequested()}var J7=function(t){iR(t),t.headers=t.headers||{},t.data=nR.call(t,t.data,t.headers,t.transformRequest),t.headers=Nr.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Nr.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var e=t.adapter||ZB.adapter;return e(t).then(function(i){return iR(t),i.data=nR.call(t,i.data,i.headers,t.transformResponse),i},function(i){return aae(i)||(iR(t),i&&i.response&&(i.response.data=nR.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},PS=function(t,e){e=e||{};var n={},i=["url","method","data"],a=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function l(d,h){return Nr.isPlainObject(d)&&Nr.isPlainObject(h)?Nr.merge(d,h):Nr.isPlainObject(h)?Nr.merge({},h):Nr.isArray(h)?h.slice():h}function u(d){Nr.isUndefined(e[d])?Nr.isUndefined(t[d])||(n[d]=l(void 0,t[d])):n[d]=l(t[d],e[d])}Nr.forEach(i,function(h){Nr.isUndefined(e[h])||(n[h]=l(void 0,e[h]))}),Nr.forEach(a,u),Nr.forEach(o,function(h){Nr.isUndefined(e[h])?Nr.isUndefined(t[h])||(n[h]=l(void 0,t[h])):n[h]=l(void 0,e[h])}),Nr.forEach(s,function(h){h in e?n[h]=l(t[h],e[h]):h in t&&(n[h]=l(void 0,t[h]))});var c=i.concat(a).concat(o).concat(s),f=Object.keys(t).concat(Object.keys(e)).filter(function(h){return c.indexOf(h)===-1});return Nr.forEach(f,u),n};const oae="axios",sae="0.21.4",lae="Promise based HTTP client for the browser and node.js",uae="index.js",cae={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},fae={type:"git",url:"https://github.com/axios/axios.git"},dae=["xhr","http","ajax","promise","node"],hae="Matt Zabriskie",vae="MIT",pae={url:"https://github.com/axios/axios/issues"},gae="https://axios-http.com",mae={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},yae={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},bae="dist/axios.min.js",xae="dist/axios.min.js",wae="./index.d.ts",Sae={"follow-redirects":"^1.14.0"},Cae=[{path:"./dist/axios.min.js",threshold:"5kB"}];var Dit={name:oae,version:sae,description:lae,main:uae,scripts:cae,repository:fae,keywords:dae,author:hae,license:vae,bugs:pae,homepage:gae,devDependencies:mae,browser:yae,jsdelivr:bae,unpkg:xae,typings:wae,dependencies:Sae,bundlesize:Cae},Oit=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",name:oae,version:sae,description:lae,main:uae,scripts:cae,repository:fae,keywords:dae,author:hae,license:vae,bugs:pae,homepage:gae,devDependencies:mae,browser:yae,jsdelivr:bae,unpkg:xae,typings:wae,dependencies:Sae,bundlesize:Cae,default:Dit}),Eae=Y2e(Oit),QB={};["object","boolean","number","function","string","symbol"].forEach(function(r,t){QB[r]=function(n){return typeof n===r||"a"+(t<1?"n ":" ")+r}});var ej={},Lit=Eae.version.split(".");function _ae(r,t){for(var e=t?t.split("."):Lit,n=r.split("."),i=0;i<3;i++){if(e[i]>n[i])return!0;if(e[i]<n[i])return!1}return!1}QB.transitional=function(t,e,n){var i=e&&_ae(e);function a(o,s){return"[Axios v"+Eae.version+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return function(o,s,l){if(t===!1)throw new Error(a(s," has been removed in "+e));return i&&!ej[s]&&(ej[s]=!0,console.warn(a(s," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(o,s,l):!0}};function Fit(r,t,e){if(typeof r!="object")throw new TypeError("options must be an object");for(var n=Object.keys(r),i=n.length;i-- >0;){var a=n[i],o=t[a];if(o){var s=r[a],l=s===void 0||o(s,a,r);if(l!==!0)throw new TypeError("option "+a+" must be "+l);continue}if(e!==!0)throw Error("Unknown option "+a)}}var Tae={isOlderVersion:_ae,assertOptions:Fit,validators:QB},xy=Tae.validators;function RS(r){this.defaults=r,this.interceptors={request:new q7,response:new q7}}RS.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=PS(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;e!==void 0&&Tae.assertOptions(e,{silentJSONParsing:xy.transitional(xy.boolean,"1.0.0"),forcedJSONParsing:xy.transitional(xy.boolean,"1.0.0"),clarifyTimeoutError:xy.transitional(xy.boolean,"1.0.0")},!1);var n=[],i=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(t)===!1||(i=i&&d.synchronous,n.unshift(d.fulfilled,d.rejected))});var a=[];this.interceptors.response.forEach(function(d){a.push(d.fulfilled,d.rejected)});var o;if(!i){var s=[J7,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(a),o=Promise.resolve(t);s.length;)o=o.then(s.shift(),s.shift());return o}for(var l=t;n.length;){var u=n.shift(),c=n.shift();try{l=u(l)}catch(f){c(f);break}}try{o=J7(l)}catch(f){return Promise.reject(f)}for(;a.length;)o=o.then(a.shift(),a.shift());return o};RS.prototype.getUri=function(t){return t=PS(this.defaults,t),nae(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};Nr.forEach(["delete","get","head","options"],function(t){RS.prototype[t]=function(e,n){return this.request(PS(n||{},{method:t,url:e,data:(n||{}).data}))}});Nr.forEach(["post","put","patch"],function(t){RS.prototype[t]=function(e,n,i){return this.request(PS(i||{},{method:t,url:e,data:n}))}});var s_=RS;function JB(r){this.message=r}JB.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};JB.prototype.__CANCEL__=!0;var Aae=JB;function kT(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var e=this;r(function(i){e.reason||(e.reason=new Aae(i),t(e.reason))})}kT.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};kT.source=function(){var t,e=new kT(function(i){t=i});return{token:e,cancel:t}};var Nit=kT,Bit=function(t){return function(n){return t.apply(null,n)}},zit=function(t){return typeof t=="object"&&t.isAxiosError===!0};function kae(r){var t=new s_(r),e=eae(s_.prototype.request,t);return Nr.extend(e,s_.prototype,t),Nr.extend(e,t),e}var nc=kae(ZB);nc.Axios=s_;nc.create=function(t){return kae(PS(nc.defaults,t))};nc.Cancel=Aae;nc.CancelToken=Nit;nc.isCancel=aae;nc.all=function(t){return Promise.all(t)};nc.spread=Bit;nc.isAxiosError=zit;var Mae=nc,$it=nc;Mae.default=$it;var pst=Mae,e3={exports:{}};function t3(r){return r instanceof Map?r.clear=r.delete=r.set=function(){throw new Error("map is read-only")}:r instanceof Set&&(r.add=r.clear=r.delete=function(){throw new Error("set is read-only")}),Object.freeze(r),Object.getOwnPropertyNames(r).forEach(function(t){var e=r[t];typeof e=="object"&&!Object.isFrozen(e)&&t3(e)}),r}e3.exports=t3;e3.exports.default=t3;var Git=e3.exports;class tj{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Iae(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function sv(r,...t){const e=Object.create(null);for(const n in r)e[n]=r[n];return t.forEach(function(n){for(const i in n)e[i]=n[i]}),e}const Uit="</span>",rj=r=>!!r.kind,Hit=(r,{prefix:t})=>{if(r.includes(".")){const e=r.split(".");return[`${t}${e.shift()}`,...e.map((n,i)=>`${n}${"_".repeat(i+1)}`)].join(" ")}return`${t}${r}`};class Vit{constructor(t,e){this.buffer="",this.classPrefix=e.classPrefix,t.walk(this)}addText(t){this.buffer+=Iae(t)}openNode(t){if(!rj(t))return;let e=t.kind;t.sublanguage?e=`language-${e}`:e=Hit(e,{prefix:this.classPrefix}),this.span(e)}closeNode(t){!rj(t)||(this.buffer+=Uit)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}class r3{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const e={kind:t,children:[]};this.add(e),this.stack.push(e)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,e){return typeof e=="string"?t.addText(e):e.children&&(t.openNode(e),e.children.forEach(n=>this._walk(t,n)),t.closeNode(e)),t}static _collapse(t){typeof t!="string"&&(!t.children||(t.children.every(e=>typeof e=="string")?t.children=[t.children.join("")]:t.children.forEach(e=>{r3._collapse(e)})))}}class Wit extends r3{constructor(t){super();this.options=t}addKeyword(t,e){t!==""&&(this.openNode(e),this.addText(t),this.closeNode())}addText(t){t!==""&&this.add(t)}addSublanguage(t,e){const n=t.root;n.kind=e,n.sublanguage=!0,this.add(n)}toHTML(){return new Vit(this,this.options).value()}finalize(){return!0}}function Ww(r){return r?typeof r=="string"?r:r.source:null}function Pae(r){return sm("(?=",r,")")}function jit(r){return sm("(?:",r,")*")}function Yit(r){return sm("(?:",r,")?")}function sm(...r){return r.map(e=>Ww(e)).join("")}function Xit(r){const t=r[r.length-1];return typeof t=="object"&&t.constructor===Object?(r.splice(r.length-1,1),t):{}}function n3(...r){const t=Xit(r);return"("+(t.capture?"":"?:")+r.map(n=>Ww(n)).join("|")+")"}function Rae(r){return new RegExp(r.toString()+"|").exec("").length-1}function qit(r,t){const e=r&&r.exec(t);return e&&e.index===0}const Kit=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function i3(r,{joinWith:t}){let e=0;return r.map(n=>{e+=1;const i=e;let a=Ww(n),o="";for(;a.length>0;){const s=Kit.exec(a);if(!s){o+=a;break}o+=a.substring(0,s.index),a=a.substring(s.index+s[0].length),s[0][0]==="\\"&&s[1]?o+="\\"+String(Number(s[1])+i):(o+=s[0],s[0]==="("&&e++)}return o}).map(n=>`(${n})`).join(t)}const Zit=/\b\B/,Dae="[a-zA-Z]\\w*",a3="[a-zA-Z_]\\w*",Oae="\\b\\d+(\\.\\d+)?",Lae="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Fae="\\b(0b[01]+)",Qit="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Jit=(r={})=>{const t=/^#![ ]*\//;return r.binary&&(r.begin=sm(t,/.*\b/,r.binary,/\b.*/)),sv({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,n)=>{e.index!==0&&n.ignoreMatch()}},r)},jw={begin:"\\\\[\\s\\S]",relevance:0},eat={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[jw]},tat={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[jw]},rat={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},_k=function(r,t,e={}){const n=sv({scope:"comment",begin:r,end:t,contains:[]},e);n.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=n3("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return n.contains.push({begin:sm(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),n},nat=_k("//","$"),iat=_k("/\\*","\\*/"),aat=_k("#","$"),oat={scope:"number",begin:Oae,relevance:0},sat={scope:"number",begin:Lae,relevance:0},lat={scope:"number",begin:Fae,relevance:0},uat={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[jw,{begin:/\[/,end:/\]/,relevance:0,contains:[jw]}]}]},cat={scope:"title",begin:Dae,relevance:0},fat={scope:"title",begin:a3,relevance:0},dat={begin:"\\.\\s*"+a3,relevance:0},hat=function(r){return Object.assign(r,{"on:begin":(t,e)=>{e.data._beginMatch=t[1]},"on:end":(t,e)=>{e.data._beginMatch!==t[1]&&e.ignoreMatch()}})};var M2=Object.freeze({__proto__:null,MATCH_NOTHING_RE:Zit,IDENT_RE:Dae,UNDERSCORE_IDENT_RE:a3,NUMBER_RE:Oae,C_NUMBER_RE:Lae,BINARY_NUMBER_RE:Fae,RE_STARTERS_RE:Qit,SHEBANG:Jit,BACKSLASH_ESCAPE:jw,APOS_STRING_MODE:eat,QUOTE_STRING_MODE:tat,PHRASAL_WORDS_MODE:rat,COMMENT:_k,C_LINE_COMMENT_MODE:nat,C_BLOCK_COMMENT_MODE:iat,HASH_COMMENT_MODE:aat,NUMBER_MODE:oat,C_NUMBER_MODE:sat,BINARY_NUMBER_MODE:lat,REGEXP_MODE:uat,TITLE_MODE:cat,UNDERSCORE_TITLE_MODE:fat,METHOD_GUARD:dat,END_SAME_AS_BEGIN:hat});function vat(r,t){r.input[r.index-1]==="."&&t.ignoreMatch()}function pat(r,t){r.className!==void 0&&(r.scope=r.className,delete r.className)}function gat(r,t){!t||!r.beginKeywords||(r.begin="\\b("+r.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",r.__beforeBegin=vat,r.keywords=r.keywords||r.beginKeywords,delete r.beginKeywords,r.relevance===void 0&&(r.relevance=0))}function mat(r,t){!Array.isArray(r.illegal)||(r.illegal=n3(...r.illegal))}function yat(r,t){if(!!r.match){if(r.begin||r.end)throw new Error("begin & end are not supported with match");r.begin=r.match,delete r.match}}function bat(r,t){r.relevance===void 0&&(r.relevance=1)}const xat=(r,t)=>{if(!r.beforeMatch)return;if(r.starts)throw new Error("beforeMatch cannot be used with starts");const e=Object.assign({},r);Object.keys(r).forEach(n=>{delete r[n]}),r.keywords=e.keywords,r.begin=sm(e.beforeMatch,Pae(e.begin)),r.starts={relevance:0,contains:[Object.assign(e,{endsParent:!0})]},r.relevance=0,delete e.beforeMatch},wat=["of","and","for","in","not","or","if","then","parent","list","value"],Sat="keyword";function Nae(r,t,e=Sat){const n=Object.create(null);return typeof r=="string"?i(e,r.split(" ")):Array.isArray(r)?i(e,r):Object.keys(r).forEach(function(a){Object.assign(n,Nae(r[a],t,a))}),n;function i(a,o){t&&(o=o.map(s=>s.toLowerCase())),o.forEach(function(s){const l=s.split("|");n[l[0]]=[a,Cat(l[0],l[1])]})}}function Cat(r,t){return t?Number(t):Eat(r)?0:1}function Eat(r){return wat.includes(r.toLowerCase())}const nj={},gg=r=>{console.error(r)},ij=(r,...t)=>{console.log(`WARN: ${r}`,...t)},wy=(r,t)=>{nj[`${r}/${t}`]||(console.log(`Deprecated as of ${r}. ${t}`),nj[`${r}/${t}`]=!0)},MT=new Error;function Bae(r,t,{key:e}){let n=0;const i=r[e],a={},o={};for(let s=1;s<=t.length;s++)o[s+n]=i[s],a[s+n]=!0,n+=Rae(t[s-1]);r[e]=o,r[e]._emit=a,r[e]._multi=!0}function _at(r){if(!!Array.isArray(r.begin)){if(r.skip||r.excludeBegin||r.returnBegin)throw gg("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),MT;if(typeof r.beginScope!="object"||r.beginScope===null)throw gg("beginScope must be object"),MT;Bae(r,r.begin,{key:"beginScope"}),r.begin=i3(r.begin,{joinWith:""})}}function Tat(r){if(!!Array.isArray(r.end)){if(r.skip||r.excludeEnd||r.returnEnd)throw gg("skip, excludeEnd, returnEnd not compatible with endScope: {}"),MT;if(typeof r.endScope!="object"||r.endScope===null)throw gg("endScope must be object"),MT;Bae(r,r.end,{key:"endScope"}),r.end=i3(r.end,{joinWith:""})}}function Aat(r){r.scope&&typeof r.scope=="object"&&r.scope!==null&&(r.beginScope=r.scope,delete r.scope)}function kat(r){Aat(r),typeof r.beginScope=="string"&&(r.beginScope={_wrap:r.beginScope}),typeof r.endScope=="string"&&(r.endScope={_wrap:r.endScope}),_at(r),Tat(r)}function Mat(r){function t(o,s){return new RegExp(Ww(o),"m"+(r.case_insensitive?"i":"")+(r.unicodeRegex?"u":"")+(s?"g":""))}class e{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(s,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,s]),this.matchAt+=Rae(s)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const s=this.regexes.map(l=>l[1]);this.matcherRe=t(i3(s,{joinWith:"|"}),!0),this.lastIndex=0}exec(s){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(s);if(!l)return null;const u=l.findIndex((f,d)=>d>0&&f!==void 0),c=this.matchIndexes[u];return l.splice(0,u),Object.assign(l,c)}}class n{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(s){if(this.multiRegexes[s])return this.multiRegexes[s];const l=new e;return this.rules.slice(s).forEach(([u,c])=>l.addRule(u,c)),l.compile(),this.multiRegexes[s]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(s,l){this.rules.push([s,l]),l.type==="begin"&&this.count++}exec(s){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let u=l.exec(s);if(this.resumingScanAtSamePosition()&&!(u&&u.index===this.lastIndex)){const c=this.getMatcher(0);c.lastIndex=this.lastIndex+1,u=c.exec(s)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}function i(o){const s=new n;return o.contains.forEach(l=>s.addRule(l.begin,{rule:l,type:"begin"})),o.terminatorEnd&&s.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&s.addRule(o.illegal,{type:"illegal"}),s}function a(o,s){const l=o;if(o.isCompiled)return l;[pat,yat,kat,xat].forEach(c=>c(o,s)),r.compilerExtensions.forEach(c=>c(o,s)),o.__beforeBegin=null,[gat,mat,bat].forEach(c=>c(o,s)),o.isCompiled=!0;let u=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),u=o.keywords.$pattern,delete o.keywords.$pattern),u=u||/\w+/,o.keywords&&(o.keywords=Nae(o.keywords,r.case_insensitive)),l.keywordPatternRe=t(u,!0),s&&(o.begin||(o.begin=/\B|\b/),l.beginRe=t(l.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(l.endRe=t(l.end)),l.terminatorEnd=Ww(l.end)||"",o.endsWithParent&&s.terminatorEnd&&(l.terminatorEnd+=(o.end?"|":"")+s.terminatorEnd)),o.illegal&&(l.illegalRe=t(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(c){return Iat(c==="self"?o:c)})),o.contains.forEach(function(c){a(c,l)}),o.starts&&a(o.starts,s),l.matcher=i(l),l}if(r.compilerExtensions||(r.compilerExtensions=[]),r.contains&&r.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return r.classNameAliases=sv(r.classNameAliases||{}),a(r)}function zae(r){return r?r.endsWithParent||zae(r.starts):!1}function Iat(r){return r.variants&&!r.cachedVariants&&(r.cachedVariants=r.variants.map(function(t){return sv(r,{variants:null},t)})),r.cachedVariants?r.cachedVariants:zae(r)?sv(r,{starts:r.starts?sv(r.starts):null}):Object.isFrozen(r)?sv(r):r}var Pat="11.4.0";class Rat extends Error{constructor(t,e){super(t);this.name="HTMLInjectionError",this.html=e}}const aR=Iae,aj=sv,oj=Symbol("nomatch"),Dat=7,Oat=function(r){const t=Object.create(null),e=Object.create(null),n=[];let i=!0;const a="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let s={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Wit};function l(N){return s.noHighlightRe.test(N)}function u(N){let G=N.className+" ";G+=N.parentNode?N.parentNode.className:"";const L=s.languageDetectRe.exec(G);if(L){const F=k(L[1]);return F||(ij(a.replace("{}",L[1])),ij("Falling back to no-highlight mode for this block.",N)),F?L[1]:"no-highlight"}return G.split(/\s+/).find(F=>l(F)||k(F))}function c(N,G,L){let F="",W="";typeof G=="object"?(F=N,L=G.ignoreIllegals,W=G.language):(wy("10.7.0","highlight(lang, code, ...args) has been deprecated."),wy("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),W=N,F=G),L===void 0&&(L=!0);const H={code:F,language:W};B("before:highlight",H);const K=H.result?H.result:f(H.language,H.code,L);return K.code=H.code,B("after:highlight",K),K}function f(N,G,L,F){const W=Object.create(null);function H(ce,de){return ce.keywords[de]}function K(){if(!ue.keywords){Ze.addText(Le);return}let ce=0;ue.keywordPatternRe.lastIndex=0;let de=ue.keywordPatternRe.exec(Le),Fe="";for(;de;){Fe+=Le.substring(ce,de.index);const Ue=j.case_insensitive?de[0].toLowerCase():de[0],lt=H(ue,Ue);if(lt){const[ut,We]=lt;if(Ze.addText(Fe),Fe="",W[Ue]=(W[Ue]||0)+1,W[Ue]<=Dat&&(se+=We),ut.startsWith("_"))Fe+=de[0];else{const J=j.classNameAliases[ut]||ut;Ze.addKeyword(de[0],J)}}else Fe+=de[0];ce=ue.keywordPatternRe.lastIndex,de=ue.keywordPatternRe.exec(Le)}Fe+=Le.substr(ce),Ze.addText(Fe)}function ie(){if(Le==="")return;let ce=null;if(typeof ue.subLanguage=="string"){if(!t[ue.subLanguage]){Ze.addText(Le);return}ce=f(ue.subLanguage,Le,!0,Be[ue.subLanguage]),Be[ue.subLanguage]=ce._top}else ce=h(Le,ue.subLanguage.length?ue.subLanguage:null);ue.relevance>0&&(se+=ce.relevance),Ze.addSublanguage(ce._emitter,ce.language)}function ee(){ue.subLanguage!=null?ie():K(),Le=""}function Q(ce,de){let Fe=1;for(;de[Fe]!==void 0;){if(!ce._emit[Fe]){Fe++;continue}const Ue=j.classNameAliases[ce[Fe]]||ce[Fe],lt=de[Fe];Ue?Ze.addKeyword(lt,Ue):(Le=lt,K(),Le=""),Fe++}}function be(ce,de){return ce.scope&&typeof ce.scope=="string"&&Ze.openNode(j.classNameAliases[ce.scope]||ce.scope),ce.beginScope&&(ce.beginScope._wrap?(Ze.addKeyword(Le,j.classNameAliases[ce.beginScope._wrap]||ce.beginScope._wrap),Le=""):ce.beginScope._multi&&(Q(ce.beginScope,de),Le="")),ue=Object.create(ce,{parent:{value:ue}}),ue}function fe(ce,de,Fe){let Ue=qit(ce.endRe,Fe);if(Ue){if(ce["on:end"]){const lt=new tj(ce);ce["on:end"](de,lt),lt.isMatchIgnored&&(Ue=!1)}if(Ue){for(;ce.endsParent&&ce.parent;)ce=ce.parent;return ce}}if(ce.endsWithParent)return fe(ce.parent,de,Fe)}function he(ce){return ue.matcher.regexIndex===0?(Le+=ce[0],1):(ve=!0,0)}function Ee(ce){const de=ce[0],Fe=ce.rule,Ue=new tj(Fe),lt=[Fe.__beforeBegin,Fe["on:begin"]];for(const ut of lt)if(!!ut&&(ut(ce,Ue),Ue.isMatchIgnored))return he(de);return Fe.skip?Le+=de:(Fe.excludeBegin&&(Le+=de),ee(),!Fe.returnBegin&&!Fe.excludeBegin&&(Le=de)),be(Fe,ce),Fe.returnBegin?0:de.length}function He(ce){const de=ce[0],Fe=G.substr(ce.index),Ue=fe(ue,ce,Fe);if(!Ue)return oj;const lt=ue;ue.endScope&&ue.endScope._wrap?(ee(),Ze.addKeyword(de,ue.endScope._wrap)):ue.endScope&&ue.endScope._multi?(ee(),Q(ue.endScope,ce)):lt.skip?Le+=de:(lt.returnEnd||lt.excludeEnd||(Le+=de),ee(),lt.excludeEnd&&(Le=de));do ue.scope&&Ze.closeNode(),!ue.skip&&!ue.subLanguage&&(se+=ue.relevance),ue=ue.parent;while(ue!==Ue.parent);return Ue.starts&&be(Ue.starts,ce),lt.returnEnd?0:de.length}function nt(){const ce=[];for(let de=ue;de!==j;de=de.parent)de.scope&&ce.unshift(de.scope);ce.forEach(de=>Ze.openNode(de))}let st={};function z(ce,de){const Fe=de&&de[0];if(Le+=ce,Fe==null)return ee(),0;if(st.type==="begin"&&de.type==="end"&&st.index===de.index&&Fe===""){if(Le+=G.slice(de.index,de.index+1),!i){const Ue=new Error(`0 width match regex (${N})`);throw Ue.languageName=N,Ue.badRule=st.rule,Ue}return 1}if(st=de,de.type==="begin")return Ee(de);if(de.type==="illegal"&&!L){const Ue=new Error('Illegal lexeme "'+Fe+'" for mode "'+(ue.scope||"<unnamed>")+'"');throw Ue.mode=ue,Ue}else if(de.type==="end"){const Ue=He(de);if(Ue!==oj)return Ue}if(de.type==="illegal"&&Fe==="")return 1;if(Y>1e5&&Y>de.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Le+=Fe,Fe.length}const j=k(N);if(!j)throw gg(a.replace("{}",N)),new Error('Unknown language: "'+N+'"');const X=Mat(j);let ae="",ue=F||X;const Be={},Ze=new s.__emitter(s);nt();let Le="",se=0,Se=0,Y=0,ve=!1;try{for(ue.matcher.considerAll();;){Y++,ve?ve=!1:ue.matcher.considerAll(),ue.matcher.lastIndex=Se;const ce=ue.matcher.exec(G);if(!ce)break;const de=G.substring(Se,ce.index),Fe=z(de,ce);Se=ce.index+Fe}return z(G.substr(Se)),Ze.closeAllNodes(),Ze.finalize(),ae=Ze.toHTML(),{language:N,value:ae,relevance:se,illegal:!1,_emitter:Ze,_top:ue}}catch(ce){if(ce.message&&ce.message.includes("Illegal"))return{language:N,value:aR(G),illegal:!0,relevance:0,_illegalBy:{message:ce.message,index:Se,context:G.slice(Se-100,Se+100),mode:ce.mode,resultSoFar:ae},_emitter:Ze};if(i)return{language:N,value:aR(G),illegal:!1,relevance:0,errorRaised:ce,_emitter:Ze,_top:ue};throw ce}}function d(N){const G={value:aR(N),illegal:!1,relevance:0,_top:o,_emitter:new s.__emitter(s)};return G._emitter.addText(N),G}function h(N,G){G=G||s.languages||Object.keys(t);const L=d(N),F=G.filter(k).filter(I).map(ee=>f(ee,N,!1));F.unshift(L);const W=F.sort((ee,Q)=>{if(ee.relevance!==Q.relevance)return Q.relevance-ee.relevance;if(ee.language&&Q.language){if(k(ee.language).supersetOf===Q.language)return 1;if(k(Q.language).supersetOf===ee.language)return-1}return 0}),[H,K]=W,ie=H;return ie.secondBest=K,ie}function v(N,G,L){const F=G&&e[G]||L;N.classList.add("hljs"),N.classList.add(`language-${F}`)}function p(N){let G=null;const L=u(N);if(l(L))return;if(B("before:highlightElement",{el:N,language:L}),N.children.length>0&&(s.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(N)),s.throwUnescapedHTML))throw new Rat("One of your code blocks includes unescaped HTML.",N.innerHTML);G=N;const F=G.textContent,W=L?c(F,{language:L,ignoreIllegals:!0}):h(F);N.innerHTML=W.value,v(N,L,W.language),N.result={language:W.language,re:W.relevance,relevance:W.relevance},W.secondBest&&(N.secondBest={language:W.secondBest.language,relevance:W.secondBest.relevance}),B("after:highlightElement",{el:N,result:W,text:F})}function g(N){s=aj(s,N)}const m=()=>{w(),wy("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function y(){w(),wy("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let b=!1;function w(){if(document.readyState==="loading"){b=!0;return}document.querySelectorAll(s.cssSelector).forEach(p)}function S(){b&&w()}typeof window!="undefined"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",S,!1);function E(N,G){let L=null;try{L=G(r)}catch(F){if(gg("Language definition for '{}' could not be registered.".replace("{}",N)),i)gg(F);else throw F;L=o}L.name||(L.name=N),t[N]=L,L.rawDefinition=G.bind(null,r),L.aliases&&T(L.aliases,{languageName:N})}function _(N){delete t[N];for(const G of Object.keys(e))e[G]===N&&delete e[G]}function A(){return Object.keys(t)}function k(N){return N=(N||"").toLowerCase(),t[N]||t[e[N]]}function T(N,{languageName:G}){typeof N=="string"&&(N=[N]),N.forEach(L=>{e[L.toLowerCase()]=G})}function I(N){const G=k(N);return G&&!G.disableAutodetect}function D(N){N["before:highlightBlock"]&&!N["before:highlightElement"]&&(N["before:highlightElement"]=G=>{N["before:highlightBlock"](Object.assign({block:G.el},G))}),N["after:highlightBlock"]&&!N["after:highlightElement"]&&(N["after:highlightElement"]=G=>{N["after:highlightBlock"](Object.assign({block:G.el},G))})}function O(N){D(N),n.push(N)}function B(N,G){const L=N;n.forEach(function(F){F[L]&&F[L](G)})}function U(N){return wy("10.7.0","highlightBlock will be removed entirely in v12.0"),wy("10.7.0","Please use highlightElement now."),p(N)}Object.assign(r,{highlight:c,highlightAuto:h,highlightAll:w,highlightElement:p,highlightBlock:U,configure:g,initHighlighting:m,initHighlightingOnLoad:y,registerLanguage:E,unregisterLanguage:_,listLanguages:A,getLanguage:k,registerAliases:T,autoDetection:I,inherit:aj,addPlugin:O}),r.debugMode=function(){i=!1},r.safeMode=function(){i=!0},r.versionString=Pat,r.regex={concat:sm,lookahead:Pae,either:n3,optional:Yit,anyNumberOfTimes:jit};for(const N in M2)typeof M2[N]=="object"&&Git(M2[N]);return Object.assign(r,M2),r};var Yw=Oat({}),gst=Yw;Yw.HighlightJS=Yw;Yw.default=Yw;const sj="[A-Za-z$_][0-9A-Za-z$_]*",Lat=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],Fat=["true","false","null","undefined","NaN","Infinity"],$ae=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Gae=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Uae=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Nat=["arguments","this","super","console","window","document","localStorage","module","global"],Bat=[].concat(Uae,$ae,Gae);function mst(r){const t=r.regex,e=(G,{after:L})=>{const F="</"+G[0].slice(1);return G.input.indexOf(F,L)!==-1},n=sj,i={begin:"<>",end:"</>"},a=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(G,L)=>{const F=G[0].length+G.index,W=G.input[F];if(W==="<"||W===","){L.ignoreMatch();return}W===">"&&(e(G,{after:F})||L.ignoreMatch());let H;if((H=G.input.substr(F).match(/^\s+extends\s+/))&&H.index===0){L.ignoreMatch();return}}},s={$pattern:sj,keyword:Lat,literal:Fat,built_in:Bat,"variable.language":Nat},l="[0-9](_?[0-9])*",u=`\\.(${l})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${c})((${u})|\\.)?|(${u}))[eE][+-]?(${l})\\b`},{begin:`\\b(${c})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},h={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[r.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},v={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[r.BACKSLASH_ESCAPE,d],subLanguage:"css"}},p={className:"string",begin:"`",end:"`",contains:[r.BACKSLASH_ESCAPE,d]},g=r.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),m={className:"comment",variants:[g,r.C_BLOCK_COMMENT_MODE,r.C_LINE_COMMENT_MODE]},y=[r.APOS_STRING_MODE,r.QUOTE_STRING_MODE,h,v,p,f];d.contains=y.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(y)});const b=[].concat(m,d.contains),w=b.concat([{begin:/\(/,end:/\)/,keywords:s,contains:["self"].concat(b)}]),S={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:w},E={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},_={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...$ae,...Gae]}},A={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},k={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},T={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function I(G){return t.concat("(?!",G.join("|"),")")}const D={match:t.concat(/\b/,I([...Uae,"super"]),n,t.lookahead(/\(/)),className:"title.function",relevance:0},O={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},B={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},U="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+r.UNDERSCORE_IDENT_RE+")\\s*=>",N={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(U)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:w,CLASS_REFERENCE:_},illegal:/#(?![$_A-z])/,contains:[r.SHEBANG({label:"shebang",binary:"node",relevance:5}),A,r.APOS_STRING_MODE,r.QUOTE_STRING_MODE,h,v,p,m,f,_,{className:"attr",begin:n+t.lookahead(":"),relevance:0},N,{begin:"("+r.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[m,r.REGEXP_MODE,{className:"function",begin:U,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:r.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:w}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:a},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},k,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+r.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,r.inherit(r.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},O,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},D,T,E,B,{match:/\$[(.]/}]}}const zat=r=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:r.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[r.APOS_STRING_MODE,r.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:r.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),$at=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Gat=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Uat=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Hat=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Vat=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-height","max-width","min-height","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function yst(r){const t=r.regex,e=zat(r),n={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",a=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",s=[r.APOS_STRING_MODE,r.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[e.BLOCK_COMMENT,n,e.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Uat.join("|")+")"},{begin:":(:)?("+Hat.join("|")+")"}]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Vat.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[e.BLOCK_COMMENT,e.HEXCOLOR,e.IMPORTANT,e.CSS_NUMBER_MODE,...s,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},e.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:a},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:Gat.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...s,e.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+$at.join("|")+")\\b"}]}}const Wat=r=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:r.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[r.APOS_STRING_MODE,r.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:r.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),jat=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Yat=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Hae=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Vae=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Xat=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-height","max-width","min-height","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse(),qat=Hae.concat(Vae);function bst(r){const t=Wat(r),e=qat,n="and or not only",i="[\\w-]+",a="("+i+"|@\\{"+i+"\\})",o=[],s=[],l=function(b){return{className:"string",begin:"~?"+b+".*?"+b}},u=function(b,w,S){return{className:b,begin:w,relevance:S}},c={$pattern:/[a-z-]+/,keyword:n,attribute:Yat.join(" ")},f={begin:"\\(",end:"\\)",contains:s,keywords:c,relevance:0};s.push(r.C_LINE_COMMENT_MODE,r.C_BLOCK_COMMENT_MODE,l("'"),l('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,f,u("variable","@@?"+i,10),u("variable","@\\{"+i+"\\}"),u("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT);const d=s.concat({begin:/\{/,end:/\}/,contains:o}),h={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(s)},v={begin:a+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Xat.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:s}}]},p={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:c,returnEnd:!0,contains:s,relevance:0}},g={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:d}},m={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:a,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[r.C_LINE_COMMENT_MODE,r.C_BLOCK_COMMENT_MODE,h,u("keyword","all\\b"),u("variable","@\\{"+i+"\\}"),{begin:"\\b("+jat.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,u("selector-tag",a,0),u("selector-id","#"+a),u("selector-class","\\."+a,0),u("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+Hae.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+Vae.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:d},{begin:"!important"},t.FUNCTION_DISPATCH]},y={begin:i+`:(:)?(${e.join("|")})`,returnBegin:!0,contains:[m]};return o.push(r.C_LINE_COMMENT_MODE,r.C_BLOCK_COMMENT_MODE,p,g,y,v,m),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:o}}const Kat=r=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:r.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[r.APOS_STRING_MODE,r.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:r.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),Zat=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Qat=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Jat=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],eot=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],tot=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-height","max-width","min-height","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function xst(r){const t=Kat(r),e=eot,n=Jat,i="@[a-z-]+",a="and or not only",s={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b"};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[r.C_LINE_COMMENT_MODE,r.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+Zat.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+n.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+e.join("|")+")"},s,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+tot.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,contains:[t.BLOCK_COMMENT,s,t.HEXCOLOR,t.CSS_NUMBER_MODE,r.QUOTE_STRING_MODE,r.APOS_STRING_MODE,t.IMPORTANT]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:a,attribute:Qat.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},s,r.QUOTE_STRING_MODE,r.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}const IT="[A-Za-z$_][0-9A-Za-z$_]*",Wae=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],jae=["true","false","null","undefined","NaN","Infinity"],Yae=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Xae=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],qae=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Kae=["arguments","this","super","console","window","document","localStorage","module","global"],Zae=[].concat(qae,Yae,Xae);function rot(r){const t=r.regex,e=(G,{after:L})=>{const F="</"+G[0].slice(1);return G.input.indexOf(F,L)!==-1},n=IT,i={begin:"<>",end:"</>"},a=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(G,L)=>{const F=G[0].length+G.index,W=G.input[F];if(W==="<"||W===","){L.ignoreMatch();return}W===">"&&(e(G,{after:F})||L.ignoreMatch());let H;if((H=G.input.substr(F).match(/^\s+extends\s+/))&&H.index===0){L.ignoreMatch();return}}},s={$pattern:IT,keyword:Wae,literal:jae,built_in:Zae,"variable.language":Kae},l="[0-9](_?[0-9])*",u=`\\.(${l})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${c})((${u})|\\.)?|(${u}))[eE][+-]?(${l})\\b`},{begin:`\\b(${c})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},h={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[r.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},v={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[r.BACKSLASH_ESCAPE,d],subLanguage:"css"}},p={className:"string",begin:"`",end:"`",contains:[r.BACKSLASH_ESCAPE,d]},g=r.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),m={className:"comment",variants:[g,r.C_BLOCK_COMMENT_MODE,r.C_LINE_COMMENT_MODE]},y=[r.APOS_STRING_MODE,r.QUOTE_STRING_MODE,h,v,p,f];d.contains=y.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(y)});const b=[].concat(m,d.contains),w=b.concat([{begin:/\(/,end:/\)/,keywords:s,contains:["self"].concat(b)}]),S={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:w},E={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},_={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Yae,...Xae]}},A={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},k={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},T={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function I(G){return t.concat("(?!",G.join("|"),")")}const D={match:t.concat(/\b/,I([...qae,"super"]),n,t.lookahead(/\(/)),className:"title.function",relevance:0},O={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},B={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},U="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+r.UNDERSCORE_IDENT_RE+")\\s*=>",N={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(U)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:w,CLASS_REFERENCE:_},illegal:/#(?![$_A-z])/,contains:[r.SHEBANG({label:"shebang",binary:"node",relevance:5}),A,r.APOS_STRING_MODE,r.QUOTE_STRING_MODE,h,v,p,m,f,_,{className:"attr",begin:n+t.lookahead(":"),relevance:0},N,{begin:"("+r.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[m,r.REGEXP_MODE,{className:"function",begin:U,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:r.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:w}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:a},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},k,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+r.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,r.inherit(r.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},O,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},D,T,E,B,{match:/\$[(.]/}]}}function wst(r){const t=rot(r),e=IT,n=["any","void","number","boolean","string","object","never","enum"],i={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[t.exports.CLASS_REFERENCE]},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:n},contains:[t.exports.CLASS_REFERENCE]},o={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},s=["type","namespace","typedef","interface","public","private","protected","implements","declare","abstract","readonly"],l={$pattern:IT,keyword:Wae.concat(s),literal:jae,built_in:Zae.concat(n),"variable.language":Kae},u={className:"meta",begin:"@"+e},c=(d,h,v)=>{const p=d.contains.findIndex(g=>g.label===h);if(p===-1)throw new Error("can not find mode to replace");d.contains.splice(p,1,v)};Object.assign(t.keywords,l),t.exports.PARAMS_CONTAINS.push(u),t.contains=t.contains.concat([u,i,a]),c(t,"shebang",r.SHEBANG()),c(t,"use_strict",o);const f=t.contains.find(d=>d.label==="func.def");return f.relevance=0,Object.assign(t,{name:"TypeScript",aliases:["ts","tsx"]}),t}function Sst(r){const t=r.regex,e={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},n={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},a={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},s=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,s,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}/,end:/_{2}/},{begin:/\*{2}/,end:/\*{2}/}]},c={className:"emphasis",contains:[],variants:[{begin:/\*(?!\*)/,end:/\*/},{begin:/_(?!_)/,end:/_/,relevance:0}]};u.contains.push(c),c.contains.push(u);let f=[e,l];return u.contains=u.contains.concat(f),c.contains=c.contains.concat(f),f=f.concat(u,c),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:f},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:f}]}]},e,a,u,c,{className:"quote",begin:"^>\\s+",contains:f,end:"$"},i,n,l,o]}}const not={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},iot=vi("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M344 280l88-88"},null,-1),aot=vi("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M232 216l64 64"},null,-1),oot=vi("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M80 320l104-104"},null,-1),sot=vi("circle",{cx:"456",cy:"168",r:"24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),lot=vi("circle",{cx:"320",cy:"304",r:"24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),uot=vi("circle",{cx:"208",cy:"192",r:"24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),cot=vi("circle",{cx:"56",cy:"344",r:"24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1);var Cst=It({name:"AnalyticsOutline",render:function(t,e){return F0(),N0("svg",not,[iot,aot,oot,sot,lot,uot,cot])}});const fot={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},dot=vi("path",{d:"M480 496H48a32 32 0 0 1-32-32V32a16 16 0 0 1 32 0v432h432a16 16 0 0 1 0 32z",fill:"currentColor"},null,-1),hot=vi("path",{d:"M156 432h-40a36 36 0 0 1-36-36V244a36 36 0 0 1 36-36h40a36 36 0 0 1 36 36v152a36 36 0 0 1-36 36z",fill:"currentColor"},null,-1),vot=vi("path",{d:"M300 432h-40a36 36 0 0 1-36-36V196a36 36 0 0 1 36-36h40a36 36 0 0 1 36 36v200a36 36 0 0 1-36 36z",fill:"currentColor"},null,-1),pot=vi("path",{d:"M443.64 432h-40a36 36 0 0 1-36-36V132a36 36 0 0 1 36-36h40a36 36 0 0 1 36 36v264a36 36 0 0 1-36 36z",fill:"currentColor"},null,-1);var Est=It({name:"BarChart",render:function(t,e){return F0(),N0("svg",fot,[dot,hot,vot,pot])}});const got={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},mot=vi("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M160 144h288"},null,-1),yot=vi("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M160 256h288"},null,-1),bot=vi("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M160 368h288"},null,-1),xot=vi("circle",{cx:"80",cy:"144",r:"16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),wot=vi("circle",{cx:"80",cy:"256",r:"16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Sot=vi("circle",{cx:"80",cy:"368",r:"16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1);var _st=It({name:"List",render:function(t,e){return F0(),N0("svg",got,[mot,yot,bot,xot,wot,Sot])}});const Cot={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Eot=vi("path",{d:"M227.6 213.1H256v57.1h-28.4z",fill:"currentColor"},null,-1),_ot=vi("path",{d:"M0 156v171.4h142.2V356H256v-28.6h256V156zm142.2 142.9h-28.4v-85.7H85.3v85.7H28.4V184.6h113.8zm142.2 0h-56.9v28.6h-56.9V184.6h113.8zm199.2 0h-28.4v-85.7h-28.4v85.7h-28.4v-85.7H370v85.7h-56.9V184.6h170.7v114.3z",fill:"currentColor"},null,-1);var Tst=It({name:"LogoNpm",render:function(t,e){return F0(),N0("svg",Cot,[Eot,_ot])}});export{kv as $,Tot as A,Swe as B,zqe as C,Aot as D,kot as E,qi as F,EVe as G,Gl as H,J1 as I,R as J,Wo as K,MCe as L,fst as M,lst as N,tst as O,aKe as P,rst as Q,sst as R,ost as S,dst as T,jot as U,Qot as V,Eg as W,Zot as X,Yot as Y,Pwe as Z,qot as _,It as a,pst as a0,Pot as a1,gst as a2,mst as a3,yst as a4,bst as a5,xst as a6,wst as a7,Sst as a8,Got as a9,Hot as aa,Uot as ab,Wot as ac,vst as ad,Go as ae,nst as af,Fot as ag,$g as ah,Cst as ai,ySe as aj,Est as ak,_st as al,Tst as am,Jot as an,est as ao,Lot as ap,Oot as aq,Xot as ar,ist as as,Vot as at,Dot as au,Zwe as b,tSe as c,hst as d,ust as e,cst as f,Kot as g,zot as h,Bot as i,re as j,Mot as k,Iot as l,cL as m,Ja as n,Io as o,vi as p,Ece as q,Re as r,F0 as s,nY as t,ast as u,Rot as v,hn as w,Not as x,i0 as y,N0 as z};
